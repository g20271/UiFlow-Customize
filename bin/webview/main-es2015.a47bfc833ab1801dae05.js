(self.webpackChunkm5_flow=self.webpackChunkm5_flow||[]).push([[179],{98255:function(e){function t(e){return Promise.resolve().then(function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t})}t.keys=function(){return[]},t.resolve=t,t.id=98255,e.exports=t},17238:function(e,t,i){"use strict";i.d(t,{l3:function(){return r},_j:function(){return n},LC:function(){return o},ZN:function(){return p},jt:function(){return a},vP:function(){return l},SB:function(){return h},oB:function(){return c},eR:function(){return u},X$:function(){return s},ZE:function(){return g},k1:function(){return f}});class n{}class o{}const r="*";function s(e,t){return{type:7,name:e,definitions:t,options:{}}}function a(e,t=null){return{type:4,styles:t,timings:e}}function l(e,t=null){return{type:2,steps:e,options:t}}function c(e){return{type:6,styles:e,offset:null}}function h(e,t,i){return{type:0,name:e,styles:t,options:i}}function u(e,t,i=null){return{type:1,expr:e,animation:t,options:i}}function d(e){Promise.resolve(null).then(e)}class p{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){d(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(e=>e()),t.length=0}}class g{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,n=0;const o=this.players.length;0==o?d(()=>this._onFinish()):this.players.forEach(e=>{e.onDone(()=>{++t==o&&this._onFinish()}),e.onDestroy(()=>{++i==o&&this._onDestroy()}),e.onStart(()=>{++n==o&&this._onStart()})}),this.totalTime=this.players.reduce((e,t)=>Math.max(e,t.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(e=>{const i=e.totalTime?Math.min(1,t/e.totalTime):1;e.setPosition(i)})}getPosition(){const e=this.players.reduce((e,t)=>null===e||t.totalTime>e.totalTime?t:e,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(e=>e()),t.length=0}}const f="!"},38583:function(e,t,i){"use strict";i.d(t,{mr:function(){return b},Ov:function(){return Y},ez:function(){return X},K0:function(){return l},Do:function(){return A},V_:function(){return u},Ye:function(){return x},S$:function(){return v},mk:function(){return O},sg:function(){return P},O5:function(){return q},PC:function(){return H},RF:function(){return D},n9:function(){return N},ED:function(){return F},tP:function(){return $},b0:function(){return w},lw:function(){return c},gd:function(){return j},EM:function(){return ee},JF:function(){return ne},NF:function(){return Q},w_:function(){return a},bD:function(){return J},q:function(){return r},Mx:function(){return M},HT:function(){return s}});var n=i(37716);let o=null;function r(){return o}function s(e){o||(o=e)}class a{}const l=new n.OlP("DocumentToken");let c=(()=>{class e{historyGo(e){throw new Error("Not implemented")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=(0,n.Yz7)({factory:h,token:e,providedIn:"platform"}),e})();function h(){return(0,n.LFG)(d)}const u=new n.OlP("Location Initialized");let d=(()=>{class e extends c{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return r().getBaseHref(this._doc)}onPopState(e){const t=r().getGlobalEventTarget(this._doc,"window");return t.addEventListener("popstate",e,!1),()=>t.removeEventListener("popstate",e)}onHashChange(e){const t=r().getGlobalEventTarget(this._doc,"window");return t.addEventListener("hashchange",e,!1),()=>t.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,t,i){p()?this._history.pushState(e,t,i):this.location.hash=i}replaceState(e,t,i){p()?this._history.replaceState(e,t,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return e.\u0275fac=function(t){return new(t||e)(n.LFG(l))},e.\u0275prov=(0,n.Yz7)({factory:g,token:e,providedIn:"platform"}),e})();function p(){return!!window.history.pushState}function g(){return new d((0,n.LFG)(l))}function f(e,t){if(0==e.length)return t;if(0==t.length)return e;let i=0;return e.endsWith("/")&&i++,t.startsWith("/")&&i++,2==i?e+t.substring(1):1==i?e+t:e+"/"+t}function m(e){const t=e.match(/#|\?|$/),i=t&&t.index||e.length;return e.slice(0,i-("/"===e[i-1]?1:0))+e.slice(i)}function _(e){return e&&"?"!==e[0]?"?"+e:e}let v=(()=>{class e{historyGo(e){throw new Error("Not implemented")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=(0,n.Yz7)({factory:y,token:e,providedIn:"root"}),e})();function y(e){const t=(0,n.LFG)(l).location;return new w((0,n.LFG)(c),t&&t.origin||"")}const b=new n.OlP("appBaseHref");let w=(()=>{class e extends v{constructor(e,t){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==t&&(t=this._platformLocation.getBaseHrefFromDOM()),null==t)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=t}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return f(this._baseHref,e)}path(e=!1){const t=this._platformLocation.pathname+_(this._platformLocation.search),i=this._platformLocation.hash;return i&&e?`${t}${i}`:t}pushState(e,t,i,n){const o=this.prepareExternalUrl(i+_(n));this._platformLocation.pushState(e,t,o)}replaceState(e,t,i,n){const o=this.prepareExternalUrl(i+_(n));this._platformLocation.replaceState(e,t,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var t,i;null===(i=(t=this._platformLocation).historyGo)||void 0===i||i.call(t,e)}}return e.\u0275fac=function(t){return new(t||e)(n.LFG(c),n.LFG(b,8))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})(),A=(()=>{class e extends v{constructor(e,t){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=t&&(this._baseHref=t)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let t=this._platformLocation.hash;return null==t&&(t="#"),t.length>0?t.substring(1):t}prepareExternalUrl(e){const t=f(this._baseHref,e);return t.length>0?"#"+t:t}pushState(e,t,i,n){let o=this.prepareExternalUrl(i+_(n));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(e,t,o)}replaceState(e,t,i,n){let o=this.prepareExternalUrl(i+_(n));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(e,t,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var t,i;null===(i=(t=this._platformLocation).historyGo)||void 0===i||i.call(t,e)}}return e.\u0275fac=function(t){return new(t||e)(n.LFG(c),n.LFG(b,8))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})(),x=(()=>{class e{constructor(e,t){this._subject=new n.vpe,this._urlChangeListeners=[],this._platformStrategy=e;const i=this._platformStrategy.getBaseHref();this._platformLocation=t,this._baseHref=m(C(i)),this._platformStrategy.onPopState(e=>{this._subject.emit({url:this.path(!0),pop:!0,state:e.state,type:e.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,t=""){return this.path()==this.normalize(e+_(t))}normalize(t){return e.stripTrailingSlash(function(e,t){return e&&t.startsWith(e)?t.substring(e.length):t}(this._baseHref,C(t)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,t="",i=null){this._platformStrategy.pushState(i,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+_(t)),i)}replaceState(e,t="",i=null){this._platformStrategy.replaceState(i,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+_(t)),i)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var t,i;null===(i=(t=this._platformStrategy).historyGo)||void 0===i||i.call(t,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(e=>{this._notifyUrlChangeListeners(e.url,e.state)}))}_notifyUrlChangeListeners(e="",t){this._urlChangeListeners.forEach(i=>i(e,t))}subscribe(e,t,i){return this._subject.subscribe({next:e,error:t,complete:i})}}return e.\u0275fac=function(t){return new(t||e)(n.LFG(v),n.LFG(c))},e.normalizeQueryParams=_,e.joinWithSlash=f,e.stripTrailingSlash=m,e.\u0275prov=(0,n.Yz7)({factory:T,token:e,providedIn:"root"}),e})();function T(){return new x((0,n.LFG)(v),(0,n.LFG)(c))}function C(e){return e.replace(/\/index.html$/,"")}var Z=(()=>((Z=Z||{})[Z.Zero=0]="Zero",Z[Z.One=1]="One",Z[Z.Two=2]="Two",Z[Z.Few=3]="Few",Z[Z.Many=4]="Many",Z[Z.Other=5]="Other",Z))();const k=n.kL8;class S{}let E=(()=>{class e extends S{constructor(e){super(),this.locale=e}getPluralCategory(e,t){switch(k(t||this.locale)(e)){case Z.Zero:return"zero";case Z.One:return"one";case Z.Two:return"two";case Z.Few:return"few";case Z.Many:return"many";default:return"other"}}}return e.\u0275fac=function(t){return new(t||e)(n.LFG(n.soG))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})();function M(e,t){t=encodeURIComponent(t);for(const i of e.split(";")){const e=i.indexOf("="),[n,o]=-1==e?[i,""]:[i.slice(0,e),i.slice(e+1)];if(n.trim()===t)return decodeURIComponent(o)}return null}let O=(()=>{class e{constructor(e,t,i,n){this._iterableDiffers=e,this._keyValueDiffers=t,this._ngEl=i,this._renderer=n,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&((0,n.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(e=>this._toggleClass(e.key,e.currentValue)),e.forEachChangedItem(e=>this._toggleClass(e.key,e.currentValue)),e.forEachRemovedItem(e=>{e.previousValue&&this._toggleClass(e.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(e=>{if("string"!=typeof e.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,n.AaK)(e.item)}`);this._toggleClass(e.item,!0)}),e.forEachRemovedItem(e=>this._toggleClass(e.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(e=>this._toggleClass(e,!0)):Object.keys(e).forEach(t=>this._toggleClass(t,!!e[t])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(e=>this._toggleClass(e,!1)):Object.keys(e).forEach(e=>this._toggleClass(e,!1)))}_toggleClass(e,t){(e=e.trim())&&e.split(/\s+/g).forEach(e=>{t?this._renderer.addClass(this._ngEl.nativeElement,e):this._renderer.removeClass(this._ngEl.nativeElement,e)})}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(n.ZZ4),n.Y36(n.aQg),n.Y36(n.SBq),n.Y36(n.Qsj))},e.\u0275dir=n.lG2({type:e,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),e})();class I{constructor(e,t,i,n){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=n}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let P=(()=>{class e{constructor(e,t,i){this._viewContainer=e,this._template=t,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;if(!this._differ&&t)try{this._differ=this._differs.find(t).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${t}' of type '${function(e){return e.name||typeof e}(t)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const t=[];e.forEachOperation((e,i,n)=>{if(null==e.previousIndex){const i=this._viewContainer.createEmbeddedView(this._template,new I(null,this._ngForOf,-1,-1),null===n?void 0:n),o=new R(e,i);t.push(o)}else if(null==n)this._viewContainer.remove(null===i?void 0:i);else if(null!==i){const o=this._viewContainer.get(i);this._viewContainer.move(o,n);const r=new R(e,o);t.push(r)}});for(let i=0;i<t.length;i++)this._perViewChange(t[i].view,t[i].record);for(let i=0,n=this._viewContainer.length;i<n;i++){const e=this._viewContainer.get(i);e.context.index=i,e.context.count=n,e.context.ngForOf=this._ngForOf}e.forEachIdentityChange(e=>{this._viewContainer.get(e.currentIndex).context.$implicit=e.item})}_perViewChange(e,t){e.context.$implicit=t.item}static ngTemplateContextGuard(e,t){return!0}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(n.s_b),n.Y36(n.Rgc),n.Y36(n.ZZ4))},e.\u0275dir=n.lG2({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),e})();class R{constructor(e,t){this.record=e,this.view=t}}let q=(()=>{class e{constructor(e,t){this._viewContainer=e,this._context=new L,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=t}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){U("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){U("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,t){return!0}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(n.s_b),n.Y36(n.Rgc))},e.\u0275dir=n.lG2({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),e})();class L{constructor(){this.$implicit=null,this.ngIf=null}}function U(e,t){if(t&&!t.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${(0,n.AaK)(t)}'.`)}class B{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let D=(()=>{class e{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const t=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||t,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),t}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let t=0;t<this._defaultViews.length;t++)this._defaultViews[t].enforceState(e)}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=n.lG2({type:e,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),e})(),N=(()=>{class e{constructor(e,t,i){this.ngSwitch=i,i._addCase(),this._view=new B(e,t)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(n.s_b),n.Y36(n.Rgc),n.Y36(D,9))},e.\u0275dir=n.lG2({type:e,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),e})(),F=(()=>{class e{constructor(e,t,i){i._addDefault(new B(e,t))}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(n.s_b),n.Y36(n.Rgc),n.Y36(D,9))},e.\u0275dir=n.lG2({type:e,selectors:[["","ngSwitchDefault",""]]}),e})(),H=(()=>{class e{constructor(e,t,i){this._ngEl=e,this._differs=t,this._renderer=i,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,t){const[i,n]=e.split(".");null!=(t=null!=t&&n?`${t}${n}`:t)?this._renderer.setStyle(this._ngEl.nativeElement,i,t):this._renderer.removeStyle(this._ngEl.nativeElement,i)}_applyChanges(e){e.forEachRemovedItem(e=>this._setStyle(e.key,null)),e.forEachAddedItem(e=>this._setStyle(e.key,e.currentValue)),e.forEachChangedItem(e=>this._setStyle(e.key,e.currentValue))}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(n.SBq),n.Y36(n.aQg),n.Y36(n.Qsj))},e.\u0275dir=n.lG2({type:e,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),e})(),$=(()=>{class e{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(e){if(e.ngTemplateOutlet){const e=this._viewContainerRef;this._viewRef&&e.remove(e.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?e.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(n.s_b))},e.\u0275dir=n.lG2({type:e,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[n.TTD]}),e})();function z(e,t){return Error(`InvalidPipeArgument: '${t}' for pipe '${(0,n.AaK)(e)}'`)}class V{createSubscription(e,t){return e.subscribe({next:t,error:e=>{throw e}})}dispose(e){e.unsubscribe()}onDestroy(e){e.unsubscribe()}}class K{createSubscription(e,t){return e.then(t,e=>{throw e})}dispose(e){}onDestroy(e){}}const W=new K,G=new V;let Y=(()=>{class e{constructor(e){this._ref=e,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,t=>this._updateLatestValue(e,t))}_selectStrategy(t){if((0,n.QGY)(t))return W;if((0,n.F4k)(t))return G;throw z(e,t)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,t){e===this._obj&&(this._latestValue=t,this._ref.markForCheck())}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(n.sBO,16))},e.\u0275pipe=n.Yjl({name:"async",type:e,pure:!1}),e})(),j=(()=>{class e{transform(t){if(null==t)return null;if("string"!=typeof t)throw z(e,t);return t.toUpperCase()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=n.Yjl({name:"uppercase",type:e,pure:!0}),e})(),X=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({providers:[{provide:S,useClass:E}]}),e})();const J="browser";function Q(e){return e===J}let ee=(()=>{class e{}return e.\u0275prov=(0,n.Yz7)({token:e,providedIn:"root",factory:()=>new te((0,n.LFG)(l),window)}),e})();class te{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function(e,t){const i=e.getElementById(t)||e.getElementsByName(t)[0];if(i)return i;if("function"==typeof e.createTreeWalker&&e.body&&(e.body.createShadowRoot||e.body.attachShadow)){const i=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let n=i.currentNode;for(;n;){const e=n.shadowRoot;if(e){const i=e.getElementById(t)||e.querySelector(`[name="${t}"]`);if(i)return i}n=i.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),this.attemptFocus(t))}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,n=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],n-o[1])}attemptFocus(e){return e.focus(),this.document.activeElement===e}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=ie(this.window.history)||ie(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function ie(e){return Object.getOwnPropertyDescriptor(e,"scrollRestoration")}class ne{}},91841:function(e,t,i){"use strict";i.d(t,{TP:function(){return I},eN:function(){return M},JF:function(){return $},WM:function(){return d},aW:function(){return x}});var n=i(38583),o=i(37716),r=i(25917),s=i(18891),a=i(94612),l=i(45435),c=i(88002);class h{}class u{}class d{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(e=>{const t=e.indexOf(":");if(t>0){const i=e.slice(0,t),n=i.toLowerCase(),o=e.slice(t+1).trim();this.maybeSetNormalizedName(i,n),this.headers.has(n)?this.headers.get(n).push(o):this.headers.set(n,[o])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let i=e[t];const n=t.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(n,i),this.maybeSetNormalizedName(t,n))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof d?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new d;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof d?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(e.name,t);const n=("a"===e.op?this.headers.get(t):void 0)||[];n.push(...i),this.headers.set(t,n);break;case"d":const o=e.value;if(o){let e=this.headers.get(t);if(!e)return;e=e.filter(e=>-1===o.indexOf(e)),0===e.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,e)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class p{encodeKey(e){return m(e)}encodeValue(e){return m(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const g=/%(\d[a-f0-9])/gi,f={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function m(e){return encodeURIComponent(e).replace(g,(e,t)=>{var i;return null!==(i=f[t])&&void 0!==i?i:e})}function _(e){return`${e}`}class v{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new p,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(e,t){const i=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(e=>{const n=e.indexOf("="),[o,r]=-1==n?[t.decodeKey(e),""]:[t.decodeKey(e.slice(0,n)),t.decodeValue(e.slice(n+1))],s=i.get(o)||[];s.push(r),i.set(o,s)}),i}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const i=e.fromObject[t];this.map.set(t,Array.isArray(i)?i:[i])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(i=>{const n=e[i];Array.isArray(n)?n.forEach(e=>{t.push({param:i,value:e,op:"a"})}):t.push({param:i,value:n,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(e=>t+"="+this.encoder.encodeValue(e)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new v({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(_(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let t=this.map.get(e.param)||[];const i=t.indexOf(_(e.value));-1!==i&&t.splice(i,1),t.length>0?this.map.set(e.param,t):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class y{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}keys(){return this.map.keys()}}function b(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer}function w(e){return"undefined"!=typeof Blob&&e instanceof Blob}function A(e){return"undefined"!=typeof FormData&&e instanceof FormData}class x{constructor(e,t,i,n){let o;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||n?(this.body=void 0!==i?i:null,o=n):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new d),this.context||(this.context=new y),this.params){const e=this.params.toString();if(0===e.length)this.urlWithParams=t;else{const i=t.indexOf("?");this.urlWithParams=t+(-1===i?"?":i<t.length-1?"&":"")+e}}else this.params=new v,this.urlWithParams=t}serializeBody(){return null===this.body?null:b(this.body)||w(this.body)||A(this.body)||"undefined"!=typeof URLSearchParams&&this.body instanceof URLSearchParams||"string"==typeof this.body?this.body:this.body instanceof v?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||A(this.body)?null:w(this.body)?this.body.type||null:b(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof v?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){var t;const i=e.method||this.method,n=e.url||this.url,o=e.responseType||this.responseType,r=void 0!==e.body?e.body:this.body,s=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let l=e.headers||this.headers,c=e.params||this.params;const h=null!==(t=e.context)&&void 0!==t?t:this.context;return void 0!==e.setHeaders&&(l=Object.keys(e.setHeaders).reduce((t,i)=>t.set(i,e.setHeaders[i]),l)),e.setParams&&(c=Object.keys(e.setParams).reduce((t,i)=>t.set(i,e.setParams[i]),c)),new x(i,n,r,{params:c,headers:l,context:h,reportProgress:a,responseType:o,withCredentials:s})}}var T=(()=>((T=T||{})[T.Sent=0]="Sent",T[T.UploadProgress=1]="UploadProgress",T[T.ResponseHeader=2]="ResponseHeader",T[T.DownloadProgress=3]="DownloadProgress",T[T.Response=4]="Response",T[T.User=5]="User",T))();class C{constructor(e,t=200,i="OK"){this.headers=e.headers||new d,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class Z extends C{constructor(e={}){super(e),this.type=T.ResponseHeader}clone(e={}){return new Z({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class k extends C{constructor(e={}){super(e),this.type=T.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new k({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class S extends C{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function E(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials}}let M=(()=>{class e{constructor(e){this.handler=e}request(e,t,i={}){let n;if(e instanceof x)n=e;else{let o,r;o=i.headers instanceof d?i.headers:new d(i.headers),i.params&&(r=i.params instanceof v?i.params:new v({fromObject:i.params})),n=new x(e,t,void 0!==i.body?i.body:null,{headers:o,context:i.context,params:r,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const o=(0,r.of)(n).pipe((0,a.b)(e=>this.handler.handle(e)));if(e instanceof x||"events"===i.observe)return o;const s=o.pipe((0,l.h)(e=>e instanceof k));switch(i.observe||"body"){case"body":switch(n.responseType){case"arraybuffer":return s.pipe((0,c.U)(e=>{if(null!==e.body&&!(e.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return e.body}));case"blob":return s.pipe((0,c.U)(e=>{if(null!==e.body&&!(e.body instanceof Blob))throw new Error("Response is not a Blob.");return e.body}));case"text":return s.pipe((0,c.U)(e=>{if(null!==e.body&&"string"!=typeof e.body)throw new Error("Response is not a string.");return e.body}));case"json":default:return s.pipe((0,c.U)(e=>e.body))}case"response":return s;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(e,t={}){return this.request("DELETE",e,t)}get(e,t={}){return this.request("GET",e,t)}head(e,t={}){return this.request("HEAD",e,t)}jsonp(e,t){return this.request("JSONP",e,{params:(new v).append(t,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,t={}){return this.request("OPTIONS",e,t)}patch(e,t,i={}){return this.request("PATCH",e,E(i,t))}post(e,t,i={}){return this.request("POST",e,E(i,t))}put(e,t,i={}){return this.request("PUT",e,E(i,t))}}return e.\u0275fac=function(t){return new(t||e)(o.LFG(h))},e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac}),e})();class O{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const I=new o.OlP("HTTP_INTERCEPTORS");let P=(()=>{class e{intercept(e,t){return t.handle(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac}),e})();const R=/^\)\]\}',?\n/;let q=(()=>{class e{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new s.y(t=>{const i=this.xhrFactory.build();if(i.open(e.method,e.urlWithParams),e.withCredentials&&(i.withCredentials=!0),e.headers.forEach((e,t)=>i.setRequestHeader(e,t.join(","))),e.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const t=e.detectContentTypeHeader();null!==t&&i.setRequestHeader("Content-Type",t)}if(e.responseType){const t=e.responseType.toLowerCase();i.responseType="json"!==t?t:"text"}const n=e.serializeBody();let o=null;const r=()=>{if(null!==o)return o;const t=1223===i.status?204:i.status,n=i.statusText||"OK",r=new d(i.getAllResponseHeaders()),s=function(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(i)||e.url;return o=new Z({headers:r,status:t,statusText:n,url:s}),o},s=()=>{let{headers:n,status:o,statusText:s,url:a}=r(),l=null;204!==o&&(l=void 0===i.response?i.responseText:i.response),0===o&&(o=l?200:0);let c=o>=200&&o<300;if("json"===e.responseType&&"string"==typeof l){const e=l;l=l.replace(R,"");try{l=""!==l?JSON.parse(l):null}catch(h){l=e,c&&(c=!1,l={error:h,text:l})}}c?(t.next(new k({body:l,headers:n,status:o,statusText:s,url:a||void 0})),t.complete()):t.error(new S({error:l,headers:n,status:o,statusText:s,url:a||void 0}))},a=e=>{const{url:n}=r(),o=new S({error:e,status:i.status||0,statusText:i.statusText||"Unknown Error",url:n||void 0});t.error(o)};let l=!1;const c=n=>{l||(t.next(r()),l=!0);let o={type:T.DownloadProgress,loaded:n.loaded};n.lengthComputable&&(o.total=n.total),"text"===e.responseType&&!!i.responseText&&(o.partialText=i.responseText),t.next(o)},h=e=>{let i={type:T.UploadProgress,loaded:e.loaded};e.lengthComputable&&(i.total=e.total),t.next(i)};return i.addEventListener("load",s),i.addEventListener("error",a),i.addEventListener("timeout",a),i.addEventListener("abort",a),e.reportProgress&&(i.addEventListener("progress",c),null!==n&&i.upload&&i.upload.addEventListener("progress",h)),i.send(n),t.next({type:T.Sent}),()=>{i.removeEventListener("error",a),i.removeEventListener("abort",a),i.removeEventListener("load",s),i.removeEventListener("timeout",a),e.reportProgress&&(i.removeEventListener("progress",c),null!==n&&i.upload&&i.upload.removeEventListener("progress",h)),i.readyState!==i.DONE&&i.abort()}})}}return e.\u0275fac=function(t){return new(t||e)(o.LFG(n.JF))},e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac}),e})();const L=new o.OlP("XSRF_COOKIE_NAME"),U=new o.OlP("XSRF_HEADER_NAME");class B{}let D=(()=>{class e{constructor(e,t,i){this.doc=e,this.platform=t,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,n.Mx)(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return e.\u0275fac=function(t){return new(t||e)(o.LFG(n.K0),o.LFG(o.Lbi),o.LFG(L))},e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac}),e})(),N=(()=>{class e{constructor(e,t){this.tokenService=e,this.headerName=t}intercept(e,t){const i=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||i.startsWith("http://")||i.startsWith("https://"))return t.handle(e);const n=this.tokenService.getToken();return null!==n&&!e.headers.has(this.headerName)&&(e=e.clone({headers:e.headers.set(this.headerName,n)})),t.handle(e)}}return e.\u0275fac=function(t){return new(t||e)(o.LFG(B),o.LFG(U))},e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac}),e})(),F=(()=>{class e{constructor(e,t){this.backend=e,this.injector=t,this.chain=null}handle(e){if(null===this.chain){const e=this.injector.get(I,[]);this.chain=e.reduceRight((e,t)=>new O(e,t),this.backend)}return this.chain.handle(e)}}return e.\u0275fac=function(t){return new(t||e)(o.LFG(u),o.LFG(o.zs3))},e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac}),e})(),H=(()=>{class e{static disable(){return{ngModule:e,providers:[{provide:N,useClass:P}]}}static withOptions(t={}){return{ngModule:e,providers:[t.cookieName?{provide:L,useValue:t.cookieName}:[],t.headerName?{provide:U,useValue:t.headerName}:[]]}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({providers:[N,{provide:I,useExisting:N,multi:!0},{provide:B,useClass:D},{provide:L,useValue:"XSRF-TOKEN"},{provide:U,useValue:"X-XSRF-TOKEN"}]}),e})(),$=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({providers:[M,{provide:h,useClass:F},q,{provide:u,useExisting:q}],imports:[[H.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),e})()},37716:function(e,t,i){"use strict";i.d(t,{deG:function(){return si},tb:function(){return Yl},AFp:function(){return zl},ip1:function(){return Hl},CZH:function(){return $l},hGG:function(){return Fc},z2F:function(){return Oc},sBO:function(){return $a},Sil:function(){return sc},_Vd:function(){return pa},EJc:function(){return Jl},SBq:function(){return _a},qLn:function(){return En},vpe:function(){return Al},gxx:function(){return vr},tBr:function(){return Mi},XFs:function(){return M},OlP:function(){return ri},zs3:function(){return Pr},ZZ4:function(){return La},aQg:function(){return Ba},soG:function(){return Xl},YKP:function(){return Qa},v3s:function(){return Pc},h0i:function(){return Ja},PXZ:function(){return Zc},R0b:function(){return cc},FiY:function(){return Oi},Lbi:function(){return Gl},g9A:function(){return Wl},Qsj:function(){return ba},FYo:function(){return ya},JOm:function(){return Pn},Tiy:function(){return Aa},q3G:function(){return bn},tp0:function(){return Ii},EAV:function(){return Lc},Rgc:function(){return Ga},dDg:function(){return mc},DyG:function(){return ai},GfV:function(){return xa},s_b:function(){return tl},ifc:function(){return L},eFA:function(){return kc},G48:function(){return xc},Gpc:function(){return p},_c5:function(){return Dc},VLi:function(){return yc},c2e:function(){return jl},zSh:function(){return br},wAp:function(){return Js},vHH:function(){return m},EiD:function(){return vn},mCW:function(){return tn},qzn:function(){return zi},JVY:function(){return Ki},pB0:function(){return ji},eBb:function(){return Gi},L6k:function(){return Wi},LAX:function(){return Yi},cg1:function(){return Ys},Tjo:function(){return Bc},kL8:function(){return js},yhl:function(){return Vi},dqk:function(){return N},sIi:function(){return $r},CqO:function(){return hs},QGY:function(){return ls},F4k:function(){return cs},RDi:function(){return Ze},AaK:function(){return h},z3N:function(){return $i},qOj:function(){return qr},TTD:function(){return ve},_Bn:function(){return ca},xp6:function(){return wo},uIk:function(){return Wr},Tol:function(){return Ss},Gre:function(){return zs},ekj:function(){return ks},Suo:function(){return Ll},Xpm:function(){return X},lG2:function(){return re},Yz7:function(){return w},cJS:function(){return A},oAB:function(){return ie},Yjl:function(){return se},Y36:function(){return Jr},_UZ:function(){return ns},GkF:function(){return ss},BQk:function(){return rs},ynx:function(){return os},qZA:function(){return is},TgZ:function(){return ts},EpF:function(){return as},n5z:function(){return ei},Ikx:function(){return Vs},LFG:function(){return Ci},$8M:function(){return ii},NdJ:function(){return us},CRH:function(){return Ul},kcU:function(){return yt},O4$:function(){return vt},oxw:function(){return gs},ALo:function(){return yl},lcZ:function(){return bl},Hsn:function(){return _s},F$t:function(){return ms},Q6J:function(){return Qr},s9C:function(){return vs},DdM:function(){return ml},VKq:function(){return _l},iGM:function(){return Rl},MAs:function(){return Xr},evT:function(){return On},CHM:function(){return Ve},oJD:function(){return wn},LSH:function(){return An},B6R:function(){return J},kYT:function(){return ne},Udp:function(){return Zs},YNc:function(){return jr},W1O:function(){return Fl},_uU:function(){return Ns},Oqu:function(){return Fs},hij:function(){return Hs},AsE:function(){return $s},Gf:function(){return ql}});var n=i(67709),o=i(75319),r=i(18891),s=i(66682),a=i(78345);function l(e){for(let t in e)if(e[t]===l)return t;throw Error("Could not find renamed property on target object.")}function c(e,t){for(const i in t)t.hasOwnProperty(i)&&!e.hasOwnProperty(i)&&(e[i]=t[i])}function h(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(h).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const i=t.indexOf("\n");return-1===i?t:t.substring(0,i)}function u(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const d=l({__forward_ref__:l});function p(e){return e.__forward_ref__=p,e.toString=function(){return h(this())},e}function g(e){return f(e)?e():e}function f(e){return"function"==typeof e&&e.hasOwnProperty(d)&&e.__forward_ref__===p}class m extends Error{constructor(e,t){super(function(e,t){return`${e?`NG0${e}: `:""}${t}`}(e,t)),this.code=e}}function _(e){return"string"==typeof e?e:null==e?"":String(e)}function v(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():_(e)}function y(e,t){const i=t?` in ${t}`:"";throw new m("201",`No provider for ${v(e)} found${i}`)}function b(e,t){null==e&&function(e,t,i,n){throw new Error(`ASSERTION ERROR: ${e}`+(null==n?"":` [Expected=> ${i} ${n} ${t} <=Actual]`))}(t,e,null,"!=")}function w(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function A(e){return{providers:e.providers||[],imports:e.imports||[]}}function x(e){return T(e,Z)||T(e,S)}function T(e,t){return e.hasOwnProperty(t)?e[t]:null}function C(e){return e&&(e.hasOwnProperty(k)||e.hasOwnProperty(E))?e[k]:null}const Z=l({"\u0275prov":l}),k=l({"\u0275inj":l}),S=l({ngInjectableDef:l}),E=l({ngInjectorDef:l});var M=(()=>((M=M||{})[M.Default=0]="Default",M[M.Host=1]="Host",M[M.Self=2]="Self",M[M.SkipSelf=4]="SkipSelf",M[M.Optional=8]="Optional",M))();let O;function I(e){const t=O;return O=e,t}function P(e,t,i){const n=x(e);return n&&"root"==n.providedIn?void 0===n.value?n.value=n.factory():n.value:i&M.Optional?null:void 0!==t?t:void y(h(e),"Injector")}function R(e){return{toString:e}.toString()}var q=(()=>((q=q||{})[q.OnPush=0]="OnPush",q[q.Default=1]="Default",q))(),L=(()=>((L=L||{})[L.Emulated=0]="Emulated",L[L.None=2]="None",L[L.ShadowDom=3]="ShadowDom",L))();const U="undefined"!=typeof globalThis&&globalThis,B="undefined"!=typeof window&&window,D="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,N=U||"undefined"!=typeof global&&global||B||D,F={},H=[],$=l({"\u0275cmp":l}),z=l({"\u0275dir":l}),V=l({"\u0275pipe":l}),K=l({"\u0275mod":l}),W=l({"\u0275loc":l}),G=l({"\u0275fac":l}),Y=l({__NG_ELEMENT_ID__:l});let j=0;function X(e){return R(()=>{const t={},i={type:e.type,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputs:null,outputs:null,exportAs:e.exportAs||null,onPush:e.changeDetection===q.OnPush,directiveDefs:null,pipeDefs:null,selectors:e.selectors||H,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||L.Emulated,id:"c",styles:e.styles||H,_:null,setInput:null,schemas:e.schemas||null,tView:null},n=e.directives,o=e.features,r=e.pipes;return i.id+=j++,i.inputs=oe(e.inputs,t),i.outputs=oe(e.outputs),o&&o.forEach(e=>e(i)),i.directiveDefs=n?()=>("function"==typeof n?n():n).map(Q):null,i.pipeDefs=r?()=>("function"==typeof r?r():r).map(ee):null,i})}function J(e,t,i){const n=e.\u0275cmp;n.directiveDefs=()=>t.map(Q),n.pipeDefs=()=>i.map(ee)}function Q(e){return ae(e)||function(e){return e[z]||null}(e)}function ee(e){return function(e){return e[V]||null}(e)}const te={};function ie(e){return R(()=>{const t={type:e.type,bootstrap:e.bootstrap||H,declarations:e.declarations||H,imports:e.imports||H,exports:e.exports||H,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null};return null!=e.id&&(te[e.id]=e.type),t})}function ne(e,t){return R(()=>{const i=le(e,!0);i.declarations=t.declarations||H,i.imports=t.imports||H,i.exports=t.exports||H})}function oe(e,t){if(null==e)return F;const i={};for(const n in e)if(e.hasOwnProperty(n)){let o=e[n],r=o;Array.isArray(o)&&(r=o[1],o=o[0]),i[o]=n,t&&(t[o]=r)}return i}const re=X;function se(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,onDestroy:e.type.prototype.ngOnDestroy||null}}function ae(e){return e[$]||null}function le(e,t){const i=e[K]||null;if(!i&&!0===t)throw new Error(`Type ${h(e)} does not have '\u0275mod' property.`);return i}function ce(e){return Array.isArray(e)&&"object"==typeof e[1]}function he(e){return Array.isArray(e)&&!0===e[1]}function ue(e){return 0!=(8&e.flags)}function de(e){return 2==(2&e.flags)}function pe(e){return 1==(1&e.flags)}function ge(e){return null!==e.template}function fe(e){return 0!=(512&e[2])}function me(e,t){return e.hasOwnProperty(G)?e[G]:null}class _e{constructor(e,t,i){this.previousValue=e,this.currentValue=t,this.firstChange=i}isFirstChange(){return this.firstChange}}function ve(){return ye}function ye(e){return e.type.prototype.ngOnChanges&&(e.setInput=we),be}function be(){const e=xe(this),t=null==e?void 0:e.current;if(t){const i=e.previous;if(i===F)e.previous=t;else for(let e in t)i[e]=t[e];e.current=null,this.ngOnChanges(t)}}function we(e,t,i,n){const o=xe(e)||function(e,t){return e[Ae]=t}(e,{previous:F,current:null}),r=o.current||(o.current={}),s=o.previous,a=this.declaredInputs[i],l=s[a];r[a]=new _e(l&&l.currentValue,t,s===F),e[n]=t}ve.ngInherit=!0;const Ae="__ngSimpleChanges__";function xe(e){return e[Ae]||null}const Te="http://www.w3.org/2000/svg";let Ce;function Ze(e){Ce=e}function ke(){return void 0!==Ce?Ce:"undefined"!=typeof document?document:void 0}function Se(e){return!!e.listen}const Ee={createRenderer:(e,t)=>ke()};function Me(e){for(;Array.isArray(e);)e=e[0];return e}function Oe(e,t){return Me(t[e])}function Ie(e,t){return Me(t[e.index])}function Pe(e,t){return e.data[t]}function Re(e,t){return e[t]}function qe(e,t){const i=t[e];return ce(i)?i:i[0]}function Le(e){return 4==(4&e[2])}function Ue(e){return 128==(128&e[2])}function Be(e,t){return null==t?null:e[t]}function De(e){e[18]=0}function Ne(e,t){e[5]+=t;let i=e,n=e[3];for(;null!==n&&(1===t&&1===i[5]||-1===t&&0===i[5]);)n[5]+=t,i=n,n=n[3]}const Fe={lFrame:ut(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function He(){return Fe.bindingsEnabled}function $e(){return Fe.lFrame.lView}function ze(){return Fe.lFrame.tView}function Ve(e){return Fe.lFrame.contextLView=e,e[8]}function Ke(){let e=We();for(;null!==e&&64===e.type;)e=e.parent;return e}function We(){return Fe.lFrame.currentTNode}function Ge(e,t){const i=Fe.lFrame;i.currentTNode=e,i.isParent=t}function Ye(){return Fe.lFrame.isParent}function je(){Fe.lFrame.isParent=!1}function Xe(){return Fe.isInCheckNoChangesMode}function Je(e){Fe.isInCheckNoChangesMode=e}function Qe(){const e=Fe.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function et(){return Fe.lFrame.bindingIndex}function tt(){return Fe.lFrame.bindingIndex++}function it(e){const t=Fe.lFrame,i=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,i}function nt(e,t){const i=Fe.lFrame;i.bindingIndex=i.bindingRootIndex=e,ot(t)}function ot(e){Fe.lFrame.currentDirectiveIndex=e}function rt(){return Fe.lFrame.currentQueryIndex}function st(e){Fe.lFrame.currentQueryIndex=e}function at(e){const t=e[1];return 2===t.type?t.declTNode:1===t.type?e[6]:null}function lt(e,t,i){if(i&M.SkipSelf){let n=t,o=e;for(;!(n=n.parent,null!==n||i&M.Host||(n=at(o),null===n||(o=o[15],10&n.type))););if(null===n)return!1;t=n,e=o}const n=Fe.lFrame=ht();return n.currentTNode=t,n.lView=e,!0}function ct(e){const t=ht(),i=e[1];Fe.lFrame=t,t.currentTNode=i.firstChild,t.lView=e,t.tView=i,t.contextLView=e,t.bindingIndex=i.bindingStartIndex,t.inI18n=!1}function ht(){const e=Fe.lFrame,t=null===e?null:e.child;return null===t?ut(e):t}function ut(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function dt(){const e=Fe.lFrame;return Fe.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const pt=dt;function gt(){const e=dt();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function ft(){return Fe.lFrame.selectedIndex}function mt(e){Fe.lFrame.selectedIndex=e}function _t(){const e=Fe.lFrame;return Pe(e.tView,e.selectedIndex)}function vt(){Fe.lFrame.currentNamespace=Te}function yt(){Fe.lFrame.currentNamespace=null}function bt(e,t){for(let i=t.directiveStart,n=t.directiveEnd;i<n;i++){const t=e.data[i].type.prototype,{ngAfterContentInit:n,ngAfterContentChecked:o,ngAfterViewInit:r,ngAfterViewChecked:s,ngOnDestroy:a}=t;n&&(e.contentHooks||(e.contentHooks=[])).push(-i,n),o&&((e.contentHooks||(e.contentHooks=[])).push(i,o),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(i,o)),r&&(e.viewHooks||(e.viewHooks=[])).push(-i,r),s&&((e.viewHooks||(e.viewHooks=[])).push(i,s),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(i,s)),null!=a&&(e.destroyHooks||(e.destroyHooks=[])).push(i,a)}}function wt(e,t,i){Tt(e,t,3,i)}function At(e,t,i,n){(3&e[2])===i&&Tt(e,t,i,n)}function xt(e,t){let i=e[2];(3&i)===t&&(i&=2047,i+=1,e[2]=i)}function Tt(e,t,i,n){const o=null!=n?n:-1,r=t.length-1;let s=0;for(let a=void 0!==n?65535&e[18]:0;a<r;a++)if("number"==typeof t[a+1]){if(s=t[a],null!=n&&s>=n)break}else t[a]<0&&(e[18]+=65536),(s<o||-1==o)&&(Ct(e,i,t,a),e[18]=(4294901760&e[18])+a+2),a++}function Ct(e,t,i,n){const o=i[n]<0,r=i[n+1],s=e[o?-i[n]:i[n]];if(o){if(e[2]>>11<e[18]>>16&&(3&e[2])===t){e[2]+=2048;try{r.call(s)}finally{}}}else try{r.call(s)}finally{}}class Zt{constructor(e,t,i){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=i}}function kt(e,t,i){const n=Se(e);let o=0;for(;o<i.length;){const r=i[o];if("number"==typeof r){if(0!==r)break;o++;const s=i[o++],a=i[o++],l=i[o++];n?e.setAttribute(t,a,l,s):t.setAttributeNS(s,a,l)}else{const s=r,a=i[++o];Et(s)?n&&e.setProperty(t,s,a):n?e.setAttribute(t,s,a):t.setAttribute(s,a),o++}}return o}function St(e){return 3===e||4===e||6===e}function Et(e){return 64===e.charCodeAt(0)}function Mt(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let i=-1;for(let n=0;n<t.length;n++){const o=t[n];"number"==typeof o?i=o:0===i||Ot(e,i,o,null,-1===i||2===i?t[++n]:null)}}return e}function Ot(e,t,i,n,o){let r=0,s=e.length;if(-1===t)s=-1;else for(;r<e.length;){const i=e[r++];if("number"==typeof i){if(i===t){s=-1;break}if(i>t){s=r-1;break}}}for(;r<e.length;){const t=e[r];if("number"==typeof t)break;if(t===i){if(null===n)return void(null!==o&&(e[r+1]=o));if(n===e[r+1])return void(e[r+2]=o)}r++,null!==n&&r++,null!==o&&r++}-1!==s&&(e.splice(s,0,t),r=s+1),e.splice(r++,0,i),null!==n&&e.splice(r++,0,n),null!==o&&e.splice(r++,0,o)}function It(e){return-1!==e}function Pt(e){return 32767&e}function Rt(e,t){let i=function(e){return e>>16}(e),n=t;for(;i>0;)n=n[15],i--;return n}let qt=!0;function Lt(e){const t=qt;return qt=e,t}let Ut=0;function Bt(e,t){const i=Nt(e,t);if(-1!==i)return i;const n=t[1];n.firstCreatePass&&(e.injectorIndex=t.length,Dt(n.data,e),Dt(t,null),Dt(n.blueprint,null));const o=Ft(e,t),r=e.injectorIndex;if(It(o)){const e=Pt(o),i=Rt(o,t),n=i[1].data;for(let o=0;o<8;o++)t[r+o]=i[e+o]|n[e+o]}return t[r+8]=o,r}function Dt(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Nt(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function Ft(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let i=0,n=null,o=t;for(;null!==o;){const e=o[1],t=e.type;if(n=2===t?e.declTNode:1===t?o[6]:null,null===n)return-1;if(i++,o=o[15],-1!==n.injectorIndex)return n.injectorIndex|i<<16}return-1}function Ht(e,t,i){!function(e,t,i){let n;"string"==typeof i?n=i.charCodeAt(0)||0:i.hasOwnProperty(Y)&&(n=i[Y]),null==n&&(n=i[Y]=Ut++);const o=255&n;t.data[e+(o>>5)]|=1<<o}(e,t,i)}function $t(e,t,i){if(i&M.Optional)return e;y(t,"NodeInjector")}function zt(e,t,i,n){if(i&M.Optional&&void 0===n&&(n=null),0==(i&(M.Self|M.Host))){const o=e[9],r=I(void 0);try{return o?o.get(t,n,i&M.Optional):P(t,n,i&M.Optional)}finally{I(r)}}return $t(n,t,i)}function Vt(e,t,i,n=M.Default,o){if(null!==e){const r=function(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(Y)?e[Y]:void 0;return"number"==typeof t?t>=0?255&t:Wt:t}(i);if("function"==typeof r){if(!lt(t,e,n))return n&M.Host?$t(o,i,n):zt(t,i,n,o);try{const e=r(n);if(null!=e||n&M.Optional)return e;y(i)}finally{pt()}}else if("number"==typeof r){let o=null,s=Nt(e,t),a=-1,l=n&M.Host?t[16][6]:null;for((-1===s||n&M.SkipSelf)&&(a=-1===s?Ft(e,t):t[s+8],-1!==a&&Jt(n,!1)?(o=t[1],s=Pt(a),t=Rt(a,t)):s=-1);-1!==s;){const e=t[1];if(Xt(r,s,e.data)){const e=Gt(s,t,i,o,n,l);if(e!==Kt)return e}a=t[s+8],-1!==a&&Jt(n,t[1].data[s+8]===l)&&Xt(r,s,t)?(o=e,s=Pt(a),t=Rt(a,t)):s=-1}}}return zt(t,i,n,o)}const Kt={};function Wt(){return new Qt(Ke(),$e())}function Gt(e,t,i,n,o,r){const s=t[1],a=s.data[e+8],l=Yt(a,s,i,null==n?de(a)&&qt:n!=s&&0!=(3&a.type),o&M.Host&&r===a);return null!==l?jt(t,s,l,a):Kt}function Yt(e,t,i,n,o){const r=e.providerIndexes,s=t.data,a=1048575&r,l=e.directiveStart,c=r>>20,h=o?a+c:e.directiveEnd;for(let u=n?a:a+c;u<h;u++){const e=s[u];if(u<l&&i===e||u>=l&&e.type===i)return u}if(o){const e=s[l];if(e&&ge(e)&&e.type===i)return l}return null}function jt(e,t,i,n){let o=e[i];const r=t.data;if(function(e){return e instanceof Zt}(o)){const s=o;s.resolving&&function(e,t){throw new m("200",`Circular dependency in DI detected for ${e}`)}(v(r[i]));const a=Lt(s.canSeeViewProviders);s.resolving=!0;const l=s.injectImpl?I(s.injectImpl):null;lt(e,n,M.Default);try{o=e[i]=s.factory(void 0,r,e,n),t.firstCreatePass&&i>=n.directiveStart&&function(e,t,i){const{ngOnChanges:n,ngOnInit:o,ngDoCheck:r}=t.type.prototype;if(n){const n=ye(t);(i.preOrderHooks||(i.preOrderHooks=[])).push(e,n),(i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(e,n)}o&&(i.preOrderHooks||(i.preOrderHooks=[])).push(0-e,o),r&&((i.preOrderHooks||(i.preOrderHooks=[])).push(e,r),(i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(e,r))}(i,r[i],t)}finally{null!==l&&I(l),Lt(a),s.resolving=!1,pt()}}return o}function Xt(e,t,i){return!!(i[t+(e>>5)]&1<<e)}function Jt(e,t){return!(e&M.Self||e&M.Host&&t)}class Qt{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,i){return Vt(this._tNode,this._lView,e,i,t)}}function ei(e){return R(()=>{const t=e.prototype.constructor,i=t[G]||ti(t),n=Object.prototype;let o=Object.getPrototypeOf(e.prototype).constructor;for(;o&&o!==n;){const e=o[G]||ti(o);if(e&&e!==i)return e;o=Object.getPrototypeOf(o)}return e=>new e})}function ti(e){return f(e)?()=>{const t=ti(g(e));return t&&t()}:me(e)}function ii(e){return function(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const i=e.attrs;if(i){const e=i.length;let n=0;for(;n<e;){const o=i[n];if(St(o))break;if(0===o)n+=2;else if("number"==typeof o)for(n++;n<e&&"string"==typeof i[n];)n++;else{if(o===t)return i[n+1];n+=2}}}return null}(Ke(),e)}const ni="__parameters__";function oi(e,t,i){return R(()=>{const n=function(e){return function(...t){if(e){const i=e(...t);for(const e in i)this[e]=i[e]}}}(t);function o(...e){if(this instanceof o)return n.apply(this,e),this;const t=new o(...e);return i.annotation=t,i;function i(e,i,n){const o=e.hasOwnProperty(ni)?e[ni]:Object.defineProperty(e,ni,{value:[]})[ni];for(;o.length<=n;)o.push(null);return(o[n]=o[n]||[]).push(t),e}}return i&&(o.prototype=Object.create(i.prototype)),o.prototype.ngMetadataName=e,o.annotationCls=o,o})}class ri{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=w({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}toString(){return`InjectionToken ${this._desc}`}}const si=new ri("AnalyzeForEntryComponents"),ai=Function;function li(e,t){void 0===t&&(t=e);for(let i=0;i<e.length;i++){let n=e[i];Array.isArray(n)?(t===e&&(t=e.slice(0,i)),li(n,t)):t!==e&&t.push(n)}return t}function ci(e,t){e.forEach(e=>Array.isArray(e)?ci(e,t):t(e))}function hi(e,t,i){t>=e.length?e.push(i):e.splice(t,0,i)}function ui(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function di(e,t){const i=[];for(let n=0;n<e;n++)i.push(t);return i}function pi(e,t,i){let n=fi(e,t);return n>=0?e[1|n]=i:(n=~n,function(e,t,i,n){let o=e.length;if(o==t)e.push(i,n);else if(1===o)e.push(n,e[0]),e[0]=i;else{for(o--,e.push(e[o-1],e[o]);o>t;)e[o]=e[o-2],o--;e[t]=i,e[t+1]=n}}(e,n,t,i)),n}function gi(e,t){const i=fi(e,t);if(i>=0)return e[1|i]}function fi(e,t){return function(e,t,i){let n=0,o=e.length>>i;for(;o!==n;){const r=n+(o-n>>1),s=e[r<<i];if(t===s)return r<<i;s>t?o=r:n=r+1}return~(o<<i)}(e,t,1)}const mi={},_i="__NG_DI_FLAG__",vi="ngTempTokenPath",yi=/\n/gm,bi="__source",wi=l({provide:String,useValue:l});let Ai;function xi(e){const t=Ai;return Ai=e,t}function Ti(e,t=M.Default){if(void 0===Ai)throw new Error("inject() must be called from an injection context");return null===Ai?P(e,void 0,t):Ai.get(e,t&M.Optional?null:void 0,t)}function Ci(e,t=M.Default){return(O||Ti)(g(e),t)}function Zi(e){const t=[];for(let i=0;i<e.length;i++){const n=g(e[i]);if(Array.isArray(n)){if(0===n.length)throw new Error("Arguments array must have arguments.");let e,i=M.Default;for(let t=0;t<n.length;t++){const o=n[t],r=Si(o);"number"==typeof r?-1===r?e=o.token:i|=r:e=o}t.push(Ci(e,i))}else t.push(Ci(n))}return t}function ki(e,t){return e[_i]=t,e.prototype[_i]=t,e}function Si(e){return e[_i]}function Ei(e,t,i,n){const o=e[vi];throw t[bi]&&o.unshift(t[bi]),e.message=function(e,t,i,n=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.substr(2):e;let o=h(t);if(Array.isArray(t))o=t.map(h).join(" -> ");else if("object"==typeof t){let e=[];for(let i in t)if(t.hasOwnProperty(i)){let n=t[i];e.push(i+":"+("string"==typeof n?JSON.stringify(n):h(n)))}o=`{${e.join(", ")}}`}return`${i}${n?"("+n+")":""}[${o}]: ${e.replace(yi,"\n  ")}`}("\n"+e.message,o,i,n),e.ngTokenPath=o,e[vi]=null,e}const Mi=ki(oi("Inject",e=>({token:e})),-1),Oi=ki(oi("Optional"),8),Ii=ki(oi("SkipSelf"),4);let Pi,Ri;function qi(e){var t;return(null===(t=function(){if(void 0===Pi&&(Pi=null,N.trustedTypes))try{Pi=N.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch(e){}return Pi}())||void 0===t?void 0:t.createHTML(e))||e}function Li(e){var t;return(null===(t=function(){if(void 0===Ri&&(Ri=null,N.trustedTypes))try{Ri=N.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch(e){}return Ri}())||void 0===t?void 0:t.createHTML(e))||e}class Ui{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Bi extends Ui{getTypeName(){return"HTML"}}class Di extends Ui{getTypeName(){return"Style"}}class Ni extends Ui{getTypeName(){return"Script"}}class Fi extends Ui{getTypeName(){return"URL"}}class Hi extends Ui{getTypeName(){return"ResourceURL"}}function $i(e){return e instanceof Ui?e.changingThisBreaksApplicationSecurity:e}function zi(e,t){const i=Vi(e);if(null!=i&&i!==t){if("ResourceURL"===i&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${i} (see https://g.co/ng/security#xss)`)}return i===t}function Vi(e){return e instanceof Ui&&e.getTypeName()||null}function Ki(e){return new Bi(e)}function Wi(e){return new Di(e)}function Gi(e){return new Ni(e)}function Yi(e){return new Fi(e)}function ji(e){return new Hi(e)}class Xi{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(qi(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch(t){return null}}}class Ji{constructor(e){if(this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e);const t=this.inertDocument.createElement("body");e.appendChild(t)}}getInertBodyElement(e){const t=this.inertDocument.createElement("template");if("content"in t)return t.innerHTML=qi(e),t;const i=this.inertDocument.createElement("body");return i.innerHTML=qi(e),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(i),i}stripCustomNsAttrs(e){const t=e.attributes;for(let n=t.length-1;0<n;n--){const i=t.item(n).name;("xmlns:ns1"===i||0===i.indexOf("ns1:"))&&e.removeAttribute(i)}let i=e.firstChild;for(;i;)i.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(i),i=i.nextSibling}}const Qi=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,en=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function tn(e){return(e=String(e)).match(Qi)||e.match(en)?e:"unsafe:"+e}function nn(e){const t={};for(const i of e.split(","))t[i]=!0;return t}function on(...e){const t={};for(const i of e)for(const e in i)i.hasOwnProperty(e)&&(t[e]=!0);return t}const rn=nn("area,br,col,hr,img,wbr"),sn=nn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),an=nn("rp,rt"),ln=on(rn,on(sn,nn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),on(an,nn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),on(an,sn)),cn=nn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),hn=nn("srcset"),un=on(cn,hn,nn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),nn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),dn=nn("script,style,template");class pn{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,i=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?i=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,i&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let e=this.checkClobberedElement(t,t.nextSibling);if(e){t=e;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!ln.hasOwnProperty(t))return this.sanitizedSomething=!0,!dn.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const i=e.attributes;for(let o=0;o<i.length;o++){const e=i.item(o),t=e.name,r=t.toLowerCase();if(!un.hasOwnProperty(r)){this.sanitizedSomething=!0;continue}let s=e.value;cn[r]&&(s=tn(s)),hn[r]&&(n=s,s=(n=String(n)).split(",").map(e=>tn(e.trim())).join(", ")),this.buf.push(" ",t,'="',mn(s),'"')}var n;return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();ln.hasOwnProperty(t)&&!rn.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(mn(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const gn=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,fn=/([^\#-~ |!])/g;function mn(e){return e.replace(/&/g,"&amp;").replace(gn,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(fn,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let _n;function vn(e,t){let i=null;try{_n=_n||function(e){const t=new Ji(e);return function(){try{return!!(new window.DOMParser).parseFromString(qi(""),"text/html")}catch(e){return!1}}()?new Xi(t):t}(e);let n=t?String(t):"";i=_n.getInertBodyElement(n);let o=5,r=n;do{if(0===o)throw new Error("Failed to sanitize html because the input is unstable");o--,n=r,r=i.innerHTML,i=_n.getInertBodyElement(n)}while(n!==r);return qi((new pn).sanitizeChildren(yn(i)||i))}finally{if(i){const e=yn(i)||i;for(;e.firstChild;)e.removeChild(e.firstChild)}}}function yn(e){return"content"in e&&function(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var bn=(()=>((bn=bn||{})[bn.NONE=0]="NONE",bn[bn.HTML=1]="HTML",bn[bn.STYLE=2]="STYLE",bn[bn.SCRIPT=3]="SCRIPT",bn[bn.URL=4]="URL",bn[bn.RESOURCE_URL=5]="RESOURCE_URL",bn))();function wn(e){const t=xn();return t?Li(t.sanitize(bn.HTML,e)||""):zi(e,"HTML")?Li($i(e)):vn(ke(),_(e))}function An(e){const t=xn();return t?t.sanitize(bn.URL,e)||"":zi(e,"URL")?$i(e):tn(_(e))}function xn(){const e=$e();return e&&e[12]}const Tn="__ngContext__";function Cn(e,t){e[Tn]=t}function Zn(e){const t=function(e){return e[Tn]||null}(e);return t?Array.isArray(t)?t:t.lView:null}function kn(e){return e.ngOriginalError}function Sn(e,...t){e.error(...t)}class En{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e),i=this._findContext(e),n=(o=e)&&o.ngErrorLogger||Sn;var o;n(this._console,"ERROR",e),t&&n(this._console,"ORIGINAL ERROR",t),i&&n(this._console,"ERROR CONTEXT",i)}_findContext(e){return e?e.ngDebugContext||this._findContext(kn(e)):null}_findOriginalError(e){let t=e&&kn(e);for(;t&&kn(t);)t=kn(t);return t||null}}const Mn=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(N))();function On(e){return e.ownerDocument}function In(e){return e instanceof Function?e():e}var Pn=(()=>((Pn=Pn||{})[Pn.Important=1]="Important",Pn[Pn.DashCase=2]="DashCase",Pn))();function Rn(e,t){return undefined(e,t)}function qn(e){const t=e[3];return he(t)?t[3]:t}function Ln(e){return Bn(e[13])}function Un(e){return Bn(e[4])}function Bn(e){for(;null!==e&&!he(e);)e=e[4];return e}function Dn(e,t,i,n,o){if(null!=n){let r,s=!1;he(n)?r=n:ce(n)&&(s=!0,n=n[0]);const a=Me(n);0===e&&null!==i?null==o?Wn(t,i,a):Kn(t,i,a,o||null,!0):1===e&&null!==i?Kn(t,i,a,o||null,!0):2===e?function(e,t,i){const n=Yn(e,t);n&&function(e,t,i,n){Se(e)?e.removeChild(t,i,n):t.removeChild(i)}(e,n,t,i)}(t,a,s):3===e&&t.destroyNode(a),null!=r&&function(e,t,i,n,o){const r=i[7];r!==Me(i)&&Dn(t,e,n,r,o);for(let s=10;s<i.length;s++){const o=i[s];no(o[1],o,e,t,n,r)}}(t,e,r,i,o)}}function Nn(e,t,i){return Se(e)?e.createElement(t,i):null===i?e.createElement(t):e.createElementNS(i,t)}function Fn(e,t){const i=e[9],n=i.indexOf(t),o=t[3];1024&t[2]&&(t[2]&=-1025,Ne(o,-1)),i.splice(n,1)}function Hn(e,t){if(e.length<=10)return;const i=10+t,n=e[i];if(n){const o=n[17];null!==o&&o!==e&&Fn(o,n),t>0&&(e[i-1][4]=n[4]);const r=ui(e,10+t);!function(e,t){no(e,t,t[11],2,null,null),t[0]=null,t[6]=null}(n[1],n);const s=r[19];null!==s&&s.detachView(r[1]),n[3]=null,n[4]=null,n[2]&=-129}return n}function $n(e,t){if(!(256&t[2])){const i=t[11];Se(i)&&i.destroyNode&&no(e,t,i,3,null,null),function(e){let t=e[13];if(!t)return zn(e[1],e);for(;t;){let i=null;if(ce(t))i=t[13];else{const e=t[10];e&&(i=e)}if(!i){for(;t&&!t[4]&&t!==e;)ce(t)&&zn(t[1],t),t=t[3];null===t&&(t=e),ce(t)&&zn(t[1],t),i=t&&t[4]}t=i}}(t)}}function zn(e,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function(e,t){let i;if(null!=e&&null!=(i=e.destroyHooks))for(let n=0;n<i.length;n+=2){const e=t[i[n]];if(!(e instanceof Zt)){const t=i[n+1];if(Array.isArray(t))for(let i=0;i<t.length;i+=2){const n=e[t[i]],o=t[i+1];try{o.call(n)}finally{}}else try{t.call(e)}finally{}}}}(e,t),function(e,t){const i=e.cleanup,n=t[7];let o=-1;if(null!==i)for(let r=0;r<i.length-1;r+=2)if("string"==typeof i[r]){const e=i[r+1],s="function"==typeof e?e(t):Me(t[e]),a=n[o=i[r+2]],l=i[r+3];"boolean"==typeof l?s.removeEventListener(i[r],a,l):l>=0?n[o=l]():n[o=-l].unsubscribe(),r+=2}else{const e=n[o=i[r+1]];i[r].call(e)}if(null!==n){for(let e=o+1;e<n.length;e++)n[e]();t[7]=null}}(e,t),1===t[1].type&&Se(t[11])&&t[11].destroy();const i=t[17];if(null!==i&&he(t[3])){i!==t[3]&&Fn(i,t);const n=t[19];null!==n&&n.detachView(e)}}}function Vn(e,t,i){return function(e,t,i){let n=t;for(;null!==n&&40&n.type;)n=(t=n).parent;if(null===n)return i[0];if(2&n.flags){const t=e.data[n.directiveStart].encapsulation;if(t===L.None||t===L.Emulated)return null}return Ie(n,i)}(e,t.parent,i)}function Kn(e,t,i,n,o){Se(e)?e.insertBefore(t,i,n,o):t.insertBefore(i,n,o)}function Wn(e,t,i){Se(e)?e.appendChild(t,i):t.appendChild(i)}function Gn(e,t,i,n,o){null!==n?Kn(e,t,i,n,o):Wn(e,t,i)}function Yn(e,t){return Se(e)?e.parentNode(t):t.parentNode}function jn(e,t,i){return Xn(e,t,i)}let Xn=function(e,t,i){return 40&e.type?Ie(e,i):null};function Jn(e,t,i,n){const o=Vn(e,n,t),r=t[11],s=jn(n.parent||t[6],n,t);if(null!=o)if(Array.isArray(i))for(let a=0;a<i.length;a++)Gn(r,o,i[a],s,!1);else Gn(r,o,i,s,!1)}function Qn(e,t){if(null!==t){const i=t.type;if(3&i)return Ie(t,e);if(4&i)return to(-1,e[t.index]);if(8&i){const i=t.child;if(null!==i)return Qn(e,i);{const i=e[t.index];return he(i)?to(-1,i):Me(i)}}if(32&i)return Rn(t,e)()||Me(e[t.index]);{const i=eo(e,t);return null!==i?Array.isArray(i)?i[0]:Qn(qn(e[16]),i):Qn(e,t.next)}}return null}function eo(e,t){return null!==t?e[16][6].projection[t.projection]:null}function to(e,t){const i=10+e+1;if(i<t.length){const e=t[i],n=e[1].firstChild;if(null!==n)return Qn(e,n)}return t[7]}function io(e,t,i,n,o,r,s){for(;null!=i;){const a=n[i.index],l=i.type;if(s&&0===t&&(a&&Cn(Me(a),n),i.flags|=4),64!=(64&i.flags))if(8&l)io(e,t,i.child,n,o,r,!1),Dn(t,e,o,a,r);else if(32&l){const s=Rn(i,n);let l;for(;l=s();)Dn(t,e,o,l,r);Dn(t,e,o,a,r)}else 16&l?oo(e,t,n,i,o,r):Dn(t,e,o,a,r);i=s?i.projectionNext:i.next}}function no(e,t,i,n,o,r){io(i,n,e.firstChild,t,o,r,!1)}function oo(e,t,i,n,o,r){const s=i[16],a=s[6].projection[n.projection];if(Array.isArray(a))for(let l=0;l<a.length;l++)Dn(t,e,o,a[l],r);else io(e,t,a,s[3],o,r,!0)}function ro(e,t,i){Se(e)?e.setAttribute(t,"style",i):t.style.cssText=i}function so(e,t,i){Se(e)?""===i?e.removeAttribute(t,"class"):e.setAttribute(t,"class",i):t.className=i}function ao(e,t,i){let n=e.length;for(;;){const o=e.indexOf(t,i);if(-1===o)return o;if(0===o||e.charCodeAt(o-1)<=32){const i=t.length;if(o+i===n||e.charCodeAt(o+i)<=32)return o}i=o+1}}const lo="ng-template";function co(e,t,i){let n=0;for(;n<e.length;){let o=e[n++];if(i&&"class"===o){if(o=e[n],-1!==ao(o.toLowerCase(),t,0))return!0}else if(1===o){for(;n<e.length&&"string"==typeof(o=e[n++]);)if(o.toLowerCase()===t)return!0;return!1}}return!1}function ho(e){return 4===e.type&&e.value!==lo}function uo(e,t,i){return t===(4!==e.type||i?e.value:lo)}function po(e,t,i){let n=4;const o=e.attrs||[],r=function(e){for(let t=0;t<e.length;t++)if(St(e[t]))return t;return e.length}(o);let s=!1;for(let a=0;a<t.length;a++){const l=t[a];if("number"!=typeof l){if(!s)if(4&n){if(n=2|1&n,""!==l&&!uo(e,l,i)||""===l&&1===t.length){if(go(n))return!1;s=!0}}else{const c=8&n?l:t[++a];if(8&n&&null!==e.attrs){if(!co(e.attrs,c,i)){if(go(n))return!1;s=!0}continue}const h=fo(8&n?"class":l,o,ho(e),i);if(-1===h){if(go(n))return!1;s=!0;continue}if(""!==c){let e;e=h>r?"":o[h+1].toLowerCase();const t=8&n?e:null;if(t&&-1!==ao(t,c,0)||2&n&&c!==e){if(go(n))return!1;s=!0}}}}else{if(!s&&!go(n)&&!go(l))return!1;if(s&&go(l))continue;s=!1,n=l|1&n}}return go(n)||s}function go(e){return 0==(1&e)}function fo(e,t,i,n){if(null===t)return-1;let o=0;if(n||!i){let i=!1;for(;o<t.length;){const n=t[o];if(n===e)return o;if(3===n||6===n)i=!0;else{if(1===n||2===n){let e=t[++o];for(;"string"==typeof e;)e=t[++o];continue}if(4===n)break;if(0===n){o+=4;continue}}o+=i?1:2}return-1}return function(e,t){let i=e.indexOf(4);if(i>-1)for(i++;i<e.length;){const n=e[i];if("number"==typeof n)return-1;if(n===t)return i;i++}return-1}(t,e)}function mo(e,t,i=!1){for(let n=0;n<t.length;n++)if(po(e,t[n],i))return!0;return!1}function _o(e,t){e:for(let i=0;i<t.length;i++){const n=t[i];if(e.length===n.length){for(let t=0;t<e.length;t++)if(e[t]!==n[t])continue e;return!0}}return!1}function vo(e,t){return e?":not("+t.trim()+")":t}function yo(e){let t=e[0],i=1,n=2,o="",r=!1;for(;i<e.length;){let s=e[i];if("string"==typeof s)if(2&n){const t=e[++i];o+="["+s+(t.length>0?'="'+t+'"':"")+"]"}else 8&n?o+="."+s:4&n&&(o+=" "+s);else""!==o&&!go(s)&&(t+=vo(r,o),o=""),n=s,r=r||!go(n);i++}return""!==o&&(t+=vo(r,o)),t}const bo={};function wo(e){Ao(ze(),$e(),ft()+e,Xe())}function Ao(e,t,i,n){if(!n)if(3==(3&t[2])){const n=e.preOrderCheckHooks;null!==n&&wt(t,n,i)}else{const n=e.preOrderHooks;null!==n&&At(t,n,0,i)}mt(i)}function xo(e,t){return e<<17|t<<2}function To(e){return e>>17&32767}function Co(e){return 2|e}function Zo(e){return(131068&e)>>2}function ko(e,t){return-131069&e|t<<2}function So(e){return 1|e}function Eo(e,t){const i=e.contentQueries;if(null!==i)for(let n=0;n<i.length;n+=2){const o=i[n],r=i[n+1];if(-1!==r){const i=e.data[r];st(o),i.contentQueries(2,t[r],r)}}}function Mo(e,t,i,n,o,r,s,a,l,c){const h=t.blueprint.slice();return h[0]=o,h[2]=140|n,De(h),h[3]=h[15]=e,h[8]=i,h[10]=s||e&&e[10],h[11]=a||e&&e[11],h[12]=l||e&&e[12]||null,h[9]=c||e&&e[9]||null,h[6]=r,h[16]=2==t.type?e[16]:h,h}function Oo(e,t,i,n,o){let r=e.data[t];if(null===r)r=function(e,t,i,n,o){const r=We(),s=Ye(),a=e.data[t]=function(e,t,i,n,o,r){return{type:i,index:n,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:o,attrs:r,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?r:r&&r.parent,i,t,n,o);return null===e.firstChild&&(e.firstChild=a),null!==r&&(s?null==r.child&&null!==a.parent&&(r.child=a):null===r.next&&(r.next=a)),a}(e,t,i,n,o),Fe.lFrame.inI18n&&(r.flags|=64);else if(64&r.type){r.type=i,r.value=n,r.attrs=o;const e=function(){const e=Fe.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();r.injectorIndex=null===e?-1:e.injectorIndex}return Ge(r,!0),r}function Io(e,t,i,n){if(0===i)return-1;const o=t.length;for(let r=0;r<i;r++)t.push(n),e.blueprint.push(n),e.data.push(null);return o}function Po(e,t,i){ct(t);try{const n=e.viewQuery;null!==n&&hr(1,n,i);const o=e.template;null!==o&&Lo(e,t,o,1,i),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&Eo(e,t),e.staticViewQueries&&hr(2,e.viewQuery,i);const r=e.components;null!==r&&function(e,t){for(let i=0;i<t.length;i++)rr(e,t[i])}(t,r)}catch(n){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),n}finally{t[2]&=-5,gt()}}function Ro(e,t,i,n){const o=t[2];if(256==(256&o))return;ct(t);const r=Xe();try{De(t),function(e){Fe.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==i&&Lo(e,t,i,2,n);const s=3==(3&o);if(!r)if(s){const i=e.preOrderCheckHooks;null!==i&&wt(t,i,null)}else{const i=e.preOrderHooks;null!==i&&At(t,i,0,null),xt(t,0)}if(function(e){for(let t=Ln(e);null!==t;t=Un(t)){if(!t[2])continue;const e=t[9];for(let t=0;t<e.length;t++){const i=e[t],n=i[3];0==(1024&i[2])&&Ne(n,1),i[2]|=1024}}}(t),function(e){for(let t=Ln(e);null!==t;t=Un(t))for(let e=10;e<t.length;e++){const i=t[e],n=i[1];Ue(i)&&Ro(n,i,n.template,i[8])}}(t),null!==e.contentQueries&&Eo(e,t),!r)if(s){const i=e.contentCheckHooks;null!==i&&wt(t,i)}else{const i=e.contentHooks;null!==i&&At(t,i,1),xt(t,1)}!function(e,t){const i=e.hostBindingOpCodes;if(null!==i)try{for(let e=0;e<i.length;e++){const n=i[e];if(n<0)mt(~n);else{const o=n,r=i[++e],s=i[++e];nt(r,o),s(2,t[o])}}}finally{mt(-1)}}(e,t);const a=e.components;null!==a&&function(e,t){for(let i=0;i<t.length;i++)nr(e,t[i])}(t,a);const l=e.viewQuery;if(null!==l&&hr(2,l,n),!r)if(s){const i=e.viewCheckHooks;null!==i&&wt(t,i)}else{const i=e.viewHooks;null!==i&&At(t,i,2),xt(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),r||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,Ne(t[3],-1))}finally{gt()}}function qo(e,t,i,n){const o=t[10],r=!Xe(),s=Le(t);try{r&&!s&&o.begin&&o.begin(),s&&Po(e,t,n),Ro(e,t,i,n)}finally{r&&!s&&o.end&&o.end()}}function Lo(e,t,i,n,o){const r=ft(),s=2&n;try{mt(-1),s&&t.length>20&&Ao(e,t,20,Xe()),i(n,o)}finally{mt(r)}}function Uo(e,t,i){if(ue(t)){const n=t.directiveEnd;for(let o=t.directiveStart;o<n;o++){const t=e.data[o];t.contentQueries&&t.contentQueries(1,i[o],o)}}}function Bo(e,t,i){!He()||(function(e,t,i,n){const o=i.directiveStart,r=i.directiveEnd;e.firstCreatePass||Bt(i,t),Cn(n,t);const s=i.initialInputs;for(let a=o;a<r;a++){const n=e.data[a],r=ge(n);r&&Jo(t,i,n);const l=jt(t,e,a,i);Cn(l,t),null!==s&&er(0,a-o,l,n,0,s),r&&(qe(i.index,t)[8]=l)}}(e,t,i,Ie(i,t)),128==(128&i.flags)&&function(e,t,i){const n=i.directiveStart,o=i.directiveEnd,r=i.index,s=Fe.lFrame.currentDirectiveIndex;try{mt(r);for(let i=n;i<o;i++){const n=e.data[i],o=t[i];ot(i),(null!==n.hostBindings||0!==n.hostVars||null!==n.hostAttrs)&&Wo(n,o)}}finally{mt(-1),ot(s)}}(e,t,i))}function Do(e,t,i=Ie){const n=t.localNames;if(null!==n){let o=t.index+1;for(let r=0;r<n.length;r+=2){const s=n[r+1],a=-1===s?i(t,e):e[s];e[o++]=a}}}function No(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=Fo(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function Fo(e,t,i,n,o,r,s,a,l,c){const h=20+n,u=h+o,d=function(e,t){const i=[];for(let n=0;n<t;n++)i.push(n<e?null:bo);return i}(h,u),p="function"==typeof c?c():c;return d[1]={type:e,blueprint:d,template:i,queries:null,viewQuery:a,declTNode:t,data:d.slice().fill(null,h),bindingStartIndex:h,expandoStartIndex:u,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof r?r():r,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:l,consts:p,incompleteFirstPass:!1}}function Ho(e,t,i,n){const o=dr(t);null===i?o.push(n):(o.push(i),e.firstCreatePass&&pr(e).push(n,o.length-1))}function $o(e,t,i){for(let n in e)if(e.hasOwnProperty(n)){const o=e[n];(i=null===i?{}:i).hasOwnProperty(n)?i[n].push(t,o):i[n]=[t,o]}return i}function zo(e,t,i,n,o,r,s,a){const l=Ie(t,i);let c,h=t.inputs;!a&&null!=h&&(c=h[n])?(fr(e,i,c,n,o),de(t)&&function(e,t){const i=qe(t,e);16&i[2]||(i[2]|=64)}(i,t.index)):3&t.type&&(n=function(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(n),o=null!=s?s(o,t.value||"",n):o,Se(r)?r.setProperty(l,n,o):Et(n)||(l.setProperty?l.setProperty(n,o):l[n]=o))}function Vo(e,t,i,n){let o=!1;if(He()){const r=function(e,t,i){const n=e.directiveRegistry;let o=null;if(n)for(let r=0;r<n.length;r++){const s=n[r];mo(i,s.selectors,!1)&&(o||(o=[]),Ht(Bt(i,t),e,s.type),ge(s)?(Go(e,i),o.unshift(s)):o.push(s))}return o}(e,t,i),s=null===n?null:{"":-1};if(null!==r){o=!0,jo(i,e.data.length,r.length);for(let e=0;e<r.length;e++){const t=r[e];t.providersResolver&&t.providersResolver(t)}let n=!1,a=!1,l=Io(e,t,r.length,null);for(let o=0;o<r.length;o++){const c=r[o];i.mergedAttrs=Mt(i.mergedAttrs,c.hostAttrs),Xo(e,i,t,l,c),Yo(l,c,s),null!==c.contentQueries&&(i.flags|=8),(null!==c.hostBindings||null!==c.hostAttrs||0!==c.hostVars)&&(i.flags|=128);const h=c.type.prototype;!n&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(i.index),n=!0),!a&&(h.ngOnChanges||h.ngDoCheck)&&((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(i.index),a=!0),l++}!function(e,t){const i=t.directiveEnd,n=e.data,o=t.attrs,r=[];let s=null,a=null;for(let l=t.directiveStart;l<i;l++){const e=n[l],i=e.inputs,c=null===o||ho(t)?null:tr(i,o);r.push(c),s=$o(i,l,s),a=$o(e.outputs,l,a)}null!==s&&(s.hasOwnProperty("class")&&(t.flags|=16),s.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=r,t.inputs=s,t.outputs=a}(e,i)}s&&function(e,t,i){if(t){const n=e.localNames=[];for(let e=0;e<t.length;e+=2){const o=i[t[e+1]];if(null==o)throw new m("301",`Export of name '${t[e+1]}' not found!`);n.push(t[e],o)}}}(i,n,s)}return i.mergedAttrs=Mt(i.mergedAttrs,i.attrs),o}function Ko(e,t,i,n,o,r){const s=r.hostBindings;if(s){let i=e.hostBindingOpCodes;null===i&&(i=e.hostBindingOpCodes=[]);const r=~t.index;(function(e){let t=e.length;for(;t>0;){const i=e[--t];if("number"==typeof i&&i<0)return i}return 0})(i)!=r&&i.push(r),i.push(n,o,s)}}function Wo(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function Go(e,t){t.flags|=2,(e.components||(e.components=[])).push(t.index)}function Yo(e,t,i){if(i){if(t.exportAs)for(let n=0;n<t.exportAs.length;n++)i[t.exportAs[n]]=e;ge(t)&&(i[""]=e)}}function jo(e,t,i){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+i,e.providerIndexes=t}function Xo(e,t,i,n,o){e.data[n]=o;const r=o.factory||(o.factory=me(o.type)),s=new Zt(r,ge(o),null);e.blueprint[n]=s,i[n]=s,Ko(e,t,0,n,Io(e,i,o.hostVars,bo),o)}function Jo(e,t,i){const n=Ie(t,e),o=No(i),r=e[10],s=sr(e,Mo(e,o,null,i.onPush?64:16,n,t,r,r.createRenderer(n,i),null,null));e[t.index]=s}function Qo(e,t,i,n,o,r){const s=Ie(e,t);!function(e,t,i,n,o,r,s){if(null==r)Se(e)?e.removeAttribute(t,o,i):t.removeAttribute(o);else{const a=null==s?_(r):s(r,n||"",o);Se(e)?e.setAttribute(t,o,a,i):i?t.setAttributeNS(i,o,a):t.setAttribute(o,a)}}(t[11],s,r,e.value,i,n,o)}function er(e,t,i,n,o,r){const s=r[t];if(null!==s){const e=n.setInput;for(let t=0;t<s.length;){const o=s[t++],r=s[t++],a=s[t++];null!==e?n.setInput(i,a,o,r):i[r]=a}}}function tr(e,t){let i=null,n=0;for(;n<t.length;){const o=t[n];if(0!==o)if(5!==o){if("number"==typeof o)break;e.hasOwnProperty(o)&&(null===i&&(i=[]),i.push(o,e[o],t[n+1])),n+=2}else n+=2;else n+=4}return i}function ir(e,t,i,n){return new Array(e,!0,!1,t,null,0,n,i,null,null)}function nr(e,t){const i=qe(t,e);if(Ue(i)){const e=i[1];80&i[2]?Ro(e,i,e.template,i[8]):i[5]>0&&or(i)}}function or(e){for(let i=Ln(e);null!==i;i=Un(i))for(let e=10;e<i.length;e++){const t=i[e];if(1024&t[2]){const e=t[1];Ro(e,t,e.template,t[8])}else t[5]>0&&or(t)}const t=e[1].components;if(null!==t)for(let i=0;i<t.length;i++){const n=qe(t[i],e);Ue(n)&&n[5]>0&&or(n)}}function rr(e,t){const i=qe(t,e),n=i[1];(function(e,t){for(let i=t.length;i<e.blueprint.length;i++)t.push(e.blueprint[i])})(n,i),Po(n,i,i[8])}function sr(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function ar(e){for(;e;){e[2]|=64;const t=qn(e);if(fe(e)&&!t)return e;e=t}return null}function lr(e,t,i){const n=t[10];n.begin&&n.begin();try{Ro(e,t,e.template,i)}catch(o){throw gr(t,o),o}finally{n.end&&n.end()}}function cr(e){!function(e){for(let t=0;t<e.components.length;t++){const i=e.components[t],n=Zn(i),o=n[1];qo(o,n,o.template,i)}}(e[8])}function hr(e,t,i){st(0),t(e,i)}const ur=(()=>Promise.resolve(null))();function dr(e){return e[7]||(e[7]=[])}function pr(e){return e.cleanup||(e.cleanup=[])}function gr(e,t){const i=e[9],n=i?i.get(En,null):null;n&&n.handleError(t)}function fr(e,t,i,n,o){for(let r=0;r<i.length;){const s=i[r++],a=i[r++],l=t[s],c=e.data[s];null!==c.setInput?c.setInput(l,o,n,a):l[a]=o}}function mr(e,t,i){const n=Oe(t,e);!function(e,t,i){Se(e)?e.setValue(t,i):t.textContent=i}(e[11],n,i)}function _r(e,t,i){let n=i?e.styles:null,o=i?e.classes:null,r=0;if(null!==t)for(let s=0;s<t.length;s++){const e=t[s];"number"==typeof e?r=e:1==r?o=u(o,e):2==r&&(n=u(n,e+": "+t[++s]+";"))}i?e.styles=n:e.stylesWithoutHost=n,i?e.classes=o:e.classesWithoutHost=o}const vr=new ri("INJECTOR",-1);class yr{get(e,t=mi){if(t===mi){const t=new Error(`NullInjectorError: No provider for ${h(e)}!`);throw t.name="NullInjectorError",t}return t}}const br=new ri("Set Injector scope."),wr={},Ar={};let xr;function Tr(){return void 0===xr&&(xr=new yr),xr}function Cr(e,t=null,i=null,n){return new Zr(e,i,t||Tr(),n)}class Zr{constructor(e,t,i,n=null){this.parent=i,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const o=[];t&&ci(t,i=>this.processProvider(i,e,t)),ci([e],e=>this.processInjectorType(e,[],o)),this.records.set(vr,Er(void 0,this));const r=this.records.get(br);this.scope=null!=r?r.value:null,this.source=n||("object"==typeof e?null:h(e))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(e=>e.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(e,t=mi,i=M.Default){this.assertNotDestroyed();const n=xi(this),o=I(void 0);try{if(!(i&M.SkipSelf)){let t=this.records.get(e);if(void 0===t){const i=("function"==typeof(r=e)||"object"==typeof r&&r instanceof ri)&&x(e);t=i&&this.injectableDefInScope(i)?Er(kr(e),wr):null,this.records.set(e,t)}if(null!=t)return this.hydrate(e,t)}return(i&M.Self?Tr():this.parent).get(e,t=i&M.Optional&&t===mi?null:t)}catch(s){if("NullInjectorError"===s.name){if((s[vi]=s[vi]||[]).unshift(h(e)),n)throw s;return Ei(s,e,"R3InjectorError",this.source)}throw s}finally{I(o),xi(n)}var r}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(e=>this.get(e))}toString(){const e=[];return this.records.forEach((t,i)=>e.push(h(i))),`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(e,t,i){if(!(e=g(e)))return!1;let n=C(e);const o=null==n&&e.ngModule||void 0,r=void 0===o?e:o,s=-1!==i.indexOf(r);if(void 0!==o&&(n=C(o)),null==n)return!1;if(null!=n.imports&&!s){let e;i.push(r);try{ci(n.imports,n=>{this.processInjectorType(n,t,i)&&(void 0===e&&(e=[]),e.push(n))})}finally{}if(void 0!==e)for(let t=0;t<e.length;t++){const{ngModule:i,providers:n}=e[t];ci(n,e=>this.processProvider(e,i,n||H))}}this.injectorDefTypes.add(r);const a=me(r)||(()=>new r);this.records.set(r,Er(a,wr));const l=n.providers;if(null!=l&&!s){const t=e;ci(l,e=>this.processProvider(e,t,l))}return void 0!==o&&void 0!==e.providers}processProvider(e,t,i){let n=Or(e=g(e))?e:g(e&&e.provide);const o=Mr(r=e)?Er(void 0,r.useValue):Er(Sr(r),wr);var r;if(Or(e)||!0!==e.multi)this.records.get(n);else{let t=this.records.get(n);t||(t=Er(void 0,wr,!0),t.factory=()=>Zi(t.multi),this.records.set(n,t)),n=e,t.multi.push(e)}this.records.set(n,o)}hydrate(e,t){return t.value===wr&&(t.value=Ar,t.value=t.factory()),"object"==typeof t.value&&t.value&&null!==(i=t.value)&&"object"==typeof i&&"function"==typeof i.ngOnDestroy&&this.onDestroy.add(t.value),t.value;var i}injectableDefInScope(e){if(!e.providedIn)return!1;const t=g(e.providedIn);return"string"==typeof t?"any"===t||t===this.scope:this.injectorDefTypes.has(t)}}function kr(e){const t=x(e),i=null!==t?t.factory:me(e);if(null!==i)return i;if(e instanceof ri)throw new Error(`Token ${h(e)} is missing a \u0275prov definition.`);if(e instanceof Function)return function(e){const t=e.length;if(t>0){const i=di(t,"?");throw new Error(`Can't resolve all parameters for ${h(e)}: (${i.join(", ")}).`)}const i=function(e){const t=e&&(e[Z]||e[S]);if(t){const i=function(e){if(e.hasOwnProperty("name"))return e.name;const t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn(`DEPRECATED: DI is instantiating a token "${i}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${i}" class.`),t}return null}(e);return null!==i?()=>i.factory(e):()=>new e}(e);throw new Error("unreachable")}function Sr(e,t,i){let n;if(Or(e)){const t=g(e);return me(t)||kr(t)}if(Mr(e))n=()=>g(e.useValue);else if(function(e){return!(!e||!e.useFactory)}(e))n=()=>e.useFactory(...Zi(e.deps||[]));else if(function(e){return!(!e||!e.useExisting)}(e))n=()=>Ci(g(e.useExisting));else{const t=g(e&&(e.useClass||e.provide));if(!function(e){return!!e.deps}(e))return me(t)||kr(t);n=()=>new t(...Zi(e.deps))}return n}function Er(e,t,i=!1){return{factory:e,value:t,multi:i?[]:void 0}}function Mr(e){return null!==e&&"object"==typeof e&&wi in e}function Or(e){return"function"==typeof e}const Ir=function(e,t,i){return function(e,t=null,i=null,n){const o=Cr(e,t,i,n);return o._resolveInjectorDefTypes(),o}({name:i},t,e,i)};let Pr=(()=>{class e{static create(e,t){return Array.isArray(e)?Ir(e,t,""):Ir(e.providers,e.parent,e.name||"")}}return e.THROW_IF_NOT_FOUND=mi,e.NULL=new yr,e.\u0275prov=w({token:e,providedIn:"any",factory:()=>Ci(vr)}),e.__NG_ELEMENT_ID__=-1,e})();function Rr(e,t){bt(Zn(e)[1],Ke())}function qr(e){let t=function(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),i=!0;const n=[e];for(;t;){let o;if(ge(e))o=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Error("Directives cannot inherit Components");o=t.\u0275dir}if(o){if(i){n.push(o);const t=e;t.inputs=Lr(e.inputs),t.declaredInputs=Lr(e.declaredInputs),t.outputs=Lr(e.outputs);const i=o.hostBindings;i&&Dr(e,i);const r=o.viewQuery,s=o.contentQueries;if(r&&Ur(e,r),s&&Br(e,s),c(e.inputs,o.inputs),c(e.declaredInputs,o.declaredInputs),c(e.outputs,o.outputs),ge(o)&&o.data.animation){const t=e.data;t.animation=(t.animation||[]).concat(o.data.animation)}}const t=o.features;if(t)for(let n=0;n<t.length;n++){const o=t[n];o&&o.ngInherit&&o(e),o===qr&&(i=!1)}}t=Object.getPrototypeOf(t)}!function(e){let t=0,i=null;for(let n=e.length-1;n>=0;n--){const o=e[n];o.hostVars=t+=o.hostVars,o.hostAttrs=Mt(o.hostAttrs,i=Mt(i,o.hostAttrs))}}(n)}function Lr(e){return e===F?{}:e===H?[]:e}function Ur(e,t){const i=e.viewQuery;e.viewQuery=i?(e,n)=>{t(e,n),i(e,n)}:t}function Br(e,t){const i=e.contentQueries;e.contentQueries=i?(e,n,o)=>{t(e,n,o),i(e,n,o)}:t}function Dr(e,t){const i=e.hostBindings;e.hostBindings=i?(e,n)=>{t(e,n),i(e,n)}:t}let Nr=null;function Fr(){if(!Nr){const e=N.Symbol;if(e&&e.iterator)Nr=e.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const i=e[t];"entries"!==i&&"size"!==i&&Map.prototype[i]===Map.prototype.entries&&(Nr=i)}}}return Nr}class Hr{constructor(e){this.wrapped=e}static wrap(e){return new Hr(e)}static unwrap(e){return Hr.isWrapped(e)?e.wrapped:e}static isWrapped(e){return e instanceof Hr}}function $r(e){return!!zr(e)&&(Array.isArray(e)||!(e instanceof Map)&&Fr()in e)}function zr(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Vr(e,t,i){return e[t]=i}function Kr(e,t,i){return!Object.is(e[t],i)&&(e[t]=i,!0)}function Wr(e,t,i,n){const o=$e();return Kr(o,tt(),t)&&(ze(),Qo(_t(),o,e,t,i,n)),Wr}function Gr(e,t,i,n){return Kr(e,tt(),i)?t+_(i)+n:bo}function Yr(e,t,i,n,o,r){const s=function(e,t,i,n){const o=Kr(e,t,i);return Kr(e,t+1,n)||o}(e,et(),i,o);return it(2),s?t+_(i)+n+_(o)+r:bo}function jr(e,t,i,n,o,r,s,a){const l=$e(),c=ze(),h=e+20,u=c.firstCreatePass?function(e,t,i,n,o,r,s,a,l){const c=t.consts,h=Oo(t,e,4,s||null,Be(c,a));Vo(t,i,h,Be(c,l)),bt(t,h);const u=h.tViews=Fo(2,h,n,o,r,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c);return null!==t.queries&&(t.queries.template(t,h),u.queries=t.queries.embeddedTView(h)),h}(h,c,l,t,i,n,o,r,s):c.data[h];Ge(u,!1);const d=l[11].createComment("");Jn(c,l,d,u),Cn(d,l),sr(l,l[h]=ir(d,l,d,u)),pe(u)&&Bo(c,l,u),null!=s&&Do(l,u,a)}function Xr(e){return Re(Fe.lFrame.contextLView,20+e)}function Jr(e,t=M.Default){const i=$e();return null===i?Ci(e,t):Vt(Ke(),i,g(e),t)}function Qr(e,t,i){const n=$e();return Kr(n,tt(),t)&&zo(ze(),_t(),n,e,t,n[11],i,!1),Qr}function es(e,t,i,n,o){const r=o?"class":"style";fr(e,i,t.inputs[r],r,n)}function ts(e,t,i,n){const o=$e(),r=ze(),s=20+e,a=o[11],l=o[s]=Nn(a,t,Fe.lFrame.currentNamespace),c=r.firstCreatePass?function(e,t,i,n,o,r,s){const a=t.consts,l=Oo(t,e,2,o,Be(a,r));return Vo(t,i,l,Be(a,s)),null!==l.attrs&&_r(l,l.attrs,!1),null!==l.mergedAttrs&&_r(l,l.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,l),l}(s,r,o,0,t,i,n):r.data[s];Ge(c,!0);const h=c.mergedAttrs;null!==h&&kt(a,l,h);const u=c.classes;null!==u&&so(a,l,u);const d=c.styles;null!==d&&ro(a,l,d),64!=(64&c.flags)&&Jn(r,o,l,c),0===Fe.lFrame.elementDepthCount&&Cn(l,o),Fe.lFrame.elementDepthCount++,pe(c)&&(Bo(r,o,c),Uo(r,c,o)),null!==n&&Do(o,c)}function is(){let e=Ke();Ye()?je():(e=e.parent,Ge(e,!1));const t=e;Fe.lFrame.elementDepthCount--;const i=ze();i.firstCreatePass&&(bt(i,e),ue(e)&&i.queries.elementEnd(e)),null!=t.classesWithoutHost&&function(e){return 0!=(16&e.flags)}(t)&&es(i,t,$e(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function(e){return 0!=(32&e.flags)}(t)&&es(i,t,$e(),t.stylesWithoutHost,!1)}function ns(e,t,i,n){ts(e,t,i,n),is()}function os(e,t,i){const n=$e(),o=ze(),r=e+20,s=o.firstCreatePass?function(e,t,i,n,o){const r=t.consts,s=Be(r,n),a=Oo(t,e,8,"ng-container",s);return null!==s&&_r(a,s,!0),Vo(t,i,a,Be(r,o)),null!==t.queries&&t.queries.elementStart(t,a),a}(r,o,n,t,i):o.data[r];Ge(s,!0);const a=n[r]=n[11].createComment("");Jn(o,n,a,s),Cn(a,n),pe(s)&&(Bo(o,n,s),Uo(o,s,n)),null!=i&&Do(n,s)}function rs(){let e=Ke();const t=ze();Ye()?je():(e=e.parent,Ge(e,!1)),t.firstCreatePass&&(bt(t,e),ue(e)&&t.queries.elementEnd(e))}function ss(e,t,i){os(e,t,i),rs()}function as(){return $e()}function ls(e){return!!e&&"function"==typeof e.then}function cs(e){return!!e&&"function"==typeof e.subscribe}const hs=cs;function us(e,t,i,n){const o=$e(),r=ze(),s=Ke();return function(e,t,i,n,o,r,s,a){const l=pe(n),c=e.firstCreatePass&&pr(e),h=t[8],u=dr(t);let d=!0;if(3&n.type||a){const p=Ie(n,t),g=a?a(p):p,f=u.length,m=a?e=>a(Me(e[n.index])):n.index;if(Se(i)){let s=null;if(!a&&l&&(s=function(e,t,i,n){const o=e.cleanup;if(null!=o)for(let r=0;r<o.length-1;r+=2){const e=o[r];if(e===i&&o[r+1]===n){const e=t[7],i=o[r+2];return e.length>i?e[i]:null}"string"==typeof e&&(r+=2)}return null}(e,t,o,n.index)),null!==s)(s.__ngLastListenerFn__||s).__ngNextListenerFn__=r,s.__ngLastListenerFn__=r,d=!1;else{r=ps(n,t,h,r,!1);const e=i.listen(g,o,r);u.push(r,e),c&&c.push(o,m,f,f+1)}}else r=ps(n,t,h,r,!0),g.addEventListener(o,r,s),u.push(r),c&&c.push(o,m,f,s)}else r=ps(n,t,h,r,!1);const p=n.outputs;let g;if(d&&null!==p&&(g=p[o])){const e=g.length;if(e)for(let i=0;i<e;i+=2){const e=t[g[i]][g[i+1]].subscribe(r),s=u.length;u.push(r,e),c&&c.push(o,n.index,s,-(s+1))}}}(r,o,o[11],s,e,t,!!i,n),us}function ds(e,t,i,n){try{return!1!==i(n)}catch(o){return gr(e,o),!1}}function ps(e,t,i,n,o){return function i(r){if(r===Function)return n;const s=2&e.flags?qe(e.index,t):t;0==(32&t[2])&&ar(s);let a=ds(t,0,n,r),l=i.__ngNextListenerFn__;for(;l;)a=ds(t,0,l,r)&&a,l=l.__ngNextListenerFn__;return o&&!1===a&&(r.preventDefault(),r.returnValue=!1),a}}function gs(e=1){return function(e){return(Fe.lFrame.contextLView=function(e,t){for(;e>0;)t=t[15],e--;return t}(e,Fe.lFrame.contextLView))[8]}(e)}function fs(e,t){let i=null;const n=function(e){const t=e.attrs;if(null!=t){const e=t.indexOf(5);if(0==(1&e))return t[e+1]}return null}(e);for(let o=0;o<t.length;o++){const r=t[o];if("*"!==r){if(null===n?mo(e,r,!0):_o(n,r))return o}else i=o}return i}function ms(e){const t=$e()[16][6];if(!t.projection){const i=t.projection=di(e?e.length:1,null),n=i.slice();let o=t.child;for(;null!==o;){const t=e?fs(o,e):0;null!==t&&(n[t]?n[t].projectionNext=o:i[t]=o,n[t]=o),o=o.next}}}function _s(e,t=0,i){const n=$e(),o=ze(),r=Oo(o,20+e,16,null,i||null);null===r.projection&&(r.projection=t),je(),64!=(64&r.flags)&&function(e,t,i){oo(t[11],0,t,i,Vn(e,i,t),jn(i.parent||t[6],i,t))}(o,n,r)}function vs(e,t,i){return ys(e,"",t,"",i),vs}function ys(e,t,i,n,o){const r=$e(),s=Gr(r,t,i,n);return s!==bo&&zo(ze(),_t(),r,e,s,r[11],o,!1),ys}function bs(e,t,i,n,o){const r=e[i+1],s=null===t;let a=n?To(r):Zo(r),l=!1;for(;0!==a&&(!1===l||s);){const i=e[a+1];ws(e[a],t)&&(l=!0,e[a+1]=n?So(i):Co(i)),a=n?To(i):Zo(i)}l&&(e[i+1]=n?Co(r):So(r))}function ws(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&fi(e,t)>=0}const As={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function xs(e){return e.substring(As.key,As.keyEnd)}function Ts(e,t){const i=As.textEnd;return i===t?-1:(t=As.keyEnd=function(e,t,i){for(;t<i&&e.charCodeAt(t)>32;)t++;return t}(e,As.key=t,i),Cs(e,t,i))}function Cs(e,t,i){for(;t<i&&e.charCodeAt(t)<=32;)t++;return t}function Zs(e,t,i){return Ms(e,t,i,!1),Zs}function ks(e,t){return Ms(e,t,null,!0),ks}function Ss(e){Os(pi,Es,e,!0)}function Es(e,t){for(let i=function(e){return function(e){As.key=0,As.keyEnd=0,As.value=0,As.valueEnd=0,As.textEnd=e.length}(e),Ts(e,Cs(e,0,As.textEnd))}(t);i>=0;i=Ts(t,i))pi(e,xs(t),!0)}function Ms(e,t,i,n){const o=$e(),r=ze(),s=it(2);r.firstUpdatePass&&Ps(r,e,s,n),t!==bo&&Kr(o,s,t)&&Ls(r,r.data[ft()],o,o[11],e,o[s+1]=function(e,t){return null==e||("string"==typeof t?e+=t:"object"==typeof e&&(e=h($i(e)))),e}(t,i),n,s)}function Os(e,t,i,n){const o=ze(),r=it(2);o.firstUpdatePass&&Ps(o,null,r,n);const s=$e();if(i!==bo&&Kr(s,r,i)){const a=o.data[ft()];if(Ds(a,n)&&!Is(o,r)){let e=n?a.classesWithoutHost:a.stylesWithoutHost;null!==e&&(i=u(e,i||"")),es(o,a,s,i,n)}else!function(e,t,i,n,o,r,s,a){o===bo&&(o=H);let l=0,c=0,h=0<o.length?o[0]:null,u=0<r.length?r[0]:null;for(;null!==h||null!==u;){const d=l<o.length?o[l+1]:void 0,p=c<r.length?r[c+1]:void 0;let g,f=null;h===u?(l+=2,c+=2,d!==p&&(f=u,g=p)):null===u||null!==h&&h<u?(l+=2,f=h):(c+=2,f=u,g=p),null!==f&&Ls(e,t,i,n,f,g,s,a),h=l<o.length?o[l]:null,u=c<r.length?r[c]:null}}(o,a,s,s[11],s[r+1],s[r+1]=function(e,t,i){if(null==i||""===i)return H;const n=[],o=$i(i);if(Array.isArray(o))for(let r=0;r<o.length;r++)e(n,o[r],!0);else if("object"==typeof o)for(const r in o)o.hasOwnProperty(r)&&e(n,r,o[r]);else"string"==typeof o&&t(n,o);return n}(e,t,i),n,r)}}function Is(e,t){return t>=e.expandoStartIndex}function Ps(e,t,i,n){const o=e.data;if(null===o[i+1]){const r=o[ft()],s=Is(e,i);Ds(r,n)&&null===t&&!s&&(t=!1),t=function(e,t,i,n){const o=function(e){const t=Fe.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let r=n?t.residualClasses:t.residualStyles;if(null===o)0===(n?t.classBindings:t.styleBindings)&&(i=qs(i=Rs(null,e,t,i,n),t.attrs,n),r=null);else{const s=t.directiveStylingLast;if(-1===s||e[s]!==o)if(i=Rs(o,e,t,i,n),null===r){let i=function(e,t,i){const n=i?t.classBindings:t.styleBindings;if(0!==Zo(n))return e[To(n)]}(e,t,n);void 0!==i&&Array.isArray(i)&&(i=Rs(null,e,t,i[1],n),i=qs(i,t.attrs,n),function(e,t,i,n){e[To(i?t.classBindings:t.styleBindings)]=n}(e,t,n,i))}else r=function(e,t,i){let n;const o=t.directiveEnd;for(let r=1+t.directiveStylingLast;r<o;r++)n=qs(n,e[r].hostAttrs,i);return qs(n,t.attrs,i)}(e,t,n)}return void 0!==r&&(n?t.residualClasses=r:t.residualStyles=r),i}(o,r,t,n),function(e,t,i,n,o,r){let s=r?t.classBindings:t.styleBindings,a=To(s),l=Zo(s);e[n]=i;let c,h=!1;if(Array.isArray(i)){const e=i;c=e[1],(null===c||fi(e,c)>0)&&(h=!0)}else c=i;if(o)if(0!==l){const t=To(e[a+1]);e[n+1]=xo(t,a),0!==t&&(e[t+1]=ko(e[t+1],n)),e[a+1]=function(e,t){return 131071&e|t<<17}(e[a+1],n)}else e[n+1]=xo(a,0),0!==a&&(e[a+1]=ko(e[a+1],n)),a=n;else e[n+1]=xo(l,0),0===a?a=n:e[l+1]=ko(e[l+1],n),l=n;h&&(e[n+1]=Co(e[n+1])),bs(e,c,n,!0),bs(e,c,n,!1),function(e,t,i,n,o){const r=o?e.residualClasses:e.residualStyles;null!=r&&"string"==typeof t&&fi(r,t)>=0&&(i[n+1]=So(i[n+1]))}(t,c,e,n,r),s=xo(a,l),r?t.classBindings=s:t.styleBindings=s}(o,r,t,i,s,n)}}function Rs(e,t,i,n,o){let r=null;const s=i.directiveEnd;let a=i.directiveStylingLast;for(-1===a?a=i.directiveStart:a++;a<s&&(r=t[a],n=qs(n,r.hostAttrs,o),r!==e);)a++;return null!==e&&(i.directiveStylingLast=a),n}function qs(e,t,i){const n=i?1:2;let o=-1;if(null!==t)for(let r=0;r<t.length;r++){const s=t[r];"number"==typeof s?o=s:o===n&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),pi(e,s,!!i||t[++r]))}return void 0===e?null:e}function Ls(e,t,i,n,o,r,s,a){if(!(3&t.type))return;const l=e.data,c=l[a+1];Bs(function(e){return 1==(1&e)}(c)?Us(l,t,i,o,Zo(c),s):void 0)||(Bs(r)||function(e){return 2==(2&e)}(c)&&(r=Us(l,null,i,o,a,s)),function(e,t,i,n,o){const r=Se(e);if(t)o?r?e.addClass(i,n):i.classList.add(n):r?e.removeClass(i,n):i.classList.remove(n);else{let t=-1===n.indexOf("-")?void 0:Pn.DashCase;if(null==o)r?e.removeStyle(i,n,t):i.style.removeProperty(n);else{const s="string"==typeof o&&o.endsWith("!important");s&&(o=o.slice(0,-10),t|=Pn.Important),r?e.setStyle(i,n,o,t):i.style.setProperty(n,o,s?"important":"")}}}(n,s,Oe(ft(),i),o,r))}function Us(e,t,i,n,o,r){const s=null===t;let a;for(;o>0;){const t=e[o],r=Array.isArray(t),l=r?t[1]:t,c=null===l;let h=i[o+1];h===bo&&(h=c?H:void 0);let u=c?gi(h,n):l===n?h:void 0;if(r&&!Bs(u)&&(u=gi(t,n)),Bs(u)&&(a=u,s))return a;const d=e[o+1];o=s?To(d):Zo(d)}if(null!==t){let e=r?t.residualClasses:t.residualStyles;null!=e&&(a=gi(e,n))}return a}function Bs(e){return void 0!==e}function Ds(e,t){return 0!=(e.flags&(t?16:32))}function Ns(e,t=""){const i=$e(),n=ze(),o=e+20,r=n.firstCreatePass?Oo(n,o,1,t,null):n.data[o],s=i[o]=function(e,t){return Se(e)?e.createText(t):e.createTextNode(t)}(i[11],t);Jn(n,i,s,r),Ge(r,!1)}function Fs(e){return Hs("",e,""),Fs}function Hs(e,t,i){const n=$e(),o=Gr(n,e,t,i);return o!==bo&&mr(n,ft(),o),Hs}function $s(e,t,i,n,o){const r=$e(),s=Yr(r,e,t,i,n,o);return s!==bo&&mr(r,ft(),s),$s}function zs(e,t,i){Os(pi,Es,Gr($e(),e,t,i),!0)}function Vs(e,t,i){const n=$e();return Kr(n,tt(),t)&&zo(ze(),_t(),n,e,t,n[11],i,!0),Vs}const Ks=void 0;var Ws=["en",[["a","p"],["AM","PM"],Ks],[["AM","PM"],Ks,Ks],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ks,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ks,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ks,"{1} 'at' {0}",Ks],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(e){const t=Math.floor(Math.abs(e)),i=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===i?1:5}];let Gs={};function Ys(e){const t=function(e){return e.toLowerCase().replace(/_/g,"-")}(e);let i=Xs(t);if(i)return i;const n=t.split("-")[0];if(i=Xs(n),i)return i;if("en"===n)return Ws;throw new Error(`Missing locale data for the locale "${e}".`)}function js(e){return Ys(e)[Js.PluralCase]}function Xs(e){return e in Gs||(Gs[e]=N.ng&&N.ng.common&&N.ng.common.locales&&N.ng.common.locales[e]),Gs[e]}var Js=(()=>((Js=Js||{})[Js.LocaleId=0]="LocaleId",Js[Js.DayPeriodsFormat=1]="DayPeriodsFormat",Js[Js.DayPeriodsStandalone=2]="DayPeriodsStandalone",Js[Js.DaysFormat=3]="DaysFormat",Js[Js.DaysStandalone=4]="DaysStandalone",Js[Js.MonthsFormat=5]="MonthsFormat",Js[Js.MonthsStandalone=6]="MonthsStandalone",Js[Js.Eras=7]="Eras",Js[Js.FirstDayOfWeek=8]="FirstDayOfWeek",Js[Js.WeekendRange=9]="WeekendRange",Js[Js.DateFormat=10]="DateFormat",Js[Js.TimeFormat=11]="TimeFormat",Js[Js.DateTimeFormat=12]="DateTimeFormat",Js[Js.NumberSymbols=13]="NumberSymbols",Js[Js.NumberFormats=14]="NumberFormats",Js[Js.CurrencyCode=15]="CurrencyCode",Js[Js.CurrencySymbol=16]="CurrencySymbol",Js[Js.CurrencyName=17]="CurrencyName",Js[Js.Currencies=18]="Currencies",Js[Js.Directionality=19]="Directionality",Js[Js.PluralCase=20]="PluralCase",Js[Js.ExtraData=21]="ExtraData",Js))();const Qs="en-US";let ea=Qs;function ta(e){b(e,"Expected localeId to be defined"),"string"==typeof e&&(ea=e.toLowerCase().replace(/_/g,"-"))}function ia(e,t,i,n,o){if(e=g(e),Array.isArray(e))for(let r=0;r<e.length;r++)ia(e[r],t,i,n,o);else{const r=ze(),s=$e();let a=Or(e)?e:g(e.provide),l=Sr(e);const c=Ke(),h=1048575&c.providerIndexes,u=c.directiveStart,d=c.providerIndexes>>20;if(Or(e)||!e.multi){const n=new Zt(l,o,Jr),p=ra(a,t,o?h:h+d,u);-1===p?(Ht(Bt(c,s),r,a),na(r,e,t.length),t.push(a),c.directiveStart++,c.directiveEnd++,o&&(c.providerIndexes+=1048576),i.push(n),s.push(n)):(i[p]=n,s[p]=n)}else{const p=ra(a,t,h+d,u),g=ra(a,t,h,h+d),f=p>=0&&i[p],m=g>=0&&i[g];if(o&&!m||!o&&!f){Ht(Bt(c,s),r,a);const h=function(e,t,i,n,o){const r=new Zt(e,i,Jr);return r.multi=[],r.index=t,r.componentProviders=0,oa(r,o,n&&!i),r}(o?aa:sa,i.length,o,n,l);!o&&m&&(i[g].providerFactory=h),na(r,e,t.length,0),t.push(a),c.directiveStart++,c.directiveEnd++,o&&(c.providerIndexes+=1048576),i.push(h),s.push(h)}else na(r,e,p>-1?p:g,oa(i[o?g:p],l,!o&&n));!o&&n&&m&&i[g].componentProviders++}}}function na(e,t,i,n){const o=Or(t);if(o||function(e){return!!e.useClass}(t)){const r=(t.useClass||t).prototype.ngOnDestroy;if(r){const s=e.destroyHooks||(e.destroyHooks=[]);if(!o&&t.multi){const e=s.indexOf(i);-1===e?s.push(i,[n,r]):s[e+1].push(n,r)}else s.push(i,r)}}}function oa(e,t,i){return i&&e.componentProviders++,e.multi.push(t)-1}function ra(e,t,i,n){for(let o=i;o<n;o++)if(t[o]===e)return o;return-1}function sa(e,t,i,n){return la(this.multi,[])}function aa(e,t,i,n){const o=this.multi;let r;if(this.providerFactory){const e=this.providerFactory.componentProviders,t=jt(i,i[1],this.providerFactory.index,n);r=t.slice(0,e),la(o,r);for(let i=e;i<t.length;i++)r.push(t[i])}else r=[],la(o,r);return r}function la(e,t){for(let i=0;i<e.length;i++)t.push((0,e[i])());return t}function ca(e,t=[]){return i=>{i.providersResolver=(i,n)=>function(e,t,i){const n=ze();if(n.firstCreatePass){const o=ge(e);ia(i,n.data,n.blueprint,o,!0),ia(t,n.data,n.blueprint,o,!1)}}(i,n?n(e):e,t)}}class ha{}const ua="ngComponent";class da{resolveComponentFactory(e){throw function(e){const t=Error(`No component factory found for ${h(e)}. Did you add it to @NgModule.entryComponents?`);return t[ua]=e,t}(e)}}let pa=(()=>{class e{}return e.NULL=new da,e})();function ga(...e){}function fa(e,t){return new _a(Ie(e,t))}const ma=function(){return fa(Ke(),$e())};let _a=(()=>{class e{constructor(e){this.nativeElement=e}}return e.__NG_ELEMENT_ID__=ma,e})();function va(e){return e instanceof _a?e.nativeElement:e}class ya{}let ba=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>wa(),e})();const wa=function(){const e=$e(),t=qe(Ke().index,e);return function(e){return e[11]}(ce(t)?t:e)};let Aa=(()=>{class e{}return e.\u0275prov=w({token:e,providedIn:"root",factory:()=>null}),e})();class xa{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const Ta=new xa("12.2.16");class Ca{constructor(){}supports(e){return $r(e)}create(e){return new ka(e)}}const Za=(e,t)=>t;class ka{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||Za}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,i=this._removalsHead,n=0,o=null;for(;t||i;){const r=!i||t&&t.currentIndex<Oa(i,n,o)?t:i,s=Oa(r,n,o),a=r.currentIndex;if(r===i)n--,i=i._nextRemoved;else if(t=t._next,null==r.previousIndex)n++;else{o||(o=[]);const e=s-n,t=a-n;if(e!=t){for(let i=0;i<e;i++){const n=i<o.length?o[i]:o[i]=0,r=n+i;t<=r&&r<e&&(o[i]=n+1)}o[r.previousIndex]=t-e}}s!==a&&e(r,s,a)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!$r(e))throw new Error(`Error trying to diff '${h(e)}'. Only arrays and iterables are allowed`);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t,i,n,o=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let t=0;t<this.length;t++)i=e[t],n=this._trackByFn(t,i),null!==o&&Object.is(o.trackById,n)?(r&&(o=this._verifyReinsertion(o,i,n,t)),Object.is(o.item,i)||this._addIdentityChange(o,i)):(o=this._mismatch(o,i,n,t),r=!0),o=o._next}else t=0,function(e,t){if(Array.isArray(e))for(let i=0;i<e.length;i++)t(e[i]);else{const i=e[Fr()]();let n;for(;!(n=i.next()).done;)t(n.value)}}(e,e=>{n=this._trackByFn(t,e),null!==o&&Object.is(o.trackById,n)?(r&&(o=this._verifyReinsertion(o,e,n,t)),Object.is(o.item,e)||this._addIdentityChange(o,e)):(o=this._mismatch(o,e,n,t),r=!0),o=o._next,t++}),this.length=t;return this._truncate(o),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,i,n){let o;return null===e?o=this._itTail:(o=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,n)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(i,n))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,n)):e=this._addAfter(new Sa(t,i),o,n),e}_verifyReinsertion(e,t,i,n){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==o?e=this._reinsertAfter(o,e._prev,n):e.currentIndex!=n&&(e.currentIndex=n,this._addToMoves(e,n)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const n=e._prevRemoved,o=e._nextRemoved;return null===n?this._removalsHead=o:n._nextRemoved=o,null===o?this._removalsTail=n:o._prevRemoved=n,this._insertAfter(e,t,i),this._addToMoves(e,i),e}_moveAfter(e,t,i){return this._unlink(e),this._insertAfter(e,t,i),this._addToMoves(e,i),e}_addAfter(e,t,i){return this._insertAfter(e,t,i),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,i){const n=null===t?this._itHead:t._next;return e._next=n,e._prev=t,null===n?this._itTail=e:n._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new Ma),this._linkedRecords.put(e),e.currentIndex=i,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,i=e._next;return null===t?this._itHead=i:t._next=i,null===i?this._itTail=t:i._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Ma),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class Sa{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Ea{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===t||t<=i.currentIndex)&&Object.is(i.trackById,e))return i;return null}remove(e){const t=e._prevDup,i=e._nextDup;return null===t?this._head=i:t._nextDup=i,null===i?this._tail=t:i._prevDup=t,null===this._head}}class Ma{constructor(){this.map=new Map}put(e){const t=e.trackById;let i=this.map.get(t);i||(i=new Ea,this.map.set(t,i)),i.add(e)}get(e,t){const i=this.map.get(e);return i?i.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Oa(e,t,i){const n=e.previousIndex;if(null===n)return n;let o=0;return i&&n<i.length&&(o=i[n]),n+t+o}class Ia{constructor(){}supports(e){return e instanceof Map||zr(e)}create(){return new Pa}}class Pa{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||zr(e)))throw new Error(`Error trying to diff '${h(e)}'. Only maps and objects are allowed`)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(e,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,e),this._appendAfter=t,t=t._next;else{const n=this._getOrCreateRecordForKey(i,e);t=this._insertBeforeOrAppend(t,n)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let e=t;null!==e;e=e._nextRemoved)e===this._mapHead&&(this._mapHead=null),this._records.delete(e.key),e._nextRemoved=e._next,e.previousValue=e.currentValue,e.currentValue=null,e._prev=null,e._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const i=e._prev;return t._next=e,t._prev=i,e._prev=t,i&&(i._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,t);const n=i._prev,o=i._next;return n&&(n._next=o),o&&(o._prev=n),i._next=null,i._prev=null,i}const i=new Ra(e);return this._records.set(e,i),i.currentValue=t,this._addToAdditions(i),i}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(i=>t(e[i],i))}}class Ra{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function qa(){return new La([new Ca])}let La=(()=>{class e{constructor(e){this.factories=e}static create(t,i){if(null!=i){const e=i.factories.slice();t=t.concat(e)}return new e(t)}static extend(t){return{provide:e,useFactory:i=>e.create(t,i||qa()),deps:[[e,new Ii,new Oi]]}}find(e){const t=this.factories.find(t=>t.supports(e));if(null!=t)return t;throw new Error(`Cannot find a differ supporting object '${e}' of type '${function(e){return e.name||typeof e}(e)}'`)}}return e.\u0275prov=w({token:e,providedIn:"root",factory:qa}),e})();function Ua(){return new Ba([new Ia])}let Ba=(()=>{class e{constructor(e){this.factories=e}static create(t,i){if(i){const e=i.factories.slice();t=t.concat(e)}return new e(t)}static extend(t){return{provide:e,useFactory:i=>e.create(t,i||Ua()),deps:[[e,new Ii,new Oi]]}}find(e){const t=this.factories.find(t=>t.supports(e));if(t)return t;throw new Error(`Cannot find a differ supporting object '${e}'`)}}return e.\u0275prov=w({token:e,providedIn:"root",factory:Ua}),e})();function Da(e,t,i,n,o=!1){for(;null!==i;){const r=t[i.index];if(null!==r&&n.push(Me(r)),he(r))for(let e=10;e<r.length;e++){const t=r[e],i=t[1].firstChild;null!==i&&Da(t[1],t,i,n)}const s=i.type;if(8&s)Da(e,t,i.child,n);else if(32&s){const e=Rn(i,t);let o;for(;o=e();)n.push(o)}else if(16&s){const e=eo(t,i);if(Array.isArray(e))n.push(...e);else{const i=qn(t[16]);Da(i[1],i,e,n,!0)}}i=o?i.projectionNext:i.next}return n}class Na{constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,t=e[1];return Da(t,e,t.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(he(e)){const t=e[8],i=t?t.indexOf(this):-1;i>-1&&(Hn(e,i),ui(t,i))}this._attachedToViewContainer=!1}$n(this._lView[1],this._lView)}onDestroy(e){Ho(this._lView[1],this._lView,null,e)}markForCheck(){ar(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){lr(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(e,t,i){Je(!0);try{lr(e,t,i)}finally{Je(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var e;this._appRef=null,no(this._lView[1],e=this._lView,e[11],2,null,null)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}}class Fa extends Na{constructor(e){super(e),this._view=e}detectChanges(){cr(this._view)}checkNoChanges(){!function(e){Je(!0);try{cr(e)}finally{Je(!1)}}(this._view)}get context(){return null}}const Ha=function(e){return function(e,t,i){if(de(e)&&!i){const i=qe(e.index,t);return new Na(i,i)}return 47&e.type?new Na(t[16],t):null}(Ke(),$e(),16==(16&e))};let $a=(()=>{class e{}return e.__NG_ELEMENT_ID__=Ha,e})();const za=[new Ia],Va=new La([new Ca]),Ka=new Ba(za),Wa=function(){return Xa(Ke(),$e())};let Ga=(()=>{class e{}return e.__NG_ELEMENT_ID__=Wa,e})();const Ya=Ga,ja=class extends Ya{constructor(e,t,i){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=i}createEmbeddedView(e){const t=this._declarationTContainer.tViews,i=Mo(this._declarationLView,t,e,16,null,t.declTNode,null,null,null,null);i[17]=this._declarationLView[this._declarationTContainer.index];const n=this._declarationLView[19];return null!==n&&(i[19]=n.createEmbeddedView(t)),Po(t,i,e),new Na(i)}};function Xa(e,t){return 4&e.type?new ja(t,e,fa(e,t)):null}class Ja{}class Qa{}const el=function(){return sl(Ke(),$e())};let tl=(()=>{class e{}return e.__NG_ELEMENT_ID__=el,e})();const il=tl,nl=class extends il{constructor(e,t,i){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=i}get element(){return fa(this._hostTNode,this._hostLView)}get injector(){return new Qt(this._hostTNode,this._hostLView)}get parentInjector(){const e=Ft(this._hostTNode,this._hostLView);if(It(e)){const t=Rt(e,this._hostLView),i=Pt(e);return new Qt(t[1].data[i+8],t)}return new Qt(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=ol(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,t,i){const n=e.createEmbeddedView(t||{});return this.insert(n,i),n}createComponent(e,t,i,n,o){const r=i||this.parentInjector;if(!o&&null==e.ngModule&&r){const e=r.get(Ja,null);e&&(o=e)}const s=e.create(r,n,void 0,o);return this.insert(s.hostView,t),s}insert(e,t){const i=e._lView,n=i[1];if(he(i[3])){const t=this.indexOf(e);if(-1!==t)this.detach(t);else{const t=i[3],n=new nl(t,t[6],t[3]);n.detach(n.indexOf(e))}}const o=this._adjustIndex(t),r=this._lContainer;!function(e,t,i,n){const o=10+n,r=i.length;n>0&&(i[o-1][4]=t),n<r-10?(t[4]=i[o],hi(i,10+n,t)):(i.push(t),t[4]=null),t[3]=i;const s=t[17];null!==s&&i!==s&&function(e,t){const i=e[9];t[16]!==t[3][3][16]&&(e[2]=!0),null===i?e[9]=[t]:i.push(t)}(s,t);const a=t[19];null!==a&&a.insertView(e),t[2]|=128}(n,i,r,o);const s=to(o,r),a=i[11],l=Yn(a,r[7]);return null!==l&&function(e,t,i,n,o,r){n[0]=o,n[6]=t,no(e,n,i,1,o,r)}(n,r[6],a,i,l,s),e.attachToViewContainerRef(),hi(rl(r),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=ol(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),i=Hn(this._lContainer,t);i&&(ui(rl(this._lContainer),t),$n(i[1],i))}detach(e){const t=this._adjustIndex(e,-1),i=Hn(this._lContainer,t);return i&&null!=ui(rl(this._lContainer),t)?new Na(i):null}_adjustIndex(e,t=0){return null==e?this.length+t:e}};function ol(e){return e[8]}function rl(e){return e[8]||(e[8]=[])}function sl(e,t){let i;const n=t[e.index];if(he(n))i=n;else{let o;if(8&e.type)o=Me(n);else{const i=t[11];o=i.createComment("");const n=Ie(e,t);Kn(i,Yn(i,n),o,function(e,t){return Se(e)?e.nextSibling(t):t.nextSibling}(i,n),!1)}t[e.index]=i=ir(n,t,o,e),sr(t,i)}return new nl(i,e,t)}const al={};class ll extends pa{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=ae(e);return new ul(t,this.ngModule)}}function cl(e){const t=[];for(let i in e)e.hasOwnProperty(i)&&t.push({propName:e[i],templateName:i});return t}const hl=new ri("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Mn});class ul extends ha{constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=e.selectors.map(yo).join(","),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}get inputs(){return cl(this.componentDef.inputs)}get outputs(){return cl(this.componentDef.outputs)}create(e,t,i,n){const o=(n=n||this.ngModule)?function(e,t){return{get:(i,n,o)=>{const r=e.get(i,al,o);return r!==al||n===al?r:t.get(i,n,o)}}}(e,n.injector):e,r=o.get(ya,Ee),s=o.get(Aa,null),a=r.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",c=i?function(e,t,i){if(Se(e))return e.selectRootElement(t,i===L.ShadowDom);let n="string"==typeof t?e.querySelector(t):t;return n.textContent="",n}(a,i,this.componentDef.encapsulation):Nn(r.createRenderer(null,this.componentDef),l,function(e){const t=e.toLowerCase();return"svg"===t?Te:"math"===t?"http://www.w3.org/1998/MathML/":null}(l)),h=this.componentDef.onPush?576:528,u=function(e,t){return{components:[],scheduler:e||Mn,clean:ur,playerHandler:t||null,flags:0}}(),d=Fo(0,null,null,1,0,null,null,null,null,null),p=Mo(null,d,u,h,null,null,r,a,s,o);let g,f;ct(p);try{const e=function(e,t,i,n,o,r){const s=i[1];i[20]=e;const a=Oo(s,20,2,"#host",null),l=a.mergedAttrs=t.hostAttrs;null!==l&&(_r(a,l,!0),null!==e&&(kt(o,e,l),null!==a.classes&&so(o,e,a.classes),null!==a.styles&&ro(o,e,a.styles)));const c=n.createRenderer(e,t),h=Mo(i,No(t),null,t.onPush?64:16,i[20],a,n,c,r||null,null);return s.firstCreatePass&&(Ht(Bt(a,i),s,t.type),Go(s,a),jo(a,i.length,1)),sr(i,h),i[20]=h}(c,this.componentDef,p,r,a);if(c)if(i)kt(a,c,["ng-version",Ta.full]);else{const{attrs:e,classes:t}=function(e){const t=[],i=[];let n=1,o=2;for(;n<e.length;){let r=e[n];if("string"==typeof r)2===o?""!==r&&t.push(r,e[++n]):8===o&&i.push(r);else{if(!go(o))break;o=r}n++}return{attrs:t,classes:i}}(this.componentDef.selectors[0]);e&&kt(a,c,e),t&&t.length>0&&so(a,c,t.join(" "))}if(f=Pe(d,20),void 0!==t){const e=f.projection=[];for(let i=0;i<this.ngContentSelectors.length;i++){const n=t[i];e.push(null!=n?Array.from(n):null)}}g=function(e,t,i,n,o){const r=i[1],s=function(e,t,i){const n=Ke();e.firstCreatePass&&(i.providersResolver&&i.providersResolver(i),Xo(e,n,t,Io(e,t,1,null),i));const o=jt(t,e,n.directiveStart,n);Cn(o,t);const r=Ie(n,t);return r&&Cn(r,t),o}(r,i,t);if(n.components.push(s),e[8]=s,o&&o.forEach(e=>e(s,t)),t.contentQueries){const e=Ke();t.contentQueries(1,s,e.directiveStart)}const a=Ke();return!r.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(mt(a.index),Ko(i[1],a,0,a.directiveStart,a.directiveEnd,t),Wo(t,s)),s}(e,this.componentDef,p,u,[Rr]),Po(d,p,null)}finally{gt()}return new dl(this.componentType,g,fa(f,p),p,f)}}class dl extends class{}{constructor(e,t,i,n,o){super(),this.location=i,this._rootLView=n,this._tNode=o,this.instance=t,this.hostView=this.changeDetectorRef=new Fa(n),this.componentType=e}get injector(){return new Qt(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}const pl=new Map;class gl extends Ja{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new ll(this);const i=le(e),n=e[W]||null;n&&ta(n),this._bootstrapComponents=In(i.bootstrap),this._r3Injector=Cr(e,t,[{provide:Ja,useValue:this},{provide:pa,useValue:this.componentFactoryResolver}],h(e)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(e)}get(e,t=Pr.THROW_IF_NOT_FOUND,i=M.Default){return e===Pr||e===Ja||e===vr?this:this._r3Injector.get(e,t,i)}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class fl extends Qa{constructor(e){super(),this.moduleType=e,null!==le(e)&&function(e){const t=new Set;!function e(i){const n=le(i,!0),o=n.id;null!==o&&(function(e,t,i){if(t&&t!==i)throw new Error(`Duplicate module registered for ${e} - ${h(t)} vs ${h(t.name)}`)}(o,pl.get(o),i),pl.set(o,i));const r=In(n.imports);for(const s of r)t.has(s)||(t.add(s),e(s))}(e)}(e)}create(e){return new gl(this.moduleType,e)}}function ml(e,t,i){const n=Qe()+e,o=$e();return o[n]===bo?Vr(o,n,i?t.call(i):t()):function(e,t){return e[t]}(o,n)}function _l(e,t,i,n){return vl($e(),Qe(),e,t,i,n)}function vl(e,t,i,n,o,r){const s=t+i;return Kr(e,s,o)?Vr(e,s+1,r?n.call(r,o):n(o)):function(e,t){const i=e[t];return i===bo?void 0:i}(e,s+1)}function yl(e,t){const i=ze();let n;const o=e+20;i.firstCreatePass?(n=function(e,t){if(t)for(let i=t.length-1;i>=0;i--){const n=t[i];if(e===n.name)return n}throw new m("302",`The pipe '${e}' could not be found!`)}(t,i.pipeRegistry),i.data[o]=n,n.onDestroy&&(i.destroyHooks||(i.destroyHooks=[])).push(o,n.onDestroy)):n=i.data[o];const r=n.factory||(n.factory=me(n.type)),s=I(Jr);try{const e=Lt(!1),t=r();return Lt(e),function(e,t,i,n){i>=e.data.length&&(e.data[i]=null,e.blueprint[i]=null),t[i]=n}(i,$e(),o,t),t}finally{I(s)}}function bl(e,t,i){const n=e+20,o=$e(),r=Re(o,n);return function(e,t){Hr.isWrapped(t)&&(t=Hr.unwrap(t),e[et()]=bo);return t}(o,function(e,t){return e[1].data[t].pure}(o,n)?vl(o,Qe(),t,r.transform,i,r):r.transform(i))}function wl(e){return t=>{setTimeout(e,void 0,t)}}const Al=class extends n.xQ{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,i){var n,r,s;let a=e,l=t||(()=>null),c=i;if(e&&"object"==typeof e){const t=e;a=null===(n=t.next)||void 0===n?void 0:n.bind(t),l=null===(r=t.error)||void 0===r?void 0:r.bind(t),c=null===(s=t.complete)||void 0===s?void 0:s.bind(t)}this.__isAsync&&(l=wl(l),a&&(a=wl(a)),c&&(c=wl(c)));const h=super.subscribe({next:a,error:l,complete:c});return e instanceof o.w&&e.add(h),h}};function xl(){return this._results[Fr()]()}class Tl{constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=Fr(),i=Tl.prototype;i[t]||(i[t]=xl)}get changes(){return this._changes||(this._changes=new Al)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const i=this;i.dirty=!1;const n=li(e);(this._changesDetected=!function(e,t,i){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++){let o=e[n],r=t[n];if(i&&(o=i(o),r=i(r)),r!==o)return!1}return!0}(i._results,n,t))&&(i._results=n,i.length=n.length,i.last=n[this.length-1],i.first=n[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class Cl{constructor(e){this.queryList=e,this.matches=null}clone(){return new Cl(this.queryList)}setDirty(){this.queryList.setDirty()}}class Zl{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const i=null!==e.contentQueries?e.contentQueries[0]:t.length,n=[];for(let e=0;e<i;e++){const i=t.getByIndex(e);n.push(this.queries[i.indexInDeclarationView].clone())}return new Zl(n)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==Nl(e,t).matches&&this.queries[t].setDirty()}}class kl{constructor(e,t,i=null){this.predicate=e,this.flags=t,this.read=i}}class Sl{constructor(e=[]){this.queries=e}elementStart(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let i=0;i<this.length;i++){const n=null!==t?t.length:0,o=this.getByIndex(i).embeddedTView(e,n);o&&(o.indexInDeclarationView=i,null!==t?t.push(o):t=[o])}return null!==t?new Sl(t):null}template(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class El{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new El(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let i=e.parent;for(;null!==i&&8&i.type&&i.index!==t;)i=i.parent;return t===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const i=this.metadata.predicate;if(Array.isArray(i))for(let n=0;n<i.length;n++){const o=i[n];this.matchTNodeWithReadOption(e,t,Ml(t,o)),this.matchTNodeWithReadOption(e,t,Yt(t,e,o,!1,!1))}else i===Ga?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Yt(t,e,i,!1,!1))}matchTNodeWithReadOption(e,t,i){if(null!==i){const n=this.metadata.read;if(null!==n)if(n===_a||n===tl||n===Ga&&4&t.type)this.addMatch(t.index,-2);else{const i=Yt(t,e,n,!1,!1);null!==i&&this.addMatch(t.index,i)}else this.addMatch(t.index,i)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function Ml(e,t){const i=e.localNames;if(null!==i)for(let n=0;n<i.length;n+=2)if(i[n]===t)return i[n+1];return null}function Ol(e,t,i,n){return-1===i?function(e,t){return 11&e.type?fa(e,t):4&e.type?Xa(e,t):null}(t,e):-2===i?function(e,t,i){return i===_a?fa(t,e):i===Ga?Xa(t,e):i===tl?sl(t,e):void 0}(e,t,n):jt(e,e[1],i,t)}function Il(e,t,i,n){const o=t[19].queries[n];if(null===o.matches){const n=e.data,r=i.matches,s=[];for(let e=0;e<r.length;e+=2){const o=r[e];s.push(o<0?null:Ol(t,n[o],r[e+1],i.metadata.read))}o.matches=s}return o.matches}function Pl(e,t,i,n){const o=e.queries.getByIndex(i),r=o.matches;if(null!==r){const s=Il(e,t,o,i);for(let e=0;e<r.length;e+=2){const i=r[e];if(i>0)n.push(s[e/2]);else{const o=r[e+1],s=t[-i];for(let e=10;e<s.length;e++){const t=s[e];t[17]===t[3]&&Pl(t[1],t,o,n)}if(null!==s[9]){const e=s[9];for(let t=0;t<e.length;t++){const i=e[t];Pl(i[1],i,o,n)}}}}}return n}function Rl(e){const t=$e(),i=ze(),n=rt();st(n+1);const o=Nl(i,n);if(e.dirty&&Le(t)===(2==(2&o.metadata.flags))){if(null===o.matches)e.reset([]);else{const r=o.crossesNgTemplate?Pl(i,t,n,[]):Il(i,t,o,n);e.reset(r,va),e.notifyOnChanges()}return!0}return!1}function ql(e,t,i){const n=ze();n.firstCreatePass&&(Dl(n,new kl(e,t,i),-1),2==(2&t)&&(n.staticViewQueries=!0)),Bl(n,$e(),t)}function Ll(e,t,i,n){const o=ze();if(o.firstCreatePass){const r=Ke();Dl(o,new kl(t,i,n),r.index),function(e,t){const i=e.contentQueries||(e.contentQueries=[]);t!==(i.length?i[i.length-1]:-1)&&i.push(e.queries.length-1,t)}(o,e),2==(2&i)&&(o.staticContentQueries=!0)}Bl(o,$e(),i)}function Ul(){return e=$e(),t=rt(),e[19].queries[t].queryList;var e,t}function Bl(e,t,i){const n=new Tl(4==(4&i));Ho(e,t,n,n.destroy),null===t[19]&&(t[19]=new Zl),t[19].queries.push(new Cl(n))}function Dl(e,t,i){null===e.queries&&(e.queries=new Sl),e.queries.track(new El(t,i))}function Nl(e,t){return e.queries.getByIndex(t)}function Fl(e,t){return Xa(e,t)}const Hl=new ri("Application Initializer");let $l=(()=>{class e{constructor(e){this.appInits=e,this.resolve=ga,this.reject=ga,this.initialized=!1,this.done=!1,this.donePromise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}runInitializers(){if(this.initialized)return;const e=[],t=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const t=this.appInits[i]();if(ls(t))e.push(t);else if(hs(t)){const i=new Promise((e,i)=>{t.subscribe({complete:e,error:i})});e.push(i)}}Promise.all(e).then(()=>{t()}).catch(e=>{this.reject(e)}),0===e.length&&t(),this.initialized=!0}}return e.\u0275fac=function(t){return new(t||e)(Ci(Hl,8))},e.\u0275prov=w({token:e,factory:e.\u0275fac}),e})();const zl=new ri("AppId"),Vl={provide:zl,useFactory:function(){return`${Kl()}${Kl()}${Kl()}`},deps:[]};function Kl(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Wl=new ri("Platform Initializer"),Gl=new ri("Platform ID"),Yl=new ri("appBootstrapListener");let jl=(()=>{class e{log(e){console.log(e)}warn(e){console.warn(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=w({token:e,factory:e.\u0275fac}),e})();const Xl=new ri("LocaleId"),Jl=new ri("DefaultCurrencyCode");class Ql{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}const ec=function(e){return new fl(e)},tc=ec,ic=function(e){return Promise.resolve(ec(e))},nc=function(e){const t=ec(e),i=In(le(e).declarations).reduce((e,t)=>{const i=ae(t);return i&&e.push(new ul(i)),e},[]);return new Ql(t,i)},oc=nc,rc=function(e){return Promise.resolve(nc(e))};let sc=(()=>{class e{constructor(){this.compileModuleSync=tc,this.compileModuleAsync=ic,this.compileModuleAndAllComponentsSync=oc,this.compileModuleAndAllComponentsAsync=rc}clearCache(){}clearCacheFor(e){}getModuleId(e){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=w({token:e,factory:e.\u0275fac}),e})();const ac=(()=>Promise.resolve(0))();function lc(e){"undefined"==typeof Zone?ac.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class cc{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Al(!1),this.onMicrotaskEmpty=new Al(!1),this.onStable=new Al(!1),this.onError=new Al(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const n=this;n._nesting=0,n._outer=n._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(n._inner=n._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(n._inner=n._inner.fork(Zone.longStackTraceZoneSpec)),n.shouldCoalesceEventChangeDetection=!i&&t,n.shouldCoalesceRunChangeDetection=i,n.lastRequestAnimationFrameId=-1,n.nativeRequestAnimationFrame=function(){let e=N.requestAnimationFrame,t=N.cancelAnimationFrame;if("undefined"!=typeof Zone&&e&&t){const i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i);const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function(e){const t=()=>{!function(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(N,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,dc(e),e.isCheckStableRunning=!0,uc(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),dc(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(i,n,o,r,s,a)=>{try{return pc(e),i.invokeTask(o,r,s,a)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===r.type||e.shouldCoalesceRunChangeDetection)&&t(),gc(e)}},onInvoke:(i,n,o,r,s,a,l)=>{try{return pc(e),i.invoke(o,r,s,a,l)}finally{e.shouldCoalesceRunChangeDetection&&t(),gc(e)}},onHasTask:(t,i,n,o)=>{t.hasTask(n,o),i===n&&("microTask"==o.change?(e._hasPendingMicrotasks=o.microTask,dc(e),uc(e)):"macroTask"==o.change&&(e.hasPendingMacrotasks=o.macroTask))},onHandleError:(t,i,n,o)=>(t.handleError(n,o),e.runOutsideAngular(()=>e.onError.emit(o)),!1)})}(n)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!cc.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(cc.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,t,i){return this._inner.run(e,t,i)}runTask(e,t,i,n){const o=this._inner,r=o.scheduleEventTask("NgZoneEvent: "+n,e,hc,ga,ga);try{return o.runTask(r,t,i)}finally{o.cancelTask(r)}}runGuarded(e,t,i){return this._inner.runGuarded(e,t,i)}runOutsideAngular(e){return this._outer.run(e)}}const hc={};function uc(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function dc(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function pc(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function gc(e){e._nesting--,uc(e)}class fc{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Al,this.onMicrotaskEmpty=new Al,this.onStable=new Al,this.onError=new Al}run(e,t,i){return e.apply(t,i)}runGuarded(e,t,i){return e.apply(t,i)}runOutsideAngular(e){return e()}runTask(e,t,i,n){return e.apply(t,i)}}let mc=(()=>{class e{constructor(e){this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{cc.assertNotInAngularZone(),lc(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())lc(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(t=>!t.updateCb||!t.updateCb(e)||(clearTimeout(t.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,t,i){let n=-1;t&&t>0&&(n=setTimeout(()=>{this._callbacks=this._callbacks.filter(e=>e.timeoutId!==n),e(this._didWork,this.getPendingTasks())},t)),this._callbacks.push({doneCb:e,timeoutId:n,updateCb:i})}whenStable(e,t,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,t,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(e,t,i){return[]}}return e.\u0275fac=function(t){return new(t||e)(Ci(cc))},e.\u0275prov=w({token:e,factory:e.\u0275fac}),e})(),_c=(()=>{class e{constructor(){this._applications=new Map,bc.addToWindow(this)}registerApplication(e,t){this._applications.set(e,t)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,t=!0){return bc.findTestabilityInTree(this,e,t)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=w({token:e,factory:e.\u0275fac}),e})();class vc{addToWindow(e){}findTestabilityInTree(e,t,i){return null}}function yc(e){bc=e}let bc=new vc,wc=!0,Ac=!1;function xc(){if(Ac)throw new Error("Cannot enable prod mode after platform setup.");wc=!1}let Tc;const Cc=new ri("AllowMultipleToken");class Zc{constructor(e,t){this.name=e,this.token=t}}function kc(e,t,i=[]){const n=`Platform: ${t}`,o=new ri(n);return(t=[])=>{let r=Sc();if(!r||r.injector.get(Cc,!1))if(e)e(i.concat(t).concat({provide:o,useValue:!0}));else{const e=i.concat(t).concat({provide:o,useValue:!0},{provide:br,useValue:"platform"});!function(e){if(Tc&&!Tc.destroyed&&!Tc.injector.get(Cc,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Tc=e.get(Ec);const t=e.get(Wl,null);t&&t.forEach(e=>e())}(Pr.create({providers:e,name:n}))}return function(e){const t=Sc();if(!t)throw new Error("No platform exists!");if(!t.injector.get(e,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}(o)}}function Sc(){return Tc&&!Tc.destroyed?Tc:null}let Ec=(()=>{class e{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,t){const i=function(e,t){let i;return i="noop"===e?new fc:("zone.js"===e?void 0:e)||new cc({enableLongStackTrace:(Ac=!0,wc),shouldCoalesceEventChangeDetection:!!(null==t?void 0:t.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==t?void 0:t.ngZoneRunCoalescing)}),i}(t?t.ngZone:void 0,{ngZoneEventCoalescing:t&&t.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:t&&t.ngZoneRunCoalescing||!1}),n=[{provide:cc,useValue:i}];return i.run(()=>{const o=Pr.create({providers:n,parent:this.injector,name:e.moduleType.name}),r=e.create(o),s=r.injector.get(En,null);if(!s)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return i.runOutsideAngular(()=>{const e=i.onError.subscribe({next:e=>{s.handleError(e)}});r.onDestroy(()=>{Ic(this._modules,r),e.unsubscribe()})}),function(e,i,n){try{const t=n();return ls(t)?t.catch(t=>{throw i.runOutsideAngular(()=>e.handleError(t)),t}):t}catch(t){throw i.runOutsideAngular(()=>e.handleError(t)),t}}(s,i,()=>{const e=r.injector.get($l);return e.runInitializers(),e.donePromise.then(()=>(ta(r.injector.get(Xl,Qs)||Qs),this._moduleDoBootstrap(r),r))})})}bootstrapModule(e,t=[]){const i=Mc({},t);return function(e,t,i){const n=new fl(i);return Promise.resolve(n)}(0,0,e).then(e=>this.bootstrapModuleFactory(e,i))}_moduleDoBootstrap(e){const t=e.injector.get(Oc);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(e=>t.bootstrap(e));else{if(!e.instance.ngDoBootstrap)throw new Error(`The module ${h(e.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);e.instance.ngDoBootstrap(t)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(e=>e.destroy()),this._destroyListeners.forEach(e=>e()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(t){return new(t||e)(Ci(Pr))},e.\u0275prov=w({token:e,factory:e.\u0275fac}),e})();function Mc(e,t){return Array.isArray(t)?t.reduce(Mc,e):Object.assign(Object.assign({},e),t)}let Oc=(()=>{class e{constructor(e,t,i,n,o){this._zone=e,this._injector=t,this._exceptionHandler=i,this._componentFactoryResolver=n,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const l=new r.y(e=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{e.next(this._stable),e.complete()})}),c=new r.y(e=>{let t;this._zone.runOutsideAngular(()=>{t=this._zone.onStable.subscribe(()=>{cc.assertNotInAngularZone(),lc(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,e.next(!0))})})});const i=this._zone.onUnstable.subscribe(()=>{cc.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{e.next(!1)}))});return()=>{t.unsubscribe(),i.unsubscribe()}});this.isStable=(0,s.T)(l,c.pipe((0,a.B)()))}bootstrap(e,t){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let i;i=e instanceof ha?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(i.componentType);const n=function(e){return e.isBoundToModule}(i)?void 0:this._injector.get(Ja),o=i.create(Pr.NULL,[],t||i.selector,n),r=o.location.nativeElement,s=o.injector.get(mc,null),a=s&&o.injector.get(_c);return s&&a&&a.registerApplication(r,s),o.onDestroy(()=>{this.detachView(o.hostView),Ic(this.components,o),a&&a.unregisterApplication(r)}),this._loadComponent(o),o}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1}}attachView(e){const t=e;this._views.push(t),t.attachToAppRef(this)}detachView(e){const t=e;Ic(this._views,t),t.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(Yl,[]).concat(this._bootstrapListeners).forEach(t=>t(e))}ngOnDestroy(){this._views.slice().forEach(e=>e.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return e.\u0275fac=function(t){return new(t||e)(Ci(cc),Ci(Pr),Ci(En),Ci(pa),Ci($l))},e.\u0275prov=w({token:e,factory:e.\u0275fac}),e})();function Ic(e,t){const i=e.indexOf(t);i>-1&&e.splice(i,1)}class Pc{}class Rc{}const qc={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let Lc=(()=>{class e{constructor(e,t){this._compiler=e,this._config=t||qc}load(e){return this.loadAndCompile(e)}loadAndCompile(e){let[t,n]=e.split("#");return void 0===n&&(n="default"),i(98255)(t).then(e=>e[n]).then(e=>Uc(e,t,n)).then(e=>this._compiler.compileModuleAsync(e))}loadFactory(e){let[t,n]=e.split("#"),o="NgFactory";return void 0===n&&(n="default",o=""),i(98255)(this._config.factoryPathPrefix+t+this._config.factoryPathSuffix).then(e=>e[n+o]).then(e=>Uc(e,t,n))}}return e.\u0275fac=function(t){return new(t||e)(Ci(sc),Ci(Rc,8))},e.\u0275prov=w({token:e,factory:e.\u0275fac}),e})();function Uc(e,t,i){if(!e)throw new Error(`Cannot find '${i}' in '${t}'`);return e}const Bc=function(e){return null},Dc=kc(null,"core",[{provide:Gl,useValue:"unknown"},{provide:Ec,deps:[Pr]},{provide:_c,deps:[]},{provide:jl,deps:[]}]),Nc=[{provide:Oc,useClass:Oc,deps:[cc,Pr,En,pa,$l]},{provide:hl,deps:[cc],useFactory:function(e){let t=[];return e.onStable.subscribe(()=>{for(;t.length;)t.pop()()}),function(e){t.push(e)}}},{provide:$l,useClass:$l,deps:[[new Oi,Hl]]},{provide:sc,useClass:sc,deps:[]},Vl,{provide:La,useFactory:function(){return Va},deps:[]},{provide:Ba,useFactory:function(){return Ka},deps:[]},{provide:Xl,useFactory:function(e){return ta(e=e||"undefined"!=typeof $localize&&$localize.locale||Qs),e},deps:[[new Mi(Xl),new Oi,new Ii]]},{provide:Jl,useValue:"USD"}];let Fc=(()=>{class e{constructor(e){}}return e.\u0275fac=function(t){return new(t||e)(Ci(Oc))},e.\u0275mod=ie({type:e}),e.\u0275inj=A({providers:Nc}),e})()},90665:function(e,t,i){"use strict";i.d(t,{Fj:function(){return m},qu:function(){return Be},NI:function(){return de},u:function(){return Ze},cw:function(){return pe},sg:function(){return Te},u5:function(){return Le},JJ:function(){return z},JL:function(){return V},On:function(){return _e},YN:function(){return Me},wV:function(){return be},UX:function(){return Ue},EJ:function(){return Ee},kI:function(){return A},_Y:function(){return ve},Kr:function(){return Re}});var n=i(37716),o=i(38583),r=i(18891),s=i(59796),a=i(88002),l=i(81555),c=i(94402);function h(e,t){return new r.y(i=>{const n=e.length;if(0===n)return void i.complete();const o=new Array(n);let r=0,s=0;for(let a=0;a<n;a++){const l=(0,c.D)(e[a]);let h=!1;i.add(l.subscribe({next:e=>{h||(h=!0,s++),o[a]=e},error:e=>i.error(e),complete:()=>{r++,(r===n||!h)&&(s===n&&i.next(t?t.reduce((e,t,i)=>(e[t]=o[i],e),{}):o),i.complete())}}))}})}let u=(()=>{class e{constructor(e,t){this._renderer=e,this._elementRef=t,this.onChange=e=>{},this.onTouched=()=>{}}setProperty(e,t){this._renderer.setProperty(this._elementRef.nativeElement,e,t)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(n.Qsj),n.Y36(n.SBq))},e.\u0275dir=n.lG2({type:e}),e})(),d=(()=>{class e extends u{}return e.\u0275fac=function(){let t;return function(i){return(t||(t=n.n5z(e)))(i||e)}}(),e.\u0275dir=n.lG2({type:e,features:[n.qOj]}),e})();const p=new n.OlP("NgValueAccessor"),g={provide:p,useExisting:(0,n.Gpc)(()=>m),multi:!0},f=new n.OlP("CompositionEventMode");let m=(()=>{class e extends u{constructor(e,t,i){super(e,t),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const e=(0,o.q)()?(0,o.q)().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(e){this.setProperty("value",null==e?"":e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(n.Qsj),n.Y36(n.SBq),n.Y36(f,8))},e.\u0275dir=n.lG2({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,t){1&e&&n.NdJ("input",function(e){return t._handleInput(e.target.value)})("blur",function(){return t.onTouched()})("compositionstart",function(){return t._compositionStart()})("compositionend",function(e){return t._compositionEnd(e.target.value)})},features:[n._Bn([g]),n.qOj]}),e})();function _(e){return null==e||0===e.length}function v(e){return null!=e&&"number"==typeof e.length}const y=new n.OlP("NgValidators"),b=new n.OlP("NgAsyncValidators"),w=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class A{static min(e){return t=e,e=>{if(_(e.value)||_(t))return null;const i=parseFloat(e.value);return!isNaN(i)&&i<t?{min:{min:t,actual:e.value}}:null};var t}static max(e){return t=e,e=>{if(_(e.value)||_(t))return null;const i=parseFloat(e.value);return!isNaN(i)&&i>t?{max:{max:t,actual:e.value}}:null};var t}static required(e){return _(e.value)?{required:!0}:null}static requiredTrue(e){return!0===e.value?null:{required:!0}}static email(e){return _((t=e).value)||w.test(t.value)?null:{email:!0};var t}static minLength(e){return t=e,e=>_(e.value)||!v(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null;var t}static maxLength(e){return t=e,e=>v(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null;var t}static pattern(e){return function(e){if(!e)return x;let t,i;return"string"==typeof e?(i="","^"!==e.charAt(0)&&(i+="^"),i+=e,"$"!==e.charAt(e.length-1)&&(i+="$"),t=new RegExp(i)):(i=e.toString(),t=e),e=>{if(_(e.value))return null;const n=e.value;return t.test(n)?null:{pattern:{requiredPattern:i,actualValue:n}}}}(e)}static nullValidator(e){return null}static compose(e){return E(e)}static composeAsync(e){return O(e)}}function x(e){return null}function T(e){return null!=e}function C(e){const t=(0,n.QGY)(e)?(0,c.D)(e):e;return(0,n.CqO)(t),t}function Z(e){let t={};return e.forEach(e=>{t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function k(e,t){return t.map(t=>t(e))}function S(e){return e.map(e=>function(e){return!e.validate}(e)?e:t=>e.validate(t))}function E(e){if(!e)return null;const t=e.filter(T);return 0==t.length?null:function(e){return Z(k(e,t))}}function M(e){return null!=e?E(S(e)):null}function O(e){if(!e)return null;const t=e.filter(T);return 0==t.length?null:function(e){return function(...e){if(1===e.length){const t=e[0];if((0,s.k)(t))return h(t,null);if((0,l.K)(t)&&Object.getPrototypeOf(t)===Object.prototype){const e=Object.keys(t);return h(e.map(e=>t[e]),e)}}if("function"==typeof e[e.length-1]){const t=e.pop();return h(e=1===e.length&&(0,s.k)(e[0])?e[0]:e,null).pipe((0,a.U)(e=>t(...e)))}return h(e,null)}(k(e,t).map(C)).pipe((0,a.U)(Z))}}function I(e){return null!=e?O(S(e)):null}function P(e,t){return null===e?[t]:Array.isArray(e)?[...e,t]:[e,t]}function R(e){return e._rawValidators}function q(e){return e._rawAsyncValidators}function L(e){return e?Array.isArray(e)?e:[e]:[]}function U(e,t){return Array.isArray(e)?e.includes(t):e===t}function B(e,t){const i=L(t);return L(e).forEach(e=>{U(i,e)||i.push(e)}),i}function D(e,t){return L(t).filter(t=>!U(e,t))}let N=(()=>{class e{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=M(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=I(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=n.lG2({type:e}),e})(),F=(()=>{class e extends N{get formDirective(){return null}get path(){return null}}return e.\u0275fac=function(){let t;return function(i){return(t||(t=n.n5z(e)))(i||e)}}(),e.\u0275dir=n.lG2({type:e,features:[n.qOj]}),e})();class H extends N{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class ${constructor(e){this._cd=e}is(e){var t,i,n;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(n=null===(i=this._cd)||void 0===i?void 0:i.control)||void 0===n?void 0:n[e])}}let z=(()=>{class e extends ${constructor(e){super(e)}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(H,2))},e.\u0275dir=n.lG2({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,t){2&e&&n.ekj("ng-untouched",t.is("untouched"))("ng-touched",t.is("touched"))("ng-pristine",t.is("pristine"))("ng-dirty",t.is("dirty"))("ng-valid",t.is("valid"))("ng-invalid",t.is("invalid"))("ng-pending",t.is("pending"))},features:[n.qOj]}),e})(),V=(()=>{class e extends ${constructor(e){super(e)}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(F,10))},e.\u0275dir=n.lG2({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,t){2&e&&n.ekj("ng-untouched",t.is("untouched"))("ng-touched",t.is("touched"))("ng-pristine",t.is("pristine"))("ng-dirty",t.is("dirty"))("ng-valid",t.is("valid"))("ng-invalid",t.is("invalid"))("ng-pending",t.is("pending"))("ng-submitted",t.is("submitted"))},features:[n.qOj]}),e})();function K(e,t){return[...t.path,e]}function W(e,t){j(e,t),t.valueAccessor.writeValue(e.value),function(e,t){t.valueAccessor.registerOnChange(i=>{e._pendingValue=i,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&J(e,t)})}(e,t),function(e,t){const i=(e,i)=>{t.valueAccessor.writeValue(e),i&&t.viewToModelUpdate(e)};e.registerOnChange(i),t._registerOnDestroy(()=>{e._unregisterOnChange(i)})}(e,t),function(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&J(e,t),"submit"!==e.updateOn&&e.markAsTouched()})}(e,t),function(e,t){if(t.valueAccessor.setDisabledState){const i=e=>{t.valueAccessor.setDisabledState(e)};e.registerOnDisabledChange(i),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(i)})}}(e,t)}function G(e,t,i=!0){const n=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(n),t.valueAccessor.registerOnTouched(n)),X(e,t),e&&(t._invokeOnDestroyCallbacks(),e._registerOnCollectionChange(()=>{}))}function Y(e,t){e.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function j(e,t){const i=R(e);null!==t.validator?e.setValidators(P(i,t.validator)):"function"==typeof i&&e.setValidators([i]);const n=q(e);null!==t.asyncValidator?e.setAsyncValidators(P(n,t.asyncValidator)):"function"==typeof n&&e.setAsyncValidators([n]);const o=()=>e.updateValueAndValidity();Y(t._rawValidators,o),Y(t._rawAsyncValidators,o)}function X(e,t){let i=!1;if(null!==e){if(null!==t.validator){const n=R(e);if(Array.isArray(n)&&n.length>0){const o=n.filter(e=>e!==t.validator);o.length!==n.length&&(i=!0,e.setValidators(o))}}if(null!==t.asyncValidator){const n=q(e);if(Array.isArray(n)&&n.length>0){const o=n.filter(e=>e!==t.asyncValidator);o.length!==n.length&&(i=!0,e.setAsyncValidators(o))}}}const n=()=>{};return Y(t._rawValidators,n),Y(t._rawAsyncValidators,n),i}function J(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function Q(e,t){if(!e.hasOwnProperty("model"))return!1;const i=e.model;return!!i.isFirstChange()||!Object.is(t,i.currentValue)}function ee(e,t){if(!t)return null;let i,n,o;return Array.isArray(t),t.forEach(e=>{e.constructor===m?i=e:function(e){return Object.getPrototypeOf(e.constructor)===d}(e)?n=e:o=e}),o||n||i||null}function te(e,t){const i=e.indexOf(t);i>-1&&e.splice(i,1)}const ie="VALID",ne="INVALID",oe="PENDING",re="DISABLED";function se(e){return(he(e)?e.validators:e)||null}function ae(e){return Array.isArray(e)?M(e):e||null}function le(e,t){return(he(t)?t.asyncValidators:e)||null}function ce(e){return Array.isArray(e)?I(e):e||null}function he(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}class ue{constructor(e,t){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=ae(this._rawValidators),this._composedAsyncValidatorFn=ce(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===ie}get invalid(){return this.status===ne}get pending(){return this.status==oe}get disabled(){return this.status===re}get enabled(){return this.status!==re}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=ae(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=ce(e)}addValidators(e){this.setValidators(B(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(B(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(D(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(D(e,this._rawAsyncValidators))}hasValidator(e){return U(this._rawValidators,e)}hasAsyncValidator(e){return U(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=oe,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=re,this.errors=null,this._forEachChild(t=>{t.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(e=>e(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=ie,this._forEachChild(t=>{t.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(e=>e(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ie||this.status===oe)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?re:ie}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=oe,this._hasOwnPendingAsyncValidator=!0;const t=C(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(t=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(t,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function(e,t,i){if(null==t||(Array.isArray(t)||(t=t.split(".")),Array.isArray(t)&&0===t.length))return null;let n=e;return t.forEach(e=>{n=n instanceof pe?n.controls.hasOwnProperty(e)?n.controls[e]:null:n instanceof ge&&n.at(e)||null}),n}(this,e)}getError(e,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new n.vpe,this.statusChanges=new n.vpe}_calculateStatus(){return this._allControlsDisabled()?re:this.errors?ne:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(oe)?oe:this._anyControlsHaveStatus(ne)?ne:ie}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){he(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class de extends ue{constructor(e=null,t,i){super(se(t),le(i,t)),this._onChange=[],this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(e=>e(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=null,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){te(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){te(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class pe extends ue{constructor(e,t,i){super(se(t),le(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){this._checkAllValuesPresent(e),Object.keys(e).forEach(i=>{this._throwIfControlMissing(i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(i=>{this.controls[i]&&this.controls[i].patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,n)=>{i.reset(e[n],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=t instanceof de?t.value:t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(e,t)=>!!t._syncPendingControls()||e);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error(`Cannot find form control with name: ${e}.`)}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const i=this.controls[t];if(this.contains(t)&&e(i))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,i)=>((t.enabled||this.disabled)&&(e[i]=t.value),e))}_reduceChildren(e,t){let i=e;return this._forEachChild((e,n)=>{i=t(i,e,n)}),i}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(e){this._forEachChild((t,i)=>{if(void 0===e[i])throw new Error(`Must supply a value for form control with name: '${i}'.`)})}}class ge extends ue{constructor(e,t,i){super(se(t),le(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,i={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){this._checkAllValuesPresent(e),e.forEach((e,i)=>{this._throwIfControlMissing(i),this.at(i).setValue(e,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((e,i)=>{this.at(i)&&this.at(i).patchValue(e,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((i,n)=>{i.reset(e[n],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e instanceof de?e.value:e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((e,t)=>!!t._syncPendingControls()||e,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error(`Cannot find form control at index ${e}`)}_forEachChild(e){this.controls.forEach((t,i)=>{e(t,i)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_checkAllValuesPresent(e){this._forEachChild((t,i)=>{if(void 0===e[i])throw new Error(`Must supply a value for form control at index: ${i}.`)})}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const fe={provide:H,useExisting:(0,n.Gpc)(()=>_e)},me=(()=>Promise.resolve(null))();let _e=(()=>{class e extends H{constructor(e,t,i,o){super(),this.control=new de,this._registered=!1,this.update=new n.vpe,this._parent=e,this._setValidators(t),this._setAsyncValidators(i),this.valueAccessor=ee(0,o)}ngOnChanges(e){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in e&&this._updateDisabled(e),Q(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?K(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){W(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){me.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1})})}_updateDisabled(e){const t=e.isDisabled.currentValue,i=""===t||t&&"false"!==t;me.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable()})}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(F,9),n.Y36(y,10),n.Y36(b,10),n.Y36(p,10))},e.\u0275dir=n.lG2({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[n._Bn([fe]),n.qOj,n.TTD]}),e})(),ve=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=n.lG2({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),e})();const ye={provide:p,useExisting:(0,n.Gpc)(()=>be),multi:!0};let be=(()=>{class e extends d{writeValue(e){this.setProperty("value",null==e?"":e)}registerOnChange(e){this.onChange=t=>{e(""==t?null:parseFloat(t))}}}return e.\u0275fac=function(){let t;return function(i){return(t||(t=n.n5z(e)))(i||e)}}(),e.\u0275dir=n.lG2({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,t){1&e&&n.NdJ("input",function(e){return t.onChange(e.target.value)})("blur",function(){return t.onTouched()})},features:[n._Bn([ye]),n.qOj]}),e})(),we=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({}),e})();const Ae=new n.OlP("NgModelWithFormControlWarning"),xe={provide:F,useExisting:(0,n.Gpc)(()=>Te)};let Te=(()=>{class e extends F{constructor(e,t){super(),this.validators=e,this.asyncValidators=t,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new n.vpe,this._setValidators(e),this._setAsyncValidators(t)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(X(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const t=this.form.get(e.path);return W(t,e),t.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),t}getControl(e){return this.form.get(e.path)}removeControl(e){G(e.control||null,e,!1),te(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,t){this.form.get(e.path).setValue(t)}onSubmit(e){return this.submitted=!0,function(e,t){e._syncPendingControls(),t.forEach(e=>{const t=e.control;"submit"===t.updateOn&&t._pendingChange&&(e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const t=e.control,i=this.form.get(e.path);t!==i&&(G(t||null,e),i instanceof de&&(W(i,e),e.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const t=this.form.get(e.path);(function(e,t){j(e,t)})(t,e),t.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const t=this.form.get(e.path);t&&function(e,t){return X(e,t)}(t,e)&&t.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){j(this.form,this),this._oldForm&&X(this._oldForm,this)}_checkFormPresent(){}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(y,10),n.Y36(b,10))},e.\u0275dir=n.lG2({type:e,selectors:[["","formGroup",""]],hostBindings:function(e,t){1&e&&n.NdJ("submit",function(e){return t.onSubmit(e)})("reset",function(){return t.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[n._Bn([xe]),n.qOj,n.TTD]}),e})();const Ce={provide:H,useExisting:(0,n.Gpc)(()=>Ze)};let Ze=(()=>{class e extends H{constructor(e,t,i,o,r){super(),this._ngModelWarningConfig=r,this._added=!1,this.update=new n.vpe,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(t),this._setAsyncValidators(i),this.valueAccessor=ee(0,o)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),Q(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return K(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(F,13),n.Y36(y,10),n.Y36(b,10),n.Y36(p,10),n.Y36(Ae,8))},e.\u0275dir=n.lG2({type:e,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[n._Bn([Ce]),n.qOj,n.TTD]}),e._ngModelWarningSentOnce=!1,e})();const ke={provide:p,useExisting:(0,n.Gpc)(()=>Ee),multi:!0};function Se(e,t){return null==e?`${t}`:(t&&"object"==typeof t&&(t="Object"),`${e}: ${t}`.slice(0,50))}let Ee=(()=>{class e extends d{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;const t=this._getOptionId(e);null==t&&this.setProperty("selectedIndex",-1);const i=Se(t,e);this.setProperty("value",i)}registerOnChange(e){this.onChange=t=>{this.value=this._getOptionValue(t),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(const t of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(t),e))return t;return null}_getOptionValue(e){const t=function(e){return e.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t):e}}return e.\u0275fac=function(){let t;return function(i){return(t||(t=n.n5z(e)))(i||e)}}(),e.\u0275dir=n.lG2({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(e,t){1&e&&n.NdJ("change",function(e){return t.onChange(e.target.value)})("blur",function(){return t.onTouched()})},inputs:{compareWith:"compareWith"},features:[n._Bn([ke]),n.qOj]}),e})(),Me=(()=>{class e{constructor(e,t,i){this._element=e,this._renderer=t,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(Se(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(n.SBq),n.Y36(n.Qsj),n.Y36(Ee,9))},e.\u0275dir=n.lG2({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),e})();const Oe={provide:p,useExisting:(0,n.Gpc)(()=>Pe),multi:!0};function Ie(e,t){return null==e?`${t}`:("string"==typeof t&&(t=`'${t}'`),t&&"object"==typeof t&&(t="Object"),`${e}: ${t}`.slice(0,50))}let Pe=(()=>{class e extends d{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){let t;if(this.value=e,Array.isArray(e)){const i=e.map(e=>this._getOptionId(e));t=(e,t)=>{e._setSelected(i.indexOf(t.toString())>-1)}}else t=(e,t)=>{e._setSelected(!1)};this._optionMap.forEach(t)}registerOnChange(e){this.onChange=t=>{const i=[];if(void 0!==t.selectedOptions){const e=t.selectedOptions;for(let t=0;t<e.length;t++){const n=e.item(t),o=this._getOptionValue(n.value);i.push(o)}}else{const e=t.options;for(let t=0;t<e.length;t++){const n=e.item(t);if(n.selected){const e=this._getOptionValue(n.value);i.push(e)}}}this.value=i,e(i)}}_registerOption(e){const t=(this._idCounter++).toString();return this._optionMap.set(t,e),t}_getOptionId(e){for(const t of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(t)._value,e))return t;return null}_getOptionValue(e){const t=function(e){return e.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t)._value:e}}return e.\u0275fac=function(){let t;return function(i){return(t||(t=n.n5z(e)))(i||e)}}(),e.\u0275dir=n.lG2({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(e,t){1&e&&n.NdJ("change",function(e){return t.onChange(e.target)})("blur",function(){return t.onTouched()})},inputs:{compareWith:"compareWith"},features:[n._Bn([Oe]),n.qOj]}),e})(),Re=(()=>{class e{constructor(e,t,i){this._element=e,this._renderer=t,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){null!=this._select&&(this._value=e,this._setElementValue(Ie(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(Ie(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(n.SBq),n.Y36(n.Qsj),n.Y36(Pe,9))},e.\u0275dir=n.lG2({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),e})(),qe=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[[we]]}),e})(),Le=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[qe]}),e})(),Ue=(()=>{class e{static withConfig(t){return{ngModule:e,providers:[{provide:Ae,useValue:t.warnOnNgModelWithFormControl}]}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[qe]}),e})(),Be=(()=>{class e{group(e,t=null){const i=this._reduceControls(e);let n,o=null,r=null;return null!=t&&(function(e){return void 0!==e.asyncValidators||void 0!==e.validators||void 0!==e.updateOn}(t)?(o=null!=t.validators?t.validators:null,r=null!=t.asyncValidators?t.asyncValidators:null,n=null!=t.updateOn?t.updateOn:void 0):(o=null!=t.validator?t.validator:null,r=null!=t.asyncValidator?t.asyncValidator:null)),new pe(i,{asyncValidators:r,updateOn:n,validators:o})}control(e,t,i){return new de(e,t,i)}array(e,t,i){const n=e.map(e=>this._createControl(e));return new ge(n,t,i)}_reduceControls(e){const t={};return Object.keys(e).forEach(i=>{t[i]=this._createControl(e[i])}),t}_createControl(e){return e instanceof de||e instanceof pe||e instanceof ge?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=(0,n.Yz7)({factory:function(){return new e},token:e,providedIn:Ue}),e})()},89628:function(e,t,i){"use strict";i.d(t,{gz:function(){return rt},F0:function(){return ki},Bz:function(){return Di},lC:function(){return Ei}});var n=i(38583),o=i(37716),r=i(54869),s=i(59796),a=i(77393);class l extends a.L{notifyNext(e,t,i,n,o){this.destination.next(t)}notifyError(e,t){this.destination.error(e)}notifyComplete(e){this.destination.complete()}}class c extends a.L{constructor(e,t,i){super(),this.parent=e,this.outerValue=t,this.outerIndex=i,this.index=0}_next(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}_error(e){this.parent.notifyError(e,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var h=i(87444),u=i(18891);function d(e,t,i,n,o=new c(e,i,n)){if(!o.closed)return t instanceof u.y?t.subscribe(o):(0,h.s)(t)(o)}var p=i(56693);const g={};class f{constructor(e){this.resultSelector=e}call(e,t){return t.subscribe(new m(e,this.resultSelector))}}class m extends l{constructor(e,t){super(e),this.resultSelector=t,this.active=0,this.values=[],this.observables=[]}_next(e){this.values.push(g),this.observables.push(e)}_complete(){const e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(let i=0;i<t;i++)this.add(d(this,e[i],void 0,i))}}notifyComplete(e){0==(this.active-=1)&&this.destination.complete()}notifyNext(e,t,i){const n=this.values,o=this.toRespond?n[i]===g?--this.toRespond:this.toRespond:0;n[i]=t,0===o&&(this.resultSelector?this._tryResultSelector(n):this.destination.next(n.slice()))}_tryResultSelector(e){let t;try{t=this.resultSelector.apply(this,e)}catch(i){return void this.destination.error(i)}this.destination.next(t)}}const _=(()=>{function e(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return e.prototype=Object.create(Error.prototype),e})();var v=i(94402),y=i(59193);function b(e){return new u.y(t=>{let i;try{i=e()}catch(n){return void t.error(n)}return(i?(0,v.D)(i):(0,y.c)()).subscribe(t)})}var w=i(25917),A=i(26215),x=i(58071),T=i(52441),C=i(67709),Z=i(85345);function k(e){return function(t){const i=new S(e),n=t.lift(i);return i.caught=n}}class S{constructor(e){this.selector=e}call(e,t){return t.subscribe(new E(e,this.selector,this.caught))}}class E extends Z.Ds{constructor(e,t,i){super(e),this.selector=t,this.caught=i}error(e){if(!this.isStopped){let i;try{i=this.selector(e,this.caught)}catch(t){return void super.error(t)}this._unsubscribeAndRecycle();const n=new Z.IY(this);this.add(n);const o=(0,Z.ft)(i,n);o!==n&&this.add(o)}}}var M=i(45435),O=i(548);function I(e=q){return t=>t.lift(new P(e))}class P{constructor(e){this.errorFactory=e}call(e,t){return t.subscribe(new R(e,this.errorFactory))}}class R extends a.L{constructor(e,t){super(e),this.errorFactory=t,this.hasValue=!1}_next(e){this.hasValue=!0,this.destination.next(e)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(e){t=e}this.destination.error(t)}}}function q(){return new _}var L=i(95242),U=i(54487),B=i(15257);function D(e,t){const i=arguments.length>=2;return n=>n.pipe(e?(0,M.h)((t,i)=>e(t,i,n)):U.y,(0,B.q)(1),i?(0,L.d)(t):I(()=>new _))}var N=i(75319);class F{constructor(e){this.callback=e}call(e,t){return t.subscribe(new H(e,this.callback))}}class H extends a.L{constructor(e,t){super(e),this.add(new N.w(t))}}var $=i(88002),z=i(43190),V=i(42145),K=i(94612),W=i(19773),G=i(93342),Y=i(51307),j=i(63282);class X{constructor(e,t){this.id=e,this.url=t}}class J extends X{constructor(e,t,i="imperative",n=null){super(e,t),this.navigationTrigger=i,this.restoredState=n}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Q extends X{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class ee extends X{constructor(e,t,i){super(e,t),this.reason=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class te extends X{constructor(e,t,i){super(e,t),this.error=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class ie extends X{constructor(e,t,i,n){super(e,t),this.urlAfterRedirects=i,this.state=n}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ne extends X{constructor(e,t,i,n){super(e,t),this.urlAfterRedirects=i,this.state=n}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class oe extends X{constructor(e,t,i,n,o){super(e,t),this.urlAfterRedirects=i,this.state=n,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class re extends X{constructor(e,t,i,n){super(e,t),this.urlAfterRedirects=i,this.state=n}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class se extends X{constructor(e,t,i,n){super(e,t),this.urlAfterRedirects=i,this.state=n}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ae{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class le{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ce{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class he{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ue{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class de{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class pe{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const ge="primary";class fe{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function me(e){return new fe(e)}const _e="ngNavigationCancelingError";function ve(e){const t=Error("NavigationCancelingError: "+e);return t[_e]=!0,t}function ye(e,t,i){const n=i.path.split("/");if(n.length>e.length||"full"===i.pathMatch&&(t.hasChildren()||n.length<e.length))return null;const o={};for(let r=0;r<n.length;r++){const t=n[r],i=e[r];if(t.startsWith(":"))o[t.substring(1)]=i;else if(t!==i.path)return null}return{consumed:e.slice(0,n.length),posParams:o}}function be(e,t){const i=e?Object.keys(e):void 0,n=t?Object.keys(t):void 0;if(!i||!n||i.length!=n.length)return!1;let o;for(let r=0;r<i.length;r++)if(o=i[r],!we(e[o],t[o]))return!1;return!0}function we(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;const i=[...e].sort(),n=[...t].sort();return i.every((e,t)=>n[t]===e)}return e===t}function Ae(e){return Array.prototype.concat.apply([],e)}function xe(e){return e.length>0?e[e.length-1]:null}function Te(e,t){for(const i in e)e.hasOwnProperty(i)&&t(e[i],i)}function Ce(e){return(0,o.CqO)(e)?e:(0,o.QGY)(e)?(0,v.D)(Promise.resolve(e)):(0,w.of)(e)}const Ze={exact:function e(t,i,n){if(!qe(t.segments,i.segments)||!Oe(t.segments,i.segments,n)||t.numberOfChildren!==i.numberOfChildren)return!1;for(const o in i.children)if(!t.children[o]||!e(t.children[o],i.children[o],n))return!1;return!0},subset:Ee},ke={exact:function(e,t){return be(e,t)},subset:function(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(i=>we(e[i],t[i]))},ignored:()=>!0};function Se(e,t,i){return Ze[i.paths](e.root,t.root,i.matrixParams)&&ke[i.queryParams](e.queryParams,t.queryParams)&&!("exact"===i.fragment&&e.fragment!==t.fragment)}function Ee(e,t,i){return Me(e,t,t.segments,i)}function Me(e,t,i,n){if(e.segments.length>i.length){const o=e.segments.slice(0,i.length);return!(!qe(o,i)||t.hasChildren()||!Oe(o,i,n))}if(e.segments.length===i.length){if(!qe(e.segments,i)||!Oe(e.segments,i,n))return!1;for(const i in t.children)if(!e.children[i]||!Ee(e.children[i],t.children[i],n))return!1;return!0}{const o=i.slice(0,e.segments.length),r=i.slice(e.segments.length);return!!(qe(e.segments,o)&&Oe(e.segments,o,n)&&e.children[ge])&&Me(e.children[ge],t,r,n)}}function Oe(e,t,i){return t.every((t,n)=>ke[i](e[n].parameters,t.parameters))}class Ie{constructor(e,t,i){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=me(this.queryParams)),this._queryParamMap}toString(){return Be.serialize(this)}}class Pe{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Te(t,(e,t)=>e.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return De(this)}}class Re{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=me(this.parameters)),this._parameterMap}toString(){return Ke(this)}}function qe(e,t){return e.length===t.length&&e.every((e,i)=>e.path===t[i].path)}class Le{}class Ue{parse(e){const t=new Xe(e);return new Ie(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){var t;return`${`/${Ne(e.root,!0)}`}${function(e){const t=Object.keys(e).map(t=>{const i=e[t];return Array.isArray(i)?i.map(e=>`${He(t)}=${He(e)}`).join("&"):`${He(t)}=${He(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(e.queryParams)}${"string"==typeof e.fragment?`#${t=e.fragment,encodeURI(t)}`:""}`}}const Be=new Ue;function De(e){return e.segments.map(e=>Ke(e)).join("/")}function Ne(e,t){if(!e.hasChildren())return De(e);if(t){const t=e.children[ge]?Ne(e.children[ge],!1):"",i=[];return Te(e.children,(e,t)=>{t!==ge&&i.push(`${t}:${Ne(e,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}{const t=function(e,t){let i=[];return Te(e.children,(e,n)=>{n===ge&&(i=i.concat(t(e,n)))}),Te(e.children,(e,n)=>{n!==ge&&(i=i.concat(t(e,n)))}),i}(e,(t,i)=>i===ge?[Ne(e.children[ge],!1)]:[`${i}:${Ne(t,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[ge]?`${De(e)}/${t[0]}`:`${De(e)}/(${t.join("//")})`}}function Fe(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function He(e){return Fe(e).replace(/%3B/gi,";")}function $e(e){return Fe(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ze(e){return decodeURIComponent(e)}function Ve(e){return ze(e.replace(/\+/g,"%20"))}function Ke(e){return`${$e(e.path)}${function(e){return Object.keys(e).map(t=>`;${$e(t)}=${$e(e[t])}`).join("")}(e.parameters)}`}const We=/^[^\/()?;=#]+/;function Ge(e){const t=e.match(We);return t?t[0]:""}const Ye=/^[^=?&#]+/,je=/^[^?&#]+/;class Xe{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Pe([],{}):new Pe([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[ge]=new Pe(e,t)),i}parseSegment(){const e=Ge(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new Re(ze(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Ge(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const e=Ge(this.remaining);e&&(i=e,this.capture(i))}e[ze(t)]=ze(i)}parseQueryParam(e){const t=function(e){const t=e.match(Ye);return t?t[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const e=function(e){const t=e.match(je);return t?t[0]:""}(this.remaining);e&&(i=e,this.capture(i))}const n=Ve(t),o=Ve(i);if(e.hasOwnProperty(n)){let t=e[n];Array.isArray(t)||(t=[t],e[n]=t),t.push(o)}else e[n]=o}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=Ge(this.remaining),n=this.remaining[i.length];if("/"!==n&&")"!==n&&";"!==n)throw new Error(`Cannot parse url '${this.url}'`);let o;i.indexOf(":")>-1?(o=i.substr(0,i.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=ge);const r=this.parseChildren();t[o]=1===Object.keys(r).length?r[ge]:new Pe([],r),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class Je{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Qe(e,this._root);return t?t.children.map(e=>e.value):[]}firstChild(e){const t=Qe(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=et(e,this._root);return t.length<2?[]:t[t.length-2].children.map(e=>e.value).filter(t=>t!==e)}pathFromRoot(e){return et(e,this._root).map(e=>e.value)}}function Qe(e,t){if(e===t.value)return t;for(const i of t.children){const t=Qe(e,i);if(t)return t}return null}function et(e,t){if(e===t.value)return[t];for(const i of t.children){const n=et(e,i);if(n.length)return n.unshift(t),n}return[]}class tt{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function it(e){const t={};return e&&e.children.forEach(e=>t[e.value.outlet]=e),t}class nt extends Je{constructor(e,t){super(e),this.snapshot=t,ct(this,e)}toString(){return this.snapshot.toString()}}function ot(e,t){const i=function(e,t){const i=new at([],{},{},"",{},ge,t,null,e.root,-1,{});return new lt("",new tt(i,[]))}(e,t),n=new A.X([new Re("",{})]),o=new A.X({}),r=new A.X({}),s=new A.X({}),a=new A.X(""),l=new rt(n,o,s,a,r,ge,t,i.root);return l.snapshot=i.root,new nt(new tt(l,[]),i)}class rt{constructor(e,t,i,n,o,r,s,a){this.url=e,this.params=t,this.queryParams=i,this.fragment=n,this.data=o,this.outlet=r,this.component=s,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,$.U)(e=>me(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,$.U)(e=>me(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function st(e,t="emptyOnly"){const i=e.pathFromRoot;let n=0;if("always"!==t)for(n=i.length-1;n>=1;){const e=i[n],t=i[n-1];if(e.routeConfig&&""===e.routeConfig.path)n--;else{if(t.component)break;n--}}return function(e){return e.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(i.slice(n))}class at{constructor(e,t,i,n,o,r,s,a,l,c,h){this.url=e,this.params=t,this.queryParams=i,this.fragment=n,this.data=o,this.outlet=r,this.component=s,this.routeConfig=a,this._urlSegment=l,this._lastPathIndex=c,this._resolve=h}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=me(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=me(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(e=>e.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class lt extends Je{constructor(e,t){super(t),this.url=e,ct(this,t)}toString(){return ht(this._root)}}function ct(e,t){t.value._routerState=e,t.children.forEach(t=>ct(e,t))}function ht(e){const t=e.children.length>0?` { ${e.children.map(ht).join(", ")} } `:"";return`${e.value}${t}`}function ut(e){if(e.snapshot){const t=e.snapshot,i=e._futureSnapshot;e.snapshot=i,be(t.queryParams,i.queryParams)||e.queryParams.next(i.queryParams),t.fragment!==i.fragment&&e.fragment.next(i.fragment),be(t.params,i.params)||e.params.next(i.params),function(e,t){if(e.length!==t.length)return!1;for(let i=0;i<e.length;++i)if(!be(e[i],t[i]))return!1;return!0}(t.url,i.url)||e.url.next(i.url),be(t.data,i.data)||e.data.next(i.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function dt(e,t){return be(e.params,t.params)&&function(e,t){return qe(e,t)&&e.every((e,i)=>be(e.parameters,t[i].parameters))}(e.url,t.url)&&!(!e.parent!=!t.parent)&&(!e.parent||dt(e.parent,t.parent))}function pt(e,t,i){if(i&&e.shouldReuseRoute(t.value,i.value.snapshot)){const n=i.value;n._futureSnapshot=t.value;const o=function(e,t,i){return t.children.map(t=>{for(const n of i.children)if(e.shouldReuseRoute(t.value,n.value.snapshot))return pt(e,t,n);return pt(e,t)})}(e,t,i);return new tt(n,o)}{if(e.shouldAttach(t.value)){const i=e.retrieve(t.value);if(null!==i){const e=i.route;return gt(t,e),e}}const i=function(e){return new rt(new A.X(e.url),new A.X(e.params),new A.X(e.queryParams),new A.X(e.fragment),new A.X(e.data),e.outlet,e.component,e)}(t.value),n=t.children.map(t=>pt(e,t));return new tt(i,n)}}function gt(e,t){if(e.value.routeConfig!==t.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==t.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");t.value._futureSnapshot=e.value;for(let i=0;i<e.children.length;++i)gt(e.children[i],t.children[i])}function ft(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function mt(e){return"object"==typeof e&&null!=e&&e.outlets}function _t(e,t,i,n,o){let r={};return n&&Te(n,(e,t)=>{r[t]=Array.isArray(e)?e.map(e=>`${e}`):`${e}`}),new Ie(i.root===e?t:vt(i.root,e,t),r,o)}function vt(e,t,i){const n={};return Te(e.children,(e,o)=>{n[o]=e===t?i:vt(e,t,i)}),new Pe(e.segments,n)}class yt{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&ft(i[0]))throw new Error("Root segment cannot have matrix parameters");const n=i.find(mt);if(n&&n!==xe(i))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class bt{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}}function wt(e,t,i){if(e||(e=new Pe([],{})),0===e.segments.length&&e.hasChildren())return At(e,t,i);const n=function(e,t,i){let n=0,o=t;const r={match:!1,pathIndex:0,commandIndex:0};for(;o<e.segments.length;){if(n>=i.length)return r;const t=e.segments[o],s=i[n];if(mt(s))break;const a=`${s}`,l=n<i.length-1?i[n+1]:null;if(o>0&&void 0===a)break;if(a&&l&&"object"==typeof l&&void 0===l.outlets){if(!Zt(a,l,t))return r;n+=2}else{if(!Zt(a,{},t))return r;n++}o++}return{match:!0,pathIndex:o,commandIndex:n}}(e,t,i),o=i.slice(n.commandIndex);if(n.match&&n.pathIndex<e.segments.length){const t=new Pe(e.segments.slice(0,n.pathIndex),{});return t.children[ge]=new Pe(e.segments.slice(n.pathIndex),e.children),At(t,0,o)}return n.match&&0===o.length?new Pe(e.segments,{}):n.match&&!e.hasChildren()?xt(e,t,i):n.match?At(e,0,o):xt(e,t,i)}function At(e,t,i){if(0===i.length)return new Pe(e.segments,{});{const n=function(e){return mt(e[0])?e[0].outlets:{[ge]:e}}(i),o={};return Te(n,(i,n)=>{"string"==typeof i&&(i=[i]),null!==i&&(o[n]=wt(e.children[n],t,i))}),Te(e.children,(e,t)=>{void 0===n[t]&&(o[t]=e)}),new Pe(e.segments,o)}}function xt(e,t,i){const n=e.segments.slice(0,t);let o=0;for(;o<i.length;){const r=i[o];if(mt(r)){const e=Tt(r.outlets);return new Pe(n,e)}if(0===o&&ft(i[0])){n.push(new Re(e.segments[t].path,Ct(i[0]))),o++;continue}const s=mt(r)?r.outlets[ge]:`${r}`,a=o<i.length-1?i[o+1]:null;s&&a&&ft(a)?(n.push(new Re(s,Ct(a))),o+=2):(n.push(new Re(s,{})),o++)}return new Pe(n,{})}function Tt(e){const t={};return Te(e,(e,i)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[i]=xt(new Pe([],{}),0,e))}),t}function Ct(e){const t={};return Te(e,(e,i)=>t[i]=`${e}`),t}function Zt(e,t,i){return e==i.path&&be(t,i.parameters)}class kt{constructor(e,t,i,n){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=n}activate(e){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),ut(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){const n=it(t);e.children.forEach(e=>{const t=e.value.outlet;this.deactivateRoutes(e,n[t],i),delete n[t]}),Te(n,(e,t)=>{this.deactivateRouteAndItsChildren(e,i)})}deactivateRoutes(e,t,i){const n=e.value,o=t?t.value:null;if(n===o)if(n.component){const o=i.getContext(n.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,i);else o&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const i=t.getContext(e.value.outlet);if(i&&i.outlet){const t=i.outlet.detach(),n=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:t,route:e,contexts:n})}}deactivateRouteAndOutlet(e,t){const i=t.getContext(e.value.outlet),n=i&&e.value.component?i.children:t,o=it(e);for(const r of Object.keys(o))this.deactivateRouteAndItsChildren(o[r],n);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(e,t,i){const n=it(t);e.children.forEach(e=>{this.activateRoutes(e,n[e.value.outlet],i),this.forwardEvent(new de(e.value.snapshot))}),e.children.length&&this.forwardEvent(new he(e.value.snapshot))}activateRoutes(e,t,i){const n=e.value,o=t?t.value:null;if(ut(n),n===o)if(n.component){const o=i.getOrCreateContext(n.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,i);else if(n.component){const t=i.getOrCreateContext(n.outlet);if(this.routeReuseStrategy.shouldAttach(n.snapshot)){const e=this.routeReuseStrategy.retrieve(n.snapshot);this.routeReuseStrategy.store(n.snapshot,null),t.children.onOutletReAttached(e.contexts),t.attachRef=e.componentRef,t.route=e.route.value,t.outlet&&t.outlet.attach(e.componentRef,e.route.value),St(e.route)}else{const i=function(e){for(let t=e.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(n.snapshot),o=i?i.module.componentFactoryResolver:null;t.attachRef=null,t.route=n,t.resolver=o,t.outlet&&t.outlet.activateWith(n,o),this.activateChildRoutes(e,null,t.children)}}else this.activateChildRoutes(e,null,i)}}function St(e){ut(e.value),e.children.forEach(St)}class Et{constructor(e,t){this.routes=e,this.module=t}}function Mt(e){return"function"==typeof e}function Ot(e){return e instanceof Ie}const It=Symbol("INITIAL_VALUE");function Pt(){return(0,z.w)(e=>function(...e){let t,i;return(0,r.K)(e[e.length-1])&&(i=e.pop()),"function"==typeof e[e.length-1]&&(t=e.pop()),1===e.length&&(0,s.k)(e[0])&&(e=e[0]),(0,p.n)(e,i).lift(new f(t))}(e.map(e=>e.pipe((0,B.q)(1),function(...e){const t=e[e.length-1];return(0,r.K)(t)?(e.pop(),i=>(0,x.z)(e,i,t)):t=>(0,x.z)(e,t)}(It)))).pipe((0,V.R)((e,t)=>{let i=!1;return t.reduce((e,n,o)=>e!==It?e:(n===It&&(i=!0),i||!1!==n&&o!==t.length-1&&!Ot(n)?e:n),e)},It),(0,M.h)(e=>e!==It),(0,$.U)(e=>Ot(e)?e:!0===e),(0,B.q)(1)))}let Rt=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o.Xpm({type:e,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,t){1&e&&o._UZ(0,"router-outlet")},directives:function(){return[Ei]},encapsulation:2}),e})();function qt(e,t=""){for(let i=0;i<e.length;i++){const n=e[i];Lt(n,Ut(t,n))}}function Lt(e,t){e.children&&qt(e.children,t)}function Ut(e,t){return t?e||t.path?e&&!t.path?`${e}/`:!e&&t.path?t.path:`${e}/${t.path}`:"":e}function Bt(e){const t=e.children&&e.children.map(Bt),i=t?Object.assign(Object.assign({},e),{children:t}):Object.assign({},e);return!i.component&&(t||i.loadChildren)&&i.outlet&&i.outlet!==ge&&(i.component=Rt),i}function Dt(e){return e.outlet||ge}function Nt(e,t){const i=e.filter(e=>Dt(e)===t);return i.push(...e.filter(e=>Dt(e)!==t)),i}const Ft={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Ht(e,t,i){var n;if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||i.length>0)?Object.assign({},Ft):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const o=(t.matcher||ye)(i,e,t);if(!o)return Object.assign({},Ft);const r={};Te(o.posParams,(e,t)=>{r[t]=e.path});const s=o.consumed.length>0?Object.assign(Object.assign({},r),o.consumed[o.consumed.length-1].parameters):r;return{matched:!0,consumedSegments:o.consumed,lastChild:o.consumed.length,parameters:s,positionalParamSegments:null!==(n=o.posParams)&&void 0!==n?n:{}}}function $t(e,t,i,n,o="corrected"){if(i.length>0&&function(e,t,i){return i.some(i=>zt(e,t,i)&&Dt(i)!==ge)}(e,i,n)){const o=new Pe(t,function(e,t,i,n){const o={};o[ge]=n,n._sourceSegment=e,n._segmentIndexShift=t.length;for(const r of i)if(""===r.path&&Dt(r)!==ge){const i=new Pe([],{});i._sourceSegment=e,i._segmentIndexShift=t.length,o[Dt(r)]=i}return o}(e,t,n,new Pe(i,e.children)));return o._sourceSegment=e,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:[]}}if(0===i.length&&function(e,t,i){return i.some(i=>zt(e,t,i))}(e,i,n)){const r=new Pe(e.segments,function(e,t,i,n,o,r){const s={};for(const a of n)if(zt(e,i,a)&&!o[Dt(a)]){const i=new Pe([],{});i._sourceSegment=e,i._segmentIndexShift="legacy"===r?e.segments.length:t.length,s[Dt(a)]=i}return Object.assign(Object.assign({},o),s)}(e,t,i,n,e.children,o));return r._sourceSegment=e,r._segmentIndexShift=t.length,{segmentGroup:r,slicedSegments:i}}const r=new Pe(e.segments,e.children);return r._sourceSegment=e,r._segmentIndexShift=t.length,{segmentGroup:r,slicedSegments:i}}function zt(e,t,i){return(!(e.hasChildren()||t.length>0)||"full"!==i.pathMatch)&&""===i.path}function Vt(e,t,i,n){return!!(Dt(e)===n||n!==ge&&zt(t,i,e))&&("**"===e.path||Ht(t,e,i).matched)}function Kt(e,t,i){return 0===t.length&&!e.children[i]}class Wt{constructor(e){this.segmentGroup=e||null}}class Gt{constructor(e){this.urlTree=e}}function Yt(e){return new u.y(t=>t.error(new Wt(e)))}function jt(e){return new u.y(t=>t.error(new Gt(e)))}function Xt(e){return new u.y(t=>t.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e}'`)))}class Jt{constructor(e,t,i,n,r){this.configLoader=t,this.urlSerializer=i,this.urlTree=n,this.config=r,this.allowRedirects=!0,this.ngModule=e.get(o.h0i)}apply(){const e=$t(this.urlTree.root,[],[],this.config).segmentGroup,t=new Pe(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,ge).pipe((0,$.U)(e=>this.createUrlTree(Qt(e),this.urlTree.queryParams,this.urlTree.fragment))).pipe(k(e=>{if(e instanceof Gt)return this.allowRedirects=!1,this.match(e.urlTree);throw e instanceof Wt?this.noMatchError(e):e}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,ge).pipe((0,$.U)(t=>this.createUrlTree(Qt(t),e.queryParams,e.fragment))).pipe(k(e=>{throw e instanceof Wt?this.noMatchError(e):e}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,i){const n=e.segments.length>0?new Pe([],{[ge]:e}):e;return new Ie(n,t,i)}expandSegmentGroup(e,t,i,n){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(e,t,i).pipe((0,$.U)(e=>new Pe([],e))):this.expandSegment(e,i,t,i.segments,n,!0)}expandChildren(e,t,i){const n=[];for(const o of Object.keys(i.children))"primary"===o?n.unshift(o):n.push(o);return(0,v.D)(n).pipe((0,K.b)(n=>{const o=i.children[n],r=Nt(t,n);return this.expandSegmentGroup(e,r,o,n).pipe((0,$.U)(e=>({segment:e,outlet:n})))}),(0,V.R)((e,t)=>(e[t.outlet]=t.segment,e),{}),function(e,t){const i=arguments.length>=2;return n=>n.pipe(e?(0,M.h)((t,i)=>e(t,i,n)):U.y,(0,O.h)(1),i?(0,L.d)(t):I(()=>new _))}())}expandSegment(e,t,i,n,o,r){return(0,v.D)(i).pipe((0,K.b)(s=>this.expandSegmentAgainstRoute(e,t,i,s,n,o,r).pipe(k(e=>{if(e instanceof Wt)return(0,w.of)(null);throw e}))),D(e=>!!e),k((e,i)=>{if(e instanceof _||"EmptyError"===e.name){if(Kt(t,n,o))return(0,w.of)(new Pe([],{}));throw new Wt(t)}throw e}))}expandSegmentAgainstRoute(e,t,i,n,o,r,s){return Vt(n,t,o,r)?void 0===n.redirectTo?this.matchSegmentAgainstRoute(e,t,n,o,r):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,i,n,o,r):Yt(t):Yt(t)}expandSegmentAgainstRouteUsingRedirect(e,t,i,n,o,r){return"**"===n.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,i,n,r):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,n,o,r)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,i,n){const o=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?jt(o):this.lineralizeSegments(i,o).pipe((0,W.zg)(i=>{const o=new Pe(i,{});return this.expandSegment(e,o,t,i,n,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,n,o,r){const{matched:s,consumedSegments:a,lastChild:l,positionalParamSegments:c}=Ht(t,n,o);if(!s)return Yt(t);const h=this.applyRedirectCommands(a,n.redirectTo,c);return n.redirectTo.startsWith("/")?jt(h):this.lineralizeSegments(n,h).pipe((0,W.zg)(n=>this.expandSegment(e,t,i,n.concat(o.slice(l)),r,!1)))}matchSegmentAgainstRoute(e,t,i,n,o){if("**"===i.path)return i.loadChildren?(i._loadedConfig?(0,w.of)(i._loadedConfig):this.configLoader.load(e.injector,i)).pipe((0,$.U)(e=>(i._loadedConfig=e,new Pe(n,{})))):(0,w.of)(new Pe(n,{}));const{matched:r,consumedSegments:s,lastChild:a}=Ht(t,i,n);if(!r)return Yt(t);const l=n.slice(a);return this.getChildConfig(e,i,n).pipe((0,W.zg)(e=>{const n=e.module,r=e.routes,{segmentGroup:a,slicedSegments:c}=$t(t,s,l,r),h=new Pe(a.segments,a.children);if(0===c.length&&h.hasChildren())return this.expandChildren(n,r,h).pipe((0,$.U)(e=>new Pe(s,e)));if(0===r.length&&0===c.length)return(0,w.of)(new Pe(s,{}));const u=Dt(i)===o;return this.expandSegment(n,h,r,c,u?ge:o,!0).pipe((0,$.U)(e=>new Pe(s.concat(e.segments),e.children)))}))}getChildConfig(e,t,i){return t.children?(0,w.of)(new Et(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?(0,w.of)(t._loadedConfig):this.runCanLoadGuards(e.injector,t,i).pipe((0,W.zg)(i=>{return i?this.configLoader.load(e.injector,t).pipe((0,$.U)(e=>(t._loadedConfig=e,e))):(n=t,new u.y(e=>e.error(ve(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))));var n})):(0,w.of)(new Et([],e))}runCanLoadGuards(e,t,i){const n=t.canLoad;if(!n||0===n.length)return(0,w.of)(!0);const o=n.map(n=>{const o=e.get(n);let r;if((s=o)&&Mt(s.canLoad))r=o.canLoad(t,i);else{if(!Mt(o))throw new Error("Invalid CanLoad guard");r=o(t,i)}var s;return Ce(r)});return(0,w.of)(o).pipe(Pt(),(0,G.b)(e=>{if(!Ot(e))return;const t=ve(`Redirecting to "${this.urlSerializer.serialize(e)}"`);throw t.url=e,t}),(0,$.U)(e=>!0===e))}lineralizeSegments(e,t){let i=[],n=t.root;for(;;){if(i=i.concat(n.segments),0===n.numberOfChildren)return(0,w.of)(i);if(n.numberOfChildren>1||!n.children[ge])return Xt(e.redirectTo);n=n.children[ge]}}applyRedirectCommands(e,t,i){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,i)}applyRedirectCreatreUrlTree(e,t,i,n){const o=this.createSegmentGroup(e,t.root,i,n);return new Ie(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const i={};return Te(e,(e,n)=>{if("string"==typeof e&&e.startsWith(":")){const o=e.substring(1);i[n]=t[o]}else i[n]=e}),i}createSegmentGroup(e,t,i,n){const o=this.createSegments(e,t.segments,i,n);let r={};return Te(t.children,(t,o)=>{r[o]=this.createSegmentGroup(e,t,i,n)}),new Pe(o,r)}createSegments(e,t,i,n){return t.map(t=>t.path.startsWith(":")?this.findPosParam(e,t,n):this.findOrReturn(t,i))}findPosParam(e,t,i){const n=i[t.path.substring(1)];if(!n)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return n}findOrReturn(e,t){let i=0;for(const n of t){if(n.path===e.path)return t.splice(i),n;i++}return e}}function Qt(e){const t={};for(const i of Object.keys(e.children)){const n=Qt(e.children[i]);(n.segments.length>0||n.hasChildren())&&(t[i]=n)}return function(e){if(1===e.numberOfChildren&&e.children[ge]){const t=e.children[ge];return new Pe(e.segments.concat(t.segments),t.children)}return e}(new Pe(e.segments,t))}class ei{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class ti{constructor(e,t){this.component=e,this.route=t}}function ii(e,t,i){const n=e._root;return oi(n,t?t._root:null,i,[n.value])}function ni(e,t,i){const n=function(e){if(!e)return null;for(let t=e.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(n?n.module.injector:i).get(e)}function oi(e,t,i,n,o={canDeactivateChecks:[],canActivateChecks:[]}){const r=it(t);return e.children.forEach(e=>{(function(e,t,i,n,o={canDeactivateChecks:[],canActivateChecks:[]}){const r=e.value,s=t?t.value:null,a=i?i.getContext(e.value.outlet):null;if(s&&r.routeConfig===s.routeConfig){const l=function(e,t,i){if("function"==typeof i)return i(e,t);switch(i){case"pathParamsChange":return!qe(e.url,t.url);case"pathParamsOrQueryParamsChange":return!qe(e.url,t.url)||!be(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!dt(e,t)||!be(e.queryParams,t.queryParams);case"paramsChange":default:return!dt(e,t)}}(s,r,r.routeConfig.runGuardsAndResolvers);l?o.canActivateChecks.push(new ei(n)):(r.data=s.data,r._resolvedData=s._resolvedData),oi(e,t,r.component?a?a.children:null:i,n,o),l&&a&&a.outlet&&a.outlet.isActivated&&o.canDeactivateChecks.push(new ti(a.outlet.component,s))}else s&&ri(t,a,o),o.canActivateChecks.push(new ei(n)),oi(e,null,r.component?a?a.children:null:i,n,o)})(e,r[e.value.outlet],i,n.concat([e.value]),o),delete r[e.value.outlet]}),Te(r,(e,t)=>ri(e,i.getContext(t),o)),o}function ri(e,t,i){const n=it(e),o=e.value;Te(n,(e,n)=>{ri(e,o.component?t?t.children.getContext(n):null:t,i)}),i.canDeactivateChecks.push(new ti(o.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,o))}class si{}function ai(e){return new u.y(t=>t.error(e))}class li{constructor(e,t,i,n,o,r){this.rootComponentType=e,this.config=t,this.urlTree=i,this.url=n,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=r}recognize(){const e=$t(this.urlTree.root,[],[],this.config.filter(e=>void 0===e.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,ge);if(null===t)return null;const i=new at([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},ge,this.rootComponentType,null,this.urlTree.root,-1,{}),n=new tt(i,t),o=new lt(this.url,n);return this.inheritParamsAndData(o._root),o}inheritParamsAndData(e){const t=e.value,i=st(t,this.paramsInheritanceStrategy);t.params=Object.freeze(i.params),t.data=Object.freeze(i.data),e.children.forEach(e=>this.inheritParamsAndData(e))}processSegmentGroup(e,t,i){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,i)}processChildren(e,t){const i=[];for(const o of Object.keys(t.children)){const n=t.children[o],r=Nt(e,o),s=this.processSegmentGroup(r,n,o);if(null===s)return null;i.push(...s)}const n=hi(i);return n.sort((e,t)=>e.value.outlet===ge?-1:t.value.outlet===ge?1:e.value.outlet.localeCompare(t.value.outlet)),n}processSegment(e,t,i,n){for(const o of e){const e=this.processSegmentAgainstRoute(o,t,i,n);if(null!==e)return e}return Kt(t,i,n)?[]:null}processSegmentAgainstRoute(e,t,i,n){if(e.redirectTo||!Vt(e,t,i,n))return null;let o,r=[],s=[];if("**"===e.path){const n=i.length>0?xe(i).parameters:{};o=new at(i,n,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,pi(e),Dt(e),e.component,e,ui(t),di(t)+i.length,gi(e))}else{const n=Ht(t,e,i);if(!n.matched)return null;r=n.consumedSegments,s=i.slice(n.lastChild),o=new at(r,n.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,pi(e),Dt(e),e.component,e,ui(t),di(t)+r.length,gi(e))}const a=(h=e).children?h.children:h.loadChildren?h._loadedConfig.routes:[],{segmentGroup:l,slicedSegments:c}=$t(t,r,s,a.filter(e=>void 0===e.redirectTo),this.relativeLinkResolution);var h;if(0===c.length&&l.hasChildren()){const e=this.processChildren(a,l);return null===e?null:[new tt(o,e)]}if(0===a.length&&0===c.length)return[new tt(o,[])];const u=Dt(e)===n,d=this.processSegment(a,l,c,u?ge:n);return null===d?null:[new tt(o,d)]}}function ci(e){const t=e.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function hi(e){const t=[],i=new Set;for(const n of e){if(!ci(n)){t.push(n);continue}const e=t.find(e=>n.value.routeConfig===e.value.routeConfig);void 0!==e?(e.children.push(...n.children),i.add(e)):t.push(n)}for(const n of i){const e=hi(n.children);t.push(new tt(n.value,e))}return t.filter(e=>!i.has(e))}function ui(e){let t=e;for(;t._sourceSegment;)t=t._sourceSegment;return t}function di(e){let t=e,i=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,i+=t._segmentIndexShift?t._segmentIndexShift:0;return i-1}function pi(e){return e.data||{}}function gi(e){return e.resolve||{}}function fi(e){return(0,z.w)(t=>{const i=e(t);return i?(0,v.D)(i).pipe((0,$.U)(()=>t)):(0,w.of)(t)})}class mi extends class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const _i=new o.OlP("ROUTES");class vi{constructor(e,t,i,n){this.loader=e,this.compiler=t,this.onLoadStartListener=i,this.onLoadEndListener=n}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const i=this.loadModuleFactory(t.loadChildren).pipe((0,$.U)(i=>{this.onLoadEndListener&&this.onLoadEndListener(t);const n=i.create(e);return new Et(Ae(n.injector.get(_i,void 0,o.XFs.Self|o.XFs.Optional)).map(Bt),n)}),k(e=>{throw t._loader$=void 0,e}));return t._loader$=new T.c(i,()=>new C.xQ).pipe((0,Y.x)()),t._loader$}loadModuleFactory(e){return"string"==typeof e?(0,v.D)(this.loader.load(e)):Ce(e()).pipe((0,W.zg)(e=>e instanceof o.YKP?(0,w.of)(e):(0,v.D)(this.compiler.compileModuleAsync(e))))}}class yi{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new bi,this.attachRef=null}}class bi{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const i=this.getOrCreateContext(e);i.outlet=t,this.contexts.set(e,i)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new yi,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}class wi{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function Ai(e){throw e}function xi(e,t,i){return t.parse("/")}function Ti(e,t){return(0,w.of)(null)}const Ci={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Zi={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ki=(()=>{class e{constructor(e,t,i,n,r,s,a,l){this.rootComponentType=e,this.urlSerializer=t,this.rootContexts=i,this.location=n,this.config=l,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new C.xQ,this.errorHandler=Ai,this.malformedUriErrorHandler=xi,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Ti,afterPreactivation:Ti},this.urlHandlingStrategy=new wi,this.routeReuseStrategy=new mi,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=r.get(o.h0i),this.console=r.get(o.c2e);const c=r.get(o.R0b);this.isNgZoneEnabled=c instanceof o.R0b&&o.R0b.isInAngularZone(),this.resetConfig(l),this.currentUrlTree=new Ie(new Pe([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new vi(s,a,e=>this.triggerEvent(new ae(e)),e=>this.triggerEvent(new le(e))),this.routerState=ot(this.currentUrlTree,this.rootComponentType),this.transitions=new A.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}setupNavigations(e){const t=this.events;return e.pipe((0,M.h)(e=>0!==e.id),(0,$.U)(e=>Object.assign(Object.assign({},e),{extractedUrl:this.urlHandlingStrategy.extract(e.rawUrl)})),(0,z.w)(e=>{let i=!1,n=!1;return(0,w.of)(e).pipe((0,G.b)(e=>{this.currentNavigation={id:e.id,initialUrl:e.currentRawUrl,extractedUrl:e.extractedUrl,trigger:e.source,extras:e.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,z.w)(e=>{const i=this.browserUrlTree.toString(),o=!this.navigated||e.extractedUrl.toString()!==i||i!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||o)&&this.urlHandlingStrategy.shouldProcessUrl(e.rawUrl))return Si(e.source)&&(this.browserUrlTree=e.extractedUrl),(0,w.of)(e).pipe((0,z.w)(e=>{const i=this.transitions.getValue();return t.next(new J(e.id,this.serializeUrl(e.extractedUrl),e.source,e.restoredState)),i!==this.transitions.getValue()?y.E:Promise.resolve(e)}),function(e,t,i,n){return(0,z.w)(o=>function(e,t,i,n,o){return new Jt(e,t,i,n,o).apply()}(e,t,i,o.extractedUrl,n).pipe((0,$.U)(e=>Object.assign(Object.assign({},o),{urlAfterRedirects:e}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,G.b)(e=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:e.urlAfterRedirects})}),function(e,t,i,o,r){return(0,W.zg)(s=>function(e,t,i,o,r="emptyOnly",s="legacy"){try{const n=new li(e,t,i,o,r,s).recognize();return null===n?ai(new si):(0,w.of)(n)}catch(n){return ai(n)}}(e,t,s.urlAfterRedirects,i(s.urlAfterRedirects),o,r).pipe((0,$.U)(e=>Object.assign(Object.assign({},s),{targetSnapshot:e}))))}(this.rootComponentType,this.config,e=>this.serializeUrl(e),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,G.b)(e=>{"eager"===this.urlUpdateStrategy&&(e.extras.skipLocationChange||this.setBrowserUrl(e.urlAfterRedirects,e),this.browserUrlTree=e.urlAfterRedirects);const i=new ie(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.next(i)}));if(o&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:i,extractedUrl:n,source:o,restoredState:r,extras:s}=e,a=new J(i,this.serializeUrl(n),o,r);t.next(a);const l=ot(n,this.rootComponentType).snapshot;return(0,w.of)(Object.assign(Object.assign({},e),{targetSnapshot:l,urlAfterRedirects:n,extras:Object.assign(Object.assign({},s),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=e.rawUrl,this.browserUrlTree=e.urlAfterRedirects,e.resolve(null),y.E}),fi(e=>{const{targetSnapshot:t,id:i,extractedUrl:n,rawUrl:o,extras:{skipLocationChange:r,replaceUrl:s}}=e;return this.hooks.beforePreactivation(t,{navigationId:i,appliedUrlTree:n,rawUrlTree:o,skipLocationChange:!!r,replaceUrl:!!s})}),(0,G.b)(e=>{const t=new ne(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}),(0,$.U)(e=>Object.assign(Object.assign({},e),{guards:ii(e.targetSnapshot,e.currentSnapshot,this.rootContexts)})),function(e,t){return(0,W.zg)(i=>{const{targetSnapshot:n,currentSnapshot:o,guards:{canActivateChecks:r,canDeactivateChecks:s}}=i;return 0===s.length&&0===r.length?(0,w.of)(Object.assign(Object.assign({},i),{guardsResult:!0})):function(e,t,i,n){return(0,v.D)(e).pipe((0,W.zg)(e=>function(e,t,i,n,o){const r=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!r||0===r.length)return(0,w.of)(!0);const s=r.map(r=>{const s=ni(r,t,o);let a;if(function(e){return e&&Mt(e.canDeactivate)}(s))a=Ce(s.canDeactivate(e,t,i,n));else{if(!Mt(s))throw new Error("Invalid CanDeactivate guard");a=Ce(s(e,t,i,n))}return a.pipe(D())});return(0,w.of)(s).pipe(Pt())}(e.component,e.route,i,t,n)),D(e=>!0!==e,!0))}(s,n,o,e).pipe((0,W.zg)(i=>i&&function(e){return"boolean"==typeof e}(i)?function(e,t,i,n){return(0,v.D)(t).pipe((0,K.b)(t=>(0,x.z)(function(e,t){return null!==e&&t&&t(new ce(e)),(0,w.of)(!0)}(t.route.parent,n),function(e,t){return null!==e&&t&&t(new ue(e)),(0,w.of)(!0)}(t.route,n),function(e,t,i){const n=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(e=>function(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(e)).filter(e=>null!==e).map(t=>b(()=>{const o=t.guards.map(o=>{const r=ni(o,t.node,i);let s;if(function(e){return e&&Mt(e.canActivateChild)}(r))s=Ce(r.canActivateChild(n,e));else{if(!Mt(r))throw new Error("Invalid CanActivateChild guard");s=Ce(r(n,e))}return s.pipe(D())});return(0,w.of)(o).pipe(Pt())}));return(0,w.of)(o).pipe(Pt())}(e,t.path,i),function(e,t,i){const n=t.routeConfig?t.routeConfig.canActivate:null;if(!n||0===n.length)return(0,w.of)(!0);const o=n.map(n=>b(()=>{const o=ni(n,t,i);let r;if(function(e){return e&&Mt(e.canActivate)}(o))r=Ce(o.canActivate(t,e));else{if(!Mt(o))throw new Error("Invalid CanActivate guard");r=Ce(o(t,e))}return r.pipe(D())}));return(0,w.of)(o).pipe(Pt())}(e,t.route,i))),D(e=>!0!==e,!0))}(n,r,e,t):(0,w.of)(i)),(0,$.U)(e=>Object.assign(Object.assign({},i),{guardsResult:e})))})}(this.ngModule.injector,e=>this.triggerEvent(e)),(0,G.b)(e=>{if(Ot(e.guardsResult)){const t=ve(`Redirecting to "${this.serializeUrl(e.guardsResult)}"`);throw t.url=e.guardsResult,t}const t=new oe(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot,!!e.guardsResult);this.triggerEvent(t)}),(0,M.h)(e=>!!e.guardsResult||(this.restoreHistory(e),this.cancelNavigationTransition(e,""),!1)),fi(e=>{if(e.guards.canActivateChecks.length)return(0,w.of)(e).pipe((0,G.b)(e=>{const t=new re(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}),(0,z.w)(e=>{let t=!1;return(0,w.of)(e).pipe(function(e,t){return(0,W.zg)(i=>{const{targetSnapshot:n,guards:{canActivateChecks:o}}=i;if(!o.length)return(0,w.of)(i);let r=0;return(0,v.D)(o).pipe((0,K.b)(i=>function(e,t,i,n){return function(e,t,i,n){const o=Object.keys(e);if(0===o.length)return(0,w.of)({});const r={};return(0,v.D)(o).pipe((0,W.zg)(o=>function(e,t,i,n){const o=ni(e,t,n);return Ce(o.resolve?o.resolve(t,i):o(t,i))}(e[o],t,i,n).pipe((0,G.b)(e=>{r[o]=e}))),(0,O.h)(1),(0,W.zg)(()=>Object.keys(r).length===o.length?(0,w.of)(r):y.E))}(e._resolve,e,t,n).pipe((0,$.U)(t=>(e._resolvedData=t,e.data=Object.assign(Object.assign({},e.data),st(e,i).resolve),null)))}(i.route,n,e,t)),(0,G.b)(()=>r++),(0,O.h)(1),(0,W.zg)(e=>r===o.length?(0,w.of)(i):y.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,G.b)({next:()=>t=!0,complete:()=>{t||(this.restoreHistory(e),this.cancelNavigationTransition(e,"At least one route resolver didn't emit any value."))}}))}),(0,G.b)(e=>{const t=new se(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}))}),fi(e=>{const{targetSnapshot:t,id:i,extractedUrl:n,rawUrl:o,extras:{skipLocationChange:r,replaceUrl:s}}=e;return this.hooks.afterPreactivation(t,{navigationId:i,appliedUrlTree:n,rawUrlTree:o,skipLocationChange:!!r,replaceUrl:!!s})}),(0,$.U)(e=>{const t=function(e,t,i){const n=pt(e,t._root,i?i._root:void 0);return new nt(n,t)}(this.routeReuseStrategy,e.targetSnapshot,e.currentRouterState);return Object.assign(Object.assign({},e),{targetRouterState:t})}),(0,G.b)(e=>{this.currentUrlTree=e.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(e.urlAfterRedirects,e.rawUrl),this.routerState=e.targetRouterState,"deferred"===this.urlUpdateStrategy&&(e.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,e),this.browserUrlTree=e.urlAfterRedirects)}),((e,t,i)=>(0,$.U)(n=>(new kt(t,n.targetRouterState,n.currentRouterState,i).activate(e),n)))(this.rootContexts,this.routeReuseStrategy,e=>this.triggerEvent(e)),(0,G.b)({next(){i=!0},complete(){i=!0}}),function(e){return t=>t.lift(new F(e))}(()=>{var t;if(!i&&!n){const t=`Navigation ID ${e.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(e),this.cancelNavigationTransition(e,t)):this.cancelNavigationTransition(e,t)}(null===(t=this.currentNavigation)||void 0===t?void 0:t.id)===e.id&&(this.currentNavigation=null)}),k(i=>{if(n=!0,function(e){return e&&e[_e]}(i)){const n=Ot(i.url);n||(this.navigated=!0,this.restoreHistory(e,!0));const o=new ee(e.id,this.serializeUrl(e.extractedUrl),i.message);t.next(o),n?setTimeout(()=>{const t=this.urlHandlingStrategy.merge(i.url,this.rawUrlTree),n={skipLocationChange:e.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Si(e.source)};this.scheduleNavigation(t,"imperative",null,n,{resolve:e.resolve,reject:e.reject,promise:e.promise})},0):e.resolve(!1)}else{this.restoreHistory(e,!0);const n=new te(e.id,this.serializeUrl(e.extractedUrl),i);t.next(n);try{e.resolve(this.errorHandler(i))}catch(o){e.reject(o)}}return y.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}getTransition(){const e=this.transitions.value;return e.urlAfterRedirects=this.browserUrlTree,e}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const t=this.extractLocationChangeInfoFromEvent(e);this.shouldScheduleNavigation(this.lastLocationChangeInfo,t)&&setTimeout(()=>{const{source:e,state:i,urlTree:n}=t,o={replaceUrl:!0};if(i){const e=Object.assign({},i);delete e.navigationId,delete e.\u0275routerPageId,0!==Object.keys(e).length&&(o.state=e)}this.scheduleNavigation(n,e,i,o)},0),this.lastLocationChangeInfo=t}))}extractLocationChangeInfoFromEvent(e){var t;return{source:"popstate"===e.type?"popstate":"hashchange",urlTree:this.parseUrl(e.url),state:(null===(t=e.state)||void 0===t?void 0:t.navigationId)?e.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(e,t){if(!e)return!0;const i=t.urlTree.toString()===e.urlTree.toString();return t.transitionId!==e.transitionId||!i||!("hashchange"===t.source&&"popstate"===e.source||"popstate"===t.source&&"hashchange"===e.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){qt(e),this.config=e.map(Bt),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,t={}){const{relativeTo:i,queryParams:n,fragment:o,queryParamsHandling:r,preserveFragment:s}=t,a=i||this.routerState.root,l=s?this.currentUrlTree.fragment:o;let c=null;switch(r){case"merge":c=Object.assign(Object.assign({},this.currentUrlTree.queryParams),n);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=n||null}return null!==c&&(c=this.removeEmptyProps(c)),function(e,t,i,n,o){if(0===i.length)return _t(t.root,t.root,t,n,o);const r=function(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new yt(!0,0,e);let t=0,i=!1;const n=e.reduce((e,n,o)=>{if("object"==typeof n&&null!=n){if(n.outlets){const t={};return Te(n.outlets,(e,i)=>{t[i]="string"==typeof e?e.split("/"):e}),[...e,{outlets:t}]}if(n.segmentPath)return[...e,n.segmentPath]}return"string"!=typeof n?[...e,n]:0===o?(n.split("/").forEach((n,o)=>{0==o&&"."===n||(0==o&&""===n?i=!0:".."===n?t++:""!=n&&e.push(n))}),e):[...e,n]},[]);return new yt(i,t,n)}(i);if(r.toRoot())return _t(t.root,new Pe([],{}),t,n,o);const s=function(e,t,i){if(e.isAbsolute)return new bt(t.root,!0,0);if(-1===i.snapshot._lastPathIndex){const e=i.snapshot._urlSegment;return new bt(e,e===t.root,0)}const n=ft(e.commands[0])?0:1;return function(e,t,i){let n=e,o=t,r=i;for(;r>o;){if(r-=o,n=n.parent,!n)throw new Error("Invalid number of '../'");o=n.segments.length}return new bt(n,!1,o-r)}(i.snapshot._urlSegment,i.snapshot._lastPathIndex+n,e.numberOfDoubleDots)}(r,t,e),a=s.processChildren?At(s.segmentGroup,s.index,r.commands):wt(s.segmentGroup,s.index,r.commands);return _t(s.segmentGroup,a,t,n,o)}(a,this.currentUrlTree,e,c,null!=l?l:null)}navigateByUrl(e,t={skipLocationChange:!1}){const i=Ot(e)?e:this.parseUrl(e),n=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(n,"imperative",null,t)}navigate(e,t={skipLocationChange:!1}){return function(e){for(let t=0;t<e.length;t++){const i=e[t];if(null==i)throw new Error(`The requested path contains ${i} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,t),t)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let t;try{t=this.urlSerializer.parse(e)}catch(i){t=this.malformedUriErrorHandler(i,this.urlSerializer,e)}return t}isActive(e,t){let i;if(i=!0===t?Object.assign({},Ci):!1===t?Object.assign({},Zi):t,Ot(e))return Se(this.currentUrlTree,e,i);const n=this.parseUrl(e);return Se(this.currentUrlTree,n,i)}removeEmptyProps(e){return Object.keys(e).reduce((t,i)=>{const n=e[i];return null!=n&&(t[i]=n),t},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new Q(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,t,i,n,o){var r,s;if(this.disposed)return Promise.resolve(!1);const a=this.getTransition(),l=Si(t)&&a&&!Si(a.source),c=(this.lastSuccessfulId===a.id||this.currentNavigation?a.rawUrl:a.urlAfterRedirects).toString()===e.toString();if(l&&c)return Promise.resolve(!0);let h,u,d;o?(h=o.resolve,u=o.reject,d=o.promise):d=new Promise((e,t)=>{h=e,u=t});const p=++this.navigationId;let g;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),g=i&&i.\u0275routerPageId?i.\u0275routerPageId:n.replaceUrl||n.skipLocationChange?null!==(r=this.browserPageId)&&void 0!==r?r:0:(null!==(s=this.browserPageId)&&void 0!==s?s:0)+1):g=0,this.setTransition({id:p,targetPageId:g,source:t,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:n,resolve:h,reject:u,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(e=>Promise.reject(e))}setBrowserUrl(e,t){const i=this.urlSerializer.serialize(e),n=Object.assign(Object.assign({},t.extras.state),this.generateNgRouterState(t.id,t.targetPageId));this.location.isCurrentPathEqualTo(i)||t.extras.replaceUrl?this.location.replaceState(i,"",n):this.location.go(i,"",n)}restoreHistory(e,t=!1){var i,n;if("computed"===this.canceledNavigationResolution){const t=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(i=this.currentNavigation)||void 0===i?void 0:i.finalUrl)||0===t?this.currentUrlTree===(null===(n=this.currentNavigation)||void 0===n?void 0:n.finalUrl)&&0===t&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(t)}else"replace"===this.canceledNavigationResolution&&(t&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,t){const i=new ee(e.id,this.serializeUrl(e.extractedUrl),t);this.triggerEvent(i),e.resolve(!1)}generateNgRouterState(e,t){return"computed"===this.canceledNavigationResolution?{navigationId:e,"\u0275routerPageId":t}:{navigationId:e}}}return e.\u0275fac=function(t){return new(t||e)(o.LFG(o.DyG),o.LFG(Le),o.LFG(bi),o.LFG(n.Ye),o.LFG(o.zs3),o.LFG(o.v3s),o.LFG(o.Sil),o.LFG(void 0))},e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac}),e})();function Si(e){return"imperative"!==e}let Ei=(()=>{class e{constructor(e,t,i,n,r){this.parentContexts=e,this.location=t,this.resolver=i,this.changeDetector=r,this.activated=null,this._activatedRoute=null,this.activateEvents=new o.vpe,this.deactivateEvents=new o.vpe,this.name=n||ge,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,e}attach(e,t){this.activated=e,this._activatedRoute=t,this.location.insert(e.hostView)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,t){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const i=(t=t||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),n=this.parentContexts.getOrCreateContext(this.name).children,o=new Mi(e,n,this.location.injector);this.activated=this.location.createComponent(i,this.location.length,o),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return e.\u0275fac=function(t){return new(t||e)(o.Y36(bi),o.Y36(o.s_b),o.Y36(o._Vd),o.$8M("name"),o.Y36(o.sBO))},e.\u0275dir=o.lG2({type:e,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),e})();class Mi{constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===rt?this.route:e===bi?this.childContexts:this.parent.get(e,t)}}class Oi{}class Ii{preload(e,t){return(0,w.of)(null)}}let Pi=(()=>{class e{constructor(e,t,i,n,o){this.router=e,this.injector=n,this.preloadingStrategy=o,this.loader=new vi(t,i,t=>e.triggerEvent(new ae(t)),t=>e.triggerEvent(new le(t)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,M.h)(e=>e instanceof Q),(0,K.b)(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(o.h0i);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,t){const i=[];for(const n of t)if(n.loadChildren&&!n.canLoad&&n._loadedConfig){const e=n._loadedConfig;i.push(this.processRoutes(e.module,e.routes))}else n.loadChildren&&!n.canLoad?i.push(this.preloadConfig(e,n)):n.children&&i.push(this.processRoutes(e,n.children));return(0,v.D)(i).pipe((0,j.J)(),(0,$.U)(e=>{}))}preloadConfig(e,t){return this.preloadingStrategy.preload(t,()=>(t._loadedConfig?(0,w.of)(t._loadedConfig):this.loader.load(e.injector,t)).pipe((0,W.zg)(e=>(t._loadedConfig=e,this.processRoutes(e.module,e.routes)))))}}return e.\u0275fac=function(t){return new(t||e)(o.LFG(ki),o.LFG(o.v3s),o.LFG(o.Sil),o.LFG(o.zs3),o.LFG(Oi))},e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac}),e})(),Ri=(()=>{class e{constructor(e,t,i={}){this.router=e,this.viewportScroller=t,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof J?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Q&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof pe&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,t){this.router.triggerEvent(new pe(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,t))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(o.LFG(ki),o.LFG(n.EM),o.LFG(void 0))},e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac}),e})();const qi=new o.OlP("ROUTER_CONFIGURATION"),Li=new o.OlP("ROUTER_FORROOT_GUARD"),Ui=[n.Ye,{provide:Le,useClass:Ue},{provide:ki,useFactory:function(e,t,i,n,o,r,s,a={},l,c){const h=new ki(null,e,t,i,n,o,r,Ae(s));return l&&(h.urlHandlingStrategy=l),c&&(h.routeReuseStrategy=c),function(e,t){e.errorHandler&&(t.errorHandler=e.errorHandler),e.malformedUriErrorHandler&&(t.malformedUriErrorHandler=e.malformedUriErrorHandler),e.onSameUrlNavigation&&(t.onSameUrlNavigation=e.onSameUrlNavigation),e.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=e.paramsInheritanceStrategy),e.relativeLinkResolution&&(t.relativeLinkResolution=e.relativeLinkResolution),e.urlUpdateStrategy&&(t.urlUpdateStrategy=e.urlUpdateStrategy)}(a,h),a.enableTracing&&h.events.subscribe(e=>{var t,i;null===(t=console.group)||void 0===t||t.call(console,`Router Event: ${e.constructor.name}`),console.log(e.toString()),console.log(e),null===(i=console.groupEnd)||void 0===i||i.call(console)}),h},deps:[Le,bi,n.Ye,o.zs3,o.v3s,o.Sil,_i,qi,[class{},new o.FiY],[class{},new o.FiY]]},bi,{provide:rt,useFactory:function(e){return e.routerState.root},deps:[ki]},{provide:o.v3s,useClass:o.EAV},Pi,Ii,class{preload(e,t){return t().pipe(k(()=>(0,w.of)(null)))}},{provide:qi,useValue:{enableTracing:!1}}];function Bi(){return new o.PXZ("Router",ki)}let Di=(()=>{class e{constructor(e,t){}static forRoot(t,i){return{ngModule:e,providers:[Ui,$i(t),{provide:Li,useFactory:Hi,deps:[[ki,new o.FiY,new o.tp0]]},{provide:qi,useValue:i||{}},{provide:n.S$,useFactory:Fi,deps:[n.lw,[new o.tBr(n.mr),new o.FiY],qi]},{provide:Ri,useFactory:Ni,deps:[ki,n.EM,qi]},{provide:Oi,useExisting:i&&i.preloadingStrategy?i.preloadingStrategy:Ii},{provide:o.PXZ,multi:!0,useFactory:Bi},[zi,{provide:o.ip1,multi:!0,useFactory:Vi,deps:[zi]},{provide:Wi,useFactory:Ki,deps:[zi]},{provide:o.tb,multi:!0,useExisting:Wi}]]}}static forChild(t){return{ngModule:e,providers:[$i(t)]}}}return e.\u0275fac=function(t){return new(t||e)(o.LFG(Li,8),o.LFG(ki,8))},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({}),e})();function Ni(e,t,i){return i.scrollOffset&&t.setOffset(i.scrollOffset),new Ri(e,t,i)}function Fi(e,t,i={}){return i.useHash?new n.Do(e,t):new n.b0(e,t)}function Hi(e){return"guarded"}function $i(e){return[{provide:o.deG,multi:!0,useValue:e},{provide:_i,multi:!0,useValue:e}]}let zi=(()=>{class e{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new C.xQ}appInitializer(){return this.injector.get(n.V_,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let e=null;const t=new Promise(t=>e=t),i=this.injector.get(ki),n=this.injector.get(qi);return"disabled"===n.initialNavigation?(i.setUpLocationChangeListener(),e(!0)):"enabled"===n.initialNavigation||"enabledBlocking"===n.initialNavigation?(i.hooks.afterPreactivation=()=>this.initNavigation?(0,w.of)(null):(this.initNavigation=!0,e(!0),this.resultOfPreactivationDone),i.initialNavigation()):e(!0),t})}bootstrapListener(e){const t=this.injector.get(qi),i=this.injector.get(Pi),n=this.injector.get(Ri),r=this.injector.get(ki),s=this.injector.get(o.z2F);e===s.components[0]&&(("enabledNonBlocking"===t.initialNavigation||void 0===t.initialNavigation)&&r.initialNavigation(),i.setUpPreloading(),n.init(),r.resetRootComponentType(s.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return e.\u0275fac=function(t){return new(t||e)(o.LFG(o.zs3))},e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac}),e})();function Vi(e){return e.appInitializer.bind(e)}function Ki(e){return e.bootstrapListener.bind(e)}const Wi=new o.OlP("Router Initializer")},81780:function(e,t,i){"use strict";i.d(t,{Zw:function(){return _},aw:function(){return R},X$:function(){return P},sK:function(){return I}});var n=i(37716),o=i(25917),r=i(66682),s=i(18891),a=i(58071),l=i(42145),c=i(548),h=i(95242),u=i(34022);function d(e,t,i){return 0===i?[t]:(e.push(t),e)}var p=i(15257),g=i(78345),f=i(88002),m=i(43190);class _{}let v=(()=>{class e extends _{getTranslation(e){return(0,o.of)({})}}return e.\u0275fac=function(){let t;return function(i){return(t||(t=n.n5z(e)))(i||e)}}(),e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})();class y{}let b=(()=>{class e{handle(e){return e.key}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})();class w{}let A=(()=>{class e extends w{compile(e,t){return e}compileTranslations(e,t){return e}}return e.\u0275fac=function(){let t;return function(i){return(t||(t=n.n5z(e)))(i||e)}}(),e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})();function x(e,t){if(e===t)return!0;if(null===e||null===t)return!1;if(e!=e&&t!=t)return!0;let i,n,o,r=typeof e;if(r==typeof t&&"object"==r){if(!Array.isArray(e)){if(Array.isArray(t))return!1;for(n in o=Object.create(null),e){if(!x(e[n],t[n]))return!1;o[n]=!0}for(n in t)if(!(n in o)&&void 0!==t[n])return!1;return!0}if(!Array.isArray(t))return!1;if((i=e.length)==t.length){for(n=0;n<i;n++)if(!x(e[n],t[n]))return!1;return!0}}return!1}function T(e){return null!=e}function C(e){return e&&"object"==typeof e&&!Array.isArray(e)}function Z(e,t){let i=Object.assign({},e);return C(e)&&C(t)&&Object.keys(t).forEach(n=>{C(t[n])?n in e?i[n]=Z(e[n],t[n]):Object.assign(i,{[n]:t[n]}):Object.assign(i,{[n]:t[n]})}),i}class k{}let S=(()=>{class e extends k{constructor(){super(...arguments),this.templateMatcher=/{{\s?([^{}\s]*)\s?}}/g}interpolate(e,t){let i;return i="string"==typeof e?this.interpolateString(e,t):"function"==typeof e?this.interpolateFunction(e,t):e,i}getValue(e,t){let i=t.split(".");t="";do{t+=i.shift(),!T(e)||!T(e[t])||"object"!=typeof e[t]&&i.length?i.length?t+=".":e=void 0:(e=e[t],t="")}while(i.length);return e}interpolateFunction(e,t){return e(t)}interpolateString(e,t){return t?e.replace(this.templateMatcher,(e,i)=>{let n=this.getValue(t,i);return T(n)?n:e}):e}}return e.\u0275fac=function(){let t;return function(i){return(t||(t=n.n5z(e)))(i||e)}}(),e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})();class E{constructor(){this.currentLang=this.defaultLang,this.translations={},this.langs=[],this.onTranslationChange=new n.vpe,this.onLangChange=new n.vpe,this.onDefaultLangChange=new n.vpe}}const M=new n.OlP("USE_STORE"),O=new n.OlP("USE_DEFAULT_LANG");let I=(()=>{class e{constructor(e,t,i,o,r,s=!0,a=!1){this.store=e,this.currentLoader=t,this.compiler=i,this.parser=o,this.missingTranslationHandler=r,this.useDefaultLang=s,this.isolate=a,this.pending=!1,this._onTranslationChange=new n.vpe,this._onLangChange=new n.vpe,this._onDefaultLangChange=new n.vpe,this._langs=[],this._translations={},this._translationRequests={}}get onTranslationChange(){return this.isolate?this._onTranslationChange:this.store.onTranslationChange}get onLangChange(){return this.isolate?this._onLangChange:this.store.onLangChange}get onDefaultLangChange(){return this.isolate?this._onDefaultLangChange:this.store.onDefaultLangChange}get defaultLang(){return this.isolate?this._defaultLang:this.store.defaultLang}set defaultLang(e){this.isolate?this._defaultLang=e:this.store.defaultLang=e}get currentLang(){return this.isolate?this._currentLang:this.store.currentLang}set currentLang(e){this.isolate?this._currentLang=e:this.store.currentLang=e}get langs(){return this.isolate?this._langs:this.store.langs}set langs(e){this.isolate?this._langs=e:this.store.langs=e}get translations(){return this.isolate?this._translations:this.store.translations}set translations(e){this.isolate?this._translations=e:this.store.translations=e}setDefaultLang(e){if(e===this.defaultLang)return;let t=this.retrieveTranslations(e);void 0!==t?(this.defaultLang||(this.defaultLang=e),t.pipe((0,p.q)(1)).subscribe(t=>{this.changeDefaultLang(e)})):this.changeDefaultLang(e)}getDefaultLang(){return this.defaultLang}use(e){if(e===this.currentLang)return(0,o.of)(this.translations[e]);let t=this.retrieveTranslations(e);return void 0!==t?(this.currentLang||(this.currentLang=e),t.pipe((0,p.q)(1)).subscribe(t=>{this.changeLang(e)}),t):(this.changeLang(e),(0,o.of)(this.translations[e]))}retrieveTranslations(e){let t;return void 0===this.translations[e]&&(this._translationRequests[e]=this._translationRequests[e]||this.getTranslation(e),t=this._translationRequests[e]),t}getTranslation(e){return this.pending=!0,this.loadingTranslations=this.currentLoader.getTranslation(e).pipe((0,g.B)()),this.loadingTranslations.pipe((0,p.q)(1)).subscribe(t=>{this.translations[e]=this.compiler.compileTranslations(t,e),this.updateLangs(),this.pending=!1},e=>{this.pending=!1}),this.loadingTranslations}setTranslation(e,t,i=!1){t=this.compiler.compileTranslations(t,e),this.translations[e]=i&&this.translations[e]?Z(this.translations[e],t):t,this.updateLangs(),this.onTranslationChange.emit({lang:e,translations:this.translations[e]})}getLangs(){return this.langs}addLangs(e){e.forEach(e=>{-1===this.langs.indexOf(e)&&this.langs.push(e)})}updateLangs(){this.addLangs(Object.keys(this.translations))}getParsedResult(e,t,i){let n;if(t instanceof Array){let n={},s=!1;for(let o of t)n[o]=this.getParsedResult(e,o,i),"function"==typeof n[o].subscribe&&(s=!0);if(s){let e;for(let i of t){let t="function"==typeof n[i].subscribe?n[i]:(0,o.of)(n[i]);e=void 0===e?t:(0,r.T)(e,t)}return e.pipe(function(e,t){return arguments.length>=2?function(i){return(0,u.z)((0,l.R)(e,t),(0,c.h)(1),(0,h.d)(t))(i)}:function(t){return(0,u.z)((0,l.R)((t,i,n)=>e(t,i,n+1)),(0,c.h)(1))(t)}}(d,[]),(0,f.U)(e=>{let i={};return e.forEach((e,n)=>{i[t[n]]=e}),i}))}return n}if(e&&(n=this.parser.interpolate(this.parser.getValue(e,t),i)),void 0===n&&this.defaultLang&&this.defaultLang!==this.currentLang&&this.useDefaultLang&&(n=this.parser.interpolate(this.parser.getValue(this.translations[this.defaultLang],t),i)),void 0===n){let e={key:t,translateService:this};void 0!==i&&(e.interpolateParams=i),n=this.missingTranslationHandler.handle(e)}return void 0!==n?n:t}get(e,t){if(!T(e)||!e.length)throw new Error('Parameter "key" required');if(this.pending)return s.y.create(i=>{let n=e=>{i.next(e),i.complete()},o=e=>{i.error(e)};this.loadingTranslations.subscribe(i=>{"function"==typeof(i=this.getParsedResult(this.compiler.compileTranslations(i,this.currentLang),e,t)).subscribe?i.subscribe(n,o):n(i)},o)});{let i=this.getParsedResult(this.translations[this.currentLang],e,t);return"function"==typeof i.subscribe?i:(0,o.of)(i)}}stream(e,t){if(!T(e)||!e.length)throw new Error('Parameter "key" required');return(0,a.z)(this.get(e,t),this.onLangChange.pipe((0,m.w)(i=>{const n=this.getParsedResult(i.translations,e,t);return"function"==typeof n.subscribe?n:(0,o.of)(n)})))}instant(e,t){if(!T(e)||!e.length)throw new Error('Parameter "key" required');let i=this.getParsedResult(this.translations[this.currentLang],e,t);if(void 0!==i.subscribe){if(e instanceof Array){let t={};return e.forEach((i,n)=>{t[e[n]]=e[n]}),t}return e}return i}set(e,t,i=this.currentLang){this.translations[i][e]=this.compiler.compile(t,i),this.updateLangs(),this.onTranslationChange.emit({lang:i,translations:this.translations[i]})}changeLang(e){this.currentLang=e,this.onLangChange.emit({lang:e,translations:this.translations[e]}),this.defaultLang||this.changeDefaultLang(e)}changeDefaultLang(e){this.defaultLang=e,this.onDefaultLangChange.emit({lang:e,translations:this.translations[e]})}reloadLang(e){return this.resetLang(e),this.getTranslation(e)}resetLang(e){this._translationRequests[e]=void 0,this.translations[e]=void 0}getBrowserLang(){if("undefined"==typeof window||void 0===window.navigator)return;let e=window.navigator.languages?window.navigator.languages[0]:null;return e=e||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,-1!==e.indexOf("-")&&(e=e.split("-")[0]),-1!==e.indexOf("_")&&(e=e.split("_")[0]),e}getBrowserCultureLang(){if("undefined"==typeof window||void 0===window.navigator)return;let e=window.navigator.languages?window.navigator.languages[0]:null;return e=e||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,e}}return e.\u0275fac=function(t){return new(t||e)(n.LFG(E),n.LFG(_),n.LFG(w),n.LFG(k),n.LFG(y),n.LFG(O),n.LFG(M))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})(),P=(()=>{class e{constructor(e,t){this.translate=e,this._ref=t,this.value=""}updateValue(e,t,i){let n=t=>{this.value=void 0!==t?t:e,this.lastKey=e,this._ref.markForCheck()};if(i){let o=this.translate.getParsedResult(i,e,t);"function"==typeof o.subscribe?o.subscribe(n):n(o)}this.translate.get(e,t).subscribe(n)}transform(e,...t){if(!e||0===e.length)return e;if(x(e,this.lastKey)&&x(t,this.lastParams))return this.value;let i;if(T(t[0])&&t.length)if("string"==typeof t[0]&&t[0].length){let e=t[0].replace(/(\')?([a-zA-Z0-9_]+)(\')?(\s)?:/g,'"$2":').replace(/:(\s)?(\')(.*?)(\')/g,':"$3"');try{i=JSON.parse(e)}catch(n){throw new SyntaxError(`Wrong parameter in TranslatePipe. Expected a valid Object, received: ${t[0]}`)}}else"object"==typeof t[0]&&!Array.isArray(t[0])&&(i=t[0]);return this.lastKey=e,this.lastParams=t,this.updateValue(e,i),this._dispose(),this.onTranslationChange||(this.onTranslationChange=this.translate.onTranslationChange.subscribe(t=>{this.lastKey&&t.lang===this.translate.currentLang&&(this.lastKey=null,this.updateValue(e,i,t.translations))})),this.onLangChange||(this.onLangChange=this.translate.onLangChange.subscribe(t=>{this.lastKey&&(this.lastKey=null,this.updateValue(e,i,t.translations))})),this.onDefaultLangChange||(this.onDefaultLangChange=this.translate.onDefaultLangChange.subscribe(()=>{this.lastKey&&(this.lastKey=null,this.updateValue(e,i))})),this.value}_dispose(){void 0!==this.onTranslationChange&&(this.onTranslationChange.unsubscribe(),this.onTranslationChange=void 0),void 0!==this.onLangChange&&(this.onLangChange.unsubscribe(),this.onLangChange=void 0),void 0!==this.onDefaultLangChange&&(this.onDefaultLangChange.unsubscribe(),this.onDefaultLangChange=void 0)}ngOnDestroy(){this._dispose()}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(I,16),n.Y36(n.sBO,16))},e.\u0275pipe=n.Yjl({name:"translate",type:e,pure:!1}),e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})(),R=(()=>{class e{static forRoot(t={}){return{ngModule:e,providers:[t.loader||{provide:_,useClass:v},t.compiler||{provide:w,useClass:A},t.parser||{provide:k,useClass:S},t.missingTranslationHandler||{provide:y,useClass:b},E,{provide:M,useValue:t.isolate},{provide:O,useValue:t.useDefaultLang},I]}}static forChild(t={}){return{ngModule:e,providers:[t.loader||{provide:_,useClass:v},t.compiler||{provide:w,useClass:A},t.parser||{provide:k,useClass:S},t.missingTranslationHandler||{provide:y,useClass:b},{provide:M,useValue:t.isolate},{provide:O,useValue:t.useDefaultLang},I]}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({}),e})()},52644:function(e,t,i){e=i.nmd(e),function(){var e=function(){return this}();!e&&"undefined"!=typeof window&&(e=window);var t=function(e,i,n){"string"==typeof e?(2==arguments.length&&(n=i),t.modules[e]||(t.payloads[e]=n,t.modules[e]=null)):t.original?t.original.apply(this,arguments):(console.error("dropping module because define wasn't a string."),console.trace())};t.modules={},t.payloads={};var i,n,o=function(e,t,i){if("string"==typeof t){var n=a(e,t);if(null!=n)return i&&i(),n}else if("[object Array]"===Object.prototype.toString.call(t)){for(var o=[],s=0,l=t.length;s<l;++s){var c=a(e,t[s]);if(null==c&&r.original)return;o.push(c)}return i&&i.apply(null,o)||!0}},r=function(e,t){var i=o("",e,t);return null==i&&r.original?r.original.apply(this,arguments):i},s=function(e,t){if(-1!==t.indexOf("!")){var i=t.split("!");return s(e,i[0])+"!"+s(e,i[1])}if("."==t.charAt(0))for(t=e.split("/").slice(0,-1).join("/")+"/"+t;-1!==t.indexOf(".")&&n!=t;){var n=t;t=t.replace(/\/\.\//,"/").replace(/[^\/]+\/\.\.\//,"")}return t},a=function(e,i){i=s(e,i);var n=t.modules[i];if(!n){if("function"==typeof(n=t.payloads[i])){var r={},a={id:i,uri:"",exports:r,packaged:!0},l=n(function(e,t){return o(i,e,t)},r,a);t.modules[i]=r=l||a.exports,delete t.payloads[i]}n=t.modules[i]=r||n}return n};n=e,(i="ace")&&(e[i]||(e[i]={}),n=e[i]),(!n.define||!n.define.packaged)&&(t.original=n.define,n.define=t,n.define.packaged=!0),(!n.require||!n.require.packaged)&&(r.original=n.require,n.require=r,n.require.packaged=!0)}(),ace.define("ace/lib/fixoldbrowsers",["require","exports","module"],function(e,t,i){"use strict";"undefined"!=typeof Element&&!Element.prototype.remove&&Object.defineProperty(Element.prototype,"remove",{enumerable:!1,writable:!0,configurable:!0,value:function(){this.parentNode&&this.parentNode.removeChild(this)}})}),ace.define("ace/lib/useragent",["require","exports","module"],function(e,t,i){"use strict";t.OS={LINUX:"LINUX",MAC:"MAC",WINDOWS:"WINDOWS"},t.getOS=function(){return t.isMac?t.OS.MAC:t.isLinux?t.OS.LINUX:t.OS.WINDOWS};var n="object"==typeof navigator?navigator:{},o=(/mac|win|linux/i.exec(n.platform)||["other"])[0].toLowerCase(),r=n.userAgent||"",s=n.appName||"";t.isWin="win"==o,t.isMac="mac"==o,t.isLinux="linux"==o,t.isIE="Microsoft Internet Explorer"==s||s.indexOf("MSAppHost")>=0?parseFloat((r.match(/(?:MSIE |Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]):parseFloat((r.match(/(?:Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]),t.isOldIE=t.isIE&&t.isIE<9,t.isGecko=t.isMozilla=r.match(/ Gecko\/\d+/),t.isOpera="object"==typeof opera&&"[object Opera]"==Object.prototype.toString.call(window.opera),t.isWebKit=parseFloat(r.split("WebKit/")[1])||void 0,t.isChrome=parseFloat(r.split(" Chrome/")[1])||void 0,t.isEdge=parseFloat(r.split(" Edge/")[1])||void 0,t.isAIR=r.indexOf("AdobeAIR")>=0,t.isAndroid=r.indexOf("Android")>=0,t.isChromeOS=r.indexOf(" CrOS ")>=0,t.isIOS=/iPad|iPhone|iPod/.test(r)&&!window.MSStream,t.isIOS&&(t.isMac=!0),t.isMobile=t.isIOS||t.isAndroid}),ace.define("ace/lib/dom",["require","exports","module","ace/lib/useragent"],function(e,t,i){"use strict";var n=e("./useragent");t.buildDom=function e(t,i,n){if("string"==typeof t&&t){var o=document.createTextNode(t);return i&&i.appendChild(o),o}if(!Array.isArray(t))return t&&t.appendChild&&i&&i.appendChild(t),t;if("string"!=typeof t[0]||!t[0]){for(var r=[],s=0;s<t.length;s++){var a=e(t[s],i,n);a&&r.push(a)}return r}var l=document.createElement(t[0]),c=t[1],h=1;for(c&&"object"==typeof c&&!Array.isArray(c)&&(h=2),s=h;s<t.length;s++)e(t[s],l,n);return 2==h&&Object.keys(c).forEach(function(e){var t=c[e];"class"===e?l.className=Array.isArray(t)?t.join(" "):t:"function"==typeof t||"value"==e||"$"==e[0]?l[e]=t:"ref"===e?n&&(n[t]=l):"style"===e?"string"==typeof t&&(l.style.cssText=t):null!=t&&l.setAttribute(e,t)}),i&&i.appendChild(l),l},t.getDocumentHead=function(e){return e||(e=document),e.head||e.getElementsByTagName("head")[0]||e.documentElement},t.createElement=function(e,t){return document.createElementNS?document.createElementNS(t||"http://www.w3.org/1999/xhtml",e):document.createElement(e)},t.removeChildren=function(e){e.innerHTML=""},t.createTextNode=function(e,t){return(t?t.ownerDocument:document).createTextNode(e)},t.createFragment=function(e){return(e?e.ownerDocument:document).createDocumentFragment()},t.hasCssClass=function(e,t){return-1!==(e.className+"").split(/\s+/g).indexOf(t)},t.addCssClass=function(e,i){t.hasCssClass(e,i)||(e.className+=" "+i)},t.removeCssClass=function(e,t){for(var i=e.className.split(/\s+/g);;){var n=i.indexOf(t);if(-1==n)break;i.splice(n,1)}e.className=i.join(" ")},t.toggleCssClass=function(e,t){for(var i=e.className.split(/\s+/g),n=!0;;){var o=i.indexOf(t);if(-1==o)break;n=!1,i.splice(o,1)}return n&&i.push(t),e.className=i.join(" "),n},t.setCssClass=function(e,i,n){n?t.addCssClass(e,i):t.removeCssClass(e,i)},t.hasCssString=function(e,t){var i,n=0;if(i=(t=t||document).querySelectorAll("style"))for(;n<i.length;)if(i[n++].id===e)return!0};var o,r=[];function s(){var e=r;r=null,e&&e.forEach(function(e){a(e[0],e[1])})}function a(e,i,n){if("undefined"!=typeof document){if(r)if(n)s();else if(!1===n)return r.push([e,i]);if(!o){var a=n;n&&n.getRootNode?(!(a=n.getRootNode())||a==n)&&(a=document):a=document;var l=a.ownerDocument||a;if(i&&t.hasCssString(i,a))return null;i&&(e+="\n/*# sourceURL=ace/css/"+i+" */");var c=t.createElement("style");c.appendChild(l.createTextNode(e)),i&&(c.id=i),a==l&&(a=t.getDocumentHead(l)),a.insertBefore(c,a.firstChild)}}}if(t.useStrictCSP=function(e){o=e,0==e?s():r||(r=[])},t.importCssString=a,t.importCssStylsheet=function(e,i){t.buildDom(["link",{rel:"stylesheet",href:e}],t.getDocumentHead(i))},t.scrollbarWidth=function(e){var i=t.createElement("ace_inner");i.style.width="100%",i.style.minWidth="0px",i.style.height="200px",i.style.display="block";var n=t.createElement("ace_outer"),o=n.style;o.position="absolute",o.left="-10000px",o.overflow="hidden",o.width="200px",o.minWidth="0px",o.height="150px",o.display="block",n.appendChild(i);var r=e.documentElement;r.appendChild(n);var s=i.offsetWidth;o.overflow="scroll";var a=i.offsetWidth;return s==a&&(a=n.clientWidth),r.removeChild(n),s-a},t.computedStyle=function(e,t){return window.getComputedStyle(e,"")||{}},t.setStyle=function(e,t,i){e[t]!==i&&(e[t]=i)},t.HAS_CSS_ANIMATION=!1,t.HAS_CSS_TRANSFORMS=!1,t.HI_DPI=!n.isWin||"undefined"!=typeof window&&window.devicePixelRatio>=1.5,n.isChromeOS&&(t.HI_DPI=!1),"undefined"!=typeof document){var l=document.createElement("div");t.HI_DPI&&void 0!==l.style.transform&&(t.HAS_CSS_TRANSFORMS=!0),!n.isEdge&&void 0!==l.style.animationName&&(t.HAS_CSS_ANIMATION=!0),l=null}t.translate=t.HAS_CSS_TRANSFORMS?function(e,t,i){e.style.transform="translate("+Math.round(t)+"px, "+Math.round(i)+"px)"}:function(e,t,i){e.style.top=Math.round(i)+"px",e.style.left=Math.round(t)+"px"}}),ace.define("ace/lib/oop",["require","exports","module"],function(e,t,i){"use strict";t.inherits=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})},t.mixin=function(e,t){for(var i in t)e[i]=t[i];return e},t.implement=function(e,i){t.mixin(e,i)}}),ace.define("ace/lib/keys",["require","exports","module","ace/lib/oop"],function(e,t,i){"use strict";var n=e("./oop"),o=function(){var e,t,i={MODIFIER_KEYS:{16:"Shift",17:"Ctrl",18:"Alt",224:"Meta",91:"MetaLeft",92:"MetaRight",93:"ContextMenu"},KEY_MODS:{ctrl:1,alt:2,option:2,shift:4,super:8,meta:8,command:8,cmd:8,control:1},FUNCTION_KEYS:{8:"Backspace",9:"Tab",13:"Return",19:"Pause",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"Print",45:"Insert",46:"Delete",96:"Numpad0",97:"Numpad1",98:"Numpad2",99:"Numpad3",100:"Numpad4",101:"Numpad5",102:"Numpad6",103:"Numpad7",104:"Numpad8",105:"Numpad9","-13":"NumpadEnter",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"Numlock",145:"Scrolllock"},PRINTABLE_KEYS:{32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",107:"+",109:"-",110:".",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",111:"/",106:"*"}};for(t in i.FUNCTION_KEYS)e=i.FUNCTION_KEYS[t].toLowerCase(),i[e]=parseInt(t,10);for(t in i.PRINTABLE_KEYS)e=i.PRINTABLE_KEYS[t].toLowerCase(),i[e]=parseInt(t,10);return n.mixin(i,i.MODIFIER_KEYS),n.mixin(i,i.PRINTABLE_KEYS),n.mixin(i,i.FUNCTION_KEYS),i.enter=i.return,i.escape=i.esc,i.del=i.delete,i[173]="-",function(){for(var e=["cmd","ctrl","alt","shift"],t=Math.pow(2,e.length);t--;)i.KEY_MODS[t]=e.filter(function(e){return t&i.KEY_MODS[e]}).join("-")+"-"}(),i.KEY_MODS[0]="",i.KEY_MODS[-1]="input-",i}();n.mixin(t,o),t.keyCodeToString=function(e){var t=o[e];return"string"!=typeof t&&(t=String.fromCharCode(e)),t.toLowerCase()}}),ace.define("ace/lib/event",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(e,t,i){"use strict";var n,o=e("./keys"),r=e("./useragent"),s=null,a=0;function l(){return null==n&&function(){n=!1;try{document.createComment("").addEventListener("test",function(){},{get passive(){n={passive:!1}}})}catch(e){}}(),n}function c(e,t,i){this.elem=e,this.type=t,this.callback=i}c.prototype.destroy=function(){u(this.elem,this.type,this.callback),this.elem=this.type=this.callback=void 0};var h=t.addListener=function(e,t,i,n){e.addEventListener(t,i,l()),n&&n.$toDestroy.push(new c(e,t,i))},u=t.removeListener=function(e,t,i){e.removeEventListener(t,i,l())};t.stopEvent=function(e){return t.stopPropagation(e),t.preventDefault(e),!1},t.stopPropagation=function(e){e.stopPropagation&&e.stopPropagation()},t.preventDefault=function(e){e.preventDefault&&e.preventDefault()},t.getButton=function(e){return"dblclick"==e.type?0:"contextmenu"==e.type||r.isMac&&e.ctrlKey&&!e.altKey&&!e.shiftKey?2:e.button},t.capture=function(e,t,i){var n=e&&e.ownerDocument||document;function o(e){t&&t(e),i&&i(e),u(n,"mousemove",t),u(n,"mouseup",o),u(n,"dragstart",o)}return h(n,"mousemove",t),h(n,"mouseup",o),h(n,"dragstart",o),o},t.addMouseWheelListener=function(e,t,i){"onmousewheel"in e?h(e,"mousewheel",function(e){void 0!==e.wheelDeltaX?(e.wheelX=-e.wheelDeltaX/8,e.wheelY=-e.wheelDeltaY/8):(e.wheelX=0,e.wheelY=-e.wheelDelta/8),t(e)},i):"onwheel"in e?h(e,"wheel",function(e){switch(e.deltaMode){case e.DOM_DELTA_PIXEL:e.wheelX=.35*e.deltaX||0,e.wheelY=.35*e.deltaY||0;break;case e.DOM_DELTA_LINE:case e.DOM_DELTA_PAGE:e.wheelX=5*(e.deltaX||0),e.wheelY=5*(e.deltaY||0)}t(e)},i):h(e,"DOMMouseScroll",function(e){e.axis&&e.axis==e.HORIZONTAL_AXIS?(e.wheelX=5*(e.detail||0),e.wheelY=0):(e.wheelX=0,e.wheelY=5*(e.detail||0)),t(e)},i)},t.addMultiMouseDownListener=function(e,i,n,o,s){var a,l,c,u=0,d={2:"dblclick",3:"tripleclick",4:"quadclick"};function p(e){if(0!==t.getButton(e)?u=0:e.detail>1?++u>4&&(u=1):u=1,r.isIE){var s=Math.abs(e.clientX-a)>5||Math.abs(e.clientY-l)>5;(!c||s)&&(u=1),c&&clearTimeout(c),c=setTimeout(function(){c=null},i[u-1]||600),1==u&&(a=e.clientX,l=e.clientY)}if(e._clicks=u,n[o]("mousedown",e),u>4)u=0;else if(u>1)return n[o](d[u],e)}Array.isArray(e)||(e=[e]),e.forEach(function(e){h(e,"mousedown",p,s)})};var d=function(e){return 0|(e.ctrlKey?1:0)|(e.altKey?2:0)|(e.shiftKey?4:0)|(e.metaKey?8:0)};function p(e,t,i){var n=d(t);if(!r.isMac&&s){if(t.getModifierState&&(t.getModifierState("OS")||t.getModifierState("Win"))&&(n|=8),s.altGr){if(3==(3&n))return;s.altGr=0}if(18===i||17===i){var l="location"in t?t.location:t.keyLocation;17===i&&1===l?1==s[i]&&(a=t.timeStamp):18===i&&3===n&&2===l&&t.timeStamp-a<50&&(s.altGr=!0)}}if(i in o.MODIFIER_KEYS&&(i=-1),n||13!==i||3!==(l="location"in t?t.location:t.keyLocation)||(e(t,n,-i),!t.defaultPrevented)){if(r.isChromeOS&&8&n){if(e(t,n,i),t.defaultPrevented)return;n&=-9}return!!(n||i in o.FUNCTION_KEYS||i in o.PRINTABLE_KEYS)&&e(t,n,i)}}function g(){s=Object.create(null)}if(t.getModifierString=function(e){return o.KEY_MODS[d(e)]},t.addCommandKeyListener=function(e,i,n){if(r.isOldGecko||r.isOpera&&!("KeyboardEvent"in window)){var o=null;h(e,"keydown",function(e){o=e.keyCode},n),h(e,"keypress",function(e){return p(i,e,o)},n)}else{var a=null;h(e,"keydown",function(e){s[e.keyCode]=(s[e.keyCode]||0)+1;var t=p(i,e,e.keyCode);return a=e.defaultPrevented,t},n),h(e,"keypress",function(e){a&&(e.ctrlKey||e.altKey||e.shiftKey||e.metaKey)&&(t.stopEvent(e),a=null)},n),h(e,"keyup",function(e){s[e.keyCode]=null},n),s||(g(),h(window,"focus",g))}},"object"==typeof window&&window.postMessage&&!r.isOldIE){var f=1;t.nextTick=function(e,i){i=i||window;var n="zero-timeout-message-"+f++,o=function(r){r.data==n&&(t.stopPropagation(r),u(i,"message",o),e())};h(i,"message",o),i.postMessage(n,"*")}}t.$idleBlocked=!1,t.onIdle=function(e,i){return setTimeout(function i(){t.$idleBlocked?setTimeout(i,100):e()},i)},t.$idleBlockId=null,t.blockIdle=function(e){t.$idleBlockId&&clearTimeout(t.$idleBlockId),t.$idleBlocked=!0,t.$idleBlockId=setTimeout(function(){t.$idleBlocked=!1},e||100)},t.nextFrame="object"==typeof window&&(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame),t.nextFrame=t.nextFrame?t.nextFrame.bind(window):function(e){setTimeout(e,17)}}),ace.define("ace/range",["require","exports","module"],function(e,t,i){"use strict";var n=function(e,t,i,n){this.start={row:e,column:t},this.end={row:i,column:n}};(function(){this.isEqual=function(e){return this.start.row===e.start.row&&this.end.row===e.end.row&&this.start.column===e.start.column&&this.end.column===e.end.column},this.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"},this.contains=function(e,t){return 0==this.compare(e,t)},this.compareRange=function(e){var t,i=e.end,n=e.start;return 1==(t=this.compare(i.row,i.column))?1==(t=this.compare(n.row,n.column))?2:0==t?1:0:-1==t?-2:-1==(t=this.compare(n.row,n.column))?-1:1==t?42:0},this.comparePoint=function(e){return this.compare(e.row,e.column)},this.containsRange=function(e){return 0==this.comparePoint(e.start)&&0==this.comparePoint(e.end)},this.intersects=function(e){var t=this.compareRange(e);return-1==t||0==t||1==t},this.isEnd=function(e,t){return this.end.row==e&&this.end.column==t},this.isStart=function(e,t){return this.start.row==e&&this.start.column==t},this.setStart=function(e,t){"object"==typeof e?(this.start.column=e.column,this.start.row=e.row):(this.start.row=e,this.start.column=t)},this.setEnd=function(e,t){"object"==typeof e?(this.end.column=e.column,this.end.row=e.row):(this.end.row=e,this.end.column=t)},this.inside=function(e,t){return 0==this.compare(e,t)&&!(this.isEnd(e,t)||this.isStart(e,t))},this.insideStart=function(e,t){return 0==this.compare(e,t)&&!this.isEnd(e,t)},this.insideEnd=function(e,t){return 0==this.compare(e,t)&&!this.isStart(e,t)},this.compare=function(e,t){return this.isMultiLine()||e!==this.start.row?e<this.start.row?-1:e>this.end.row?1:this.start.row===e?t>=this.start.column?0:-1:this.end.row===e?t<=this.end.column?0:1:0:t<this.start.column?-1:t>this.end.column?1:0},this.compareStart=function(e,t){return this.start.row==e&&this.start.column==t?-1:this.compare(e,t)},this.compareEnd=function(e,t){return this.end.row==e&&this.end.column==t?1:this.compare(e,t)},this.compareInside=function(e,t){return this.end.row==e&&this.end.column==t?1:this.start.row==e&&this.start.column==t?-1:this.compare(e,t)},this.clipRows=function(e,t){if(this.end.row>t)var i={row:t+1,column:0};else this.end.row<e&&(i={row:e,column:0});if(this.start.row>t)var o={row:t+1,column:0};else this.start.row<e&&(o={row:e,column:0});return n.fromPoints(o||this.start,i||this.end)},this.extend=function(e,t){var i=this.compare(e,t);if(0==i)return this;if(-1==i)var o={row:e,column:t};else var r={row:e,column:t};return n.fromPoints(o||this.start,r||this.end)},this.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},this.isMultiLine=function(){return this.start.row!==this.end.row},this.clone=function(){return n.fromPoints(this.start,this.end)},this.collapseRows=function(){return new n(this.start.row,0,0==this.end.column?Math.max(this.start.row,this.end.row-1):this.end.row,0)},this.toScreenRange=function(e){var t=e.documentToScreenPosition(this.start),i=e.documentToScreenPosition(this.end);return new n(t.row,t.column,i.row,i.column)},this.moveBy=function(e,t){this.start.row+=e,this.start.column+=t,this.end.row+=e,this.end.column+=t}}).call(n.prototype),n.fromPoints=function(e,t){return new n(e.row,e.column,t.row,t.column)},n.comparePoints=function(e,t){return e.row-t.row||e.column-t.column},n.comparePoints=function(e,t){return e.row-t.row||e.column-t.column},t.Range=n}),ace.define("ace/lib/lang",["require","exports","module"],function(e,t,i){"use strict";t.last=function(e){return e[e.length-1]},t.stringReverse=function(e){return e.split("").reverse().join("")},t.stringRepeat=function(e,t){for(var i="";t>0;)1&t&&(i+=e),(t>>=1)&&(e+=e);return i};var n=/^\s\s*/,o=/\s\s*$/;t.stringTrimLeft=function(e){return e.replace(n,"")},t.stringTrimRight=function(e){return e.replace(o,"")},t.copyObject=function(e){var t={};for(var i in e)t[i]=e[i];return t},t.copyArray=function(e){for(var t=[],i=0,n=e.length;i<n;i++)t[i]=e[i]&&"object"==typeof e[i]?this.copyObject(e[i]):e[i];return t},t.deepCopy=function e(t){if("object"!=typeof t||!t)return t;var i;if(Array.isArray(t)){i=[];for(var n=0;n<t.length;n++)i[n]=e(t[n]);return i}if("[object Object]"!==Object.prototype.toString.call(t))return t;for(var n in i={},t)i[n]=e(t[n]);return i},t.arrayToMap=function(e){for(var t={},i=0;i<e.length;i++)t[e[i]]=1;return t},t.createMap=function(e){var t=Object.create(null);for(var i in e)t[i]=e[i];return t},t.arrayRemove=function(e,t){for(var i=0;i<=e.length;i++)t===e[i]&&e.splice(i,1)},t.escapeRegExp=function(e){return e.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1")},t.escapeHTML=function(e){return(""+e).replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/'/g,"&#39;").replace(/</g,"&#60;")},t.getMatchOffsets=function(e,t){var i=[];return e.replace(t,function(e){i.push({offset:arguments[arguments.length-2],length:e.length})}),i},t.deferredCall=function(e){var t=null,i=function(){t=null,e()},n=function(e){return n.cancel(),t=setTimeout(i,e||0),n};return n.schedule=n,n.call=function(){return this.cancel(),e(),n},n.cancel=function(){return clearTimeout(t),t=null,n},n.isPending=function(){return t},n},t.delayedCall=function(e,t){var i=null,n=function(){i=null,e()},o=function(e){null==i&&(i=setTimeout(n,e||t))};return o.delay=function(e){i&&clearTimeout(i),i=setTimeout(n,e||t)},o.schedule=o,o.call=function(){this.cancel(),e()},o.cancel=function(){i&&clearTimeout(i),i=null},o.isPending=function(){return i},o}}),ace.define("ace/clipboard",["require","exports","module"],function(e,t,i){"use strict";var n;i.exports={lineMode:!1,pasteCancelled:function(){return!!(n&&n>Date.now()-50)||(n=!1)},cancel:function(){n=Date.now()}}}),ace.define("ace/keyboard/textinput",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/lib/dom","ace/lib/lang","ace/clipboard","ace/lib/keys"],function(e,t,i){"use strict";var n=e("../lib/event"),o=e("../lib/useragent"),r=e("../lib/dom"),s=e("../lib/lang"),a=e("../clipboard"),l=o.isChrome<18,c=o.isIE,h=o.isChrome>63,u=400,d=e("../lib/keys"),p=d.KEY_MODS,g=o.isIOS,f=g?/\s/:/\n/,m=o.isMobile;t.TextInput=function(e,t){var i=r.createElement("textarea");i.className="ace_text-input",i.setAttribute("wrap","off"),i.setAttribute("autocorrect","off"),i.setAttribute("autocapitalize","off"),i.setAttribute("spellcheck",!1),i.style.opacity="0",e.insertBefore(i,e.firstChild);var _=!1,v=!1,y=!1,b=!1,w="";m||(i.style.fontSize="1px");var A=!1,x=!1,T="",C=0,Z=0,k=0;try{var S=document.activeElement===i}catch(K){}n.addListener(i,"blur",function(e){x||(t.onBlur(e),S=!1)},t),n.addListener(i,"focus",function(e){if(!x){if(S=!0,o.isEdge)try{if(!document.hasFocus())return}catch(i){}t.onFocus(e),o.isEdge?setTimeout(E):E()}},t),this.$focusScroll=!1,this.focus=function(){if(w||h||"browser"==this.$focusScroll)return i.focus({preventScroll:!0});var e=i.style.top;i.style.position="fixed",i.style.top="0px";try{var t=0!=i.getBoundingClientRect().top}catch(r){return}var n=[];if(t)for(var o=i.parentElement;o&&1==o.nodeType;)n.push(o),o.setAttribute("ace_nocontext",!0),o=!o.parentElement&&o.getRootNode?o.getRootNode().host:o.parentElement;i.focus({preventScroll:!0}),t&&n.forEach(function(e){e.removeAttribute("ace_nocontext")}),setTimeout(function(){i.style.position="","0px"==i.style.top&&(i.style.top=e)},0)},this.blur=function(){i.blur()},this.isFocused=function(){return S},t.on("beforeEndOperation",function(){var e=t.curOp,n=e&&e.command&&e.command.name;"insertstring"!=n&&(y&&n&&(e.docChanged||e.selectionChanged)&&(T=i.value="",N()),E())});var E=g?function(e){if(S&&(!_||e)&&!b){e||(e="");var n="\n ab"+e+"cde fg\n";n!=i.value&&(i.value=T=n);var o=4+(e.length||(t.selection.isEmpty()?0:1));(4!=C||Z!=o)&&i.setSelectionRange(4,o),C=4,Z=o}}:function(){if(!y&&!b&&(S||O)){y=!0;var e=0,n=0,o="";if(t.session){var r=t.selection,s=r.getRange(),a=r.cursor.row;if(e=s.start.column,n=s.end.column,o=t.session.getLine(a),s.start.row!=a){var l=t.session.getLine(a-1);e=s.start.row<a-1?0:e,n+=l.length+1,o=l+"\n"+o}else if(s.end.row!=a){var c=t.session.getLine(a+1);n=s.end.row>a+1?c.length:n,n+=o.length+1,o=o+"\n"+c}else m&&a>0&&(o="\n"+o,n+=1,e+=1);o.length>u&&(e<u&&n<u?o=o.slice(0,u):(o="\n",e==n?e=n=0:(e=0,n=1)))}var h=o+"\n\n";if(h!=T&&(i.value=T=h,C=Z=h.length),O&&(C=i.selectionStart,Z=i.selectionEnd),Z!=n||C!=e||i.selectionEnd!=Z)try{i.setSelectionRange(e,n),C=e,Z=n}catch(d){}y=!1}};this.resetSelection=E,S&&t.onFocus();var M=null;this.setInputHandler=function(e){M=e},this.getInputHandler=function(){return M};var O=!1,I=function(e,n){if(O&&(O=!1),v)return E(),e&&t.onPaste(e),v=!1,"";for(var r=i.selectionStart,s=i.selectionEnd,a=C,l=T.length-Z,c=e,h=e.length-r,u=e.length-s,d=0;a>0&&T[d]==e[d];)d++,a--;for(c=c.slice(d),d=1;l>0&&T.length-d>C-1&&T[T.length-d]==e[e.length-d];)d++,l--;h-=d-1,u-=d-1;var p=c.length-d+1;if(p<0&&(a=-p,p=0),c=c.slice(0,p),!(n||c||h||a||l||u))return"";b=!0;var g=!1;return o.isAndroid&&". "==c&&(c="  ",g=!0),c&&!a&&!l&&!h&&!u||A?t.onTextInput(c):t.onTextInput(c,{extendLeft:a,extendRight:l,restoreStart:h,restoreEnd:u}),b=!1,T=e,C=r,Z=s,k=u,g?"\n":c},P=function(e){if(y)return D();if(e&&e.inputType){if("historyUndo"==e.inputType)return t.execCommand("undo");if("historyRedo"==e.inputType)return t.execCommand("redo")}var n=i.value,o=I(n,!0);(n.length>500||f.test(o)||m&&C<1&&C==Z)&&E()},R=function(e,t,i){var n=e.clipboardData||window.clipboardData;if(n&&!l){var o=c||i?"Text":"text/plain";try{return t?!1!==n.setData(o,t):n.getData(o)}catch(r){if(!i)return R(r,t,!0)}}},q=function(e,o){var r=t.getCopyText();if(!r)return n.preventDefault(e);R(e,r)?(g&&(E(r),_=r,setTimeout(function(){_=!1},10)),o?t.onCut():t.onCopy(),n.preventDefault(e)):(_=!0,i.value=r,i.select(),setTimeout(function(){_=!1,E(),o?t.onCut():t.onCopy()}))},L=function(e){q(e,!0)},U=function(e){q(e,!1)},B=function(e){var r=R(e);a.pasteCancelled()||("string"==typeof r?(r&&t.onPaste(r,e),o.isIE&&setTimeout(E),n.preventDefault(e)):(i.value="",v=!0))};n.addCommandKeyListener(i,t.onCommandKey.bind(t),t),n.addListener(i,"select",function(e){y||(_?_=!1:function(e){return 0===e.selectionStart&&e.selectionEnd>=T.length&&e.value===T&&T&&e.selectionEnd!==Z}(i)?(t.selectAll(),E()):m&&i.selectionStart!=C&&E())},t),n.addListener(i,"input",P,t),n.addListener(i,"cut",L,t),n.addListener(i,"copy",U,t),n.addListener(i,"paste",B,t),(!("oncut"in i)||!("oncopy"in i)||!("onpaste"in i))&&n.addListener(e,"keydown",function(e){if((!o.isMac||e.metaKey)&&e.ctrlKey)switch(e.keyCode){case 67:U(e);break;case 86:B(e);break;case 88:L(e)}},t);var D=function(){if(y&&t.onCompositionUpdate&&!t.$readOnly){if(A)return F();y.useTextareaForIME?t.onCompositionUpdate(i.value):(I(i.value),y.markerRange&&(y.context&&(y.markerRange.start.column=y.selectionStart=y.context.compositionStartOffset),y.markerRange.end.column=y.markerRange.start.column+Z-y.selectionStart+k))}},N=function(e){!t.onCompositionEnd||t.$readOnly||(y=!1,t.onCompositionEnd(),t.off("mousedown",F),e&&P())};function F(){x=!0,i.blur(),i.focus(),x=!1}var H,$=s.delayedCall(D,50).schedule.bind(null,null);function z(){clearTimeout(H),H=setTimeout(function(){w&&(i.style.cssText=w,w=""),t.renderer.$isMousePressed=!1,t.renderer.$keepTextAreaAtCursor&&t.renderer.$moveTextAreaToCursor()},0)}n.addListener(i,"compositionstart",function(e){if(!y&&t.onCompositionStart&&!t.$readOnly&&(y={},!A)){e.data&&(y.useTextareaForIME=!1),setTimeout(D,0),t._signal("compositionStart"),t.on("mousedown",F);var n=t.getSelectionRange();n.end.row=n.start.row,n.end.column=n.start.column,y.markerRange=n,y.selectionStart=C,t.onCompositionStart(y),y.useTextareaForIME?(T=i.value="",C=0,Z=0):(i.msGetInputContext&&(y.context=i.msGetInputContext()),i.getInputContext&&(y.context=i.getInputContext()))}},t),n.addListener(i,"compositionupdate",D,t),n.addListener(i,"keyup",function(e){27==e.keyCode&&i.value.length<i.selectionStart&&(y||(T=i.value),C=Z=-1,E()),$()},t),n.addListener(i,"keydown",$,t),n.addListener(i,"compositionend",N,t),this.getElement=function(){return i},this.setCommandMode=function(e){A=e,i.readOnly=!1},this.setReadOnly=function(e){A||(i.readOnly=e)},this.setCopyWithEmptySelection=function(e){},this.onContextMenu=function(e){O=!0,E(),t._emit("nativecontextmenu",{target:t,domEvent:e}),this.moveToMouse(e,!0)},this.moveToMouse=function(e,s){w||(w=i.style.cssText),i.style.cssText=(s?"z-index:100000;":"")+(o.isIE?"opacity:0.1;":"")+"text-indent: -"+(C+Z)*t.renderer.characterWidth*.5+"px;";var a=t.container.getBoundingClientRect(),l=r.computedStyle(t.container),c=a.top+(parseInt(l.borderTopWidth)||0),h=a.left+(parseInt(a.borderLeftWidth)||0),u=a.bottom-c-i.clientHeight-2,d=function(e){r.translate(i,e.clientX-h-2,Math.min(e.clientY-c-2,u))};d(e),"mousedown"==e.type&&(t.renderer.$isMousePressed=!0,clearTimeout(H),o.isWin&&n.capture(t.container,d,z))},this.onContextMenuClose=z;var V=function(e){t.textInput.onContextMenu(e),z()};n.addListener(i,"mouseup",V,t),n.addListener(i,"mousedown",function(e){e.preventDefault(),z()},t),n.addListener(t.renderer.scroller,"contextmenu",V,t),n.addListener(i,"contextmenu",V,t),g&&function(e,t,i){var n=null,o=!1;i.addEventListener("keydown",function(e){n&&clearTimeout(n),o=!0},!0),i.addEventListener("keyup",function(e){n=setTimeout(function(){o=!1},100)},!0);var r=function(e){if(document.activeElement===i&&!(o||y||t.$mouseHandler.isMousePressed)&&!_){var n=i.selectionStart,r=i.selectionEnd,s=null,a=0;if(0==n?s=d.up:1==n?s=d.home:r>Z&&"\n"==T[r]?s=d.end:n<C&&" "==T[n-1]?(s=d.left,a=p.option):n<C||n==C&&Z!=C&&n==r?s=d.left:r>Z&&T.slice(0,r).split("\n").length>2?s=d.down:r>Z&&" "==T[r-1]?(s=d.right,a=p.option):(r>Z||r==Z&&Z!=C&&n==r)&&(s=d.right),n!==r&&(a|=p.shift),s){if(!t.onCommandKey({},a,s)&&t.commands){s=d.keyCodeToString(s);var l=t.commands.findKeyCommand(a,s);l&&t.execCommand(l)}C=n,Z=r,E("")}}};document.addEventListener("selectionchange",r),t.on("destroy",function(){document.removeEventListener("selectionchange",r)})}(0,t,i)},t.$setUserAgentForTests=function(e,t){m=e,g=t}}),ace.define("ace/mouse/default_handlers",["require","exports","module","ace/lib/useragent"],function(e,t,i){"use strict";var n=e("../lib/useragent");function o(e){e.$clickSelection=null;var t=e.editor;t.setDefaultHandler("mousedown",this.onMouseDown.bind(e)),t.setDefaultHandler("dblclick",this.onDoubleClick.bind(e)),t.setDefaultHandler("tripleclick",this.onTripleClick.bind(e)),t.setDefaultHandler("quadclick",this.onQuadClick.bind(e)),t.setDefaultHandler("mousewheel",this.onMouseWheel.bind(e)),["select","startSelect","selectEnd","selectAllEnd","selectByWordsEnd","selectByLinesEnd","dragWait","dragWaitEnd","focusWait"].forEach(function(t){e[t]=this[t]},this),e.selectByLines=this.extendSelectionBy.bind(e,"getLineRange"),e.selectByWords=this.extendSelectionBy.bind(e,"getWordRange")}function r(e,t){if(e.start.row==e.end.row)var i=2*t.column-e.start.column-e.end.column;else if(e.start.row!=e.end.row-1||e.start.column||e.end.column)i=2*t.row-e.start.row-e.end.row;else i=t.column-4;return i<0?{cursor:e.start,anchor:e.end}:{cursor:e.end,anchor:e.start}}(function(){this.onMouseDown=function(e){var t=e.inSelection(),i=e.getDocumentPosition();this.mousedownEvent=e;var o=this.editor,r=e.getButton();return 0!==r?((o.getSelectionRange().isEmpty()||1==r)&&o.selection.moveToPosition(i),void(2==r&&(o.textInput.onContextMenu(e.domEvent),n.isMozilla||e.preventDefault()))):(this.mousedownEvent.time=Date.now(),!t||o.isFocused()||(o.focus(),!this.$focusTimeout||this.$clickSelection||o.inMultiSelectMode)?(this.captureMouse(e),this.startSelect(i,e.domEvent._clicks>1),e.preventDefault()):(this.setState("focusWait"),void this.captureMouse(e)))},this.startSelect=function(e,t){e=e||this.editor.renderer.screenToTextCoordinates(this.x,this.y);var i=this.editor;!this.mousedownEvent||(this.mousedownEvent.getShiftKey()?i.selection.selectToPosition(e):t||i.selection.moveToPosition(e),t||this.select(),i.renderer.scroller.setCapture&&i.renderer.scroller.setCapture(),i.setStyle("ace_selecting"),this.setState("select"))},this.select=function(){var e,t=this.editor,i=t.renderer.screenToTextCoordinates(this.x,this.y);if(this.$clickSelection){var n=this.$clickSelection.comparePoint(i);if(-1==n)e=this.$clickSelection.end;else if(1==n)e=this.$clickSelection.start;else{var o=r(this.$clickSelection,i);i=o.cursor,e=o.anchor}t.selection.setSelectionAnchor(e.row,e.column)}t.selection.selectToPosition(i),t.renderer.scrollCursorIntoView()},this.extendSelectionBy=function(e){var t,i=this.editor,n=i.renderer.screenToTextCoordinates(this.x,this.y),o=i.selection[e](n.row,n.column);if(this.$clickSelection){var s=this.$clickSelection.comparePoint(o.start),a=this.$clickSelection.comparePoint(o.end);if(-1==s&&a<=0)t=this.$clickSelection.end,(o.end.row!=n.row||o.end.column!=n.column)&&(n=o.start);else if(1==a&&s>=0)t=this.$clickSelection.start,(o.start.row!=n.row||o.start.column!=n.column)&&(n=o.end);else if(-1==s&&1==a)n=o.end,t=o.start;else{var l=r(this.$clickSelection,n);n=l.cursor,t=l.anchor}i.selection.setSelectionAnchor(t.row,t.column)}i.selection.selectToPosition(n),i.renderer.scrollCursorIntoView()},this.selectEnd=this.selectAllEnd=this.selectByWordsEnd=this.selectByLinesEnd=function(){this.$clickSelection=null,this.editor.unsetStyle("ace_selecting"),this.editor.renderer.scroller.releaseCapture&&this.editor.renderer.scroller.releaseCapture()},this.focusWait=function(){var e=function(e,t,i,n){return Math.sqrt(Math.pow(i-e,2)+Math.pow(n-t,2))}(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y),t=Date.now();(e>0||t-this.mousedownEvent.time>this.$focusTimeout)&&this.startSelect(this.mousedownEvent.getDocumentPosition())},this.onDoubleClick=function(e){var t=e.getDocumentPosition(),i=this.editor,n=i.session.getBracketRange(t);n?(n.isEmpty()&&(n.start.column--,n.end.column++),this.setState("select")):(n=i.selection.getWordRange(t.row,t.column),this.setState("selectByWords")),this.$clickSelection=n,this.select()},this.onTripleClick=function(e){var t=e.getDocumentPosition(),i=this.editor;this.setState("selectByLines");var n=i.getSelectionRange();n.isMultiLine()&&n.contains(t.row,t.column)?(this.$clickSelection=i.selection.getLineRange(n.start.row),this.$clickSelection.end=i.selection.getLineRange(n.end.row).end):this.$clickSelection=i.selection.getLineRange(t.row),this.select()},this.onQuadClick=function(e){var t=this.editor;t.selectAll(),this.$clickSelection=t.getSelectionRange(),this.setState("selectAll")},this.onMouseWheel=function(e){if(!e.getAccelKey()){e.getShiftKey()&&e.wheelY&&!e.wheelX&&(e.wheelX=e.wheelY,e.wheelY=0);var t=this.editor;this.$lastScroll||(this.$lastScroll={t:0,vx:0,vy:0,allowed:0});var i=this.$lastScroll,n=e.domEvent.timeStamp,o=n-i.t,r=o?e.wheelX/o:i.vx,s=o?e.wheelY/o:i.vy;o<550&&(r=(r+i.vx)/2,s=(s+i.vy)/2);var a=Math.abs(r/s),l=!1;if(a>=1&&t.renderer.isScrollableBy(e.wheelX*e.speed,0)&&(l=!0),a<=1&&t.renderer.isScrollableBy(0,e.wheelY*e.speed)&&(l=!0),l?i.allowed=n:n-i.allowed<550&&(Math.abs(r)<=1.5*Math.abs(i.vx)&&Math.abs(s)<=1.5*Math.abs(i.vy)?(l=!0,i.allowed=n):i.allowed=0),i.t=n,i.vx=r,i.vy=s,l)return t.renderer.scrollBy(e.wheelX*e.speed,e.wheelY*e.speed),e.stop()}}}).call(o.prototype),t.DefaultHandlers=o}),ace.define("ace/tooltip",["require","exports","module","ace/lib/oop","ace/lib/dom"],function(e,t,i){"use strict";e("./lib/oop");var n=e("./lib/dom");function o(e){this.isOpen=!1,this.$element=null,this.$parentNode=e}(function(){this.$init=function(){return this.$element=n.createElement("div"),this.$element.className="ace_tooltip",this.$element.style.display="none",this.$parentNode.appendChild(this.$element),this.$element},this.getElement=function(){return this.$element||this.$init()},this.setText=function(e){this.getElement().textContent=e},this.setHtml=function(e){this.getElement().innerHTML=e},this.setPosition=function(e,t){this.getElement().style.left=e+"px",this.getElement().style.top=t+"px"},this.setClassName=function(e){n.addCssClass(this.getElement(),e)},this.show=function(e,t,i){null!=e&&this.setText(e),null!=t&&null!=i&&this.setPosition(t,i),this.isOpen||(this.getElement().style.display="block",this.isOpen=!0)},this.hide=function(){this.isOpen&&(this.getElement().style.display="none",this.isOpen=!1)},this.getHeight=function(){return this.getElement().offsetHeight},this.getWidth=function(){return this.getElement().offsetWidth},this.destroy=function(){this.isOpen=!1,this.$element&&this.$element.parentNode&&this.$element.parentNode.removeChild(this.$element)}}).call(o.prototype),t.Tooltip=o}),ace.define("ace/mouse/default_gutter_handler",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event","ace/tooltip"],function(e,t,i){"use strict";var n=e("../lib/dom"),o=e("../lib/oop"),r=e("../lib/event"),s=e("../tooltip").Tooltip;function a(e){s.call(this,e)}o.inherits(a,s),(function(){this.setPosition=function(e,t){var i=window.innerWidth||document.documentElement.clientWidth,n=window.innerHeight||document.documentElement.clientHeight,o=this.getWidth(),r=this.getHeight();(e+=15)+o>i&&(e-=e+o-i),(t+=15)+r>n&&(t-=20+r),s.prototype.setPosition.call(this,e,t)}}).call(a.prototype),t.GutterHandler=function(e){var t,i,o,s=e.editor,l=s.renderer.$gutterLayer,c=new a(s.container);function h(){t&&(t=clearTimeout(t)),o&&(c.hide(),o=null,s._signal("hideGutterTooltip",c),s.off("mousewheel",h))}function u(e){c.setPosition(e.x,e.y)}e.editor.setDefaultHandler("guttermousedown",function(t){if(s.isFocused()&&0==t.getButton()&&"foldWidgets"!=l.getRegion(t)){var i=t.getDocumentPosition().row,n=s.session.selection;if(t.getShiftKey())n.selectTo(i,0);else{if(2==t.domEvent.detail)return s.selectAll(),t.preventDefault();e.$clickSelection=s.selection.getLineRange(i)}return e.setState("selectByLines"),e.captureMouse(t),t.preventDefault()}}),e.editor.setDefaultHandler("guttermousemove",function(r){if(n.hasCssClass(r.domEvent.target||r.domEvent.srcElement,"ace_fold-widget"))return h();o&&e.$tooltipFollowsMouse&&u(r),i=r,!t&&(t=setTimeout(function(){t=null,i&&!e.isMousePressed?function(){var t=i.getDocumentPosition().row,n=l.$annotations[t];if(!n)return h();if(t==s.session.getLength()){var r=s.renderer.pixelToScreenCoordinates(0,i.y).row,a=i.$pos;if(r>s.session.documentToScreenRow(a.row,a.column))return h()}if(o!=n)if(o=n.text.join("<br/>"),c.setHtml(o),c.show(),s._signal("showGutterTooltip",c),s.on("mousewheel",h),e.$tooltipFollowsMouse)u(i);else{var d=i.domEvent.target.getBoundingClientRect(),p=c.getElement().style;p.left=d.right+"px",p.top=d.bottom+"px"}}():h()},50))}),r.addListener(s.renderer.$gutter,"mouseout",function(e){i=null,o&&!t&&(t=setTimeout(function(){t=null,h()},50))},s),s.on("changeSession",h)}}),ace.define("ace/mouse/mouse_event",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(e,t,i){"use strict";var n=e("../lib/event"),o=e("../lib/useragent"),r=t.MouseEvent=function(e,t){this.domEvent=e,this.editor=t,this.x=this.clientX=e.clientX,this.y=this.clientY=e.clientY,this.$pos=null,this.$inSelection=null,this.propagationStopped=!1,this.defaultPrevented=!1};(function(){this.stopPropagation=function(){n.stopPropagation(this.domEvent),this.propagationStopped=!0},this.preventDefault=function(){n.preventDefault(this.domEvent),this.defaultPrevented=!0},this.stop=function(){this.stopPropagation(),this.preventDefault()},this.getDocumentPosition=function(){return this.$pos||(this.$pos=this.editor.renderer.screenToTextCoordinates(this.clientX,this.clientY)),this.$pos},this.inSelection=function(){if(null!==this.$inSelection)return this.$inSelection;var e=this.editor.getSelectionRange();if(e.isEmpty())this.$inSelection=!1;else{var t=this.getDocumentPosition();this.$inSelection=e.contains(t.row,t.column)}return this.$inSelection},this.getButton=function(){return n.getButton(this.domEvent)},this.getShiftKey=function(){return this.domEvent.shiftKey},this.getAccelKey=o.isMac?function(){return this.domEvent.metaKey}:function(){return this.domEvent.ctrlKey}}).call(r.prototype)}),ace.define("ace/mouse/dragdrop_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/lib/useragent"],function(e,t,i){"use strict";var n=e("../lib/dom"),o=e("../lib/event"),r=e("../lib/useragent");function s(e){var t=e.editor,i=n.createElement("div");i.style.cssText="top:-100px;position:absolute;z-index:2147483647;opacity:0.5",i.textContent="\xa0",["dragWait","dragWaitEnd","startDrag","dragReadyEnd","onMouseDrag"].forEach(function(t){e[t]=this[t]},this),t.on("mousedown",this.onMouseDown.bind(e));var s,l,c,h,u,d,p,g,f,m,_,v=t.container,y=0;function b(){var e=d;(function(e,i){var n=Date.now();m&&i&&e.row==i.row&&i&&e.column==i.column?a(_.x,_.y,l,c)>5?m=null:n-m>=200&&(t.renderer.scrollCursorIntoView(),m=null):(t.moveCursorToPosition(e),m=n,_={x:l,y:c})})(d=t.renderer.screenToTextCoordinates(l,c),e),function(e,i){var n=Date.now(),o=t.renderer.layerConfig.lineHeight,r=t.renderer.layerConfig.characterWidth,s=t.renderer.scroller.getBoundingClientRect(),a={x:{left:l-s.left,right:s.right-l},y:{top:c-s.top,bottom:s.bottom-c}},h=Math.min(a.x.left,a.x.right),u=Math.min(a.y.top,a.y.bottom),d={row:e.row,column:e.column};h/r<=2&&(d.column+=a.x.left<a.x.right?-3:2),u/o<=1&&(d.row+=a.y.top<a.y.bottom?-1:1),e.row!=d.row||e.column!=d.column&&i&&e.row==i.row?f?n-f>=200&&t.renderer.scrollCursorIntoView(d):f=n:f=null}(d,e)}function w(){u=t.selection.toOrientedRange(),s=t.session.addMarker(u,"ace_selection",t.getSelectionStyle()),t.clearSelection(),t.isFocused()&&t.renderer.$cursorLayer.setBlinking(!1),clearInterval(h),b(),h=setInterval(b,20),y=0,o.addListener(document,"mousemove",T)}function A(){clearInterval(h),t.session.removeMarker(s),s=null,t.selection.fromOrientedRange(u),t.isFocused()&&!g&&t.$resetCursorStyle(),u=null,d=null,y=0,f=null,m=null,o.removeListener(document,"mousemove",T)}this.onDragStart=function(e){if(this.cancelDrag||!v.draggable){var n=this;return setTimeout(function(){n.startSelect(),n.captureMouse(e)},0),e.preventDefault()}u=t.getSelectionRange();var o=e.dataTransfer;o.effectAllowed=t.getReadOnly()?"copy":"copyMove",t.container.appendChild(i),o.setDragImage&&o.setDragImage(i,0,0),setTimeout(function(){t.container.removeChild(i)}),o.clearData(),o.setData("Text",t.session.getTextRange()),g=!0,this.setState("drag")},this.onDragEnd=function(e){v.draggable=!1,g=!1,this.setState(null),t.getReadOnly()||(!p&&"move"==e.dataTransfer.dropEffect&&t.session.remove(t.getSelectionRange()),t.$resetCursorStyle()),this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle("")},this.onDragEnter=function(e){if(!t.getReadOnly()&&C(e.dataTransfer))return l=e.clientX,c=e.clientY,s||w(),y++,e.dataTransfer.dropEffect=p=Z(e),o.preventDefault(e)},this.onDragOver=function(e){if(!t.getReadOnly()&&C(e.dataTransfer))return l=e.clientX,c=e.clientY,s||(w(),y++),null!==x&&(x=null),e.dataTransfer.dropEffect=p=Z(e),o.preventDefault(e)},this.onDragLeave=function(e){if(--y<=0&&s)return A(),p=null,o.preventDefault(e)},this.onDrop=function(e){if(d){var i=e.dataTransfer;if(g)switch(p){case"move":u=u.contains(d.row,d.column)?{start:d,end:d}:t.moveText(u,d);break;case"copy":u=t.moveText(u,d,!0)}else{var n=i.getData("Text");u={start:d,end:t.session.insert(d,n)},t.focus(),p=null}return A(),o.preventDefault(e)}},o.addListener(v,"dragstart",this.onDragStart.bind(e),t),o.addListener(v,"dragend",this.onDragEnd.bind(e),t),o.addListener(v,"dragenter",this.onDragEnter.bind(e),t),o.addListener(v,"dragover",this.onDragOver.bind(e),t),o.addListener(v,"dragleave",this.onDragLeave.bind(e),t),o.addListener(v,"drop",this.onDrop.bind(e),t);var x=null;function T(){null==x&&(x=setTimeout(function(){null!=x&&s&&A()},20))}function C(e){var t=e.types;return!t||Array.prototype.some.call(t,function(e){return"text/plain"==e||"Text"==e})}function Z(e){var t=["copy","copymove","all","uninitialized"],i=r.isMac?e.altKey:e.ctrlKey,n="uninitialized";try{n=e.dataTransfer.effectAllowed.toLowerCase()}catch(s){}var o="none";return i&&t.indexOf(n)>=0?o="copy":["move","copymove","linkmove","all","uninitialized"].indexOf(n)>=0?o="move":t.indexOf(n)>=0&&(o="copy"),o}}function a(e,t,i,n){return Math.sqrt(Math.pow(i-e,2)+Math.pow(n-t,2))}(function(){this.dragWait=function(){Date.now()-this.mousedownEvent.time>this.editor.getDragDelay()&&this.startDrag()},this.dragWaitEnd=function(){this.editor.container.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()),this.selectEnd()},this.dragReadyEnd=function(e){this.editor.$resetCursorStyle(),this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle(""),this.dragWaitEnd()},this.startDrag=function(){this.cancelDrag=!1;var e=this.editor;e.container.draggable=!0,e.renderer.$cursorLayer.setBlinking(!1),e.setStyle("ace_dragging"),e.renderer.setCursorStyle(r.isWin?"default":"move"),this.setState("dragReady")},this.onMouseDrag=function(e){var t=this.editor.container;r.isIE&&"dragReady"==this.state&&a(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y)>3&&t.dragDrop(),"dragWait"===this.state&&a(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y)>0&&(t.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()))},this.onMouseDown=function(e){if(this.$dragEnabled){this.mousedownEvent=e;var t=this.editor,i=e.inSelection(),n=e.getButton();if(1===(e.domEvent.detail||1)&&0===n&&i){if(e.editor.inMultiSelectMode&&(e.getAccelKey()||e.getShiftKey()))return;this.mousedownEvent.time=Date.now();var o=e.domEvent.target||e.domEvent.srcElement;"unselectable"in o&&(o.unselectable="on"),t.getDragDelay()?(r.isWebKit&&(this.cancelDrag=!0,t.container.draggable=!0),this.setState("dragWait")):this.startDrag(),this.captureMouse(e,this.onMouseDrag.bind(this)),e.defaultPrevented=!0}}}}).call(s.prototype),t.DragdropHandler=s}),ace.define("ace/mouse/touch_handler",["require","exports","module","ace/mouse/mouse_event","ace/lib/event","ace/lib/dom"],function(e,t,i){"use strict";var n=e("./mouse_event").MouseEvent,o=e("../lib/event"),r=e("../lib/dom");t.addTouchListeners=function(e,t){var i,s,a,l,c,h,u,d,p,g="scroll",f=0,m=0,_=0,v=0;function y(){p||function(){var e=window.navigator&&window.navigator.clipboard,i=!1,n=function(n){var o=n.target.getAttribute("action");if("more"==o||!i)return i=!i,function(){var n=t.getCopyText(),o=t.session.getUndoManager().hasUndo();p.replaceChild(r.buildDom(i?["span",!n&&["span",{class:"ace_mobile-button",action:"selectall"},"Select All"],n&&["span",{class:"ace_mobile-button",action:"copy"},"Copy"],n&&["span",{class:"ace_mobile-button",action:"cut"},"Cut"],e&&["span",{class:"ace_mobile-button",action:"paste"},"Paste"],o&&["span",{class:"ace_mobile-button",action:"undo"},"Undo"],["span",{class:"ace_mobile-button",action:"find"},"Find"],["span",{class:"ace_mobile-button",action:"openCommandPallete"},"Pallete"]]:["span"]),p.firstChild)}();"paste"==o?e.readText().then(function(e){t.execCommand(o,e)}):o&&(("cut"==o||"copy"==o)&&(e?e.writeText(t.getCopyText()):document.execCommand("copy")),t.execCommand(o)),p.firstChild.style.display="none",i=!1,"openCommandPallete"!=o&&t.focus()};p=r.buildDom(["div",{class:"ace_mobile-menu",ontouchstart:function(e){g="menu",e.stopPropagation(),e.preventDefault(),t.textInput.focus()},ontouchend:function(e){e.stopPropagation(),e.preventDefault(),n(e)},onclick:n},["span"],["span",{class:"ace_mobile-button",action:"more"},"..."]],t.container)}();var e=t.selection.cursor,i=t.renderer.textToScreenCoordinates(e.row,e.column),n=t.renderer.textToScreenCoordinates(0,0).pageX,o=t.renderer.scrollLeft,s=t.container.getBoundingClientRect();p.style.top=i.pageY-s.top-3+"px",i.pageX-s.left<s.width-70?(p.style.left="",p.style.right="10px"):(p.style.right="",p.style.left=n+o-s.left+"px"),p.style.display="",p.firstChild.style.display="none",t.on("input",b)}function b(e){p&&(p.style.display="none"),t.off("input",b)}function w(){c=null,clearTimeout(c);var e=t.selection.getRange(),i=e.contains(u.row,u.column);(e.isEmpty()||!i)&&(t.selection.moveToPosition(u),t.selection.selectWord()),g="wait",y()}o.addListener(e,"contextmenu",function(e){d&&t.textInput.getElement().focus()},t),o.addListener(e,"touchstart",function(e){var o=e.touches;if(c||o.length>1)return clearTimeout(c),c=null,a=-1,void(g="zoom");d=t.$mouseHandler.isMousePressed=!0;var r=t.renderer.layerConfig.lineHeight,h=t.renderer.layerConfig.lineHeight,p=e.timeStamp;l=p;var y=o[0],b=y.clientX,A=y.clientY;Math.abs(i-b)+Math.abs(s-A)>r&&(a=-1),i=e.clientX=b,s=e.clientY=A,_=v=0;var x=new n(e,t);if(u=x.getDocumentPosition(),p-a<500&&1==o.length&&!f)m++,e.preventDefault(),e.button=0,function(){c=null,clearTimeout(c),t.selection.moveToPosition(u);var e=m>=2?t.selection.getLineRange(u.row):t.session.getBracketRange(u);e&&!e.isEmpty()?t.selection.setRange(e):t.selection.selectWord(),g="wait"}();else{m=0;var T=t.selection.cursor,C=t.selection.isEmpty()?T:t.selection.anchor,Z=t.renderer.$cursorLayer.getPixelPosition(T,!0),k=t.renderer.$cursorLayer.getPixelPosition(C,!0),S=t.renderer.scroller.getBoundingClientRect(),E=t.renderer.layerConfig.offset,M=t.renderer.scrollLeft,O=function(e,t){return(e/=h)*e+(t=t/r-.75)*t};if(e.clientX<S.left)return void(g="zoom");var I=O(e.clientX-S.left-Z.left+M,e.clientY-S.top-Z.top+E),P=O(e.clientX-S.left-k.left+M,e.clientY-S.top-k.top+E);I<3.5&&P<3.5&&(g=I>P?"cursor":"anchor"),g=P<3.5?"anchor":I<3.5?"cursor":"scroll",c=setTimeout(w,450)}a=p},t),o.addListener(e,"touchend",function(e){d=t.$mouseHandler.isMousePressed=!1,h&&clearInterval(h),"zoom"==g?(g="",f=0):c?(t.selection.moveToPosition(u),f=0,y()):"scroll"==g?(f+=60,h=setInterval(function(){f--<=0&&(clearInterval(h),h=null),Math.abs(_)<.01&&(_=0),Math.abs(v)<.01&&(v=0),f<20&&(_*=.9),f<20&&(v*=.9);var e=t.session.getScrollTop();t.renderer.scrollBy(10*_,10*v),e==t.session.getScrollTop()&&(f=0)},10),b()):y(),clearTimeout(c),c=null},t),o.addListener(e,"touchmove",function(e){c&&(clearTimeout(c),c=null);var o=e.touches;if(!(o.length>1||"zoom"==g)){var r=o[0],a=i-r.clientX,h=s-r.clientY;if("wait"==g){if(!(a*a+h*h>4))return e.preventDefault();g="cursor"}i=r.clientX,s=r.clientY,e.clientX=r.clientX,e.clientY=r.clientY;var u=e.timeStamp,d=u-l;if(l=u,"scroll"==g){var p=new n(e,t);p.speed=1,p.wheelX=a,p.wheelY=h,10*Math.abs(a)<Math.abs(h)&&(a=0),10*Math.abs(h)<Math.abs(a)&&(h=0),0!=d&&(_=a/d,v=h/d),t._emit("mousewheel",p),p.propagationStopped||(_=v=0)}else{var f=new n(e,t).getDocumentPosition();"cursor"==g?t.selection.moveCursorToPosition(f):"anchor"==g&&t.selection.setSelectionAnchor(f.row,f.column),t.renderer.scrollCursorIntoView(f),e.preventDefault()}}},t)}}),ace.define("ace/lib/net",["require","exports","module","ace/lib/dom"],function(e,t,i){"use strict";var n=e("./dom");t.get=function(e,t){var i=new XMLHttpRequest;i.open("GET",e,!0),i.onreadystatechange=function(){4===i.readyState&&t(i.responseText)},i.send(null)},t.loadScript=function(e,t){var i=n.getDocumentHead(),o=document.createElement("script");o.src=e,i.appendChild(o),o.onload=o.onreadystatechange=function(e,i){(i||!o.readyState||"loaded"==o.readyState||"complete"==o.readyState)&&(o=o.onload=o.onreadystatechange=null,i||t())}},t.qualifyURL=function(e){var t=document.createElement("a");return t.href=e,t.href}}),ace.define("ace/lib/event_emitter",["require","exports","module"],function(e,t,i){"use strict";var n={},o=function(){this.propagationStopped=!0},r=function(){this.defaultPrevented=!0};n._emit=n._dispatchEvent=function(e,t){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var i=this._eventRegistry[e]||[],n=this._defaultHandlers[e];if(i.length||n){("object"!=typeof t||!t)&&(t={}),t.type||(t.type=e),t.stopPropagation||(t.stopPropagation=o),t.preventDefault||(t.preventDefault=r),i=i.slice();for(var s=0;s<i.length&&(i[s](t,this),!t.propagationStopped);s++);if(n&&!t.defaultPrevented)return n(t,this)}},n._signal=function(e,t){var i=(this._eventRegistry||{})[e];if(i){i=i.slice();for(var n=0;n<i.length;n++)i[n](t,this)}},n.once=function(e,t){var i=this;if(this.on(e,function n(){i.off(e,n),t.apply(null,arguments)}),!t)return new Promise(function(e){t=e})},n.setDefaultHandler=function(e,t){var i=this._defaultHandlers;if(i||(i=this._defaultHandlers={_disabled_:{}}),i[e]){var n=i[e],o=i._disabled_[e];o||(i._disabled_[e]=o=[]),o.push(n);var r=o.indexOf(t);-1!=r&&o.splice(r,1)}i[e]=t},n.removeDefaultHandler=function(e,t){var i=this._defaultHandlers;if(i){var n=i._disabled_[e];if(i[e]==t)n&&this.setDefaultHandler(e,n.pop());else if(n){var o=n.indexOf(t);-1!=o&&n.splice(o,1)}}},n.on=n.addEventListener=function(e,t,i){this._eventRegistry=this._eventRegistry||{};var n=this._eventRegistry[e];return n||(n=this._eventRegistry[e]=[]),-1==n.indexOf(t)&&n[i?"unshift":"push"](t),t},n.off=n.removeListener=n.removeEventListener=function(e,t){this._eventRegistry=this._eventRegistry||{};var i=this._eventRegistry[e];if(i){var n=i.indexOf(t);-1!==n&&i.splice(n,1)}},n.removeAllListeners=function(e){e||(this._eventRegistry=this._defaultHandlers=void 0),this._eventRegistry&&(this._eventRegistry[e]=void 0),this._defaultHandlers&&(this._defaultHandlers[e]=void 0)},t.EventEmitter=n}),ace.define("ace/lib/app_config",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(e,t,i){var n=e("./oop"),o=e("./event_emitter").EventEmitter,r={setOptions:function(e){Object.keys(e).forEach(function(t){this.setOption(t,e[t])},this)},getOptions:function(e){var t={};if(e)Array.isArray(e)||(t=e,e=Object.keys(t));else{var i=this.$options;e=Object.keys(i).filter(function(e){return!i[e].hidden})}return e.forEach(function(e){t[e]=this.getOption(e)},this),t},setOption:function(e,t){if(this["$"+e]!==t){var i=this.$options[e];if(!i)return s('misspelled option "'+e+'"');if(i.forwardTo)return this[i.forwardTo]&&this[i.forwardTo].setOption(e,t);i.handlesSet||(this["$"+e]=t),i&&i.set&&i.set.call(this,t)}},getOption:function(e){var t=this.$options[e];return t?t.forwardTo?this[t.forwardTo]&&this[t.forwardTo].getOption(e):t&&t.get?t.get.call(this):this["$"+e]:s('misspelled option "'+e+'"')}};function s(e){"undefined"!=typeof console&&console.warn&&console.warn.apply(console,arguments)}function a(e,t){var i=new Error(e);i.data=t,"object"==typeof console&&console.error&&console.error(i),setTimeout(function(){throw i})}var l=function(){this.$defaultOptions={}};(function(){n.implement(this,o),this.defineOptions=function(e,t,i){return e.$options||(this.$defaultOptions[t]=e.$options={}),Object.keys(i).forEach(function(t){var n=i[t];"string"==typeof n&&(n={forwardTo:n}),n.name||(n.name=t),e.$options[n.name]=n,"initialValue"in n&&(e["$"+n.name]=n.initialValue)}),n.implement(e,r),this},this.resetOptions=function(e){Object.keys(e.$options).forEach(function(t){var i=e.$options[t];"value"in i&&e.setOption(t,i.value)})},this.setDefaultValue=function(e,t,i){if(!e){for(e in this.$defaultOptions)if(this.$defaultOptions[e][t])break;if(!this.$defaultOptions[e][t])return!1}var n=this.$defaultOptions[e]||(this.$defaultOptions[e]={});n[t]&&(n.forwardTo?this.setDefaultValue(n.forwardTo,t,i):n[t].value=i)},this.setDefaultValues=function(e,t){Object.keys(t).forEach(function(i){this.setDefaultValue(e,i,t[i])},this)},this.warn=s,this.reportError=a}).call(l.prototype),t.AppConfig=l}),ace.define("ace/config",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/lib/net","ace/lib/dom","ace/lib/app_config"],function(e,t,n){var o=e("./lib/lang"),r=(e("./lib/oop"),e("./lib/net")),s=e("./lib/dom"),a=e("./lib/app_config").AppConfig;n.exports=t=new a;var l=function(){return this||"undefined"!=typeof window&&window}(),c={packaged:!1,workerPath:null,modePath:null,themePath:null,basePath:"",suffix:".js",$moduleUrls:{},loadWorkerFromBlob:!0,sharedPopups:!1,useStrictCSP:null};t.get=function(e){if(!c.hasOwnProperty(e))throw new Error("Unknown config key: "+e);return c[e]},t.set=function(e,t){if(c.hasOwnProperty(e))c[e]=t;else if(0==this.setDefaultValue("",e,t))throw new Error("Unknown config key: "+e);"useStrictCSP"==e&&s.useStrictCSP(t)},t.all=function(){return o.copyObject(c)},t.$modes={},t.moduleUrl=function(e,t){if(c.$moduleUrls[e])return c.$moduleUrls[e];var i=e.split("/"),n="snippets"==(t=t||i[i.length-2]||"")?"/":"-",o=i[i.length-1];if("worker"==t&&"-"==n){var r=new RegExp("^"+t+"[\\-_]|[\\-_]"+t+"$","g");o=o.replace(r,"")}(!o||o==t)&&i.length>1&&(o=i[i.length-2]);var s=c[t+"Path"];return null==s?s=c.basePath:"/"==n&&(t=n=""),s&&"/"!=s.slice(-1)&&(s+="/"),s+t+n+o+this.get("suffix")},t.setModuleUrl=function(e,t){return c.$moduleUrls[e]=t},t.$loading={},t.loadModule=function(i,n){var o,s;Array.isArray(i)&&(s=i[0],i=i[1]);try{o=e(i)}catch(l){}if(o&&!t.$loading[i])return n&&n(o);if(t.$loading[i]||(t.$loading[i]=[]),t.$loading[i].push(n),!(t.$loading[i].length>1)){var a=function(){e([i],function(e){t._emit("load.module",{name:i,module:e});var n=t.$loading[i];t.$loading[i]=null,n.forEach(function(t){t&&t(e)})})};if(!t.get("packaged"))return a();r.loadScript(t.moduleUrl(i,s),a),h()}};var h=function(){!c.basePath&&!c.workerPath&&!c.modePath&&!c.themePath&&!Object.keys(c.$moduleUrls).length&&(console.error("Unable to infer path to ace from script src,","use ace.config.set('basePath', 'path') to enable dynamic loading of modes and themes","or with webpack use ace/webpack-resolver"),h=function(){})};function u(o){if(l&&l.document){c.packaged=o||e.packaged||n.packaged||l.define&&i.amdD.packaged;for(var r={},s="",a=document.currentScript||document._currentScript,h=(a&&a.ownerDocument||document).getElementsByTagName("script"),u=0;u<h.length;u++){var p=h[u],g=p.src||p.getAttribute("src");if(g){for(var f=p.attributes,m=0,_=f.length;m<_;m++){var v=f[m];0===v.name.indexOf("data-ace-")&&(r[d(v.name.replace(/^data-ace-/,""))]=v.value)}var y=g.match(/^(.*)\/ace(\-\w+)?\.js(\?|$)/);y&&(s=y[1])}}for(var b in s&&(r.base=r.base||s,r.packaged=!0),r.basePath=r.base,r.workerPath=r.workerPath||r.base,r.modePath=r.modePath||r.base,r.themePath=r.themePath||r.base,delete r.base,r)void 0!==r[b]&&t.set(b,r[b])}}function d(e){return e.replace(/-(.)/g,function(e,t){return t.toUpperCase()})}u(!0),t.init=u,t.version="1.4.14"}),ace.define("ace/mouse/mouse_handler",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/mouse/default_handlers","ace/mouse/default_gutter_handler","ace/mouse/mouse_event","ace/mouse/dragdrop_handler","ace/mouse/touch_handler","ace/config"],function(e,t,i){"use strict";var n=e("../lib/event"),o=e("../lib/useragent"),r=e("./default_handlers").DefaultHandlers,s=e("./default_gutter_handler").GutterHandler,a=e("./mouse_event").MouseEvent,l=e("./dragdrop_handler").DragdropHandler,c=e("./touch_handler").addTouchListeners,h=e("../config"),u=function(e){var t=this;this.editor=e,new r(this),new s(this),new l(this);var i=function(t){(!document.hasFocus||!document.hasFocus()||!e.isFocused()&&document.activeElement==(e.textInput&&e.textInput.getElement()))&&window.focus(),e.focus()},a=e.renderer.getMouseEventTarget();n.addListener(a,"click",this.onMouseEvent.bind(this,"click"),e),n.addListener(a,"mousemove",this.onMouseMove.bind(this,"mousemove"),e),n.addMultiMouseDownListener([a,e.renderer.scrollBarV&&e.renderer.scrollBarV.inner,e.renderer.scrollBarH&&e.renderer.scrollBarH.inner,e.textInput&&e.textInput.getElement()].filter(Boolean),[400,300,250],this,"onMouseEvent",e),n.addMouseWheelListener(e.container,this.onMouseWheel.bind(this,"mousewheel"),e),c(e.container,e);var h=e.renderer.$gutter;n.addListener(h,"mousedown",this.onMouseEvent.bind(this,"guttermousedown"),e),n.addListener(h,"click",this.onMouseEvent.bind(this,"gutterclick"),e),n.addListener(h,"dblclick",this.onMouseEvent.bind(this,"gutterdblclick"),e),n.addListener(h,"mousemove",this.onMouseEvent.bind(this,"guttermousemove"),e),n.addListener(a,"mousedown",i,e),n.addListener(h,"mousedown",i,e),o.isIE&&e.renderer.scrollBarV&&(n.addListener(e.renderer.scrollBarV.element,"mousedown",i,e),n.addListener(e.renderer.scrollBarH.element,"mousedown",i,e)),e.on("mousemove",function(i){if(!t.state&&!t.$dragDelay&&t.$dragEnabled){var n=e.renderer.screenToTextCoordinates(i.x,i.y),o=e.session.selection.getRange(),r=e.renderer;!o.isEmpty()&&o.insideStart(n.row,n.column)?r.setCursorStyle("default"):r.setCursorStyle("")}},e)};(function(){this.onMouseEvent=function(e,t){!this.editor.session||this.editor._emit(e,new a(t,this.editor))},this.onMouseMove=function(e,t){var i=this.editor._eventRegistry&&this.editor._eventRegistry.mousemove;!i||!i.length||this.editor._emit(e,new a(t,this.editor))},this.onMouseWheel=function(e,t){var i=new a(t,this.editor);i.speed=2*this.$scrollSpeed,i.wheelX=t.wheelX,i.wheelY=t.wheelY,this.editor._emit(e,i)},this.setState=function(e){this.state=e},this.captureMouse=function(e,t){this.x=e.x,this.y=e.y,this.isMousePressed=!0;var i=this.editor,r=this.editor.renderer;r.$isMousePressed=!0;var s=this,l=function(e){if(e){if(o.isWebKit&&!e.which&&s.releaseMouse)return s.releaseMouse();s.x=e.clientX,s.y=e.clientY,t&&t(e),s.mouseEvent=new a(e,s.editor),s.$mouseMoved=!0}},c=function(e){i.off("beforeEndOperation",u),clearInterval(d),i.session&&h(),s[s.state+"End"]&&s[s.state+"End"](e),s.state="",s.isMousePressed=r.$isMousePressed=!1,r.$keepTextAreaAtCursor&&r.$moveTextAreaToCursor(),s.$onCaptureMouseMove=s.releaseMouse=null,e&&s.onMouseEvent("mouseup",e),i.endOperation()},h=function(){s[s.state]&&s[s.state](),s.$mouseMoved=!1};if(o.isOldIE&&"dblclick"==e.domEvent.type)return setTimeout(function(){c(e)});var u=function(e){!s.releaseMouse||i.curOp.command.name&&i.curOp.selectionChanged&&(s[s.state+"End"]&&s[s.state+"End"](),s.state="",s.releaseMouse())};i.on("beforeEndOperation",u),i.startOperation({command:{name:"mouse"}}),s.$onCaptureMouseMove=l,s.releaseMouse=n.capture(this.editor.container,l,c);var d=setInterval(h,20)},this.releaseMouse=null,this.cancelContextMenu=function(){var e=(function(t){t&&t.domEvent&&"contextmenu"!=t.domEvent.type||(this.editor.off("nativecontextmenu",e),t&&t.domEvent&&n.stopEvent(t.domEvent))}).bind(this);setTimeout(e,10),this.editor.on("nativecontextmenu",e)},this.destroy=function(){this.releaseMouse&&this.releaseMouse()}}).call(u.prototype),h.defineOptions(u.prototype,"mouseHandler",{scrollSpeed:{initialValue:2},dragDelay:{initialValue:o.isMac?150:0},dragEnabled:{initialValue:!0},focusTimeout:{initialValue:0},tooltipFollowsMouse:{initialValue:!0}}),t.MouseHandler=u}),ace.define("ace/mouse/fold_handler",["require","exports","module","ace/lib/dom"],function(e,t,i){"use strict";var n=e("../lib/dom");t.FoldHandler=function(e){e.on("click",function(t){var i=t.getDocumentPosition(),o=e.session,r=o.getFoldAt(i.row,i.column,1);r&&(t.getAccelKey()?o.removeFold(r):o.expandFold(r),t.stop());var s=t.domEvent&&t.domEvent.target;s&&n.hasCssClass(s,"ace_inline_button")&&n.hasCssClass(s,"ace_toggle_wrap")&&(o.setOption("wrap",!o.getUseWrapMode()),e.renderer.scrollCursorIntoView())}),e.on("gutterclick",function(t){if("foldWidgets"==e.renderer.$gutterLayer.getRegion(t)){var i=t.getDocumentPosition().row,n=e.session;n.foldWidgets&&n.foldWidgets[i]&&e.session.onFoldWidgetClick(i,t),e.isFocused()||e.focus(),t.stop()}}),e.on("gutterdblclick",function(t){if("foldWidgets"==e.renderer.$gutterLayer.getRegion(t)){var i=t.getDocumentPosition().row,n=e.session,o=n.getParentFoldRangeData(i,!0),r=o.range||o.firstRange;if(r){var s=n.getFoldAt(i=r.start.row,n.getLine(i).length,1);s?n.removeFold(s):(n.addFold("...",r),e.renderer.scrollCursorIntoView({row:r.start.row,column:0}))}t.stop()}})}}),ace.define("ace/keyboard/keybinding",["require","exports","module","ace/lib/keys","ace/lib/event"],function(e,t,i){"use strict";var n=e("../lib/keys"),o=e("../lib/event"),r=function(e){this.$editor=e,this.$data={editor:e},this.$handlers=[],this.setDefaultHandler(e.commands)};(function(){this.setDefaultHandler=function(e){this.removeKeyboardHandler(this.$defaultHandler),this.$defaultHandler=e,this.addKeyboardHandler(e,0)},this.setKeyboardHandler=function(e){var t=this.$handlers;if(t[t.length-1]!=e){for(;t[t.length-1]&&t[t.length-1]!=this.$defaultHandler;)this.removeKeyboardHandler(t[t.length-1]);this.addKeyboardHandler(e,1)}},this.addKeyboardHandler=function(e,t){if(e){"function"==typeof e&&!e.handleKeyboard&&(e.handleKeyboard=e);var i=this.$handlers.indexOf(e);-1!=i&&this.$handlers.splice(i,1),null==t?this.$handlers.push(e):this.$handlers.splice(t,0,e),-1==i&&e.attach&&e.attach(this.$editor)}},this.removeKeyboardHandler=function(e){var t=this.$handlers.indexOf(e);return-1!=t&&(this.$handlers.splice(t,1),e.detach&&e.detach(this.$editor),!0)},this.getKeyboardHandler=function(){return this.$handlers[this.$handlers.length-1]},this.getStatusText=function(){var e=this.$data,t=e.editor;return this.$handlers.map(function(i){return i.getStatusText&&i.getStatusText(t,e)||""}).filter(Boolean).join(" ")},this.$callKeyboardHandlers=function(e,t,i,n){for(var r,s=!1,a=this.$editor.commands,l=this.$handlers.length;l--&&!((r=this.$handlers[l].handleKeyboard(this.$data,e,t,i,n))&&r.command&&(s="null"==r.command||a.exec(r.command,this.$editor,r.args,n),s&&n&&-1!=e&&1!=r.passEvent&&1!=r.command.passEvent&&o.stopEvent(n),s)););return!s&&-1==e&&(r={command:"insertstring"},s=a.exec("insertstring",this.$editor,t)),s&&this.$editor._signal&&this.$editor._signal("keyboardActivity",r),s},this.onCommandKey=function(e,t,i){var o=n.keyCodeToString(i);return this.$callKeyboardHandlers(t,o,i,e)},this.onTextInput=function(e){return this.$callKeyboardHandlers(-1,e)}}).call(r.prototype),t.KeyBinding=r}),ace.define("ace/lib/bidiutil",["require","exports","module"],function(e,t,i){"use strict";var n=0,o=0,r=!1,s=!1,a=!1,l=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],c=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],h=11,u=18,d=[u,u,u,u,u,u,u,u,u,6,5,6,8,5,u,u,u,u,u,u,u,u,u,u,u,u,u,u,5,5,5,6,8,4,4,h,h,h,4,4,4,4,4,10,9,10,9,9,2,2,2,2,2,2,2,2,2,2,9,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,4,u,u,u,u,u,u,5,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,9,4,h,h,h,h,4,4,4,4,0,4,4,u,4,4,h,h,2,2,4,0,4,4,4,2,0,4,4,4,4,4],p=[8,8,8,8,8,8,8,8,8,8,8,u,u,u,0,1,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,8,5,13,14,15,16,17,9,h,h,h,h,h,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,9,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,8];function g(e,t,i){if(!(o<e)){if(1==e&&1==n&&!s)return void i.reverse();for(var r,a,l,c,h=i.length,u=0;u<h;){if(t[u]>=e){for(r=u+1;r<h&&t[r]>=e;)r++;for(a=u,l=r-1;a<l;a++,l--)c=i[a],i[a]=i[l],i[l]=c;u=r}u++}}}function f(e,t,i,o){var l,c,d,p,g=t[o];switch(g){case 0:case 1:r=!1;case 4:case 3:return g;case 2:return r?3:2;case 7:return r=!0,1;case 8:return 4;case 9:return o<1||o+1>=t.length||2!=(l=i[o-1])&&3!=l||2!=(c=t[o+1])&&3!=c?4:(r&&(c=3),c==l?c:4);case 10:return 2==(l=o>0?i[o-1]:5)&&o+1<t.length&&2==t[o+1]?2:4;case h:if(o>0&&2==i[o-1])return 2;if(r)return 4;for(p=o+1,d=t.length;p<d&&t[p]==h;)p++;return p<d&&2==t[p]?2:4;case 12:for(d=t.length,p=o+1;p<d&&12==t[p];)p++;if(p<d){var f=e[o];if(l=t[p],(f>=1425&&f<=2303||64286==f)&&(1==l||7==l))return 1}return o<1||5==(l=t[o-1])?4:i[o-1];case 5:return r=!1,s=!0,n;case 6:return a=!0,4;case 13:case 14:case 16:case 17:case 15:r=!1;case u:return 4}}function m(e){var t=e.charCodeAt(0),i=t>>8;return 0==i?t>191?0:d[t]:5==i?/[\u0591-\u05f4]/.test(e)?1:0:6==i?/[\u0610-\u061a\u064b-\u065f\u06d6-\u06e4\u06e7-\u06ed]/.test(e)?12:/[\u0660-\u0669\u066b-\u066c]/.test(e)?3:1642==t?h:/[\u06f0-\u06f9]/.test(e)?2:7:32==i&&t<=8287?p[255&t]:254==i&&t>=65136?7:4}t.L=0,t.R=1,t.EN=2,t.ON_R=3,t.AN=4,t.R_H=5,t.B=6,t.RLE=7,t.DOT="\xb7",t.doBidiReorder=function(e,i,h){if(e.length<2)return{};var d=e.split(""),p=new Array(d.length),_=new Array(d.length),v=[];n=h?1:0,function(e,t,i,h){var u=n?c:l,d=null,p=null,g=null,_=0,v=null,y=-1,b=null,w=null,A=[];if(!h)for(b=0,h=[];b<i;b++)h[b]=m(e[b]);for(o=n,r=!1,s=!1,a=!1,w=0;w<i;w++){if(d=_,A[w]=p=f(e,h,A,w),v=240&(_=u[d][p]),t[w]=g=u[_&=15][5],v>0)if(16==v){for(b=y;b<w;b++)t[b]=1;y=-1}else y=-1;if(u[_][6])-1==y&&(y=w);else if(y>-1){for(b=y;b<w;b++)t[b]=g;y=-1}5==h[w]&&(t[w]=0),o|=g}if(a)for(b=0;b<i;b++)if(6==h[b]){t[b]=n;for(var x=b-1;x>=0&&8==h[x];x--)t[x]=n}}(d,v,d.length,i);for(var y=0;y<p.length;p[y]=y,y++);for(g(2,v,p),g(1,v,p),y=0;y<p.length-1;y++)3===i[y]?v[y]=t.AN:1===v[y]&&(i[y]>7&&i[y]<13||4===i[y]||i[y]===u)?v[y]=t.ON_R:y>0&&"\u0644"===d[y-1]&&/\u0622|\u0623|\u0625|\u0627/.test(d[y])&&(v[y-1]=v[y]=t.R_H,y++);for(d[d.length-1]===t.DOT&&(v[d.length-1]=t.B),"\u202b"===d[0]&&(v[0]=t.RLE),y=0;y<p.length;y++)_[y]=v[p[y]];return{logicalFromVisual:p,bidiLevels:_}},t.hasBidiCharacters=function(e,t){for(var i=!1,n=0;n<e.length;n++)t[n]=m(e.charAt(n)),!i&&(1==t[n]||7==t[n]||3==t[n])&&(i=!0);return i},t.getVisualFromLogicalIdx=function(e,t){for(var i=0;i<t.logicalFromVisual.length;i++)if(t.logicalFromVisual[i]==e)return i;return 0}}),ace.define("ace/bidihandler",["require","exports","module","ace/lib/bidiutil","ace/lib/lang"],function(e,t,i){"use strict";var n=e("./lib/bidiutil"),o=e("./lib/lang"),r=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\u202B]/,s=function(e){this.session=e,this.bidiMap={},this.currentRow=null,this.bidiUtil=n,this.charWidths=[],this.EOL="\xac",this.showInvisibles=!0,this.isRtlDir=!1,this.$isRtl=!1,this.line="",this.wrapIndent=0,this.EOF="\xb6",this.RLE="\u202b",this.contentWidth=0,this.fontMetrics=null,this.rtlLineOffset=0,this.wrapOffset=0,this.isMoveLeftOperation=!1,this.seenBidi=r.test(e.getValue())};(function(){this.isBidiRow=function(e,t,i){return!!this.seenBidi&&(e!==this.currentRow&&(this.currentRow=e,this.updateRowLine(t,i),this.updateBidiMap()),this.bidiMap.bidiLevels)},this.onChange=function(e){this.seenBidi?this.currentRow=null:"insert"==e.action&&r.test(e.lines.join("\n"))&&(this.seenBidi=!0,this.currentRow=null)},this.getDocumentRow=function(){var e=0,t=this.session.$screenRowCache;if(t.length){var i=this.session.$getRowCacheIndex(t,this.currentRow);i>=0&&(e=this.session.$docRowCache[i])}return e},this.getSplitIndex=function(){var e=0,t=this.session.$screenRowCache;if(t.length)for(var i,n=this.session.$getRowCacheIndex(t,this.currentRow);this.currentRow-e>0&&(i=this.session.$getRowCacheIndex(t,this.currentRow-e-1))===n;)n=i,e++;else e=this.currentRow;return e},this.updateRowLine=function(e,t){void 0===e&&(e=this.getDocumentRow());var i=e===this.session.getLength()-1?this.EOF:this.EOL;if(this.wrapIndent=0,this.line=this.session.getLine(e),this.isRtlDir=this.$isRtl||this.line.charAt(0)===this.RLE,this.session.$useWrapMode){var r=this.session.$wrapData[e];r&&(void 0===t&&(t=this.getSplitIndex()),t>0&&r.length?(this.wrapIndent=r.indent,this.wrapOffset=this.wrapIndent*this.charWidths[n.L],this.line=t<r.length?this.line.substring(r[t-1],r[t]):this.line.substring(r[r.length-1])):this.line=this.line.substring(0,r[t])),t==r.length&&(this.line+=this.showInvisibles?i:n.DOT)}else this.line+=this.showInvisibles?i:n.DOT;var s,a=this.session,l=0;this.line=this.line.replace(/\t|[\u1100-\u2029, \u202F-\uFFE6]/g,function(e,t){return"\t"===e||a.isFullWidth(e.charCodeAt(0))?(s="\t"===e?a.getScreenTabSize(t+l):2,l+=s-1,o.stringRepeat(n.DOT,s)):e}),this.isRtlDir&&(this.fontMetrics.$main.textContent=this.line.charAt(this.line.length-1)==n.DOT?this.line.substr(0,this.line.length-1):this.line,this.rtlLineOffset=this.contentWidth-this.fontMetrics.$main.getBoundingClientRect().width)},this.updateBidiMap=function(){var e=[];this.bidiMap=n.hasBidiCharacters(this.line,e)||this.isRtlDir?n.doBidiReorder(this.line,e,this.isRtlDir):{}},this.markAsDirty=function(){this.currentRow=null},this.updateCharacterWidths=function(e){if(this.characterWidth!==e.$characterSize.width){this.fontMetrics=e;var t=this.characterWidth=e.$characterSize.width,i=e.$measureCharWidth("\u05d4");this.charWidths[n.L]=this.charWidths[n.EN]=this.charWidths[n.ON_R]=t,this.charWidths[n.R]=this.charWidths[n.AN]=i,this.charWidths[n.R_H]=.45*i,this.charWidths[n.B]=this.charWidths[n.RLE]=0,this.currentRow=null}},this.setShowInvisibles=function(e){this.showInvisibles=e,this.currentRow=null},this.setEolChar=function(e){this.EOL=e},this.setContentWidth=function(e){this.contentWidth=e},this.isRtlLine=function(e){return!!this.$isRtl||(null!=e?this.session.getLine(e).charAt(0)==this.RLE:this.isRtlDir)},this.setRtlDirection=function(e,t){for(var i=e.getCursorPosition(),n=e.selection.getSelectionAnchor().row;n<=i.row;n++)t||e.session.getLine(n).charAt(0)!==e.session.$bidiHandler.RLE?t&&e.session.getLine(n).charAt(0)!==e.session.$bidiHandler.RLE&&e.session.doc.insert({column:0,row:n},e.session.$bidiHandler.RLE):e.session.doc.removeInLine(n,0,1)},this.getPosLeft=function(e){e-=this.wrapIndent;var t=this.line.charAt(0)===this.RLE?1:0,i=e>t?this.session.getOverwrite()?e:e-1:t,o=n.getVisualFromLogicalIdx(i,this.bidiMap),r=this.bidiMap.bidiLevels,s=0;!this.session.getOverwrite()&&e<=t&&r[o]%2!=0&&o++;for(var a=0;a<o;a++)s+=this.charWidths[r[a]];return!this.session.getOverwrite()&&e>t&&r[o]%2==0&&(s+=this.charWidths[r[o]]),this.wrapIndent&&(s+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset),this.isRtlDir&&(s+=this.rtlLineOffset),s},this.getSelections=function(e,t){var i,n=this.bidiMap,o=n.bidiLevels,r=[],s=0,a=Math.min(e,t)-this.wrapIndent,l=Math.max(e,t)-this.wrapIndent,c=!1,h=!1,u=0;this.wrapIndent&&(s+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);for(var d,p=0;p<o.length;p++)i=o[p],(c=(d=n.logicalFromVisual[p])>=a&&d<l)&&!h?u=s:!c&&h&&r.push({left:u,width:s-u}),s+=this.charWidths[i],h=c;if(c&&p===o.length&&r.push({left:u,width:s-u}),this.isRtlDir)for(var g=0;g<r.length;g++)r[g].left+=this.rtlLineOffset;return r},this.offsetToCol=function(e){this.isRtlDir&&(e-=this.rtlLineOffset);var t=0,i=(e=Math.max(e,0),0),n=0,o=this.bidiMap.bidiLevels,r=this.charWidths[o[n]];for(this.wrapIndent&&(e-=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);e>i+r/2;){if(i+=r,n===o.length-1){r=0;break}r=this.charWidths[o[++n]]}return n>0&&o[n-1]%2!=0&&o[n]%2==0?(e<i&&n--,t=this.bidiMap.logicalFromVisual[n]):n>0&&o[n-1]%2==0&&o[n]%2!=0?t=1+(e>i?this.bidiMap.logicalFromVisual[n]:this.bidiMap.logicalFromVisual[n-1]):this.isRtlDir&&n===o.length-1&&0===r&&o[n-1]%2==0||!this.isRtlDir&&0===n&&o[n]%2!=0?t=1+this.bidiMap.logicalFromVisual[n]:(n>0&&o[n-1]%2!=0&&0!==r&&n--,t=this.bidiMap.logicalFromVisual[n]),0===t&&this.isRtlDir&&t++,t+this.wrapIndent}}).call(s.prototype),t.BidiHandler=s}),ace.define("ace/selection",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/range"],function(e,t,i){"use strict";var n=e("./lib/oop"),o=e("./lib/lang"),r=e("./lib/event_emitter").EventEmitter,s=e("./range").Range,a=function(e){this.session=e,this.doc=e.getDocument(),this.clearSelection(),this.cursor=this.lead=this.doc.createAnchor(0,0),this.anchor=this.doc.createAnchor(0,0),this.$silent=!1;var t=this;this.cursor.on("change",function(e){t.$cursorChanged=!0,t.$silent||t._emit("changeCursor"),!t.$isEmpty&&!t.$silent&&t._emit("changeSelection"),!t.$keepDesiredColumnOnChange&&e.old.column!=e.value.column&&(t.$desiredColumn=null)}),this.anchor.on("change",function(){t.$anchorChanged=!0,!t.$isEmpty&&!t.$silent&&t._emit("changeSelection")})};(function(){n.implement(this,r),this.isEmpty=function(){return this.$isEmpty||this.anchor.row==this.lead.row&&this.anchor.column==this.lead.column},this.isMultiLine=function(){return!this.$isEmpty&&this.anchor.row!=this.cursor.row},this.getCursor=function(){return this.lead.getPosition()},this.setSelectionAnchor=function(e,t){this.$isEmpty=!1,this.anchor.setPosition(e,t)},this.getAnchor=this.getSelectionAnchor=function(){return this.$isEmpty?this.getSelectionLead():this.anchor.getPosition()},this.getSelectionLead=function(){return this.lead.getPosition()},this.isBackwards=function(){var e=this.anchor,t=this.lead;return e.row>t.row||e.row==t.row&&e.column>t.column},this.getRange=function(){var e=this.anchor,t=this.lead;return this.$isEmpty?s.fromPoints(t,t):this.isBackwards()?s.fromPoints(t,e):s.fromPoints(e,t)},this.clearSelection=function(){this.$isEmpty||(this.$isEmpty=!0,this._emit("changeSelection"))},this.selectAll=function(){this.$setSelection(0,0,Number.MAX_VALUE,Number.MAX_VALUE)},this.setRange=this.setSelectionRange=function(e,t){var i=t?e.end:e.start,n=t?e.start:e.end;this.$setSelection(i.row,i.column,n.row,n.column)},this.$setSelection=function(e,t,i,n){if(!this.$silent){var o=this.$isEmpty,r=this.inMultiSelectMode;this.$silent=!0,this.$cursorChanged=this.$anchorChanged=!1,this.anchor.setPosition(e,t),this.cursor.setPosition(i,n),this.$isEmpty=!s.comparePoints(this.anchor,this.cursor),this.$silent=!1,this.$cursorChanged&&this._emit("changeCursor"),(this.$cursorChanged||this.$anchorChanged||o!=this.$isEmpty||r)&&this._emit("changeSelection")}},this.$moveSelection=function(e){var t=this.lead;this.$isEmpty&&this.setSelectionAnchor(t.row,t.column),e.call(this)},this.selectTo=function(e,t){this.$moveSelection(function(){this.moveCursorTo(e,t)})},this.selectToPosition=function(e){this.$moveSelection(function(){this.moveCursorToPosition(e)})},this.moveTo=function(e,t){this.clearSelection(),this.moveCursorTo(e,t)},this.moveToPosition=function(e){this.clearSelection(),this.moveCursorToPosition(e)},this.selectUp=function(){this.$moveSelection(this.moveCursorUp)},this.selectDown=function(){this.$moveSelection(this.moveCursorDown)},this.selectRight=function(){this.$moveSelection(this.moveCursorRight)},this.selectLeft=function(){this.$moveSelection(this.moveCursorLeft)},this.selectLineStart=function(){this.$moveSelection(this.moveCursorLineStart)},this.selectLineEnd=function(){this.$moveSelection(this.moveCursorLineEnd)},this.selectFileEnd=function(){this.$moveSelection(this.moveCursorFileEnd)},this.selectFileStart=function(){this.$moveSelection(this.moveCursorFileStart)},this.selectWordRight=function(){this.$moveSelection(this.moveCursorWordRight)},this.selectWordLeft=function(){this.$moveSelection(this.moveCursorWordLeft)},this.getWordRange=function(e,t){if(void 0===t){var i=e||this.lead;e=i.row,t=i.column}return this.session.getWordRange(e,t)},this.selectWord=function(){this.setSelectionRange(this.getWordRange())},this.selectAWord=function(){var e=this.getCursor(),t=this.session.getAWordRange(e.row,e.column);this.setSelectionRange(t)},this.getLineRange=function(e,t){var i,n="number"==typeof e?e:this.lead.row,o=this.session.getFoldLine(n);return o?(n=o.start.row,i=o.end.row):i=n,!0===t?new s(n,0,i,this.session.getLine(i).length):new s(n,0,i+1,0)},this.selectLine=function(){this.setSelectionRange(this.getLineRange())},this.moveCursorUp=function(){this.moveCursorBy(-1,0)},this.moveCursorDown=function(){this.moveCursorBy(1,0)},this.wouldMoveIntoSoftTab=function(e,t,i){var n=e.column,o=e.column+t;return i<0&&(n=e.column-t,o=e.column),this.session.isTabStop(e)&&this.doc.getLine(e.row).slice(n,o).split(" ").length-1==t},this.moveCursorLeft=function(){var e,t=this.lead.getPosition();if(e=this.session.getFoldAt(t.row,t.column,-1))this.moveCursorTo(e.start.row,e.start.column);else if(0===t.column)t.row>0&&this.moveCursorTo(t.row-1,this.doc.getLine(t.row-1).length);else{var i=this.session.getTabSize();this.wouldMoveIntoSoftTab(t,i,-1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,-i):this.moveCursorBy(0,-1)}},this.moveCursorRight=function(){var e,t=this.lead.getPosition();if(e=this.session.getFoldAt(t.row,t.column,1))this.moveCursorTo(e.end.row,e.end.column);else if(this.lead.column==this.doc.getLine(this.lead.row).length)this.lead.row<this.doc.getLength()-1&&this.moveCursorTo(this.lead.row+1,0);else{var i=this.session.getTabSize();this.wouldMoveIntoSoftTab(t=this.lead,i,1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,i):this.moveCursorBy(0,1)}},this.moveCursorLineStart=function(){var e=this.lead.row,t=this.lead.column,i=this.session.documentToScreenRow(e,t),n=this.session.screenToDocumentPosition(i,0),o=this.session.getDisplayLine(e,null,n.row,n.column).match(/^\s*/);o[0].length!=t&&!this.session.$useEmacsStyleLineStart&&(n.column+=o[0].length),this.moveCursorToPosition(n)},this.moveCursorLineEnd=function(){var e=this.lead,t=this.session.getDocumentLastRowColumnPosition(e.row,e.column);if(this.lead.column==t.column){var i=this.session.getLine(t.row);if(t.column==i.length){var n=i.search(/\s+$/);n>0&&(t.column=n)}}this.moveCursorTo(t.row,t.column)},this.moveCursorFileEnd=function(){var e=this.doc.getLength()-1,t=this.doc.getLine(e).length;this.moveCursorTo(e,t)},this.moveCursorFileStart=function(){this.moveCursorTo(0,0)},this.moveCursorLongWordRight=function(){var e=this.lead.row,t=this.lead.column,i=this.doc.getLine(e),n=i.substring(t);this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0;var o=this.session.getFoldAt(e,t,1);if(!o)return this.session.nonTokenRe.exec(n)&&(t+=this.session.nonTokenRe.lastIndex,this.session.nonTokenRe.lastIndex=0,n=i.substring(t)),t>=i.length?(this.moveCursorTo(e,i.length),this.moveCursorRight(),void(e<this.doc.getLength()-1&&this.moveCursorWordRight())):(this.session.tokenRe.exec(n)&&(t+=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),void this.moveCursorTo(e,t));this.moveCursorTo(o.end.row,o.end.column)},this.moveCursorLongWordLeft=function(){var e,t=this.lead.row,i=this.lead.column;if(e=this.session.getFoldAt(t,i,-1))this.moveCursorTo(e.start.row,e.start.column);else{var n=this.session.getFoldStringAt(t,i,-1);null==n&&(n=this.doc.getLine(t).substring(0,i));var r=o.stringReverse(n);if(this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0,this.session.nonTokenRe.exec(r)&&(i-=this.session.nonTokenRe.lastIndex,r=r.slice(this.session.nonTokenRe.lastIndex),this.session.nonTokenRe.lastIndex=0),i<=0)return this.moveCursorTo(t,0),this.moveCursorLeft(),void(t>0&&this.moveCursorWordLeft());this.session.tokenRe.exec(r)&&(i-=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(t,i)}},this.$shortWordEndIndex=function(e){var t,i=0,n=/\s/,o=this.session.tokenRe;if(o.lastIndex=0,this.session.tokenRe.exec(e))i=this.session.tokenRe.lastIndex;else{for(;(t=e[i])&&n.test(t);)i++;if(i<1)for(o.lastIndex=0;(t=e[i])&&!o.test(t);)if(o.lastIndex=0,i++,n.test(t)){if(i>2){i--;break}for(;(t=e[i])&&n.test(t);)i++;if(i>2)break}}return o.lastIndex=0,i},this.moveCursorShortWordRight=function(){var e=this.lead.row,t=this.lead.column,i=this.doc.getLine(e),n=i.substring(t),o=this.session.getFoldAt(e,t,1);if(o)return this.moveCursorTo(o.end.row,o.end.column);if(t==i.length){var r=this.doc.getLength();do{e++,n=this.doc.getLine(e)}while(e<r&&/^\s*$/.test(n));/^\s+/.test(n)||(n=""),t=0}var s=this.$shortWordEndIndex(n);this.moveCursorTo(e,t+s)},this.moveCursorShortWordLeft=function(){var e,t=this.lead.row,i=this.lead.column;if(e=this.session.getFoldAt(t,i,-1))return this.moveCursorTo(e.start.row,e.start.column);var n=this.session.getLine(t).substring(0,i);if(0===i){do{t--,n=this.doc.getLine(t)}while(t>0&&/^\s*$/.test(n));i=n.length,/\s+$/.test(n)||(n="")}var r=o.stringReverse(n),s=this.$shortWordEndIndex(r);return this.moveCursorTo(t,i-s)},this.moveCursorWordRight=function(){this.session.$selectLongWords?this.moveCursorLongWordRight():this.moveCursorShortWordRight()},this.moveCursorWordLeft=function(){this.session.$selectLongWords?this.moveCursorLongWordLeft():this.moveCursorShortWordLeft()},this.moveCursorBy=function(e,t){var i,n=this.session.documentToScreenPosition(this.lead.row,this.lead.column);if(0===t&&(0!==e&&(this.session.$bidiHandler.isBidiRow(n.row,this.lead.row)?(i=this.session.$bidiHandler.getPosLeft(n.column),n.column=Math.round(i/this.session.$bidiHandler.charWidths[0])):i=n.column*this.session.$bidiHandler.charWidths[0]),this.$desiredColumn?n.column=this.$desiredColumn:this.$desiredColumn=n.column),0!=e&&this.session.lineWidgets&&this.session.lineWidgets[this.lead.row]){var o=this.session.lineWidgets[this.lead.row];e<0?e-=o.rowsAbove||0:e>0&&(e+=o.rowCount-(o.rowsAbove||0))}var r=this.session.screenToDocumentPosition(n.row+e,n.column,i);this.moveCursorTo(r.row,r.column+t,0===t)},this.moveCursorToPosition=function(e){this.moveCursorTo(e.row,e.column)},this.moveCursorTo=function(e,t,i){var n=this.session.getFoldAt(e,t,1);n&&(e=n.start.row,t=n.start.column),this.$keepDesiredColumnOnChange=!0;var o=this.session.getLine(e);/[\uDC00-\uDFFF]/.test(o.charAt(t))&&o.charAt(t-1)&&(this.lead.row==e&&this.lead.column==t+1?t-=1:t+=1),this.lead.setPosition(e,t),this.$keepDesiredColumnOnChange=!1,i||(this.$desiredColumn=null)},this.moveCursorToScreen=function(e,t,i){var n=this.session.screenToDocumentPosition(e,t);this.moveCursorTo(n.row,n.column,i)},this.detach=function(){this.lead.detach(),this.anchor.detach()},this.fromOrientedRange=function(e){this.setSelectionRange(e,e.cursor==e.start),this.$desiredColumn=e.desiredColumn||this.$desiredColumn},this.toOrientedRange=function(e){var t=this.getRange();return e?(e.start.column=t.start.column,e.start.row=t.start.row,e.end.column=t.end.column,e.end.row=t.end.row):e=t,e.cursor=this.isBackwards()?e.start:e.end,e.desiredColumn=this.$desiredColumn,e},this.getRangeOfMovements=function(e){var t=this.getCursor();try{e(this);var i=this.getCursor();return s.fromPoints(t,i)}catch(n){return s.fromPoints(t,t)}finally{this.moveCursorToPosition(t)}},this.toJSON=function(){if(this.rangeCount)var e=this.ranges.map(function(e){var t=e.clone();return t.isBackwards=e.cursor==e.start,t});else(e=this.getRange()).isBackwards=this.isBackwards();return e},this.fromJSON=function(e){if(null==e.start){if(this.rangeList&&e.length>1){this.toSingleRange(e[0]);for(var t=e.length;t--;){var i=s.fromPoints(e[t].start,e[t].end);e[t].isBackwards&&(i.cursor=i.start),this.addRange(i,!0)}return}e=e[0]}this.rangeList&&this.toSingleRange(e),this.setSelectionRange(e,e.isBackwards)},this.isEqual=function(e){if((e.length||this.rangeCount)&&e.length!=this.rangeCount)return!1;if(!e.length||!this.ranges)return this.getRange().isEqual(e);for(var t=this.ranges.length;t--;)if(!this.ranges[t].isEqual(e[t]))return!1;return!0}}).call(a.prototype),t.Selection=a}),ace.define("ace/tokenizer",["require","exports","module","ace/config"],function(e,t,i){"use strict";var n=e("./config"),o=2e3,r=function(e){for(var t in this.states=e,this.regExps={},this.matchMappings={},this.states){for(var i=this.states[t],n=[],o=0,r=this.matchMappings[t]={defaultToken:"text"},s="g",a=[],l=0;l<i.length;l++){var c=i[l];if(c.defaultToken&&(r.defaultToken=c.defaultToken),c.caseInsensitive&&(s="gi"),null!=c.regex){c.regex instanceof RegExp&&(c.regex=c.regex.toString().slice(1,-1));var h=c.regex,u=new RegExp("(?:("+h+")|(.))").exec("a").length-2;Array.isArray(c.token)?1==c.token.length||1==u?c.token=c.token[0]:u-1!=c.token.length?(this.reportError("number of classes and regexp groups doesn't match",{rule:c,groupCount:u-1}),c.token=c.token[0]):(c.tokenArray=c.token,c.token=null,c.onMatch=this.$arrayTokens):"function"==typeof c.token&&!c.onMatch&&(c.onMatch=u>1?this.$applyToken:c.token),u>1&&(/\\\d/.test(c.regex)?h=c.regex.replace(/\\([0-9]+)/g,function(e,t){return"\\"+(parseInt(t,10)+o+1)}):(u=1,h=this.removeCapturingGroups(c.regex)),!c.splitRegex&&"string"!=typeof c.token&&a.push(c)),r[o]=l,o+=u,n.push(h),c.onMatch||(c.onMatch=null)}}n.length||(r[0]=0,n.push("$")),a.forEach(function(e){e.splitRegex=this.createSplitterRegexp(e.regex,s)},this),this.regExps[t]=new RegExp("("+n.join(")|(")+")|($)",s)}};(function(){this.$setMaxTokenCount=function(e){o=0|e},this.$applyToken=function(e){var t=this.splitRegex.exec(e).slice(1),i=this.token.apply(this,t);if("string"==typeof i)return[{type:i,value:e}];for(var n=[],o=0,r=i.length;o<r;o++)t[o]&&(n[n.length]={type:i[o],value:t[o]});return n},this.$arrayTokens=function(e){if(!e)return[];var t=this.splitRegex.exec(e);if(!t)return"text";for(var i=[],n=this.tokenArray,o=0,r=n.length;o<r;o++)t[o+1]&&(i[i.length]={type:n[o],value:t[o+1]});return i},this.removeCapturingGroups=function(e){return e.replace(/\\.|\[(?:\\.|[^\\\]])*|\(\?[:=!<]|(\()/g,function(e,t){return t?"(?:":e})},this.createSplitterRegexp=function(e,t){if(-1!=e.indexOf("(?=")){var i=0,n=!1,o={};e.replace(/(\\.)|(\((?:\?[=!])?)|(\))|([\[\]])/g,function(e,t,r,s,a,l){return n?n="]"!=a:a?n=!0:s?(i==o.stack&&(o.end=l+1,o.stack=-1),i--):r&&(i++,1!=r.length&&(o.stack=i,o.start=l)),e}),null!=o.end&&/^\)*$/.test(e.substr(o.end))&&(e=e.substring(0,o.start)+e.substr(o.end))}return"^"!=e.charAt(0)&&(e="^"+e),"$"!=e.charAt(e.length-1)&&(e+="$"),new RegExp(e,(t||"").replace("g",""))},this.getLineTokens=function(e,t){if(t&&"string"!=typeof t){var i=t.slice(0);"#tmp"===(t=i[0])&&(i.shift(),t=i.shift())}else i=[];var n=t||"start",r=this.states[n];r||(r=this.states[n="start"]);var s=this.matchMappings[n],a=this.regExps[n];a.lastIndex=0;for(var l,c=[],h=0,u=0,d={type:null,value:""};l=a.exec(e);){var p=s.defaultToken,g=null,f=l[0],m=a.lastIndex;if(m-f.length>h){var _=e.substring(h,m-f.length);d.type==p?d.value+=_:(d.type&&c.push(d),d={type:p,value:_})}for(var v=0;v<l.length-2;v++)if(void 0!==l[v+1]){p=(g=r[s[v]]).onMatch?g.onMatch(f,n,i,e):g.token,g.next&&(n="string"==typeof g.next?g.next:g.next(n,i),(r=this.states[n])||(this.reportError("state doesn't exist",n),r=this.states[n="start"]),s=this.matchMappings[n],h=m,(a=this.regExps[n]).lastIndex=m),g.consumeLineEnd&&(h=m);break}if(f)if("string"==typeof p)g&&!1===g.merge||d.type!==p?(d.type&&c.push(d),d={type:p,value:f}):d.value+=f;else if(p)for(d.type&&c.push(d),d={type:null,value:""},v=0;v<p.length;v++)c.push(p[v]);if(h==e.length)break;if(h=m,u++>o){for(u>2*e.length&&this.reportError("infinite loop with in ace tokenizer",{startState:t,line:e});h<e.length;)d.type&&c.push(d),d={value:e.substring(h,h+=500),type:"overflow"};n="start",i=[];break}}return d.type&&c.push(d),i.length>1&&i[0]!==n&&i.unshift("#tmp",n),{tokens:c,state:i.length?i:n}},this.reportError=n.reportError}).call(r.prototype),t.Tokenizer=r}),ace.define("ace/mode/text_highlight_rules",["require","exports","module","ace/lib/lang"],function(e,t,i){"use strict";var n=e("../lib/lang"),o=function(){this.$rules={start:[{token:"empty_line",regex:"^$"},{defaultToken:"text"}]}};(function(){this.addRules=function(e,t){if(t)for(var i in e){for(var n=e[i],o=0;o<n.length;o++){var r=n[o];(r.next||r.onMatch)&&("string"==typeof r.next&&0!==r.next.indexOf(t)&&(r.next=t+r.next),r.nextState&&0!==r.nextState.indexOf(t)&&(r.nextState=t+r.nextState))}this.$rules[t+i]=n}else for(var i in e)this.$rules[i]=e[i]},this.getRules=function(){return this.$rules},this.embedRules=function(e,t,i,o,r){var s="function"==typeof e?(new e).getRules():e;if(o)for(var a=0;a<o.length;a++)o[a]=t+o[a];else for(var l in o=[],s)o.push(t+l);if(this.addRules(s,t),i){var c=Array.prototype[r?"push":"unshift"];for(a=0;a<o.length;a++)c.apply(this.$rules[o[a]],n.deepCopy(i))}this.$embeds||(this.$embeds=[]),this.$embeds.push(t)},this.getEmbeds=function(){return this.$embeds};var e=function(e,t){return("start"!=e||t.length)&&t.unshift(this.nextState,e),this.nextState},t=function(e,t){return t.shift(),t.shift()||"start"};this.normalizeRules=function(){var i=0,n=this.$rules;Object.keys(n).forEach(function o(r){var s=n[r];s.processed=!0;for(var a=0;a<s.length;a++){var l=s[a],c=null;Array.isArray(l)&&(c=l,l={}),!l.regex&&l.start&&(l.regex=l.start,l.next||(l.next=[]),l.next.push({defaultToken:l.token},{token:l.token+".end",regex:l.end||l.start,next:"pop"}),l.token=l.token+".start",l.push=!0);var h=l.next||l.push;if(h&&Array.isArray(h)){var u=l.stateName;u||("string"!=typeof(u=l.token)&&(u=u[0]||""),n[u]&&(u+=i++)),n[u]=h,l.next=u,o(u)}else"pop"==h&&(l.next=t);if(l.push&&(l.nextState=l.next||l.push,l.next=e,delete l.push),l.rules)for(var d in l.rules)n[d]?n[d].push&&n[d].push.apply(n[d],l.rules[d]):n[d]=l.rules[d];var p="string"==typeof l?l:l.include;if(p&&(c=Array.isArray(p)?p.map(function(e){return n[e]}):n[p]),c){var g=[a,1].concat(c);l.noEscape&&(g=g.filter(function(e){return!e.next})),s.splice.apply(s,g),a--}l.keywordMap&&(l.token=this.createKeywordMapper(l.keywordMap,l.defaultToken||"text",l.caseInsensitive),delete l.defaultToken)}},this)},this.createKeywordMapper=function(e,t,i,n){var o=Object.create(null);return this.$keywordList=[],Object.keys(e).forEach(function(t){for(var r=e[t].split(n||"|"),s=r.length;s--;){var a=r[s];this.$keywordList.push(a),i&&(a=a.toLowerCase()),o[a]=t}},this),e=null,i?function(e){return o[e.toLowerCase()]||t}:function(e){return o[e]||t}},this.getKeywords=function(){return this.$keywords}}).call(o.prototype),t.TextHighlightRules=o}),ace.define("ace/mode/behaviour",["require","exports","module"],function(e,t,i){"use strict";var n=function(){this.$behaviours={}};(function(){this.add=function(e,t,i){switch(void 0){case this.$behaviours:this.$behaviours={};case this.$behaviours[e]:this.$behaviours[e]={}}this.$behaviours[e][t]=i},this.addBehaviours=function(e){for(var t in e)for(var i in e[t])this.add(t,i,e[t][i])},this.remove=function(e){this.$behaviours&&this.$behaviours[e]&&delete this.$behaviours[e]},this.inherit=function(e,t){if("function"==typeof e)var i=(new e).getBehaviours(t);else i=e.getBehaviours(t);this.addBehaviours(i)},this.getBehaviours=function(e){if(e){for(var t={},i=0;i<e.length;i++)this.$behaviours[e[i]]&&(t[e[i]]=this.$behaviours[e[i]]);return t}return this.$behaviours}}).call(n.prototype),t.Behaviour=n}),ace.define("ace/token_iterator",["require","exports","module","ace/range"],function(e,t,i){"use strict";var n=e("./range").Range,o=function(e,t,i){this.$session=e,this.$row=t,this.$rowTokens=e.getTokens(t);var n=e.getTokenAt(t,i);this.$tokenIndex=n?n.index:-1};(function(){this.stepBackward=function(){for(this.$tokenIndex-=1;this.$tokenIndex<0;){if(this.$row-=1,this.$row<0)return this.$row=0,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=this.$rowTokens.length-1}return this.$rowTokens[this.$tokenIndex]},this.stepForward=function(){this.$tokenIndex+=1;for(var e;this.$tokenIndex>=this.$rowTokens.length;){if(this.$row+=1,e||(e=this.$session.getLength()),this.$row>=e)return this.$row=e-1,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=0}return this.$rowTokens[this.$tokenIndex]},this.getCurrentToken=function(){return this.$rowTokens[this.$tokenIndex]},this.getCurrentTokenRow=function(){return this.$row},this.getCurrentTokenColumn=function(){var e=this.$rowTokens,t=this.$tokenIndex,i=e[t].start;if(void 0!==i)return i;for(i=0;t>0;)i+=e[t-=1].value.length;return i},this.getCurrentTokenPosition=function(){return{row:this.$row,column:this.getCurrentTokenColumn()}},this.getCurrentTokenRange=function(){var e=this.$rowTokens[this.$tokenIndex],t=this.getCurrentTokenColumn();return new n(this.$row,t,this.$row,t+e.value.length)}}).call(o.prototype),t.TokenIterator=o}),ace.define("ace/mode/behaviour/cstyle",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator","ace/lib/lang"],function(e,t,i){"use strict";var n,o=e("../../lib/oop"),r=e("../behaviour").Behaviour,s=e("../../token_iterator").TokenIterator,a=e("../../lib/lang"),l=["text","paren.rparen","rparen","paren","punctuation.operator"],c=["text","paren.rparen","rparen","paren","punctuation.operator","comment"],h={},u={'"':'"',"'":"'"},d=function(e){var t=-1;if(e.multiSelect&&(t=e.selection.index,h.rangeCount!=e.multiSelect.rangeCount&&(h={rangeCount:e.multiSelect.rangeCount})),h[t])return n=h[t];n=h[t]={autoInsertedBrackets:0,autoInsertedRow:-1,autoInsertedLineEnd:"",maybeInsertedBrackets:0,maybeInsertedRow:-1,maybeInsertedLineStart:"",maybeInsertedLineEnd:""}},p=function(e,t,i,n){var o=e.end.row-e.start.row;return{text:i+t+n,selection:[0,e.start.column+1,o,e.end.column+(o?0:1)]}},g=function(e){this.add("braces","insertion",function(t,i,o,r,s){var l=o.getCursorPosition(),c=r.doc.getLine(l.row);if("{"==s){d(o);var h=o.getSelectionRange(),u=r.doc.getTextRange(h);if(""!==u&&"{"!==u&&o.getWrapBehavioursEnabled())return p(h,u,"{","}");if(g.isSaneInsertion(o,r))return/[\]\}\)]/.test(c[l.column])||o.inMultiSelectMode||e&&e.braces?(g.recordAutoInsert(o,r,"}"),{text:"{}",selection:[1,1]}):(g.recordMaybeInsert(o,r,"{"),{text:"{",selection:[1,1]})}else if("}"==s){if(d(o),"}"==c.substring(l.column,l.column+1)&&null!==r.$findOpeningBracket("}",{column:l.column+1,row:l.row})&&g.isAutoInsertedClosing(l,c,s))return g.popAutoInsertedClosing(),{text:"",selection:[1,1]}}else{if("\n"==s||"\r\n"==s){d(o);var f="";if(g.isMaybeInsertedClosing(l,c)&&(f=a.stringRepeat("}",n.maybeInsertedBrackets),g.clearMaybeInsertedClosing()),"}"===c.substring(l.column,l.column+1)){var m=r.findMatchingBracket({row:l.row,column:l.column+1},"}");if(!m)return null;var _=this.$getIndent(r.getLine(m.row))}else{if(!f)return void g.clearMaybeInsertedClosing();_=this.$getIndent(c)}var v=_+r.getTabString();return{text:"\n"+v+"\n"+_+f,selection:[1,v.length,1,v.length]}}g.clearMaybeInsertedClosing()}}),this.add("braces","deletion",function(e,t,i,o,r){var s=o.doc.getTextRange(r);if(!r.isMultiLine()&&"{"==s){if(d(i),"}"==o.doc.getLine(r.start.row).substring(r.end.column,r.end.column+1))return r.end.column++,r;n.maybeInsertedBrackets--}}),this.add("parens","insertion",function(e,t,i,n,o){if("("==o){d(i);var r=i.getSelectionRange(),s=n.doc.getTextRange(r);if(""!==s&&i.getWrapBehavioursEnabled())return p(r,s,"(",")");if(g.isSaneInsertion(i,n))return g.recordAutoInsert(i,n,")"),{text:"()",selection:[1,1]}}else if(")"==o){d(i);var a=i.getCursorPosition(),l=n.doc.getLine(a.row);if(")"==l.substring(a.column,a.column+1)&&null!==n.$findOpeningBracket(")",{column:a.column+1,row:a.row})&&g.isAutoInsertedClosing(a,l,o))return g.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}),this.add("parens","deletion",function(e,t,i,n,o){var r=n.doc.getTextRange(o);if(!o.isMultiLine()&&"("==r&&(d(i),")"==n.doc.getLine(o.start.row).substring(o.start.column+1,o.start.column+2)))return o.end.column++,o}),this.add("brackets","insertion",function(e,t,i,n,o){if("["==o){d(i);var r=i.getSelectionRange(),s=n.doc.getTextRange(r);if(""!==s&&i.getWrapBehavioursEnabled())return p(r,s,"[","]");if(g.isSaneInsertion(i,n))return g.recordAutoInsert(i,n,"]"),{text:"[]",selection:[1,1]}}else if("]"==o){d(i);var a=i.getCursorPosition(),l=n.doc.getLine(a.row);if("]"==l.substring(a.column,a.column+1)&&null!==n.$findOpeningBracket("]",{column:a.column+1,row:a.row})&&g.isAutoInsertedClosing(a,l,o))return g.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}),this.add("brackets","deletion",function(e,t,i,n,o){var r=n.doc.getTextRange(o);if(!o.isMultiLine()&&"["==r&&(d(i),"]"==n.doc.getLine(o.start.row).substring(o.start.column+1,o.start.column+2)))return o.end.column++,o}),this.add("string_dquotes","insertion",function(e,t,i,n,o){var r=n.$mode.$quotes||u;if(1==o.length&&r[o]){if(this.lineCommentStart&&-1!=this.lineCommentStart.indexOf(o))return;d(i);var s=o,a=i.getSelectionRange(),l=n.doc.getTextRange(a);if(""!==l&&(1!=l.length||!r[l])&&i.getWrapBehavioursEnabled())return p(a,l,s,s);if(!l){var c=i.getCursorPosition(),h=n.doc.getLine(c.row),g=h.substring(c.column-1,c.column),f=h.substring(c.column,c.column+1),m=n.getTokenAt(c.row,c.column),_=n.getTokenAt(c.row,c.column+1);if("\\"==g&&m&&/escape/.test(m.type))return null;var v,y=m&&/string|escape/.test(m.type),b=!_||/string|escape/.test(_.type);if(f==s)(v=y!==b)&&/string\.end/.test(_.type)&&(v=!1);else{if(y&&!b||y&&b)return null;var w=n.$mode.tokenRe;w.lastIndex=0;var A=w.test(g);w.lastIndex=0;var x=w.test(g);if(A||x||f&&!/[\s;,.})\]\\]/.test(f))return null;var T=h[c.column-2];if(g==s&&(T==s||w.test(T)))return null;v=!0}return{text:v?s+s:"",selection:[1,1]}}}}),this.add("string_dquotes","deletion",function(e,t,i,n,o){var r=n.$mode.$quotes||u,s=n.doc.getTextRange(o);if(!o.isMultiLine()&&r.hasOwnProperty(s)&&(d(i),n.doc.getLine(o.start.row).substring(o.start.column+1,o.start.column+2)==s))return o.end.column++,o})};g.isSaneInsertion=function(e,t){var i=e.getCursorPosition(),n=new s(t,i.row,i.column);if(!this.$matchTokenType(n.getCurrentToken()||"text",l)){if(/[)}\]]/.test(e.session.getLine(i.row)[i.column]))return!0;var o=new s(t,i.row,i.column+1);if(!this.$matchTokenType(o.getCurrentToken()||"text",l))return!1}return n.stepForward(),n.getCurrentTokenRow()!==i.row||this.$matchTokenType(n.getCurrentToken()||"text",c)},g.$matchTokenType=function(e,t){return t.indexOf(e.type||e)>-1},g.recordAutoInsert=function(e,t,i){var o=e.getCursorPosition(),r=t.doc.getLine(o.row);this.isAutoInsertedClosing(o,r,n.autoInsertedLineEnd[0])||(n.autoInsertedBrackets=0),n.autoInsertedRow=o.row,n.autoInsertedLineEnd=i+r.substr(o.column),n.autoInsertedBrackets++},g.recordMaybeInsert=function(e,t,i){var o=e.getCursorPosition(),r=t.doc.getLine(o.row);this.isMaybeInsertedClosing(o,r)||(n.maybeInsertedBrackets=0),n.maybeInsertedRow=o.row,n.maybeInsertedLineStart=r.substr(0,o.column)+i,n.maybeInsertedLineEnd=r.substr(o.column),n.maybeInsertedBrackets++},g.isAutoInsertedClosing=function(e,t,i){return n.autoInsertedBrackets>0&&e.row===n.autoInsertedRow&&i===n.autoInsertedLineEnd[0]&&t.substr(e.column)===n.autoInsertedLineEnd},g.isMaybeInsertedClosing=function(e,t){return n.maybeInsertedBrackets>0&&e.row===n.maybeInsertedRow&&t.substr(e.column)===n.maybeInsertedLineEnd&&t.substr(0,e.column)==n.maybeInsertedLineStart},g.popAutoInsertedClosing=function(){n.autoInsertedLineEnd=n.autoInsertedLineEnd.substr(1),n.autoInsertedBrackets--},g.clearMaybeInsertedClosing=function(){n&&(n.maybeInsertedBrackets=0,n.maybeInsertedRow=-1)},o.inherits(g,r),t.CstyleBehaviour=g}),ace.define("ace/unicode",["require","exports","module"],function(e,t,i){"use strict";for(var n=[48,9,8,25,5,0,2,25,48,0,11,0,5,0,6,22,2,30,2,457,5,11,15,4,8,0,2,0,18,116,2,1,3,3,9,0,2,2,2,0,2,19,2,82,2,138,2,4,3,155,12,37,3,0,8,38,10,44,2,0,2,1,2,1,2,0,9,26,6,2,30,10,7,61,2,9,5,101,2,7,3,9,2,18,3,0,17,58,3,100,15,53,5,0,6,45,211,57,3,18,2,5,3,11,3,9,2,1,7,6,2,2,2,7,3,1,3,21,2,6,2,0,4,3,3,8,3,1,3,3,9,0,5,1,2,4,3,11,16,2,2,5,5,1,3,21,2,6,2,1,2,1,2,1,3,0,2,4,5,1,3,2,4,0,8,3,2,0,8,15,12,2,2,8,2,2,2,21,2,6,2,1,2,4,3,9,2,2,2,2,3,0,16,3,3,9,18,2,2,7,3,1,3,21,2,6,2,1,2,4,3,8,3,1,3,2,9,1,5,1,2,4,3,9,2,0,17,1,2,5,4,2,2,3,4,1,2,0,2,1,4,1,4,2,4,11,5,4,4,2,2,3,3,0,7,0,15,9,18,2,2,7,2,2,2,22,2,9,2,4,4,7,2,2,2,3,8,1,2,1,7,3,3,9,19,1,2,7,2,2,2,22,2,9,2,4,3,8,2,2,2,3,8,1,8,0,2,3,3,9,19,1,2,7,2,2,2,22,2,15,4,7,2,2,2,3,10,0,9,3,3,9,11,5,3,1,2,17,4,23,2,8,2,0,3,6,4,0,5,5,2,0,2,7,19,1,14,57,6,14,2,9,40,1,2,0,3,1,2,0,3,0,7,3,2,6,2,2,2,0,2,0,3,1,2,12,2,2,3,4,2,0,2,5,3,9,3,1,35,0,24,1,7,9,12,0,2,0,2,0,5,9,2,35,5,19,2,5,5,7,2,35,10,0,58,73,7,77,3,37,11,42,2,0,4,328,2,3,3,6,2,0,2,3,3,40,2,3,3,32,2,3,3,6,2,0,2,3,3,14,2,56,2,3,3,66,5,0,33,15,17,84,13,619,3,16,2,25,6,74,22,12,2,6,12,20,12,19,13,12,2,2,2,1,13,51,3,29,4,0,5,1,3,9,34,2,3,9,7,87,9,42,6,69,11,28,4,11,5,11,11,39,3,4,12,43,5,25,7,10,38,27,5,62,2,28,3,10,7,9,14,0,89,75,5,9,18,8,13,42,4,11,71,55,9,9,4,48,83,2,2,30,14,230,23,280,3,5,3,37,3,5,3,7,2,0,2,0,2,0,2,30,3,52,2,6,2,0,4,2,2,6,4,3,3,5,5,12,6,2,2,6,67,1,20,0,29,0,14,0,17,4,60,12,5,0,4,11,18,0,5,0,3,9,2,0,4,4,7,0,2,0,2,0,2,3,2,10,3,3,6,4,5,0,53,1,2684,46,2,46,2,132,7,6,15,37,11,53,10,0,17,22,10,6,2,6,2,6,2,6,2,6,2,6,2,6,2,6,2,31,48,0,470,1,36,5,2,4,6,1,5,85,3,1,3,2,2,89,2,3,6,40,4,93,18,23,57,15,513,6581,75,20939,53,1164,68,45,3,268,4,27,21,31,3,13,13,1,2,24,9,69,11,1,38,8,3,102,3,1,111,44,25,51,13,68,12,9,7,23,4,0,5,45,3,35,13,28,4,64,15,10,39,54,10,13,3,9,7,22,4,1,5,66,25,2,227,42,2,1,3,9,7,11171,13,22,5,48,8453,301,3,61,3,105,39,6,13,4,6,11,2,12,2,4,2,0,2,1,2,1,2,107,34,362,19,63,3,53,41,11,5,15,17,6,13,1,25,2,33,4,2,134,20,9,8,25,5,0,2,25,12,88,4,5,3,5,3,5,3,2],o=0,r=[],s=0;s<n.length;s+=2)r.push(o+=n[s]),n[s+1]&&r.push(45,o+=n[s+1]);t.wordChars=String.fromCharCode.apply(null,r)}),ace.define("ace/mode/text",["require","exports","module","ace/config","ace/tokenizer","ace/mode/text_highlight_rules","ace/mode/behaviour/cstyle","ace/unicode","ace/lib/lang","ace/token_iterator","ace/range"],function(e,t,i){"use strict";var n=e("../config"),o=e("../tokenizer").Tokenizer,r=e("./text_highlight_rules").TextHighlightRules,s=e("./behaviour/cstyle").CstyleBehaviour,a=e("../unicode"),l=e("../lib/lang"),c=e("../token_iterator").TokenIterator,h=e("../range").Range,u=function(){this.HighlightRules=r};(function(){this.$defaultBehaviour=new s,this.tokenRe=new RegExp("^["+a.wordChars+"\\$_]+","g"),this.nonTokenRe=new RegExp("^(?:[^"+a.wordChars+"\\$_]|\\s])+","g"),this.getTokenizer=function(){return this.$tokenizer||(this.$highlightRules=this.$highlightRules||new this.HighlightRules(this.$highlightRuleConfig),this.$tokenizer=new o(this.$highlightRules.getRules())),this.$tokenizer},this.lineCommentStart="",this.blockComment="",this.toggleCommentLines=function(e,t,i,n){var o=t.doc,r=!0,s=!0,a=1/0,c=t.getTabSize(),h=!1;if(this.lineCommentStart){if(Array.isArray(this.lineCommentStart))var u=this.lineCommentStart.map(l.escapeRegExp).join("|"),d=this.lineCommentStart[0];else u=l.escapeRegExp(this.lineCommentStart),d=this.lineCommentStart;u=new RegExp("^(\\s*)(?:"+u+") ?"),h=t.getUseSoftTabs();var p=function(e,t){var i=e.match(u);if(i){var n=i[1].length,r=i[0].length;!_(e,n,r)&&" "==i[0][r-1]&&r--,o.removeInLine(t,n,r)}},g=d+" ",f=function(e,t){(!r||/\S/.test(e))&&(_(e,a,a)?o.insertInLine({row:t,column:a},g):o.insertInLine({row:t,column:a},d))},m=function(e,t){return u.test(e)},_=function(e,t,i){for(var n=0;t--&&" "==e.charAt(t);)n++;if(n%c!=0)return!1;for(n=0;" "==e.charAt(i++);)n++;return c>2?n%c!=c-1:n%c==0}}else{if(!this.blockComment)return!1;d=this.blockComment.start;var v=this.blockComment.end,y=(u=new RegExp("^(\\s*)(?:"+l.escapeRegExp(d)+")"),new RegExp("(?:"+l.escapeRegExp(v)+")\\s*$"));f=function(e,t){m(e,t)||(!r||/\S/.test(e))&&(o.insertInLine({row:t,column:e.length},v),o.insertInLine({row:t,column:a},d))},p=function(e,t){var i;(i=e.match(y))&&o.removeInLine(t,e.length-i[0].length,e.length),(i=e.match(u))&&o.removeInLine(t,i[1].length,i[0].length)},m=function(e,i){if(u.test(e))return!0;for(var n=t.getTokens(i),o=0;o<n.length;o++)if("comment"===n[o].type)return!0}}function b(e){for(var t=i;t<=n;t++)e(o.getLine(t),t)}var w=1/0;b(function(e,t){var i=e.search(/\S/);-1!==i?(i<a&&(a=i),s&&!m(e,t)&&(s=!1)):w>e.length&&(w=e.length)}),a==1/0&&(a=w,r=!1,s=!1),h&&a%c!=0&&(a=Math.floor(a/c)*c),b(s?p:f)},this.toggleBlockComment=function(e,t,i,n){var o=this.blockComment;if(o){!o.start&&o[0]&&(o=o[0]);var r,s,a=(f=new c(t,n.row,n.column)).getCurrentToken(),l=t.selection.toOrientedRange();if(a&&/comment/.test(a.type)){for(var u,d;a&&/comment/.test(a.type);){if(-1!=(m=a.value.indexOf(o.start))){var p=f.getCurrentTokenRow(),g=f.getCurrentTokenColumn()+m;u=new h(p,g,p,g+o.start.length);break}a=f.stepBackward()}var f;for(a=(f=new c(t,n.row,n.column)).getCurrentToken();a&&/comment/.test(a.type);){var m;if(-1!=(m=a.value.indexOf(o.end))){p=f.getCurrentTokenRow(),g=f.getCurrentTokenColumn()+m,d=new h(p,g,p,g+o.end.length);break}a=f.stepForward()}d&&t.remove(d),u&&(t.remove(u),r=u.start.row,s=-o.start.length)}else s=o.start.length,r=i.start.row,t.insert(i.end,o.end),t.insert(i.start,o.start);l.start.row==r&&(l.start.column+=s),l.end.row==r&&(l.end.column+=s),t.selection.fromOrientedRange(l)}},this.getNextLineIndent=function(e,t,i){return this.$getIndent(t)},this.checkOutdent=function(e,t,i){return!1},this.autoOutdent=function(e,t,i){},this.$getIndent=function(e){return e.match(/^\s*/)[0]},this.createWorker=function(e){return null},this.createModeDelegates=function(e){for(var t in this.$embeds=[],this.$modes={},e)if(e[t]){var i=e[t],o=i.prototype.$id,r=n.$modes[o];r||(n.$modes[o]=r=new i),n.$modes[t]||(n.$modes[t]=r),this.$embeds.push(t),this.$modes[t]=r}var s=["toggleBlockComment","toggleCommentLines","getNextLineIndent","checkOutdent","autoOutdent","transformAction","getCompletions"];for(t=0;t<s.length;t++)!function(e){var i=s[t],n=e[i];e[s[t]]=function(){return this.$delegator(i,arguments,n)}}(this)},this.$delegator=function(e,t,i){var n=t[0]||"start";if("string"!=typeof n){if(Array.isArray(n[2])&&(r=this.$modes[n[2][n[2].length-1]]))return r[e].apply(r,[n[1]].concat([].slice.call(t,1)));n=n[0]||"start"}for(var o=0;o<this.$embeds.length;o++)if(this.$modes[this.$embeds[o]]){var r,s=n.split(this.$embeds[o]);if(!s[0]&&s[1])return t[0]=s[1],(r=this.$modes[this.$embeds[o]])[e].apply(r,t)}var a=i.apply(this,t);return i?a:void 0},this.transformAction=function(e,t,i,n,o){if(this.$behaviour){var r=this.$behaviour.getBehaviours();for(var s in r)if(r[s][t]){var a=r[s][t].apply(this,arguments);if(a)return a}}},this.getKeywords=function(e){if(!this.completionKeywords){var t=this.$tokenizer.rules,i=[];for(var n in t)for(var o=t[n],r=0,s=o.length;r<s;r++)if("string"==typeof o[r].token)/keyword|support|storage/.test(o[r].token)&&i.push(o[r].regex);else if("object"==typeof o[r].token)for(var a=0,l=o[r].token.length;a<l;a++)/keyword|support|storage/.test(o[r].token[a])&&(n=o[r].regex.match(/\(.+?\)/g)[a],i.push(n.substr(1,n.length-2)));this.completionKeywords=i}return e?i.concat(this.$keywordList||[]):this.$keywordList},this.$createKeywordList=function(){return this.$highlightRules||this.getTokenizer(),this.$keywordList=this.$highlightRules.$keywordList||[]},this.getCompletions=function(e,t,i,n){return(this.$keywordList||this.$createKeywordList()).map(function(e){return{name:e,value:e,score:0,meta:"keyword"}})},this.$id="ace/mode/text"}).call(u.prototype),t.Mode=u}),ace.define("ace/apply_delta",["require","exports","module"],function(e,t,i){"use strict";t.applyDelta=function(e,t,i){var n=t.start.row,o=t.start.column,r=e[n]||"";switch(t.action){case"insert":if(1===t.lines.length)e[n]=r.substring(0,o)+t.lines[0]+r.substring(o);else{var s=[n,1].concat(t.lines);e.splice.apply(e,s),e[n]=r.substring(0,o)+e[n],e[n+t.lines.length-1]+=r.substring(o)}break;case"remove":var a=t.end.column,l=t.end.row;n===l?e[n]=r.substring(0,o)+r.substring(a):e.splice(n,l-n+1,r.substring(0,o)+e[l].substring(a))}}}),ace.define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(e,t,i){"use strict";var n=e("./lib/oop"),o=e("./lib/event_emitter").EventEmitter,r=t.Anchor=function(e,t,i){this.$onChange=this.onChange.bind(this),this.attach(e),void 0===i?this.setPosition(t.row,t.column):this.setPosition(t,i)};(function(){function e(e,t,i){return e.row<t.row||e.row==t.row&&(i?e.column<=t.column:e.column<t.column)}n.implement(this,o),this.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},this.getDocument=function(){return this.document},this.$insertRight=!1,this.onChange=function(t){if(!(t.start.row==t.end.row&&t.start.row!=this.row||t.start.row>this.row)){var i=function(t,i,n){var o="insert"==t.action,r=(o?1:-1)*(t.end.row-t.start.row),s=(o?1:-1)*(t.end.column-t.start.column),a=t.start,l=o?a:t.end;return e(i,a,n)?{row:i.row,column:i.column}:e(l,i,!n)?{row:i.row+r,column:i.column+(i.row==l.row?s:0)}:{row:a.row,column:a.column}}(t,{row:this.row,column:this.column},this.$insertRight);this.setPosition(i.row,i.column,!0)}},this.setPosition=function(e,t,i){var n;if(n=i?{row:e,column:t}:this.$clipPositionToDocument(e,t),this.row!=n.row||this.column!=n.column){var o={row:this.row,column:this.column};this.row=n.row,this.column=n.column,this._signal("change",{old:o,value:n})}},this.detach=function(){this.document.off("change",this.$onChange)},this.attach=function(e){this.document=e||this.document,this.document.on("change",this.$onChange)},this.$clipPositionToDocument=function(e,t){var i={};return e>=this.document.getLength()?(i.row=Math.max(0,this.document.getLength()-1),i.column=this.document.getLine(i.row).length):e<0?(i.row=0,i.column=0):(i.row=e,i.column=Math.min(this.document.getLine(i.row).length,Math.max(0,t))),t<0&&(i.column=0),i}}).call(r.prototype)}),ace.define("ace/document",["require","exports","module","ace/lib/oop","ace/apply_delta","ace/lib/event_emitter","ace/range","ace/anchor"],function(e,t,i){"use strict";var n=e("./lib/oop"),o=e("./apply_delta").applyDelta,r=e("./lib/event_emitter").EventEmitter,s=e("./range").Range,a=e("./anchor").Anchor,l=function(e){this.$lines=[""],0===e.length?this.$lines=[""]:Array.isArray(e)?this.insertMergedLines({row:0,column:0},e):this.insert({row:0,column:0},e)};(function(){n.implement(this,r),this.setValue=function(e){var t=this.getLength()-1;this.remove(new s(0,0,t,this.getLine(t).length)),this.insert({row:0,column:0},e)},this.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},this.createAnchor=function(e,t){return new a(this,e,t)},this.$split=0==="aaa".split(/a/).length?function(e){return e.replace(/\r\n|\r/g,"\n").split("\n")}:function(e){return e.split(/\r\n|\r|\n/)},this.$detectNewLine=function(e){var t=e.match(/^.*?(\r\n|\r|\n)/m);this.$autoNewLine=t?t[1]:"\n",this._signal("changeNewLineMode")},this.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return"\r\n";case"unix":return"\n";default:return this.$autoNewLine||"\n"}},this.$autoNewLine="",this.$newLineMode="auto",this.setNewLineMode=function(e){this.$newLineMode!==e&&(this.$newLineMode=e,this._signal("changeNewLineMode"))},this.getNewLineMode=function(){return this.$newLineMode},this.isNewLine=function(e){return"\r\n"==e||"\r"==e||"\n"==e},this.getLine=function(e){return this.$lines[e]||""},this.getLines=function(e,t){return this.$lines.slice(e,t+1)},this.getAllLines=function(){return this.getLines(0,this.getLength())},this.getLength=function(){return this.$lines.length},this.getTextRange=function(e){return this.getLinesForRange(e).join(this.getNewLineCharacter())},this.getLinesForRange=function(e){var t;if(e.start.row===e.end.row)t=[this.getLine(e.start.row).substring(e.start.column,e.end.column)];else{(t=this.getLines(e.start.row,e.end.row))[0]=(t[0]||"").substring(e.start.column);var i=t.length-1;e.end.row-e.start.row==i&&(t[i]=t[i].substring(0,e.end.column))}return t},this.insertLines=function(e,t){return console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead."),this.insertFullLines(e,t)},this.removeLines=function(e,t){return console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead."),this.removeFullLines(e,t)},this.insertNewLine=function(e){return console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead."),this.insertMergedLines(e,["",""])},this.insert=function(e,t){return this.getLength()<=1&&this.$detectNewLine(t),this.insertMergedLines(e,this.$split(t))},this.insertInLine=function(e,t){var i=this.clippedPos(e.row,e.column),n=this.pos(e.row,e.column+t.length);return this.applyDelta({start:i,end:n,action:"insert",lines:[t]},!0),this.clonePos(n)},this.clippedPos=function(e,t){var i=this.getLength();void 0===e?e=i:e<0?e=0:e>=i&&(e=i-1,t=void 0);var n=this.getLine(e);return null==t&&(t=n.length),{row:e,column:t=Math.min(Math.max(t,0),n.length)}},this.clonePos=function(e){return{row:e.row,column:e.column}},this.pos=function(e,t){return{row:e,column:t}},this.$clipPosition=function(e){var t=this.getLength();return e.row>=t?(e.row=Math.max(0,t-1),e.column=this.getLine(t-1).length):(e.row=Math.max(0,e.row),e.column=Math.min(Math.max(e.column,0),this.getLine(e.row).length)),e},this.insertFullLines=function(e,t){var i=0;(e=Math.min(Math.max(e,0),this.getLength()))<this.getLength()?(t=t.concat([""]),i=0):(t=[""].concat(t),e--,i=this.$lines[e].length),this.insertMergedLines({row:e,column:i},t)},this.insertMergedLines=function(e,t){var i=this.clippedPos(e.row,e.column),n={row:i.row+t.length-1,column:(1==t.length?i.column:0)+t[t.length-1].length};return this.applyDelta({start:i,end:n,action:"insert",lines:t}),this.clonePos(n)},this.remove=function(e){var t=this.clippedPos(e.start.row,e.start.column),i=this.clippedPos(e.end.row,e.end.column);return this.applyDelta({start:t,end:i,action:"remove",lines:this.getLinesForRange({start:t,end:i})}),this.clonePos(t)},this.removeInLine=function(e,t,i){var n=this.clippedPos(e,t),o=this.clippedPos(e,i);return this.applyDelta({start:n,end:o,action:"remove",lines:this.getLinesForRange({start:n,end:o})},!0),this.clonePos(n)},this.removeFullLines=function(e,t){e=Math.min(Math.max(0,e),this.getLength()-1);var i=(t=Math.min(Math.max(0,t),this.getLength()-1))==this.getLength()-1&&e>0,n=t<this.getLength()-1,o=i?e-1:e,r=i?this.getLine(o).length:0,a=n?t+1:t,l=n?0:this.getLine(a).length,c=new s(o,r,a,l),h=this.$lines.slice(e,t+1);return this.applyDelta({start:c.start,end:c.end,action:"remove",lines:this.getLinesForRange(c)}),h},this.removeNewLine=function(e){e<this.getLength()-1&&e>=0&&this.applyDelta({start:this.pos(e,this.getLine(e).length),end:this.pos(e+1,0),action:"remove",lines:["",""]})},this.replace=function(e,t){return e instanceof s||(e=s.fromPoints(e.start,e.end)),0===t.length&&e.isEmpty()?e.start:t==this.getTextRange(e)?e.end:(this.remove(e),t?this.insert(e.start,t):e.start)},this.applyDeltas=function(e){for(var t=0;t<e.length;t++)this.applyDelta(e[t])},this.revertDeltas=function(e){for(var t=e.length-1;t>=0;t--)this.revertDelta(e[t])},this.applyDelta=function(e,t){var i="insert"==e.action;(i?e.lines.length<=1&&!e.lines[0]:!s.comparePoints(e.start,e.end))||(i&&e.lines.length>2e4?this.$splitAndapplyLargeDelta(e,2e4):(o(this.$lines,e,t),this._signal("change",e)))},this.$safeApplyDelta=function(e){var t=this.$lines.length;("remove"==e.action&&e.start.row<t&&e.end.row<t||"insert"==e.action&&e.start.row<=t)&&this.applyDelta(e)},this.$splitAndapplyLargeDelta=function(e,t){for(var i=e.lines,n=i.length-t+1,o=e.start.row,r=e.start.column,s=0,a=0;s<n;s=a){var l=i.slice(s,a+=t-1);l.push(""),this.applyDelta({start:this.pos(o+s,r),end:this.pos(o+a,r=0),action:e.action,lines:l},!0)}e.lines=i.slice(s),e.start.row=o+s,e.start.column=r,this.applyDelta(e,!0)},this.revertDelta=function(e){this.$safeApplyDelta({start:this.clonePos(e.start),end:this.clonePos(e.end),action:"insert"==e.action?"remove":"insert",lines:e.lines.slice()})},this.indexToPosition=function(e,t){for(var i=this.$lines||this.getAllLines(),n=this.getNewLineCharacter().length,o=t||0,r=i.length;o<r;o++)if((e-=i[o].length+n)<0)return{row:o,column:e+i[o].length+n};return{row:r-1,column:e+i[r-1].length+n}},this.positionToIndex=function(e,t){for(var i=this.$lines||this.getAllLines(),n=this.getNewLineCharacter().length,o=0,r=Math.min(e.row,i.length),s=t||0;s<r;++s)o+=i[s].length+n;return o+e.column}}).call(l.prototype),t.Document=l}),ace.define("ace/background_tokenizer",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(e,t,i){"use strict";var n=e("./lib/oop"),o=e("./lib/event_emitter").EventEmitter,r=function(e,t){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.tokenizer=e;var i=this;this.$worker=function(){if(i.running){for(var e=new Date,t=i.currentLine,n=-1,o=i.doc,r=t;i.lines[t];)t++;var s=o.getLength(),a=0;for(i.running=!1;t<s;){i.$tokenizeRow(t),n=t;do{t++}while(i.lines[t]);if(++a%5==0&&new Date-e>20){i.running=setTimeout(i.$worker,20);break}}i.currentLine=t,-1==n&&(n=t),r<=n&&i.fireUpdateEvent(r,n)}}};(function(){n.implement(this,o),this.setTokenizer=function(e){this.tokenizer=e,this.lines=[],this.states=[],this.start(0)},this.setDocument=function(e){this.doc=e,this.lines=[],this.states=[],this.stop()},this.fireUpdateEvent=function(e,t){this._signal("update",{data:{first:e,last:t}})},this.start=function(e){this.currentLine=Math.min(e||0,this.currentLine,this.doc.getLength()),this.lines.splice(this.currentLine,this.lines.length),this.states.splice(this.currentLine,this.states.length),this.stop(),this.running=setTimeout(this.$worker,700)},this.scheduleStart=function(){this.running||(this.running=setTimeout(this.$worker,700))},this.$updateOnChange=function(e){var t=e.start.row,i=e.end.row-t;if(0===i)this.lines[t]=null;else if("remove"==e.action)this.lines.splice(t,i+1,null),this.states.splice(t,i+1,null);else{var n=Array(i+1);n.unshift(t,1),this.lines.splice.apply(this.lines,n),this.states.splice.apply(this.states,n)}this.currentLine=Math.min(t,this.currentLine,this.doc.getLength()),this.stop()},this.stop=function(){this.running&&clearTimeout(this.running),this.running=!1},this.getTokens=function(e){return this.lines[e]||this.$tokenizeRow(e)},this.getState=function(e){return this.currentLine==e&&this.$tokenizeRow(e),this.states[e]||"start"},this.$tokenizeRow=function(e){var t=this.doc.getLine(e),i=this.tokenizer.getLineTokens(t,this.states[e-1],e);return this.states[e]+""!=i.state+""?(this.states[e]=i.state,this.lines[e+1]=null,this.currentLine>e+1&&(this.currentLine=e+1)):this.currentLine==e&&(this.currentLine=e+1),this.lines[e]=i.tokens}}).call(r.prototype),t.BackgroundTokenizer=r}),ace.define("ace/search_highlight",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],function(e,t,i){"use strict";var n=e("./lib/lang"),o=(e("./lib/oop"),e("./range").Range),r=function(e,t,i){this.setRegexp(e),this.clazz=t,this.type=i||"text"};(function(){this.MAX_RANGES=500,this.setRegexp=function(e){this.regExp+""!=e+""&&(this.regExp=e,this.cache=[])},this.update=function(e,t,i,r){if(this.regExp)for(var s=r.lastRow,a=r.firstRow;a<=s;a++){var l=this.cache[a];null==l&&((l=n.getMatchOffsets(i.getLine(a),this.regExp)).length>this.MAX_RANGES&&(l=l.slice(0,this.MAX_RANGES)),l=l.map(function(e){return new o(a,e.offset,a,e.offset+e.length)}),this.cache[a]=l.length?l:"");for(var c=l.length;c--;)t.drawSingleLineMarker(e,l[c].toScreenRange(i),this.clazz,r)}}}).call(r.prototype),t.SearchHighlight=r}),ace.define("ace/edit_session/fold_line",["require","exports","module","ace/range"],function(e,t,i){"use strict";var n=e("../range").Range;function o(e,t){this.foldData=e,Array.isArray(t)?this.folds=t:t=this.folds=[t];var i=t[t.length-1];this.range=new n(t[0].start.row,t[0].start.column,i.end.row,i.end.column),this.start=this.range.start,this.end=this.range.end,this.folds.forEach(function(e){e.setFoldLine(this)},this)}(function(){this.shiftRow=function(e){this.start.row+=e,this.end.row+=e,this.folds.forEach(function(t){t.start.row+=e,t.end.row+=e})},this.addFold=function(e){if(e.sameRow){if(e.start.row<this.startRow||e.endRow>this.endRow)throw new Error("Can't add a fold to this FoldLine as it has no connection");this.folds.push(e),this.folds.sort(function(e,t){return-e.range.compareEnd(t.start.row,t.start.column)}),this.range.compareEnd(e.start.row,e.start.column)>0?(this.end.row=e.end.row,this.end.column=e.end.column):this.range.compareStart(e.end.row,e.end.column)<0&&(this.start.row=e.start.row,this.start.column=e.start.column)}else if(e.start.row==this.end.row)this.folds.push(e),this.end.row=e.end.row,this.end.column=e.end.column;else{if(e.end.row!=this.start.row)throw new Error("Trying to add fold to FoldRow that doesn't have a matching row");this.folds.unshift(e),this.start.row=e.start.row,this.start.column=e.start.column}e.foldLine=this},this.containsRow=function(e){return e>=this.start.row&&e<=this.end.row},this.walk=function(e,t,i){var n,o,r=0,s=this.folds,a=!0;null==t&&(t=this.end.row,i=this.end.column);for(var l=0;l<s.length;l++){if(-1==(o=(n=s[l]).range.compareStart(t,i)))return void e(null,t,i,r,a);if(!e(null,n.start.row,n.start.column,r,a)&&e(n.placeholder,n.start.row,n.start.column,r)||0===o)return;a=!n.sameRow,r=n.end.column}e(null,t,i,r,a)},this.getNextFoldTo=function(e,t){for(var i,n,o=0;o<this.folds.length;o++){if(-1==(n=(i=this.folds[o]).range.compareEnd(e,t)))return{fold:i,kind:"after"};if(0===n)return{fold:i,kind:"inside"}}return null},this.addRemoveChars=function(e,t,i){var n,o,r=this.getNextFoldTo(e,t);if(r)if(n=r.fold,"inside"==r.kind&&n.start.column!=t&&n.start.row!=e)window.console&&window.console.log(e,t,n);else if(n.start.row==e){var s=(o=this.folds).indexOf(n);for(0===s&&(this.start.column+=i);s<o.length;s++){if((n=o[s]).start.column+=i,!n.sameRow)return;n.end.column+=i}this.end.column+=i}},this.split=function(e,t){var i=this.getNextFoldTo(e,t);if(!i||"inside"==i.kind)return null;var n=this.folds,r=this.foldData,s=n.indexOf(i.fold),a=n[s-1];this.end.row=a.end.row,this.end.column=a.end.column;var l=new o(r,n=n.splice(s,n.length-s));return r.splice(r.indexOf(this)+1,0,l),l},this.merge=function(e){for(var t=e.folds,i=0;i<t.length;i++)this.addFold(t[i]);var n=this.foldData;n.splice(n.indexOf(e),1)},this.toString=function(){var e=[this.range.toString()+": ["];return this.folds.forEach(function(t){e.push("  "+t.toString())}),e.push("]"),e.join("\n")},this.idxToPosition=function(e){for(var t=0,i=0;i<this.folds.length;i++){var n=this.folds[i];if((e-=n.start.column-t)<0)return{row:n.start.row,column:n.start.column+e};if((e-=n.placeholder.length)<0)return n.start;t=n.end.column}return{row:this.end.row,column:this.end.column+e}}}).call(o.prototype),t.FoldLine=o}),ace.define("ace/range_list",["require","exports","module","ace/range"],function(e,t,i){"use strict";var n=e("./range").Range.comparePoints,o=function(){this.ranges=[],this.$bias=1};(function(){this.comparePoints=n,this.pointIndex=function(e,t,i){for(var o=this.ranges,r=i||0;r<o.length;r++){var s=o[r],a=n(e,s.end);if(!(a>0)){var l=n(e,s.start);return 0===a?t&&0!==l?-r-2:r:l>0||0===l&&!t?r:-r-1}}return-r-1},this.add=function(e){var t=!e.isEmpty(),i=this.pointIndex(e.start,t);i<0&&(i=-i-1);var n=this.pointIndex(e.end,t,i);return n<0?n=-n-1:n++,this.ranges.splice(i,n-i,e)},this.addList=function(e){for(var t=[],i=e.length;i--;)t.push.apply(t,this.add(e[i]));return t},this.substractPoint=function(e){var t=this.pointIndex(e);if(t>=0)return this.ranges.splice(t,1)},this.merge=function(){for(var e,t=[],i=this.ranges,o=(i=i.sort(function(e,t){return n(e.start,t.start)}))[0],r=1;r<i.length;r++){var s=n((e=o).end,(o=i[r]).start);s<0||0==s&&!e.isEmpty()&&!o.isEmpty()||(n(e.end,o.end)<0&&(e.end.row=o.end.row,e.end.column=o.end.column),i.splice(r,1),t.push(o),o=e,r--)}return this.ranges=i,t},this.contains=function(e,t){return this.pointIndex({row:e,column:t})>=0},this.containsPoint=function(e){return this.pointIndex(e)>=0},this.rangeAtPoint=function(e){var t=this.pointIndex(e);if(t>=0)return this.ranges[t]},this.clipRows=function(e,t){var i=this.ranges;if(i[0].start.row>t||i[i.length-1].start.row<e)return[];var n=this.pointIndex({row:e,column:0});n<0&&(n=-n-1);var o=this.pointIndex({row:t,column:0},n);o<0&&(o=-o-1);for(var r=[],s=n;s<o;s++)r.push(i[s]);return r},this.removeAll=function(){return this.ranges.splice(0,this.ranges.length)},this.attach=function(e){this.session&&this.detach(),this.session=e,this.onChange=this.$onChange.bind(this),this.session.on("change",this.onChange)},this.detach=function(){!this.session||(this.session.removeListener("change",this.onChange),this.session=null)},this.$onChange=function(e){for(var t=e.start,i=e.end,n=t.row,o=i.row,r=this.ranges,s=0,a=r.length;s<a&&!((h=r[s]).end.row>=n);s++);if("insert"==e.action){for(var l=o-n,c=-t.column+i.column;s<a&&!((h=r[s]).start.row>n);s++)if(h.start.row==n&&h.start.column>=t.column&&(h.start.column==t.column&&this.$bias<=0||(h.start.column+=c,h.start.row+=l)),h.end.row==n&&h.end.column>=t.column){if(h.end.column==t.column&&this.$bias<0)continue;h.end.column==t.column&&c>0&&s<a-1&&h.end.column>h.start.column&&h.end.column==r[s+1].start.column&&(h.end.column-=c),h.end.column+=c,h.end.row+=l}}else for(l=n-o,c=t.column-i.column;s<a&&!((h=r[s]).start.row>o);s++)h.end.row<o&&(n<h.end.row||n==h.end.row&&t.column<h.end.column)?(h.end.row=n,h.end.column=t.column):h.end.row==o?h.end.column<=i.column?(l||h.end.column>t.column)&&(h.end.column=t.column,h.end.row=t.row):(h.end.column+=c,h.end.row+=l):h.end.row>o&&(h.end.row+=l),h.start.row<o&&(n<h.start.row||n==h.start.row&&t.column<h.start.column)?(h.start.row=n,h.start.column=t.column):h.start.row==o?h.start.column<=i.column?(l||h.start.column>t.column)&&(h.start.column=t.column,h.start.row=t.row):(h.start.column+=c,h.start.row+=l):h.start.row>o&&(h.start.row+=l);if(0!=l&&s<a)for(;s<a;s++){var h;(h=r[s]).start.row+=l,h.end.row+=l}}}).call(o.prototype),t.RangeList=o}),ace.define("ace/edit_session/fold",["require","exports","module","ace/range_list","ace/lib/oop"],function(e,t,i){"use strict";var n=e("../range_list").RangeList,o=e("../lib/oop"),r=t.Fold=function(e,t){this.foldLine=null,this.placeholder=t,this.range=e,this.start=e.start,this.end=e.end,this.sameRow=e.start.row==e.end.row,this.subFolds=this.ranges=[]};function s(e,t){e.row-=t.row,0==e.row&&(e.column-=t.column)}function a(e,t){0==e.row&&(e.column+=t.column),e.row+=t.row}o.inherits(r,n),(function(){this.toString=function(){return'"'+this.placeholder+'" '+this.range.toString()},this.setFoldLine=function(e){this.foldLine=e,this.subFolds.forEach(function(t){t.setFoldLine(e)})},this.clone=function(){var e=this.range.clone(),t=new r(e,this.placeholder);return this.subFolds.forEach(function(e){t.subFolds.push(e.clone())}),t.collapseChildren=this.collapseChildren,t},this.addSubFold=function(e){if(!this.range.isEqual(e)){!function(e,t){s(e.start,t),s(e.end,t)}(e,this.start);for(var t=e.start.row,i=e.start.column,n=0,o=-1;n<this.subFolds.length&&1==(o=this.subFolds[n].range.compare(t,i));n++);var r=this.subFolds[n],a=0;if(0==o){if(r.range.containsRange(e))return r.addSubFold(e);a=1}t=e.range.end.row,i=e.range.end.column;var l=n;for(o=-1;l<this.subFolds.length&&1==(o=this.subFolds[l].range.compare(t,i));l++);0==o&&l++;for(var c=this.subFolds.splice(n,l-n,e),h=0==o?c.length-1:c.length,u=a;u<h;u++)e.addSubFold(c[u]);return e.setFoldLine(this.foldLine),e}},this.restoreRange=function(e){return function(e,t){a(e.start,t),a(e.end,t)}(e,this.start)}}).call(r.prototype)}),ace.define("ace/edit_session/folding",["require","exports","module","ace/range","ace/edit_session/fold_line","ace/edit_session/fold","ace/token_iterator"],function(e,t,i){"use strict";var n=e("../range").Range,o=e("./fold_line").FoldLine,r=e("./fold").Fold,s=e("../token_iterator").TokenIterator;t.Folding=function(){this.getFoldAt=function(e,t,i){var n=this.getFoldLine(e);if(!n)return null;for(var o=n.folds,r=0;r<o.length;r++){var s=o[r].range;if(s.contains(e,t)){if(1==i&&s.isEnd(e,t)&&!s.isEmpty())continue;if(-1==i&&s.isStart(e,t)&&!s.isEmpty())continue;return o[r]}}},this.getFoldsInRange=function(e){var t=e.start,i=e.end,n=this.$foldData,o=[];t.column+=1,i.column-=1;for(var r=0;r<n.length;r++){var s=n[r].range.compareRange(e);if(2!=s){if(-2==s)break;for(var a=n[r].folds,l=0;l<a.length;l++){var c=a[l];if(-2==(s=c.range.compareRange(e)))break;if(2!=s){if(42==s)break;o.push(c)}}}}return t.column-=1,i.column+=1,o},this.getFoldsInRangeList=function(e){if(Array.isArray(e)){var t=[];e.forEach(function(e){t=t.concat(this.getFoldsInRange(e))},this)}else t=this.getFoldsInRange(e);return t},this.getAllFolds=function(){for(var e=[],t=this.$foldData,i=0;i<t.length;i++)for(var n=0;n<t[i].folds.length;n++)e.push(t[i].folds[n]);return e},this.getFoldStringAt=function(e,t,i,n){if(!(n=n||this.getFoldLine(e)))return null;for(var o,r,s={end:{column:0}},a=0;a<n.folds.length;a++){var l=(r=n.folds[a]).range.compareEnd(e,t);if(-1==l){o=this.getLine(r.start.row).substring(s.end.column,r.start.column);break}if(0===l)return null;s=r}return o||(o=this.getLine(r.start.row).substring(s.end.column)),-1==i?o.substring(0,t-s.end.column):1==i?o.substring(t-s.end.column):o},this.getFoldLine=function(e,t){var i=this.$foldData,n=0;for(t&&(n=i.indexOf(t)),-1==n&&(n=0);n<i.length;n++){var o=i[n];if(o.start.row<=e&&o.end.row>=e)return o;if(o.end.row>e)return null}return null},this.getNextFoldLine=function(e,t){var i=this.$foldData,n=0;for(t&&(n=i.indexOf(t)),-1==n&&(n=0);n<i.length;n++){var o=i[n];if(o.end.row>=e)return o}return null},this.getFoldedRowCount=function(e,t){for(var i=this.$foldData,n=t-e+1,o=0;o<i.length;o++){var r=i[o],s=r.end.row,a=r.start.row;if(s>=t){a<t&&(a>=e?n-=t-a:n=0);break}s>=e&&(n-=a>=e?s-a:s-e+1)}return n},this.$addFoldLine=function(e){return this.$foldData.push(e),this.$foldData.sort(function(e,t){return e.start.row-t.start.row}),e},this.addFold=function(e,t){var i,n=this.$foldData,s=!1;e instanceof r?i=e:(i=new r(t,e)).collapseChildren=t.collapseChildren,this.$clipRangeToDocument(i.range);var a=i.start.row,l=i.start.column,c=i.end.row,h=i.end.column,u=this.getFoldAt(a,l,1),d=this.getFoldAt(c,h,-1);if(u&&d==u)return u.addSubFold(i);u&&!u.range.isStart(a,l)&&this.removeFold(u),d&&!d.range.isEnd(c,h)&&this.removeFold(d);var p=this.getFoldsInRange(i.range);p.length>0&&(this.removeFolds(p),i.collapseChildren||p.forEach(function(e){i.addSubFold(e)}));for(var g=0;g<n.length;g++){var f=n[g];if(c==f.start.row){f.addFold(i),s=!0;break}if(a==f.end.row){if(f.addFold(i),s=!0,!i.sameRow){var m=n[g+1];if(m&&m.start.row==c){f.merge(m);break}}break}if(c<=f.start.row)break}return s||(f=this.$addFoldLine(new o(this.$foldData,i))),this.$useWrapMode?this.$updateWrapData(f.start.row,f.start.row):this.$updateRowLengthCache(f.start.row,f.start.row),this.$modified=!0,this._signal("changeFold",{data:i,action:"add"}),i},this.addFolds=function(e){e.forEach(function(e){this.addFold(e)},this)},this.removeFold=function(e){var t=e.foldLine,i=t.start.row,n=t.end.row,o=this.$foldData,r=t.folds;if(1==r.length)o.splice(o.indexOf(t),1);else if(t.range.isEnd(e.end.row,e.end.column))r.pop(),t.end.row=r[r.length-1].end.row,t.end.column=r[r.length-1].end.column;else if(t.range.isStart(e.start.row,e.start.column))r.shift(),t.start.row=r[0].start.row,t.start.column=r[0].start.column;else if(e.sameRow)r.splice(r.indexOf(e),1);else{var s=t.split(e.start.row,e.start.column);(r=s.folds).shift(),s.start.row=r[0].start.row,s.start.column=r[0].start.column}this.$updating||(this.$useWrapMode?this.$updateWrapData(i,n):this.$updateRowLengthCache(i,n)),this.$modified=!0,this._signal("changeFold",{data:e,action:"remove"})},this.removeFolds=function(e){for(var t=[],i=0;i<e.length;i++)t.push(e[i]);t.forEach(function(e){this.removeFold(e)},this),this.$modified=!0},this.expandFold=function(e){this.removeFold(e),e.subFolds.forEach(function(t){e.restoreRange(t),this.addFold(t)},this),e.collapseChildren>0&&this.foldAll(e.start.row+1,e.end.row,e.collapseChildren-1),e.subFolds=[]},this.expandFolds=function(e){e.forEach(function(e){this.expandFold(e)},this)},this.unfold=function(e,t){var i,o;if(null==e)i=new n(0,0,this.getLength(),0),null==t&&(t=!0);else if("number"==typeof e)i=new n(e,0,e,this.getLine(e).length);else if("row"in e)i=n.fromPoints(e,e);else{if(Array.isArray(e))return o=[],e.forEach(function(e){o=o.concat(this.unfold(e))},this),o;i=e}for(var r=o=this.getFoldsInRangeList(i);1==o.length&&n.comparePoints(o[0].start,i.start)<0&&n.comparePoints(o[0].end,i.end)>0;)this.expandFolds(o),o=this.getFoldsInRangeList(i);if(0!=t?this.removeFolds(o):this.expandFolds(o),r.length)return r},this.isRowFolded=function(e,t){return!!this.getFoldLine(e,t)},this.getRowFoldEnd=function(e,t){var i=this.getFoldLine(e,t);return i?i.end.row:e},this.getRowFoldStart=function(e,t){var i=this.getFoldLine(e,t);return i?i.start.row:e},this.getFoldDisplayLine=function(e,t,i,n,o){null==n&&(n=e.start.row),null==o&&(o=0),null==t&&(t=e.end.row),null==i&&(i=this.getLine(t).length);var r=this.doc,s="";return e.walk(function(e,t,i,a){if(!(t<n)){if(t==n){if(i<o)return;a=Math.max(o,a)}s+=null!=e?e:r.getLine(t).substring(a,i)}},t,i),s},this.getDisplayLine=function(e,t,i,n){var o,r=this.getFoldLine(e);return r?this.getFoldDisplayLine(r,e,t,i,n):(o=this.doc.getLine(e)).substring(n||0,t||o.length)},this.$cloneFoldData=function(){var e=[];return e=this.$foldData.map(function(t){var i=t.folds.map(function(e){return e.clone()});return new o(e,i)})},this.toggleFold=function(e){var t,i,n=this.selection.getRange();if(n.isEmpty()){var o=n.start;if(t=this.getFoldAt(o.row,o.column))return void this.expandFold(t);(i=this.findMatchingBracket(o))?1==n.comparePoint(i)?n.end=i:(n.start=i,n.start.column++,n.end.column--):(i=this.findMatchingBracket({row:o.row,column:o.column+1}))?(1==n.comparePoint(i)?n.end=i:n.start=i,n.start.column++):n=this.getCommentFoldRange(o.row,o.column)||n}else{var r=this.getFoldsInRange(n);if(e&&r.length)return void this.expandFolds(r);1==r.length&&(t=r[0])}if(t||(t=this.getFoldAt(n.start.row,n.start.column)),t&&t.range.toString()==n.toString())this.expandFold(t);else{var s="...";if(!n.isMultiLine()){if((s=this.getTextRange(n)).length<4)return;s=s.trim().substring(0,2)+".."}this.addFold(s,n)}},this.getCommentFoldRange=function(e,t,i){var o=new s(this,e,t),r=o.getCurrentToken(),a=r&&r.type;if(r&&/^comment|string/.test(a)){"comment"==(a=a.match(/comment|string/)[0])&&(a+="|doc-start");var l=new RegExp(a),c=new n;if(1!=i){do{r=o.stepBackward()}while(r&&l.test(r.type));o.stepForward()}if(c.start.row=o.getCurrentTokenRow(),c.start.column=o.getCurrentTokenColumn()+2,o=new s(this,e,t),-1!=i){var h=-1;do{if(r=o.stepForward(),-1==h){var u=this.getState(o.$row);l.test(u)||(h=o.$row)}else if(o.$row>h)break}while(r&&l.test(r.type));r=o.stepBackward()}else r=o.getCurrentToken();return c.end.row=o.getCurrentTokenRow(),c.end.column=o.getCurrentTokenColumn()+r.value.length-2,c}},this.foldAll=function(e,t,i,n){null==i&&(i=1e5);var o=this.foldWidgets;if(o){t=t||this.getLength();for(var r=e=e||0;r<t;r++)if(null==o[r]&&(o[r]=this.getFoldWidget(r)),"start"==o[r]&&(!n||n(r))){var s=this.getFoldWidgetRange(r);s&&s.isMultiLine()&&s.end.row<=t&&s.start.row>=e&&(r=s.end.row,s.collapseChildren=i,this.addFold("...",s))}}},this.foldToLevel=function(e){for(this.foldAll();e-- >0;)this.unfold(null,!1)},this.foldAllComments=function(){var e=this;this.foldAll(null,null,null,function(t){for(var i=e.getTokens(t),n=0;n<i.length;n++){var o=i[n];if("text"!=o.type||!/^\s+$/.test(o.value))return!!/comment/.test(o.type)}})},this.$foldStyles={manual:1,markbegin:1,markbeginend:1},this.$foldStyle="markbegin",this.setFoldStyle=function(e){if(!this.$foldStyles[e])throw new Error("invalid fold style: "+e+"["+Object.keys(this.$foldStyles).join(", ")+"]");if(this.$foldStyle!=e){this.$foldStyle=e,"manual"==e&&this.unfold();var t=this.$foldMode;this.$setFolding(null),this.$setFolding(t)}},this.$setFolding=function(e){if(this.$foldMode!=e){if(this.$foldMode=e,this.off("change",this.$updateFoldWidgets),this.off("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets),this._signal("changeAnnotation"),!e||"manual"==this.$foldStyle)return void(this.foldWidgets=null);this.foldWidgets=[],this.getFoldWidget=e.getFoldWidget.bind(e,this,this.$foldStyle),this.getFoldWidgetRange=e.getFoldWidgetRange.bind(e,this,this.$foldStyle),this.$updateFoldWidgets=this.updateFoldWidgets.bind(this),this.$tokenizerUpdateFoldWidgets=this.tokenizerUpdateFoldWidgets.bind(this),this.on("change",this.$updateFoldWidgets),this.on("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets)}},this.getParentFoldRangeData=function(e,t){var i=this.foldWidgets;if(!i||t&&i[e])return{};for(var n,o=e-1;o>=0;){var r=i[o];if(null==r&&(r=i[o]=this.getFoldWidget(o)),"start"==r){var s=this.getFoldWidgetRange(o);if(n||(n=s),s&&s.end.row>=e)break}o--}return{range:-1!==o&&s,firstRange:n}},this.onFoldWidgetClick=function(e,t){if(!this.$toggleFoldWidget(e,{children:(t=t.domEvent).shiftKey,all:t.ctrlKey||t.metaKey,siblings:t.altKey})){var i=t.target||t.srcElement;i&&/ace_fold-widget/.test(i.className)&&(i.className+=" ace_invalid")}},this.$toggleFoldWidget=function(e,t){if(this.getFoldWidget){var i=this.getFoldWidget(e),n=this.getLine(e),o="end"===i?-1:1,r=this.getFoldAt(e,-1===o?0:n.length,o);if(r)return t.children||t.all?this.removeFold(r):this.expandFold(r),r;var s=this.getFoldWidgetRange(e,!0);if(s&&!s.isMultiLine()&&(r=this.getFoldAt(s.start.row,s.start.column,1))&&s.isEqual(r.range))return this.removeFold(r),r;if(t.siblings){var a=this.getParentFoldRangeData(e);if(a.range)var l=a.range.start.row+1,c=a.range.end.row;this.foldAll(l,c,t.all?1e4:0)}else t.children?(c=s?s.end.row:this.getLength(),this.foldAll(e+1,c,t.all?1e4:0)):s&&(t.all&&(s.collapseChildren=1e4),this.addFold("...",s));return s}},this.toggleFoldWidget=function(e){var t=this.selection.getCursor().row;t=this.getRowFoldStart(t);var i=this.$toggleFoldWidget(t,{});if(!i){var n=this.getParentFoldRangeData(t,!0);if(i=n.range||n.firstRange){var o=this.getFoldAt(t=i.start.row,this.getLine(t).length,1);o?this.removeFold(o):this.addFold("...",i)}}},this.updateFoldWidgets=function(e){var t=e.start.row,i=e.end.row-t;if(0===i)this.foldWidgets[t]=null;else if("remove"==e.action)this.foldWidgets.splice(t,i+1,null);else{var n=Array(i+1);n.unshift(t,1),this.foldWidgets.splice.apply(this.foldWidgets,n)}},this.tokenizerUpdateFoldWidgets=function(e){var t=e.data;t.first!=t.last&&this.foldWidgets.length>t.first&&this.foldWidgets.splice(t.first,this.foldWidgets.length)}}}),ace.define("ace/edit_session/bracket_match",["require","exports","module","ace/token_iterator","ace/range"],function(e,t,i){"use strict";var n=e("../token_iterator").TokenIterator,o=e("../range").Range;t.BracketMatch=function(){this.findMatchingBracket=function(e,t){if(0==e.column)return null;var i=t||this.getLine(e.row).charAt(e.column-1);if(""==i)return null;var n=i.match(/([\(\[\{])|([\)\]\}])/);return n?n[1]?this.$findClosingBracket(n[1],e):this.$findOpeningBracket(n[2],e):null},this.getBracketRange=function(e){var t,i=this.getLine(e.row),n=!0,r=i.charAt(e.column-1),s=r&&r.match(/([\(\[\{])|([\)\]\}])/);if(s||(r=i.charAt(e.column),e={row:e.row,column:e.column+1},s=r&&r.match(/([\(\[\{])|([\)\]\}])/),n=!1),!s)return null;if(s[1]){if(!(a=this.$findClosingBracket(s[1],e)))return null;t=o.fromPoints(e,a),n||(t.end.column++,t.start.column--),t.cursor=t.end}else{var a;if(!(a=this.$findOpeningBracket(s[2],e)))return null;t=o.fromPoints(a,e),n||(t.start.column++,t.end.column--),t.cursor=t.start}return t},this.getMatchingBracketRanges=function(e){var t=this.getLine(e.row),i=t.charAt(e.column-1),n=i&&i.match(/([\(\[\{])|([\)\]\}])/);if(n||(i=t.charAt(e.column),e={row:e.row,column:e.column+1},n=i&&i.match(/([\(\[\{])|([\)\]\}])/)),!n)return null;var r=new o(e.row,e.column-1,e.row,e.column),s=n[1]?this.$findClosingBracket(n[1],e):this.$findOpeningBracket(n[2],e);return s?[r,new o(s.row,s.column,s.row,s.column+1)]:[r]},this.$brackets={")":"(","(":")","]":"[","[":"]","{":"}","}":"{","<":">",">":"<"},this.$findOpeningBracket=function(e,t,i){var o=this.$brackets[e],r=1,s=new n(this,t.row,t.column),a=s.getCurrentToken();if(a||(a=s.stepForward()),a){i||(i=new RegExp("(\\.?"+a.type.replace(".","\\.").replace("rparen",".paren").replace(/\b(?:end)\b/,"(?:start|begin|end)")+")+"));for(var l=t.column-s.getCurrentTokenColumn()-2,c=a.value;;){for(;l>=0;){var h=c.charAt(l);if(h==o){if(0==(r-=1))return{row:s.getCurrentTokenRow(),column:l+s.getCurrentTokenColumn()}}else h==e&&(r+=1);l-=1}do{a=s.stepBackward()}while(a&&!i.test(a.type));if(null==a)break;l=(c=a.value).length-1}return null}},this.$findClosingBracket=function(e,t,i){var o=this.$brackets[e],r=1,s=new n(this,t.row,t.column),a=s.getCurrentToken();if(a||(a=s.stepForward()),a){i||(i=new RegExp("(\\.?"+a.type.replace(".","\\.").replace("lparen",".paren").replace(/\b(?:start|begin)\b/,"(?:start|begin|end)")+")+"));for(var l=t.column-s.getCurrentTokenColumn();;){for(var c=a.value,h=c.length;l<h;){var u=c.charAt(l);if(u==o){if(0==(r-=1))return{row:s.getCurrentTokenRow(),column:l+s.getCurrentTokenColumn()}}else u==e&&(r+=1);l+=1}do{a=s.stepForward()}while(a&&!i.test(a.type));if(null==a)break;l=0}return null}}}}),ace.define("ace/edit_session",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/bidihandler","ace/config","ace/lib/event_emitter","ace/selection","ace/mode/text","ace/range","ace/document","ace/background_tokenizer","ace/search_highlight","ace/edit_session/folding","ace/edit_session/bracket_match"],function(e,t,i){"use strict";var n=e("./lib/oop"),o=e("./lib/lang"),r=e("./bidihandler").BidiHandler,s=e("./config"),a=e("./lib/event_emitter").EventEmitter,l=e("./selection").Selection,c=e("./mode/text").Mode,h=e("./range").Range,u=e("./document").Document,d=e("./background_tokenizer").BackgroundTokenizer,p=e("./search_highlight").SearchHighlight,g=function(e,t){this.$breakpoints=[],this.$decorations=[],this.$frontMarkers={},this.$backMarkers={},this.$markerId=1,this.$undoSelect=!0,this.$foldData=[],this.id="session"+ ++g.$uid,this.$foldData.toString=function(){return this.join("\n")},this.on("changeFold",this.onChangeFold.bind(this)),this.$onChange=this.onChange.bind(this),("object"!=typeof e||!e.getLine)&&(e=new u(e)),this.setDocument(e),this.selection=new l(this),this.$bidiHandler=new r(this),s.resetOptions(this),this.setMode(t),s._signal("session",this)};g.$uid=0,(function(){n.implement(this,a),this.setDocument=function(e){this.doc&&this.doc.off("change",this.$onChange),this.doc=e,e.on("change",this.$onChange),this.bgTokenizer&&this.bgTokenizer.setDocument(this.getDocument()),this.resetCaches()},this.getDocument=function(){return this.doc},this.$resetRowCache=function(e){if(!e)return this.$docRowCache=[],void(this.$screenRowCache=[]);var t=this.$docRowCache.length,i=this.$getRowCacheIndex(this.$docRowCache,e)+1;t>i&&(this.$docRowCache.splice(i,t),this.$screenRowCache.splice(i,t))},this.$getRowCacheIndex=function(e,t){for(var i=0,n=e.length-1;i<=n;){var o=i+n>>1,r=e[o];if(t>r)i=o+1;else{if(!(t<r))return o;n=o-1}}return i-1},this.resetCaches=function(){this.$modified=!0,this.$wrapData=[],this.$rowLengthCache=[],this.$resetRowCache(0),this.bgTokenizer&&this.bgTokenizer.start(0)},this.onChangeFold=function(e){this.$resetRowCache(e.data.start.row)},this.onChange=function(e){this.$modified=!0,this.$bidiHandler.onChange(e),this.$resetRowCache(e.start.row);var t=this.$updateInternalDataOnChange(e);!this.$fromUndo&&this.$undoManager&&(t&&t.length&&(this.$undoManager.add({action:"removeFolds",folds:t},this.mergeUndoDeltas),this.mergeUndoDeltas=!0),this.$undoManager.add(e,this.mergeUndoDeltas),this.mergeUndoDeltas=!0,this.$informUndoManager.schedule()),this.bgTokenizer&&this.bgTokenizer.$updateOnChange(e),this._signal("change",e)},this.setValue=function(e){this.doc.setValue(e),this.selection.moveTo(0,0),this.$resetRowCache(0),this.setUndoManager(this.$undoManager),this.getUndoManager().reset()},this.getValue=this.toString=function(){return this.doc.getValue()},this.getSelection=function(){return this.selection},this.getState=function(e){return this.bgTokenizer.getState(e)},this.getTokens=function(e){return this.bgTokenizer.getTokens(e)},this.getTokenAt=function(e,t){var i,n=this.bgTokenizer.getTokens(e),o=0;if(null==t){var r=n.length-1;o=this.getLine(e).length}else for(r=0;r<n.length&&!((o+=n[r].value.length)>=t);r++);return(i=n[r])?(i.index=r,i.start=o-i.value.length,i):null},this.setUndoManager=function(e){if(this.$undoManager=e,this.$informUndoManager&&this.$informUndoManager.cancel(),e){var t=this;e.addSession(this),this.$syncInformUndoManager=function(){t.$informUndoManager.cancel(),t.mergeUndoDeltas=!1},this.$informUndoManager=o.delayedCall(this.$syncInformUndoManager)}else this.$syncInformUndoManager=function(){}},this.markUndoGroup=function(){this.$syncInformUndoManager&&this.$syncInformUndoManager()},this.$defaultUndoManager={undo:function(){},redo:function(){},hasUndo:function(){},hasRedo:function(){},reset:function(){},add:function(){},addSelection:function(){},startNewGroup:function(){},addSession:function(){}},this.getUndoManager=function(){return this.$undoManager||this.$defaultUndoManager},this.getTabString=function(){return this.getUseSoftTabs()?o.stringRepeat(" ",this.getTabSize()):"\t"},this.setUseSoftTabs=function(e){this.setOption("useSoftTabs",e)},this.getUseSoftTabs=function(){return this.$useSoftTabs&&!this.$mode.$indentWithTabs},this.setTabSize=function(e){this.setOption("tabSize",e)},this.getTabSize=function(){return this.$tabSize},this.isTabStop=function(e){return this.$useSoftTabs&&e.column%this.$tabSize==0},this.setNavigateWithinSoftTabs=function(e){this.setOption("navigateWithinSoftTabs",e)},this.getNavigateWithinSoftTabs=function(){return this.$navigateWithinSoftTabs},this.$overwrite=!1,this.setOverwrite=function(e){this.setOption("overwrite",e)},this.getOverwrite=function(){return this.$overwrite},this.toggleOverwrite=function(){this.setOverwrite(!this.$overwrite)},this.addGutterDecoration=function(e,t){this.$decorations[e]||(this.$decorations[e]=""),this.$decorations[e]+=" "+t,this._signal("changeBreakpoint",{})},this.removeGutterDecoration=function(e,t){this.$decorations[e]=(this.$decorations[e]||"").replace(" "+t,""),this._signal("changeBreakpoint",{})},this.getBreakpoints=function(){return this.$breakpoints},this.setBreakpoints=function(e){this.$breakpoints=[];for(var t=0;t<e.length;t++)this.$breakpoints[e[t]]="ace_breakpoint";this._signal("changeBreakpoint",{})},this.clearBreakpoints=function(){this.$breakpoints=[],this._signal("changeBreakpoint",{})},this.setBreakpoint=function(e,t){void 0===t&&(t="ace_breakpoint"),t?this.$breakpoints[e]=t:delete this.$breakpoints[e],this._signal("changeBreakpoint",{})},this.clearBreakpoint=function(e){delete this.$breakpoints[e],this._signal("changeBreakpoint",{})},this.addMarker=function(e,t,i,n){var o=this.$markerId++,r={range:e,type:i||"line",renderer:"function"==typeof i?i:null,clazz:t,inFront:!!n,id:o};return n?(this.$frontMarkers[o]=r,this._signal("changeFrontMarker")):(this.$backMarkers[o]=r,this._signal("changeBackMarker")),o},this.addDynamicMarker=function(e,t){if(e.update){var i=this.$markerId++;return e.id=i,e.inFront=!!t,t?(this.$frontMarkers[i]=e,this._signal("changeFrontMarker")):(this.$backMarkers[i]=e,this._signal("changeBackMarker")),e}},this.removeMarker=function(e){var t=this.$frontMarkers[e]||this.$backMarkers[e];t&&(delete(t.inFront?this.$frontMarkers:this.$backMarkers)[e],this._signal(t.inFront?"changeFrontMarker":"changeBackMarker"))},this.getMarkers=function(e){return e?this.$frontMarkers:this.$backMarkers},this.highlight=function(e){if(!this.$searchHighlight){var t=new p(null,"ace_selected-word","text");this.$searchHighlight=this.addDynamicMarker(t)}this.$searchHighlight.setRegexp(e)},this.highlightLines=function(e,t,i,n){"number"!=typeof t&&(i=t,t=e),i||(i="ace_step");var o=new h(e,0,t,1/0);return o.id=this.addMarker(o,i,"fullLine",n),o},this.setAnnotations=function(e){this.$annotations=e,this._signal("changeAnnotation",{})},this.getAnnotations=function(){return this.$annotations||[]},this.clearAnnotations=function(){this.setAnnotations([])},this.$detectNewLine=function(e){var t=e.match(/^.*?(\r?\n)/m);this.$autoNewLine=t?t[1]:"\n"},this.getWordRange=function(e,t){var i=this.getLine(e),n=!1;if(t>0&&(n=!!i.charAt(t-1).match(this.tokenRe)),n||(n=!!i.charAt(t).match(this.tokenRe)),n)var o=this.tokenRe;else o=/^\s+$/.test(i.slice(t-1,t+1))?/\s/:this.nonTokenRe;var r=t;if(r>0){do{r--}while(r>=0&&i.charAt(r).match(o));r++}for(var s=t;s<i.length&&i.charAt(s).match(o);)s++;return new h(e,r,e,s)},this.getAWordRange=function(e,t){for(var i=this.getWordRange(e,t),n=this.getLine(i.end.row);n.charAt(i.end.column).match(/[ \t]/);)i.end.column+=1;return i},this.setNewLineMode=function(e){this.doc.setNewLineMode(e)},this.getNewLineMode=function(){return this.doc.getNewLineMode()},this.setUseWorker=function(e){this.setOption("useWorker",e)},this.getUseWorker=function(){return this.$useWorker},this.onReloadTokenizer=function(e){this.bgTokenizer.start(e.data.first),this._signal("tokenizerUpdate",e)},this.$modes=s.$modes,this.$mode=null,this.$modeId=null,this.setMode=function(e,t){if(e&&"object"==typeof e){if(e.getTokenizer)return this.$onChangeMode(e);var i=e,n=e.path}else n=e||"ace/mode/text";if(this.$modes["ace/mode/text"]||(this.$modes["ace/mode/text"]=new c),this.$modes[n]&&!i)return this.$onChangeMode(this.$modes[n]),void(t&&t());this.$modeId=n,s.loadModule(["mode",n],(function(e){if(this.$modeId!==n)return t&&t();this.$modes[n]&&!i?this.$onChangeMode(this.$modes[n]):e&&e.Mode&&(e=new e.Mode(i),i||(this.$modes[n]=e,e.$id=n),this.$onChangeMode(e)),t&&t()}).bind(this)),this.$mode||this.$onChangeMode(this.$modes["ace/mode/text"],!0)},this.$onChangeMode=function(e,t){if(t||(this.$modeId=e.$id),this.$mode!==e){var i=this.$mode;this.$mode=e,this.$stopWorker(),this.$useWorker&&this.$startWorker();var n=e.getTokenizer();if(void 0!==n.on){var o=this.onReloadTokenizer.bind(this);n.on("update",o)}if(this.bgTokenizer)this.bgTokenizer.setTokenizer(n);else{this.bgTokenizer=new d(n);var r=this;this.bgTokenizer.on("update",function(e){r._signal("tokenizerUpdate",e)})}this.bgTokenizer.setDocument(this.getDocument()),this.tokenRe=e.tokenRe,this.nonTokenRe=e.nonTokenRe,t||(e.attachToSession&&e.attachToSession(this),this.$options.wrapMethod.set.call(this,this.$wrapMethod),this.$setFolding(e.foldingRules),this.bgTokenizer.start(0),this._emit("changeMode",{oldMode:i,mode:e}))}},this.$stopWorker=function(){this.$worker&&(this.$worker.terminate(),this.$worker=null)},this.$startWorker=function(){try{this.$worker=this.$mode.createWorker(this)}catch(e){s.warn("Could not load worker",e),this.$worker=null}},this.getMode=function(){return this.$mode},this.$scrollTop=0,this.setScrollTop=function(e){this.$scrollTop===e||isNaN(e)||(this.$scrollTop=e,this._signal("changeScrollTop",e))},this.getScrollTop=function(){return this.$scrollTop},this.$scrollLeft=0,this.setScrollLeft=function(e){this.$scrollLeft===e||isNaN(e)||(this.$scrollLeft=e,this._signal("changeScrollLeft",e))},this.getScrollLeft=function(){return this.$scrollLeft},this.getScreenWidth=function(){return this.$computeWidth(),this.lineWidgets?Math.max(this.getLineWidgetMaxWidth(),this.screenWidth):this.screenWidth},this.getLineWidgetMaxWidth=function(){if(null!=this.lineWidgetsWidth)return this.lineWidgetsWidth;var e=0;return this.lineWidgets.forEach(function(t){t&&t.screenWidth>e&&(e=t.screenWidth)}),this.lineWidgetWidth=e},this.$computeWidth=function(e){if(this.$modified||e){if(this.$modified=!1,this.$useWrapMode)return this.screenWidth=this.$wrapLimit;for(var t=this.doc.getAllLines(),i=this.$rowLengthCache,n=0,o=0,r=this.$foldData[o],s=r?r.start.row:1/0,a=t.length,l=0;l<a;l++){if(l>s){if((l=r.end.row+1)>=a)break;s=(r=this.$foldData[o++])?r.start.row:1/0}null==i[l]&&(i[l]=this.$getStringScreenWidth(t[l])[0]),i[l]>n&&(n=i[l])}this.screenWidth=n}},this.getLine=function(e){return this.doc.getLine(e)},this.getLines=function(e,t){return this.doc.getLines(e,t)},this.getLength=function(){return this.doc.getLength()},this.getTextRange=function(e){return this.doc.getTextRange(e||this.selection.getRange())},this.insert=function(e,t){return this.doc.insert(e,t)},this.remove=function(e){return this.doc.remove(e)},this.removeFullLines=function(e,t){return this.doc.removeFullLines(e,t)},this.undoChanges=function(e,t){if(e.length){this.$fromUndo=!0;for(var i=e.length-1;-1!=i;i--){var n=e[i];"insert"==n.action||"remove"==n.action?this.doc.revertDelta(n):n.folds&&this.addFolds(n.folds)}!t&&this.$undoSelect&&(e.selectionBefore?this.selection.fromJSON(e.selectionBefore):this.selection.setRange(this.$getUndoSelection(e,!0))),this.$fromUndo=!1}},this.redoChanges=function(e,t){if(e.length){this.$fromUndo=!0;for(var i=0;i<e.length;i++){var n=e[i];("insert"==n.action||"remove"==n.action)&&this.doc.$safeApplyDelta(n)}!t&&this.$undoSelect&&(e.selectionAfter?this.selection.fromJSON(e.selectionAfter):this.selection.setRange(this.$getUndoSelection(e,!1))),this.$fromUndo=!1}},this.setUndoSelect=function(e){this.$undoSelect=e},this.$getUndoSelection=function(e,t){function i(e){return t?"insert"!==e.action:"insert"===e.action}for(var n,o,r=0;r<e.length;r++){var s=e[r];if(s.start){if(!n){n=i(s)?h.fromPoints(s.start,s.end):h.fromPoints(s.start,s.start);continue}i(s)?(-1==n.compare((o=s.start).row,o.column)&&n.setStart(o),1==n.compare((o=s.end).row,o.column)&&n.setEnd(o)):-1==n.compare((o=s.start).row,o.column)&&(n=h.fromPoints(s.start,s.start))}}return n},this.replace=function(e,t){return this.doc.replace(e,t)},this.moveText=function(e,t,i){var n=this.getTextRange(e),o=this.getFoldsInRange(e),r=h.fromPoints(t,t);if(i||(this.remove(e),(c=(l=e.start.row-e.end.row)?-e.end.column:e.start.column-e.end.column)&&(r.start.row==e.end.row&&r.start.column>e.end.column&&(r.start.column+=c),r.end.row==e.end.row&&r.end.column>e.end.column&&(r.end.column+=c)),l&&r.start.row>=e.end.row&&(r.start.row+=l,r.end.row+=l)),r.end=this.insert(r.start,n),o.length){var s=e.start,a=r.start,l=a.row-s.row,c=a.column-s.column;this.addFolds(o.map(function(e){return(e=e.clone()).start.row==s.row&&(e.start.column+=c),e.end.row==s.row&&(e.end.column+=c),e.start.row+=l,e.end.row+=l,e}))}return r},this.indentRows=function(e,t,i){i=i.replace(/\t/g,this.getTabString());for(var n=e;n<=t;n++)this.doc.insertInLine({row:n,column:0},i)},this.outdentRows=function(e){for(var t=e.collapseRows(),i=new h(0,0,0,0),n=this.getTabSize(),o=t.start.row;o<=t.end.row;++o){var r=this.getLine(o);i.start.row=o,i.end.row=o;for(var s=0;s<n&&" "==r.charAt(s);++s);s<n&&"\t"==r.charAt(s)?(i.start.column=s,i.end.column=s+1):(i.start.column=0,i.end.column=s),this.remove(i)}},this.$moveLines=function(e,t,i){if(e=this.getRowFoldStart(e),t=this.getRowFoldEnd(t),i<0){if((o=this.getRowFoldStart(e+i))<0)return 0;var n=o-e}else if(i>0){var o;if((o=this.getRowFoldEnd(t+i))>this.doc.getLength()-1)return 0;n=o-t}else e=this.$clipRowToDocument(e),n=(t=this.$clipRowToDocument(t))-e+1;var r=new h(e,0,t,Number.MAX_VALUE),s=this.getFoldsInRange(r).map(function(e){return(e=e.clone()).start.row+=n,e.end.row+=n,e}),a=0==i?this.doc.getLines(e,t):this.doc.removeFullLines(e,t);return this.doc.insertFullLines(e+n,a),s.length&&this.addFolds(s),n},this.moveLinesUp=function(e,t){return this.$moveLines(e,t,-1)},this.moveLinesDown=function(e,t){return this.$moveLines(e,t,1)},this.duplicateLines=function(e,t){return this.$moveLines(e,t,0)},this.$clipRowToDocument=function(e){return Math.max(0,Math.min(e,this.doc.getLength()-1))},this.$clipColumnToRow=function(e,t){return t<0?0:Math.min(this.doc.getLine(e).length,t)},this.$clipPositionToDocument=function(e,t){if(t=Math.max(0,t),e<0)e=0,t=0;else{var i=this.doc.getLength();e>=i?(e=i-1,t=this.doc.getLine(i-1).length):t=Math.min(this.doc.getLine(e).length,t)}return{row:e,column:t}},this.$clipRangeToDocument=function(e){e.start.row<0?(e.start.row=0,e.start.column=0):e.start.column=this.$clipColumnToRow(e.start.row,e.start.column);var t=this.doc.getLength()-1;return e.end.row>t?(e.end.row=t,e.end.column=this.doc.getLine(t).length):e.end.column=this.$clipColumnToRow(e.end.row,e.end.column),e},this.$wrapLimit=80,this.$useWrapMode=!1,this.$wrapLimitRange={min:null,max:null},this.setUseWrapMode=function(e){if(e!=this.$useWrapMode){if(this.$useWrapMode=e,this.$modified=!0,this.$resetRowCache(0),e){var t=this.getLength();this.$wrapData=Array(t),this.$updateWrapData(0,t-1)}this._signal("changeWrapMode")}},this.getUseWrapMode=function(){return this.$useWrapMode},this.setWrapLimitRange=function(e,t){(this.$wrapLimitRange.min!==e||this.$wrapLimitRange.max!==t)&&(this.$wrapLimitRange={min:e,max:t},this.$modified=!0,this.$bidiHandler.markAsDirty(),this.$useWrapMode&&this._signal("changeWrapMode"))},this.adjustWrapLimit=function(e,t){var i=this.$wrapLimitRange;i.max<0&&(i={min:t,max:t});var n=this.$constrainWrapLimit(e,i.min,i.max);return n!=this.$wrapLimit&&n>1&&(this.$wrapLimit=n,this.$modified=!0,this.$useWrapMode&&(this.$updateWrapData(0,this.getLength()-1),this.$resetRowCache(0),this._signal("changeWrapLimit")),!0)},this.$constrainWrapLimit=function(e,t,i){return t&&(e=Math.max(t,e)),i&&(e=Math.min(i,e)),e},this.getWrapLimit=function(){return this.$wrapLimit},this.setWrapLimit=function(e){this.setWrapLimitRange(e,e)},this.getWrapLimitRange=function(){return{min:this.$wrapLimitRange.min,max:this.$wrapLimitRange.max}},this.$updateInternalDataOnChange=function(e){var t=this.$useWrapMode,i=e.action,n=e.start,o=e.end,r=n.row,s=o.row,a=s-r,l=null;if(this.$updating=!0,0!=a)if("remove"===i){this[t?"$wrapData":"$rowLengthCache"].splice(r,a);var c=this.$foldData;l=this.getFoldsInRange(e),this.removeFolds(l);var h=0;if(f=this.getFoldLine(o.row)){f.addRemoveChars(o.row,o.column,n.column-o.column),f.shiftRow(-a);var u=this.getFoldLine(r);u&&u!==f&&(u.merge(f),f=u),h=c.indexOf(f)+1}for(;h<c.length;h++)(f=c[h]).start.row>=o.row&&f.shiftRow(-a);s=r}else{var d=Array(a);d.unshift(r,0);var p=t?this.$wrapData:this.$rowLengthCache;if(p.splice.apply(p,d),c=this.$foldData,h=0,f=this.getFoldLine(r)){var g=f.range.compareInside(n.row,n.column);0==g?(f=f.split(n.row,n.column))&&(f.shiftRow(a),f.addRemoveChars(s,0,o.column-n.column)):-1==g&&(f.addRemoveChars(r,0,o.column-n.column),f.shiftRow(a)),h=c.indexOf(f)+1}for(;h<c.length;h++){var f;(f=c[h]).start.row>=r&&f.shiftRow(a)}}else a=Math.abs(e.start.column-e.end.column),"remove"===i&&(l=this.getFoldsInRange(e),this.removeFolds(l),a=-a),(f=this.getFoldLine(r))&&f.addRemoveChars(r,n.column,a);return t&&this.$wrapData.length!=this.doc.getLength()&&console.error("doc.getLength() and $wrapData.length have to be the same!"),this.$updating=!1,t?this.$updateWrapData(r,s):this.$updateRowLengthCache(r,s),l},this.$updateRowLengthCache=function(e,t,i){this.$rowLengthCache[e]=null,this.$rowLengthCache[t]=null},this.$updateWrapData=function(i,n){var o,r,s=this.doc.getAllLines(),a=this.getTabSize(),l=this.$wrapData,c=this.$wrapLimit,h=i;for(n=Math.min(n,s.length-1);h<=n;)(r=this.getFoldLine(h,r))?(o=[],r.walk((function(i,n,r,a){var l;if(null!=i){(l=this.$getDisplayTokens(i,o.length))[0]=e;for(var c=1;c<l.length;c++)l[c]=t}else l=this.$getDisplayTokens(s[n].substring(a,r),o.length);o=o.concat(l)}).bind(this),r.end.row,s[r.end.row].length+1),l[r.start.row]=this.$computeWrapSplits(o,c,a),h=r.end.row+1):(o=this.$getDisplayTokens(s[h]),l[h]=this.$computeWrapSplits(o,c,a),h++)};var e=3,t=4;function i(e){return!(e<4352)&&(e>=4352&&e<=4447||e>=4515&&e<=4519||e>=4602&&e<=4607||e>=9001&&e<=9002||e>=11904&&e<=11929||e>=11931&&e<=12019||e>=12032&&e<=12245||e>=12272&&e<=12283||e>=12288&&e<=12350||e>=12353&&e<=12438||e>=12441&&e<=12543||e>=12549&&e<=12589||e>=12593&&e<=12686||e>=12688&&e<=12730||e>=12736&&e<=12771||e>=12784&&e<=12830||e>=12832&&e<=12871||e>=12880&&e<=13054||e>=13056&&e<=19903||e>=19968&&e<=42124||e>=42128&&e<=42182||e>=43360&&e<=43388||e>=44032&&e<=55203||e>=55216&&e<=55238||e>=55243&&e<=55291||e>=63744&&e<=64255||e>=65040&&e<=65049||e>=65072&&e<=65106||e>=65108&&e<=65126||e>=65128&&e<=65131||e>=65281&&e<=65376||e>=65504&&e<=65510)}this.$computeWrapSplits=function(i,n,o){if(0==i.length)return[];var r=[],s=i.length,a=0,l=0,c=this.$wrapAsCode,h=this.$indentedSoftWrap,u=n<=Math.max(2*o,8)||!1===h?0:Math.floor(n/2);function d(e){for(var t=e-a,n=a;n<e;n++){var s=i[n];(12===s||2===s)&&(t-=1)}r.length||(p=function(){var e=0;if(0===u)return e;if(h)for(var t=0;t<i.length;t++){var n=i[t];if(10==n)e+=1;else{if(11!=n){if(12==n)continue;break}e+=o}}return c&&!1!==h&&(e+=o),Math.min(e,u)}(),r.indent=p),r.push(l+=t),a=e}for(var p=0;s-a>n-p;){var g=a+n-p;if(i[g-1]>=10&&i[g]>=10)d(g);else if(i[g]!=e&&i[g]!=t){for(var f=Math.max(g-(n-(n>>2)),a-1);g>f&&i[g]<e;)g--;if(c){for(;g>f&&i[g]<e;)g--;for(;g>f&&9==i[g];)g--}else for(;g>f&&i[g]<10;)g--;g>f?d(++g):(2==i[g=a+n]&&g--,d(g-p))}else{for(;g!=a-1&&i[g]!=e;g--);if(g>a){d(g);continue}for(g=a+n;g<i.length&&i[g]==t;g++);if(g==i.length)break;d(g)}}return r},this.$getDisplayTokens=function(e,t){var n,o=[];t=t||0;for(var r=0;r<e.length;r++){var s=e.charCodeAt(r);if(9==s){n=this.getScreenTabSize(o.length+t),o.push(11);for(var a=1;a<n;a++)o.push(12)}else 32==s?o.push(10):s>39&&s<48||s>57&&s<64?o.push(9):s>=4352&&i(s)?o.push(1,2):o.push(1)}return o},this.$getStringScreenWidth=function(e,t,n){if(0==t)return[0,0];var o,r;for(null==t&&(t=1/0),n=n||0,r=0;r<e.length&&(9==(o=e.charCodeAt(r))?n+=this.getScreenTabSize(n):o>=4352&&i(o)?n+=2:n+=1,!(n>t));r++);return[n,r]},this.lineWidgets=null,this.getRowLength=function(e){var t=1;return this.lineWidgets&&(t+=this.lineWidgets[e]&&this.lineWidgets[e].rowCount||0),this.$useWrapMode&&this.$wrapData[e]?this.$wrapData[e].length+t:t},this.getRowLineCount=function(e){return this.$useWrapMode&&this.$wrapData[e]?this.$wrapData[e].length+1:1},this.getRowWrapIndent=function(e){if(this.$useWrapMode){var t=this.screenToDocumentPosition(e,Number.MAX_VALUE),i=this.$wrapData[t.row];return i.length&&i[0]<t.column?i.indent:0}return 0},this.getScreenLastRowColumn=function(e){var t=this.screenToDocumentPosition(e,Number.MAX_VALUE);return this.documentToScreenColumn(t.row,t.column)},this.getDocumentLastRowColumn=function(e,t){var i=this.documentToScreenRow(e,t);return this.getScreenLastRowColumn(i)},this.getDocumentLastRowColumnPosition=function(e,t){var i=this.documentToScreenRow(e,t);return this.screenToDocumentPosition(i,Number.MAX_VALUE/10)},this.getRowSplitData=function(e){if(this.$useWrapMode)return this.$wrapData[e]},this.getScreenTabSize=function(e){return this.$tabSize-(e%this.$tabSize|0)},this.screenToDocumentRow=function(e,t){return this.screenToDocumentPosition(e,t).row},this.screenToDocumentColumn=function(e,t){return this.screenToDocumentPosition(e,t).column},this.screenToDocumentPosition=function(e,t,i){if(e<0)return{row:0,column:0};var n,o,r=0,s=0,a=0,l=0,c=this.$screenRowCache,h=this.$getRowCacheIndex(c,e),u=c.length;if(u&&h>=0){a=c[h],r=this.$docRowCache[h];var d=e>c[u-1]}else d=!u;for(var p=this.getLength()-1,g=this.getNextFoldLine(r),f=g?g.start.row:1/0;a<=e&&!(a+(l=this.getRowLength(r))>e||r>=p);)a+=l,++r>f&&(f=(g=this.getNextFoldLine(r=g.end.row+1,g))?g.start.row:1/0),d&&(this.$docRowCache.push(r),this.$screenRowCache.push(a));if(g&&g.start.row<=r)n=this.getFoldDisplayLine(g),r=g.start.row;else{if(a+l<=e||r>p)return{row:p,column:this.getLine(p).length};n=this.getLine(r),g=null}var m=0,_=Math.floor(e-a);if(this.$useWrapMode){var v=this.$wrapData[r];v&&(o=v[_],_>0&&v.length&&(m=v.indent,n=n.substring(s=v[_-1]||v[v.length-1])))}return void 0!==i&&this.$bidiHandler.isBidiRow(a+_,r,_)&&(t=this.$bidiHandler.offsetToCol(i)),s+=this.$getStringScreenWidth(n,t-m)[1],this.$useWrapMode&&s>=o&&(s=o-1),g?g.idxToPosition(s):{row:r,column:s}},this.documentToScreenPosition=function(e,t){if(void 0===t)var i=this.$clipPositionToDocument(e.row,e.column);else i=this.$clipPositionToDocument(e,t);var n,o=0,r=null;(n=this.getFoldAt(e=i.row,t=i.column,1))&&(e=n.start.row,t=n.start.column);var s,a=0,l=this.$docRowCache,c=this.$getRowCacheIndex(l,e),h=l.length;if(h&&c>=0){a=l[c],o=this.$screenRowCache[c];var u=e>l[h-1]}else u=!h;for(var d=this.getNextFoldLine(a),p=d?d.start.row:1/0;a<e;){if(a>=p){if((s=d.end.row+1)>e)break;p=(d=this.getNextFoldLine(s,d))?d.start.row:1/0}else s=a+1;o+=this.getRowLength(a),a=s,u&&(this.$docRowCache.push(a),this.$screenRowCache.push(o))}var g="";d&&a>=p?(g=this.getFoldDisplayLine(d,e,t),r=d.start.row):(g=this.getLine(e).substring(0,t),r=e);var f=0;if(this.$useWrapMode){var m=this.$wrapData[r];if(m){for(var _=0;g.length>=m[_];)o++,_++;g=g.substring(m[_-1]||0,g.length),f=_>0?m.indent:0}}return this.lineWidgets&&this.lineWidgets[a]&&this.lineWidgets[a].rowsAbove&&(o+=this.lineWidgets[a].rowsAbove),{row:o,column:f+this.$getStringScreenWidth(g)[0]}},this.documentToScreenColumn=function(e,t){return this.documentToScreenPosition(e,t).column},this.documentToScreenRow=function(e,t){return this.documentToScreenPosition(e,t).row},this.getScreenLength=function(){var e=0,t=null;if(this.$useWrapMode)for(var i=this.$wrapData.length,n=0,o=0,r=(t=this.$foldData[o++])?t.start.row:1/0;n<i;){var s=this.$wrapData[n];e+=s?s.length+1:1,++n>r&&(n=t.end.row+1,r=(t=this.$foldData[o++])?t.start.row:1/0)}else{e=this.getLength();var a=this.$foldData;for(o=0;o<a.length;o++)e-=(t=a[o]).end.row-t.start.row}return this.lineWidgets&&(e+=this.$getWidgetScreenLength()),e},this.$setFontMetrics=function(e){!this.$enableVarChar||(this.$getStringScreenWidth=function(t,i,n){if(0===i)return[0,0];var o,r;for(i||(i=1/0),n=n||0,r=0;r<t.length&&!((n+="\t"===(o=t.charAt(r))?this.getScreenTabSize(n):e.getCharacterWidth(o))>i);r++);return[n,r]})},this.destroy=function(){this.bgTokenizer&&(this.bgTokenizer.setDocument(null),this.bgTokenizer=null),this.$stopWorker(),this.removeAllListeners(),this.doc&&this.doc.off("change",this.$onChange),this.selection.detach()},this.isFullWidth=i}).call(g.prototype),e("./edit_session/folding").Folding.call(g.prototype),e("./edit_session/bracket_match").BracketMatch.call(g.prototype),s.defineOptions(g.prototype,"session",{wrap:{set:function(e){if(e&&"off"!=e?"free"==e?e=!0:"printMargin"==e?e=-1:"string"==typeof e&&(e=parseInt(e,10)||!1):e=!1,this.$wrap!=e)if(this.$wrap=e,e){var t="number"==typeof e?e:null;this.setWrapLimitRange(t,t),this.setUseWrapMode(!0)}else this.setUseWrapMode(!1)},get:function(){return this.getUseWrapMode()?-1==this.$wrap?"printMargin":this.getWrapLimitRange().min?this.$wrap:"free":"off"},handlesSet:!0},wrapMethod:{set:function(e){(e="auto"==e?"text"!=this.$mode.type:"text"!=e)!=this.$wrapAsCode&&(this.$wrapAsCode=e,this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0)))},initialValue:"auto"},indentedSoftWrap:{set:function(){this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0))},initialValue:!0},firstLineNumber:{set:function(){this._signal("changeBreakpoint")},initialValue:1},useWorker:{set:function(e){this.$useWorker=e,this.$stopWorker(),e&&this.$startWorker()},initialValue:!0},useSoftTabs:{initialValue:!0},tabSize:{set:function(e){(e=parseInt(e))>0&&this.$tabSize!==e&&(this.$modified=!0,this.$rowLengthCache=[],this.$tabSize=e,this._signal("changeTabSize"))},initialValue:4,handlesSet:!0},navigateWithinSoftTabs:{initialValue:!1},foldStyle:{set:function(e){this.setFoldStyle(e)},handlesSet:!0},overwrite:{set:function(e){this._signal("changeOverwrite")},initialValue:!1},newLineMode:{set:function(e){this.doc.setNewLineMode(e)},get:function(){return this.doc.getNewLineMode()},handlesSet:!0},mode:{set:function(e){this.setMode(e)},get:function(){return this.$modeId},handlesSet:!0}}),t.EditSession=g}),ace.define("ace/search",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],function(e,t,i){"use strict";var n=e("./lib/lang"),o=e("./lib/oop"),r=e("./range").Range,s=function(){this.$options={}};(function(){this.set=function(e){return o.mixin(this.$options,e),this},this.getOptions=function(){return n.copyObject(this.$options)},this.setOptions=function(e){this.$options=e},this.find=function(e){var t=this.$options,i=this.$matchIterator(e,t);if(!i)return!1;var n=null;return i.forEach(function(e,i,o,s){return n=new r(e,i,o,s),!(i==s&&t.start&&t.start.start&&0!=t.skipCurrent&&n.isEqual(t.start)&&(n=null,1))}),n},this.findAll=function(e){var t=this.$options;if(!t.needle)return[];this.$assembleRegExp(t);var i=t.range,o=i?e.getLines(i.start.row,i.end.row):e.doc.getAllLines(),s=[],a=t.re;if(t.$isMultiLine){var l,c=a.length,h=o.length-c;e:for(var u=a.offset||0;u<=h;u++){for(var d=0;d<c;d++)if(-1==o[u+d].search(a[d]))continue e;var p=o[u],g=o[u+c-1],f=p.length-p.match(a[0])[0].length,m=g.match(a[c-1])[0].length;l&&l.end.row===u&&l.end.column>f||(s.push(l=new r(u,f,u+c-1,m)),c>2&&(u=u+c-2))}}else for(var _=0;_<o.length;_++){var v=n.getMatchOffsets(o[_],a);for(d=0;d<v.length;d++){var y=v[d];s.push(new r(_,y.offset,_,y.offset+y.length))}}if(i){var b=i.start.column,w=i.start.column;for(_=0,d=s.length-1;_<d&&s[_].start.column<b&&s[_].start.row==i.start.row;)_++;for(;_<d&&s[d].end.column>w&&s[d].end.row==i.end.row;)d--;for(s=s.slice(_,d+1),_=0,d=s.length;_<d;_++)s[_].start.row+=i.start.row,s[_].end.row+=i.start.row}return s},this.replace=function(e,t){var i=this.$options,n=this.$assembleRegExp(i);if(i.$isMultiLine)return t;if(n){var o=n.exec(e);if(!o||o[0].length!=e.length)return null;if(t=e.replace(n,t),i.preserveCase){t=t.split("");for(var r=Math.min(e.length,e.length);r--;){var s=e[r];t[r]=s&&s.toLowerCase()!=s?t[r].toUpperCase():t[r].toLowerCase()}t=t.join("")}return t}},this.$assembleRegExp=function(e,t){if(e.needle instanceof RegExp)return e.re=e.needle;var i=e.needle;if(!e.needle)return e.re=!1;e.regExp||(i=n.escapeRegExp(i)),e.wholeWord&&(i=function(e,t){function i(e){return/\w/.test(e)||t.regExp?"\\b":""}return i(e[0])+e+i(e[e.length-1])}(i,e));var o=e.caseSensitive?"gm":"gmi";if(e.$isMultiLine=!t&&/[\n\r]/.test(i),e.$isMultiLine)return e.re=this.$assembleMultilineRegExp(i,o);try{var r=new RegExp(i,o)}catch(s){r=!1}return e.re=r},this.$assembleMultilineRegExp=function(e,t){for(var i=e.replace(/\r\n|\r|\n/g,"$\n^").split("\n"),n=[],o=0;o<i.length;o++)try{n.push(new RegExp(i[o],t))}catch(r){return!1}return n},this.$matchIterator=function(e,t){var i=this.$assembleRegExp(t);if(!i)return!1;var n=1==t.backwards,o=0!=t.skipCurrent,r=t.range,s=t.start;s||(s=r?r[n?"end":"start"]:e.selection.getRange()),s.start&&(s=s[o!=n?"end":"start"]);var a=r?r.start.row:0,l=r?r.end.row:e.getLength()-1;if(n)var c=function(e){var i=s.row;if(!u(i,s.column,e)){for(i--;i>=a;i--)if(u(i,Number.MAX_VALUE,e))return;if(0!=t.wrap)for(i=l,a=s.row;i>=a;i--)if(u(i,Number.MAX_VALUE,e))return}};else c=function(e){var i=s.row;if(!u(i,s.column,e)){for(i+=1;i<=l;i++)if(u(i,0,e))return;if(0!=t.wrap)for(i=a,l=s.row;i<=l;i++)if(u(i,0,e))return}};if(t.$isMultiLine)var h=i.length,u=function(t,o,r){var s=n?t-h+1:t;if(!(s<0||s+h>e.getLength())){var a=e.getLine(s),l=a.search(i[0]);if(!(!n&&l<o||-1===l)){for(var c=1;c<h;c++)if(-1==(a=e.getLine(s+c)).search(i[c]))return;var u=a.match(i[h-1])[0].length;if(!(n&&u>o)&&r(s,l,s+h-1,u))return!0}}};else u=n?function(t,n,o){var r,s=e.getLine(t),a=[],l=0;for(i.lastIndex=0;r=i.exec(s);){if(l=r.index,!(h=r[0].length)){if(l>=s.length)break;i.lastIndex=l+=1}if(r.index+h>n)break;a.push(r.index,h)}for(var c=a.length-1;c>=0;c-=2){var h,u=a[c-1];if(o(t,u,t,u+(h=a[c])))return!0}}:function(t,n,o){var r,s,a=e.getLine(t);for(i.lastIndex=n;s=i.exec(a);){var l=s[0].length;if(o(t,r=s.index,t,r+l))return!0;if(!l&&(i.lastIndex=r+=1,r>=a.length))return!1}};return{forEach:c}}}).call(s.prototype),t.Search=s}),ace.define("ace/keyboard/hash_handler",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(e,t,i){"use strict";var n=e("../lib/keys"),o=e("../lib/useragent"),r=n.KEY_MODS;function s(e,t){this.platform=t||(o.isMac?"mac":"win"),this.commands={},this.commandKeyBinding={},this.addCommands(e),this.$singleCommand=!0}function a(e,t){s.call(this,e,t),this.$singleCommand=!1}a.prototype=s.prototype,(function(){function e(e){return"object"==typeof e&&e.bindKey&&e.bindKey.position||(e.isDefault?-100:0)}this.addCommand=function(e){this.commands[e.name]&&this.removeCommand(e),this.commands[e.name]=e,e.bindKey&&this._buildKeyHash(e)},this.removeCommand=function(e,t){var i=e&&("string"==typeof e?e:e.name);e=this.commands[i],t||delete this.commands[i];var n=this.commandKeyBinding;for(var o in n){var r=n[o];if(r==e)delete n[o];else if(Array.isArray(r)){var s=r.indexOf(e);-1!=s&&(r.splice(s,1),1==r.length&&(n[o]=r[0]))}}},this.bindKey=function(e,t,i){if("object"==typeof e&&e&&(null==i&&(i=e.position),e=e[this.platform]),e){if("function"==typeof t)return this.addCommand({exec:t,bindKey:e,name:t.name||e});e.split("|").forEach(function(e){var n="";if(-1!=e.indexOf(" ")){var o=e.split(/\s+/);e=o.pop(),o.forEach(function(e){var t=this.parseKeys(e);this._addCommandToBinding(n+=(n?" ":"")+(r[t.hashId]+t.key),"chainKeys")},this),n+=" "}var s=this.parseKeys(e);this._addCommandToBinding(n+(r[s.hashId]+s.key),t,i)},this)}},this._addCommandToBinding=function(t,i,n){var o,r=this.commandKeyBinding;if(i)if(!r[t]||this.$singleCommand)r[t]=i;else{Array.isArray(r[t])?-1!=(o=r[t].indexOf(i))&&r[t].splice(o,1):r[t]=[r[t]],"number"!=typeof n&&(n=e(i));var s=r[t];for(o=0;o<s.length&&!(e(s[o])>n);o++);s.splice(o,0,i)}else delete r[t]},this.addCommands=function(e){e&&Object.keys(e).forEach(function(t){var i=e[t];if(i){if("string"==typeof i)return this.bindKey(i,t);"function"==typeof i&&(i={exec:i}),"object"==typeof i&&(i.name||(i.name=t),this.addCommand(i))}},this)},this.removeCommands=function(e){Object.keys(e).forEach(function(t){this.removeCommand(e[t])},this)},this.bindKeys=function(e){Object.keys(e).forEach(function(t){this.bindKey(t,e[t])},this)},this._buildKeyHash=function(e){this.bindKey(e.bindKey,e)},this.parseKeys=function(e){var t=e.toLowerCase().split(/[\-\+]([\-\+])?/).filter(function(e){return e}),i=t.pop(),o=n[i];if(n.FUNCTION_KEYS[o])i=n.FUNCTION_KEYS[o].toLowerCase();else{if(!t.length)return{key:i,hashId:-1};if(1==t.length&&"shift"==t[0])return{key:i.toUpperCase(),hashId:-1}}for(var r=0,s=t.length;s--;){var a=n.KEY_MODS[t[s]];if(null==a)return"undefined"!=typeof console&&console.error("invalid modifier "+t[s]+" in "+e),!1;r|=a}return{key:i,hashId:r}},this.findKeyCommand=function(e,t){return this.commandKeyBinding[r[e]+t]},this.handleKeyboard=function(e,t,i,n){if(!(n<0)){var o=r[t]+i,s=this.commandKeyBinding[o];return e.$keyChain&&(e.$keyChain+=" "+o,s=this.commandKeyBinding[e.$keyChain]||s),!s||"chainKeys"!=s&&"chainKeys"!=s[s.length-1]?(e.$keyChain&&(t&&4!=t||1!=i.length?(-1==t||n>0)&&(e.$keyChain=""):e.$keyChain=e.$keyChain.slice(0,-o.length-1)),{command:s}):(e.$keyChain=e.$keyChain||o,{command:"null"})}},this.getStatusText=function(e,t){return t.$keyChain||""}}).call(s.prototype),t.HashHandler=s,t.MultiHashHandler=a}),ace.define("ace/commands/command_manager",["require","exports","module","ace/lib/oop","ace/keyboard/hash_handler","ace/lib/event_emitter"],function(e,t,i){"use strict";var n=e("../lib/oop"),o=e("../keyboard/hash_handler").MultiHashHandler,r=e("../lib/event_emitter").EventEmitter,s=function(e,t){o.call(this,t,e),this.byName=this.commands,this.setDefaultHandler("exec",function(e){return e.command.exec(e.editor,e.args||{})})};n.inherits(s,o),(function(){n.implement(this,r),this.exec=function(e,t,i){if(Array.isArray(e)){for(var n=e.length;n--;)if(this.exec(e[n],t,i))return!0;return!1}if("string"==typeof e&&(e=this.commands[e]),!e||t&&t.$readOnly&&!e.readOnly||0!=this.$checkCommandState&&e.isAvailable&&!e.isAvailable(t))return!1;var o={editor:t,command:e,args:i};return o.returnValue=this._emit("exec",o),this._signal("afterExec",o),!1!==o.returnValue},this.toggleRecording=function(e){if(!this.$inReplay)return e&&e._emit("changeStatus"),this.recording?(this.macro.pop(),this.off("exec",this.$addCommandToMacro),this.macro.length||(this.macro=this.oldMacro),this.recording=!1):(this.$addCommandToMacro||(this.$addCommandToMacro=(function(e){this.macro.push([e.command,e.args])}).bind(this)),this.oldMacro=this.macro,this.macro=[],this.on("exec",this.$addCommandToMacro),this.recording=!0)},this.replay=function(e){if(!this.$inReplay&&this.macro){if(this.recording)return this.toggleRecording(e);try{this.$inReplay=!0,this.macro.forEach(function(t){"string"==typeof t?this.exec(t,e):this.exec(t[0],e,t[1])},this)}finally{this.$inReplay=!1}}},this.trimMacro=function(e){return e.map(function(e){return"string"!=typeof e[0]&&(e[0]=e[0].name),e[1]||(e=e[0]),e})}}).call(s.prototype),t.CommandManager=s}),ace.define("ace/commands/default_commands",["require","exports","module","ace/lib/lang","ace/config","ace/range"],function(e,t,i){"use strict";var n=e("../lib/lang"),o=e("../config"),r=e("../range").Range;function s(e,t){return{win:e,mac:t}}t.commands=[{name:"showSettingsMenu",description:"Show settings menu",bindKey:s("Ctrl-,","Command-,"),exec:function(e){o.loadModule("ace/ext/settings_menu",function(t){t.init(e),e.showSettingsMenu()})},readOnly:!0},{name:"goToNextError",description:"Go to next error",bindKey:s("Alt-E","F4"),exec:function(e){o.loadModule("./ext/error_marker",function(t){t.showErrorMarker(e,1)})},scrollIntoView:"animate",readOnly:!0},{name:"goToPreviousError",description:"Go to previous error",bindKey:s("Alt-Shift-E","Shift-F4"),exec:function(e){o.loadModule("./ext/error_marker",function(t){t.showErrorMarker(e,-1)})},scrollIntoView:"animate",readOnly:!0},{name:"selectall",description:"Select all",bindKey:s("Ctrl-A","Command-A"),exec:function(e){e.selectAll()},readOnly:!0},{name:"centerselection",description:"Center selection",bindKey:s(null,"Ctrl-L"),exec:function(e){e.centerSelection()},readOnly:!0},{name:"gotoline",description:"Go to line...",bindKey:s("Ctrl-L","Command-L"),exec:function(e,t){"number"==typeof t&&!isNaN(t)&&e.gotoLine(t),e.prompt({$type:"gotoLine"})},readOnly:!0},{name:"fold",bindKey:s("Alt-L|Ctrl-F1","Command-Alt-L|Command-F1"),exec:function(e){e.session.toggleFold(!1)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"unfold",bindKey:s("Alt-Shift-L|Ctrl-Shift-F1","Command-Alt-Shift-L|Command-Shift-F1"),exec:function(e){e.session.toggleFold(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleFoldWidget",description:"Toggle fold widget",bindKey:s("F2","F2"),exec:function(e){e.session.toggleFoldWidget()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleParentFoldWidget",description:"Toggle parent fold widget",bindKey:s("Alt-F2","Alt-F2"),exec:function(e){e.session.toggleFoldWidget(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"foldall",description:"Fold all",bindKey:s(null,"Ctrl-Command-Option-0"),exec:function(e){e.session.foldAll()},scrollIntoView:"center",readOnly:!0},{name:"foldAllComments",description:"Fold all comments",bindKey:s(null,"Ctrl-Command-Option-0"),exec:function(e){e.session.foldAllComments()},scrollIntoView:"center",readOnly:!0},{name:"foldOther",description:"Fold other",bindKey:s("Alt-0","Command-Option-0"),exec:function(e){e.session.foldAll(),e.session.unfold(e.selection.getAllRanges())},scrollIntoView:"center",readOnly:!0},{name:"unfoldall",description:"Unfold all",bindKey:s("Alt-Shift-0","Command-Option-Shift-0"),exec:function(e){e.session.unfold()},scrollIntoView:"center",readOnly:!0},{name:"findnext",description:"Find next",bindKey:s("Ctrl-K","Command-G"),exec:function(e){e.findNext()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"findprevious",description:"Find previous",bindKey:s("Ctrl-Shift-K","Command-Shift-G"),exec:function(e){e.findPrevious()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"selectOrFindNext",description:"Select or find next",bindKey:s("Alt-K","Ctrl-G"),exec:function(e){e.selection.isEmpty()?e.selection.selectWord():e.findNext()},readOnly:!0},{name:"selectOrFindPrevious",description:"Select or find previous",bindKey:s("Alt-Shift-K","Ctrl-Shift-G"),exec:function(e){e.selection.isEmpty()?e.selection.selectWord():e.findPrevious()},readOnly:!0},{name:"find",description:"Find",bindKey:s("Ctrl-F","Command-F"),exec:function(e){o.loadModule("ace/ext/searchbox",function(t){t.Search(e)})},readOnly:!0},{name:"overwrite",description:"Overwrite",bindKey:"Insert",exec:function(e){e.toggleOverwrite()},readOnly:!0},{name:"selecttostart",description:"Select to start",bindKey:s("Ctrl-Shift-Home","Command-Shift-Home|Command-Shift-Up"),exec:function(e){e.getSelection().selectFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotostart",description:"Go to start",bindKey:s("Ctrl-Home","Command-Home|Command-Up"),exec:function(e){e.navigateFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectup",description:"Select up",bindKey:s("Shift-Up","Shift-Up|Ctrl-Shift-P"),exec:function(e){e.getSelection().selectUp()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golineup",description:"Go line up",bindKey:s("Up","Up|Ctrl-P"),exec:function(e,t){e.navigateUp(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttoend",description:"Select to end",bindKey:s("Ctrl-Shift-End","Command-Shift-End|Command-Shift-Down"),exec:function(e){e.getSelection().selectFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotoend",description:"Go to end",bindKey:s("Ctrl-End","Command-End|Command-Down"),exec:function(e){e.navigateFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectdown",description:"Select down",bindKey:s("Shift-Down","Shift-Down|Ctrl-Shift-N"),exec:function(e){e.getSelection().selectDown()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golinedown",description:"Go line down",bindKey:s("Down","Down|Ctrl-N"),exec:function(e,t){e.navigateDown(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordleft",description:"Select word left",bindKey:s("Ctrl-Shift-Left","Option-Shift-Left"),exec:function(e){e.getSelection().selectWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordleft",description:"Go to word left",bindKey:s("Ctrl-Left","Option-Left"),exec:function(e){e.navigateWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolinestart",description:"Select to line start",bindKey:s("Alt-Shift-Left","Command-Shift-Left|Ctrl-Shift-A"),exec:function(e){e.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolinestart",description:"Go to line start",bindKey:s("Alt-Left|Home","Command-Left|Home|Ctrl-A"),exec:function(e){e.navigateLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectleft",description:"Select left",bindKey:s("Shift-Left","Shift-Left|Ctrl-Shift-B"),exec:function(e){e.getSelection().selectLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoleft",description:"Go to left",bindKey:s("Left","Left|Ctrl-B"),exec:function(e,t){e.navigateLeft(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordright",description:"Select word right",bindKey:s("Ctrl-Shift-Right","Option-Shift-Right"),exec:function(e){e.getSelection().selectWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordright",description:"Go to word right",bindKey:s("Ctrl-Right","Option-Right"),exec:function(e){e.navigateWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolineend",description:"Select to line end",bindKey:s("Alt-Shift-Right","Command-Shift-Right|Shift-End|Ctrl-Shift-E"),exec:function(e){e.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolineend",description:"Go to line end",bindKey:s("Alt-Right|End","Command-Right|End|Ctrl-E"),exec:function(e){e.navigateLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectright",description:"Select right",bindKey:s("Shift-Right","Shift-Right"),exec:function(e){e.getSelection().selectRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoright",description:"Go to right",bindKey:s("Right","Right|Ctrl-F"),exec:function(e,t){e.navigateRight(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectpagedown",description:"Select page down",bindKey:"Shift-PageDown",exec:function(e){e.selectPageDown()},readOnly:!0},{name:"pagedown",description:"Page down",bindKey:s(null,"Option-PageDown"),exec:function(e){e.scrollPageDown()},readOnly:!0},{name:"gotopagedown",description:"Go to page down",bindKey:s("PageDown","PageDown|Ctrl-V"),exec:function(e){e.gotoPageDown()},readOnly:!0},{name:"selectpageup",description:"Select page up",bindKey:"Shift-PageUp",exec:function(e){e.selectPageUp()},readOnly:!0},{name:"pageup",description:"Page up",bindKey:s(null,"Option-PageUp"),exec:function(e){e.scrollPageUp()},readOnly:!0},{name:"gotopageup",description:"Go to page up",bindKey:"PageUp",exec:function(e){e.gotoPageUp()},readOnly:!0},{name:"scrollup",description:"Scroll up",bindKey:s("Ctrl-Up",null),exec:function(e){e.renderer.scrollBy(0,-2*e.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"scrolldown",description:"Scroll down",bindKey:s("Ctrl-Down",null),exec:function(e){e.renderer.scrollBy(0,2*e.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"selectlinestart",description:"Select line start",bindKey:"Shift-Home",exec:function(e){e.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectlineend",description:"Select line end",bindKey:"Shift-End",exec:function(e){e.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"togglerecording",description:"Toggle recording",bindKey:s("Ctrl-Alt-E","Command-Option-E"),exec:function(e){e.commands.toggleRecording(e)},readOnly:!0},{name:"replaymacro",description:"Replay macro",bindKey:s("Ctrl-Shift-E","Command-Shift-E"),exec:function(e){e.commands.replay(e)},readOnly:!0},{name:"jumptomatching",description:"Jump to matching",bindKey:s("Ctrl-\\|Ctrl-P","Command-\\"),exec:function(e){e.jumpToMatching()},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"selecttomatching",description:"Select to matching",bindKey:s("Ctrl-Shift-\\|Ctrl-Shift-P","Command-Shift-\\"),exec:function(e){e.jumpToMatching(!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"expandToMatching",description:"Expand to matching",bindKey:s("Ctrl-Shift-M","Ctrl-Shift-M"),exec:function(e){e.jumpToMatching(!0,!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"passKeysToBrowser",description:"Pass keys to browser",bindKey:s(null,null),exec:function(){},passEvent:!0,readOnly:!0},{name:"copy",description:"Copy",exec:function(e){},readOnly:!0},{name:"cut",description:"Cut",exec:function(e){var t=e.$copyWithEmptySelection&&e.selection.isEmpty()?e.selection.getLineRange():e.selection.getRange();e._emit("cut",t),t.isEmpty()||e.session.remove(t),e.clearSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"paste",description:"Paste",exec:function(e,t){e.$handlePaste(t)},scrollIntoView:"cursor"},{name:"removeline",description:"Remove line",bindKey:s("Ctrl-D","Command-D"),exec:function(e){e.removeLines()},scrollIntoView:"cursor",multiSelectAction:"forEachLine"},{name:"duplicateSelection",description:"Duplicate selection",bindKey:s("Ctrl-Shift-D","Command-Shift-D"),exec:function(e){e.duplicateSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"sortlines",description:"Sort lines",bindKey:s("Ctrl-Alt-S","Command-Alt-S"),exec:function(e){e.sortLines()},scrollIntoView:"selection",multiSelectAction:"forEachLine"},{name:"togglecomment",description:"Toggle comment",bindKey:s("Ctrl-/","Command-/"),exec:function(e){e.toggleCommentLines()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"toggleBlockComment",description:"Toggle block comment",bindKey:s("Ctrl-Shift-/","Command-Shift-/"),exec:function(e){e.toggleBlockComment()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"modifyNumberUp",description:"Modify number up",bindKey:s("Ctrl-Shift-Up","Alt-Shift-Up"),exec:function(e){e.modifyNumber(1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"modifyNumberDown",description:"Modify number down",bindKey:s("Ctrl-Shift-Down","Alt-Shift-Down"),exec:function(e){e.modifyNumber(-1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"replace",description:"Replace",bindKey:s("Ctrl-H","Command-Option-F"),exec:function(e){o.loadModule("ace/ext/searchbox",function(t){t.Search(e,!0)})}},{name:"undo",description:"Undo",bindKey:s("Ctrl-Z","Command-Z"),exec:function(e){e.undo()}},{name:"redo",description:"Redo",bindKey:s("Ctrl-Shift-Z|Ctrl-Y","Command-Shift-Z|Command-Y"),exec:function(e){e.redo()}},{name:"copylinesup",description:"Copy lines up",bindKey:s("Alt-Shift-Up","Command-Option-Up"),exec:function(e){e.copyLinesUp()},scrollIntoView:"cursor"},{name:"movelinesup",description:"Move lines up",bindKey:s("Alt-Up","Option-Up"),exec:function(e){e.moveLinesUp()},scrollIntoView:"cursor"},{name:"copylinesdown",description:"Copy lines down",bindKey:s("Alt-Shift-Down","Command-Option-Down"),exec:function(e){e.copyLinesDown()},scrollIntoView:"cursor"},{name:"movelinesdown",description:"Move lines down",bindKey:s("Alt-Down","Option-Down"),exec:function(e){e.moveLinesDown()},scrollIntoView:"cursor"},{name:"del",description:"Delete",bindKey:s("Delete","Delete|Ctrl-D|Shift-Delete"),exec:function(e){e.remove("right")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"backspace",description:"Backspace",bindKey:s("Shift-Backspace|Backspace","Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H"),exec:function(e){e.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"cut_or_delete",description:"Cut or delete",bindKey:s("Shift-Delete",null),exec:function(e){if(!e.selection.isEmpty())return!1;e.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestart",description:"Remove to line start",bindKey:s("Alt-Backspace","Command-Backspace"),exec:function(e){e.removeToLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineend",description:"Remove to line end",bindKey:s("Alt-Delete","Ctrl-K|Command-Delete"),exec:function(e){e.removeToLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestarthard",description:"Remove to line start hard",bindKey:s("Ctrl-Shift-Backspace",null),exec:function(e){var t=e.selection.getRange();t.start.column=0,e.session.remove(t)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineendhard",description:"Remove to line end hard",bindKey:s("Ctrl-Shift-Delete",null),exec:function(e){var t=e.selection.getRange();t.end.column=Number.MAX_VALUE,e.session.remove(t)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordleft",description:"Remove word left",bindKey:s("Ctrl-Backspace","Alt-Backspace|Ctrl-Alt-Backspace"),exec:function(e){e.removeWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordright",description:"Remove word right",bindKey:s("Ctrl-Delete","Alt-Delete"),exec:function(e){e.removeWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"outdent",description:"Outdent",bindKey:s("Shift-Tab","Shift-Tab"),exec:function(e){e.blockOutdent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"indent",description:"Indent",bindKey:s("Tab","Tab"),exec:function(e){e.indent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"blockoutdent",description:"Block outdent",bindKey:s("Ctrl-[","Ctrl-["),exec:function(e){e.blockOutdent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"blockindent",description:"Block indent",bindKey:s("Ctrl-]","Ctrl-]"),exec:function(e){e.blockIndent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"insertstring",description:"Insert string",exec:function(e,t){e.insert(t)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"inserttext",description:"Insert text",exec:function(e,t){e.insert(n.stringRepeat(t.text||"",t.times||1))},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"splitline",description:"Split line",bindKey:s(null,"Ctrl-O"),exec:function(e){e.splitLine()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"transposeletters",description:"Transpose letters",bindKey:s("Alt-Shift-X","Ctrl-T"),exec:function(e){e.transposeLetters()},multiSelectAction:function(e){e.transposeSelections(1)},scrollIntoView:"cursor"},{name:"touppercase",description:"To uppercase",bindKey:s("Ctrl-U","Ctrl-U"),exec:function(e){e.toUpperCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"tolowercase",description:"To lowercase",bindKey:s("Ctrl-Shift-U","Ctrl-Shift-U"),exec:function(e){e.toLowerCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"autoindent",description:"Auto Indent",bindKey:s(null,null),exec:function(e){e.autoIndent()},multiSelectAction:"forEachLine",scrollIntoView:"animate"},{name:"expandtoline",description:"Expand to line",bindKey:s("Ctrl-Shift-L","Command-Shift-L"),exec:function(e){var t=e.selection.getRange();t.start.column=t.end.column=0,t.end.row++,e.selection.setRange(t,!1)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"joinlines",description:"Join lines",bindKey:s(null,null),exec:function(e){for(var t=e.selection.isBackwards(),i=t?e.selection.getSelectionLead():e.selection.getSelectionAnchor(),o=t?e.selection.getSelectionAnchor():e.selection.getSelectionLead(),s=e.session.doc.getLine(i.row).length,a=e.session.doc.getTextRange(e.selection.getRange()).replace(/\n\s*/," ").length,l=e.session.doc.getLine(i.row),c=i.row+1;c<=o.row+1;c++){var h=n.stringTrimLeft(n.stringTrimRight(e.session.doc.getLine(c)));0!==h.length&&(h=" "+h),l+=h}o.row+1<e.session.doc.getLength()-1&&(l+=e.session.doc.getNewLineCharacter()),e.clearSelection(),e.session.doc.replace(new r(i.row,0,o.row+2,0),l),a>0?(e.selection.moveCursorTo(i.row,i.column),e.selection.selectTo(i.row,i.column+a)):(s=e.session.doc.getLine(i.row).length>s?s+1:s,e.selection.moveCursorTo(i.row,s))},multiSelectAction:"forEach",readOnly:!0},{name:"invertSelection",description:"Invert selection",bindKey:s(null,null),exec:function(e){var t=e.session.doc.getLength()-1,i=e.session.doc.getLine(t).length,n=e.selection.rangeList.ranges,o=[];n.length<1&&(n=[e.selection.getRange()]);for(var s=0;s<n.length;s++)s==n.length-1&&(n[s].end.row===t&&n[s].end.column===i||o.push(new r(n[s].end.row,n[s].end.column,t,i))),0===s?0===n[s].start.row&&0===n[s].start.column||o.push(new r(0,0,n[s].start.row,n[s].start.column)):o.push(new r(n[s-1].end.row,n[s-1].end.column,n[s].start.row,n[s].start.column));for(e.exitMultiSelectMode(),e.clearSelection(),s=0;s<o.length;s++)e.selection.addRange(o[s],!1)},readOnly:!0,scrollIntoView:"none"},{name:"addLineAfter",description:"Add new line after the current line",exec:function(e){e.selection.clearSelection(),e.navigateLineEnd(),e.insert("\n")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"addLineBefore",description:"Add new line before the current line",exec:function(e){e.selection.clearSelection();var t=e.getCursorPosition();e.selection.moveTo(t.row-1,Number.MAX_VALUE),e.insert("\n"),0===t.row&&e.navigateUp()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"openCommandPallete",description:"Open command pallete",bindKey:s("F1","F1"),exec:function(e){e.prompt({$type:"commands"})},readOnly:!0},{name:"modeSelect",description:"Change language mode...",bindKey:s(null,null),exec:function(e){e.prompt({$type:"modes"})},readOnly:!0}];for(var a=1;a<9;a++)t.commands.push({name:"foldToLevel"+a,description:"Fold To Level "+a,level:a,exec:function(e){e.session.foldToLevel(this.level)},scrollIntoView:"center",readOnly:!0})}),ace.define("ace/editor",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/keyboard/textinput","ace/mouse/mouse_handler","ace/mouse/fold_handler","ace/keyboard/keybinding","ace/edit_session","ace/search","ace/range","ace/lib/event_emitter","ace/commands/command_manager","ace/commands/default_commands","ace/config","ace/token_iterator","ace/clipboard"],function(e,t,i){"use strict";e("./lib/fixoldbrowsers");var n=e("./lib/oop"),o=e("./lib/dom"),r=e("./lib/lang"),s=e("./lib/useragent"),a=e("./keyboard/textinput").TextInput,l=e("./mouse/mouse_handler").MouseHandler,c=e("./mouse/fold_handler").FoldHandler,h=e("./keyboard/keybinding").KeyBinding,u=e("./edit_session").EditSession,d=e("./search").Search,p=e("./range").Range,g=e("./lib/event_emitter").EventEmitter,f=e("./commands/command_manager").CommandManager,m=e("./commands/default_commands").commands,_=e("./config"),v=e("./token_iterator").TokenIterator,y=e("./clipboard"),b=function(e,t,i){this.$toDestroy=[];var n=e.getContainerElement();this.container=n,this.renderer=e,this.id="editor"+ ++b.$uid,this.commands=new f(s.isMac?"mac":"win",m),"object"==typeof document&&(this.textInput=new a(e.getTextAreaContainer(),this),this.renderer.textarea=this.textInput.getElement(),this.$mouseHandler=new l(this),new c(this)),this.keyBinding=new h(this),this.$search=(new d).set({wrap:!0}),this.$historyTracker=this.$historyTracker.bind(this),this.commands.on("exec",this.$historyTracker),this.$initOperationListeners(),this._$emitInputEvent=r.delayedCall((function(){this._signal("input",{}),this.session&&this.session.bgTokenizer&&this.session.bgTokenizer.scheduleStart()}).bind(this)),this.on("change",function(e,t){t._$emitInputEvent.schedule(31)}),this.setSession(t||i&&i.session||new u("")),_.resetOptions(this),i&&this.setOptions(i),_._signal("editor",this)};b.$uid=0,(function(){n.implement(this,g),this.$initOperationListeners=function(){this.commands.on("exec",this.startOperation.bind(this),!0),this.commands.on("afterExec",this.endOperation.bind(this),!0),this.$opResetTimer=r.delayedCall(this.endOperation.bind(this,!0)),this.on("change",(function(){this.curOp||(this.startOperation(),this.curOp.selectionBefore=this.$lastSel),this.curOp.docChanged=!0}).bind(this),!0),this.on("changeSelection",(function(){this.curOp||(this.startOperation(),this.curOp.selectionBefore=this.$lastSel),this.curOp.selectionChanged=!0}).bind(this),!0)},this.curOp=null,this.prevOp={},this.startOperation=function(e){if(this.curOp){if(!e||this.curOp.command)return;this.prevOp=this.curOp}e||(this.previousCommand=null,e={}),this.$opResetTimer.schedule(),this.curOp=this.session.curOp={command:e.command||{},args:e.args,scrollTop:this.renderer.scrollTop},this.curOp.selectionBefore=this.selection.toJSON()},this.endOperation=function(e){if(this.curOp&&this.session){if(e&&!1===e.returnValue||!this.session)return this.curOp=null;if(1==e&&this.curOp.command&&"mouse"==this.curOp.command.name||(this._signal("beforeEndOperation"),!this.curOp))return;var t=this.curOp.command,i=t&&t.scrollIntoView;if(i){switch(i){case"center-animate":i="animate";case"center":this.renderer.scrollCursorIntoView(null,.5);break;case"animate":case"cursor":this.renderer.scrollCursorIntoView();break;case"selectionPart":var n=this.selection.getRange(),o=this.renderer.layerConfig;(n.start.row>=o.lastRow||n.end.row<=o.firstRow)&&this.renderer.scrollSelectionIntoView(this.selection.anchor,this.selection.lead)}"animate"==i&&this.renderer.animateScrolling(this.curOp.scrollTop)}var r=this.selection.toJSON();this.curOp.selectionAfter=r,this.$lastSel=this.selection.toJSON(),this.session.getUndoManager().addSelection(r),this.prevOp=this.curOp,this.curOp=null}},this.$mergeableCommands=["backspace","del","insertstring"],this.$historyTracker=function(e){if(this.$mergeUndoDeltas){var t=this.prevOp,i=this.$mergeableCommands,n=t.command&&e.command.name==t.command.name;if("insertstring"==e.command.name){var o=e.args;void 0===this.mergeNextCommand&&(this.mergeNextCommand=!0),n=n&&this.mergeNextCommand&&(!/\s/.test(o)||/\s/.test(t.args)),this.mergeNextCommand=!0}else n=n&&-1!==i.indexOf(e.command.name);"always"!=this.$mergeUndoDeltas&&Date.now()-this.sequenceStartTime>2e3&&(n=!1),n?this.session.mergeUndoDeltas=!0:-1!==i.indexOf(e.command.name)&&(this.sequenceStartTime=Date.now())}},this.setKeyboardHandler=function(e,t){if(e&&"string"==typeof e&&"ace"!=e){this.$keybindingId=e;var i=this;_.loadModule(["keybinding",e],function(n){i.$keybindingId==e&&i.keyBinding.setKeyboardHandler(n&&n.handler),t&&t()})}else this.$keybindingId=null,this.keyBinding.setKeyboardHandler(e),t&&t()},this.getKeyboardHandler=function(){return this.keyBinding.getKeyboardHandler()},this.setSession=function(e){if(this.session!=e){this.curOp&&this.endOperation(),this.curOp={};var t=this.session;if(t){this.session.off("change",this.$onDocumentChange),this.session.off("changeMode",this.$onChangeMode),this.session.off("tokenizerUpdate",this.$onTokenizerUpdate),this.session.off("changeTabSize",this.$onChangeTabSize),this.session.off("changeWrapLimit",this.$onChangeWrapLimit),this.session.off("changeWrapMode",this.$onChangeWrapMode),this.session.off("changeFold",this.$onChangeFold),this.session.off("changeFrontMarker",this.$onChangeFrontMarker),this.session.off("changeBackMarker",this.$onChangeBackMarker),this.session.off("changeBreakpoint",this.$onChangeBreakpoint),this.session.off("changeAnnotation",this.$onChangeAnnotation),this.session.off("changeOverwrite",this.$onCursorChange),this.session.off("changeScrollTop",this.$onScrollTopChange),this.session.off("changeScrollLeft",this.$onScrollLeftChange);var i=this.session.getSelection();i.off("changeCursor",this.$onCursorChange),i.off("changeSelection",this.$onSelectionChange)}this.session=e,e?(this.$onDocumentChange=this.onDocumentChange.bind(this),e.on("change",this.$onDocumentChange),this.renderer.setSession(e),this.$onChangeMode=this.onChangeMode.bind(this),e.on("changeMode",this.$onChangeMode),this.$onTokenizerUpdate=this.onTokenizerUpdate.bind(this),e.on("tokenizerUpdate",this.$onTokenizerUpdate),this.$onChangeTabSize=this.renderer.onChangeTabSize.bind(this.renderer),e.on("changeTabSize",this.$onChangeTabSize),this.$onChangeWrapLimit=this.onChangeWrapLimit.bind(this),e.on("changeWrapLimit",this.$onChangeWrapLimit),this.$onChangeWrapMode=this.onChangeWrapMode.bind(this),e.on("changeWrapMode",this.$onChangeWrapMode),this.$onChangeFold=this.onChangeFold.bind(this),e.on("changeFold",this.$onChangeFold),this.$onChangeFrontMarker=this.onChangeFrontMarker.bind(this),this.session.on("changeFrontMarker",this.$onChangeFrontMarker),this.$onChangeBackMarker=this.onChangeBackMarker.bind(this),this.session.on("changeBackMarker",this.$onChangeBackMarker),this.$onChangeBreakpoint=this.onChangeBreakpoint.bind(this),this.session.on("changeBreakpoint",this.$onChangeBreakpoint),this.$onChangeAnnotation=this.onChangeAnnotation.bind(this),this.session.on("changeAnnotation",this.$onChangeAnnotation),this.$onCursorChange=this.onCursorChange.bind(this),this.session.on("changeOverwrite",this.$onCursorChange),this.$onScrollTopChange=this.onScrollTopChange.bind(this),this.session.on("changeScrollTop",this.$onScrollTopChange),this.$onScrollLeftChange=this.onScrollLeftChange.bind(this),this.session.on("changeScrollLeft",this.$onScrollLeftChange),this.selection=e.getSelection(),this.selection.on("changeCursor",this.$onCursorChange),this.$onSelectionChange=this.onSelectionChange.bind(this),this.selection.on("changeSelection",this.$onSelectionChange),this.onChangeMode(),this.onCursorChange(),this.onScrollTopChange(),this.onScrollLeftChange(),this.onSelectionChange(),this.onChangeFrontMarker(),this.onChangeBackMarker(),this.onChangeBreakpoint(),this.onChangeAnnotation(),this.session.getUseWrapMode()&&this.renderer.adjustWrapLimit(),this.renderer.updateFull()):(this.selection=null,this.renderer.setSession(e)),this._signal("changeSession",{session:e,oldSession:t}),this.curOp=null,t&&t._signal("changeEditor",{oldEditor:this}),e&&e._signal("changeEditor",{editor:this}),e&&e.bgTokenizer&&e.bgTokenizer.scheduleStart()}},this.getSession=function(){return this.session},this.setValue=function(e,t){return this.session.doc.setValue(e),t?1==t?this.navigateFileEnd():-1==t&&this.navigateFileStart():this.selectAll(),e},this.getValue=function(){return this.session.getValue()},this.getSelection=function(){return this.selection},this.resize=function(e){this.renderer.onResize(e)},this.setTheme=function(e,t){this.renderer.setTheme(e,t)},this.getTheme=function(){return this.renderer.getTheme()},this.setStyle=function(e){this.renderer.setStyle(e)},this.unsetStyle=function(e){this.renderer.unsetStyle(e)},this.getFontSize=function(){return this.getOption("fontSize")||o.computedStyle(this.container).fontSize},this.setFontSize=function(e){this.setOption("fontSize",e)},this.$highlightBrackets=function(){if(!this.$highlightPending){var e=this;this.$highlightPending=!0,setTimeout(function(){e.$highlightPending=!1;var t=e.session;if(t&&t.bgTokenizer){t.$bracketHighlight&&(t.$bracketHighlight.markerIds.forEach(function(e){t.removeMarker(e)}),t.$bracketHighlight=null);var i=t.getMatchingBracketRanges(e.getCursorPosition());if(!i&&t.$mode.getMatching&&(i=t.$mode.getMatching(e.session)),i){var n="ace_bracket";Array.isArray(i)?1==i.length&&(n="ace_error_bracket"):i=[i],2==i.length&&(0==p.comparePoints(i[0].end,i[1].start)?i=[p.fromPoints(i[0].start,i[1].end)]:0==p.comparePoints(i[0].start,i[1].end)&&(i=[p.fromPoints(i[1].start,i[0].end)])),t.$bracketHighlight={ranges:i,markerIds:i.map(function(e){return t.addMarker(e,n,"text")})}}}},50)}},this.$highlightTags=function(){if(!this.$highlightTagPending){var e=this;this.$highlightTagPending=!0,setTimeout(function(){e.$highlightTagPending=!1;var t=e.session;if(t&&t.bgTokenizer){var i=e.getCursorPosition(),n=new v(e.session,i.row,i.column),o=n.getCurrentToken();if(!o||!/\b(?:tag-open|tag-name)/.test(o.type))return t.removeMarker(t.$tagHighlight),void(t.$tagHighlight=null);if(-1===o.type.indexOf("tag-open")||(o=n.stepForward())){var r=o.value,s=o.value,a=0,l=n.stepBackward();if("<"===l.value)do{l=o,(o=n.stepForward())&&(-1!==o.type.indexOf("tag-name")?r===(s=o.value)&&("<"===l.value?a++:"</"===l.value&&a--):r===s&&"/>"===o.value&&a--)}while(o&&a>=0);else{do{if(o=l,l=n.stepBackward(),o)if(-1!==o.type.indexOf("tag-name"))r===o.value&&("<"===l.value?a++:"</"===l.value&&a--);else if("/>"===o.value){for(var c=0,h=l;h;){if(-1!==h.type.indexOf("tag-name")&&h.value===r){a--;break}if("<"===h.value)break;h=n.stepBackward(),c++}for(var u=0;u<c;u++)n.stepForward()}}while(l&&a<=0);n.stepForward()}if(!o)return t.removeMarker(t.$tagHighlight),void(t.$tagHighlight=null);var d=n.getCurrentTokenRow(),g=n.getCurrentTokenColumn(),f=new p(d,g,d,g+o.value.length),m=t.$backMarkers[t.$tagHighlight];t.$tagHighlight&&null!=m&&0!==f.compareRange(m.range)&&(t.removeMarker(t.$tagHighlight),t.$tagHighlight=null),t.$tagHighlight||(t.$tagHighlight=t.addMarker(f,"ace_bracket","text"))}}},50)}},this.focus=function(){var e=this;setTimeout(function(){e.isFocused()||e.textInput.focus()}),this.textInput.focus()},this.isFocused=function(){return this.textInput.isFocused()},this.blur=function(){this.textInput.blur()},this.onFocus=function(e){this.$isFocused||(this.$isFocused=!0,this.renderer.showCursor(),this.renderer.visualizeFocus(),this._emit("focus",e))},this.onBlur=function(e){!this.$isFocused||(this.$isFocused=!1,this.renderer.hideCursor(),this.renderer.visualizeBlur(),this._emit("blur",e))},this.$cursorChange=function(){this.renderer.updateCursor(),this.$highlightBrackets(),this.$highlightTags(),this.$updateHighlightActiveLine()},this.onDocumentChange=function(e){this.renderer.updateLines(e.start.row,e.start.row==e.end.row?e.end.row:1/0,this.session.$useWrapMode),this._signal("change",e),this.$cursorChange()},this.onTokenizerUpdate=function(e){var t=e.data;this.renderer.updateLines(t.first,t.last)},this.onScrollTopChange=function(){this.renderer.scrollToY(this.session.getScrollTop())},this.onScrollLeftChange=function(){this.renderer.scrollToX(this.session.getScrollLeft())},this.onCursorChange=function(){this.$cursorChange(),this._signal("changeSelection")},this.$updateHighlightActiveLine=function(){var e,t=this.getSession();if(this.$highlightActiveLine&&(("line"!=this.$selectionStyle||!this.selection.isMultiLine())&&(e=this.getCursorPosition()),this.renderer.theme&&this.renderer.theme.$selectionColorConflict&&!this.selection.isEmpty()&&(e=!1),this.renderer.$maxLines&&1===this.session.getLength()&&!(this.renderer.$minLines>1)&&(e=!1)),t.$highlightLineMarker&&!e)t.removeMarker(t.$highlightLineMarker.id),t.$highlightLineMarker=null;else if(!t.$highlightLineMarker&&e){var i=new p(e.row,e.column,e.row,1/0);i.id=t.addMarker(i,"ace_active-line","screenLine"),t.$highlightLineMarker=i}else e&&(t.$highlightLineMarker.start.row=e.row,t.$highlightLineMarker.end.row=e.row,t.$highlightLineMarker.start.column=e.column,t._signal("changeBackMarker"))},this.onSelectionChange=function(e){var t=this.session;if(t.$selectionMarker&&t.removeMarker(t.$selectionMarker),t.$selectionMarker=null,this.selection.isEmpty())this.$updateHighlightActiveLine();else{var i=this.selection.getRange(),n=this.getSelectionStyle();t.$selectionMarker=t.addMarker(i,"ace_selection",n)}var o=this.$highlightSelectedWord&&this.$getSelectionHighLightRegexp();this.session.highlight(o),this._signal("changeSelection")},this.$getSelectionHighLightRegexp=function(){var e=this.session,t=this.getSelectionRange();if(!t.isEmpty()&&!t.isMultiLine()){var i=t.start.column,n=t.end.column,o=e.getLine(t.start.row),r=o.substring(i,n);if(!(r.length>5e3)&&/[\w\d]/.test(r)){var s=this.$search.$assembleRegExp({wholeWord:!0,caseSensitive:!0,needle:r}),a=o.substring(i-1,n+1);if(s.test(a))return s}}},this.onChangeFrontMarker=function(){this.renderer.updateFrontMarkers()},this.onChangeBackMarker=function(){this.renderer.updateBackMarkers()},this.onChangeBreakpoint=function(){this.renderer.updateBreakpoints()},this.onChangeAnnotation=function(){this.renderer.setAnnotations(this.session.getAnnotations())},this.onChangeMode=function(e){this.renderer.updateText(),this._emit("changeMode",e)},this.onChangeWrapLimit=function(){this.renderer.updateFull()},this.onChangeWrapMode=function(){this.renderer.onResize(!0)},this.onChangeFold=function(){this.$updateHighlightActiveLine(),this.renderer.updateFull()},this.getSelectedText=function(){return this.session.getTextRange(this.getSelectionRange())},this.getCopyText=function(){var e=this.getSelectedText(),t=this.session.doc.getNewLineCharacter(),i=!1;if(!e&&this.$copyWithEmptySelection){i=!0;for(var n=this.selection.getAllRanges(),o=0;o<n.length;o++){var r=n[o];o&&n[o-1].start.row==r.start.row||(e+=this.session.getLine(r.start.row)+t)}}var s={text:e};return this._signal("copy",s),y.lineMode=!!i&&s.text,s.text},this.onCopy=function(){this.commands.exec("copy",this)},this.onCut=function(){this.commands.exec("cut",this)},this.onPaste=function(e,t){this.commands.exec("paste",this,{text:e,event:t})},this.$handlePaste=function(e){"string"==typeof e&&(e={text:e}),this._signal("paste",e);var t=e.text,i=t===y.lineMode,n=this.session;if(!this.inMultiSelectMode||this.inVirtualSelectionMode)i?n.insert({row:this.selection.lead.row,column:0},t):this.insert(t);else if(i)this.selection.rangeList.ranges.forEach(function(e){n.insert({row:e.start.row,column:0},t)});else{var o=t.split(/\r\n|\r|\n/),r=this.selection.rangeList.ranges;if(o.length!=r.length||!(2!=o.length||o[0]&&o[1]))return this.commands.exec("insertstring",this,t);for(var s=r.length;s--;){var a=r[s];a.isEmpty()||n.remove(a),n.insert(a.start,o[s])}}},this.execCommand=function(e,t){return this.commands.exec(e,this,t)},this.insert=function(e,t){var i=this.session,n=i.getMode(),o=this.getCursorPosition();if(this.getBehavioursEnabled()&&!t){var r=n.transformAction(i.getState(o.row),"insertion",this,i,e);r&&(e!==r.text&&(this.inVirtualSelectionMode||(this.session.mergeUndoDeltas=!1,this.mergeNextCommand=!1)),e=r.text)}if("\t"==e&&(e=this.session.getTabString()),this.selection.isEmpty())this.session.getOverwrite()&&-1==e.indexOf("\n")&&((s=new p.fromPoints(o,o)).end.column+=e.length,this.session.remove(s));else{var s=this.getSelectionRange();o=this.session.remove(s),this.clearSelection()}if("\n"==e||"\r\n"==e){var a=i.getLine(o.row);if(o.column>a.search(/\S|$/)){var l=a.substr(o.column).search(/\S|$/);i.doc.removeInLine(o.row,o.column,o.column+l)}}this.clearSelection();var c=o.column,h=i.getState(o.row),u=(a=i.getLine(o.row),n.checkOutdent(h,a,e));if(i.insert(o,e),r&&r.selection&&this.selection.setSelectionRange(2==r.selection.length?new p(o.row,c+r.selection[0],o.row,c+r.selection[1]):new p(o.row+r.selection[0],r.selection[1],o.row+r.selection[2],r.selection[3])),this.$enableAutoIndent){if(i.getDocument().isNewLine(e)){var d=n.getNextLineIndent(h,a.slice(0,o.column),i.getTabString());i.insert({row:o.row+1,column:0},d)}u&&n.autoOutdent(h,i,o.row)}},this.autoIndent=function(){var e,t,i=this.session,n=i.getMode();if(this.selection.isEmpty())e=0,t=i.doc.getLength()-1;else{var o=this.getSelectionRange();e=o.start.row,t=o.end.row}for(var r,s,a,l="",c="",h="",u=i.getTabString(),d=e;d<=t;d++)d>0&&(l=i.getState(d-1),c=i.getLine(d-1),h=n.getNextLineIndent(l,c,u)),r=i.getLine(d),h!==(s=n.$getIndent(r))&&(s.length>0&&(a=new p(d,0,d,s.length),i.remove(a)),h.length>0&&i.insert({row:d,column:0},h)),n.autoOutdent(l,i,d)},this.onTextInput=function(e,t){if(!t)return this.keyBinding.onTextInput(e);this.startOperation({command:{name:"insertstring"}});var i=this.applyComposition.bind(this,e,t);this.selection.rangeCount?this.forEachSelection(i):i(),this.endOperation()},this.applyComposition=function(e,t){var i;(t.extendLeft||t.extendRight)&&((i=this.selection.getRange()).start.column-=t.extendLeft,i.end.column+=t.extendRight,i.start.column<0&&(i.start.row--,i.start.column+=this.session.getLine(i.start.row).length+1),this.selection.setRange(i),!e&&!i.isEmpty()&&this.remove()),(e||!this.selection.isEmpty())&&this.insert(e,!0),(t.restoreStart||t.restoreEnd)&&((i=this.selection.getRange()).start.column-=t.restoreStart,i.end.column-=t.restoreEnd,this.selection.setRange(i))},this.onCommandKey=function(e,t,i){return this.keyBinding.onCommandKey(e,t,i)},this.setOverwrite=function(e){this.session.setOverwrite(e)},this.getOverwrite=function(){return this.session.getOverwrite()},this.toggleOverwrite=function(){this.session.toggleOverwrite()},this.setScrollSpeed=function(e){this.setOption("scrollSpeed",e)},this.getScrollSpeed=function(){return this.getOption("scrollSpeed")},this.setDragDelay=function(e){this.setOption("dragDelay",e)},this.getDragDelay=function(){return this.getOption("dragDelay")},this.setSelectionStyle=function(e){this.setOption("selectionStyle",e)},this.getSelectionStyle=function(){return this.getOption("selectionStyle")},this.setHighlightActiveLine=function(e){this.setOption("highlightActiveLine",e)},this.getHighlightActiveLine=function(){return this.getOption("highlightActiveLine")},this.setHighlightGutterLine=function(e){this.setOption("highlightGutterLine",e)},this.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},this.setHighlightSelectedWord=function(e){this.setOption("highlightSelectedWord",e)},this.getHighlightSelectedWord=function(){return this.$highlightSelectedWord},this.setAnimatedScroll=function(e){this.renderer.setAnimatedScroll(e)},this.getAnimatedScroll=function(){return this.renderer.getAnimatedScroll()},this.setShowInvisibles=function(e){this.renderer.setShowInvisibles(e)},this.getShowInvisibles=function(){return this.renderer.getShowInvisibles()},this.setDisplayIndentGuides=function(e){this.renderer.setDisplayIndentGuides(e)},this.getDisplayIndentGuides=function(){return this.renderer.getDisplayIndentGuides()},this.setShowPrintMargin=function(e){this.renderer.setShowPrintMargin(e)},this.getShowPrintMargin=function(){return this.renderer.getShowPrintMargin()},this.setPrintMarginColumn=function(e){this.renderer.setPrintMarginColumn(e)},this.getPrintMarginColumn=function(){return this.renderer.getPrintMarginColumn()},this.setReadOnly=function(e){this.setOption("readOnly",e)},this.getReadOnly=function(){return this.getOption("readOnly")},this.setBehavioursEnabled=function(e){this.setOption("behavioursEnabled",e)},this.getBehavioursEnabled=function(){return this.getOption("behavioursEnabled")},this.setWrapBehavioursEnabled=function(e){this.setOption("wrapBehavioursEnabled",e)},this.getWrapBehavioursEnabled=function(){return this.getOption("wrapBehavioursEnabled")},this.setShowFoldWidgets=function(e){this.setOption("showFoldWidgets",e)},this.getShowFoldWidgets=function(){return this.getOption("showFoldWidgets")},this.setFadeFoldWidgets=function(e){this.setOption("fadeFoldWidgets",e)},this.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},this.remove=function(e){this.selection.isEmpty()&&("left"==e?this.selection.selectLeft():this.selection.selectRight());var t=this.getSelectionRange();if(this.getBehavioursEnabled()){var i=this.session,n=i.getState(t.start.row),o=i.getMode().transformAction(n,"deletion",this,i,t);if(0===t.end.column){var r=i.getTextRange(t);if("\n"==r[r.length-1]){var s=i.getLine(t.end.row);/^\s+$/.test(s)&&(t.end.column=s.length)}}o&&(t=o)}this.session.remove(t),this.clearSelection()},this.removeWordRight=function(){this.selection.isEmpty()&&this.selection.selectWordRight(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeWordLeft=function(){this.selection.isEmpty()&&this.selection.selectWordLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeToLineStart=function(){this.selection.isEmpty()&&this.selection.selectLineStart(),this.selection.isEmpty()&&this.selection.selectLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeToLineEnd=function(){this.selection.isEmpty()&&this.selection.selectLineEnd();var e=this.getSelectionRange();e.start.column==e.end.column&&e.start.row==e.end.row&&(e.end.column=0,e.end.row++),this.session.remove(e),this.clearSelection()},this.splitLine=function(){this.selection.isEmpty()||(this.session.remove(this.getSelectionRange()),this.clearSelection());var e=this.getCursorPosition();this.insert("\n"),this.moveCursorToPosition(e)},this.transposeLetters=function(){if(this.selection.isEmpty()){var e=this.getCursorPosition(),t=e.column;if(0!==t){var i,n,o=this.session.getLine(e.row);t<o.length?(i=o.charAt(t)+o.charAt(t-1),n=new p(e.row,t-1,e.row,t+1)):(i=o.charAt(t-1)+o.charAt(t-2),n=new p(e.row,t-2,e.row,t)),this.session.replace(n,i),this.session.selection.moveToPosition(n.end)}}},this.toLowerCase=function(){var e=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var t=this.getSelectionRange(),i=this.session.getTextRange(t);this.session.replace(t,i.toLowerCase()),this.selection.setSelectionRange(e)},this.toUpperCase=function(){var e=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var t=this.getSelectionRange(),i=this.session.getTextRange(t);this.session.replace(t,i.toUpperCase()),this.selection.setSelectionRange(e)},this.indent=function(){var e=this.session,t=this.getSelectionRange();if(!(t.start.row<t.end.row)){if(t.start.column<t.end.column){var i=e.getTextRange(t);if(!/^\s+$/.test(i))return h=this.$getSelectedRows(),void e.indentRows(h.first,h.last,"\t")}var n=e.getLine(t.start.row),o=t.start,s=e.getTabSize(),a=e.documentToScreenColumn(o.row,o.column);if(this.session.getUseSoftTabs())var l=r.stringRepeat(" ",c=s-a%s);else{for(var c=a%s;" "==n[t.start.column-1]&&c;)t.start.column--,c--;this.selection.setSelectionRange(t),l="\t"}return this.insert(l)}var h=this.$getSelectedRows();e.indentRows(h.first,h.last,"\t")},this.blockIndent=function(){var e=this.$getSelectedRows();this.session.indentRows(e.first,e.last,"\t")},this.blockOutdent=function(){var e=this.session.getSelection();this.session.outdentRows(e.getRange())},this.sortLines=function(){for(var e=this.$getSelectedRows(),t=this.session,i=[],n=e.first;n<=e.last;n++)i.push(t.getLine(n));i.sort(function(e,t){return e.toLowerCase()<t.toLowerCase()?-1:e.toLowerCase()>t.toLowerCase()?1:0});var o=new p(0,0,0,0);for(n=e.first;n<=e.last;n++){var r=t.getLine(n);o.start.row=n,o.end.row=n,o.end.column=r.length,t.replace(o,i[n-e.first])}},this.toggleCommentLines=function(){var e=this.session.getState(this.getCursorPosition().row),t=this.$getSelectedRows();this.session.getMode().toggleCommentLines(e,this.session,t.first,t.last)},this.toggleBlockComment=function(){var e=this.getCursorPosition(),t=this.session.getState(e.row),i=this.getSelectionRange();this.session.getMode().toggleBlockComment(t,this.session,i,e)},this.getNumberAt=function(e,t){var i=/[\-]?[0-9]+(?:\.[0-9]+)?/g;i.lastIndex=0;for(var n=this.session.getLine(e);i.lastIndex<t;){var o=i.exec(n);if(o.index<=t&&o.index+o[0].length>=t)return{value:o[0],start:o.index,end:o.index+o[0].length}}return null},this.modifyNumber=function(e){var t=this.selection.getCursor().row,i=this.selection.getCursor().column,n=new p(t,i-1,t,i),o=this.session.getTextRange(n);if(!isNaN(parseFloat(o))&&isFinite(o)){var r=this.getNumberAt(t,i);if(r){var s=r.value.indexOf(".")>=0?r.start+r.value.indexOf(".")+1:r.end,a=r.start+r.value.length-s,l=parseFloat(r.value);l*=Math.pow(10,a),l+=e*=s!==r.end&&i<s?Math.pow(10,r.end-i-1):Math.pow(10,r.end-i);var c=(l/=Math.pow(10,a)).toFixed(a),h=new p(t,r.start,t,r.end);this.session.replace(h,c),this.moveCursorTo(t,Math.max(r.start+1,i+c.length-r.value.length))}}else this.toggleWord()},this.$toggleWordPairs=[["first","last"],["true","false"],["yes","no"],["width","height"],["top","bottom"],["right","left"],["on","off"],["x","y"],["get","set"],["max","min"],["horizontal","vertical"],["show","hide"],["add","remove"],["up","down"],["before","after"],["even","odd"],["in","out"],["inside","outside"],["next","previous"],["increase","decrease"],["attach","detach"],["&&","||"],["==","!="]],this.toggleWord=function(){var e=this.selection.getCursor().row,t=this.selection.getCursor().column;this.selection.selectWord();var i=this.getSelectedText(),n=this.selection.getWordRange().start.column,o=i.replace(/([a-z]+|[A-Z]+)(?=[A-Z_]|$)/g,"$1 ").split(/\s/),s=t-n-1;s<0&&(s=0);var a=0,l=0,c=this;i.match(/[A-Za-z0-9_]+/)&&o.forEach(function(t,o){l=a+t.length,s>=a&&s<=l&&(i=t,c.selection.clearSelection(),c.moveCursorTo(e,a+n),c.selection.selectTo(e,l+n)),a=l});for(var h,u=this.$toggleWordPairs,d=0;d<u.length;d++)for(var p=u[d],g=0;g<=1;g++){var f=+!g,m=i.match(new RegExp("^\\s?_?("+r.escapeRegExp(p[g])+")\\s?$","i"));m&&i.match(new RegExp("([_]|^|\\s)("+r.escapeRegExp(m[1])+")($|\\s)","g"))&&(h=i.replace(new RegExp(r.escapeRegExp(p[g]),"i"),function(e){var t=p[f];return e.toUpperCase()==e?t=t.toUpperCase():e.charAt(0).toUpperCase()==e.charAt(0)&&(t=t.substr(0,0)+p[f].charAt(0).toUpperCase()+t.substr(1)),t}),this.insert(h),h="")}},this.removeLines=function(){var e=this.$getSelectedRows();this.session.removeFullLines(e.first,e.last),this.clearSelection()},this.duplicateSelection=function(){var e=this.selection,t=this.session,i=e.getRange(),n=e.isBackwards();if(i.isEmpty()){var o=i.start.row;t.duplicateLines(o,o)}else{var r=n?i.start:i.end,s=t.insert(r,t.getTextRange(i),!1);i.start=r,i.end=s,e.setSelectionRange(i,n)}},this.moveLinesDown=function(){this.$moveLines(1,!1)},this.moveLinesUp=function(){this.$moveLines(-1,!1)},this.moveText=function(e,t,i){return this.session.moveText(e,t,i)},this.copyLinesUp=function(){this.$moveLines(-1,!0)},this.copyLinesDown=function(){this.$moveLines(1,!0)},this.$moveLines=function(e,t){var i,n,o=this.selection;if(!o.inMultiSelectMode||this.inVirtualSelectionMode){var r=o.toOrientedRange();i=this.$getSelectedRows(r),n=this.session.$moveLines(i.first,i.last,t?0:e),t&&-1==e&&(n=0),r.moveBy(n,0),o.fromOrientedRange(r)}else{var s=o.rangeList.ranges;o.rangeList.detach(this.session),this.inVirtualSelectionMode=!0;for(var a=0,l=0,c=s.length,h=0;h<c;h++){var u=h;s[h].moveBy(a,0);for(var d=(i=this.$getSelectedRows(s[h])).first,p=i.last;++h<c;){l&&s[h].moveBy(l,0);var g=this.$getSelectedRows(s[h]);if(t&&g.first!=p)break;if(!t&&g.first>p+1)break;p=g.last}for(h--,a=this.session.$moveLines(d,p,t?0:e),t&&-1==e&&(u=h+1);u<=h;)s[u].moveBy(a,0),u++;t||(a=0),l+=a}o.fromOrientedRange(o.ranges[0]),o.rangeList.attach(this.session),this.inVirtualSelectionMode=!1}},this.$getSelectedRows=function(e){return e=(e||this.getSelectionRange()).collapseRows(),{first:this.session.getRowFoldStart(e.start.row),last:this.session.getRowFoldEnd(e.end.row)}},this.onCompositionStart=function(e){this.renderer.showComposition(e)},this.onCompositionUpdate=function(e){this.renderer.setCompositionText(e)},this.onCompositionEnd=function(){this.renderer.hideComposition()},this.getFirstVisibleRow=function(){return this.renderer.getFirstVisibleRow()},this.getLastVisibleRow=function(){return this.renderer.getLastVisibleRow()},this.isRowVisible=function(e){return e>=this.getFirstVisibleRow()&&e<=this.getLastVisibleRow()},this.isRowFullyVisible=function(e){return e>=this.renderer.getFirstFullyVisibleRow()&&e<=this.renderer.getLastFullyVisibleRow()},this.$getVisibleRowCount=function(){return this.renderer.getScrollBottomRow()-this.renderer.getScrollTopRow()+1},this.$moveByPage=function(e,t){var i=this.renderer,n=this.renderer.layerConfig,o=e*Math.floor(n.height/n.lineHeight);!0===t?this.selection.$moveSelection(function(){this.moveCursorBy(o,0)}):!1===t&&(this.selection.moveCursorBy(o,0),this.selection.clearSelection());var r=i.scrollTop;i.scrollBy(0,o*n.lineHeight),null!=t&&i.scrollCursorIntoView(null,.5),i.animateScrolling(r)},this.selectPageDown=function(){this.$moveByPage(1,!0)},this.selectPageUp=function(){this.$moveByPage(-1,!0)},this.gotoPageDown=function(){this.$moveByPage(1,!1)},this.gotoPageUp=function(){this.$moveByPage(-1,!1)},this.scrollPageDown=function(){this.$moveByPage(1)},this.scrollPageUp=function(){this.$moveByPage(-1)},this.scrollToRow=function(e){this.renderer.scrollToRow(e)},this.scrollToLine=function(e,t,i,n){this.renderer.scrollToLine(e,t,i,n)},this.centerSelection=function(){var e=this.getSelectionRange(),t={row:Math.floor(e.start.row+(e.end.row-e.start.row)/2),column:Math.floor(e.start.column+(e.end.column-e.start.column)/2)};this.renderer.alignCursor(t,.5)},this.getCursorPosition=function(){return this.selection.getCursor()},this.getCursorPositionScreen=function(){return this.session.documentToScreenPosition(this.getCursorPosition())},this.getSelectionRange=function(){return this.selection.getRange()},this.selectAll=function(){this.selection.selectAll()},this.clearSelection=function(){this.selection.clearSelection()},this.moveCursorTo=function(e,t){this.selection.moveCursorTo(e,t)},this.moveCursorToPosition=function(e){this.selection.moveCursorToPosition(e)},this.jumpToMatching=function(e,t){var i=this.getCursorPosition(),n=new v(this.session,i.row,i.column),o=n.getCurrentToken(),r=o||n.stepForward();if(r){var s,a,l=!1,c={},h=i.column-r.start,u={")":"(","(":"(","]":"[","[":"[","{":"{","}":"{"};do{if(r.value.match(/[{}()\[\]]/g)){for(;h<r.value.length&&!l;h++)if(u[r.value[h]])switch(a=u[r.value[h]]+"."+r.type.replace("rparen","lparen"),isNaN(c[a])&&(c[a]=0),r.value[h]){case"(":case"[":case"{":c[a]++;break;case")":case"]":case"}":c[a]--,-1===c[a]&&(s="bracket",l=!0)}}else-1!==r.type.indexOf("tag-name")&&(isNaN(c[r.value])&&(c[r.value]=0),"<"===o.value?c[r.value]++:"</"===o.value&&c[r.value]--,-1===c[r.value]&&(s="tag",l=!0));l||(o=r,r=n.stepForward(),h=0)}while(r&&!l);if(s){var d,g;if("bracket"===s)(d=this.session.getBracketRange(i))||(g=(d=new p(n.getCurrentTokenRow(),n.getCurrentTokenColumn()+h-1,n.getCurrentTokenRow(),n.getCurrentTokenColumn()+h-1)).start,(t||g.row===i.row&&Math.abs(g.column-i.column)<2)&&(d=this.session.getBracketRange(g)));else if("tag"===s){if(!r||-1===r.type.indexOf("tag-name"))return;var f=r.value;if(0===(d=new p(n.getCurrentTokenRow(),n.getCurrentTokenColumn()-2,n.getCurrentTokenRow(),n.getCurrentTokenColumn()-2)).compare(i.row,i.column)){l=!1;do{r=o,(o=n.stepBackward())&&(-1!==o.type.indexOf("tag-close")&&d.setEnd(n.getCurrentTokenRow(),n.getCurrentTokenColumn()+1),r.value===f&&-1!==r.type.indexOf("tag-name")&&("<"===o.value?c[f]++:"</"===o.value&&c[f]--,0===c[f]&&(l=!0)))}while(o&&!l)}r&&r.type.indexOf("tag-name")&&(g=d.start).row==i.row&&Math.abs(g.column-i.column)<2&&(g=d.end)}(g=d&&d.cursor||g)&&(e?d&&t?this.selection.setRange(d):d&&d.isEqual(this.getSelectionRange())?this.clearSelection():this.selection.selectTo(g.row,g.column):this.selection.moveTo(g.row,g.column))}}},this.gotoLine=function(e,t,i){this.selection.clearSelection(),this.session.unfold({row:e-1,column:t||0}),this.exitMultiSelectMode&&this.exitMultiSelectMode(),this.moveCursorTo(e-1,t||0),this.isRowFullyVisible(e-1)||this.scrollToLine(e-1,!0,i)},this.navigateTo=function(e,t){this.selection.moveTo(e,t)},this.navigateUp=function(e){if(this.selection.isMultiLine()&&!this.selection.isBackwards()){var t=this.selection.anchor.getPosition();return this.moveCursorToPosition(t)}this.selection.clearSelection(),this.selection.moveCursorBy(-e||-1,0)},this.navigateDown=function(e){if(this.selection.isMultiLine()&&this.selection.isBackwards()){var t=this.selection.anchor.getPosition();return this.moveCursorToPosition(t)}this.selection.clearSelection(),this.selection.moveCursorBy(e||1,0)},this.navigateLeft=function(e){if(this.selection.isEmpty())for(e=e||1;e--;)this.selection.moveCursorLeft();else{var t=this.getSelectionRange().start;this.moveCursorToPosition(t)}this.clearSelection()},this.navigateRight=function(e){if(this.selection.isEmpty())for(e=e||1;e--;)this.selection.moveCursorRight();else{var t=this.getSelectionRange().end;this.moveCursorToPosition(t)}this.clearSelection()},this.navigateLineStart=function(){this.selection.moveCursorLineStart(),this.clearSelection()},this.navigateLineEnd=function(){this.selection.moveCursorLineEnd(),this.clearSelection()},this.navigateFileEnd=function(){this.selection.moveCursorFileEnd(),this.clearSelection()},this.navigateFileStart=function(){this.selection.moveCursorFileStart(),this.clearSelection()},this.navigateWordRight=function(){this.selection.moveCursorWordRight(),this.clearSelection()},this.navigateWordLeft=function(){this.selection.moveCursorWordLeft(),this.clearSelection()},this.replace=function(e,t){t&&this.$search.set(t);var i=this.$search.find(this.session),n=0;return i&&(this.$tryReplace(i,e)&&(n=1),this.selection.setSelectionRange(i),this.renderer.scrollSelectionIntoView(i.start,i.end)),n},this.replaceAll=function(e,t){t&&this.$search.set(t);var i=this.$search.findAll(this.session),n=0;if(!i.length)return n;var o=this.getSelectionRange();this.selection.moveTo(0,0);for(var r=i.length-1;r>=0;--r)this.$tryReplace(i[r],e)&&n++;return this.selection.setSelectionRange(o),n},this.$tryReplace=function(e,t){var i=this.session.getTextRange(e);return null!==(t=this.$search.replace(i,t))?(e.end=this.session.replace(e,t),e):null},this.getLastSearchOptions=function(){return this.$search.getOptions()},this.find=function(e,t,i){t||(t={}),"string"==typeof e||e instanceof RegExp?t.needle=e:"object"==typeof e&&n.mixin(t,e);var o=this.selection.getRange();null==t.needle&&((e=this.session.getTextRange(o)||this.$search.$options.needle)||(o=this.session.getWordRange(o.start.row,o.start.column),e=this.session.getTextRange(o)),this.$search.set({needle:e})),this.$search.set(t),t.start||this.$search.set({start:o});var r=this.$search.find(this.session);return t.preventScroll?r:r?(this.revealRange(r,i),r):(t.backwards?o.start=o.end:o.end=o.start,void this.selection.setRange(o))},this.findNext=function(e,t){this.find({skipCurrent:!0,backwards:!1},e,t)},this.findPrevious=function(e,t){this.find(e,{skipCurrent:!0,backwards:!0},t)},this.revealRange=function(e,t){this.session.unfold(e),this.selection.setSelectionRange(e);var i=this.renderer.scrollTop;this.renderer.scrollSelectionIntoView(e.start,e.end,.5),!1!==t&&this.renderer.animateScrolling(i)},this.undo=function(){this.session.getUndoManager().undo(this.session),this.renderer.scrollCursorIntoView(null,.5)},this.redo=function(){this.session.getUndoManager().redo(this.session),this.renderer.scrollCursorIntoView(null,.5)},this.destroy=function(){this.$toDestroy&&(this.$toDestroy.forEach(function(e){e.destroy()}),this.$toDestroy=null),this.$mouseHandler&&this.$mouseHandler.destroy(),this.renderer.destroy(),this._signal("destroy",this),this.session&&this.session.destroy(),this._$emitInputEvent&&this._$emitInputEvent.cancel(),this.removeAllListeners()},this.setAutoScrollEditorIntoView=function(e){if(e){var t,i=this,n=!1;this.$scrollAnchor||(this.$scrollAnchor=document.createElement("div"));var o=this.$scrollAnchor;o.style.cssText="position:absolute",this.container.insertBefore(o,this.container.firstChild);var r=this.on("changeSelection",function(){n=!0}),s=this.renderer.on("beforeRender",function(){n&&(t=i.renderer.container.getBoundingClientRect())}),a=this.renderer.on("afterRender",function(){if(n&&t&&(i.isFocused()||i.searchBox&&i.searchBox.isFocused())){var e=i.renderer,r=e.$cursorLayer.$pixelPos,s=e.layerConfig,a=r.top-s.offset;null!=(n=r.top>=0&&a+t.top<0||!(r.top<s.height&&r.top+t.top+s.lineHeight>window.innerHeight)&&null)&&(o.style.top=a+"px",o.style.left=r.left+"px",o.style.height=s.lineHeight+"px",o.scrollIntoView(n)),n=t=null}});this.setAutoScrollEditorIntoView=function(e){e||(delete this.setAutoScrollEditorIntoView,this.off("changeSelection",r),this.renderer.off("afterRender",a),this.renderer.off("beforeRender",s))}}},this.$resetCursorStyle=function(){var e=this.$cursorStyle||"ace",t=this.renderer.$cursorLayer;!t||(t.setSmoothBlinking(/smooth/.test(e)),t.isBlinking=!this.$readOnly&&"wide"!=e,o.setCssClass(t.element,"ace_slim-cursors",/slim/.test(e)))},this.prompt=function(e,t,i){var n=this;_.loadModule("./ext/prompt",function(o){o.prompt(n,e,t,i)})}}).call(b.prototype),_.defineOptions(b.prototype,"editor",{selectionStyle:{set:function(e){this.onSelectionChange(),this._signal("changeSelectionStyle",{data:e})},initialValue:"line"},highlightActiveLine:{set:function(){this.$updateHighlightActiveLine()},initialValue:!0},highlightSelectedWord:{set:function(e){this.$onSelectionChange()},initialValue:!0},readOnly:{set:function(e){this.textInput.setReadOnly(e),this.$resetCursorStyle()},initialValue:!1},copyWithEmptySelection:{set:function(e){this.textInput.setCopyWithEmptySelection(e)},initialValue:!1},cursorStyle:{set:function(e){this.$resetCursorStyle()},values:["ace","slim","smooth","wide"],initialValue:"ace"},mergeUndoDeltas:{values:[!1,!0,"always"],initialValue:!0},behavioursEnabled:{initialValue:!0},wrapBehavioursEnabled:{initialValue:!0},enableAutoIndent:{initialValue:!0},autoScrollEditorIntoView:{set:function(e){this.setAutoScrollEditorIntoView(e)}},keyboardHandler:{set:function(e){this.setKeyboardHandler(e)},get:function(){return this.$keybindingId},handlesSet:!0},value:{set:function(e){this.session.setValue(e)},get:function(){return this.getValue()},handlesSet:!0,hidden:!0},session:{set:function(e){this.setSession(e)},get:function(){return this.session},handlesSet:!0,hidden:!0},showLineNumbers:{set:function(e){this.renderer.$gutterLayer.setShowLineNumbers(e),this.renderer.$loop.schedule(this.renderer.CHANGE_GUTTER),e&&this.$relativeLineNumbers?w.attach(this):w.detach(this)},initialValue:!0},relativeLineNumbers:{set:function(e){this.$showLineNumbers&&e?w.attach(this):w.detach(this)}},placeholder:{set:function(e){this.$updatePlaceholder||(this.$updatePlaceholder=(function(){var e=this.session&&(this.renderer.$composition||this.getValue());if(e&&this.renderer.placeholderNode)this.renderer.off("afterRender",this.$updatePlaceholder),o.removeCssClass(this.container,"ace_hasPlaceholder"),this.renderer.placeholderNode.remove(),this.renderer.placeholderNode=null;else if(e||this.renderer.placeholderNode)!e&&this.renderer.placeholderNode&&(this.renderer.placeholderNode.textContent=this.$placeholder||"");else{this.renderer.on("afterRender",this.$updatePlaceholder),o.addCssClass(this.container,"ace_hasPlaceholder");var t=o.createElement("div");t.className="ace_placeholder",t.textContent=this.$placeholder||"",this.renderer.placeholderNode=t,this.renderer.content.appendChild(this.renderer.placeholderNode)}}).bind(this),this.on("input",this.$updatePlaceholder)),this.$updatePlaceholder()}},hScrollBarAlwaysVisible:"renderer",vScrollBarAlwaysVisible:"renderer",highlightGutterLine:"renderer",animatedScroll:"renderer",showInvisibles:"renderer",showPrintMargin:"renderer",printMarginColumn:"renderer",printMargin:"renderer",fadeFoldWidgets:"renderer",showFoldWidgets:"renderer",displayIndentGuides:"renderer",showGutter:"renderer",fontSize:"renderer",fontFamily:"renderer",maxLines:"renderer",minLines:"renderer",scrollPastEnd:"renderer",fixedWidthGutter:"renderer",theme:"renderer",hasCssTransforms:"renderer",maxPixelHeight:"renderer",useTextareaForIME:"renderer",scrollSpeed:"$mouseHandler",dragDelay:"$mouseHandler",dragEnabled:"$mouseHandler",focusTimeout:"$mouseHandler",tooltipFollowsMouse:"$mouseHandler",firstLineNumber:"session",overwrite:"session",newLineMode:"session",useWorker:"session",useSoftTabs:"session",navigateWithinSoftTabs:"session",tabSize:"session",wrap:"session",indentedSoftWrap:"session",foldStyle:"session",mode:"session"});var w={getText:function(e,t){return(Math.abs(e.selection.lead.row-t)||t+1+(t<9?"\xb7":""))+""},getWidth:function(e,t,i){return Math.max(t.toString().length,(i.lastRow+1).toString().length,2)*i.characterWidth},update:function(e,t){t.renderer.$loop.schedule(t.renderer.CHANGE_GUTTER)},attach:function(e){e.renderer.$gutterLayer.$renderer=this,e.on("changeSelection",this.update),this.update(null,e)},detach:function(e){e.renderer.$gutterLayer.$renderer==this&&(e.renderer.$gutterLayer.$renderer=null),e.off("changeSelection",this.update),this.update(null,e)}};t.Editor=b}),ace.define("ace/undomanager",["require","exports","module","ace/range"],function(e,t,i){"use strict";var n=function(){this.$maxRev=0,this.$fromUndo=!1,this.reset()};(function(){this.addSession=function(e){this.$session=e},this.add=function(e,t,i){this.$fromUndo||e!=this.$lastDelta&&(this.$keepRedoStack||(this.$redoStack.length=0),(!1===t||!this.lastDeltas)&&(this.lastDeltas=[],this.$undoStack.push(this.lastDeltas),e.id=this.$rev=++this.$maxRev),("remove"==e.action||"insert"==e.action)&&(this.$lastDelta=e),this.lastDeltas.push(e))},this.addSelection=function(e,t){this.selections.push({value:e,rev:t||this.$rev})},this.startNewGroup=function(){return this.lastDeltas=null,this.$rev},this.markIgnored=function(e,t){null==t&&(t=this.$rev+1);for(var i=this.$undoStack,n=i.length;n--;){var o=i[n][0];if(o.id<=e)break;o.id<t&&(o.ignore=!0)}this.lastDeltas=null},this.getSelection=function(e,t){for(var i=this.selections,n=i.length;n--;){var o=i[n];if(o.rev<e)return t&&(o=i[n+1]),o}},this.getRevision=function(){return this.$rev},this.getDeltas=function(e,t){null==t&&(t=this.$rev+1);for(var i=this.$undoStack,n=null,o=0,r=i.length;r--;){var s=i[r][0];if(s.id<t&&!n&&(n=r+1),s.id<=e){o=r+1;break}}return i.slice(o,n)},this.getChangedRanges=function(e,t){null==t&&(t=this.$rev+1)},this.getChangedLines=function(e,t){null==t&&(t=this.$rev+1)},this.undo=function(e,t){this.lastDeltas=null;var i=this.$undoStack;if(function(e,t){for(var i=t;i--;){var n=e[i];if(n&&!n[0].ignore){for(;i<t-1;){var o=h(e[i],e[i+1]);e[i]=o[0],e[i+1]=o[1],i++}return!0}}}(i,i.length)){e||(e=this.$session),this.$redoStackBaseRev!==this.$rev&&this.$redoStack.length&&(this.$redoStack=[]),this.$fromUndo=!0;var n=i.pop(),o=null;return n&&(o=e.undoChanges(n,t),this.$redoStack.push(n),this.$syncRev()),this.$fromUndo=!1,o}},this.redo=function(e,t){if(this.lastDeltas=null,e||(e=this.$session),this.$fromUndo=!0,this.$redoStackBaseRev!=this.$rev){var i=this.getDeltas(this.$redoStackBaseRev,this.$rev+1);(function(e,t){for(var i=0;i<t.length;i++)for(var n=t[i],o=0;o<n.length;o++)f(e,n[o])})(this.$redoStack,i),this.$redoStackBaseRev=this.$rev,this.$redoStack.forEach(function(e){e[0].id=++this.$maxRev},this)}var n=this.$redoStack.pop(),o=null;return n&&(o=e.redoChanges(n,t),this.$undoStack.push(n),this.$syncRev()),this.$fromUndo=!1,o},this.$syncRev=function(){var e=this.$undoStack,t=e[e.length-1],i=t&&t[0].id||0;this.$redoStackBaseRev=i,this.$rev=i},this.reset=function(){this.lastDeltas=null,this.$lastDelta=null,this.$undoStack=[],this.$redoStack=[],this.$rev=0,this.mark=0,this.$redoStackBaseRev=this.$rev,this.selections=[]},this.canUndo=function(){return this.$undoStack.length>0},this.canRedo=function(){return this.$redoStack.length>0},this.bookmark=function(e){null==e&&(e=this.$rev),this.mark=e},this.isAtBookmark=function(){return this.$rev===this.mark},this.toJSON=function(){},this.fromJSON=function(){},this.hasUndo=this.canUndo,this.hasRedo=this.canRedo,this.isClean=this.isAtBookmark,this.markClean=this.bookmark,this.$prettyPrint=function(e){return e?a(e):a(this.$undoStack)+"\n---\n"+a(this.$redoStack)}}).call(n.prototype);var o=e("./range").Range,r=o.comparePoints;function s(e){return{row:e.row,column:e.column}}function a(e){if(e=e||this,Array.isArray(e))return e.map(a).join("\n");var t="";return e.action?(t="insert"==e.action?"+":"-",t+="["+e.lines+"]"):e.value&&(t=Array.isArray(e.value)?e.value.map(l).join("\n"):l(e.value)),e.start&&(t+=l(e)),(e.id||e.rev)&&(t+="\t("+(e.id||e.rev)+")"),t}function l(e){return e.start.row+":"+e.start.column+"=>"+e.end.row+":"+e.end.column}function c(e,t){var i="insert"==e.action,n="insert"==t.action;if(i&&n)if(r(t.start,e.end)>=0)d(t,e,-1);else{if(!(r(t.start,e.start)<=0))return null;d(e,t,1)}else if(i&&!n)if(r(t.start,e.end)>=0)d(t,e,-1);else{if(!(r(t.end,e.start)<=0))return null;d(e,t,-1)}else if(!i&&n)if(r(t.start,e.start)>=0)d(t,e,1);else{if(!(r(t.start,e.start)<=0))return null;d(e,t,1)}else if(!i&&!n)if(r(t.start,e.start)>=0)d(t,e,1);else{if(!(r(t.end,e.start)<=0))return null;d(e,t,-1)}return[t,e]}function h(e,t){for(var i=e.length;i--;)for(var n=0;n<t.length;n++)if(!c(e[i],t[n])){for(;i<e.length;){for(;n--;)c(t[n],e[i]);n=t.length,i++}return[e,t]}return e.selectionBefore=t.selectionBefore=e.selectionAfter=t.selectionAfter=null,[t,e]}function u(e,t){var i="insert"==e.action,n="insert"==t.action;if(i&&n)r(e.start,t.start)<0?d(t,e,1):d(e,t,1);else if(i&&!n)r(e.start,t.end)>=0?d(e,t,-1):(r(e.start,t.start)<=0||d(e,o.fromPoints(t.start,e.start),-1),d(t,e,1));else if(!i&&n)r(t.start,e.end)>=0?d(t,e,-1):(r(t.start,e.start)<=0||d(t,o.fromPoints(e.start,t.start),-1),d(e,t,1));else if(!i&&!n)if(r(t.start,e.end)>=0)d(t,e,-1);else{var s,a;if(!(r(t.end,e.start)<=0))return r(e.start,t.start)<0&&(s=e,e=g(e,t.start)),r(e.end,t.end)>0&&(a=g(e,t.end)),p(t.end,e.start,e.end,-1),a&&!s&&(e.lines=a.lines,e.start=a.start,e.end=a.end,a=e),[t,s,a].filter(Boolean);d(e,t,-1)}return[t,e]}function d(e,t,i){p(e.start,t.start,t.end,i),p(e.end,t.start,t.end,i)}function p(e,t,i,n){e.row==(1==n?t:i).row&&(e.column+=n*(i.column-t.column)),e.row+=n*(i.row-t.row)}function g(e,t){var i=e.lines,n=e.end;e.end=s(t);var o=e.end.row-e.start.row,r=i.splice(o,i.length),a=o?t.column:t.column-e.start.column;return i.push(r[0].substring(0,a)),r[0]=r[0].substr(a),{start:s(t),end:n,lines:r,action:e.action}}function f(e,t){t=function(e){return{start:s(e.start),end:s(e.end),action:e.action,lines:e.lines.slice()}}(t);for(var i=e.length;i--;){for(var n=e[i],o=0;o<n.length;o++){var r=u(n[o],t);t=r[0],2!=r.length&&(r[2]?(n.splice(o+1,1,r[1],r[2]),o++):r[1]||(n.splice(o,1),o--))}n.length||e.splice(i,1)}return e}t.UndoManager=n}),ace.define("ace/layer/lines",["require","exports","module","ace/lib/dom"],function(e,t,i){"use strict";var n=e("../lib/dom"),o=function(e,t){this.element=e,this.canvasHeight=t||5e5,this.element.style.height=2*this.canvasHeight+"px",this.cells=[],this.cellCache=[],this.$offsetCoefficient=0};(function(){this.moveContainer=function(e){n.translate(this.element,0,-e.firstRowScreen*e.lineHeight%this.canvasHeight-e.offset*this.$offsetCoefficient)},this.pageChanged=function(e,t){return Math.floor(e.firstRowScreen*e.lineHeight/this.canvasHeight)!==Math.floor(t.firstRowScreen*t.lineHeight/this.canvasHeight)},this.computeLineTop=function(e,t,i){var n=Math.floor(t.firstRowScreen*t.lineHeight/this.canvasHeight);return i.documentToScreenRow(e,0)*t.lineHeight-n*this.canvasHeight},this.computeLineHeight=function(e,t,i){return t.lineHeight*i.getRowLineCount(e)},this.getLength=function(){return this.cells.length},this.get=function(e){return this.cells[e]},this.shift=function(){this.$cacheCell(this.cells.shift())},this.pop=function(){this.$cacheCell(this.cells.pop())},this.push=function(e){if(Array.isArray(e)){this.cells.push.apply(this.cells,e);for(var t=n.createFragment(this.element),i=0;i<e.length;i++)t.appendChild(e[i].element);this.element.appendChild(t)}else this.cells.push(e),this.element.appendChild(e.element)},this.unshift=function(e){if(Array.isArray(e)){this.cells.unshift.apply(this.cells,e);for(var t=n.createFragment(this.element),i=0;i<e.length;i++)t.appendChild(e[i].element);this.element.firstChild?this.element.insertBefore(t,this.element.firstChild):this.element.appendChild(t)}else this.cells.unshift(e),this.element.insertAdjacentElement("afterbegin",e.element)},this.last=function(){return this.cells.length?this.cells[this.cells.length-1]:null},this.$cacheCell=function(e){!e||(e.element.remove(),this.cellCache.push(e))},this.createCell=function(e,t,i,o){var r=this.cellCache.pop();if(!r){var s=n.createElement("div");o&&o(s),this.element.appendChild(s),r={element:s,text:"",row:e}}return r.row=e,r}}).call(o.prototype),t.Lines=o}),ace.define("ace/layer/gutter",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/layer/lines"],function(e,t,i){"use strict";var n=e("../lib/dom"),o=e("../lib/oop"),r=e("../lib/lang"),s=e("../lib/event_emitter").EventEmitter,a=e("./lines").Lines,l=function(e){this.element=n.createElement("div"),this.element.className="ace_layer ace_gutter-layer",e.appendChild(this.element),this.setShowFoldWidgets(this.$showFoldWidgets),this.gutterWidth=0,this.$annotations=[],this.$updateAnnotations=this.$updateAnnotations.bind(this),this.$lines=new a(this.element),this.$lines.$offsetCoefficient=1};function c(e){var t=document.createTextNode("");e.appendChild(t);var i=n.createElement("span");return e.appendChild(i),e}(function(){o.implement(this,s),this.setSession=function(e){this.session&&this.session.off("change",this.$updateAnnotations),this.session=e,e&&e.on("change",this.$updateAnnotations)},this.addGutterDecoration=function(e,t){window.console&&console.warn&&console.warn("deprecated use session.addGutterDecoration"),this.session.addGutterDecoration(e,t)},this.removeGutterDecoration=function(e,t){window.console&&console.warn&&console.warn("deprecated use session.removeGutterDecoration"),this.session.removeGutterDecoration(e,t)},this.setAnnotations=function(e){this.$annotations=[];for(var t=0;t<e.length;t++){var i=e[t],n=i.row,o=this.$annotations[n];o||(o=this.$annotations[n]={text:[]});var s=i.text;s=s?r.escapeHTML(s):i.html||"",-1===o.text.indexOf(s)&&o.text.push(s);var a=i.type;"error"==a?o.className=" ace_error":"warning"==a&&" ace_error"!=o.className?o.className=" ace_warning":"info"==a&&!o.className&&(o.className=" ace_info")}},this.$updateAnnotations=function(e){if(this.$annotations.length){var t=e.start.row,i=e.end.row-t;if(0!==i)if("remove"==e.action)this.$annotations.splice(t,i+1,null);else{var n=new Array(i+1);n.unshift(t,1),this.$annotations.splice.apply(this.$annotations,n)}}},this.update=function(e){this.config=e;var t=this.session,i=e.firstRow,n=Math.min(e.lastRow+e.gutterOffset,t.getLength()-1);this.oldLastRow=n,this.config=e,this.$lines.moveContainer(e),this.$updateCursorRow();for(var o=t.getNextFoldLine(i),r=o?o.start.row:1/0,s=null,a=-1,l=i;;){if(l>r&&(r=(o=t.getNextFoldLine(l=o.end.row+1,o))?o.start.row:1/0),l>n){for(;this.$lines.getLength()>a+1;)this.$lines.pop();break}(s=this.$lines.get(++a))?s.row=l:(s=this.$lines.createCell(l,e,this.session,c),this.$lines.push(s)),this.$renderCell(s,e,o,l),l++}this._signal("afterRender"),this.$updateGutterWidth(e)},this.$updateGutterWidth=function(e){var t=this.session,i=t.gutterRenderer||this.$renderer,n=t.$firstLineNumber,o=this.$lines.last()?this.$lines.last().text:"";(this.$fixedWidth||t.$useWrapMode)&&(o=t.getLength()+n-1);var r=i?i.getWidth(t,o,e):o.toString().length*e.characterWidth,s=this.$padding||this.$computePadding();(r+=s.left+s.right)!==this.gutterWidth&&!isNaN(r)&&(this.gutterWidth=r,this.element.parentNode.style.width=this.element.style.width=Math.ceil(this.gutterWidth)+"px",this._signal("changeGutterWidth",r))},this.$updateCursorRow=function(){if(this.$highlightGutterLine){var e=this.session.selection.getCursor();this.$cursorRow!==e.row&&(this.$cursorRow=e.row)}},this.updateLineHighlight=function(){if(this.$highlightGutterLine){var e=this.session.selection.cursor.row;if(this.$cursorRow=e,!this.$cursorCell||this.$cursorCell.row!=e){this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ",""));var t=this.$lines.cells;this.$cursorCell=null;for(var i=0;i<t.length;i++){var n=t[i];if(n.row>=this.$cursorRow){if(n.row>this.$cursorRow){var o=this.session.getFoldLine(this.$cursorRow);if(!(i>0&&o&&o.start.row==t[i-1].row))break;n=t[i-1]}n.element.className="ace_gutter-active-line "+n.element.className,this.$cursorCell=n;break}}}}},this.scrollLines=function(e){var t=this.config;if(this.config=e,this.$updateCursorRow(),this.$lines.pageChanged(t,e))return this.update(e);this.$lines.moveContainer(e);var i=Math.min(e.lastRow+e.gutterOffset,this.session.getLength()-1),n=this.oldLastRow;if(this.oldLastRow=i,!t||n<e.firstRow)return this.update(e);if(i<t.firstRow)return this.update(e);if(t.firstRow<e.firstRow)for(var o=this.session.getFoldedRowCount(t.firstRow,e.firstRow-1);o>0;o--)this.$lines.shift();if(n>i)for(o=this.session.getFoldedRowCount(i+1,n);o>0;o--)this.$lines.pop();e.firstRow<t.firstRow&&this.$lines.unshift(this.$renderLines(e,e.firstRow,t.firstRow-1)),i>n&&this.$lines.push(this.$renderLines(e,n+1,i)),this.updateLineHighlight(),this._signal("afterRender"),this.$updateGutterWidth(e)},this.$renderLines=function(e,t,i){for(var n=[],o=t,r=this.session.getNextFoldLine(o),s=r?r.start.row:1/0;o>s&&(s=(r=this.session.getNextFoldLine(o=r.end.row+1,r))?r.start.row:1/0),!(o>i);){var a=this.$lines.createCell(o,e,this.session,c);this.$renderCell(a,e,r,o),n.push(a),o++}return n},this.$renderCell=function(e,t,i,o){var r=e.element,s=this.session,a=r.childNodes[0],l=r.childNodes[1],c=s.$firstLineNumber,h=s.$breakpoints,u=s.$decorations,d=s.gutterRenderer||this.$renderer,p=this.$showFoldWidgets&&s.foldWidgets,g=i?i.start.row:Number.MAX_VALUE,f="ace_gutter-cell ";if(this.$highlightGutterLine&&(o==this.$cursorRow||i&&o<this.$cursorRow&&o>=g&&this.$cursorRow<=i.end.row)&&(f+="ace_gutter-active-line ",this.$cursorCell!=e&&(this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ","")),this.$cursorCell=e)),h[o]&&(f+=h[o]),u[o]&&(f+=u[o]),this.$annotations[o]&&(f+=this.$annotations[o].className),r.className!=f&&(r.className=f),p){var m=p[o];null==m&&(m=p[o]=s.getFoldWidget(o))}m?(f="ace_fold-widget ace_"+m,l.className!=(f+="start"==m&&o==g&&o<i.end.row?" ace_closed":" ace_open")&&(l.className=f),n.setStyle(l.style,"height",t.lineHeight+"px"),n.setStyle(l.style,"display","inline-block")):l&&n.setStyle(l.style,"display","none");var _=(d?d.getText(s,o):o+c).toString();return _!==a.data&&(a.data=_),n.setStyle(e.element.style,"height",this.$lines.computeLineHeight(o,t,s)+"px"),n.setStyle(e.element.style,"top",this.$lines.computeLineTop(o,t,s)+"px"),e.text=_,e},this.$fixedWidth=!1,this.$highlightGutterLine=!0,this.$renderer="",this.setHighlightGutterLine=function(e){this.$highlightGutterLine=e},this.$showLineNumbers=!0,this.$renderer="",this.setShowLineNumbers=function(e){this.$renderer=!e&&{getWidth:function(){return 0},getText:function(){return""}}},this.getShowLineNumbers=function(){return this.$showLineNumbers},this.$showFoldWidgets=!0,this.setShowFoldWidgets=function(e){e?n.addCssClass(this.element,"ace_folding-enabled"):n.removeCssClass(this.element,"ace_folding-enabled"),this.$showFoldWidgets=e,this.$padding=null},this.getShowFoldWidgets=function(){return this.$showFoldWidgets},this.$computePadding=function(){if(!this.element.firstChild)return{left:0,right:0};var e=n.computedStyle(this.element.firstChild);return this.$padding={},this.$padding.left=(parseInt(e.borderLeftWidth)||0)+(parseInt(e.paddingLeft)||0)+1,this.$padding.right=(parseInt(e.borderRightWidth)||0)+(parseInt(e.paddingRight)||0),this.$padding},this.getRegion=function(e){var t=this.$padding||this.$computePadding(),i=this.element.getBoundingClientRect();return e.x<t.left+i.left?"markers":this.$showFoldWidgets&&e.x>i.right-t.right?"foldWidgets":void 0}}).call(l.prototype),t.Gutter=l}),ace.define("ace/layer/marker",["require","exports","module","ace/range","ace/lib/dom"],function(e,t,i){"use strict";var n=e("../range").Range,o=e("../lib/dom"),r=function(e){this.element=o.createElement("div"),this.element.className="ace_layer ace_marker-layer",e.appendChild(this.element)};(function(){function e(e,t,i,n){return(e?1:0)|(t?2:0)|(i?4:0)|(n?8:0)}this.$padding=0,this.setPadding=function(e){this.$padding=e},this.setSession=function(e){this.session=e},this.setMarkers=function(e){this.markers=e},this.elt=function(e,t){var i=-1!=this.i&&this.element.childNodes[this.i];i?this.i++:(i=document.createElement("div"),this.element.appendChild(i),this.i=-1),i.style.cssText=t,i.className=e},this.update=function(e){if(e){var t;for(var i in this.config=e,this.i=0,this.markers){var n=this.markers[i];if(n.range){var o=n.range.clipRows(e.firstRow,e.lastRow);if(!o.isEmpty())if(o=o.toScreenRange(this.session),n.renderer){var r=this.$getTop(o.start.row,e);n.renderer(t,o,this.$padding+o.start.column*e.characterWidth,r,e)}else"fullLine"==n.type?this.drawFullLineMarker(t,o,n.clazz,e):"screenLine"==n.type?this.drawScreenLineMarker(t,o,n.clazz,e):o.isMultiLine()?"text"==n.type?this.drawTextMarker(t,o,n.clazz,e):this.drawMultiLineMarker(t,o,n.clazz,e):this.drawSingleLineMarker(t,o,n.clazz+" ace_start ace_br15",e)}else n.update(t,this,this.session,e)}if(-1!=this.i)for(;this.i<this.element.childElementCount;)this.element.removeChild(this.element.lastChild)}},this.$getTop=function(e,t){return(e-t.firstRowScreen)*t.lineHeight},this.drawTextMarker=function(t,i,o,r,s){for(var a=this.session,l=i.start.row,c=i.end.row,h=l,u=0,d=0,p=a.getScreenLastRowColumn(h),g=new n(h,i.start.column,h,d);h<=c;h++)g.start.row=g.end.row=h,g.start.column=h==l?i.start.column:a.getRowWrapIndent(h),g.end.column=p,u=d,d=p,p=h+1<c?a.getScreenLastRowColumn(h+1):h==c?0:i.end.column,this.drawSingleLineMarker(t,g,o+(h==l?" ace_start":"")+" ace_br"+e(h==l||h==l+1&&i.start.column,u<d,d>p,h==c),r,h==c?0:1,s)},this.drawMultiLineMarker=function(e,t,i,n,o){var r,s=this.$padding,a=n.lineHeight,l=this.$getTop(t.start.row,n),c=s+t.start.column*n.characterWidth;if(o=o||"",this.session.$bidiHandler.isBidiRow(t.start.row)?((r=t.clone()).end.row=r.start.row,r.end.column=this.session.getLine(r.start.row).length,this.drawBidiSingleLineMarker(e,r,i+" ace_br1 ace_start",n,null,o)):this.elt(i+" ace_br1 ace_start","height:"+a+"px;right:0;top:"+l+"px;left:"+c+"px;"+(o||"")),this.session.$bidiHandler.isBidiRow(t.end.row)?((r=t.clone()).start.row=r.end.row,r.start.column=0,this.drawBidiSingleLineMarker(e,r,i+" ace_br12",n,null,o)):(l=this.$getTop(t.end.row,n),this.elt(i+" ace_br12","height:"+a+"px;width:"+t.end.column*n.characterWidth+"px;top:"+l+"px;left:"+s+"px;"+(o||""))),!((a=(t.end.row-t.start.row-1)*n.lineHeight)<=0)){l=this.$getTop(t.start.row+1,n);var h=(t.start.column?1:0)|(t.end.column?0:8);this.elt(i+(h?" ace_br"+h:""),"height:"+a+"px;right:0;top:"+l+"px;left:"+s+"px;"+(o||""))}},this.drawSingleLineMarker=function(e,t,i,n,o,r){if(this.session.$bidiHandler.isBidiRow(t.start.row))return this.drawBidiSingleLineMarker(e,t,i,n,o,r);var s=n.lineHeight,a=(t.end.column+(o||0)-t.start.column)*n.characterWidth,l=this.$getTop(t.start.row,n);this.elt(i,"height:"+s+"px;width:"+a+"px;top:"+l+"px;left:"+(this.$padding+t.start.column*n.characterWidth)+"px;"+(r||""))},this.drawBidiSingleLineMarker=function(e,t,i,n,o,r){var s=n.lineHeight,a=this.$getTop(t.start.row,n),l=this.$padding;this.session.$bidiHandler.getSelections(t.start.column,t.end.column).forEach(function(e){this.elt(i,"height:"+s+"px;width:"+e.width+(o||0)+"px;top:"+a+"px;left:"+(l+e.left)+"px;"+(r||""))},this)},this.drawFullLineMarker=function(e,t,i,n,o){var r=this.$getTop(t.start.row,n),s=n.lineHeight;t.start.row!=t.end.row&&(s+=this.$getTop(t.end.row,n)-r),this.elt(i,"height:"+s+"px;top:"+r+"px;left:0;right:0;"+(o||""))},this.drawScreenLineMarker=function(e,t,i,n,o){var r=this.$getTop(t.start.row,n);this.elt(i,"height:"+n.lineHeight+"px;top:"+r+"px;left:0;right:0;"+(o||""))}}).call(r.prototype),t.Marker=r}),ace.define("ace/layer/text",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/layer/lines","ace/lib/event_emitter"],function(e,t,i){"use strict";var n=e("../lib/oop"),o=e("../lib/dom"),r=e("../lib/lang"),s=e("./lines").Lines,a=e("../lib/event_emitter").EventEmitter,l=function(e){this.dom=o,this.element=this.dom.createElement("div"),this.element.className="ace_layer ace_text-layer",e.appendChild(this.element),this.$updateEolChar=this.$updateEolChar.bind(this),this.$lines=new s(this.element)};(function(){n.implement(this,a),this.EOF_CHAR="\xb6",this.EOL_CHAR_LF="\xac",this.EOL_CHAR_CRLF="\xa4",this.EOL_CHAR=this.EOL_CHAR_LF,this.TAB_CHAR="\u2014",this.SPACE_CHAR="\xb7",this.$padding=0,this.MAX_LINE_LENGTH=1e4,this.$updateEolChar=function(){var e=this.session.doc,t="\n"==e.getNewLineCharacter()&&"windows"!=e.getNewLineMode()?this.EOL_CHAR_LF:this.EOL_CHAR_CRLF;if(this.EOL_CHAR!=t)return this.EOL_CHAR=t,!0},this.setPadding=function(e){this.$padding=e,this.element.style.margin="0 "+e+"px"},this.getLineHeight=function(){return this.$fontMetrics.$characterSize.height||0},this.getCharacterWidth=function(){return this.$fontMetrics.$characterSize.width||0},this.$setFontMetrics=function(e){this.$fontMetrics=e,this.$fontMetrics.on("changeCharacterSize",(function(e){this._signal("changeCharacterSize",e)}).bind(this)),this.$pollSizeChanges()},this.checkForSizeChanges=function(){this.$fontMetrics.checkForSizeChanges()},this.$pollSizeChanges=function(){return this.$pollSizeChangesTimer=this.$fontMetrics.$pollSizeChanges()},this.setSession=function(e){this.session=e,e&&this.$computeTabString()},this.showInvisibles=!1,this.showSpaces=!1,this.showTabs=!1,this.showEOL=!1,this.setShowInvisibles=function(e){return this.showInvisibles!=e&&(this.showInvisibles=e,"string"==typeof e?(this.showSpaces=/tab/i.test(e),this.showTabs=/space/i.test(e),this.showEOL=/eol/i.test(e)):this.showSpaces=this.showTabs=this.showEOL=e,this.$computeTabString(),!0)},this.displayIndentGuides=!0,this.setDisplayIndentGuides=function(e){return this.displayIndentGuides!=e&&(this.displayIndentGuides=e,this.$computeTabString(),!0)},this.$tabStrings=[],this.onChangeTabSize=this.$computeTabString=function(){var e=this.session.getTabSize();this.tabSize=e;for(var t=this.$tabStrings=[0],i=1;i<e+1;i++)this.showTabs?((n=this.dom.createElement("span")).className="ace_invisible ace_invisible_tab",n.textContent=r.stringRepeat(this.TAB_CHAR,i),t.push(n)):t.push(this.dom.createTextNode(r.stringRepeat(" ",i),this.element));if(this.displayIndentGuides){this.$indentGuideRe=/\s\S| \t|\t |\s$/;var n,o="ace_indent-guide",s=this.showSpaces?" ace_invisible ace_invisible_space":"",a=r.stringRepeat(this.showSpaces?this.SPACE_CHAR:" ",this.tabSize),l=this.showTabs?" ace_invisible ace_invisible_tab":"",c=this.showTabs?r.stringRepeat(this.TAB_CHAR,this.tabSize):a;(n=this.dom.createElement("span")).className=o+s,n.textContent=a,this.$tabStrings[" "]=n,(n=this.dom.createElement("span")).className=o+l,n.textContent=c,this.$tabStrings["\t"]=n}},this.updateLines=function(e,t,i){if(this.config.lastRow!=e.lastRow||this.config.firstRow!=e.firstRow)return this.update(e);this.config=e;for(var n=Math.max(t,e.firstRow),o=Math.min(i,e.lastRow),r=this.element.childNodes,s=0,a=e.firstRow;a<n;a++){if(l=this.session.getFoldLine(a)){if(l.containsRow(n)){n=l.start.row;break}a=l.end.row}s++}for(var l,c=!1,h=(l=this.session.getNextFoldLine(a=n))?l.start.row:1/0;a>h&&(h=(l=this.session.getNextFoldLine(a=l.end.row+1,l))?l.start.row:1/0),!(a>o);){var u=r[s++];if(u){this.dom.removeChildren(u),this.$renderLine(u,a,a==h&&l),c&&(u.style.top=this.$lines.computeLineTop(a,e,this.session)+"px");var d=e.lineHeight*this.session.getRowLength(a)+"px";u.style.height!=d&&(c=!0,u.style.height=d)}a++}if(c)for(;s<this.$lines.cells.length;){var p=this.$lines.cells[s++];p.element.style.top=this.$lines.computeLineTop(p.row,e,this.session)+"px"}},this.scrollLines=function(e){var t=this.config;if(this.config=e,this.$lines.pageChanged(t,e))return this.update(e);this.$lines.moveContainer(e);var i=e.lastRow;if(!t||(t?t.lastRow:-1)<e.firstRow)return this.update(e);if(i<t.firstRow)return this.update(e);if(!t||t.lastRow<e.firstRow)return this.update(e);if(e.lastRow<t.firstRow)return this.update(e);if(t.firstRow<e.firstRow)for(var n=this.session.getFoldedRowCount(t.firstRow,e.firstRow-1);n>0;n--)this.$lines.shift();if(t.lastRow>e.lastRow)for(n=this.session.getFoldedRowCount(e.lastRow+1,t.lastRow);n>0;n--)this.$lines.pop();e.firstRow<t.firstRow&&this.$lines.unshift(this.$renderLinesFragment(e,e.firstRow,t.firstRow-1)),e.lastRow>t.lastRow&&this.$lines.push(this.$renderLinesFragment(e,t.lastRow+1,e.lastRow))},this.$renderLinesFragment=function(e,t,i){for(var n=[],r=t,s=this.session.getNextFoldLine(r),a=s?s.start.row:1/0;r>a&&(a=(s=this.session.getNextFoldLine(r=s.end.row+1,s))?s.start.row:1/0),!(r>i);){var l=this.$lines.createCell(r,e,this.session),c=l.element;this.dom.removeChildren(c),o.setStyle(c.style,"height",this.$lines.computeLineHeight(r,e,this.session)+"px"),o.setStyle(c.style,"top",this.$lines.computeLineTop(r,e,this.session)+"px"),this.$renderLine(c,r,r==a&&s),c.className=this.$useLineGroups()?"ace_line_group":"ace_line",n.push(l),r++}return n},this.update=function(e){this.$lines.moveContainer(e),this.config=e;for(var t=e.firstRow,i=e.lastRow,n=this.$lines;n.getLength();)n.pop();n.push(this.$renderLinesFragment(e,t,i))},this.$textToken={text:!0,rparen:!0,lparen:!0},this.$renderToken=function(e,t,i,n){for(var o,s=this,a=/(\t)|( +)|([\x00-\x1f\x80-\xa0\xad\u1680\u180E\u2000-\u200f\u2028\u2029\u202F\u205F\uFEFF\uFFF9-\uFFFC]+)|(\u3000)|([\u1100-\u115F\u11A3-\u11A7\u11FA-\u11FF\u2329-\u232A\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3001-\u303E\u3041-\u3096\u3099-\u30FF\u3105-\u312D\u3131-\u318E\u3190-\u31BA\u31C0-\u31E3\u31F0-\u321E\u3220-\u3247\u3250-\u32FE\u3300-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFAFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFF01-\uFF60\uFFE0-\uFFE6]|[\uD800-\uDBFF][\uDC00-\uDFFF])/g,l=this.dom.createFragment(this.element),c=0;o=a.exec(n);){var h=o[1],u=o[2],d=o[3],p=o[4],g=o[5];if(s.showSpaces||!u){var f=c!=o.index?n.slice(c,o.index):"";if(c=o.index+o[0].length,f&&l.appendChild(this.dom.createTextNode(f,this.element)),h){var m=s.session.getScreenTabSize(t+o.index);l.appendChild(s.$tabStrings[m].cloneNode(!0)),t+=m-1}else u?s.showSpaces?((v=this.dom.createElement("span")).className="ace_invisible ace_invisible_space",v.textContent=r.stringRepeat(s.SPACE_CHAR,u.length),l.appendChild(v)):l.appendChild(this.com.createTextNode(u,this.element)):d?((v=this.dom.createElement("span")).className="ace_invisible ace_invisible_space ace_invalid",v.textContent=r.stringRepeat(s.SPACE_CHAR,d.length),l.appendChild(v)):p?(t+=1,(v=this.dom.createElement("span")).style.width=2*s.config.characterWidth+"px",v.className=s.showSpaces?"ace_cjk ace_invisible ace_invisible_space":"ace_cjk",v.textContent=s.showSpaces?s.SPACE_CHAR:p,l.appendChild(v)):g&&(t+=1,(v=this.dom.createElement("span")).style.width=2*s.config.characterWidth+"px",v.className="ace_cjk",v.textContent=g,l.appendChild(v))}}if(l.appendChild(this.dom.createTextNode(c?n.slice(c):n,this.element)),this.$textToken[i.type])e.appendChild(l);else{var _="ace_"+i.type.replace(/\./g," ace_"),v=this.dom.createElement("span");"fold"==i.type&&(v.style.width=i.value.length*this.config.characterWidth+"px"),v.className=_,v.appendChild(l),e.appendChild(v)}return t+n.length},this.renderIndentGuide=function(e,t,i){var n=t.search(this.$indentGuideRe);if(n<=0||n>=i)return t;if(" "==t[0]){for(var o=(n-=n%this.tabSize)/this.tabSize,r=0;r<o;r++)e.appendChild(this.$tabStrings[" "].cloneNode(!0));return t.substr(n)}if("\t"==t[0]){for(r=0;r<n;r++)e.appendChild(this.$tabStrings["\t"].cloneNode(!0));return t.substr(n)}return t},this.$createLineElement=function(e){var t=this.dom.createElement("div");return t.className="ace_line",t.style.height=this.config.lineHeight+"px",t},this.$renderWrappedLine=function(e,t,i){var n=0,o=0,s=i[0],a=0,l=this.$createLineElement();e.appendChild(l);for(var c=0;c<t.length;c++){var h=t[c],u=h.value;if(0==c&&this.displayIndentGuides){if(n=u.length,!(u=this.renderIndentGuide(l,u,s)))continue;n-=u.length}if(n+u.length<s)a=this.$renderToken(l,a,h,u),n+=u.length;else{for(;n+u.length>=s;)a=this.$renderToken(l,a,h,u.substring(0,s-n)),u=u.substring(s-n),n=s,l=this.$createLineElement(),e.appendChild(l),l.appendChild(this.dom.createTextNode(r.stringRepeat("\xa0",i.indent),this.element)),a=0,s=i[++o]||Number.MAX_VALUE;0!=u.length&&(n+=u.length,a=this.$renderToken(l,a,h,u))}}i[i.length-1]>this.MAX_LINE_LENGTH&&this.$renderOverflowMessage(l,a,null,"",!0)},this.$renderSimpleLine=function(e,t){var i=0,n=t[0],o=n.value;this.displayIndentGuides&&(o=this.renderIndentGuide(e,o)),o&&(i=this.$renderToken(e,i,n,o));for(var r=1;r<t.length;r++){if(i+(o=(n=t[r]).value).length>this.MAX_LINE_LENGTH)return this.$renderOverflowMessage(e,i,n,o);i=this.$renderToken(e,i,n,o)}},this.$renderOverflowMessage=function(e,t,i,n,o){i&&this.$renderToken(e,t,i,n.slice(0,this.MAX_LINE_LENGTH-t));var r=this.dom.createElement("span");r.className="ace_inline_button ace_keyword ace_toggle_wrap",r.textContent=o?"<hide>":"<click to see more...>",e.appendChild(r)},this.$renderLine=function(e,t,i){if(!i&&0!=i&&(i=this.session.getFoldLine(t)),i)var n=this.$getFoldLineTokens(t,i);else n=this.session.getTokens(t);var o=e;if(n.length){var r=this.session.getRowSplitData(t);r&&r.length?(this.$renderWrappedLine(e,n,r),o=e.lastChild):(o=e,this.$useLineGroups()&&(o=this.$createLineElement(),e.appendChild(o)),this.$renderSimpleLine(o,n))}else this.$useLineGroups()&&(o=this.$createLineElement(),e.appendChild(o));if(this.showEOL&&o){i&&(t=i.end.row);var s=this.dom.createElement("span");s.className="ace_invisible ace_invisible_eol",s.textContent=t==this.session.getLength()-1?this.EOF_CHAR:this.EOL_CHAR,o.appendChild(s)}},this.$getFoldLineTokens=function(e,t){var i=this.session,n=[],o=i.getTokens(e);return t.walk(function(e,t,r,s,a){null!=e?n.push({type:"fold",value:e}):(a&&(o=i.getTokens(t)),o.length&&function(e,t,i){for(var o=0,r=0;r+e[o].value.length<t;)if(r+=e[o].value.length,++o==e.length)return;for(r!=t&&((s=e[o].value.substring(t-r)).length>i-t&&(s=s.substring(0,i-t)),n.push({type:e[o].type,value:s}),r=t+s.length,o+=1);r<i&&o<e.length;){var s;n.push((s=e[o].value).length+r>i?{type:e[o].type,value:s.substring(0,i-r)}:e[o]),r+=s.length,o+=1}}(o,s,r))},t.end.row,this.session.getLine(t.end.row).length),n},this.$useLineGroups=function(){return this.session.getUseWrapMode()},this.destroy=function(){}}).call(l.prototype),t.Text=l}),ace.define("ace/layer/cursor",["require","exports","module","ace/lib/dom"],function(e,t,i){"use strict";var n=e("../lib/dom"),o=function(e){this.element=n.createElement("div"),this.element.className="ace_layer ace_cursor-layer",e.appendChild(this.element),this.isVisible=!1,this.isBlinking=!0,this.blinkInterval=1e3,this.smoothBlinking=!1,this.cursors=[],this.cursor=this.addCursor(),n.addCssClass(this.element,"ace_hidden-cursors"),this.$updateCursors=this.$updateOpacity.bind(this)};(function(){this.$updateOpacity=function(e){for(var t=this.cursors,i=t.length;i--;)n.setStyle(t[i].style,"opacity",e?"":"0")},this.$startCssAnimation=function(){for(var e=this.cursors,t=e.length;t--;)e[t].style.animationDuration=this.blinkInterval+"ms";this.$isAnimating=!0,setTimeout((function(){this.$isAnimating&&n.addCssClass(this.element,"ace_animate-blinking")}).bind(this))},this.$stopCssAnimation=function(){this.$isAnimating=!1,n.removeCssClass(this.element,"ace_animate-blinking")},this.$padding=0,this.setPadding=function(e){this.$padding=e},this.setSession=function(e){this.session=e},this.setBlinking=function(e){e!=this.isBlinking&&(this.isBlinking=e,this.restartTimer())},this.setBlinkInterval=function(e){e!=this.blinkInterval&&(this.blinkInterval=e,this.restartTimer())},this.setSmoothBlinking=function(e){e!=this.smoothBlinking&&(this.smoothBlinking=e,n.setCssClass(this.element,"ace_smooth-blinking",e),this.$updateCursors(!0),this.restartTimer())},this.addCursor=function(){var e=n.createElement("div");return e.className="ace_cursor",this.element.appendChild(e),this.cursors.push(e),e},this.removeCursor=function(){if(this.cursors.length>1){var e=this.cursors.pop();return e.parentNode.removeChild(e),e}},this.hideCursor=function(){this.isVisible=!1,n.addCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},this.showCursor=function(){this.isVisible=!0,n.removeCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},this.restartTimer=function(){var e=this.$updateCursors;if(clearInterval(this.intervalId),clearTimeout(this.timeoutId),this.$stopCssAnimation(),this.smoothBlinking&&(this.$isSmoothBlinking=!1,n.removeCssClass(this.element,"ace_smooth-blinking")),e(!0),this.isBlinking&&this.blinkInterval&&this.isVisible)if(this.smoothBlinking&&(this.$isSmoothBlinking=!0,setTimeout((function(){this.$isSmoothBlinking&&n.addCssClass(this.element,"ace_smooth-blinking")}).bind(this))),n.HAS_CSS_ANIMATION)this.$startCssAnimation();else{var t=(function(){this.timeoutId=setTimeout(function(){e(!1)},.6*this.blinkInterval)}).bind(this);this.intervalId=setInterval(function(){e(!0),t()},this.blinkInterval),t()}else this.$stopCssAnimation()},this.getPixelPosition=function(e,t){if(!this.config||!this.session)return{left:0,top:0};e||(e=this.session.selection.getCursor());var i=this.session.documentToScreenPosition(e);return{left:this.$padding+(this.session.$bidiHandler.isBidiRow(i.row,e.row)?this.session.$bidiHandler.getPosLeft(i.column):i.column*this.config.characterWidth),top:(i.row-(t?this.config.firstRowScreen:0))*this.config.lineHeight}},this.isCursorInView=function(e,t){return e.top>=0&&e.top<t.maxHeight},this.update=function(e){this.config=e;var t=this.session.$selectionMarkers,i=0,o=0;(void 0===t||0===t.length)&&(t=[{cursor:null}]),i=0;for(var r=t.length;i<r;i++){var s=this.getPixelPosition(t[i].cursor,!0);if(!((s.top>e.height+e.offset||s.top<0)&&i>1)){var a=this.cursors[o++]||this.addCursor(),l=a.style;this.drawCursor?this.drawCursor(a,s,e,t[i],this.session):this.isCursorInView(s,e)?(n.setStyle(l,"display","block"),n.translate(a,s.left,s.top),n.setStyle(l,"width",Math.round(e.characterWidth)+"px"),n.setStyle(l,"height",e.lineHeight+"px")):n.setStyle(l,"display","none")}}for(;this.cursors.length>o;)this.removeCursor();var c=this.session.getOverwrite();this.$setOverwrite(c),this.$pixelPos=s,this.restartTimer()},this.drawCursor=null,this.$setOverwrite=function(e){e!=this.overwrite&&(this.overwrite=e,e?n.addCssClass(this.element,"ace_overwrite-cursors"):n.removeCssClass(this.element,"ace_overwrite-cursors"))},this.destroy=function(){clearInterval(this.intervalId),clearTimeout(this.timeoutId)}}).call(o.prototype),t.Cursor=o}),ace.define("ace/scrollbar",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],function(e,t,i){"use strict";var n=e("./lib/oop"),o=e("./lib/dom"),r=e("./lib/event"),s=e("./lib/event_emitter").EventEmitter,a=32768,l=function(e){this.element=o.createElement("div"),this.element.className="ace_scrollbar ace_scrollbar"+this.classSuffix,this.inner=o.createElement("div"),this.inner.className="ace_scrollbar-inner",this.inner.textContent="\xa0",this.element.appendChild(this.inner),e.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,r.addListener(this.element,"scroll",this.onScroll.bind(this)),r.addListener(this.element,"mousedown",r.preventDefault)};(function(){n.implement(this,s),this.setVisible=function(e){this.element.style.display=e?"":"none",this.isVisible=e,this.coeff=1}}).call(l.prototype);var c=function(e,t){l.call(this,e),this.scrollTop=0,this.scrollHeight=0,t.$scrollbarWidth=this.width=o.scrollbarWidth(e.ownerDocument),this.inner.style.width=this.element.style.width=(this.width||15)+5+"px",this.$minWidth=0};n.inherits(c,l),(function(){this.classSuffix="-v",this.onScroll=function(){if(!this.skipEvent){if(this.scrollTop=this.element.scrollTop,1!=this.coeff){var e=this.element.clientHeight/this.scrollHeight;this.scrollTop=this.scrollTop*(1-e)/(this.coeff-e)}this._emit("scroll",{data:this.scrollTop})}this.skipEvent=!1},this.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)},this.setHeight=function(e){this.element.style.height=e+"px"},this.setInnerHeight=this.setScrollHeight=function(e){this.scrollHeight=e,e>a?(this.coeff=a/e,e=a):1!=this.coeff&&(this.coeff=1),this.inner.style.height=e+"px"},this.setScrollTop=function(e){this.scrollTop!=e&&(this.skipEvent=!0,this.scrollTop=e,this.element.scrollTop=e*this.coeff)}}).call(c.prototype);var h=function(e,t){l.call(this,e),this.scrollLeft=0,this.height=t.$scrollbarWidth,this.inner.style.height=this.element.style.height=(this.height||15)+5+"px"};n.inherits(h,l),(function(){this.classSuffix="-h",this.onScroll=function(){this.skipEvent||(this.scrollLeft=this.element.scrollLeft,this._emit("scroll",{data:this.scrollLeft})),this.skipEvent=!1},this.getHeight=function(){return this.isVisible?this.height:0},this.setWidth=function(e){this.element.style.width=e+"px"},this.setInnerWidth=function(e){this.inner.style.width=e+"px"},this.setScrollWidth=function(e){this.inner.style.width=e+"px"},this.setScrollLeft=function(e){this.scrollLeft!=e&&(this.skipEvent=!0,this.scrollLeft=this.element.scrollLeft=e)}}).call(h.prototype),t.ScrollBar=c,t.ScrollBarV=c,t.ScrollBarH=h,t.VScrollBar=c,t.HScrollBar=h}),ace.define("ace/renderloop",["require","exports","module","ace/lib/event"],function(e,t,i){"use strict";var n=e("./lib/event"),o=function(e,t){this.onRender=e,this.pending=!1,this.changes=0,this.$recursionLimit=2,this.window=t||window;var i=this;this._flush=function(e){i.pending=!1;var t=i.changes;if(t&&(n.blockIdle(100),i.changes=0,i.onRender(t)),i.changes){if(i.$recursionLimit--<0)return;i.schedule()}else i.$recursionLimit=2}};(function(){this.schedule=function(e){this.changes=this.changes|e,this.changes&&!this.pending&&(n.nextFrame(this._flush),this.pending=!0)},this.clear=function(e){var t=this.changes;return this.changes=0,t}}).call(o.prototype),t.RenderLoop=o}),ace.define("ace/layer/font_metrics",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/event","ace/lib/useragent","ace/lib/event_emitter"],function(e,t,i){var n=e("../lib/oop"),o=e("../lib/dom"),r=e("../lib/lang"),s=e("../lib/event"),a=e("../lib/useragent"),l=e("../lib/event_emitter").EventEmitter,c=256,h="function"==typeof ResizeObserver,u=200,d=t.FontMetrics=function(e){this.el=o.createElement("div"),this.$setMeasureNodeStyles(this.el.style,!0),this.$main=o.createElement("div"),this.$setMeasureNodeStyles(this.$main.style),this.$measureNode=o.createElement("div"),this.$setMeasureNodeStyles(this.$measureNode.style),this.el.appendChild(this.$main),this.el.appendChild(this.$measureNode),e.appendChild(this.el),this.$measureNode.textContent=r.stringRepeat("X",c),this.$characterSize={width:0,height:0},h?this.$addObserver():this.checkForSizeChanges()};(function(){n.implement(this,l),this.$characterSize={width:0,height:0},this.$setMeasureNodeStyles=function(e,t){e.width=e.height="auto",e.left=e.top="0px",e.visibility="hidden",e.position="absolute",e.whiteSpace="pre",a.isIE<8?e["font-family"]="inherit":e.font="inherit",e.overflow=t?"hidden":"visible"},this.checkForSizeChanges=function(e){if(void 0===e&&(e=this.$measureSizes()),e&&(this.$characterSize.width!==e.width||this.$characterSize.height!==e.height)){this.$measureNode.style.fontWeight="bold";var t=this.$measureSizes();this.$measureNode.style.fontWeight="",this.$characterSize=e,this.charSizes=Object.create(null),this.allowBoldFonts=t&&t.width===e.width&&t.height===e.height,this._emit("changeCharacterSize",{data:e})}},this.$addObserver=function(){var e=this;this.$observer=new window.ResizeObserver(function(t){e.checkForSizeChanges()}),this.$observer.observe(this.$measureNode)},this.$pollSizeChanges=function(){if(this.$pollSizeChangesTimer||this.$observer)return this.$pollSizeChangesTimer;var e=this;return this.$pollSizeChangesTimer=s.onIdle(function t(){e.checkForSizeChanges(),s.onIdle(t,500)},500)},this.setPolling=function(e){e?this.$pollSizeChanges():this.$pollSizeChangesTimer&&(clearInterval(this.$pollSizeChangesTimer),this.$pollSizeChangesTimer=0)},this.$measureSizes=function(e){var t={height:(e||this.$measureNode).clientHeight,width:(e||this.$measureNode).clientWidth/c};return 0===t.width||0===t.height?null:t},this.$measureCharWidth=function(e){return this.$main.textContent=r.stringRepeat(e,c),this.$main.getBoundingClientRect().width/c},this.getCharacterWidth=function(e){var t=this.charSizes[e];return void 0===t&&(t=this.charSizes[e]=this.$measureCharWidth(e)/this.$characterSize.width),t},this.destroy=function(){clearInterval(this.$pollSizeChangesTimer),this.$observer&&this.$observer.disconnect(),this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el)},this.$getZoom=function e(t){return t&&t.parentElement?(window.getComputedStyle(t).zoom||1)*e(t.parentElement):1},this.$initTransformMeasureNodes=function(){var e=function(e,t){return["div",{style:"position: absolute;top:"+e+"px;left:"+t+"px;"}]};this.els=o.buildDom([e(0,0),e(u,0),e(0,u),e(u,u)],this.el)},this.transformCoordinates=function(e,t){function i(e,t,i){var n=e[1]*t[0]-e[0]*t[1];return[(-t[1]*i[0]+t[0]*i[1])/n,(+e[1]*i[0]-e[0]*i[1])/n]}function n(e,t){return[e[0]-t[0],e[1]-t[1]]}function o(e,t){return[e[0]+t[0],e[1]+t[1]]}function r(e,t){return[e*t[0],e*t[1]]}function s(e){var t=e.getBoundingClientRect();return[t.left,t.top]}e&&(e=r(1/this.$getZoom(this.el),e)),this.els||this.$initTransformMeasureNodes();var a=s(this.els[0]),l=s(this.els[1]),c=s(this.els[2]),h=s(this.els[3]),d=i(n(h,l),n(h,c),n(o(l,c),o(h,a))),p=r(1+d[0],n(l,a)),g=r(1+d[1],n(c,a));if(t){var f=t,m=d[0]*f[0]/u+d[1]*f[1]/u+1,_=o(r(f[0],p),r(f[1],g));return o(r(1/m/u,_),a)}var v=n(e,a),y=i(n(p,r(d[0],v)),n(g,r(d[1],v)),v);return r(u,y)}}).call(d.prototype)}),ace.define("ace/virtual_renderer",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/config","ace/layer/gutter","ace/layer/marker","ace/layer/text","ace/layer/cursor","ace/scrollbar","ace/scrollbar","ace/renderloop","ace/layer/font_metrics","ace/lib/event_emitter","ace/lib/useragent"],function(e,t,i){"use strict";var n=e("./lib/oop"),o=e("./lib/dom"),r=e("./config"),s=e("./layer/gutter").Gutter,a=e("./layer/marker").Marker,l=e("./layer/text").Text,c=e("./layer/cursor").Cursor,h=e("./scrollbar").HScrollBar,u=e("./scrollbar").VScrollBar,d=e("./renderloop").RenderLoop,p=e("./layer/font_metrics").FontMetrics,g=e("./lib/event_emitter").EventEmitter,f='.ace_br1 {border-top-left-radius    : 3px;}.ace_br2 {border-top-right-radius   : 3px;}.ace_br3 {border-top-left-radius    : 3px; border-top-right-radius:    3px;}.ace_br4 {border-bottom-right-radius: 3px;}.ace_br5 {border-top-left-radius    : 3px; border-bottom-right-radius: 3px;}.ace_br6 {border-top-right-radius   : 3px; border-bottom-right-radius: 3px;}.ace_br7 {border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px;}.ace_br8 {border-bottom-left-radius : 3px;}.ace_br9 {border-top-left-radius    : 3px; border-bottom-left-radius:  3px;}.ace_br10{border-top-right-radius   : 3px; border-bottom-left-radius:  3px;}.ace_br11{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-left-radius:  3px;}.ace_br12{border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br13{border-top-left-radius    : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br14{border-top-right-radius   : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br15{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;}.ace_editor {position: relative;overflow: hidden;padding: 0;font: 12px/normal \'Monaco\', \'Menlo\', \'Ubuntu Mono\', \'Consolas\', \'source-code-pro\', monospace;direction: ltr;text-align: left;-webkit-tap-highlight-color: rgba(0, 0, 0, 0);}.ace_scroller {position: absolute;overflow: hidden;top: 0;bottom: 0;background-color: inherit;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;cursor: text;}.ace_content {position: absolute;box-sizing: border-box;min-width: 100%;contain: style size layout;font-variant-ligatures: no-common-ligatures;}.ace_dragging .ace_scroller:before{position: absolute;top: 0;left: 0;right: 0;bottom: 0;content: \'\';background: rgba(250, 250, 250, 0.01);z-index: 1000;}.ace_dragging.ace_dark .ace_scroller:before{background: rgba(0, 0, 0, 0.01);}.ace_selecting, .ace_selecting * {cursor: text !important;}.ace_gutter {position: absolute;overflow : hidden;width: auto;top: 0;bottom: 0;left: 0;cursor: default;z-index: 4;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;contain: style size layout;}.ace_gutter-active-line {position: absolute;left: 0;right: 0;}.ace_scroller.ace_scroll-left {box-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;}.ace_gutter-cell {position: absolute;top: 0;left: 0;right: 0;padding-left: 19px;padding-right: 6px;background-repeat: no-repeat;}.ace_gutter-cell.ace_error {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==");background-repeat: no-repeat;background-position: 2px center;}.ace_gutter-cell.ace_warning {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==");background-position: 2px center;}.ace_gutter-cell.ace_info {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=");background-position: 2px center;}.ace_dark .ace_gutter-cell.ace_info {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC");}.ace_scrollbar {contain: strict;position: absolute;right: 0;bottom: 0;z-index: 6;}.ace_scrollbar-inner {position: absolute;cursor: text;left: 0;top: 0;}.ace_scrollbar-v{overflow-x: hidden;overflow-y: scroll;top: 0;}.ace_scrollbar-h {overflow-x: scroll;overflow-y: hidden;left: 0;}.ace_print-margin {position: absolute;height: 100%;}.ace_text-input {position: absolute;z-index: 0;width: 0.5em;height: 1em;opacity: 0;background: transparent;-moz-appearance: none;appearance: none;border: none;resize: none;outline: none;overflow: hidden;font: inherit;padding: 0 1px;margin: 0 -1px;contain: strict;-ms-user-select: text;-moz-user-select: text;-webkit-user-select: text;user-select: text;white-space: pre!important;}.ace_text-input.ace_composition {background: transparent;color: inherit;z-index: 1000;opacity: 1;}.ace_composition_placeholder { color: transparent }.ace_composition_marker { border-bottom: 1px solid;position: absolute;border-radius: 0;margin-top: 1px;}[ace_nocontext=true] {transform: none!important;filter: none!important;clip-path: none!important;mask : none!important;contain: none!important;perspective: none!important;mix-blend-mode: initial!important;z-index: auto;}.ace_layer {z-index: 1;position: absolute;overflow: hidden;word-wrap: normal;white-space: pre;height: 100%;width: 100%;box-sizing: border-box;pointer-events: none;}.ace_gutter-layer {position: relative;width: auto;text-align: right;pointer-events: auto;height: 1000000px;contain: style size layout;}.ace_text-layer {font: inherit !important;position: absolute;height: 1000000px;width: 1000000px;contain: style size layout;}.ace_text-layer > .ace_line, .ace_text-layer > .ace_line_group {contain: style size layout;position: absolute;top: 0;left: 0;right: 0;}.ace_hidpi .ace_text-layer,.ace_hidpi .ace_gutter-layer,.ace_hidpi .ace_content,.ace_hidpi .ace_gutter {contain: strict;will-change: transform;}.ace_hidpi .ace_text-layer > .ace_line, .ace_hidpi .ace_text-layer > .ace_line_group {contain: strict;}.ace_cjk {display: inline-block;text-align: center;}.ace_cursor-layer {z-index: 4;}.ace_cursor {z-index: 4;position: absolute;box-sizing: border-box;border-left: 2px solid;transform: translatez(0);}.ace_multiselect .ace_cursor {border-left-width: 1px;}.ace_slim-cursors .ace_cursor {border-left-width: 1px;}.ace_overwrite-cursors .ace_cursor {border-left-width: 0;border-bottom: 1px solid;}.ace_hidden-cursors .ace_cursor {opacity: 0.2;}.ace_hasPlaceholder .ace_hidden-cursors .ace_cursor {opacity: 0;}.ace_smooth-blinking .ace_cursor {transition: opacity 0.18s;}.ace_animate-blinking .ace_cursor {animation-duration: 1000ms;animation-timing-function: step-end;animation-name: blink-ace-animate;animation-iteration-count: infinite;}.ace_animate-blinking.ace_smooth-blinking .ace_cursor {animation-duration: 1000ms;animation-timing-function: ease-in-out;animation-name: blink-ace-animate-smooth;}@keyframes blink-ace-animate {from, to { opacity: 1; }60% { opacity: 0; }}@keyframes blink-ace-animate-smooth {from, to { opacity: 1; }45% { opacity: 1; }60% { opacity: 0; }85% { opacity: 0; }}.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {position: absolute;z-index: 3;}.ace_marker-layer .ace_selection {position: absolute;z-index: 5;}.ace_marker-layer .ace_bracket {position: absolute;z-index: 6;}.ace_marker-layer .ace_error_bracket {position: absolute;border-bottom: 1px solid #DE5555;border-radius: 0;}.ace_marker-layer .ace_active-line {position: absolute;z-index: 2;}.ace_marker-layer .ace_selected-word {position: absolute;z-index: 4;box-sizing: border-box;}.ace_line .ace_fold {box-sizing: border-box;display: inline-block;height: 11px;margin-top: -2px;vertical-align: middle;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=");background-repeat: no-repeat, repeat-x;background-position: center center, top left;color: transparent;border: 1px solid black;border-radius: 2px;cursor: pointer;pointer-events: auto;}.ace_dark .ace_fold {}.ace_fold:hover{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC");}.ace_tooltip {background-color: #FFF;background-image: linear-gradient(to bottom, transparent, rgba(0, 0, 0, 0.1));border: 1px solid gray;border-radius: 1px;box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);color: black;max-width: 100%;padding: 3px 4px;position: fixed;z-index: 999999;box-sizing: border-box;cursor: default;white-space: pre;word-wrap: break-word;line-height: normal;font-style: normal;font-weight: normal;letter-spacing: normal;pointer-events: none;}.ace_folding-enabled > .ace_gutter-cell {padding-right: 13px;}.ace_fold-widget {box-sizing: border-box;margin: 0 -12px 0 1px;display: none;width: 11px;vertical-align: top;background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==");background-repeat: no-repeat;background-position: center;border-radius: 3px;border: 1px solid transparent;cursor: pointer;}.ace_folding-enabled .ace_fold-widget {display: inline-block;   }.ace_fold-widget.ace_end {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==");}.ace_fold-widget.ace_closed {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==");}.ace_fold-widget:hover {border: 1px solid rgba(0, 0, 0, 0.3);background-color: rgba(255, 255, 255, 0.2);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);}.ace_fold-widget:active {border: 1px solid rgba(0, 0, 0, 0.4);background-color: rgba(0, 0, 0, 0.05);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);}.ace_dark .ace_fold-widget {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC");}.ace_dark .ace_fold-widget.ace_end {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==");}.ace_dark .ace_fold-widget.ace_closed {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==");}.ace_dark .ace_fold-widget:hover {box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);background-color: rgba(255, 255, 255, 0.1);}.ace_dark .ace_fold-widget:active {box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);}.ace_inline_button {border: 1px solid lightgray;display: inline-block;margin: -1px 8px;padding: 0 5px;pointer-events: auto;cursor: pointer;}.ace_inline_button:hover {border-color: gray;background: rgba(200,200,200,0.2);display: inline-block;pointer-events: auto;}.ace_fold-widget.ace_invalid {background-color: #FFB4B4;border-color: #DE5555;}.ace_fade-fold-widgets .ace_fold-widget {transition: opacity 0.4s ease 0.05s;opacity: 0;}.ace_fade-fold-widgets:hover .ace_fold-widget {transition: opacity 0.05s ease 0.05s;opacity:1;}.ace_underline {text-decoration: underline;}.ace_bold {font-weight: bold;}.ace_nobold .ace_bold {font-weight: normal;}.ace_italic {font-style: italic;}.ace_error-marker {background-color: rgba(255, 0, 0,0.2);position: absolute;z-index: 9;}.ace_highlight-marker {background-color: rgba(255, 255, 0,0.2);position: absolute;z-index: 8;}.ace_mobile-menu {position: absolute;line-height: 1.5;border-radius: 4px;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;background: white;box-shadow: 1px 3px 2px grey;border: 1px solid #dcdcdc;color: black;}.ace_dark > .ace_mobile-menu {background: #333;color: #ccc;box-shadow: 1px 3px 2px grey;border: 1px solid #444;}.ace_mobile-button {padding: 2px;cursor: pointer;overflow: hidden;}.ace_mobile-button:hover {background-color: #eee;opacity:1;}.ace_mobile-button:active {background-color: #ddd;}.ace_placeholder {font-family: arial;transform: scale(0.9);transform-origin: left;white-space: pre;opacity: 0.7;margin: 0 10px;}',m=e("./lib/useragent"),_=m.isIE;o.importCssString(f,"ace_editor.css",!1);var v=function(e,t){var i=this;this.container=e||o.createElement("div"),o.addCssClass(this.container,"ace_editor"),o.HI_DPI&&o.addCssClass(this.container,"ace_hidpi"),this.setTheme(t),null==r.get("useStrictCSP")&&r.set("useStrictCSP",!1),this.$gutter=o.createElement("div"),this.$gutter.className="ace_gutter",this.container.appendChild(this.$gutter),this.$gutter.setAttribute("aria-hidden",!0),this.scroller=o.createElement("div"),this.scroller.className="ace_scroller",this.container.appendChild(this.scroller),this.content=o.createElement("div"),this.content.className="ace_content",this.scroller.appendChild(this.content),this.$gutterLayer=new s(this.$gutter),this.$gutterLayer.on("changeGutterWidth",this.onGutterResize.bind(this)),this.$markerBack=new a(this.content);var n=this.$textLayer=new l(this.content);this.canvas=n.element,this.$markerFront=new a(this.content),this.$cursorLayer=new c(this.content),this.$horizScroll=!1,this.$vScroll=!1,this.scrollBar=this.scrollBarV=new u(this.container,this),this.scrollBarH=new h(this.container,this),this.scrollBarV.on("scroll",function(e){i.$scrollAnimation||i.session.setScrollTop(e.data-i.scrollMargin.top)}),this.scrollBarH.on("scroll",function(e){i.$scrollAnimation||i.session.setScrollLeft(e.data-i.scrollMargin.left)}),this.scrollTop=0,this.scrollLeft=0,this.cursorPos={row:0,column:0},this.$fontMetrics=new p(this.container),this.$textLayer.$setFontMetrics(this.$fontMetrics),this.$textLayer.on("changeCharacterSize",function(e){i.updateCharacterSize(),i.onResize(!0,i.gutterWidth,i.$size.width,i.$size.height),i._signal("changeCharacterSize",e)}),this.$size={width:0,height:0,scrollerHeight:0,scrollerWidth:0,$dirty:!0},this.layerConfig={width:1,padding:0,firstRow:0,firstRowScreen:0,lastRow:0,lineHeight:0,characterWidth:0,minHeight:1,maxHeight:1,offset:0,height:1,gutterOffset:1},this.scrollMargin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.margin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.$keepTextAreaAtCursor=!m.isIOS,this.$loop=new d(this.$renderChanges.bind(this),this.container.ownerDocument.defaultView),this.$loop.schedule(this.CHANGE_FULL),this.updateCharacterSize(),this.setPadding(4),r.resetOptions(this),r._signal("renderer",this)};(function(){this.CHANGE_CURSOR=1,this.CHANGE_MARKER=2,this.CHANGE_GUTTER=4,this.CHANGE_SCROLL=8,this.CHANGE_LINES=16,this.CHANGE_TEXT=32,this.CHANGE_SIZE=64,this.CHANGE_MARKER_BACK=128,this.CHANGE_MARKER_FRONT=256,this.CHANGE_FULL=512,this.CHANGE_H_SCROLL=1024,n.implement(this,g),this.updateCharacterSize=function(){this.$textLayer.allowBoldFonts!=this.$allowBoldFonts&&(this.$allowBoldFonts=this.$textLayer.allowBoldFonts,this.setStyle("ace_nobold",!this.$allowBoldFonts)),this.layerConfig.characterWidth=this.characterWidth=this.$textLayer.getCharacterWidth(),this.layerConfig.lineHeight=this.lineHeight=this.$textLayer.getLineHeight(),this.$updatePrintMargin(),o.setStyle(this.scroller.style,"line-height",this.lineHeight+"px")},this.setSession=function(e){this.session&&this.session.doc.off("changeNewLineMode",this.onChangeNewLineMode),this.session=e,e&&this.scrollMargin.top&&e.getScrollTop()<=0&&e.setScrollTop(-this.scrollMargin.top),this.$cursorLayer.setSession(e),this.$markerBack.setSession(e),this.$markerFront.setSession(e),this.$gutterLayer.setSession(e),this.$textLayer.setSession(e),e&&(this.$loop.schedule(this.CHANGE_FULL),this.session.$setFontMetrics(this.$fontMetrics),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.onChangeNewLineMode=this.onChangeNewLineMode.bind(this),this.onChangeNewLineMode(),this.session.doc.on("changeNewLineMode",this.onChangeNewLineMode))},this.updateLines=function(e,t,i){if(void 0===t&&(t=1/0),this.$changedLines?(this.$changedLines.firstRow>e&&(this.$changedLines.firstRow=e),this.$changedLines.lastRow<t&&(this.$changedLines.lastRow=t)):this.$changedLines={firstRow:e,lastRow:t},this.$changedLines.lastRow<this.layerConfig.firstRow){if(!i)return;this.$changedLines.lastRow=this.layerConfig.lastRow}this.$changedLines.firstRow>this.layerConfig.lastRow||this.$loop.schedule(this.CHANGE_LINES)},this.onChangeNewLineMode=function(){this.$loop.schedule(this.CHANGE_TEXT),this.$textLayer.$updateEolChar(),this.session.$bidiHandler.setEolChar(this.$textLayer.EOL_CHAR)},this.onChangeTabSize=function(){this.$loop.schedule(this.CHANGE_TEXT|this.CHANGE_MARKER),this.$textLayer.onChangeTabSize()},this.updateText=function(){this.$loop.schedule(this.CHANGE_TEXT)},this.updateFull=function(e){e?this.$renderChanges(this.CHANGE_FULL,!0):this.$loop.schedule(this.CHANGE_FULL)},this.updateFontSize=function(){this.$textLayer.checkForSizeChanges()},this.$changes=0,this.$updateSizeAsync=function(){this.$loop.pending?this.$size.$dirty=!0:this.onResize()},this.onResize=function(e,t,i,n){if(!(this.resizing>2)){this.resizing>0?this.resizing++:this.resizing=e?1:0;var o=this.container;n||(n=o.clientHeight||o.scrollHeight),i||(i=o.clientWidth||o.scrollWidth);var r=this.$updateCachedSize(e,t,i,n);if(!this.$size.scrollerHeight||!i&&!n)return this.resizing=0;e&&(this.$gutterLayer.$padding=null),e?this.$renderChanges(r|this.$changes,!0):this.$loop.schedule(r|this.$changes),this.resizing&&(this.resizing=0),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null}},this.$updateCachedSize=function(e,t,i,n){var r=0,s=this.$size,a={width:s.width,height:s.height,scrollerHeight:s.scrollerHeight,scrollerWidth:s.scrollerWidth};if((n-=this.$extraHeight||0)&&(e||s.height!=n)&&(s.height=n,r|=this.CHANGE_SIZE,s.scrollerHeight=s.height,this.$horizScroll&&(s.scrollerHeight-=this.scrollBarH.getHeight()),this.scrollBarV.element.style.bottom=this.scrollBarH.getHeight()+"px",r|=this.CHANGE_SCROLL),i&&(e||s.width!=i)){r|=this.CHANGE_SIZE,s.width=i,null==t&&(t=this.$showGutter?this.$gutter.offsetWidth:0),this.gutterWidth=t,o.setStyle(this.scrollBarH.element.style,"left",t+"px"),o.setStyle(this.scroller.style,"left",t+this.margin.left+"px"),s.scrollerWidth=Math.max(0,i-t-this.scrollBarV.getWidth()-this.margin.h),o.setStyle(this.$gutter.style,"left",this.margin.left+"px");var l=this.scrollBarV.getWidth()+"px";o.setStyle(this.scrollBarH.element.style,"right",l),o.setStyle(this.scroller.style,"right",l),o.setStyle(this.scroller.style,"bottom",this.scrollBarH.getHeight()),(this.session&&this.session.getUseWrapMode()&&this.adjustWrapLimit()||e)&&(r|=this.CHANGE_FULL)}return s.$dirty=!i||!n,r&&this._signal("resize",a),r},this.onGutterResize=function(e){var t=this.$showGutter?e:0;t!=this.gutterWidth&&(this.$changes|=this.$updateCachedSize(!0,t,this.$size.width,this.$size.height)),this.session.getUseWrapMode()&&this.adjustWrapLimit()||this.$size.$dirty?this.$loop.schedule(this.CHANGE_FULL):this.$computeLayerConfig()},this.adjustWrapLimit=function(){var e=Math.floor((this.$size.scrollerWidth-2*this.$padding)/this.characterWidth);return this.session.adjustWrapLimit(e,this.$showPrintMargin&&this.$printMarginColumn)},this.setAnimatedScroll=function(e){this.setOption("animatedScroll",e)},this.getAnimatedScroll=function(){return this.$animatedScroll},this.setShowInvisibles=function(e){this.setOption("showInvisibles",e),this.session.$bidiHandler.setShowInvisibles(e)},this.getShowInvisibles=function(){return this.getOption("showInvisibles")},this.getDisplayIndentGuides=function(){return this.getOption("displayIndentGuides")},this.setDisplayIndentGuides=function(e){this.setOption("displayIndentGuides",e)},this.setShowPrintMargin=function(e){this.setOption("showPrintMargin",e)},this.getShowPrintMargin=function(){return this.getOption("showPrintMargin")},this.setPrintMarginColumn=function(e){this.setOption("printMarginColumn",e)},this.getPrintMarginColumn=function(){return this.getOption("printMarginColumn")},this.getShowGutter=function(){return this.getOption("showGutter")},this.setShowGutter=function(e){return this.setOption("showGutter",e)},this.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},this.setFadeFoldWidgets=function(e){this.setOption("fadeFoldWidgets",e)},this.setHighlightGutterLine=function(e){this.setOption("highlightGutterLine",e)},this.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},this.$updatePrintMargin=function(){if(this.$showPrintMargin||this.$printMarginEl){if(!this.$printMarginEl){var e=o.createElement("div");e.className="ace_layer ace_print-margin-layer",this.$printMarginEl=o.createElement("div"),this.$printMarginEl.className="ace_print-margin",e.appendChild(this.$printMarginEl),this.content.insertBefore(e,this.content.firstChild)}var t=this.$printMarginEl.style;t.left=Math.round(this.characterWidth*this.$printMarginColumn+this.$padding)+"px",t.visibility=this.$showPrintMargin?"visible":"hidden",this.session&&-1==this.session.$wrap&&this.adjustWrapLimit()}},this.getContainerElement=function(){return this.container},this.getMouseEventTarget=function(){return this.scroller},this.getTextAreaContainer=function(){return this.container},this.$moveTextAreaToCursor=function(){if(!this.$isMousePressed){var e=this.textarea.style,t=this.$composition;if(!this.$keepTextAreaAtCursor&&!t)return void o.translate(this.textarea,-100,0);var i=this.$cursorLayer.$pixelPos;if(i){t&&t.markerRange&&(i=this.$cursorLayer.getPixelPosition(t.markerRange.start,!0));var n=this.layerConfig,r=i.top,s=i.left,a=t&&t.useTextareaForIME?this.lineHeight:_?0:1;if((r-=n.offset)<0||r>n.height-a)return void o.translate(this.textarea,0,0);var l=1,c=this.$size.height-a;t?t.useTextareaForIME?l=this.characterWidth*this.session.$getStringScreenWidth(this.textarea.value)[0]:r+=this.lineHeight+2:r+=this.lineHeight,(s-=this.scrollLeft)>this.$size.scrollerWidth-l&&(s=this.$size.scrollerWidth-l),s+=this.gutterWidth+this.margin.left,o.setStyle(e,"height",a+"px"),o.setStyle(e,"width",l+"px"),o.translate(this.textarea,Math.min(s,this.$size.scrollerWidth-l),Math.min(r,c))}}},this.getFirstVisibleRow=function(){return this.layerConfig.firstRow},this.getFirstFullyVisibleRow=function(){return this.layerConfig.firstRow+(0===this.layerConfig.offset?0:1)},this.getLastFullyVisibleRow=function(){var e=this.layerConfig,t=e.lastRow;return this.session.documentToScreenRow(t,0)*e.lineHeight-this.session.getScrollTop()>e.height-e.lineHeight?t-1:t},this.getLastVisibleRow=function(){return this.layerConfig.lastRow},this.$padding=null,this.setPadding=function(e){this.$padding=e,this.$textLayer.setPadding(e),this.$cursorLayer.setPadding(e),this.$markerFront.setPadding(e),this.$markerBack.setPadding(e),this.$loop.schedule(this.CHANGE_FULL),this.$updatePrintMargin()},this.setScrollMargin=function(e,t,i,n){var o=this.scrollMargin;o.top=0|e,o.bottom=0|t,o.right=0|n,o.left=0|i,o.v=o.top+o.bottom,o.h=o.left+o.right,o.top&&this.scrollTop<=0&&this.session&&this.session.setScrollTop(-o.top),this.updateFull()},this.setMargin=function(e,t,i,n){var o=this.margin;o.top=0|e,o.bottom=0|t,o.right=0|n,o.left=0|i,o.v=o.top+o.bottom,o.h=o.left+o.right,this.$updateCachedSize(!0,this.gutterWidth,this.$size.width,this.$size.height),this.updateFull()},this.getHScrollBarAlwaysVisible=function(){return this.$hScrollBarAlwaysVisible},this.setHScrollBarAlwaysVisible=function(e){this.setOption("hScrollBarAlwaysVisible",e)},this.getVScrollBarAlwaysVisible=function(){return this.$vScrollBarAlwaysVisible},this.setVScrollBarAlwaysVisible=function(e){this.setOption("vScrollBarAlwaysVisible",e)},this.$updateScrollBarV=function(){var e=this.layerConfig.maxHeight,t=this.$size.scrollerHeight;!this.$maxLines&&this.$scrollPastEnd&&this.scrollTop>(e-=(t-this.lineHeight)*this.$scrollPastEnd)-t&&(e=this.scrollTop+t,this.scrollBarV.scrollTop=null),this.scrollBarV.setScrollHeight(e+this.scrollMargin.v),this.scrollBarV.setScrollTop(this.scrollTop+this.scrollMargin.top)},this.$updateScrollBarH=function(){this.scrollBarH.setScrollWidth(this.layerConfig.width+2*this.$padding+this.scrollMargin.h),this.scrollBarH.setScrollLeft(this.scrollLeft+this.scrollMargin.left)},this.$frozen=!1,this.freeze=function(){this.$frozen=!0},this.unfreeze=function(){this.$frozen=!1},this.$renderChanges=function(e,t){if(this.$changes&&(e|=this.$changes,this.$changes=0),this.session&&this.container.offsetWidth&&!this.$frozen&&(e||t)){if(this.$size.$dirty)return this.$changes|=e,this.onResize(!0);this.lineHeight||this.$textLayer.checkForSizeChanges(),this._signal("beforeRender",e),this.session&&this.session.$bidiHandler&&this.session.$bidiHandler.updateCharacterWidths(this.$fontMetrics);var i=this.layerConfig;if(e&this.CHANGE_FULL||e&this.CHANGE_SIZE||e&this.CHANGE_TEXT||e&this.CHANGE_LINES||e&this.CHANGE_SCROLL||e&this.CHANGE_H_SCROLL){if(e|=this.$computeLayerConfig()|this.$loop.clear(),i.firstRow!=this.layerConfig.firstRow&&i.firstRowScreen==this.layerConfig.firstRowScreen){var n=this.scrollTop+(i.firstRow-this.layerConfig.firstRow)*this.lineHeight;n>0&&(this.scrollTop=n,e|=this.CHANGE_SCROLL,e|=this.$computeLayerConfig()|this.$loop.clear())}i=this.layerConfig,this.$updateScrollBarV(),e&this.CHANGE_H_SCROLL&&this.$updateScrollBarH(),o.translate(this.content,-this.scrollLeft,-i.offset);var r=i.minHeight+"px";o.setStyle(this.content.style,"width",i.width+2*this.$padding+"px"),o.setStyle(this.content.style,"height",r)}return e&this.CHANGE_H_SCROLL&&(o.translate(this.content,-this.scrollLeft,-i.offset),this.scroller.className=this.scrollLeft<=0?"ace_scroller":"ace_scroller ace_scroll-left"),e&this.CHANGE_FULL?(this.$changedLines=null,this.$textLayer.update(i),this.$showGutter&&this.$gutterLayer.update(i),this.$markerBack.update(i),this.$markerFront.update(i),this.$cursorLayer.update(i),this.$moveTextAreaToCursor(),void this._signal("afterRender",e)):e&this.CHANGE_SCROLL?(this.$changedLines=null,e&this.CHANGE_TEXT||e&this.CHANGE_LINES?this.$textLayer.update(i):this.$textLayer.scrollLines(i),this.$showGutter&&(e&this.CHANGE_GUTTER||e&this.CHANGE_LINES?this.$gutterLayer.update(i):this.$gutterLayer.scrollLines(i)),this.$markerBack.update(i),this.$markerFront.update(i),this.$cursorLayer.update(i),this.$moveTextAreaToCursor(),void this._signal("afterRender",e)):(e&this.CHANGE_TEXT?(this.$changedLines=null,this.$textLayer.update(i),this.$showGutter&&this.$gutterLayer.update(i)):e&this.CHANGE_LINES?(this.$updateLines()||e&this.CHANGE_GUTTER&&this.$showGutter)&&this.$gutterLayer.update(i):e&this.CHANGE_TEXT||e&this.CHANGE_GUTTER?this.$showGutter&&this.$gutterLayer.update(i):e&this.CHANGE_CURSOR&&this.$highlightGutterLine&&this.$gutterLayer.updateLineHighlight(i),e&this.CHANGE_CURSOR&&(this.$cursorLayer.update(i),this.$moveTextAreaToCursor()),e&(this.CHANGE_MARKER|this.CHANGE_MARKER_FRONT)&&this.$markerFront.update(i),e&(this.CHANGE_MARKER|this.CHANGE_MARKER_BACK)&&this.$markerBack.update(i),void this._signal("afterRender",e))}this.$changes|=e},this.$autosize=function(){var e=this.session.getScreenLength()*this.lineHeight,t=this.$maxLines*this.lineHeight,i=Math.min(t,Math.max((this.$minLines||1)*this.lineHeight,e))+this.scrollMargin.v+(this.$extraHeight||0);this.$horizScroll&&(i+=this.scrollBarH.getHeight()),this.$maxPixelHeight&&i>this.$maxPixelHeight&&(i=this.$maxPixelHeight);var n=!(i<=2*this.lineHeight)&&e>t;if(i!=this.desiredHeight||this.$size.height!=this.desiredHeight||n!=this.$vScroll){n!=this.$vScroll&&(this.$vScroll=n,this.scrollBarV.setVisible(n));var o=this.container.clientWidth;this.container.style.height=i+"px",this.$updateCachedSize(!0,this.$gutterWidth,o,i),this.desiredHeight=i,this._signal("autosize")}},this.$computeLayerConfig=function(){var e=this.session,t=this.$size,i=t.height<=2*this.lineHeight,n=this.session.getScreenLength()*this.lineHeight,o=this.$getLongestLine(),r=!i&&(this.$hScrollBarAlwaysVisible||t.scrollerWidth-o-2*this.$padding<0),s=this.$horizScroll!==r;s&&(this.$horizScroll=r,this.scrollBarH.setVisible(r));var a=this.$vScroll;this.$maxLines&&this.lineHeight>1&&this.$autosize();var l=t.scrollerHeight+this.lineHeight,c=!this.$maxLines&&this.$scrollPastEnd?(t.scrollerHeight-this.lineHeight)*this.$scrollPastEnd:0;n+=c;var h=this.scrollMargin;this.session.setScrollTop(Math.max(-h.top,Math.min(this.scrollTop,n-t.scrollerHeight+h.bottom))),this.session.setScrollLeft(Math.max(-h.left,Math.min(this.scrollLeft,o+2*this.$padding-t.scrollerWidth+h.right)));var u=!i&&(this.$vScrollBarAlwaysVisible||t.scrollerHeight-n+c<0||this.scrollTop>h.top),d=a!==u;d&&(this.$vScroll=u,this.scrollBarV.setVisible(u));var p,g,f=this.scrollTop%this.lineHeight,m=Math.ceil(l/this.lineHeight)-1,_=Math.max(0,Math.round((this.scrollTop-f)/this.lineHeight)),v=_+m,y=this.lineHeight;_=e.screenToDocumentRow(_,0);var b=e.getFoldLine(_);b&&(_=b.start.row),p=e.documentToScreenRow(_,0),g=e.getRowLength(_)*y,v=Math.min(e.screenToDocumentRow(v,0),e.getLength()-1),l=t.scrollerHeight+e.getRowLength(v)*y+g,f=this.scrollTop-p*y;var w=0;return(this.layerConfig.width!=o||s)&&(w=this.CHANGE_H_SCROLL),(s||d)&&(w|=this.$updateCachedSize(!0,this.gutterWidth,t.width,t.height),this._signal("scrollbarVisibilityChanged"),d&&(o=this.$getLongestLine())),this.layerConfig={width:o,padding:this.$padding,firstRow:_,firstRowScreen:p,lastRow:v,lineHeight:y,characterWidth:this.characterWidth,minHeight:l,maxHeight:n,offset:f,gutterOffset:y?Math.max(0,Math.ceil((f+t.height-t.scrollerHeight)/y)):0,height:this.$size.scrollerHeight},this.session.$bidiHandler&&this.session.$bidiHandler.setContentWidth(o-this.$padding),w},this.$updateLines=function(){if(this.$changedLines){var e=this.$changedLines.firstRow,t=this.$changedLines.lastRow;this.$changedLines=null;var i=this.layerConfig;if(!(e>i.lastRow+1||t<i.firstRow))return t===1/0?(this.$showGutter&&this.$gutterLayer.update(i),void this.$textLayer.update(i)):(this.$textLayer.updateLines(i,e,t),!0)}},this.$getLongestLine=function(){var e=this.session.getScreenWidth();return this.showInvisibles&&!this.session.$useWrapMode&&(e+=1),this.$textLayer&&e>this.$textLayer.MAX_LINE_LENGTH&&(e=this.$textLayer.MAX_LINE_LENGTH+30),Math.max(this.$size.scrollerWidth-2*this.$padding,Math.round(e*this.characterWidth))},this.updateFrontMarkers=function(){this.$markerFront.setMarkers(this.session.getMarkers(!0)),this.$loop.schedule(this.CHANGE_MARKER_FRONT)},this.updateBackMarkers=function(){this.$markerBack.setMarkers(this.session.getMarkers()),this.$loop.schedule(this.CHANGE_MARKER_BACK)},this.addGutterDecoration=function(e,t){this.$gutterLayer.addGutterDecoration(e,t)},this.removeGutterDecoration=function(e,t){this.$gutterLayer.removeGutterDecoration(e,t)},this.updateBreakpoints=function(e){this.$loop.schedule(this.CHANGE_GUTTER)},this.setAnnotations=function(e){this.$gutterLayer.setAnnotations(e),this.$loop.schedule(this.CHANGE_GUTTER)},this.updateCursor=function(){this.$loop.schedule(this.CHANGE_CURSOR)},this.hideCursor=function(){this.$cursorLayer.hideCursor()},this.showCursor=function(){this.$cursorLayer.showCursor()},this.scrollSelectionIntoView=function(e,t,i){this.scrollCursorIntoView(e,i),this.scrollCursorIntoView(t,i)},this.scrollCursorIntoView=function(e,t,i){if(0!==this.$size.scrollerHeight){var n=this.$cursorLayer.getPixelPosition(e),o=n.left,r=n.top,s=i&&i.top||0,a=i&&i.bottom||0,l=this.$scrollAnimation?this.session.getScrollTop():this.scrollTop;l+s>r?(t&&l+s>r+this.lineHeight&&(r-=t*this.$size.scrollerHeight),0===r&&(r=-this.scrollMargin.top),this.session.setScrollTop(r)):l+this.$size.scrollerHeight-a<r+this.lineHeight&&(t&&l+this.$size.scrollerHeight-a<r-this.lineHeight&&(r+=t*this.$size.scrollerHeight),this.session.setScrollTop(r+this.lineHeight+a-this.$size.scrollerHeight));var c=this.scrollLeft;c>o?(o<this.$padding+2*this.layerConfig.characterWidth&&(o=-this.scrollMargin.left),this.session.setScrollLeft(o)):c+this.$size.scrollerWidth<o+this.characterWidth?this.session.setScrollLeft(Math.round(o+this.characterWidth-this.$size.scrollerWidth)):c<=this.$padding&&o-c<this.characterWidth&&this.session.setScrollLeft(0)}},this.getScrollTop=function(){return this.session.getScrollTop()},this.getScrollLeft=function(){return this.session.getScrollLeft()},this.getScrollTopRow=function(){return this.scrollTop/this.lineHeight},this.getScrollBottomRow=function(){return Math.max(0,Math.floor((this.scrollTop+this.$size.scrollerHeight)/this.lineHeight)-1)},this.scrollToRow=function(e){this.session.setScrollTop(e*this.lineHeight)},this.alignCursor=function(e,t){"number"==typeof e&&(e={row:e,column:0});var i=this.$cursorLayer.getPixelPosition(e).top-(this.$size.scrollerHeight-this.lineHeight)*(t||0);return this.session.setScrollTop(i),i},this.STEPS=8,this.$calcSteps=function(e,t){var i,n=0,o=this.STEPS,r=[];for(n=0;n<o;++n)r.push((i=e,(t-e)*(Math.pow(n/this.STEPS-1,3)+1)+i));return r},this.scrollToLine=function(e,t,i,n){var o=this.$cursorLayer.getPixelPosition({row:e,column:0}).top;t&&(o-=this.$size.scrollerHeight/2);var r=this.scrollTop;this.session.setScrollTop(o),!1!==i&&this.animateScrolling(r,n)},this.animateScrolling=function(e,t){var i=this.scrollTop;if(this.$animatedScroll){var n=this;if(e!=i){if(this.$scrollAnimation){var o=this.$scrollAnimation.steps;if(o.length&&(e=o[0])==i)return}var r=n.$calcSteps(e,i);this.$scrollAnimation={from:e,to:i,steps:r},clearInterval(this.$timer),n.session.setScrollTop(r.shift()),n.session.$scrollTop=i,this.$timer=setInterval(function(){if(!n.session)return clearInterval(n.$timer);r.length?(n.session.setScrollTop(r.shift()),n.session.$scrollTop=i):null!=i?(n.session.$scrollTop=-1,n.session.setScrollTop(i),i=null):(n.$timer=clearInterval(n.$timer),n.$scrollAnimation=null,t&&t())},10)}}},this.scrollToY=function(e){this.scrollTop!==e&&(this.$loop.schedule(this.CHANGE_SCROLL),this.scrollTop=e)},this.scrollToX=function(e){this.scrollLeft!==e&&(this.scrollLeft=e),this.$loop.schedule(this.CHANGE_H_SCROLL)},this.scrollTo=function(e,t){this.session.setScrollTop(t),this.session.setScrollLeft(e)},this.scrollBy=function(e,t){t&&this.session.setScrollTop(this.session.getScrollTop()+t),e&&this.session.setScrollLeft(this.session.getScrollLeft()+e)},this.isScrollableBy=function(e,t){if(t<0&&this.session.getScrollTop()>=1-this.scrollMargin.top||t>0&&this.session.getScrollTop()+this.$size.scrollerHeight-this.layerConfig.maxHeight<-1+this.scrollMargin.bottom||e<0&&this.session.getScrollLeft()>=1-this.scrollMargin.left||e>0&&this.session.getScrollLeft()+this.$size.scrollerWidth-this.layerConfig.width<-1+this.scrollMargin.right)return!0},this.pixelToScreenCoordinates=function(e,t){var i;if(this.$hasCssTransforms){i={top:0,left:0};var n=this.$fontMetrics.transformCoordinates([e,t]);e=n[1]-this.gutterWidth-this.margin.left,t=n[0]}else i=this.scroller.getBoundingClientRect();var o=e+this.scrollLeft-i.left-this.$padding,r=o/this.characterWidth,s=Math.floor((t+this.scrollTop-i.top)/this.lineHeight),a=this.$blockCursor?Math.floor(r):Math.round(r);return{row:s,column:a,side:r-a>0?1:-1,offsetX:o}},this.screenToTextCoordinates=function(e,t){var i;if(this.$hasCssTransforms){i={top:0,left:0};var n=this.$fontMetrics.transformCoordinates([e,t]);e=n[1]-this.gutterWidth-this.margin.left,t=n[0]}else i=this.scroller.getBoundingClientRect();var o=e+this.scrollLeft-i.left-this.$padding,r=o/this.characterWidth,s=this.$blockCursor?Math.floor(r):Math.round(r),a=Math.floor((t+this.scrollTop-i.top)/this.lineHeight);return this.session.screenToDocumentPosition(a,Math.max(s,0),o)},this.textToScreenCoordinates=function(e,t){var i=this.scroller.getBoundingClientRect(),n=this.session.documentToScreenPosition(e,t),o=this.$padding+(this.session.$bidiHandler.isBidiRow(n.row,e)?this.session.$bidiHandler.getPosLeft(n.column):Math.round(n.column*this.characterWidth));return{pageX:i.left+o-this.scrollLeft,pageY:i.top+n.row*this.lineHeight-this.scrollTop}},this.visualizeFocus=function(){o.addCssClass(this.container,"ace_focus")},this.visualizeBlur=function(){o.removeCssClass(this.container,"ace_focus")},this.showComposition=function(e){this.$composition=e,e.cssText||(e.cssText=this.textarea.style.cssText),null==e.useTextareaForIME&&(e.useTextareaForIME=this.$useTextareaForIME),this.$useTextareaForIME?(o.addCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText="",this.$moveTextAreaToCursor(),this.$cursorLayer.element.style.display="none"):e.markerId=this.session.addMarker(e.markerRange,"ace_composition_marker","text")},this.setCompositionText=function(e){var t=this.session.selection.cursor;this.addToken(e,"composition_placeholder",t.row,t.column),this.$moveTextAreaToCursor()},this.hideComposition=function(){if(this.$composition){this.$composition.markerId&&this.session.removeMarker(this.$composition.markerId),o.removeCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText=this.$composition.cssText;var e=this.session.selection.cursor;this.removeExtraToken(e.row,e.column),this.$composition=null,this.$cursorLayer.element.style.display=""}},this.addToken=function(e,t,i,n){var o=this.session;o.bgTokenizer.lines[i]=null;var r={type:t,value:e},s=o.getTokens(i);if(null==n)s.push(r);else for(var a=0,l=0;l<s.length;l++){var c=s[l];if(n<=(a+=c.value.length)){var h=c.value.length-(a-n),u=c.value.slice(0,h),d=c.value.slice(h);s.splice(l,1,{type:c.type,value:u},r,{type:c.type,value:d});break}}this.updateLines(i,i)},this.removeExtraToken=function(e,t){this.updateLines(e,e)},this.setTheme=function(e,t){var i=this;function n(n){if(i.$themeId!=e)return t&&t();if(!n||!n.cssClass)throw new Error("couldn't load module "+e+" or it didn't call define");n.$id&&(i.$themeId=n.$id),o.importCssString(n.cssText,n.cssClass,i.container),i.theme&&o.removeCssClass(i.container,i.theme.cssClass);var r="padding"in n?n.padding:"padding"in(i.theme||{})?4:i.$padding;i.$padding&&r!=i.$padding&&i.setPadding(r),i.$theme=n.cssClass,i.theme=n,o.addCssClass(i.container,n.cssClass),o.setCssClass(i.container,"ace_dark",n.isDark),i.$size&&(i.$size.width=0,i.$updateSizeAsync()),i._dispatchEvent("themeLoaded",{theme:n}),t&&t()}this.$themeId=e,i._dispatchEvent("themeChange",{theme:e}),e&&"string"!=typeof e?n(e):r.loadModule(["theme",e||this.$options.theme.initialValue],n)},this.getTheme=function(){return this.$themeId},this.setStyle=function(e,t){o.setCssClass(this.container,e,!1!==t)},this.unsetStyle=function(e){o.removeCssClass(this.container,e)},this.setCursorStyle=function(e){o.setStyle(this.scroller.style,"cursor",e)},this.setMouseCursor=function(e){o.setStyle(this.scroller.style,"cursor",e)},this.attachToShadowRoot=function(){o.importCssString(f,"ace_editor.css",this.container)},this.destroy=function(){this.freeze(),this.$fontMetrics.destroy(),this.$cursorLayer.destroy(),this.removeAllListeners(),this.container.textContent=""}}).call(v.prototype),r.defineOptions(v.prototype,"renderer",{animatedScroll:{initialValue:!1},showInvisibles:{set:function(e){this.$textLayer.setShowInvisibles(e)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!1},showPrintMargin:{set:function(){this.$updatePrintMargin()},initialValue:!0},printMarginColumn:{set:function(){this.$updatePrintMargin()},initialValue:80},printMargin:{set:function(e){"number"==typeof e&&(this.$printMarginColumn=e),this.$showPrintMargin=!!e,this.$updatePrintMargin()},get:function(){return this.$showPrintMargin&&this.$printMarginColumn}},showGutter:{set:function(e){this.$gutter.style.display=e?"block":"none",this.$loop.schedule(this.CHANGE_FULL),this.onGutterResize()},initialValue:!0},fadeFoldWidgets:{set:function(e){o.setCssClass(this.$gutter,"ace_fade-fold-widgets",e)},initialValue:!1},showFoldWidgets:{set:function(e){this.$gutterLayer.setShowFoldWidgets(e),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},displayIndentGuides:{set:function(e){this.$textLayer.setDisplayIndentGuides(e)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!0},highlightGutterLine:{set:function(e){this.$gutterLayer.setHighlightGutterLine(e),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},hScrollBarAlwaysVisible:{set:function(e){(!this.$hScrollBarAlwaysVisible||!this.$horizScroll)&&this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},vScrollBarAlwaysVisible:{set:function(e){(!this.$vScrollBarAlwaysVisible||!this.$vScroll)&&this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},fontSize:{set:function(e){"number"==typeof e&&(e+="px"),this.container.style.fontSize=e,this.updateFontSize()},initialValue:12},fontFamily:{set:function(e){this.container.style.fontFamily=e,this.updateFontSize()}},maxLines:{set:function(e){this.updateFull()}},minLines:{set:function(e){this.$minLines<562949953421311||(this.$minLines=0),this.updateFull()}},maxPixelHeight:{set:function(e){this.updateFull()},initialValue:0},scrollPastEnd:{set:function(e){this.$scrollPastEnd!=(e=+e||0)&&(this.$scrollPastEnd=e,this.$loop.schedule(this.CHANGE_SCROLL))},initialValue:0,handlesSet:!0},fixedWidthGutter:{set:function(e){this.$gutterLayer.$fixedWidth=!!e,this.$loop.schedule(this.CHANGE_GUTTER)}},theme:{set:function(e){this.setTheme(e)},get:function(){return this.$themeId||this.theme},initialValue:"./theme/textmate",handlesSet:!0},hasCssTransforms:{},useTextareaForIME:{initialValue:!m.isMobile&&!m.isIE}}),t.VirtualRenderer=v}),ace.define("ace/worker/worker_client",["require","exports","module","ace/lib/oop","ace/lib/net","ace/lib/event_emitter","ace/config"],function(e,t,i){"use strict";var n=e("../lib/oop"),o=e("../lib/net"),r=e("../lib/event_emitter").EventEmitter,s=e("../config");function a(e){if("undefined"==typeof Worker)return{postMessage:function(){},terminate:function(){}};if(s.get("loadWorkerFromBlob")){var t=function(e){var t="importScripts('"+o.qualifyURL(e)+"');";try{return new Blob([t],{type:"application/javascript"})}catch(n){var i=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder);return i.append(t),i.getBlob("application/javascript")}}(e),i=(window.URL||window.webkitURL).createObjectURL(t);return new Worker(i)}return new Worker(e)}var l=function(e){e.postMessage||(e=this.$createWorkerFromOldConfig.apply(this,arguments)),this.$worker=e,this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this),this.changeListener=this.changeListener.bind(this),this.onMessage=this.onMessage.bind(this),this.callbackId=1,this.callbacks={},this.$worker.onmessage=this.onMessage};(function(){n.implement(this,r),this.$createWorkerFromOldConfig=function(t,i,n,o,r){if(e.nameToUrl&&!e.toUrl&&(e.toUrl=e.nameToUrl),s.get("packaged")||!e.toUrl)o=o||s.moduleUrl(i,"worker");else{var l=this.$normalizePath;o=o||l(e.toUrl("ace/worker/worker.js",null,"_"));var c={};t.forEach(function(t){c[t]=l(e.toUrl(t,null,"_").replace(/(\.js)?(\?.*)?$/,""))})}return this.$worker=a(o),r&&this.send("importScripts",r),this.$worker.postMessage({init:!0,tlns:c,module:i,classname:n}),this.$worker},this.onMessage=function(e){var t=e.data;switch(t.type){case"event":this._signal(t.name,{data:t.data});break;case"call":var i=this.callbacks[t.id];i&&(i(t.data),delete this.callbacks[t.id]);break;case"error":this.reportError(t.data);break;case"log":window.console&&console.log&&console.log.apply(console,t.data)}},this.reportError=function(e){window.console&&console.error&&console.error(e)},this.$normalizePath=function(e){return o.qualifyURL(e)},this.terminate=function(){this._signal("terminate",{}),this.deltaQueue=null,this.$worker.terminate(),this.$worker=null,this.$doc&&this.$doc.off("change",this.changeListener),this.$doc=null},this.send=function(e,t){this.$worker.postMessage({command:e,args:t})},this.call=function(e,t,i){if(i){var n=this.callbackId++;this.callbacks[n]=i,t.push(n)}this.send(e,t)},this.emit=function(e,t){try{t.data&&t.data.err&&(t.data.err={message:t.data.err.message,stack:t.data.err.stack,code:t.data.err.code}),this.$worker.postMessage({event:e,data:{data:t.data}})}catch(i){console.error(i.stack)}},this.attachToDocument=function(e){this.$doc&&this.terminate(),this.$doc=e,this.call("setValue",[e.getValue()]),e.on("change",this.changeListener)},this.changeListener=function(e){this.deltaQueue||(this.deltaQueue=[],setTimeout(this.$sendDeltaQueue,0)),this.deltaQueue.push(e.start,"insert"==e.action?e.lines:e.end)},this.$sendDeltaQueue=function(){var e=this.deltaQueue;!e||(this.deltaQueue=null,e.length>50&&e.length>this.$doc.getLength()>>1?this.call("setValue",[this.$doc.getValue()]):this.emit("change",{data:e}))}}).call(l.prototype),t.UIWorkerClient=function(e,t,i){var n=null,o=!1,a=Object.create(r),c=[],h=new l({messageBuffer:c,terminate:function(){},postMessage:function(e){c.push(e),n&&(o?setTimeout(u):u())}});h.setEmitSync=function(e){o=e};var u=function(){var e=c.shift();e.command?n[e.command].apply(n,e.args):e.event&&a._signal(e.event,e.data)};return a.postMessage=function(e){h.onMessage({data:e})},a.callback=function(e,t){this.postMessage({type:"call",id:t,data:e})},a.emit=function(e,t){this.postMessage({type:"event",name:e,data:t})},s.loadModule(["worker",t],function(e){for(n=new e[i](a);c.length;)u()}),h},t.WorkerClient=l,t.createWorker=a}),ace.define("ace/placeholder",["require","exports","module","ace/range","ace/lib/event_emitter","ace/lib/oop"],function(e,t,i){"use strict";var n=e("./range").Range,o=e("./lib/event_emitter").EventEmitter,r=e("./lib/oop"),s=function(e,t,i,n,o,r){var s=this;this.length=t,this.session=e,this.doc=e.getDocument(),this.mainClass=o,this.othersClass=r,this.$onUpdate=this.onUpdate.bind(this),this.doc.on("change",this.$onUpdate),this.$others=n,this.$onCursorChange=function(){setTimeout(function(){s.onCursorChange()})},this.$pos=i;var a=e.getUndoManager().$undoStack||e.getUndoManager().$undostack||{length:-1};this.$undoStackDepth=a.length,this.setup(),e.selection.on("changeCursor",this.$onCursorChange)};(function(){r.implement(this,o),this.setup=function(){var e=this,t=this.doc,i=this.session;this.selectionBefore=i.selection.toJSON(),i.selection.inMultiSelectMode&&i.selection.toSingleRange(),this.pos=t.createAnchor(this.$pos.row,this.$pos.column);var o=this.pos;o.$insertRight=!0,o.detach(),o.markerId=i.addMarker(new n(o.row,o.column,o.row,o.column+this.length),this.mainClass,null,!1),this.others=[],this.$others.forEach(function(i){var n=t.createAnchor(i.row,i.column);n.$insertRight=!0,n.detach(),e.others.push(n)}),i.setUndoSelect(!1)},this.showOtherMarkers=function(){if(!this.othersActive){var e=this.session,t=this;this.othersActive=!0,this.others.forEach(function(i){i.markerId=e.addMarker(new n(i.row,i.column,i.row,i.column+t.length),t.othersClass,null,!1)})}},this.hideOtherMarkers=function(){if(this.othersActive){this.othersActive=!1;for(var e=0;e<this.others.length;e++)this.session.removeMarker(this.others[e].markerId)}},this.onUpdate=function(e){if(this.$updating)return this.updateAnchors(e);var t=e;if(t.start.row===t.end.row&&t.start.row===this.pos.row){this.$updating=!0;var i="insert"===e.action?t.end.column-t.start.column:t.start.column-t.end.column,o=t.start.column>=this.pos.column&&t.start.column<=this.pos.column+this.length+1,r=t.start.column-this.pos.column;if(this.updateAnchors(e),o&&(this.length+=i),o&&!this.session.$fromUndo)if("insert"===e.action)for(var s=this.others.length-1;s>=0;s--)this.doc.insertMergedLines(l={row:(a=this.others[s]).row,column:a.column+r},e.lines);else if("remove"===e.action)for(s=this.others.length-1;s>=0;s--){var a,l;this.doc.remove(new n((l={row:(a=this.others[s]).row,column:a.column+r}).row,l.column,l.row,l.column-i))}this.$updating=!1,this.updateMarkers()}},this.updateAnchors=function(e){this.pos.onChange(e);for(var t=this.others.length;t--;)this.others[t].onChange(e);this.updateMarkers()},this.updateMarkers=function(){if(!this.$updating){var e=this,t=this.session,i=function(i,o){t.removeMarker(i.markerId),i.markerId=t.addMarker(new n(i.row,i.column,i.row,i.column+e.length),o,null,!1)};i(this.pos,this.mainClass);for(var o=this.others.length;o--;)i(this.others[o],this.othersClass)}},this.onCursorChange=function(e){if(!this.$updating&&this.session){var t=this.session.selection.getCursor();t.row===this.pos.row&&t.column>=this.pos.column&&t.column<=this.pos.column+this.length?(this.showOtherMarkers(),this._emit("cursorEnter",e)):(this.hideOtherMarkers(),this._emit("cursorLeave",e))}},this.detach=function(){this.session.removeMarker(this.pos&&this.pos.markerId),this.hideOtherMarkers(),this.doc.off("change",this.$onUpdate),this.session.selection.off("changeCursor",this.$onCursorChange),this.session.setUndoSelect(!0),this.session=null},this.cancel=function(){if(-1!==this.$undoStackDepth){for(var e=this.session.getUndoManager(),t=(e.$undoStack||e.$undostack).length-this.$undoStackDepth,i=0;i<t;i++)e.undo(this.session,!0);this.selectionBefore&&this.session.selection.fromJSON(this.selectionBefore)}}}).call(s.prototype),t.PlaceHolder=s}),ace.define("ace/mouse/multi_select_handler",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(e,t,i){var n=e("../lib/event"),o=e("../lib/useragent");function r(e,t){return e.row==t.row&&e.column==t.column}t.onMouseDown=function(e){var t=e.domEvent,i=t.altKey,s=t.shiftKey,a=t.ctrlKey,l=e.getAccelKey(),c=e.getButton();if(a&&o.isMac&&(c=t.button),e.editor.inMultiSelectMode&&2==c)e.editor.textInput.onContextMenu(e.domEvent);else if(a||i||l){if(0===c){var h,u=e.editor,d=u.selection,p=u.inMultiSelectMode,g=e.getDocumentPosition(),f=d.getCursor(),m=e.inSelection()||d.isEmpty()&&r(g,f),_=e.x,v=e.y,y=u.session,b=u.renderer.pixelToScreenCoordinates(_,v),w=b;if(u.$mouseHandler.$enableJumpToDef)a&&i||l&&i?h=s?"block":"add":i&&u.$blockSelectEnabled&&(h="block");else if(l&&!i){if(h="add",!p&&s)return}else i&&u.$blockSelectEnabled&&(h="block");if(h&&o.isMac&&t.ctrlKey&&u.$mouseHandler.cancelContextMenu(),"add"==h){if(!p&&m)return;if(!p){var A=d.toOrientedRange();u.addSelectionMarker(A)}var x=d.rangeList.rangeAtPoint(g);u.inVirtualSelectionMode=!0,s&&(x=null,u.removeSelectionMarker(A=d.ranges[0]||A)),u.once("mouseup",function(){var e=d.toOrientedRange();x&&e.isEmpty()&&r(x.cursor,e.cursor)?d.substractPoint(e.cursor):(s?d.substractPoint(A.cursor):A&&(u.removeSelectionMarker(A),d.addRange(A)),d.addRange(e)),u.inVirtualSelectionMode=!1})}else if("block"==h){e.stop(),u.inVirtualSelectionMode=!0;var T,C=[],Z=function(){var e=u.renderer.pixelToScreenCoordinates(_,v),t=y.screenToDocumentPosition(e.row,e.column,e.offsetX);r(w,e)&&r(t,d.lead)||(w=e,u.selection.moveToPosition(t),u.renderer.scrollCursorIntoView(),u.removeSelectionMarkers(C),C=d.rectangularRangeBlock(w,b),u.$mouseHandler.$clickSelection&&1==C.length&&C[0].isEmpty()&&(C[0]=u.$mouseHandler.$clickSelection.clone()),C.forEach(u.addSelectionMarker,u),u.updateSelectionMarkers())};p&&!l?d.toSingleRange():!p&&l&&(T=d.toOrientedRange(),u.addSelectionMarker(T)),s?b=y.documentToScreenPosition(d.lead):d.moveToPosition(g),w={row:-1,column:-1};var k=Z;n.capture(u.container,function(e){_=e.clientX,v=e.clientY},function(e){Z(),clearInterval(S),u.removeSelectionMarkers(C),C.length||(C=[d.toOrientedRange()]),T&&(u.removeSelectionMarker(T),d.toSingleRange(T));for(var t=0;t<C.length;t++)d.addRange(C[t]);u.inVirtualSelectionMode=!1,u.$mouseHandler.$clickSelection=null});var S=setInterval(function(){k()},20);return e.preventDefault()}}}else 0===c&&e.editor.inMultiSelectMode&&e.editor.exitMultiSelectMode()}}),ace.define("ace/commands/multi_select_commands",["require","exports","module","ace/keyboard/hash_handler"],function(e,t,i){t.defaultCommands=[{name:"addCursorAbove",description:"Add cursor above",exec:function(e){e.selectMoreLines(-1)},bindKey:{win:"Ctrl-Alt-Up",mac:"Ctrl-Alt-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelow",description:"Add cursor below",exec:function(e){e.selectMoreLines(1)},bindKey:{win:"Ctrl-Alt-Down",mac:"Ctrl-Alt-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorAboveSkipCurrent",description:"Add cursor above (skip current)",exec:function(e){e.selectMoreLines(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Up",mac:"Ctrl-Alt-Shift-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelowSkipCurrent",description:"Add cursor below (skip current)",exec:function(e){e.selectMoreLines(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Down",mac:"Ctrl-Alt-Shift-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreBefore",description:"Select more before",exec:function(e){e.selectMore(-1)},bindKey:{win:"Ctrl-Alt-Left",mac:"Ctrl-Alt-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreAfter",description:"Select more after",exec:function(e){e.selectMore(1)},bindKey:{win:"Ctrl-Alt-Right",mac:"Ctrl-Alt-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextBefore",description:"Select next before",exec:function(e){e.selectMore(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Left",mac:"Ctrl-Alt-Shift-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextAfter",description:"Select next after",exec:function(e){e.selectMore(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Right",mac:"Ctrl-Alt-Shift-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"toggleSplitSelectionIntoLines",description:"Split into lines",exec:function(e){e.multiSelect.rangeCount>1?e.multiSelect.joinSelections():e.multiSelect.splitIntoLines()},bindKey:{win:"Ctrl-Alt-L",mac:"Ctrl-Alt-L"},readOnly:!0},{name:"splitSelectionIntoLines",description:"Split into lines",exec:function(e){e.multiSelect.splitIntoLines()},readOnly:!0},{name:"alignCursors",description:"Align cursors",exec:function(e){e.alignCursors()},bindKey:{win:"Ctrl-Alt-A",mac:"Ctrl-Alt-A"},scrollIntoView:"cursor"},{name:"findAll",description:"Find all",exec:function(e){e.findAll()},bindKey:{win:"Ctrl-Alt-K",mac:"Ctrl-Alt-G"},scrollIntoView:"cursor",readOnly:!0}],t.multiSelectCommands=[{name:"singleSelection",description:"Single selection",bindKey:"esc",exec:function(e){e.exitMultiSelectMode()},scrollIntoView:"cursor",readOnly:!0,isAvailable:function(e){return e&&e.inMultiSelectMode}}];var n=e("../keyboard/hash_handler").HashHandler;t.keyboardHandler=new n(t.multiSelectCommands)}),ace.define("ace/multi_select",["require","exports","module","ace/range_list","ace/range","ace/selection","ace/mouse/multi_select_handler","ace/lib/event","ace/lib/lang","ace/commands/multi_select_commands","ace/search","ace/edit_session","ace/editor","ace/config"],function(e,t,i){var n=e("./range_list").RangeList,o=e("./range").Range,r=e("./selection").Selection,s=e("./mouse/multi_select_handler").onMouseDown,a=e("./lib/event"),l=e("./lib/lang"),c=e("./commands/multi_select_commands");t.commands=c.defaultCommands.concat(c.multiSelectCommands);var h=new(0,e("./search").Search),u=e("./edit_session").EditSession;(function(){this.getSelectionMarkers=function(){return this.$selectionMarkers}}).call(u.prototype),(function(){this.ranges=null,this.rangeList=null,this.addRange=function(e,t){if(e){if(!this.inMultiSelectMode&&0===this.rangeCount){var i=this.toOrientedRange();if(this.rangeList.add(i),this.rangeList.add(e),2!=this.rangeList.ranges.length)return this.rangeList.removeAll(),t||this.fromOrientedRange(e);this.rangeList.removeAll(),this.rangeList.add(i),this.$onAddRange(i)}e.cursor||(e.cursor=e.end);var n=this.rangeList.add(e);return this.$onAddRange(e),n.length&&this.$onRemoveRange(n),this.rangeCount>1&&!this.inMultiSelectMode&&(this._signal("multiSelect"),this.inMultiSelectMode=!0,this.session.$undoSelect=!1,this.rangeList.attach(this.session)),t||this.fromOrientedRange(e)}},this.toSingleRange=function(e){e=e||this.ranges[0];var t=this.rangeList.removeAll();t.length&&this.$onRemoveRange(t),e&&this.fromOrientedRange(e)},this.substractPoint=function(e){var t=this.rangeList.substractPoint(e);if(t)return this.$onRemoveRange(t),t[0]},this.mergeOverlappingRanges=function(){var e=this.rangeList.merge();e.length&&this.$onRemoveRange(e)},this.$onAddRange=function(e){this.rangeCount=this.rangeList.ranges.length,this.ranges.unshift(e),this._signal("addRange",{range:e})},this.$onRemoveRange=function(e){if(this.rangeCount=this.rangeList.ranges.length,1==this.rangeCount&&this.inMultiSelectMode){var t=this.rangeList.ranges.pop();e.push(t),this.rangeCount=0}for(var i=e.length;i--;){var n=this.ranges.indexOf(e[i]);this.ranges.splice(n,1)}this._signal("removeRange",{ranges:e}),0===this.rangeCount&&this.inMultiSelectMode&&(this.inMultiSelectMode=!1,this._signal("singleSelect"),this.session.$undoSelect=!0,this.rangeList.detach(this.session)),(t=t||this.ranges[0])&&!t.isEqual(this.getRange())&&this.fromOrientedRange(t)},this.$initRangeList=function(){this.rangeList||(this.rangeList=new n,this.ranges=[],this.rangeCount=0)},this.getAllRanges=function(){return this.rangeCount?this.rangeList.ranges.concat():[this.getRange()]},this.splitIntoLines=function(){for(var e=this.ranges.length?this.ranges:[this.getRange()],t=[],i=0;i<e.length;i++){var n=e[i],r=n.start.row,s=n.end.row;if(r===s)t.push(n.clone());else{for(t.push(new o(r,n.start.column,r,this.session.getLine(r).length));++r<s;)t.push(this.getLineRange(r,!0));t.push(new o(s,0,s,n.end.column))}0==i&&!this.isBackwards()&&(t=t.reverse())}for(this.toSingleRange(),i=t.length;i--;)this.addRange(t[i])},this.joinSelections=function(){var e=this.rangeList.ranges,t=e[e.length-1],i=o.fromPoints(e[0].start,t.end);this.toSingleRange(),this.setSelectionRange(i,t.cursor==t.start)},this.toggleBlockSelection=function(){if(this.rangeCount>1){var e=this.rangeList.ranges,t=e[e.length-1],i=o.fromPoints(e[0].start,t.end);this.toSingleRange(),this.setSelectionRange(i,t.cursor==t.start)}else{var n=this.session.documentToScreenPosition(this.cursor),r=this.session.documentToScreenPosition(this.anchor);this.rectangularRangeBlock(n,r).forEach(this.addRange,this)}},this.rectangularRangeBlock=function(e,t,i){var n=[],r=e.column<t.column;if(r)var s=e.column,a=t.column,l=e.offsetX,c=t.offsetX;else s=t.column,a=e.column,l=t.offsetX,c=e.offsetX;var h=e.row<t.row;if(h)var u=e.row,d=t.row;else u=t.row,d=e.row;s<0&&(s=0),u<0&&(u=0),u==d&&(i=!0);for(var g,f=u;f<=d;f++){var m=o.fromPoints(this.session.screenToDocumentPosition(f,s,l),this.session.screenToDocumentPosition(f,a,c));if(m.isEmpty()){if(g&&p(m.end,g))break;g=m.end}m.cursor=r?m.start:m.end,n.push(m)}if(h&&n.reverse(),!i){for(var _=n.length-1;n[_].isEmpty()&&_>0;)_--;if(_>0)for(var v=0;n[v].isEmpty();)v++;for(var y=_;y>=v;y--)n[y].isEmpty()&&n.splice(y,1)}return n}}).call(r.prototype);var d=e("./editor").Editor;function p(e,t){return e.row==t.row&&e.column==t.column}function g(e){e.$multiselectOnSessionChange||(e.$onAddRange=e.$onAddRange.bind(e),e.$onRemoveRange=e.$onRemoveRange.bind(e),e.$onMultiSelect=e.$onMultiSelect.bind(e),e.$onSingleSelect=e.$onSingleSelect.bind(e),e.$multiselectOnSessionChange=t.onSessionChange.bind(e),e.$checkMultiselectChange=e.$checkMultiselectChange.bind(e),e.$multiselectOnSessionChange(e),e.on("changeSession",e.$multiselectOnSessionChange),e.on("mousedown",s),e.commands.addCommands(c.defaultCommands),function(e){if(e.textInput){var t=e.textInput.getElement(),i=!1;a.addListener(t,"keydown",function(t){e.$blockSelectEnabled&&18==t.keyCode&&!(t.ctrlKey||t.shiftKey||t.metaKey)?i||(e.renderer.setMouseCursor("crosshair"),i=!0):i&&n()},e),a.addListener(t,"keyup",n,e),a.addListener(t,"blur",n,e)}function n(t){i&&(e.renderer.setMouseCursor(""),i=!1)}}(e))}(function(){this.updateSelectionMarkers=function(){this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.addSelectionMarker=function(e){e.cursor||(e.cursor=e.end);var t=this.getSelectionStyle();return e.marker=this.session.addMarker(e,"ace_selection",t),this.session.$selectionMarkers.push(e),this.session.selectionMarkerCount=this.session.$selectionMarkers.length,e},this.removeSelectionMarker=function(e){if(e.marker){this.session.removeMarker(e.marker);var t=this.session.$selectionMarkers.indexOf(e);-1!=t&&this.session.$selectionMarkers.splice(t,1),this.session.selectionMarkerCount=this.session.$selectionMarkers.length}},this.removeSelectionMarkers=function(e){for(var t=this.session.$selectionMarkers,i=e.length;i--;){var n=e[i];if(n.marker){this.session.removeMarker(n.marker);var o=t.indexOf(n);-1!=o&&t.splice(o,1)}}this.session.selectionMarkerCount=t.length},this.$onAddRange=function(e){this.addSelectionMarker(e.range),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onRemoveRange=function(e){this.removeSelectionMarkers(e.ranges),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onMultiSelect=function(e){this.inMultiSelectMode||(this.inMultiSelectMode=!0,this.setStyle("ace_multiselect"),this.keyBinding.addKeyboardHandler(c.keyboardHandler),this.commands.setDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers())},this.$onSingleSelect=function(e){this.session.multiSelect.inVirtualMode||(this.inMultiSelectMode=!1,this.unsetStyle("ace_multiselect"),this.keyBinding.removeKeyboardHandler(c.keyboardHandler),this.commands.removeDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers(),this._emit("changeSelection"))},this.$onMultiSelectExec=function(e){var t=e.command,i=e.editor;if(i.multiSelect){if(t.multiSelectAction)"forEach"==t.multiSelectAction?n=i.forEachSelection(t,e.args):"forEachLine"==t.multiSelectAction?n=i.forEachSelection(t,e.args,!0):"single"==t.multiSelectAction?(i.exitMultiSelectMode(),n=t.exec(i,e.args||{})):n=t.multiSelectAction(i,e.args||{});else{var n=t.exec(i,e.args||{});i.multiSelect.addRange(i.multiSelect.toOrientedRange()),i.multiSelect.mergeOverlappingRanges()}return n}},this.forEachSelection=function(e,t,i){if(!this.inVirtualSelectionMode){var n,o=1==i||i&&i.$byLines,s=this.session,a=this.selection,l=(i&&i.keepOrder?a:a.rangeList).ranges;if(!l.length)return e.exec?e.exec(this,t||{}):e(this,t||{});var c=a._eventRegistry;a._eventRegistry={};var h=new r(s);this.inVirtualSelectionMode=!0;for(var u=l.length;u--;){if(o)for(;u>0&&l[u].start.row==l[u-1].end.row;)u--;h.fromOrientedRange(l[u]),h.index=u,this.selection=s.selection=h;var d=e.exec?e.exec(this,t||{}):e(this,t||{});!n&&void 0!==d&&(n=d),h.toOrientedRange(l[u])}h.detach(),this.selection=s.selection=a,this.inVirtualSelectionMode=!1,a._eventRegistry=c,a.mergeOverlappingRanges(),a.ranges[0]&&a.fromOrientedRange(a.ranges[0]);var p=this.renderer.$scrollAnimation;return this.onCursorChange(),this.onSelectionChange(),p&&p.from==p.to&&this.renderer.animateScrolling(p.from),n}},this.exitMultiSelectMode=function(){!this.inMultiSelectMode||this.inVirtualSelectionMode||this.multiSelect.toSingleRange()},this.getSelectedText=function(){var e="";if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){for(var t=this.multiSelect.rangeList.ranges,i=[],n=0;n<t.length;n++)i.push(this.session.getTextRange(t[n]));var o=this.session.getDocument().getNewLineCharacter();(e=i.join(o)).length==(i.length-1)*o.length&&(e="")}else this.selection.isEmpty()||(e=this.session.getTextRange(this.getSelectionRange()));return e},this.$checkMultiselectChange=function(e,t){if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){var i=this.multiSelect.ranges[0];if(this.multiSelect.isEmpty()&&t==this.multiSelect.anchor)return;var n=t==this.multiSelect.anchor?i.cursor==i.start?i.end:i.start:i.cursor;n.row!=t.row||this.session.$clipPositionToDocument(n.row,n.column).column!=t.column?this.multiSelect.toSingleRange(this.multiSelect.toOrientedRange()):this.multiSelect.mergeOverlappingRanges()}},this.findAll=function(e,t,i){if((t=t||{}).needle=e||t.needle,null==t.needle){var n=this.selection.isEmpty()?this.selection.getWordRange():this.selection.getRange();t.needle=this.session.getTextRange(n)}this.$search.set(t);var o=this.$search.findAll(this.session);if(!o.length)return 0;var r=this.multiSelect;i||r.toSingleRange(o[0]);for(var s=o.length;s--;)r.addRange(o[s],!0);return n&&r.rangeList.rangeAtPoint(n.start)&&r.addRange(n,!0),o.length},this.selectMoreLines=function(e,t){var i=this.selection.toOrientedRange(),n=i.cursor==i.end,r=this.session.documentToScreenPosition(i.cursor);this.selection.$desiredColumn&&(r.column=this.selection.$desiredColumn);var s,a=this.session.screenToDocumentPosition(r.row+e,r.column);if(i.isEmpty())var l=a;else{var c=this.session.documentToScreenPosition(n?i.end:i.start);l=this.session.screenToDocumentPosition(c.row+e,c.column)}if(n?(s=o.fromPoints(a,l)).cursor=s.start:(s=o.fromPoints(l,a)).cursor=s.end,s.desiredColumn=r.column,this.selection.inMultiSelectMode){if(t)var h=i.cursor}else this.selection.addRange(i);this.selection.addRange(s),h&&this.selection.substractPoint(h)},this.transposeSelections=function(e){for(var t=this.session,i=t.multiSelect,n=i.ranges,o=n.length;o--;)if((a=n[o]).isEmpty()){var r=t.getWordRange(a.start.row,a.start.column);a.start.row=r.start.row,a.start.column=r.start.column,a.end.row=r.end.row,a.end.column=r.end.column}i.mergeOverlappingRanges();var s=[];for(o=n.length;o--;)s.unshift(t.getTextRange(a=n[o]));for(e<0?s.unshift(s.pop()):s.push(s.shift()),o=n.length;o--;){var a;r=(a=n[o]).clone(),t.replace(a,s[o]),a.start.row=r.start.row,a.start.column=r.start.column}i.fromOrientedRange(i.ranges[0])},this.selectMore=function(e,t,i){var n=this.session,o=n.multiSelect.toOrientedRange();if(!o.isEmpty()||((o=n.getWordRange(o.start.row,o.start.column)).cursor=-1==e?o.start:o.end,this.multiSelect.addRange(o),!i)){var r=n.getTextRange(o),s=function(e,t,i){return h.$options.wrap=!0,h.$options.needle=t,h.$options.backwards=-1==i,h.find(e)}(n,r,e);s&&(s.cursor=-1==e?s.start:s.end,this.session.unfold(s),this.multiSelect.addRange(s),this.renderer.scrollCursorIntoView(null,.5)),t&&this.multiSelect.substractPoint(o.cursor)}},this.alignCursors=function(){var e=this.session,t=e.multiSelect,i=t.ranges,n=-1,r=i.filter(function(e){if(e.cursor.row==n)return!0;n=e.cursor.row});if(i.length&&r.length!=i.length-1){r.forEach(function(e){t.substractPoint(e.cursor)});var s=0,a=1/0,c=i.map(function(t){var i=t.cursor,n=e.getLine(i.row).substr(i.column).search(/\S/g);return-1==n&&(n=0),i.column>s&&(s=i.column),n<a&&(a=n),n});i.forEach(function(t,i){var n=t.cursor,r=s-n.column,h=c[i]-a;r>h?e.insert(n,l.stringRepeat(" ",r-h)):e.remove(new o(n.row,n.column,n.row,n.column-r+h)),t.start.column=t.end.column=s,t.start.row=t.end.row=n.row,t.cursor=t.end}),t.fromOrientedRange(i[0]),this.renderer.updateCursor(),this.renderer.updateBackMarkers()}else{var h=this.selection.getRange(),u=h.start.row,d=h.end.row,p=u==d;if(p){var g,f=this.session.getLength();do{g=this.session.getLine(d)}while(/[=:]/.test(g)&&++d<f);do{g=this.session.getLine(u)}while(/[=:]/.test(g)&&--u>0);u<0&&(u=0),d>=f&&(d=f-1)}var m=this.session.removeFullLines(u,d);m=this.$reAlignText(m,p),this.session.insert({row:u,column:0},m.join("\n")+"\n"),p||(h.start.column=0,h.end.column=m[m.length-1].length),this.selection.setRange(h)}},this.$reAlignText=function(e,t){var i,n,o,r=!0,s=!0;return e.map(function(e){var t=e.match(/(\s*)(.*?)(\s*)([=:].*)/);return t?null==i?(i=t[1].length,n=t[2].length,o=t[3].length,t):(i+n+o!=t[1].length+t[2].length+t[3].length&&(s=!1),i!=t[1].length&&(r=!1),i>t[1].length&&(i=t[1].length),n<t[2].length&&(n=t[2].length),o>t[3].length&&(o=t[3].length),t):[e]}).map(t?c:r?s?function(e){return e[2]?a(i+n-e[2].length)+e[2]+a(o)+e[4].replace(/^([=:])\s+/,"$1 "):e[0]}:c:function(e){return e[2]?a(i)+e[2]+a(o)+e[4].replace(/^([=:])\s+/,"$1 "):e[0]});function a(e){return l.stringRepeat(" ",e)}function c(e){return e[2]?a(i)+e[2]+a(n-e[2].length+o)+e[4].replace(/^([=:])\s+/,"$1 "):e[0]}}}).call(d.prototype),t.onSessionChange=function(e){var t=e.session;t&&!t.multiSelect&&(t.$selectionMarkers=[],t.selection.$initRangeList(),t.multiSelect=t.selection),this.multiSelect=t&&t.multiSelect;var i=e.oldSession;i&&(i.multiSelect.off("addRange",this.$onAddRange),i.multiSelect.off("removeRange",this.$onRemoveRange),i.multiSelect.off("multiSelect",this.$onMultiSelect),i.multiSelect.off("singleSelect",this.$onSingleSelect),i.multiSelect.lead.off("change",this.$checkMultiselectChange),i.multiSelect.anchor.off("change",this.$checkMultiselectChange)),t&&(t.multiSelect.on("addRange",this.$onAddRange),t.multiSelect.on("removeRange",this.$onRemoveRange),t.multiSelect.on("multiSelect",this.$onMultiSelect),t.multiSelect.on("singleSelect",this.$onSingleSelect),t.multiSelect.lead.on("change",this.$checkMultiselectChange),t.multiSelect.anchor.on("change",this.$checkMultiselectChange)),t&&this.inMultiSelectMode!=t.selection.inMultiSelectMode&&(t.selection.inMultiSelectMode?this.$onMultiSelect():this.$onSingleSelect())},t.MultiSelect=g,e("./config").defineOptions(d.prototype,"editor",{enableMultiselect:{set:function(e){g(this),e?(this.on("changeSession",this.$multiselectOnSessionChange),this.on("mousedown",s)):(this.off("changeSession",this.$multiselectOnSessionChange),this.off("mousedown",s))},value:!0},enableBlockSelect:{set:function(e){this.$blockSelectEnabled=e},value:!0}})}),ace.define("ace/mode/folding/fold_mode",["require","exports","module","ace/range"],function(e,t,i){"use strict";var n=e("../../range").Range,o=t.FoldMode=function(){};(function(){this.foldingStartMarker=null,this.foldingStopMarker=null,this.getFoldWidget=function(e,t,i){var n=e.getLine(i);return this.foldingStartMarker.test(n)?"start":"markbeginend"==t&&this.foldingStopMarker&&this.foldingStopMarker.test(n)?"end":""},this.getFoldWidgetRange=function(e,t,i){return null},this.indentationBlock=function(e,t,i){var o=/\S/,r=e.getLine(t),s=r.search(o);if(-1!=s){for(var a=i||r.length,l=e.getLength(),c=t,h=t;++t<l;){var u=e.getLine(t).search(o);if(-1!=u){if(u<=s){var d=e.getTokenAt(t,0);if(!d||"string"!==d.type)break}h=t}}if(h>c){var p=e.getLine(h).length;return new n(c,a,h,p)}}},this.openingBracketBlock=function(e,t,i,o,r){var s={row:i,column:o+1},a=e.$findClosingBracket(t,s,r);if(a){var l=e.foldWidgets[a.row];return null==l&&(l=e.getFoldWidget(a.row)),"start"==l&&a.row>s.row&&(a.row--,a.column=e.getLine(a.row).length),n.fromPoints(s,a)}},this.closingBracketBlock=function(e,t,i,o,r){var s={row:i,column:o},a=e.$findOpeningBracket(t,s);if(a)return a.column++,s.column--,n.fromPoints(a,s)}}).call(o.prototype)}),ace.define("ace/theme/textmate",["require","exports","module","ace/lib/dom"],function(e,t,i){"use strict";t.isDark=!1,t.cssClass="ace-tm",t.cssText='.ace-tm .ace_gutter {background: #f0f0f0;color: #333;}.ace-tm .ace_print-margin {width: 1px;background: #e8e8e8;}.ace-tm .ace_fold {background-color: #6B72E6;}.ace-tm {background-color: #FFFFFF;color: black;}.ace-tm .ace_cursor {color: black;}.ace-tm .ace_invisible {color: rgb(191, 191, 191);}.ace-tm .ace_storage,.ace-tm .ace_keyword {color: blue;}.ace-tm .ace_constant {color: rgb(197, 6, 11);}.ace-tm .ace_constant.ace_buildin {color: rgb(88, 72, 246);}.ace-tm .ace_constant.ace_language {color: rgb(88, 92, 246);}.ace-tm .ace_constant.ace_library {color: rgb(6, 150, 14);}.ace-tm .ace_invalid {background-color: rgba(255, 0, 0, 0.1);color: red;}.ace-tm .ace_support.ace_function {color: rgb(60, 76, 114);}.ace-tm .ace_support.ace_constant {color: rgb(6, 150, 14);}.ace-tm .ace_support.ace_type,.ace-tm .ace_support.ace_class {color: rgb(109, 121, 222);}.ace-tm .ace_keyword.ace_operator {color: rgb(104, 118, 135);}.ace-tm .ace_string {color: rgb(3, 106, 7);}.ace-tm .ace_comment {color: rgb(76, 136, 107);}.ace-tm .ace_comment.ace_doc {color: rgb(0, 102, 255);}.ace-tm .ace_comment.ace_doc.ace_tag {color: rgb(128, 159, 191);}.ace-tm .ace_constant.ace_numeric {color: rgb(0, 0, 205);}.ace-tm .ace_variable {color: rgb(49, 132, 149);}.ace-tm .ace_xml-pe {color: rgb(104, 104, 91);}.ace-tm .ace_entity.ace_name.ace_function {color: #0000A2;}.ace-tm .ace_heading {color: rgb(12, 7, 255);}.ace-tm .ace_list {color:rgb(185, 6, 144);}.ace-tm .ace_meta.ace_tag {color:rgb(0, 22, 142);}.ace-tm .ace_string.ace_regex {color: rgb(255, 0, 0)}.ace-tm .ace_marker-layer .ace_selection {background: rgb(181, 213, 255);}.ace-tm.ace_multiselect .ace_selection.ace_start {box-shadow: 0 0 3px 0px white;}.ace-tm .ace_marker-layer .ace_step {background: rgb(252, 255, 0);}.ace-tm .ace_marker-layer .ace_stack {background: rgb(164, 229, 101);}.ace-tm .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid rgb(192, 192, 192);}.ace-tm .ace_marker-layer .ace_active-line {background: rgba(0, 0, 0, 0.07);}.ace-tm .ace_gutter-active-line {background-color : #dcdcdc;}.ace-tm .ace_marker-layer .ace_selected-word {background: rgb(250, 250, 255);border: 1px solid rgb(200, 200, 250);}.ace-tm .ace_indent-guide {background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;}',t.$id="ace/theme/textmate",e("../lib/dom").importCssString(t.cssText,t.cssClass,!1)}),ace.define("ace/line_widgets",["require","exports","module","ace/lib/dom"],function(e,t,i){"use strict";var n=e("./lib/dom");function o(e){this.session=e,this.session.widgetManager=this,this.session.getRowLength=this.getRowLength,this.session.$getWidgetScreenLength=this.$getWidgetScreenLength,this.updateOnChange=this.updateOnChange.bind(this),this.renderWidgets=this.renderWidgets.bind(this),this.measureWidgets=this.measureWidgets.bind(this),this.session._changedWidgets=[],this.$onChangeEditor=this.$onChangeEditor.bind(this),this.session.on("change",this.updateOnChange),this.session.on("changeFold",this.updateOnFold),this.session.on("changeEditor",this.$onChangeEditor)}(function(){this.getRowLength=function(e){var t;return t=this.lineWidgets&&this.lineWidgets[e]&&this.lineWidgets[e].rowCount||0,this.$useWrapMode&&this.$wrapData[e]?this.$wrapData[e].length+1+t:1+t},this.$getWidgetScreenLength=function(){var e=0;return this.lineWidgets.forEach(function(t){t&&t.rowCount&&!t.hidden&&(e+=t.rowCount)}),e},this.$onChangeEditor=function(e){this.attach(e.editor)},this.attach=function(e){e&&e.widgetManager&&e.widgetManager!=this&&e.widgetManager.detach(),this.editor!=e&&(this.detach(),this.editor=e,e&&(e.widgetManager=this,e.renderer.on("beforeRender",this.measureWidgets),e.renderer.on("afterRender",this.renderWidgets)))},this.detach=function(e){var t=this.editor;if(t){this.editor=null,t.widgetManager=null,t.renderer.off("beforeRender",this.measureWidgets),t.renderer.off("afterRender",this.renderWidgets);var i=this.session.lineWidgets;i&&i.forEach(function(e){e&&e.el&&e.el.parentNode&&(e._inDocument=!1,e.el.parentNode.removeChild(e.el))})}},this.updateOnFold=function(e,t){var i=t.lineWidgets;if(i&&e.action){for(var n=e.data,o=n.start.row,r=n.end.row,s="add"==e.action,a=o+1;a<r;a++)i[a]&&(i[a].hidden=s);i[r]&&(s?i[o]?i[r].hidden=s:i[o]=i[r]:(i[o]==i[r]&&(i[o]=void 0),i[r].hidden=s))}},this.updateOnChange=function(e){var t=this.session.lineWidgets;if(t){var i=e.start.row,n=e.end.row-i;if(0!==n)if("remove"==e.action){var o=t.splice(i+1,n);!t[i]&&o[o.length-1]&&(t[i]=o.pop()),o.forEach(function(e){e&&this.removeLineWidget(e)},this),this.$updateRows()}else{var r=new Array(n);t[i]&&null!=t[i].column&&e.start.column>t[i].column&&i++,r.unshift(i,0),t.splice.apply(t,r),this.$updateRows()}}},this.$updateRows=function(){var e=this.session.lineWidgets;if(e){var t=!0;e.forEach(function(e,i){if(e)for(t=!1,e.row=i;e.$oldWidget;)e.$oldWidget.row=i,e=e.$oldWidget}),t&&(this.session.lineWidgets=null)}},this.$registerLineWidget=function(e){this.session.lineWidgets||(this.session.lineWidgets=new Array(this.session.getLength()));var t=this.session.lineWidgets[e.row];return t&&(e.$oldWidget=t,t.el&&t.el.parentNode&&(t.el.parentNode.removeChild(t.el),t._inDocument=!1)),this.session.lineWidgets[e.row]=e,e},this.addLineWidget=function(e){if(this.$registerLineWidget(e),e.session=this.session,!this.editor)return e;var t=this.editor.renderer;e.html&&!e.el&&(e.el=n.createElement("div"),e.el.innerHTML=e.html),e.el&&(n.addCssClass(e.el,"ace_lineWidgetContainer"),e.el.style.position="absolute",e.el.style.zIndex=5,t.container.appendChild(e.el),e._inDocument=!0,e.coverGutter||(e.el.style.zIndex=3),null==e.pixelHeight&&(e.pixelHeight=e.el.offsetHeight)),null==e.rowCount&&(e.rowCount=e.pixelHeight/t.layerConfig.lineHeight);var i=this.session.getFoldAt(e.row,0);if(e.$fold=i,i){var o=this.session.lineWidgets;e.row!=i.end.row||o[i.start.row]?e.hidden=!0:o[i.start.row]=e}return this.session._emit("changeFold",{data:{start:{row:e.row}}}),this.$updateRows(),this.renderWidgets(null,t),this.onWidgetChanged(e),e},this.removeLineWidget=function(e){if(e._inDocument=!1,e.session=null,e.el&&e.el.parentNode&&e.el.parentNode.removeChild(e.el),e.editor&&e.editor.destroy)try{e.editor.destroy()}catch(i){}if(this.session.lineWidgets){var t=this.session.lineWidgets[e.row];if(t==e)this.session.lineWidgets[e.row]=e.$oldWidget,e.$oldWidget&&this.onWidgetChanged(e.$oldWidget);else for(;t;){if(t.$oldWidget==e){t.$oldWidget=e.$oldWidget;break}t=t.$oldWidget}}this.session._emit("changeFold",{data:{start:{row:e.row}}}),this.$updateRows()},this.getWidgetsAtRow=function(e){for(var t=this.session.lineWidgets,i=t&&t[e],n=[];i;)n.push(i),i=i.$oldWidget;return n},this.onWidgetChanged=function(e){this.session._changedWidgets.push(e),this.editor&&this.editor.renderer.updateFull()},this.measureWidgets=function(e,t){var i=this.session._changedWidgets,n=t.layerConfig;if(i&&i.length){for(var o=1/0,r=0;r<i.length;r++){var s=i[r];if(s&&s.el&&s.session==this.session){if(!s._inDocument){if(this.session.lineWidgets[s.row]!=s)continue;s._inDocument=!0,t.container.appendChild(s.el)}s.h=s.el.offsetHeight,s.fixedWidth||(s.w=s.el.offsetWidth,s.screenWidth=Math.ceil(s.w/n.characterWidth));var a=s.h/n.lineHeight;s.coverLine&&(a-=this.session.getRowLineCount(s.row))<0&&(a=0),s.rowCount!=a&&(s.rowCount=a,s.row<o&&(o=s.row))}}o!=1/0&&(this.session._emit("changeFold",{data:{start:{row:o}}}),this.session.lineWidgetWidth=null),this.session._changedWidgets=[]}},this.renderWidgets=function(e,t){var i=t.layerConfig,n=this.session.lineWidgets;if(n){for(var o=Math.min(this.firstRow,i.firstRow),r=Math.max(this.lastRow,i.lastRow,n.length);o>0&&!n[o];)o--;this.firstRow=i.firstRow,this.lastRow=i.lastRow,t.$cursorLayer.config=i;for(var s=o;s<=r;s++){var a=n[s];if(a&&a.el){if(a.hidden){a.el.style.top=-100-(a.pixelHeight||0)+"px";continue}a._inDocument||(a._inDocument=!0,t.container.appendChild(a.el));var l=t.$cursorLayer.getPixelPosition({row:s,column:0},!0).top;a.coverLine||(l+=i.lineHeight*this.session.getRowLineCount(a.row)),a.el.style.top=l-i.offset+"px";var c=a.coverGutter?0:t.gutterWidth;a.fixedWidth||(c-=t.scrollLeft),a.el.style.left=c+"px",a.fullWidth&&a.screenWidth&&(a.el.style.minWidth=i.width+2*i.padding+"px"),a.el.style.right=a.fixedWidth?t.scrollBar.getWidth()+"px":""}}}}}).call(o.prototype),t.LineWidgets=o}),ace.define("ace/ext/error_marker",["require","exports","module","ace/line_widgets","ace/lib/dom","ace/range"],function(e,t,i){"use strict";var n=e("../line_widgets").LineWidgets,o=e("../lib/dom"),r=e("../range").Range;t.showErrorMarker=function(e,t){var i=e.session;i.widgetManager||(i.widgetManager=new n(i),i.widgetManager.attach(e));var s=e.getCursorPosition(),a=s.row,l=i.widgetManager.getWidgetsAtRow(a).filter(function(e){return"errorMarker"==e.type})[0];l?l.destroy():a-=t;var c,h=function(e,t,i){var n=e.getAnnotations().sort(r.comparePoints);if(n.length){var o=function(e,t,i){for(var n=0,o=e.length-1;n<=o;){var r=n+o>>1,s=i(t,e[r]);if(s>0)n=r+1;else{if(!(s<0))return r;o=r-1}}return-(n+1)}(n,{row:t,column:-1},r.comparePoints);o<0&&(o=-o-1),o>=n.length?o=i>0?0:n.length-1:0===o&&i<0&&(o=n.length-1);var s=n[o];if(s&&i){if(s.row===t){do{s=n[o+=i]}while(s&&s.row===t);if(!s)return n.slice()}var a=[];t=s.row;do{a[i<0?"unshift":"push"](s),s=n[o+=i]}while(s&&s.row==t);return a.length&&a}}}(i,a,t);if(h){var u=h[0];s.column=(u.pos&&"number"!=typeof u.column?u.pos.sc:u.column)||0,s.row=u.row,c=e.renderer.$gutterLayer.$annotations[s.row]}else{if(l)return;c={text:["Looks good!"],className:"ace_ok"}}e.session.unfold(s.row),e.selection.moveToPosition(s);var d={row:s.row,fixedWidth:!0,coverGutter:!0,el:o.createElement("div"),type:"errorMarker"},p=d.el.appendChild(o.createElement("div")),g=d.el.appendChild(o.createElement("div"));g.className="error_widget_arrow "+c.className;var f=e.renderer.$cursorLayer.getPixelPosition(s).left;g.style.left=f+e.renderer.gutterWidth-5+"px",d.el.className="error_widget_wrapper",p.className="error_widget "+c.className,p.innerHTML=c.text.join("<br>"),p.appendChild(o.createElement("div"));var m=function(e,t,i){if(0===t&&("esc"===i||"return"===i))return d.destroy(),{command:"null"}};d.destroy=function(){e.$mouseHandler.isMousePressed||(e.keyBinding.removeKeyboardHandler(m),i.widgetManager.removeLineWidget(d),e.off("changeSelection",d.destroy),e.off("changeSession",d.destroy),e.off("mouseup",d.destroy),e.off("change",d.destroy))},e.keyBinding.addKeyboardHandler(m),e.on("changeSelection",d.destroy),e.on("changeSession",d.destroy),e.on("mouseup",d.destroy),e.on("change",d.destroy),e.session.widgetManager.addLineWidget(d),d.el.onmousedown=e.focus.bind(e),e.renderer.scrollCursorIntoView(null,.5,{bottom:d.el.offsetHeight})},o.importCssString("    .error_widget_wrapper {        background: inherit;        color: inherit;        border:none    }    .error_widget {        border-top: solid 2px;        border-bottom: solid 2px;        margin: 5px 0;        padding: 10px 40px;        white-space: pre-wrap;    }    .error_widget.ace_error, .error_widget_arrow.ace_error{        border-color: #ff5a5a    }    .error_widget.ace_warning, .error_widget_arrow.ace_warning{        border-color: #F1D817    }    .error_widget.ace_info, .error_widget_arrow.ace_info{        border-color: #5a5a5a    }    .error_widget.ace_ok, .error_widget_arrow.ace_ok{        border-color: #5aaa5a    }    .error_widget_arrow {        position: absolute;        border: solid 5px;        border-top-color: transparent!important;        border-right-color: transparent!important;        border-left-color: transparent!important;        top: -5px;    }","error_marker.css",!1)}),ace.define("ace/ace",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/dom","ace/lib/event","ace/range","ace/editor","ace/edit_session","ace/undomanager","ace/virtual_renderer","ace/worker/worker_client","ace/keyboard/hash_handler","ace/placeholder","ace/multi_select","ace/mode/folding/fold_mode","ace/theme/textmate","ace/ext/error_marker","ace/config"],function(e,t,n){"use strict";e("./lib/fixoldbrowsers");var o=e("./lib/dom"),r=e("./lib/event"),s=e("./range").Range,a=e("./editor").Editor,l=e("./edit_session").EditSession,c=e("./undomanager").UndoManager,h=e("./virtual_renderer").VirtualRenderer;e("./worker/worker_client"),e("./keyboard/hash_handler"),e("./placeholder"),e("./multi_select"),e("./mode/folding/fold_mode"),e("./theme/textmate"),e("./ext/error_marker"),t.config=e("./config"),t.require=e,t.define=i.amdD,t.edit=function(e,i){if("string"==typeof e){var n=e;if(!(e=document.getElementById(n)))throw new Error("ace.edit can't find div #"+n)}if(e&&e.env&&e.env.editor instanceof a)return e.env.editor;var s="";if(e&&/input|textarea/i.test(e.tagName)){var l=e;s=l.value,e=o.createElement("pre"),l.parentNode.replaceChild(e,l)}else e&&(s=e.textContent,e.innerHTML="");var c=t.createEditSession(s),u=new a(new h(e),c,i),d={document:c,editor:u,onResize:u.resize.bind(u,null)};return l&&(d.textarea=l),r.addListener(window,"resize",d.onResize),u.on("destroy",function(){r.removeListener(window,"resize",d.onResize),d.editor.container.env=null}),u.container.env=u.env=d,u},t.createEditSession=function(e,t){var i=new l(e,t);return i.setUndoManager(new c),i},t.Range=s,t.Editor=a,t.EditSession=l,t.UndoManager=c,t.VirtualRenderer=h,t.version=t.config.version}),ace.require(["ace/ace"],function(t){for(var i in t&&(t.config.init(!0),t.define=ace.define),window.ace||(window.ace=t),t)t.hasOwnProperty(i)&&(window.ace[i]=t[i]);window.ace.default=window.ace,e&&(e.exports=window.ace)})},99263:function(e,t,i){"use strict";i.d(t,{Vo:function(){return s},NY:function(){return a}});var n=i(37716),o=i(6877);const r=["qrcElement"];let s=(()=>{class e{constructor(e){this.renderer=e,this.allowEmptyString=!1,this.colorDark="#000000ff",this.colorLight="#ffffffff",this.cssClass="qrcode",this.elementType="canvas",this.errorCorrectionLevel="M",this.margin=4,this.qrdata="",this.scale=4,this.width=10}ngOnChanges(){this.createQRCode()}isValidQrCodeText(e){return!1===this.allowEmptyString?!(void 0===e||""===e||"null"===e||null===e):void 0!==e}toDataURL(){return new Promise((e,t)=>{o.hz(this.qrdata,{color:{dark:this.colorDark,light:this.colorLight},errorCorrectionLevel:this.errorCorrectionLevel,margin:this.margin,scale:this.scale,version:this.version,width:this.width},(i,n)=>{i?t(i):e(n)})})}toCanvas(e){return new Promise((t,i)=>{o.rT(e,this.qrdata,{color:{dark:this.colorDark,light:this.colorLight},errorCorrectionLevel:this.errorCorrectionLevel,margin:this.margin,scale:this.scale,version:this.version,width:this.width},e=>{e?i(e):t("success")})})}toSVG(){return new Promise((e,t)=>{o.toString(this.qrdata,{color:{dark:this.colorDark,light:this.colorLight},errorCorrectionLevel:this.errorCorrectionLevel,margin:this.margin,scale:this.scale,type:"svg",version:this.version,width:this.width},(i,n)=>{i?t(i):e(n)})})}renderElement(e){for(const t of this.qrcElement.nativeElement.childNodes)this.renderer.removeChild(this.qrcElement.nativeElement,t);this.renderer.appendChild(this.qrcElement.nativeElement,e)}createQRCode(){this.version&&this.version>40?(console.warn("[angularx-qrcode] max value for `version` is 40"),this.version=40):this.version&&this.version<1?(console.warn("[angularx-qrcode]`min value for `version` is 1"),this.version=1):void 0!==this.version&&isNaN(this.version)&&(console.warn("[angularx-qrcode] version should be a number, defaulting to auto."),this.version=void 0);try{if(!this.isValidQrCodeText(this.qrdata))throw new Error('[angularx-qrcode] Field `qrdata` is empty, set `allowEmptyString="true"` to overwrite this behaviour.');let e;switch(this.isValidQrCodeText(this.qrdata)&&""===this.qrdata&&(this.qrdata=" "),this.elementType){case"canvas":e=this.renderer.createElement("canvas"),this.toCanvas(e).then(()=>{this.renderElement(e)}).catch(e=>{console.error("[angularx-qrcode] canvas error:",e)});break;case"svg":e=this.renderer.createElement("div"),this.toSVG().then(t=>{this.renderer.setProperty(e,"innerHTML",t);const i=e.firstChild;this.renderer.setAttribute(i,"height",`${this.width}`),this.renderer.setAttribute(i,"width",`${this.width}`),this.renderElement(i)}).catch(e=>{console.error("[angularx-qrcode] svg error:",e)});break;case"url":case"img":default:e=this.renderer.createElement("img"),this.toDataURL().then(t=>{e.setAttribute("src",t),this.renderElement(e)}).catch(e=>{console.error("[angularx-qrcode] img/url error:",e)})}}catch(e){console.error("[angularx-qrcode] Error generating QR Code:",e.message)}}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(n.Qsj))},e.\u0275cmp=n.Xpm({type:e,selectors:[["qrcode"]],viewQuery:function(e,t){if(1&e&&n.Gf(r,7),2&e){let e;n.iGM(e=n.CRH())&&(t.qrcElement=e.first)}},inputs:{allowEmptyString:"allowEmptyString",colorDark:"colorDark",colorLight:"colorLight",cssClass:"cssClass",elementType:"elementType",errorCorrectionLevel:"errorCorrectionLevel",margin:"margin",qrdata:"qrdata",scale:"scale",version:"version",width:"width"},features:[n.TTD],decls:2,vars:2,consts:[["qrcElement",""]],template:function(e,t){1&e&&n._UZ(0,"div",null,0),2&e&&n.Tol(t.cssClass)},encapsulation:2,changeDetection:0}),e})(),a=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({providers:[]}),e})()},78333:function(e){"use strict";var t={single_source_shortest_paths:function(e,i,n){var o={},r={};r[i]=0;var s,a,l,c,h,u,d=t.PriorityQueue.make();for(d.push(i,0);!d.empty();)for(l in c=(s=d.pop()).cost,h=e[a=s.value]||{})h.hasOwnProperty(l)&&(u=c+h[l],(void 0===r[l]||r[l]>u)&&(r[l]=u,d.push(l,u),o[l]=a));if(void 0!==n&&void 0===r[n]){var p=["Could not find a path from ",i," to ",n,"."].join("");throw new Error(p)}return o},extract_shortest_path_from_predecessor_list:function(e,t){for(var i=[],n=t;n;)i.push(n),n=e[n];return i.reverse(),i},find_path:function(e,i,n){var o=t.single_source_shortest_paths(e,i,n);return t.extract_shortest_path_from_predecessor_list(o,n)},PriorityQueue:{make:function(e){var i,n=t.PriorityQueue,o={};for(i in e=e||{},n)n.hasOwnProperty(i)&&(o[i]=n[i]);return o.queue=[],o.sorter=e.sorter||n.default_sorter,o},default_sorter:function(e,t){return e.cost-t.cost},push:function(e,t){this.queue.push({value:e,cost:t}),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}};e.exports=t},95252:function(e,t,i){var n=i(90650);!function(){for(var e in n){if(null==n||!n.hasOwnProperty(e)||"default"===e||"__esModule"===e)return;t[e]=n[e]}}();var o=i(76909);(function(){for(var e in o){if(null==o||!o.hasOwnProperty(e)||"default"===e||"__esModule"===e)return;t[e]=o[e]}})(),i(55209),i(63211),i(28628),i(61108),i(6059),i(20833),i(55368),i(14957),i(97086),i(53255),i(66777),i(52464),i(50651),i(99304),i(94195),i(70311),i(44139),i(4454),i(80419),i(6019),i(20540),i(70777),i(89642),i(99318),i(21928),i(655),i(18),i(44291),i(70343),i(28302),i(97117),i(23237),i(84040),i(30348),i(27755),i(77540),i(10826),i(36674),i(92459),i(14001),i(96922),i(83369),i(2818),i(37659),i(32284),i(66053),i(10527),i(41338),i(79100)},3387:function(e,t,i){var n=i(40628),o={};function r(){this._coordinateSystems=[]}r.prototype={constructor:r,create:function(e,t){var i=[];n.each(o,function(n,o){var r=n.create(e,t);i=i.concat(r||[])}),this._coordinateSystems=i},update:function(e,t){n.each(this._coordinateSystems,function(i){i.update&&i.update(e,t)})},getCoordinateSystems:function(){return this._coordinateSystems.slice()}},r.register=function(e,t){o[e]=t},r.get=function(e){return o[e]},e.exports=r},71276:function(e,t,i){var n=i(40628),o=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isDisposed","on","off","getDataURL","getConnectedDataURL","getModel","getOption","getViewOfComponentModel","getViewOfSeriesModel"];e.exports=function(e){n.each(o,function(t){this[t]=n.bind(e[t],e)},this)}},32587:function(e,t,i){var n=i(90650),o=i(40628);e.exports=function(e,t){o.each(t,function(t){t.update="updateView",n.registerAction(t,function(i,n){var o={};return n.eachComponent({mainType:"series",subType:e,query:i},function(e){e[t.method]&&e[t.method](i.name,i.dataIndex);var n=e.getData();n.each(function(t){var i=n.getName(t);o[i]=e.isSelected(i)||!1})}),{name:i.name,selected:o,seriesId:i.seriesId}})})}},6979:function(e,t,i){var n=i(90650),o=i(40628),r=i(93426).updateCenterAndZoom;n.registerAction({type:"geoRoam",event:"geoRoam",update:"updateTransform"},function(e,t){var i=e.componentType||"series";t.eachComponent({mainType:i,query:e},function(t){var n=t.coordinateSystem;if("geo"===n.type){var s=r(n,e,t.get("scaleLimit"));t.setCenter&&t.setCenter(s.center),t.setZoom&&t.setZoom(s.zoom),"series"===i&&o.each(t.seriesGroup,function(e){e.setCenter(s.center),e.setZoom(s.zoom)})}})})},93426:function(e,t){t.updateCenterAndZoom=function(e,t,i){var n=e.getZoom(),o=e.getCenter(),r=t.zoom,s=e.dataToPoint(o);if(null!=t.dx&&null!=t.dy&&(s[0]-=t.dx,s[1]-=t.dy,o=e.pointToData(s),e.setCenter(o)),null!=r){if(i){var a=i.min||0;r=Math.max(Math.min(n*r,i.max||1/0),a)/n}e.scale[0]*=r,e.scale[1]*=r;var l=e.position,c=(t.originY-l[1])*(r-1);l[0]-=(t.originX-l[0])*(r-1),l[1]-=c,e.updateTransform(),o=e.pointToData(s),e.setCenter(o),e.setZoom(r*n)}return{center:e.getCenter(),zoom:e.getZoom()}}},28628:function(e,t,i){var n=i(90650),o=i(40628),r=i(22154),s=r.layout,a=r.largeLayout;i(4810),i(30599),i(57039),i(24657),n.registerLayout(n.PRIORITY.VISUAL.LAYOUT,o.curry(s,"bar")),n.registerLayout(n.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,a),n.registerVisual({seriesType:"bar",reset:function(e){e.getData().setVisual("legendSymbol","roundRect")}})},30599:function(e,t,i){var n=i(75861).extend({type:"series.bar",dependencies:["grid","polar"],brushSelector:"rect",getProgressive:function(){return!!this.get("large")&&this.get("progressive")},getProgressiveThreshold:function(){var e=this.get("progressiveThreshold"),t=this.get("largeThreshold");return t>e&&(e=t),e},defaultOption:{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1}}});e.exports=n},57039:function(e,t,i){i(59963);var n=i(90650),o=i(40628),r=i(62429),s=i(87631).setLabel,a=i(96948),l=i(17727),c=i(1419),h=i(1805),u=i(90357).throttle,d=i(68563).createClipPath,p=i(3836),g=["itemStyle","barBorderWidth"],f=[0,0];o.extend(a.prototype,l);var m=n.extendChartView({type:"bar",render:function(e,t,i){this._updateDrawMode(e);var n=e.get("coordinateSystem");return("cartesian2d"===n||"polar"===n)&&(this._isLargeDraw?this._renderLarge(e,t,i):this._renderNormal(e,t,i)),this.group},incrementalPrepareRender:function(e,t,i){this._clear(),this._updateDrawMode(e)},incrementalRender:function(e,t,i,n){this._incrementalRenderLarge(e,t)},_updateDrawMode:function(e){var t=e.pipelineContext.large;(null==this._isLargeDraw||t^this._isLargeDraw)&&(this._isLargeDraw=t,this._clear())},_renderNormal:function(e,t,i){var n,o=this.group,s=e.getData(),a=this._data,l=e.coordinateSystem,c=l.getBaseAxis();"cartesian2d"===l.type?n=c.isHorizontal():"polar"===l.type&&(n="angle"===c.dim);var u=e.isAnimationEnabled()?e:null,d=e.get("clip",!0),p=function(e,t){var i=e.getArea&&e.getArea();if("cartesian2d"===e.type){var n=e.getBaseAxis();if("category"!==n.type||!n.onBand){var o=t.getLayout("bandWidth");n.isHorizontal()?(i.x-=o,i.width+=2*o):(i.y-=o,i.height+=2*o)}}return i}(l,s);o.removeClipPath();var g=e.get("roundCap",!0),f=e.get("showBackground",!0),m=e.getModel("backgroundStyle"),_=m.get("barBorderRadius")||0,v=[],T=this._backgroundEls||[],Z=function(e){var t=x[l.type](s,e),i=function(e,t,i){return new("polar"===e.type?r.Sector:r.Rect)({shape:E(t,i,e),silent:!0,z2:0})}(l,n,t);return i.useStyle(m.getBarItemStyle()),"cartesian2d"===l.type&&i.setShape("r",_),v[e]=i,i};s.diff(a).add(function(t){var i=s.getItemModel(t),r=x[l.type](s,t,i);if(f&&Z(t),s.hasValue(t)){if(d&&y[l.type](p,r))return void o.remove(a);var a=b[l.type](t,r,n,u,!1,g);s.setItemGraphicEl(t,a),o.add(a),C(a,s,t,i,r,e,n,"polar"===l.type)}}).update(function(t,i){var c=s.getItemModel(t),h=x[l.type](s,t,c);if(f){var w;0===T.length?w=Z(i):((w=T[i]).useStyle(m.getBarItemStyle()),"cartesian2d"===l.type&&w.setShape("r",_),v[t]=w);var A=x[l.type](s,t),k=E(n,A,l);r.updateProps(w,{shape:k},u,t)}var S=a.getItemGraphicEl(i);if(s.hasValue(t)){if(d&&y[l.type](p,h))return void o.remove(S);S?r.updateProps(S,{shape:h},u,t):S=b[l.type](t,h,n,u,!0,g),s.setItemGraphicEl(t,S),o.add(S),C(S,s,t,c,h,e,n,"polar"===l.type)}else o.remove(S)}).remove(function(e){var t=a.getItemGraphicEl(e);"cartesian2d"===l.type?t&&w(e,u,t):t&&A(e,u,t)}).execute();var k=this._backgroundGroup||(this._backgroundGroup=new h);k.removeAll();for(var S=0;S<v.length;++S)k.add(v[S]);o.add(k),this._backgroundEls=v,this._data=s},_renderLarge:function(e,t,i){this._clear(),k(e,this.group);var n=e.get("clip",!0)?d(e.coordinateSystem,!1,e):null;n?this.group.setClipPath(n):this.group.removeClipPath()},_incrementalRenderLarge:function(e,t){this._removeBackground(),k(t,this.group,!0)},dispose:o.noop,remove:function(e){this._clear(e)},_clear:function(e){var t=this.group,i=this._data;e&&e.get("animation")&&i&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],i.eachItemGraphicEl(function(t){"sector"===t.type?A(t.dataIndex,e,t):w(t.dataIndex,e,t)})):t.removeAll(),this._data=null},_removeBackground:function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null}}),_=Math.max,v=Math.min,y={cartesian2d:function(e,t){var i=t.width<0?-1:1,n=t.height<0?-1:1;i<0&&(t.x+=t.width,t.width=-t.width),n<0&&(t.y+=t.height,t.height=-t.height);var o=_(t.x,e.x),r=v(t.x+t.width,e.x+e.width),s=_(t.y,e.y),a=v(t.y+t.height,e.y+e.height);t.x=o,t.y=s,t.width=r-o,t.height=a-s;var l=t.width<0||t.height<0;return i<0&&(t.x+=t.width,t.width=-t.width),n<0&&(t.y+=t.height,t.height=-t.height),l},polar:function(e,t){var i=t.r0<=t.r?1:-1;if(i<0){var n=t.r;t.r=t.r0,t.r0=n}n=v(t.r,e.r);var o=_(t.r0,e.r0);t.r=n,t.r0=o;var r=n-o<0;return i<0&&(n=t.r,t.r=t.r0,t.r0=n),r}},b={cartesian2d:function(e,t,i,n,s){var a=new r.Rect({shape:o.extend({},t),z2:1});if(a.name="item",n){var l=i?"height":"width",c={};a.shape[l]=0,c[l]=t[l],r[s?"updateProps":"initProps"](a,{shape:c},n,e)}return a},polar:function(e,t,i,n,s,a){var l=new(!i&&a?p:r.Sector)({shape:o.defaults({clockwise:t.startAngle<t.endAngle},t),z2:1});if(l.name="item",n){var c=i?"r":"endAngle",h={};l.shape[c]=i?0:t.startAngle,h[c]=t[c],r[s?"updateProps":"initProps"](l,{shape:h},n,e)}return l}};function w(e,t,i){i.style.text=null,r.updateProps(i,{shape:{width:0}},t,e,function(){i.parent&&i.parent.remove(i)})}function A(e,t,i){i.style.text=null,r.updateProps(i,{shape:{r:i.shape.r0}},t,e,function(){i.parent&&i.parent.remove(i)})}var x={cartesian2d:function(e,t,i){var n=e.getItemLayout(t),o=i?function(e,t){var i=e.get(g)||0,n=isNaN(t.width)?Number.MAX_VALUE:Math.abs(t.width),o=isNaN(t.height)?Number.MAX_VALUE:Math.abs(t.height);return Math.min(i,n,o)}(i,n):0,r=n.width>0?1:-1,s=n.height>0?1:-1;return{x:n.x+r*o/2,y:n.y+s*o/2,width:n.width-r*o,height:n.height-s*o}},polar:function(e,t,i){var n=e.getItemLayout(t);return{cx:n.cx,cy:n.cy,r0:n.r0,r:n.r,startAngle:n.startAngle,endAngle:n.endAngle}}};function T(e){return null!=e.startAngle&&null!=e.endAngle&&e.startAngle===e.endAngle}function C(e,t,i,n,a,l,c,h){var u=t.getItemVisual(i,"color"),d=t.getItemVisual(i,"opacity"),p=t.getVisual("borderColor"),g=n.getModel("itemStyle"),f=n.getModel("emphasis.itemStyle").getBarItemStyle();h||e.setShape("r",g.get("barBorderRadius")||0),e.useStyle(o.defaults({stroke:T(a)?"none":p,fill:T(a)?"none":u,opacity:d},g.getBarItemStyle()));var m=n.getShallow("cursor");m&&e.attr("cursor",m),h||s(e.style,f,n,u,l,i,c?a.height>0?"bottom":"top":a.width>0?"left":"right"),T(a)&&(f.fill=f.stroke="none"),r.setHoverStyle(e,f)}var Z=c.extend({type:"largeBar",shape:{points:[]},buildPath:function(e,t){for(var i=t.points,n=this.__startPoint,o=this.__baseDimIdx,r=0;r<i.length;r+=2)n[o]=i[r+o],e.moveTo(n[0],n[1]),e.lineTo(i[r],i[r+1])}});function k(e,t,i){var n=e.getData(),o=[],r=n.getLayout("valueAxisHorizontal")?1:0;o[1-r]=n.getLayout("valueAxisStart");var s=n.getLayout("largeDataIndices"),a=n.getLayout("barWidth"),l=e.getModel("backgroundStyle");if(e.get("showBackground",!0)){var c=n.getLayout("largeBackgroundPoints"),h=[];h[1-r]=n.getLayout("backgroundStart");var u=new Z({shape:{points:c},incremental:!!i,__startPoint:h,__baseDimIdx:r,__largeDataIndices:s,__barWidth:a,silent:!0,z2:0});(function(e,t,i){var n=t.get("borderColor")||t.get("color"),o=t.getItemStyle(["color","borderColor"]);e.useStyle(o),e.style.fill=null,e.style.stroke=n,e.style.lineWidth=i.getLayout("barWidth")})(u,l,n),t.add(u)}var d=new Z({shape:{points:n.getLayout("largePoints")},incremental:!!i,__startPoint:o,__baseDimIdx:r,__largeDataIndices:s,__barWidth:a});t.add(d),function(e,t,i){var n=i.getVisual("borderColor")||i.getVisual("color"),o=t.getModel("itemStyle").getItemStyle(["color","borderColor"]);e.useStyle(o),e.style.fill=null,e.style.stroke=n,e.style.lineWidth=i.getLayout("barWidth")}(d,e,n),d.seriesIndex=e.seriesIndex,e.get("silent")||(d.on("mousedown",S),d.on("mousemove",S))}var S=u(function(e){var t=function(e,t,i){var n=e.__baseDimIdx,o=1-n,r=e.shape.points,s=e.__largeDataIndices,a=Math.abs(e.__barWidth/2),l=e.__startPoint[o];f[0]=t,f[1]=i;for(var c=f[n],h=f[1-n],u=c-a,d=c+a,p=0,g=r.length/2;p<g;p++){var m=2*p,_=r[m+n],v=r[m+o];if(_>=u&&_<=d&&(l<=v?h>=l&&h<=v:h>=v&&h<=l))return s[p]}return-1}(this,e.offsetX,e.offsetY);this.dataIndex=t>=0?t:null},30,!1);function E(e,t,i){var n,o="polar"===i.type;return n=o?i.getArea():i.grid.getRect(),o?{cx:n.cx,cy:n.cy,r0:e?n.r0:t.r0,r:e?n.r:t.r,startAngle:e?t.startAngle:0,endAngle:e?t.endAngle:2*Math.PI}:{x:e?t.x:n.x,y:e?n.y:t.y,width:e?t.width:n.width,height:e?n.height:t.height}}e.exports=m},75861:function(e,t,i){var n=i(29521),o=i(52461),r=n.extend({type:"series.__base_bar__",getInitialData:function(e,t){return o(this.getSource(),this,{useEncodeDefaulter:!0})},getMarkerPosition:function(e){var t=this.coordinateSystem;if(t){var i=t.dataToPoint(t.clampData(e)),n=this.getData(),o=n.getLayout("offset"),r=n.getLayout("size");return i[t.getBaseAxis().isHorizontal()?0:1]+=o+r/2,i}return[NaN,NaN]},defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod",itemStyle:{},emphasis:{}}});e.exports=r},80761:function(e,t,i){var n=i(75861).extend({type:"series.pictorialBar",dependencies:["grid"],defaultOption:{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,symbolRepeatDirection:"end",symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",progressive:0,hoverAnimation:!1},getInitialData:function(e){return e.stack=null,n.superApply(this,"getInitialData",arguments)}});e.exports=n},16448:function(e,t,i){var n=i(90650),o=i(40628),r=i(62429),s=i(34550).createSymbol,a=i(14785),l=a.parsePercent,c=a.isNumeric,h=i(87631).setLabel,u=["itemStyle","borderWidth"],d=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}],p=new r.Circle,g=n.extendChartView({type:"pictorialBar",render:function(e,t,i){var n=this.group,o=e.getData(),s=this._data,a=e.coordinateSystem,l=!!a.getBaseAxis().isHorizontal(),c=a.grid.getRect(),h={ecSize:{width:i.getWidth(),height:i.getHeight()},seriesModel:e,coordSys:a,coordSysExtent:[[c.x,c.x+c.width],[c.y,c.y+c.height]],isHorizontal:l,valueDim:d[+l],categoryDim:d[1-l]};return o.diff(s).add(function(e){if(o.hasValue(e)){var t=A(o,e),i=f(o,e,t,h),r=Z(o,h,i);o.setItemGraphicEl(e,r),n.add(r),O(r,h,i)}}).update(function(e,t){var i=s.getItemGraphicEl(t);if(o.hasValue(e)){var a=A(o,e),l=f(o,e,a,h),c=S(o,l);i&&c!==i.__pictorialShapeStr&&(n.remove(i),o.setItemGraphicEl(e,null),i=null),i?function(e,t,i){var n=i.animationModel,o=i.dataIndex;r.updateProps(e.__pictorialBundle,{position:i.bundlePosition.slice()},n,o),i.symbolRepeat?v(e,t,i,!0):y(e,0,i,!0),b(e,i,!0),w(e,t,i,!0)}(i,h,l):i=Z(o,h,l,!0),o.setItemGraphicEl(e,i),i.__pictorialSymbolMeta=l,n.add(i),O(i,h,l)}else n.remove(i)}).remove(function(e){var t=s.getItemGraphicEl(e);t&&k(s,e,t.__pictorialSymbolMeta.animationModel,t)}).execute(),this._data=o,this.group},dispose:o.noop,remove:function(e,t){var i=this.group,n=this._data;e.get("animation")?n&&n.eachItemGraphicEl(function(t){k(n,t.dataIndex,e,t)}):i.removeAll()}});function f(e,t,i,n){var r=e.getItemLayout(t),s=i.get("symbolRepeat"),a=i.get("symbolClip"),h=i.get("symbolPosition")||"start",d=(i.get("symbolRotate")||0)*Math.PI/180||0,g=i.get("symbolPatternSize")||2,f=i.isAnimationEnabled(),_={dataIndex:t,layout:r,itemModel:i,symbolType:e.getItemVisual(t,"symbol")||"circle",color:e.getItemVisual(t,"color"),symbolClip:a,symbolRepeat:s,symbolRepeatDirection:i.get("symbolRepeatDirection"),symbolPatternSize:g,rotation:d,animationModel:f?i:null,hoverAnimation:f&&i.get("hoverAnimation"),z2:i.getShallow("z",!0)||0};(function(e,t,i,n,r){var s,a=n.valueDim,l=e.get("symbolBoundingData"),c=n.coordSys.getOtherAxis(n.coordSys.getBaseAxis()),h=c.toGlobalCoord(c.dataToCoord(0)),u=1-+(i[a.wh]<=0);if(o.isArray(l)){var d=[m(c,l[0])-h,m(c,l[1])-h];d[1]<d[0]&&d.reverse(),s=d[u]}else s=null!=l?m(c,l)-h:t?n.coordSysExtent[a.index][u]-h:i[a.wh];r.boundingLength=s,t&&(r.repeatCutLength=i[a.wh]),r.pxSign=s>0?1:s<0?-1:0})(i,s,r,n,_),function(e,t,i,n,r,s,a,c,h,u){var d=h.valueDim,p=h.categoryDim,g=Math.abs(i[p.wh]),f=e.getItemVisual(t,"symbolSize");o.isArray(f)?f=f.slice():(null==f&&(f="100%"),f=[f,f]),f[p.index]=l(f[p.index],g),f[d.index]=l(f[d.index],n?g:Math.abs(s)),u.symbolSize=f,(u.symbolScale=[f[0]/c,f[1]/c])[d.index]*=(h.isHorizontal?-1:1)*a}(e,t,r,s,0,_.boundingLength,_.pxSign,g,n,_),function(e,t,i,n,o){var r=e.get(u)||0;r&&(p.attr({scale:t.slice(),rotation:i}),p.updateTransform(),r/=p.getLineScale(),r*=t[n.valueDim.index]),o.valueLineWidth=r}(i,_.symbolScale,d,n,_);var v=_.symbolSize,y=i.get("symbolOffset");return o.isArray(y)&&(y=[l(y[0],v[0]),l(y[1],v[1])]),function(e,t,i,n,r,s,a,h,u,d,p,g){var f=p.categoryDim,m=p.valueDim,_=g.pxSign,v=Math.max(t[m.index]+h,0),y=v;if(n){var b=Math.abs(u),w=o.retrieve(e.get("symbolMargin"),"15%")+"",A=!1;w.lastIndexOf("!")===w.length-1&&(A=!0,w=w.slice(0,w.length-1)),w=l(w,t[m.index]);var x=Math.max(v+2*w,0),T=A?0:2*w,C=c(n),Z=C?n:I((b+T)/x);x=v+2*(w=(b-Z*v)/2/(A?Z:Z-1)),T=A?0:2*w,!C&&"fixed"!==n&&(Z=d?I((Math.abs(d)+T)/x):0),y=Z*x-T,g.repeatTimes=Z,g.symbolMargin=w}var k=_*(y/2),S=g.pathPosition=[];S[f.index]=i[f.wh]/2,S[m.index]="start"===a?k:"end"===a?u-k:u/2,s&&(S[0]+=s[0],S[1]+=s[1]);var E=g.bundlePosition=[];E[f.index]=i[f.xy],E[m.index]=i[m.xy];var M=g.barRectShape=o.extend({},i);M[m.wh]=_*Math.max(Math.abs(i[m.wh]),Math.abs(S[m.index]+k)),M[f.wh]=i[f.wh];var O=g.clipShape={};O[f.xy]=-i[f.xy],O[f.wh]=p.ecSize[f.wh],O[m.xy]=0,O[m.wh]=i[m.wh]}(i,v,r,s,0,y,h,_.valueLineWidth,_.boundingLength,_.repeatCutLength,n,_),_}function m(e,t){return e.toGlobalCoord(e.dataToCoord(e.scale.parse(t)))}function _(e){var t=e.symbolPatternSize,i=s(e.symbolType,-t/2,-t/2,t,t,e.color);return i.attr({culling:!0}),"image"!==i.type&&i.setStyle({strokeNoScale:!0}),i}function v(e,t,i,n){var o=e.__pictorialBundle,r=i.pathPosition,s=t.valueDim,a=i.repeatTimes||0,l=0,c=i.symbolSize[t.valueDim.index]+i.valueLineWidth+2*i.symbolMargin;for(E(e,function(e){e.__pictorialAnimationIndex=l,e.__pictorialRepeatTimes=a,l<a?M(e,null,d(l),i,n):M(e,null,{scale:[0,0]},i,n,function(){o.remove(e)}),C(e,i),l++});l<a;l++){var h=_(i);h.__pictorialAnimationIndex=l,h.__pictorialRepeatTimes=a,o.add(h);var u=d(l);M(h,{position:u.position,scale:[0,0]},{scale:u.scale,rotation:u.rotation},i,n),h.on("mouseover",p).on("mouseout",g),C(h,i)}function d(e){var t=r.slice(),n=i.pxSign,o=e;return("start"===i.symbolRepeatDirection?n>0:n<0)&&(o=a-1-e),t[s.index]=c*(o-a/2+.5)+r[s.index],{position:t,scale:i.symbolScale.slice(),rotation:i.rotation}}function p(){E(e,function(e){e.trigger("emphasis")})}function g(){E(e,function(e){e.trigger("normal")})}}function y(e,t,i,n){var o=e.__pictorialBundle,r=e.__pictorialMainPath;r?M(r,null,{position:i.pathPosition.slice(),scale:i.symbolScale.slice(),rotation:i.rotation},i,n):(r=e.__pictorialMainPath=_(i),o.add(r),M(r,{position:i.pathPosition.slice(),scale:[0,0],rotation:i.rotation},{scale:i.symbolScale.slice()},i,n),r.on("mouseover",function(){this.trigger("emphasis")}).on("mouseout",function(){this.trigger("normal")})),C(r,i)}function b(e,t,i){var n=o.extend({},t.barRectShape),s=e.__pictorialBarRect;s?M(s,null,{shape:n},t,i):(s=e.__pictorialBarRect=new r.Rect({z2:2,shape:n,silent:!0,style:{stroke:"transparent",fill:"transparent",lineWidth:0}}),e.add(s))}function w(e,t,i,n){if(i.symbolClip){var s=e.__pictorialClipPath,a=o.extend({},i.clipShape),l=t.valueDim,c=i.animationModel,h=i.dataIndex;if(s)r.updateProps(s,{shape:a},c,h);else{a[l.wh]=0,s=new r.Rect({shape:a}),e.__pictorialBundle.setClipPath(s),e.__pictorialClipPath=s;var u={};u[l.wh]=i.clipShape[l.wh],r[n?"updateProps":"initProps"](s,{shape:u},c,h)}}}function A(e,t){var i=e.getItemModel(t);return i.getAnimationDelayParams=x,i.isAnimationEnabled=T,i}function x(e){return{index:e.__pictorialAnimationIndex,count:e.__pictorialRepeatTimes}}function T(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function C(e,t){e.off("emphasis").off("normal");var i=t.symbolScale.slice();t.hoverAnimation&&e.on("emphasis",function(){this.animateTo({scale:[1.1*i[0],1.1*i[1]]},400,"elasticOut")}).on("normal",function(){this.animateTo({scale:i.slice()},400,"elasticOut")})}function Z(e,t,i,n){var o=new r.Group,s=new r.Group;return o.add(s),o.__pictorialBundle=s,s.attr("position",i.bundlePosition.slice()),i.symbolRepeat?v(o,t,i):y(o,0,i),b(o,i,n),w(o,t,i,n),o.__pictorialShapeStr=S(e,i),o.__pictorialSymbolMeta=i,o}function k(e,t,i,n){var s=n.__pictorialBarRect;s&&(s.style.text=null);var a=[];E(n,function(e){a.push(e)}),n.__pictorialMainPath&&a.push(n.__pictorialMainPath),n.__pictorialClipPath&&(i=null),o.each(a,function(e){r.updateProps(e,{scale:[0,0]},i,t,function(){n.parent&&n.parent.remove(n)})}),e.setItemGraphicEl(t,null)}function S(e,t){return[e.getItemVisual(t.dataIndex,"symbol")||"none",!!t.symbolRepeat,!!t.symbolClip].join(":")}function E(e,t,i){o.each(e.__pictorialBundle.children(),function(n){n!==e.__pictorialBarRect&&t.call(i,n)})}function M(e,t,i,n,o,s){t&&e.attr(t),n.symbolClip&&!o?i&&e.attr(i):i&&r[o?"updateProps":"initProps"](e,i,n.animationModel,n.dataIndex,s)}function O(e,t,i){var n=i.color,s=i.dataIndex,a=i.itemModel,l=a.getModel("itemStyle").getItemStyle(["color"]),c=a.getModel("emphasis.itemStyle").getItemStyle(),u=a.getShallow("cursor");E(e,function(e){e.setColor(n),e.setStyle(o.defaults({fill:n,opacity:i.opacity},l)),r.setHoverStyle(e,c),u&&(e.cursor=u),e.z2=i.z2});var d={},p=e.__pictorialBarRect;h(p.style,d,a,n,t.seriesModel,s,t.valueDim.posDesc[+(i.boundingLength>0)]),r.setHoverStyle(p,d)}function I(e){var t=Math.round(e);return Math.abs(e-t)<1e-4?t:Math.ceil(e)}e.exports=g},17727:function(e,t,i){var n=i(25632)([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["stroke","barBorderColor"],["lineWidth","barBorderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]);e.exports={getBarItemStyle:function(e){var t=n(this,e);if(this.getBorderLineDash){var i=this.getBorderLineDash();i&&(t.lineDash=i)}return t}}},87631:function(e,t,i){var n=i(62429),o=i(17205).getDefaultLabel;function r(e,t){"outside"===e.textPosition&&(e.textPosition=t)}t.setLabel=function(e,t,i,s,a,l,c){var h=i.getModel("label"),u=i.getModel("emphasis.label");n.setLabelStyle(e,t,h,u,{labelFetcher:a,labelDataIndex:l,defaultText:o(a.getData(),l),isRectText:!0,autoColor:s}),r(e),r(t)}},94195:function(e,t,i){var n=i(90650);i(2587),i(66065);var o=i(70043),r=i(3758);n.registerVisual(o),n.registerLayout(r)},2587:function(e,t,i){var n=i(40628),o=i(29521),r=i(79847).seriesModelMixin,s=o.extend({type:"series.boxplot",dependencies:["xAxis","yAxis","grid"],defaultValueDimensions:[{name:"min",defaultTooltip:!0},{name:"Q1",defaultTooltip:!0},{name:"median",defaultTooltip:!0},{name:"Q3",defaultTooltip:!0},{name:"max",defaultTooltip:!0}],dimensions:null,defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,layout:null,boxWidth:[7,50],itemStyle:{color:"#fff",borderWidth:1},emphasis:{itemStyle:{borderWidth:2,shadowBlur:5,shadowOffsetX:2,shadowOffsetY:2,shadowColor:"rgba(0,0,0,0.4)"}},animationEasing:"elasticOut",animationDuration:800}});n.mixin(s,r,!0),e.exports=s},66065:function(e,t,i){var n=i(40628),o=i(31005),r=i(62429),s=i(1419),a=["itemStyle"],l=["emphasis","itemStyle"],c=o.extend({type:"boxplot",render:function(e,t,i){var n=e.getData(),o=this.group,r=this._data;this._data||o.removeAll();var s="horizontal"===e.get("layout")?1:0;n.diff(r).add(function(e){if(n.hasValue(e)){var t=u(n.getItemLayout(e),n,e,s,!0);n.setItemGraphicEl(e,t),o.add(t)}}).update(function(e,t){var i=r.getItemGraphicEl(t);if(n.hasValue(e)){var a=n.getItemLayout(e);i?d(a,i,n,e):i=u(a,n,e,s),o.add(i),n.setItemGraphicEl(e,i)}else o.remove(i)}).remove(function(e){var t=r.getItemGraphicEl(e);t&&o.remove(t)}).execute(),this._data=n},remove:function(e){var t=this.group,i=this._data;this._data=null,i&&i.eachItemGraphicEl(function(e){e&&t.remove(e)})},dispose:n.noop}),h=s.extend({type:"boxplotBoxPath",shape:{},buildPath:function(e,t){var i=t.points,n=0;for(e.moveTo(i[n][0],i[n][1]),n++;n<4;n++)e.lineTo(i[n][0],i[n][1]);for(e.closePath();n<i.length;n++)e.moveTo(i[n][0],i[n][1]),n++,e.lineTo(i[n][0],i[n][1])}});function u(e,t,i,n,o){var r=e.ends,s=new h({shape:{points:o?p(r,n,e):r}});return d(e,s,t,i,o),s}function d(e,t,i,n,o){(0,r[o?"initProps":"updateProps"])(t,{shape:{points:e.ends}},i.hostModel,n);var s=i.getItemModel(n),c=s.getModel(a),h=i.getItemVisual(n,"color"),u=c.getItemStyle(["borderColor"]);u.stroke=h,u.strokeNoScale=!0,t.useStyle(u),t.z2=100;var d=s.getModel(l).getItemStyle();r.setHoverStyle(t,d)}function p(e,t,i){return n.map(e,function(e){return(e=e.slice())[t]=i.initBaseline,e})}e.exports=c},3758:function(e,t,i){var n=i(40628),o=i(14785).parsePercent,r=n.each;e.exports=function(e){var t=function(e){var t=[],i=[];return e.eachSeriesByType("boxplot",function(e){var o=e.getBaseAxis(),r=n.indexOf(i,o);r<0&&(i[r=i.length]=o,t[r]={axis:o,seriesModels:[]}),t[r].seriesModels.push(e)}),t}(e);r(t,function(e){var t=e.seriesModels;!t.length||(function(e){var t,i,s=e.axis,a=e.seriesModels,l=a.length,c=e.boxWidthList=[],h=e.boxOffsetList=[],u=[];if("category"===s.type)i=s.getBandWidth();else{var d=0;r(a,function(e){d=Math.max(d,e.getData().count())}),t=s.getExtent(),Math.abs(t[1]-t[0])}r(a,function(e){var t=e.get("boxWidth");n.isArray(t)||(t=[t,t]),u.push([o(t[0],i)||0,o(t[1],i)||0])});var p=.8*i-2,g=p/l*.3,f=(p-g*(l-1))/l,m=f/2-p/2;r(a,function(e,t){h.push(m),m+=g+f,c.push(Math.min(Math.max(f,u[t][0]),u[t][1]))})}(e),r(t,function(t,i){!function(e,t,i){var n=e.coordinateSystem,o=e.getData(),r=i/2,s="horizontal"===e.get("layout")?0:1,a=1-s,l=["x","y"],c=o.mapDimension(l[s]),h=o.mapDimension(l[a],!0);if(!(null==c||h.length<5))for(var u=0;u<o.count();u++){var d=o.get(c,u),p=y(d,h[2],u),g=y(d,h[0],u),f=y(d,h[1],u),m=y(d,h[3],u),_=y(d,h[4],u),v=[];b(v,f,0),b(v,m,1),v.push(g,f,_,m),w(v,g),w(v,_),w(v,p),o.setItemLayout(u,{initBaseline:p[a],ends:v})}function y(e,i,r){var l,c=o.get(i,r),h=[];return h[s]=e,h[a]=c,isNaN(e)||isNaN(c)?l=[NaN,NaN]:(l=n.dataToPoint(h))[s]+=t,l}function b(e,t,i){var n=t.slice(),o=t.slice();n[s]+=r,o[s]-=r,i?e.push(n,o):e.push(o,n)}function w(e,t){var i=t.slice(),n=t.slice();i[s]-=r,n[s]+=r,e.push(i,n)}}(t,e.boxOffsetList[i],e.boxWidthList[i])}))})}},70043:function(e){var t=["itemStyle","borderColor"];e.exports=function(e,i){var n=e.get("color");e.eachRawSeriesByType("boxplot",function(i){var o=n[i.seriesIndex%n.length],r=i.getData();r.setVisual({legendSymbol:"roundRect",color:i.get(t)||o}),e.isSeriesFiltered(i)||r.each(function(e){var i=r.getItemModel(e);r.setItemVisual(e,{color:i.get(t,!0)})})})}},70311:function(e,t,i){var n=i(90650);i(90776),i(71738);var o=i(59890),r=i(73370),s=i(2526);n.registerPreprocessor(o),n.registerVisual(r),n.registerLayout(s)},90776:function(e,t,i){var n=i(40628),o=i(29521),r=i(79847).seriesModelMixin,s=o.extend({type:"series.candlestick",dependencies:["xAxis","yAxis","grid"],defaultValueDimensions:[{name:"open",defaultTooltip:!0},{name:"close",defaultTooltip:!0},{name:"lowest",defaultTooltip:!0},{name:"highest",defaultTooltip:!0}],dimensions:null,defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,layout:null,clip:!0,itemStyle:{color:"#c23531",color0:"#314656",borderWidth:1,borderColor:"#c23531",borderColor0:"#314656"},emphasis:{itemStyle:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,large:!0,largeThreshold:600,progressive:3e3,progressiveThreshold:1e4,progressiveChunkMode:"mod",animationUpdate:!1,animationEasing:"linear",animationDuration:300},getShadowDim:function(){return"open"},brushSelector:function(e,t,i){var n=t.getItemLayout(e);return n&&i.rect(n.brushRect)}});n.mixin(s,r,!0),e.exports=s},71738:function(e,t,i){var n=i(40628),o=i(31005),r=i(62429),s=i(1419),a=i(68563).createClipPath,l=["itemStyle"],c=["emphasis","itemStyle"],h=["color","color0","borderColor","borderColor0"],u=o.extend({type:"candlestick",render:function(e,t,i){this.group.removeClipPath(),this._updateDrawMode(e),this._isLargeDraw?this._renderLarge(e):this._renderNormal(e)},incrementalPrepareRender:function(e,t,i){this._clear(),this._updateDrawMode(e)},incrementalRender:function(e,t,i,n){this._isLargeDraw?this._incrementalRenderLarge(e,t):this._incrementalRenderNormal(e,t)},_updateDrawMode:function(e){var t=e.pipelineContext.large;(null==this._isLargeDraw||t^this._isLargeDraw)&&(this._isLargeDraw=t,this._clear())},_renderNormal:function(e){var t=e.getData(),i=this._data,n=this.group,o=t.getLayout("isSimpleBox"),s=e.get("clip",!0),a=e.coordinateSystem,l=a.getArea&&a.getArea();this._data||n.removeAll(),t.diff(i).add(function(i){if(t.hasValue(i)){var a,c=t.getItemLayout(i);if(s&&g(l,c))return;a=p(c,0,!0),r.initProps(a,{shape:{points:c.ends}},e,i),f(a,t,i,o),n.add(a),t.setItemGraphicEl(i,a)}}).update(function(a,c){var h=i.getItemGraphicEl(c);if(t.hasValue(a)){var u=t.getItemLayout(a);s&&g(l,u)?n.remove(h):(h?r.updateProps(h,{shape:{points:u.ends}},e,a):h=p(u),f(h,t,a,o),n.add(h),t.setItemGraphicEl(a,h))}else n.remove(h)}).remove(function(e){var t=i.getItemGraphicEl(e);t&&n.remove(t)}).execute(),this._data=t},_renderLarge:function(e){this._clear(),v(e,this.group);var t=e.get("clip",!0)?a(e.coordinateSystem,!1,e):null;t?this.group.setClipPath(t):this.group.removeClipPath()},_incrementalRenderNormal:function(e,t){for(var i,n=t.getData(),o=n.getLayout("isSimpleBox");null!=(i=e.next());){var r;f(r=p(n.getItemLayout(i)),n,i,o),r.incremental=!0,this.group.add(r)}},_incrementalRenderLarge:function(e,t){v(t,this.group,!0)},remove:function(e){this._clear()},_clear:function(){this.group.removeAll(),this._data=null},dispose:n.noop}),d=s.extend({type:"normalCandlestickBox",shape:{},buildPath:function(e,t){var i=t.points;this.__simpleBox?(e.moveTo(i[4][0],i[4][1]),e.lineTo(i[6][0],i[6][1])):(e.moveTo(i[0][0],i[0][1]),e.lineTo(i[1][0],i[1][1]),e.lineTo(i[2][0],i[2][1]),e.lineTo(i[3][0],i[3][1]),e.closePath(),e.moveTo(i[4][0],i[4][1]),e.lineTo(i[5][0],i[5][1]),e.moveTo(i[6][0],i[6][1]),e.lineTo(i[7][0],i[7][1]))}});function p(e,t,i){var n=e.ends;return new d({shape:{points:i?m(n,e):n},z2:100})}function g(e,t){for(var i=!0,n=0;n<t.ends.length;n++)if(e.contain(t.ends[n][0],t.ends[n][1])){i=!1;break}return i}function f(e,t,i,n){var o=t.getItemModel(i),s=o.getModel(l),a=t.getItemVisual(i,"color"),u=t.getItemVisual(i,"borderColor")||a,d=s.getItemStyle(h);e.useStyle(d),e.style.strokeNoScale=!0,e.style.fill=a,e.style.stroke=u,e.__simpleBox=n;var p=o.getModel(c).getItemStyle();r.setHoverStyle(e,p)}function m(e,t){return n.map(e,function(e){return(e=e.slice())[1]=t.initBaseline,e})}var _=s.extend({type:"largeCandlestickBox",shape:{},buildPath:function(e,t){for(var i=t.points,n=0;n<i.length;)if(this.__sign===i[n++]){var o=i[n++];e.moveTo(o,i[n++]),e.lineTo(o,i[n++])}else n+=3}});function v(e,t,i){var n=e.getData(),o=n.getLayout("largePoints"),r=new _({shape:{points:o},__sign:1});t.add(r);var s=new _({shape:{points:o},__sign:-1});t.add(s),y(1,r,e,n),y(-1,s,e,n),i&&(r.incremental=!0,s.incremental=!0)}function y(e,t,i,n){var o=e>0?"P":"N",r=n.getVisual("borderColor"+o)||n.getVisual("color"+o),s=i.getModel(l).getItemStyle(h);t.useStyle(s),t.style.fill=null,t.style.stroke=r}e.exports=u},2526:function(e,t,i){var n=i(62429).subPixelOptimize,o=i(15103),r=i(14785).parsePercent,s=i(40628).retrieve2,a="undefined"!=typeof Float32Array?Float32Array:Array,l={seriesType:"candlestick",plan:o(),reset:function(e){var t=e.coordinateSystem,i=e.getData(),o=function(e,t){var i,n=e.getBaseAxis(),o="category"===n.type?n.getBandWidth():(i=n.getExtent(),Math.abs(i[1]-i[0])/t.count()),a=r(s(e.get("barMaxWidth"),o),o),l=r(s(e.get("barMinWidth"),1),o),c=e.get("barWidth");return null!=c?r(c,o):Math.max(Math.min(o/2,a),l)}(e,i),l=["x","y"],h=i.mapDimension(l[0]),u=i.mapDimension(l[1],!0),d=u[0],p=u[1],g=u[2],f=u[3];if(i.setLayout({candleWidth:o,isSimpleBox:o<=1.3}),!(null==h||u.length<4))return{progress:e.pipelineContext.large?function(e,i){for(var n,o,r=new a(4*e.count),s=0,l=[],u=[];null!=(o=e.next());){var m=i.get(h,o),_=i.get(d,o),v=i.get(p,o),y=i.get(g,o),b=i.get(f,o);isNaN(m)||isNaN(y)||isNaN(b)?(r[s++]=NaN,s+=3):(r[s++]=c(i,o,_,v,p),l[0]=m,l[1]=y,n=t.dataToPoint(l,null,u),r[s++]=n?n[0]:NaN,r[s++]=n?n[1]:NaN,l[1]=b,n=t.dataToPoint(l,null,u),r[s++]=n?n[1]:NaN)}i.setLayout("largePoints",r)}:function(e,i){for(var r;null!=(r=e.next());){var s=i.get(h,r),a=i.get(d,r),l=i.get(p,r),u=i.get(g,r),m=i.get(f,r),_=Math.min(a,l),v=Math.max(a,l),y=E(_,s),b=E(v,s),w=E(u,s),A=E(m,s),x=[];M(x,b,0),M(x,y,1),x.push(O(A),O(b),O(w),O(y)),i.setItemLayout(r,{sign:c(i,r,a,l,p),initBaseline:a>l?b[1]:y[1],ends:x,brushRect:(T=u,C=m,Z=s,k=void 0,S=void 0,k=E(T,Z),S=E(C,Z),k[0]-=o/2,S[0]-=o/2,{x:k[0],y:k[1],width:o,height:S[1]-k[1]})})}var T,C,Z,k,S;function E(e,i){var n=[];return n[0]=i,n[1]=e,isNaN(i)||isNaN(e)?[NaN,NaN]:t.dataToPoint(n)}function M(e,t,i){var r=t.slice(),s=t.slice();r[0]=n(r[0]+o/2,1,!1),s[0]=n(s[0]-o/2,1,!0),i?e.push(r,s):e.push(s,r)}function O(e){return e[0]=n(e[0],1),e}}}}};function c(e,t,i,n,o){return i>n?-1:i<n?1:t>0?e.get(o,t-1)<=n?1:-1:1}e.exports=l},73370:function(e,t,i){var n=i(15103),o=["itemStyle","borderColor"],r=["itemStyle","borderColor0"],s=["itemStyle","color"],a=["itemStyle","color0"],l={seriesType:"candlestick",plan:n(),performRawSeries:!0,reset:function(e,t){if(e.getData().setVisual({legendSymbol:"roundRect",colorP:i(1,e),colorN:i(-1,e),borderColorP:n(1,e),borderColorN:n(-1,e)}),!t.isSeriesFiltered(e))return!e.pipelineContext.large&&{progress:function(e,t){for(var o;null!=(o=e.next());){var r=t.getItemModel(o),s=t.getItemLayout(o).sign;t.setItemVisual(o,{color:i(s,r),borderColor:n(s,r)})}}};function i(e,t){return t.get(e>0?s:a)}function n(e,t){return t.get(e>0?o:r)}}};e.exports=l},59890:function(e,t,i){var n=i(40628);e.exports=function(e){!e||!n.isArray(e.series)||n.each(e.series,function(e){n.isObject(e)&&"k"===e.type&&(e.type="candlestick")})}},89642:function(e,t,i){i(59963);var n=i(40628),o=i(62429),r=i(17205).getDefaultLabel,s=i(52461),a=i(22154).getLayoutOnAxis,l=i(12650),c=i(29521),h=i(96948),u=i(31005),d=i(68563).createClipPath,p=i(88637),g=i(21202),f=i(39093),m=i(74967),_=i(27119),v=o.CACHED_LABEL_STYLE_PROPERTIES,y=["itemStyle"],b=["emphasis","itemStyle"],w=["label"],A=["emphasis","label"],x={cartesian2d:p,geo:g,singleAxis:f,polar:m,calendar:_};function T(e,t,i,n,o){null!=i[e]&&!o&&(t[e]=i[e],i[e]=n[e])}function C(e,t,i,s){var l=e.get("renderItem"),c=e.coordinateSystem,h={};c&&(h=c.prepareCustoms?c.prepareCustoms():x[c.type](c));var u,d,p,g,f,m=n.defaults({getWidth:s.getWidth,getHeight:s.getHeight,getZr:s.getZr,getDevicePixelRatio:s.getDevicePixelRatio,value:function(e,i){return null==i&&(i=u),t.get(t.getDimension(e||0),i)},style:function(i,s){null==s&&(s=u),T(s);var a=d.getModel(y).getItemStyle();null!=f&&(a.fill=f);var l=t.getItemVisual(s,"opacity");null!=l&&(a.opacity=l);var c=i?O(i,p):p;return o.setTextStyle(a,c,null,{autoColor:f,isRectText:!0}),a.text=c.getShallow("show")?n.retrieve2(e.getFormattedLabel(s,"normal"),r(t,s)):null,i&&I(a,i),a},styleEmphasis:function(i,s){null==s&&(s=u),T(s);var a=d.getModel(b).getItemStyle(),l=i?O(i,g):g;return o.setTextStyle(a,l,null,{isRectText:!0},!0),a.text=l.getShallow("show")?n.retrieve3(e.getFormattedLabel(s,"emphasis"),e.getFormattedLabel(s,"normal"),r(t,s)):null,i&&I(a,i),a},visual:function(e,i){return null==i&&(i=u),t.getItemVisual(i,e)},barLayout:function(e){if(c.getBaseAxis){var t=c.getBaseAxis();return a(n.defaults({axis:t},e),s)}},currentSeriesIndices:function(){return i.getCurrentSeriesIndices()},font:function(e){return o.getFont(e,i)}},h.api||{}),_={context:{},seriesId:e.id,seriesName:e.name,seriesIndex:e.seriesIndex,coordSys:h.coordSys,dataInsideLength:t.count(),encode:Z(e.getData())},v=!0;return function(e,i){return u=e,v=!0,l&&l(n.defaults({dataIndexInside:e,dataIndex:t.getRawIndex(e),actionType:i?i.type:null},_),m)};function T(e){null==e&&(e=u),v&&(d=t.getItemModel(e),p=d.getModel(w),g=d.getModel(A),f=t.getItemVisual(e,"color"),v=!1)}}function Z(e){var t={};return n.each(e.dimensions,function(i,n){var o=e.getDimensionInfo(i);if(!o.isExtraCoord){var r=o.coordDim;(t[r]=t[r]||[])[o.coordDimIndex]=n}}),t}function k(e,t,i,n,o,r){return(e=S(e,t,i,n,o,r,!0))&&r.setItemGraphicEl(t,e),e}function S(e,t,i,r,s,a,c){var h=!i,u=(i=i||{}).type,d=i.shape,p=i.style;if(e&&(h||null!=u&&u!==e.__customGraphicType||"path"===u&&function(e){return e&&(e.hasOwnProperty("pathData")||e.hasOwnProperty("d"))}(d)&&R(d)!==e.__customPathData||"image"===u&&q(p,"image")&&p.image!==e.__customImagePath||"text"===u&&q(d,"text")&&p.text!==e.__customText)&&(s.remove(e),e=null),!h){var g=!e;return!e&&(e=function(e){var t,i=e.type;if("path"===i){var n=e.shape,r=null!=n.width&&null!=n.height?{x:n.x||0,y:n.y||0,width:n.width,height:n.height}:null,s=R(n);(t=o.makePath(s,null,r,n.layout||"center")).__customPathData=s}else if("image"===i)(t=new o.Image({})).__customImagePath=e.style.image;else if("text"===i)(t=new o.Text({})).__customText=e.style.text;else if("group"===i)t=new o.Group;else{if("compoundPath"===i)throw new Error('"compoundPath" is not supported yet.');t=new(o.getShapeClass(i))}return t.__customGraphicType=i,t.name=e.name,t}(i)),function(e,t,i,r,s,a,l){var c={},h=i.style||{};if(i.shape&&(c.shape=n.clone(i.shape)),i.position&&(c.position=i.position.slice()),i.scale&&(c.scale=i.scale.slice()),i.origin&&(c.origin=i.origin.slice()),i.rotation&&(c.rotation=i.rotation),"image"===e.type&&i.style){var u=c.style={};n.each(["x","y","width","height"],function(t){T(t,u,h,e.style,a)})}if("text"===e.type&&i.style&&(u=c.style={},n.each(["x","y"],function(t){T(t,u,h,e.style,a)}),!h.hasOwnProperty("textFill")&&h.fill&&(h.textFill=h.fill),!h.hasOwnProperty("textStroke")&&h.stroke&&(h.textStroke=h.stroke)),"group"!==e.type&&(e.useStyle(h),a)){e.style.opacity=0;var d=h.opacity;null==d&&(d=1),o.initProps(e,{style:{opacity:d}},r,t)}a?e.attr(c):o.updateProps(e,c,r,t),i.hasOwnProperty("z2")&&e.attr("z2",i.z2||0),i.hasOwnProperty("silent")&&e.attr("silent",i.silent),i.hasOwnProperty("invisible")&&e.attr("invisible",i.invisible),i.hasOwnProperty("ignore")&&e.attr("ignore",i.ignore),i.hasOwnProperty("info")&&e.attr("info",i.info);var p=i.styleEmphasis;o.setElementHoverStyle(e,p),l&&o.setAsHighDownDispatcher(e,!1!==p)}(e,t,i,r,0,g,c),"group"===u&&function(e,t,i,n,o){var r=i.children,s=r?r.length:0,a=i.$mergeChildren,c="byName"===a||i.diffChildrenByName,h=!1===a;if(s||c||h){if(c)return void function(e){new l(e.oldChildren,e.newChildren,E,E,e).add(M).update(M).remove(P).execute()}({oldChildren:e.children()||[],newChildren:r||[],dataIndex:t,animatableModel:n,group:e,data:o});h&&e.removeAll();for(var u=0;u<s;u++)r[u]&&S(e.childAt(u),t,r[u],n,e,o)}}(e,t,i,r,a),s.add(e),e}}function E(e,t){var i=e&&e.name;return null!=i?i:"e\0\0"+t}function M(e,t){var i=this.context;S(null!=t?i.oldChildren[t]:null,i.dataIndex,null!=e?i.newChildren[e]:null,i.animatableModel,i.group,i.data)}function O(e,t){var i=new h({},t);return n.each(v,function(t,n){e.hasOwnProperty(t)&&(i.option[n]=e[t])}),i}function I(e,t){for(var i in t)(t.hasOwnProperty(i)||!v.hasOwnProperty(i))&&(e[i]=t[i])}function P(e){var t=this.context,i=t.oldChildren[e];i&&t.group.remove(i)}function R(e){return e&&(e.pathData||e.d)}function q(e,t){return e&&e.hasOwnProperty(t)}c.extend({type:"series.custom",dependencies:["grid","polar","geo","singleAxis","calendar"],defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,useTransform:!0,clip:!1},getInitialData:function(e,t){return s(this.getSource(),this)},getDataParams:function(e,t,i){var n=c.prototype.getDataParams.apply(this,arguments);return i&&(n.info=i.info),n}}),u.extend({type:"custom",_data:null,render:function(e,t,i,n){var o=this._data,r=e.getData(),s=this.group,a=C(e,r,t,i);r.diff(o).add(function(t){k(null,t,a(t,n),e,s,r)}).update(function(t,i){k(o.getItemGraphicEl(i),t,a(t,n),e,s,r)}).remove(function(e){var t=o.getItemGraphicEl(e);t&&s.remove(t)}).execute();var l=e.get("clip",!0)?d(e.coordinateSystem,!1,e):null;l?s.setClipPath(l):s.removeClipPath(),this._data=r},incrementalPrepareRender:function(e,t,i){this.group.removeAll(),this._data=null},incrementalRender:function(e,t,i,n,o){var r=t.getData(),s=C(t,r,i,n);function a(e){e.isGroup||(e.incremental=!0,e.useHoverLayer=!0)}for(var l=e.start;l<e.end;l++)k(null,l,s(l,o),t,this.group,r).traverse(a)},dispose:n.noop,filterForExposedEvent:function(e,t,i,n){var o=t.element;if(null==o||i.name===o)return!0;for(;(i=i.parent)&&i!==this.group;)if(i.name===o)return!0;return!1}})},44139:function(e,t,i){var n=i(90650);i(61221),i(26121);var o=i(6660),r=i(12588);n.registerVisual(o("effectScatter","circle")),n.registerLayout(r("effectScatter"))},61221:function(e,t,i){var n=i(52461),o=i(29521).extend({type:"series.effectScatter",dependencies:["grid","polar"],getInitialData:function(e,t){return n(this.getSource(),this,{useEncodeDefaulter:!0})},brushSelector:"point",defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,effectType:"ripple",progressive:0,showEffectOn:"render",rippleEffect:{period:4,scale:2.5,brushType:"fill"},symbolSize:10}});e.exports=o},26121:function(e,t,i){var n=i(90650),o=i(16327),r=i(69553),s=i(3481),a=i(12588),l=n.extendChartView({type:"effectScatter",init:function(){this._symbolDraw=new o(r)},render:function(e,t,i){var n=e.getData(),o=this._symbolDraw;o.updateData(n),this.group.add(o.group)},updateTransform:function(e,t,i){var n=e.getData();this.group.dirty();var o=a().reset(e);o.progress&&o.progress({start:0,end:n.count()},n),this._symbolDraw.updateLayout(n)},_updateGroupTransform:function(e){var t=e.coordinateSystem;t&&t.getRoamTransform&&(this.group.transform=s.clone(t.getRoamTransform()),this.group.decomposeTransform())},remove:function(e,t){this._symbolDraw&&this._symbolDraw.remove(t)},dispose:function(){}});e.exports=l},52464:function(e,t,i){var n=i(90650);i(8037),i(78778);var o=i(57338),r=i(28307),s=i(12765);n.registerVisual(o("funnel")),n.registerLayout(r),n.registerProcessor(s("funnel"))},8037:function(e,t,i){var n=i(90650),o=i(40628),r=i(24967),s=i(91266).defaultEmphasis,a=i(26153).makeSeriesEncodeForNameBased,l=i(95695),c=n.extendSeriesModel({type:"series.funnel",init:function(e){c.superApply(this,"init",arguments),this.legendVisualProvider=new l(o.bind(this.getData,this),o.bind(this.getRawData,this)),this._defaultLabelLine(e)},getInitialData:function(e,t){return r(this,{coordDimensions:["value"],encodeDefaulter:o.curry(a,this)})},_defaultLabelLine:function(e){s(e,"labelLine",["show"]);var t=e.labelLine,i=e.emphasis.labelLine;t.show=t.show&&e.label.show,i.show=i.show&&e.emphasis.label.show},getDataParams:function(e){var t=this.getData(),i=c.superCall(this,"getDataParams",e),n=t.mapDimension("value"),o=t.getSum(n);return i.percent=o?+(t.get(n,e)/o*100).toFixed(2):0,i.$vars.push("percent"),i},defaultOption:{zlevel:0,z:2,legendHoverLink:!0,left:80,top:60,right:80,bottom:60,minSize:"0%",maxSize:"100%",sort:"descending",orient:"vertical",gap:0,funnelAlign:"center",label:{show:!0,position:"outer"},labelLine:{show:!0,length:20,lineStyle:{width:1,type:"solid"}},itemStyle:{borderColor:"#fff",borderWidth:1},emphasis:{label:{show:!0}}}});e.exports=c},78778:function(e,t,i){var n=i(62429),o=i(40628),r=i(31005);function s(e,t){n.Group.call(this);var i=new n.Polygon,o=new n.Polyline,r=new n.Text;this.add(i),this.add(o),this.add(r),this.highDownOnUpdate=function(e,t){"emphasis"===t?(o.ignore=o.hoverIgnore,r.ignore=r.hoverIgnore):(o.ignore=o.normalIgnore,r.ignore=r.normalIgnore)},this.updateData(e,t,!0)}var a=s.prototype,l=["itemStyle","opacity"];a.updateData=function(e,t,i){var r=this.childAt(0),s=e.hostModel,a=e.getItemModel(t),c=e.getItemLayout(t),h=e.getItemModel(t).get(l);h=null==h?1:h,r.useStyle({}),i?(r.setShape({points:c.points}),r.setStyle({opacity:0}),n.initProps(r,{style:{opacity:h}},s,t)):n.updateProps(r,{style:{opacity:h},shape:{points:c.points}},s,t);var u=a.getModel("itemStyle"),d=e.getItemVisual(t,"color");r.setStyle(o.defaults({lineJoin:"round",fill:d},u.getItemStyle(["opacity"]))),r.hoverStyle=u.getModel("emphasis").getItemStyle(),this._updateLabel(e,t),n.setHoverStyle(this)},a._updateLabel=function(e,t){var i=this.childAt(1),o=this.childAt(2),r=e.hostModel,s=e.getItemModel(t),a=e.getItemLayout(t).label,l=e.getItemVisual(t,"color");n.updateProps(i,{shape:{points:a.linePoints||a.linePoints}},r,t),n.updateProps(o,{style:{x:a.x,y:a.y}},r,t),o.attr({rotation:a.rotation,origin:[a.x,a.y],z2:10});var c=s.getModel("label"),h=s.getModel("emphasis.label"),u=s.getModel("labelLine"),d=s.getModel("emphasis.labelLine");l=e.getItemVisual(t,"color"),n.setLabelStyle(o.style,o.hoverStyle={},c,h,{labelFetcher:e.hostModel,labelDataIndex:t,defaultText:e.getName(t),autoColor:l,useInsideStyle:!!a.inside},{textAlign:a.textAlign,textVerticalAlign:a.verticalAlign}),o.ignore=o.normalIgnore=!c.get("show"),o.hoverIgnore=!h.get("show"),i.ignore=i.normalIgnore=!u.get("show"),i.hoverIgnore=!d.get("show"),i.setStyle({stroke:l}),i.setStyle(u.getModel("lineStyle").getLineStyle()),i.hoverStyle=d.getModel("lineStyle").getLineStyle()},o.inherits(s,n.Group);var c=r.extend({type:"funnel",render:function(e,t,i){var n=e.getData(),o=this._data,r=this.group;n.diff(o).add(function(e){var t=new s(n,e);n.setItemGraphicEl(e,t),r.add(t)}).update(function(e,t){var i=o.getItemGraphicEl(t);i.updateData(n,e),r.add(i),n.setItemGraphicEl(e,i)}).remove(function(e){var t=o.getItemGraphicEl(e);r.remove(t)}).execute(),this._data=n},remove:function(){this.group.removeAll(),this._data=null},dispose:function(){}});e.exports=c},28307:function(e,t,i){i(59963);var n=i(40634),o=i(14785),r=o.parsePercent,s=o.linearMap;e.exports=function(e,t,i){e.eachSeriesByType("funnel",function(e){var i=e.getData(),o=i.mapDimension("value"),a=e.get("sort"),l=function(e,t){return n.getLayoutRect(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}(e,t),c=function(e,t){for(var i=e.mapDimension("value"),n=e.mapArray(i,function(e){return e}),o=[],r="ascending"===t,s=0,a=e.count();s<a;s++)o[s]=s;return"function"==typeof t?o.sort(t):"none"!==t&&o.sort(function(e,t){return r?n[e]-n[t]:n[t]-n[e]}),o}(i,a),h=e.get("orient"),u=l.width,d=l.height,p=l.x,g=l.y,f="horizontal"===h?[r(e.get("minSize"),d),r(e.get("maxSize"),d)]:[r(e.get("minSize"),u),r(e.get("maxSize"),u)],m=i.getDataExtent(o),_=e.get("min"),v=e.get("max");null==_&&(_=Math.min(m[0],0)),null==v&&(v=m[1]);var y=e.get("funnelAlign"),b=e.get("gap"),w=(("horizontal"===h?u:d)-b*(i.count()-1))/i.count(),A=function(e,t){if("horizontal"===h){var n,r=i.get(o,e)||0,a=s(r,[_,v],f,!0);switch(y){case"top":n=g;break;case"center":n=g+(d-a)/2;break;case"bottom":n=g+(d-a)}return[[t,n],[t,n+a]]}r=i.get(o,e)||0;var l,c=s(r,[_,v],f,!0);switch(y){case"left":l=p;break;case"center":l=p+(u-c)/2;break;case"right":l=p+u-c}return[[l,t],[l+c,t]]};"ascending"===a&&(w=-w,b=-b,"horizontal"===h?p+=u:g+=d,c=c.reverse());for(var x=0;x<c.length;x++){var T=c[x],C=c[x+1],Z=i.getItemModel(T);if("horizontal"===h){var k=Z.get("itemStyle.width");null==k?k=w:(k=r(k,u),"ascending"===a&&(k=-k));var S=A(T,p),E=A(C,p+k);p+=k+b,i.setItemLayout(T,{points:S.concat(E.slice().reverse())})}else{var M=Z.get("itemStyle.height");null==M?M=w:(M=r(M,d),"ascending"===a&&(M=-M)),S=A(T,"horizontal"===h?p:g),E=A(C,"horizontal"===h?p+k:g+M),g+=M+b,i.setItemLayout(T,{points:S.concat(E.slice().reverse())})}}!function(e){e.each(function(t){var i,n,o,r,s=e.getItemModel(t),a=s.getModel("label").get("position"),l=s.get("orient"),c=s.getModel("labelLine"),h=e.getItemLayout(t),u=h.points,d="inner"===a||"inside"===a||"center"===a||"insideLeft"===a||"insideRight"===a;if(d)"insideLeft"===a?(n=(u[0][0]+u[3][0])/2+5,o=(u[0][1]+u[3][1])/2,i="left"):"insideRight"===a?(n=(u[1][0]+u[2][0])/2-5,o=(u[1][1]+u[2][1])/2,i="right"):(n=(u[0][0]+u[1][0]+u[2][0]+u[3][0])/4,o=(u[0][1]+u[1][1]+u[2][1]+u[3][1])/4,i="center"),r=[[n,o],[n,o]];else{var p,g,f,m,_=c.get("length");"left"===a?(g=(u[3][1]+u[0][1])/2,n=(f=(p=(u[3][0]+u[0][0])/2)-_)-5,i="right"):"right"===a?(g=(u[1][1]+u[2][1])/2,n=(f=(p=(u[1][0]+u[2][0])/2)+_)+5,i="left"):"top"===a?(p=(u[3][0]+u[0][0])/2,o=(m=(g=(u[3][1]+u[0][1])/2)-_)-5,i="center"):"bottom"===a?(p=(u[1][0]+u[2][0])/2,o=(m=(g=(u[1][1]+u[2][1])/2)+_)+5,i="center"):"rightTop"===a?(p="horizontal"===l?u[3][0]:u[1][0],g="horizontal"===l?u[3][1]:u[1][1],"horizontal"===l?(o=(m=g-_)-5,i="center"):(n=(f=p+_)+5,i="top")):"rightBottom"===a?(p=u[2][0],g=u[2][1],"horizontal"===l?(o=(m=g+_)+5,i="center"):(n=(f=p+_)+5,i="bottom")):"leftTop"===a?(p=u[0][0],g="horizontal"===l?u[0][1]:u[1][1],"horizontal"===l?(o=(m=g-_)-5,i="center"):(n=(f=p-_)-5,i="right")):"leftBottom"===a?(p="horizontal"===l?u[1][0]:u[3][0],g="horizontal"===l?u[1][1]:u[2][1],"horizontal"===l?(o=(m=g+_)+5,i="center"):(n=(f=p-_)-5,i="right")):(p=(u[1][0]+u[2][0])/2,g=(u[1][1]+u[2][1])/2,"horizontal"===l?(o=(m=g+_)+5,i="center"):(n=(f=p+_)+5,i="left")),"horizontal"===l?n=f=p:o=m=g,r=[[p,g],[f,m]]}h.label={linePoints:r,x:n,y:o,verticalAlign:"middle",textAlign:i,inside:d}})}(i)})}},66777:function(e,t,i){i(43737),i(41975)},43737:function(e,t,i){var n=i(24967),o=i(29521).extend({type:"series.gauge",getInitialData:function(e,t){return n(this,["value"])},defaultOption:{zlevel:0,z:2,center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,lineStyle:{color:[[.2,"#91c7ae"],[.8,"#63869e"],[1,"#c23531"]],width:30}},splitLine:{show:!0,length:30,lineStyle:{color:"#eee",width:2,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:8,lineStyle:{color:"#eee",width:1,type:"solid"}},axisLabel:{show:!0,distance:5,color:"auto"},pointer:{show:!0,length:"80%",width:8},itemStyle:{color:"auto"},title:{show:!0,offsetCenter:[0,"-40%"],color:"#333",fontSize:15},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:"auto",fontSize:30}}});e.exports=o},41975:function(e,t,i){var n=i(49694),o=i(62429),r=i(31005),s=i(14785),a=s.parsePercent,l=s.round,c=s.linearMap;function h(e,t){return t&&("string"==typeof t?e=t.replace("{value}",null!=e?e:""):"function"==typeof t&&(e=t(e))),e}var u=2*Math.PI,d=r.extend({type:"gauge",render:function(e,t,i){this.group.removeAll();var n=e.get("axisLine.lineStyle.color"),o=function(e,t){var i=e.get("center"),n=t.getWidth(),o=t.getHeight(),r=Math.min(n,o);return{cx:a(i[0],t.getWidth()),cy:a(i[1],t.getHeight()),r:a(e.get("radius"),r/2)}}(e,i);this._renderMain(e,t,i,n,o)},dispose:function(){},_renderMain:function(e,t,i,n,r){for(var s=this.group,a=e.getModel("axisLine"),l=a.getModel("lineStyle"),c=e.get("clockwise"),h=-e.get("startAngle")/180*Math.PI,d=((_=-e.get("endAngle")/180*Math.PI)-h)%u,p=h,g=l.get("width"),f=a.get("show"),m=0;f&&m<n.length;m++){var _,v=Math.min(Math.max(n[m][0],0),1),y=new o.Sector({shape:{startAngle:p,endAngle:_=h+d*v,cx:r.cx,cy:r.cy,clockwise:c,r0:r.r-g,r:r.r},silent:!0});y.setStyle({fill:n[m][1]}),y.setStyle(l.getLineStyle(["color","borderWidth","borderColor"])),s.add(y),p=_}var b=function(e){if(e<=0)return n[0][1];for(var t=0;t<n.length;t++)if(n[t][0]>=e&&(0===t?0:n[t-1][0])<e)return n[t][1];return n[t-1][1]};if(!c){var w=h;h=_,_=w}this._renderTicks(e,t,i,b,r,h,_,c),this._renderPointer(e,t,i,b,r,h,_,c),this._renderTitle(e,t,i,b,r),this._renderDetail(e,t,i,b,r)},_renderTicks:function(e,t,i,n,r,s,c,u){for(var d=this.group,p=r.cx,g=r.cy,f=r.r,m=+e.get("min"),_=+e.get("max"),v=e.getModel("splitLine"),y=e.getModel("axisTick"),b=e.getModel("axisLabel"),w=e.get("splitNumber"),A=y.get("splitNumber"),x=a(v.get("length"),f),T=a(y.get("length"),f),C=s,Z=(c-s)/w,k=Z/A,S=v.getModel("lineStyle").getLineStyle(),E=y.getModel("lineStyle").getLineStyle(),M=0;M<=w;M++){var O=Math.cos(C),I=Math.sin(C);if(v.get("show")){var P=new o.Line({shape:{x1:O*f+p,y1:I*f+g,x2:O*(f-x)+p,y2:I*(f-x)+g},style:S,silent:!0});"auto"===S.stroke&&P.setStyle({stroke:n(M/w)}),d.add(P)}if(b.get("show")){var R=h(l(M/w*(_-m)+m),b.get("formatter")),q=b.get("distance"),L=n(M/w);d.add(new o.Text({style:o.setTextStyle({},b,{text:R,x:O*(f-x-q)+p,y:I*(f-x-q)+g,textVerticalAlign:I<-.4?"top":I>.4?"bottom":"middle",textAlign:O<-.4?"left":O>.4?"right":"center"},{autoColor:L}),silent:!0}))}if(y.get("show")&&M!==w){for(var U=0;U<=A;U++){O=Math.cos(C),I=Math.sin(C);var B=new o.Line({shape:{x1:O*f+p,y1:I*f+g,x2:O*(f-T)+p,y2:I*(f-T)+g},silent:!0,style:E});"auto"===E.stroke&&B.setStyle({stroke:n((M+U/A)/w)}),d.add(B),C+=k}C-=k}else C+=Z}},_renderPointer:function(e,t,i,r,s,l,h,u){var d=this.group,p=this._data;if(e.get("pointer.show")){var g=[+e.get("min"),+e.get("max")],f=[l,h],m=e.getData(),_=m.mapDimension("value");m.diff(p).add(function(t){var i=new n({shape:{angle:l}});o.initProps(i,{shape:{angle:c(m.get(_,t),g,f,!0)}},e),d.add(i),m.setItemGraphicEl(t,i)}).update(function(t,i){var n=p.getItemGraphicEl(i);o.updateProps(n,{shape:{angle:c(m.get(_,t),g,f,!0)}},e),d.add(n),m.setItemGraphicEl(t,n)}).remove(function(e){var t=p.getItemGraphicEl(e);d.remove(t)}).execute(),m.eachItemGraphicEl(function(e,t){var i=m.getItemModel(t),n=i.getModel("pointer");e.setShape({x:s.cx,y:s.cy,width:a(n.get("width"),s.r),r:a(n.get("length"),s.r)}),e.useStyle(i.getModel("itemStyle").getItemStyle()),"auto"===e.style.fill&&e.setStyle("fill",r(c(m.get(_,t),g,[0,1],!0))),o.setHoverStyle(e,i.getModel("emphasis.itemStyle").getItemStyle())}),this._data=m}else p&&p.eachItemGraphicEl(function(e){d.remove(e)})},_renderTitle:function(e,t,i,n,r){var s=e.getData(),l=s.mapDimension("value"),h=e.getModel("title");if(h.get("show")){var u=h.get("offsetCenter"),d=r.cx+a(u[0],r.r),p=r.cy+a(u[1],r.r),g=+e.get("min"),f=+e.get("max"),m=e.getData().get(l,0),_=n(c(m,[g,f],[0,1],!0));this.group.add(new o.Text({silent:!0,style:o.setTextStyle({},h,{x:d,y:p,text:s.getName(0),textAlign:"center",textVerticalAlign:"middle"},{autoColor:_,forceRich:!0})}))}},_renderDetail:function(e,t,i,n,r){var s=e.getModel("detail"),l=+e.get("min"),u=+e.get("max");if(s.get("show")){var d=s.get("offsetCenter"),p=r.cx+a(d[0],r.r),g=r.cy+a(d[1],r.r),f=a(s.get("width"),r.r),m=a(s.get("height"),r.r),_=e.getData(),v=_.get(_.mapDimension("value"),0),y=n(c(v,[l,u],[0,1],!0));this.group.add(new o.Text({silent:!0,style:o.setTextStyle({},s,{x:p,y:g,text:h(v,s.get("formatter")),textWidth:isNaN(f)?null:f,textHeight:isNaN(m)?null:m,textAlign:"center",textVerticalAlign:"middle"},{autoColor:y,forceRich:!0})}))}}});e.exports=d},49694:function(e,t,i){var n=i(1419).extend({type:"echartsGaugePointer",shape:{angle:0,width:10,r:10,x:0,y:0},buildPath:function(e,t){var i=Math.cos,n=Math.sin,o=t.r,r=t.width,s=t.angle,a=t.x-i(s)*r*(r>=o/3?1:2),l=t.y-n(s)*r*(r>=o/3?1:2);s=t.angle-Math.PI/2,e.moveTo(a,l),e.lineTo(t.x+i(s)*r,t.y+n(s)*r),e.lineTo(t.x+i(t.angle)*o,t.y+n(t.angle)*o),e.lineTo(t.x-i(s)*r,t.y-n(s)*r),e.lineTo(a,l)}});e.exports=n},53255:function(e,t,i){var n=i(90650);i(14558),i(84212),i(54844);var o=i(13663),r=i(6660),s=i(97015),a=i(95791),l=i(32425),c=i(54607),h=i(74410),u=i(18419);n.registerProcessor(o),n.registerVisual(r("graph","circle",null)),n.registerVisual(s),n.registerVisual(a),n.registerLayout(l),n.registerLayout(n.PRIORITY.VISUAL.POST_CHART_LAYOUT,c),n.registerLayout(h),n.registerCoordinateSystem("graphView",{create:u})},14558:function(e,t,i){var n=i(90650),o=i(84497),r=i(40628),s=i(91266).defaultEmphasis,a=i(96948),l=i(99706).encodeHTML,c=i(481),h=i(95695),u=i(86096),d=u.initCurvenessList,p=u.createEdgeMapForCurveness,g=n.extendSeriesModel({type:"series.graph",init:function(e){g.superApply(this,"init",arguments);var t=this;function i(){return t._categoriesData}this.legendVisualProvider=new h(i,i),this.fillDataTextStyle(e.edges||e.links),this._updateCategoriesData()},mergeOption:function(e){g.superApply(this,"mergeOption",arguments),this.fillDataTextStyle(e.edges||e.links),this._updateCategoriesData()},mergeDefaultAndTheme:function(e){g.superApply(this,"mergeDefaultAndTheme",arguments),s(e,["edgeLabel"],["show"])},getInitialData:function(e,t){var i=e.edges||e.links||[],n=e.data||e.nodes||[],o=this;if(n&&i){d(this);var s=c(n,i,this,!0,function(e,i){e.wrapMethod("getItemModel",function(e){var t=o._categoriesModels[e.getShallow("category")];return t&&(t.parentModel=e.parentModel,e.parentModel=t),e});var n=o.getModel("edgeLabel"),r=new a({label:n.option},n.parentModel,t),s=o.getModel("emphasis.edgeLabel"),l=new a({emphasis:{label:s.option}},s.parentModel,t);function c(e){return(e=this.parsePath(e))&&"label"===e[0]?r:e&&"emphasis"===e[0]&&"label"===e[1]?l:this.parentModel}i.wrapMethod("getItemModel",function(e){return e.customizeGetParent(c),e})});return r.each(s.edges,function(e){p(e.node1,e.node2,this,e.dataIndex)},this),s.data}},getGraph:function(){return this.getData().graph},getEdgeData:function(){return this.getGraph().edgeData},getCategoriesData:function(){return this._categoriesData},formatTooltip:function(e,t,i){if("edge"===i){var n=this.getData(),o=this.getDataParams(e,i),r=n.graph.getEdgeByIndex(e),s=n.getName(r.node1.dataIndex),a=n.getName(r.node2.dataIndex),c=[];return null!=s&&c.push(s),null!=a&&c.push(a),c=l(c.join(" > ")),o.value&&(c+=" : "+l(o.value)),c}return g.superApply(this,"formatTooltip",arguments)},_updateCategoriesData:function(){var e=r.map(this.option.categories||[],function(e){return null!=e.value?e:r.extend({value:0},e)}),t=new o(["value"],this);t.initData(e),this._categoriesData=t,this._categoriesModels=t.mapArray(function(e){return t.getItemModel(e,!0)})},setZoom:function(e){this.option.zoom=e},setCenter:function(e){this.option.center=e},isAnimationEnabled:function(){return g.superCall(this,"isAnimationEnabled")&&!("force"===this.get("layout")&&this.get("force.layoutAnimation"))},defaultOption:{zlevel:0,z:2,coordinateSystem:"view",legendHoverLink:!0,hoverAnimation:!0,layout:null,focusNodeAdjacency:!1,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,friction:.6,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{position:"middle",distance:5},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{show:!1,formatter:"{b}"},itemStyle:{},lineStyle:{color:"#aaa",width:1,opacity:.5},emphasis:{label:{show:!0}}}});e.exports=g},84212:function(e,t,i){var n=i(90650),o=i(40628),r=i(16327),s=i(61289),a=i(96001),l=i(44733),c=i(91969).onIrrelevantElement,h=i(62429),u=i(73406),d=i(46514).getNodeGlobalScale,p="__focusNodeAdjacency",g="__unfocusNodeAdjacency",f=["itemStyle","opacity"],m=["lineStyle","opacity"];function _(e,t){var i=e.getVisual("opacity");return null!=i?i:e.getModel().get(t)}function v(e,t,i){var n=e.getGraphicEl(),o=_(e,t);null!=i&&(null==o&&(o=1),o*=i),n.downplay&&n.downplay(),n.traverse(function(e){if(!e.isGroup){var t=e.lineLabelOriginalOpacity;(null==t||null!=i)&&(t=o),e.setStyle("opacity",t)}})}function y(e,t){var i=_(e,t),n=e.getGraphicEl();n.traverse(function(e){!e.isGroup&&e.setStyle("opacity",i)}),n.highlight&&n.highlight()}var b=n.extendChartView({type:"graph",init:function(e,t){var i=new r,n=new s,o=this.group;this._controller=new a(t.getZr()),this._controllerHost={target:o},o.add(i.group),o.add(n.group),this._symbolDraw=i,this._lineDraw=n,this._firstRender=!0},render:function(e,t,i){var n=this,o=e.coordinateSystem;this._model=e;var r=this._symbolDraw,s=this._lineDraw,a=this.group;if("view"===o.type){var l={position:o.position,scale:o.scale};this._firstRender?a.attr(l):h.updateProps(a,l,e)}u(e.getGraph(),d(e));var c=e.getData();r.updateData(c);var f=e.getEdgeData();s.updateData(f),this._updateNodeAndLinkScale(),this._updateController(e,t,i),clearTimeout(this._layoutTimeout);var m=e.forceLayout,_=e.get("force.layoutAnimation");m&&this._startForceLayoutIteration(m,_),c.eachItemGraphicEl(function(t,o){var r=c.getItemModel(o);t.off("drag").off("dragend");var s=r.get("draggable");s&&t.on("drag",function(){m&&(m.warmUp(),!this._layouting&&this._startForceLayoutIteration(m,_),m.setFixed(o),c.setItemLayout(o,t.position))},this).on("dragend",function(){m&&m.setUnfixed(o)},this),t.setDraggable(s&&m),t[p]&&t.off("mouseover",t[p]),t[g]&&t.off("mouseout",t[g]),r.get("focusNodeAdjacency")&&(t.on("mouseover",t[p]=function(){n._clearTimer(),i.dispatchAction({type:"focusNodeAdjacency",seriesId:e.id,dataIndex:t.dataIndex})}),t.on("mouseout",t[g]=function(){n._dispatchUnfocus(i)}))},this),c.graph.eachEdge(function(t){var o=t.getGraphicEl();o[p]&&o.off("mouseover",o[p]),o[g]&&o.off("mouseout",o[g]),t.getModel().get("focusNodeAdjacency")&&(o.on("mouseover",o[p]=function(){n._clearTimer(),i.dispatchAction({type:"focusNodeAdjacency",seriesId:e.id,edgeDataIndex:t.dataIndex})}),o.on("mouseout",o[g]=function(){n._dispatchUnfocus(i)}))});var v="circular"===e.get("layout")&&e.get("circular.rotateLabel"),y=c.getLayout("cx"),b=c.getLayout("cy");c.eachItemGraphicEl(function(e,t){var i=c.getItemModel(t).get("label.rotate")||0,n=e.getSymbolPath();if(v){var o=c.getItemLayout(t),r=Math.atan2(o[1]-b,o[0]-y);r<0&&(r=2*Math.PI+r);var s=o[0]<y;s&&(r-=Math.PI);var a=s?"left":"right";h.modifyLabelStyle(n,{textRotation:-r,textPosition:a,textOrigin:"center"},{textPosition:a})}else h.modifyLabelStyle(n,{textRotation:i*=Math.PI/180})}),this._firstRender=!1},dispose:function(){this._controller&&this._controller.dispose(),this._controllerHost={},this._clearTimer()},_dispatchUnfocus:function(e,t){var i=this;this._clearTimer(),this._unfocusDelayTimer=setTimeout(function(){i._unfocusDelayTimer=null,e.dispatchAction({type:"unfocusNodeAdjacency",seriesId:i._model.id})},500)},_clearTimer:function(){this._unfocusDelayTimer&&(clearTimeout(this._unfocusDelayTimer),this._unfocusDelayTimer=null)},focusNodeAdjacency:function(e,t,i,n){var r=e.getData().graph,s=n.edgeDataIndex,a=r.getNodeByIndex(n.dataIndex),l=r.getEdgeByIndex(s);!a&&!l||(r.eachNode(function(e){v(e,f,.1)}),r.eachEdge(function(e){v(e,m,.1)}),a&&(y(a,f),o.each(a.edges,function(e){e.dataIndex<0||(y(e,m),y(e.node1,f),y(e.node2,f))})),l&&(y(l,m),y(l.node1,f),y(l.node2,f)))},unfocusNodeAdjacency:function(e,t,i,n){var o=e.getData().graph;o.eachNode(function(e){v(e,f)}),o.eachEdge(function(e){v(e,m)})},_startForceLayoutIteration:function(e,t){var i=this;!function n(){e.step(function(e){i.updateLayout(i._model),(i._layouting=!e)&&(t?i._layoutTimeout=setTimeout(n,16):n())})}()},_updateController:function(e,t,i){var n=this._controller,o=this._controllerHost,r=this.group;n.setPointerChecker(function(t,n,o){var s=r.getBoundingRect();return s.applyTransform(r.transform),s.contain(n,o)&&!c(t,i,e)}),"view"===e.coordinateSystem.type?(n.enable(e.get("roam")),o.zoomLimit=e.get("scaleLimit"),o.zoom=e.coordinateSystem.getZoom(),n.off("pan").off("zoom").on("pan",function(t){l.updateViewOnPan(o,t.dx,t.dy),i.dispatchAction({seriesId:e.id,type:"graphRoam",dx:t.dx,dy:t.dy})}).on("zoom",function(t){l.updateViewOnZoom(o,t.scale,t.originX,t.originY),i.dispatchAction({seriesId:e.id,type:"graphRoam",zoom:t.scale,originX:t.originX,originY:t.originY}),this._updateNodeAndLinkScale(),u(e.getGraph(),d(e)),this._lineDraw.updateLayout()},this)):n.disable()},_updateNodeAndLinkScale:function(){var e=this._model,t=e.getData(),i=d(e),n=[i,i];t.eachItemGraphicEl(function(e,t){e.attr("scale",n)})},updateLayout:function(e){u(e.getGraph(),d(e)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout()},remove:function(e,t){this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove()}});e.exports=b},73406:function(e,t,i){var n=i(49969),o=i(98221),r=i(46514).getSymbolSize,s=[],a=[],l=[],c=n.quadraticAt,h=o.distSquare,u=Math.abs;function d(e,t,i){for(var n,o=e[0],r=e[1],d=e[2],p=1/0,g=i*i,f=.1,m=.1;m<=.9;m+=.1)s[0]=c(o[0],r[0],d[0],m),s[1]=c(o[1],r[1],d[1],m),(y=u(h(s,t)-g))<p&&(p=y,n=m);for(var _=0;_<32;_++){var v=n+f;a[0]=c(o[0],r[0],d[0],n),a[1]=c(o[1],r[1],d[1],n),l[0]=c(o[0],r[0],d[0],v),l[1]=c(o[1],r[1],d[1],v);var y=h(a,t)-g;if(u(y)<.01)break;var b=h(l,t)-g;f/=2,y<0?b>=0?n+=f:n-=f:b>=0?n-=f:n+=f}return n}e.exports=function(e,t){var i=[],s=n.quadraticSubdivide,a=[[],[],[]],l=[[],[]],c=[];t/=2,e.eachEdge(function(e,n){var h=e.getLayout(),u=e.getVisual("fromSymbol"),p=e.getVisual("toSymbol");h.__original||(h.__original=[o.clone(h[0]),o.clone(h[1])],h[2]&&h.__original.push(o.clone(h[2])));var g=h.__original;if(null!=h[2]){if(o.copy(a[0],g[0]),o.copy(a[1],g[2]),o.copy(a[2],g[1]),u&&"none"!==u){var f=r(e.node1),m=d(a,g[0],f*t);s(a[0][0],a[1][0],a[2][0],m,i),a[0][0]=i[3],a[1][0]=i[4],s(a[0][1],a[1][1],a[2][1],m,i),a[0][1]=i[3],a[1][1]=i[4]}p&&"none"!==p&&(f=r(e.node2),m=d(a,g[1],f*t),s(a[0][0],a[1][0],a[2][0],m,i),a[1][0]=i[1],a[2][0]=i[2],s(a[0][1],a[1][1],a[2][1],m,i),a[1][1]=i[1],a[2][1]=i[2]),o.copy(h[0],a[0]),o.copy(h[1],a[2]),o.copy(h[2],a[1])}else o.copy(l[0],g[0]),o.copy(l[1],g[1]),o.sub(c,l[1],l[0]),o.normalize(c,c),u&&"none"!==u&&(f=r(e.node1),o.scaleAndAdd(l[0],l[0],c,f*t)),p&&"none"!==p&&(f=r(e.node2),o.scaleAndAdd(l[1],l[1],c,-f*t)),o.copy(h[0],l[0]),o.copy(h[1],l[1])})}},13663:function(e){e.exports=function(e){var t=e.findComponents({mainType:"legend"});!t||!t.length||e.eachSeriesByType("graph",function(e){var i=e.getCategoriesData(),n=e.getGraph().data,o=i.mapArray(i.getName);n.filterSelf(function(e){var i=n.getItemModel(e).getShallow("category");if(null!=i){"number"==typeof i&&(i=o[i]);for(var r=0;r<t.length;r++)if(!t[r].isSelected(i))return!1}return!0})},this)}},97015:function(e){e.exports=function(e){var t={};e.eachSeriesByType("graph",function(e){var i=e.getCategoriesData(),n=e.getData(),o={};i.each(function(n){var r=i.getName(n);o["ec-"+r]=n;var s=i.getItemModel(n),a=s.get("itemStyle.color")||e.getColorFromPalette(r,t);i.setItemVisual(n,"color",a);for(var l=["opacity","symbol","symbolSize","symbolKeepAspect"],c=0;c<l.length;c++){var h=s.getShallow(l[c],!0);null!=h&&i.setItemVisual(n,l[c],h)}}),i.count()&&n.each(function(e){var t=n.getItemModel(e).getShallow("category");if(null!=t){"string"==typeof t&&(t=o["ec-"+t]);for(var r=["color","opacity","symbol","symbolSize","symbolKeepAspect"],s=0;s<r.length;s++)null==n.getItemVisual(e,r[s],!0)&&n.setItemVisual(e,r[s],i.getItemVisual(t,r[s]))}})})}},54607:function(e,t,i){var n=i(17966).circularLayout;e.exports=function(e){e.eachSeriesByType("graph",function(e){"circular"===e.get("layout")&&n(e,"symbolSize")})}},17966:function(e,t,i){var n=i(98221),o=i(46514),r=o.getSymbolSize,s=o.getNodeGlobalScale,a=i(40628),l=i(86096).getCurvenessForEdge,c=Math.PI,h=[],u={value:function(e,t,i,n,o,r,s,a){var l=0,c=n.getSum("value"),h=2*Math.PI/(c||a);i.eachNode(function(e){var t=e.getValue("value"),i=h*(c?t:1)/2;l+=i,e.setLayout([o*Math.cos(l)+r,o*Math.sin(l)+s]),l+=i})},symbolSize:function(e,t,i,n,o,a,l,u){var d=0;h.length=u;var p=s(e);i.eachNode(function(e){var t=r(e);isNaN(t)&&(t=2),t<0&&(t=0),t*=p;var i=Math.asin(t/2/o);isNaN(i)&&(i=c/2),h[e.dataIndex]=i,d+=2*i});var g=(2*c-d)/u/2,f=0;i.eachNode(function(e){var t=g+h[e.dataIndex];f+=t,e.setLayout([o*Math.cos(f)+a,o*Math.sin(f)+l]),f+=t})}};t.circularLayout=function(e,t){var i=e.coordinateSystem;if(!i||"view"===i.type){var o=i.getBoundingRect(),r=e.getData(),s=r.graph,c=o.width/2+o.x,h=o.height/2+o.y,d=Math.min(o.width,o.height)/2,p=r.count();r.setLayout({cx:c,cy:h}),p&&(u[t](e,i,s,r,d,c,h,p),s.eachEdge(function(t,i){var o,r=a.retrieve3(t.getModel().get("lineStyle.curveness"),l(t,e,i),0),s=n.clone(t.node1.getLayout()),u=n.clone(t.node2.getLayout());+r&&(o=[c*(r*=3)+(s[0]+u[0])/2*(1-r),h*r+(s[1]+u[1])/2*(1-r)]),t.setLayout([s,u,o])}))}}},18419:function(e,t,i){var n=i(47843),o=i(40634).getLayoutRect,r=i(99110);e.exports=function(e,t){var i=[];return e.eachSeriesByType("graph",function(e){var s=e.get("coordinateSystem");if(!s||"view"===s){var a=e.getData(),l=a.mapArray(function(e){var t=a.getItemModel(e);return[+t.get("x"),+t.get("y")]}),c=[],h=[];r.fromPoints(l,c,h),h[0]-c[0]==0&&(h[0]+=1,c[0]-=1),h[1]-c[1]==0&&(h[1]+=1,c[1]-=1);var u=(h[0]-c[0])/(h[1]-c[1]),d=function(e,t,i){var n=e.getBoxLayoutParams();return n.aspect=i,o(n,{width:t.getWidth(),height:t.getHeight()})}(e,t,u);isNaN(u)&&(c=[d.x,d.y],h=[d.x+d.width,d.y+d.height]);var p=h[0]-c[0],g=h[1]-c[1],f=d.width,m=d.height,_=e.coordinateSystem=new n;_.zoomLimit=e.get("scaleLimit"),_.setBoundingRect(c[0],c[1],p,g),_.setViewRect(d.x,d.y,f,m),_.setCenter(e.get("center")),_.setZoom(e.get("zoom")),i.push(_)}}),i}},95791:function(e){function t(e){return e instanceof Array||(e=[e,e]),e}e.exports=function(e){e.eachSeriesByType("graph",function(e){var i=e.getGraph(),n=e.getEdgeData(),o=t(e.get("edgeSymbol")),r=t(e.get("edgeSymbolSize")),s="lineStyle.color".split("."),a="lineStyle.opacity".split(".");n.setVisual("fromSymbol",o&&o[0]),n.setVisual("toSymbol",o&&o[1]),n.setVisual("fromSymbolSize",r&&r[0]),n.setVisual("toSymbolSize",r&&r[1]),n.setVisual("color",e.get(s)),n.setVisual("opacity",e.get(a)),n.each(function(e){var o=n.getItemModel(e),r=i.getEdgeByIndex(e),l=t(o.getShallow("symbol",!0)),c=t(o.getShallow("symbolSize",!0)),h=o.get(s),u=o.get(a);switch(h){case"source":h=r.node1.getVisual("color");break;case"target":h=r.node2.getVisual("color")}l[0]&&r.setVisual("fromSymbol",l[0]),l[1]&&r.setVisual("toSymbol",l[1]),c[0]&&r.setVisual("fromSymbolSize",c[0]),c[1]&&r.setVisual("toSymbolSize",c[1]),r.setVisual("color",h),r.setVisual("opacity",u)})})}},49207:function(e,t,i){var n=i(98221),o=n.scaleAndAdd;t.forceLayout=function(e,t,i){for(var r=i.rect,s=r.width,a=r.height,l=[r.x+s/2,r.y+a/2],c=null==i.gravity?.1:i.gravity,h=0;h<e.length;h++){var u=e[h];u.p||(u.p=n.create(s*(Math.random()-.5)+l[0],a*(Math.random()-.5)+l[1])),u.pp=n.clone(u.p),u.edges=null}var d=null==i.friction?.6:i.friction,p=d;return{warmUp:function(){p=.8*d},setFixed:function(t){e[t].fixed=!0},setUnfixed:function(t){e[t].fixed=!1},step:function(i){for(var r=[],s=e.length,a=0;a<t.length;a++){var h=t[a];if(!h.ignoreForceLayout){n.sub(r,(m=h.n2).p,(g=h.n1).p);var u=n.len(r)-h.d,d=m.w/(g.w+m.w);isNaN(d)&&(d=0),n.normalize(r,r),!g.fixed&&o(g.p,g.p,r,d*u*p),!m.fixed&&o(m.p,m.p,r,-(1-d)*u*p)}}for(a=0;a<s;a++)(y=e[a]).fixed||(n.sub(r,l,y.p),o(y.p,y.p,r,c*p));for(a=0;a<s;a++)for(var g=e[a],f=a+1;f<s;f++){var m;n.sub(r,(m=e[f]).p,g.p),0===(u=n.len(r))&&(n.set(r,Math.random()-.5,Math.random()-.5),u=1);var _=(g.rep+m.rep)/u/u;!g.fixed&&o(g.pp,g.pp,r,_),!m.fixed&&o(m.pp,m.pp,r,-_)}var v=[];for(a=0;a<s;a++){var y;(y=e[a]).fixed||(n.sub(v,y.p,y.pp),o(y.p,y.p,v,p),n.copy(y.pp,y.p))}p*=.992,i&&i(e,t,p<.01)}}}},74410:function(e,t,i){var n=i(49207).forceLayout,o=i(51590).simpleLayout,r=i(17966).circularLayout,s=i(14785).linearMap,a=i(98221),l=i(40628),c=i(86096).getCurvenessForEdge;e.exports=function(e){e.eachSeriesByType("graph",function(e){if(!(v=e.coordinateSystem)||"view"===v.type)if("force"===e.get("layout")){var t=e.preservedPoints||{},i=e.getGraph(),h=i.data,u=i.edgeData,d=e.getModel("force"),p=d.get("initLayout");e.preservedPoints?h.each(function(e){var i=h.getId(e);h.setItemLayout(e,t[i]||[NaN,NaN])}):p&&"none"!==p?"circular"===p&&r(e,"value"):o(e);var g=h.getDataExtent("value"),f=u.getDataExtent("value"),m=d.get("repulsion"),_=d.get("edgeLength");l.isArray(m)||(m=[m,m]),l.isArray(_)||(_=[_,_]),_=[_[1],_[0]];var v,y=h.mapArray("value",function(e,t){var i=h.getItemLayout(t),n=s(e,g,m);return isNaN(n)&&(n=(m[0]+m[1])/2),{w:n,rep:n,fixed:h.getItemModel(t).get("fixed"),p:!i||isNaN(i[0])||isNaN(i[1])?null:i}}),b=u.mapArray("value",function(t,n){var o=i.getEdgeByIndex(n),r=s(t,f,_);isNaN(r)&&(r=(_[0]+_[1])/2);var a=o.getModel(),h=l.retrieve3(a.get("lineStyle.curveness"),-c(o,e,n,!0),0);return{n1:y[o.node1.dataIndex],n2:y[o.node2.dataIndex],d:r,curveness:h,ignoreForceLayout:a.get("ignoreForceLayout")}}),w=(v=e.coordinateSystem).getBoundingRect(),A=n(y,b,{rect:w,gravity:d.get("gravity"),friction:d.get("friction")}),x=A.step;A.step=function(e){for(var n=0,o=y.length;n<o;n++)y[n].fixed&&a.copy(y[n].p,i.getNodeByIndex(n).getLayout());x(function(n,o,r){for(var s=0,l=n.length;s<l;s++)n[s].fixed||i.getNodeByIndex(s).setLayout(n[s].p),t[h.getId(s)]=n[s].p;for(s=0,l=o.length;s<l;s++){var c=o[s],u=i.getEdgeByIndex(s),d=c.n1.p,p=c.n2.p,g=u.getLayout();(g=g?g.slice():[])[0]=g[0]||[],g[1]=g[1]||[],a.copy(g[0],d),a.copy(g[1],p),+c.curveness&&(g[2]=[(d[0]+p[0])/2-(d[1]-p[1])*c.curveness,(d[1]+p[1])/2-(p[0]-d[0])*c.curveness]),u.setLayout(g)}e&&e(r)})},e.forceLayout=A,e.preservedPoints=t,A.step()}else e.forceLayout=null})}},54844:function(e,t,i){var n=i(90650),o=i(93426).updateCenterAndZoom;i(35693),n.registerAction({type:"graphRoam",event:"graphRoam",update:"none"},function(e,t){t.eachComponent({mainType:"series",query:e},function(t){var i=o(t.coordinateSystem,e);t.setCenter&&t.setCenter(i.center),t.setZoom&&t.setZoom(i.zoom)})})},46514:function(e,t){t.getNodeGlobalScale=function(e){var t=e.coordinateSystem;if("view"!==t.type)return 1;var i=e.option.nodeScaleRatio,n=t.scale,o=n&&n[0]||1;return((t.getZoom()-1)*i+1)/o},t.getSymbolSize=function(e){var t=e.getVisual("symbolSize");return t instanceof Array&&(t=(t[0]+t[1])/2),+t}},32425:function(e,t,i){var n=i(40628).each,o=i(51590),r=o.simpleLayout,s=o.simpleLayoutEdge;e.exports=function(e,t){e.eachSeriesByType("graph",function(e){var t=e.get("layout"),i=e.coordinateSystem;if(i&&"view"!==i.type){var o=e.getData(),a=[];n(i.dimensions,function(e){a=a.concat(o.mapDimension(e,!0))});for(var l=0;l<o.count();l++){for(var c=[],h=!1,u=0;u<a.length;u++){var d=o.get(a[u],l);isNaN(d)||(h=!0),c.push(d)}o.setItemLayout(l,h?i.dataToPoint(c):[NaN,NaN])}s(o.graph,e)}else(!t||"none"===t)&&r(e)})}},51590:function(e,t,i){var n=i(98221),o=i(40628),r=i(86096).getCurvenessForEdge;function s(e,t){e.eachEdge(function(e,i){var s=o.retrieve3(e.getModel().get("lineStyle.curveness"),-r(e,t,i,!0),0),a=n.clone(e.node1.getLayout()),l=n.clone(e.node2.getLayout()),c=[a,l];+s&&c.push([(a[0]+l[0])/2-(a[1]-l[1])*s,(a[1]+l[1])/2-(l[0]-a[0])*s]),e.setLayout(c)})}t.simpleLayout=function(e){var t=e.coordinateSystem;if(!t||"view"===t.type){var i=e.getGraph();i.eachNode(function(e){var t=e.getModel();e.setLayout([+t.get("x"),+t.get("y")])}),s(i,e)}},t.simpleLayoutEdge=s},80419:function(e,t,i){i(14234),i(73246)},73622:function(e,t,i){var n=i(40628);function o(){var e=n.createCanvas();this.canvas=e,this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={}}o.prototype={update:function(e,t,i,n,o,r){var s=this._getBrush(),a=this._getGradient(e,o,"inRange"),l=this._getGradient(e,o,"outOfRange"),c=this.pointSize+this.blurSize,h=this.canvas,u=h.getContext("2d"),d=e.length;h.width=t,h.height=i;for(var p=0;p<d;++p){var g=e[p],f=g[0],m=g[1],_=n(g[2]);u.globalAlpha=_,u.drawImage(s,f-c,m-c)}if(!h.width||!h.height)return h;for(var v=u.getImageData(0,0,h.width,h.height),y=v.data,b=0,w=y.length,A=this.minOpacity,x=this.maxOpacity-A;b<w;){_=y[b+3]/256;var T=4*Math.floor(255*_);if(_>0){var C=r(_)?a:l;_>0&&(_=_*x+A),y[b++]=C[T],y[b++]=C[T+1],y[b++]=C[T+2],y[b++]=C[T+3]*_*256}else b+=4}return u.putImageData(v,0,0),h},_getBrush:function(){var e=this._brushCanvas||(this._brushCanvas=n.createCanvas()),t=this.pointSize+this.blurSize,i=2*t;e.width=i,e.height=i;var o=e.getContext("2d");return o.clearRect(0,0,i,i),o.shadowOffsetX=i,o.shadowBlur=this.blurSize,o.shadowColor="#000",o.beginPath(),o.arc(-t,t,this.pointSize,0,2*Math.PI,!0),o.closePath(),o.fill(),e},_getGradient:function(e,t,i){for(var n=this._gradientPixels,o=n[i]||(n[i]=new Uint8ClampedArray(1024)),r=[0,0,0,0],s=0,a=0;a<256;a++)t[i](a/255,!0,r),o[s++]=r[0],o[s++]=r[1],o[s++]=r[2],o[s++]=r[3];return o}},e.exports=o},14234:function(e,t,i){var n=i(29521),o=i(52461),r=i(3387),s=n.extend({type:"series.heatmap",getInitialData:function(e,t){return o(this.getSource(),this,{generateCoord:"value"})},preventIncremental:function(){var e=r.get(this.get("coordinateSystem"));if(e&&e.dimensions)return"lng"===e.dimensions[0]&&"lat"===e.dimensions[1]},defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0}});e.exports=s},73246:function(e,t,i){i(59963);var n=i(90650),o=i(62429),r=i(73622),s=i(40628),a=n.extendChartView({type:"heatmap",render:function(e,t,i){var n;t.eachComponent("visualMap",function(t){t.eachTargetSeries(function(i){i===e&&(n=t)})}),this.group.removeAll(),this._incrementalDisplayable=null;var o=e.coordinateSystem;"cartesian2d"===o.type||"calendar"===o.type?this._renderOnCartesianAndCalendar(e,i,0,e.getData().count()):function(e){var t=e.dimensions;return"lng"===t[0]&&"lat"===t[1]}(o)&&this._renderOnGeo(o,e,n,i)},incrementalPrepareRender:function(e,t,i){this.group.removeAll()},incrementalRender:function(e,t,i,n){t.coordinateSystem&&this._renderOnCartesianAndCalendar(t,n,e.start,e.end,!0)},_renderOnCartesianAndCalendar:function(e,t,i,n,r){var a,l,c=e.coordinateSystem;if("cartesian2d"===c.type){var h=c.getAxis("x"),u=c.getAxis("y");a=h.getBandWidth(),l=u.getBandWidth()}for(var d=this.group,p=e.getData(),g="itemStyle",f="emphasis.itemStyle",m="label",_="emphasis.label",v=e.getModel(g).getItemStyle(["color"]),y=e.getModel(f).getItemStyle(),b=e.getModel(m),w=e.getModel(_),A=c.type,x="cartesian2d"===A?[p.mapDimension("x"),p.mapDimension("y"),p.mapDimension("value")]:[p.mapDimension("time"),p.mapDimension("value")],T=i;T<n;T++){var C;if("cartesian2d"===A){if(isNaN(p.get(x[2],T)))continue;var Z=c.dataToPoint([p.get(x[0],T),p.get(x[1],T)]);C=new o.Rect({shape:{x:Math.floor(Math.round(Z[0])-a/2),y:Math.floor(Math.round(Z[1])-l/2),width:Math.ceil(a),height:Math.ceil(l)},style:{fill:p.getItemVisual(T,"color"),opacity:p.getItemVisual(T,"opacity")}})}else{if(isNaN(p.get(x[1],T)))continue;C=new o.Rect({z2:1,shape:c.dataToRect([p.get(x[0],T)]).contentShape,style:{fill:p.getItemVisual(T,"color"),opacity:p.getItemVisual(T,"opacity")}})}var k=p.getItemModel(T);p.hasItemOption&&(v=k.getModel(g).getItemStyle(["color"]),y=k.getModel(f).getItemStyle(),b=k.getModel(m),w=k.getModel(_));var S=e.getRawValue(T),E="-";S&&null!=S[2]&&(E=S[2]),o.setLabelStyle(v,y,b,w,{labelFetcher:e,labelDataIndex:T,defaultText:E,isRectText:!0}),C.setStyle(v),o.setHoverStyle(C,p.hasItemOption?y:s.extend({},y)),C.incremental=r,r&&(C.useHoverLayer=!0),d.add(C),p.setItemGraphicEl(T,C)}},_renderOnGeo:function(e,t,i,n){var a=i.targetVisuals.inRange,l=i.targetVisuals.outOfRange,c=t.getData(),h=this._hmLayer||this._hmLayer||new r;h.blurSize=t.get("blurSize"),h.pointSize=t.get("pointSize"),h.minOpacity=t.get("minOpacity"),h.maxOpacity=t.get("maxOpacity");var u=e.getViewRect().clone(),d=e.getRoamTransform();u.applyTransform(d);var p=Math.max(u.x,0),g=Math.max(u.y,0),f=Math.min(u.width+u.x,n.getWidth()),m=Math.min(u.height+u.y,n.getHeight()),_=f-p,v=m-g,y=[c.mapDimension("lng"),c.mapDimension("lat"),c.mapDimension("value")],b=c.mapArray(y,function(t,i,n){var o=e.dataToPoint([t,i]);return o[0]-=p,o[1]-=g,o.push(n),o}),w=i.getExtent(),A="visualMap.continuous"===i.type?function(e,t){var i=e[1]-e[0];return t=[(t[0]-e[0])/i,(t[1]-e[0])/i],function(e){return e>=t[0]&&e<=t[1]}}(w,i.option.range):function(e,t,i){var n=e[1]-e[0],o=(t=s.map(t,function(t){return{interval:[(t.interval[0]-e[0])/n,(t.interval[1]-e[0])/n]}})).length,r=0;return function(e){for(var n=r;n<o;n++)if((s=t[n].interval)[0]<=e&&e<=s[1]){r=n;break}if(n===o)for(n=r-1;n>=0;n--){var s;if((s=t[n].interval)[0]<=e&&e<=s[1]){r=n;break}}return n>=0&&n<o&&i[n]}}(w,i.getPieceList(),i.option.selected);h.update(b,_,v,a.color.getNormalizer(),{inRange:a.color.getColorMapper(),outOfRange:l.color.getColorMapper()},A);var x=new o.Image({style:{width:_,height:v,x:p,y:g,image:h.canvas},silent:!0});this.group.add(x)},dispose:function(){}});e.exports=a},52787:function(e,t,i){var n=i(62429),o=i(99126),r=i(40628),s=i(34550).createSymbol,a=i(98221),l=i(49969);function c(e,t,i){n.Group.call(this),this.add(this.createLine(e,t,i)),this._updateEffectSymbol(e,t)}var h=c.prototype;h.createLine=function(e,t,i){return new o(e,t,i)},h._updateEffectSymbol=function(e,t){var i=e.getItemModel(t).getModel("effect"),n=i.get("symbolSize"),o=i.get("symbol");r.isArray(n)||(n=[n,n]);var a=i.get("color")||e.getItemVisual(t,"color"),l=this.childAt(1);this._symbolType!==o&&(this.remove(l),(l=s(o,-.5,-.5,1,1,a)).z2=100,l.culling=!0,this.add(l)),l&&(l.setStyle("shadowColor",a),l.setStyle(i.getItemStyle(["color"])),l.attr("scale",n),l.setColor(a),l.attr("scale",n),this._symbolType=o,this._symbolScale=n,this._updateEffectAnimation(e,i,t))},h._updateEffectAnimation=function(e,t,i){var n=this.childAt(1);if(n){var o=this,s=e.getItemLayout(i),a=1e3*t.get("period"),l=t.get("loop"),c=t.get("constantSpeed"),h=r.retrieve(t.get("delay"),function(t){return t/e.count()*a/3}),u="function"==typeof h;if(n.ignore=!0,this.updateAnimationPoints(n,s),c>0&&(a=this.getLineLength(n)/c*1e3),a!==this._period||l!==this._loop){n.stopAnimation();var d=h;u&&(d=h(i)),n.__t>0&&(d=-a*n.__t),n.__t=0;var p=n.animate("",l).when(a,{__t:1}).delay(d).during(function(){o.updateSymbolPosition(n)});l||p.done(function(){o.remove(n)}),p.start()}this._period=a,this._loop=l}},h.getLineLength=function(e){return a.dist(e.__p1,e.__cp1)+a.dist(e.__cp1,e.__p2)},h.updateAnimationPoints=function(e,t){e.__p1=t[0],e.__p2=t[1],e.__cp1=t[2]||[(t[0][0]+t[1][0])/2,(t[0][1]+t[1][1])/2]},h.updateData=function(e,t,i){this.childAt(0).updateData(e,t,i),this._updateEffectSymbol(e,t)},h.updateSymbolPosition=function(e){var t=e.__p1,i=e.__p2,n=e.__cp1,o=e.__t,r=e.position,s=[r[0],r[1]],c=l.quadraticAt,h=l.quadraticDerivativeAt;r[0]=c(t[0],n[0],i[0],o),r[1]=c(t[1],n[1],i[1],o);var u=h(t[0],n[0],i[0],o),d=h(t[1],n[1],i[1],o);if(e.rotation=-Math.atan2(d,u)-Math.PI/2,"line"===this._symbolType||"rect"===this._symbolType||"roundRect"===this._symbolType)if(void 0!==e.__lastT&&e.__lastT<e.__t){var p=1.05*a.dist(s,r);e.attr("scale",[e.scale[0],p]),1===o&&(r[0]=s[0]+(r[0]-s[0])/2,r[1]=s[1]+(r[1]-s[1])/2)}else 1===e.__lastT?(p=2*a.dist(t,r),e.attr("scale",[e.scale[0],p])):e.attr("scale",this._symbolScale);e.__lastT=e.__t,e.ignore=!1},h.updateLayout=function(e,t){this.childAt(0).updateLayout(e,t);var i=e.getItemModel(t).getModel("effect");this._updateEffectAnimation(e,i,t)},r.inherits(c,n.Group),e.exports=c},61026:function(e,t,i){var n=i(20200),o=i(40628),r=i(52787),s=i(98221);function a(e,t,i){r.call(this,e,t,i),this._lastFrame=0,this._lastFramePercent=0}var l=a.prototype;l.createLine=function(e,t,i){return new n(e,t,i)},l.updateAnimationPoints=function(e,t){this._points=t;for(var i=[0],n=0,o=1;o<t.length;o++)n+=s.dist(t[o-1],t[o]),i.push(n);if(0!==n){for(o=0;o<i.length;o++)i[o]/=n;this._offsets=i,this._length=n}},l.getLineLength=function(e){return this._length},l.updateSymbolPosition=function(e){var t=e.__t,i=this._points,n=this._offsets,o=i.length;if(n){var r=this._lastFrame;if(t<this._lastFramePercent){for(a=Math.min(r+1,o-1);a>=0&&!(n[a]<=t);a--);a=Math.min(a,o-2)}else{for(var a=r;a<o&&!(n[a]>t);a++);a=Math.min(a-1,o-2)}s.lerp(e.position,i[a],i[a+1],(t-n[a])/(n[a+1]-n[a])),e.rotation=-Math.atan2(i[a+1][1]-i[a][1],i[a+1][0]-i[a][0])-Math.PI/2,this._lastFrame=a,this._lastFramePercent=t,e.ignore=!1}},o.inherits(a,r),e.exports=a},69553:function(e,t,i){var n=i(40628),o=i(34550).createSymbol,r=i(62429).Group,s=i(14785).parsePercent,a=i(15035);function l(e,t){var i=t.rippleEffectColor||t.color;e.eachChild(function(e){e.attr({z:t.z,zlevel:t.zlevel,style:{stroke:"stroke"===t.brushType?i:null,fill:"fill"===t.brushType?i:null}})})}function c(e,t){r.call(this);var i=new a(e,t),n=new r;this.add(i),this.add(n),n.beforeUpdate=function(){this.attr(i.getScale())},this.updateData(e,t)}var h=c.prototype;h.stopEffectAnimation=function(){this.childAt(1).removeAll()},h.startEffectAnimation=function(e){for(var t=e.symbolType,i=e.color,n=this.childAt(1),r=0;r<3;r++){var s=o(t,-1,-1,2,2,i);s.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scale:[.5,.5]});var a=-r/3*e.period+e.effectOffset;s.animate("",!0).when(e.period,{scale:[e.rippleScale/2,e.rippleScale/2]}).delay(a).start(),s.animateStyle(!0).when(e.period,{opacity:0}).delay(a).start(),n.add(s)}l(n,e)},h.updateEffectAnimation=function(e){for(var t=this._effectCfg,i=this.childAt(1),n=["symbolType","period","rippleScale"],o=0;o<n.length;o++){var r=n[o];if(t[r]!==e[r])return this.stopEffectAnimation(),void this.startEffectAnimation(e)}l(i,e)},h.highlight=function(){this.trigger("emphasis")},h.downplay=function(){this.trigger("normal")},h.updateData=function(e,t){var i=e.hostModel;this.childAt(0).updateData(e,t);var o=this.childAt(1),r=e.getItemModel(t),a=e.getItemVisual(t,"symbol"),l=function(e){return n.isArray(e)||(e=[+e,+e]),e}(e.getItemVisual(t,"symbolSize")),c=e.getItemVisual(t,"color");o.attr("scale",l),o.traverse(function(e){e.attr({fill:c})});var h=r.getShallow("symbolOffset");if(h){var u=o.position;u[0]=s(h[0],l[0]),u[1]=s(h[1],l[1])}var d=e.getItemVisual(t,"symbolRotate");o.rotation=(d||0)*Math.PI/180||0;var p={};if(p.showEffectOn=i.get("showEffectOn"),p.rippleScale=r.get("rippleEffect.scale"),p.brushType=r.get("rippleEffect.brushType"),p.period=1e3*r.get("rippleEffect.period"),p.effectOffset=t/e.count(),p.z=r.getShallow("z")||0,p.zlevel=r.getShallow("zlevel")||0,p.symbolType=a,p.color=c,p.rippleEffectColor=r.get("rippleEffect.color"),this.off("mouseover").off("mouseout").off("emphasis").off("normal"),"render"===p.showEffectOn)this._effectCfg?this.updateEffectAnimation(p):this.startEffectAnimation(p),this._effectCfg=p;else{this._effectCfg=null,this.stopEffectAnimation();var g=this.childAt(0),f=function(){g.highlight(),"render"!==p.showEffectOn&&this.startEffectAnimation(p)},m=function(){g.downplay(),"render"!==p.showEffectOn&&this.stopEffectAnimation()};this.on("mouseover",f,this).on("mouseout",m,this).on("emphasis",f,this).on("normal",m,this)}this._effectCfg=p},h.fadeOut=function(e){this.off("mouseover").off("mouseout").off("emphasis").off("normal"),e&&e()},n.inherits(c,r),e.exports=c},79841:function(e,t,i){var n=i(62429),o=i(33520),r=i(34443),s=i(97014),a=n.extendShape({shape:{polyline:!1,curveness:0,segs:[]},buildPath:function(e,t){var i=t.segs,n=t.curveness;if(t.polyline)for(var o=0;o<i.length;){var r=i[o++];if(r>0){e.moveTo(i[o++],i[o++]);for(var s=1;s<r;s++)e.lineTo(i[o++],i[o++])}}else for(o=0;o<i.length;){var a=i[o++],l=i[o++],c=i[o++],h=i[o++];e.moveTo(a,l),n>0?e.quadraticCurveTo((a+c)/2-(l-h)*n,(l+h)/2-(c-a)*n,c,h):e.lineTo(c,h)}},findDataIndex:function(e,t){var i=this.shape,n=i.segs,o=i.curveness;if(i.polyline)for(var a=0,l=0;l<n.length;){var c=n[l++];if(c>0)for(var h=n[l++],u=n[l++],d=1;d<c;d++){var p=n[l++],g=n[l++];if(r.containStroke(h,u,p,g))return a}a++}else for(a=0,l=0;l<n.length;){if(h=n[l++],u=n[l++],p=n[l++],g=n[l++],o>0){if(s.containStroke(h,u,(h+p)/2-(u-g)*o,(u+g)/2-(p-h)*o,p,g))return a}else if(r.containStroke(h,u,p,g))return a;a++}return-1}});function l(){this.group=new n.Group}var c=l.prototype;c.isPersistent=function(){return!this._incremental},c.updateData=function(e){this.group.removeAll();var t=new a({rectHover:!0,cursor:"default"});t.setShape({segs:e.getLayout("linesPoints")}),this._setCommon(t,e),this.group.add(t),this._incremental=null},c.incrementalPrepareUpdate=function(e){this.group.removeAll(),this._clearIncremental(),e.count()>5e5?(this._incremental||(this._incremental=new o({silent:!0})),this.group.add(this._incremental)):this._incremental=null},c.incrementalUpdate=function(e,t){var i=new a;i.setShape({segs:t.getLayout("linesPoints")}),this._setCommon(i,t,!!this._incremental),this._incremental?this._incremental.addDisplayable(i,!0):(i.rectHover=!0,i.cursor="default",i.__startIndex=e.start,this.group.add(i))},c.remove=function(){this._clearIncremental(),this._incremental=null,this.group.removeAll()},c._setCommon=function(e,t,i){var n=t.hostModel;e.setShape({polyline:n.get("polyline"),curveness:n.get("lineStyle.curveness")}),e.useStyle(n.getModel("lineStyle").getLineStyle()),e.style.strokeNoScale=!0;var o=t.getVisual("color");o&&e.setStyle("stroke",o),e.setStyle("fill"),i||(e.seriesIndex=n.seriesIndex,e.on("mousemove",function(t){e.dataIndex=null;var i=e.findDataIndex(t.offsetX,t.offsetY);i>0&&(e.dataIndex=i+e.__startIndex)}))},c._clearIncremental=function(){var e=this._incremental;e&&e.clearDisplaybles()},e.exports=l},93263:function(e,t,i){var n=i(62429),o=i(34550).createSymbol,r=i(33520),s=n.extendShape({shape:{points:null},symbolProxy:null,softClipShape:null,buildPath:function(e,t){var i=t.points,n=t.size,o=this.symbolProxy,r=o.shape;if(!((e.getContext?e.getContext():e)&&n[0]<4))for(var s=0;s<i.length;){var a=i[s++],l=i[s++];isNaN(a)||isNaN(l)||this.softClipShape&&!this.softClipShape.contain(a,l)||(r.x=a-n[0]/2,r.y=l-n[1]/2,r.width=n[0],r.height=n[1],o.buildPath(e,r,!0))}},afterBrush:function(e){var t=this.shape,i=t.points,n=t.size;if(n[0]<4){this.setTransform(e);for(var o=0;o<i.length;){var r=i[o++],s=i[o++];isNaN(r)||isNaN(s)||this.softClipShape&&!this.softClipShape.contain(r,s)||e.fillRect(r-n[0]/2,s-n[1]/2,n[0],n[1])}this.restoreTransform(e)}},findDataIndex:function(e,t){for(var i=this.shape,n=i.points,o=i.size,r=Math.max(o[0],4),s=Math.max(o[1],4),a=n.length/2-1;a>=0;a--){var l=2*a,c=n[l]-r/2,h=n[l+1]-s/2;if(e>=c&&t>=h&&e<=c+r&&t<=h+s)return a}return-1}});function a(){this.group=new n.Group}var l=a.prototype;l.isPersistent=function(){return!this._incremental},l.updateData=function(e,t){this.group.removeAll();var i=new s({rectHover:!0,cursor:"default"});i.setShape({points:e.getLayout("symbolPoints")}),this._setCommon(i,e,!1,t),this.group.add(i),this._incremental=null},l.updateLayout=function(e){if(!this._incremental){var t=e.getLayout("symbolPoints");this.group.eachChild(function(e){null!=e.startIndex&&(t=new Float32Array(t.buffer,4*e.startIndex*2,2*(e.endIndex-e.startIndex))),e.setShape("points",t)})}},l.incrementalPrepareUpdate=function(e){this.group.removeAll(),this._clearIncremental(),e.count()>2e6?(this._incremental||(this._incremental=new r({silent:!0})),this.group.add(this._incremental)):this._incremental=null},l.incrementalUpdate=function(e,t,i){var n;this._incremental?(n=new s,this._incremental.addDisplayable(n,!0)):((n=new s({rectHover:!0,cursor:"default",startIndex:e.start,endIndex:e.end})).incremental=!0,this.group.add(n)),n.setShape({points:t.getLayout("symbolPoints")}),this._setCommon(n,t,!!this._incremental,i)},l._setCommon=function(e,t,i,n){var r=t.hostModel;n=n||{};var s=t.getVisual("symbolSize");e.setShape("size",s instanceof Array?s:[s,s]),e.softClipShape=n.clipShape||null,e.symbolProxy=o(t.getVisual("symbol"),0,0,0,0),e.setColor=e.symbolProxy.setColor;var a=e.shape.size[0]<4;e.useStyle(r.getModel("itemStyle").getItemStyle(a?["color","shadowBlur","shadowColor"]:["color"]));var l=t.getVisual("color");l&&e.setColor(l),i||(e.seriesIndex=r.seriesIndex,e.on("mousemove",function(t){e.dataIndex=null;var i=e.findDataIndex(t.offsetX,t.offsetY);i>=0&&(e.dataIndex=i+(e.startIndex||0))}))},l.remove=function(){this._clearIncremental(),this._incremental=null,this.group.removeAll()},l._clearIncremental=function(){var e=this._incremental;e&&e.clearDisplaybles()},e.exports=a},99126:function(e,t,i){var n=i(40628),o=i(98221),r=i(34550),s=i(20875),a=i(62429),l=i(14785).round,c=["fromSymbol","toSymbol"];function h(e){return"_"+e+"Type"}function u(e,t,i){var o=t.getItemVisual(i,e);if(o&&"none"!==o){var s=t.getItemVisual(i,"color"),a=t.getItemVisual(i,e+"Size"),l=t.getItemVisual(i,e+"Rotate");n.isArray(a)||(a=[a,a]);var c=r.createSymbol(o,-a[0]/2,-a[1]/2,a[0],a[1],s);return c.__specifiedRotation=null==l||isNaN(l)?void 0:+l*Math.PI/180||0,c.name=e,c}}function d(e,t){e.x1=t[0][0],e.y1=t[0][1],e.x2=t[1][0],e.y2=t[1][1],e.percent=1;var i=t[2];i?(e.cpx1=i[0],e.cpy1=i[1]):(e.cpx1=NaN,e.cpy1=NaN)}function p(e,t,i){a.Group.call(this),this._createLine(e,t,i)}var g=p.prototype;g.beforeUpdate=function(){var e=this,t=e.childOfName("fromSymbol"),i=e.childOfName("toSymbol"),n=e.childOfName("label");if(t||i||!n.ignore){for(var r=1,s=this.parent;s;)s.scale&&(r/=s.scale[0]),s=s.parent;var a=e.childOfName("line");if(this.__dirty||a.__dirty){var l,c=a.shape.percent,h=a.pointAt(0),u=a.pointAt(c),d=o.sub([],u,h);if(o.normalize(d,d),t){if(t.attr("position",h),null==(l=t.__specifiedRotation)){var p=a.tangentAt(0);t.attr("rotation",Math.PI/2-Math.atan2(p[1],p[0]))}else t.attr("rotation",l);t.attr("scale",[r*c,r*c])}if(i)i.attr("position",u),null==(l=i.__specifiedRotation)?(p=a.tangentAt(1),i.attr("rotation",-Math.PI/2-Math.atan2(p[1],p[0]))):i.attr("rotation",l),i.attr("scale",[r*c,r*c]);if(!n.ignore){n.attr("position",u);var g,f,m,_,v=n.__labelDistance,y=v[0]*r,b=v[1]*r,w=c/2,A=[(p=a.tangentAt(w))[1],-p[0]],x=a.pointAt(w);A[1]>0&&(A[0]=-A[0],A[1]=-A[1]);var T,C=p[0]<0?-1:1;if("start"!==n.__position&&"end"!==n.__position){var Z=-Math.atan2(p[1],p[0]);u[0]<h[0]&&(Z=Math.PI+Z),n.attr("rotation",Z)}switch(n.__position){case"insideStartTop":case"insideMiddleTop":case"insideEndTop":case"middle":T=-b,m="bottom";break;case"insideStartBottom":case"insideMiddleBottom":case"insideEndBottom":T=b,m="top";break;default:T=0,m="middle"}switch(n.__position){case"end":g=[d[0]*y+u[0],d[1]*b+u[1]],f=d[0]>.8?"left":d[0]<-.8?"right":"center",m=d[1]>.8?"top":d[1]<-.8?"bottom":"middle";break;case"start":g=[-d[0]*y+h[0],-d[1]*b+h[1]],f=d[0]>.8?"right":d[0]<-.8?"left":"center",m=d[1]>.8?"bottom":d[1]<-.8?"top":"middle";break;case"insideStartTop":case"insideStart":case"insideStartBottom":g=[y*C+h[0],h[1]+T],f=p[0]<0?"right":"left",_=[-y*C,-T];break;case"insideMiddleTop":case"insideMiddle":case"insideMiddleBottom":case"middle":g=[x[0],x[1]+T],f="center",_=[0,-T];break;case"insideEndTop":case"insideEnd":case"insideEndBottom":g=[-y*C+u[0],u[1]+T],f=p[0]>=0?"right":"left",_=[y*C,-T]}n.attr({style:{textVerticalAlign:n.__verticalAlign||m,textAlign:n.__textAlign||f},position:g,scale:[r,r],origin:_})}}}},g._createLine=function(e,t,i){var o=e.hostModel,r=function(e){var t=new s({name:"line",subPixelOptimize:!0});return d(t.shape,e),t}(e.getItemLayout(t));r.shape.percent=0,a.initProps(r,{shape:{percent:1}},o,t),this.add(r);var l=new a.Text({name:"label",lineLabelOriginalOpacity:1});this.add(l),n.each(c,function(i){var n=u(i,e,t);this.add(n),this[h(i)]=e.getItemVisual(t,i)},this),this._updateCommonStl(e,t,i)},g.updateData=function(e,t,i){var o=e.hostModel,r=this.childOfName("line"),s=e.getItemLayout(t),l={shape:{}};d(l.shape,s),a.updateProps(r,l,o,t),n.each(c,function(i){var n=e.getItemVisual(t,i),o=h(i);if(this[o]!==n){this.remove(this.childOfName(i));var r=u(i,e,t);this.add(r)}this[o]=n},this),this._updateCommonStl(e,t,i)},g._updateCommonStl=function(e,t,i){var o=e.hostModel,r=this.childOfName("line"),s=i&&i.lineStyle,h=i&&i.hoverLineStyle,u=i&&i.labelModel,d=i&&i.hoverLabelModel;if(!i||e.hasItemOption){var p=e.getItemModel(t);s=p.getModel("lineStyle").getLineStyle(),h=p.getModel("emphasis.lineStyle").getLineStyle(),u=p.getModel("label"),d=p.getModel("emphasis.label")}var g=e.getItemVisual(t,"color"),f=n.retrieve3(e.getItemVisual(t,"opacity"),s.opacity,1);r.useStyle(n.defaults({strokeNoScale:!0,fill:"none",stroke:g,opacity:f},s)),r.hoverStyle=h,n.each(c,function(e){var t=this.childOfName(e);t&&(t.setColor(g),t.setStyle({opacity:f}))},this);var m,_,v=u.getShallow("show"),y=d.getShallow("show"),b=this.childOfName("label");if((v||y)&&(m=g||"#000",null==(_=o.getFormattedLabel(t,"normal",e.dataType)))){var w=o.getRawValue(t);_=null==w?e.getName(t):isFinite(w)?l(w):w}var A=v?_:null,x=y?n.retrieve2(o.getFormattedLabel(t,"emphasis",e.dataType),_):null,T=b.style;if(null!=A||null!=x){a.setTextStyle(b.style,u,{text:A},{autoColor:m}),b.__textAlign=T.textAlign,b.__verticalAlign=T.textVerticalAlign,b.__position=u.get("position")||"middle";var C=u.get("distance");n.isArray(C)||(C=[C,C]),b.__labelDistance=C}b.hoverStyle=null!=x?{text:x,textFill:d.getTextColor(!0),fontStyle:d.getShallow("fontStyle"),fontWeight:d.getShallow("fontWeight"),fontSize:d.getShallow("fontSize"),fontFamily:d.getShallow("fontFamily")}:{text:null},b.ignore=!v&&!y,a.setHoverStyle(this)},g.highlight=function(){this.trigger("emphasis")},g.downplay=function(){this.trigger("normal")},g.updateLayout=function(e,t){this.setLinePoints(e.getItemLayout(t))},g.setLinePoints=function(e){var t=this.childOfName("line");d(t.shape,e),t.dirty()},n.inherits(p,a.Group),e.exports=p},61289:function(e,t,i){var n=i(62429),o=i(99126);function r(e){this._ctor=e||o,this.group=new n.Group}var s=r.prototype;function a(e){var t=e.hostModel;return{lineStyle:t.getModel("lineStyle").getLineStyle(),hoverLineStyle:t.getModel("emphasis.lineStyle").getLineStyle(),labelModel:t.getModel("label"),hoverLabelModel:t.getModel("emphasis.label")}}function l(e){return isNaN(e[0])||isNaN(e[1])}function c(e){return!l(e[0])&&!l(e[1])}s.isPersistent=function(){return!0},s.updateData=function(e){var t=this,i=t.group,n=t._lineData;t._lineData=e,n||i.removeAll();var o=a(e);e.diff(n).add(function(i){!function(e,t,i,n){if(c(t.getItemLayout(i))){var o=new e._ctor(t,i,n);t.setItemGraphicEl(i,o),e.group.add(o)}}(t,e,i,o)}).update(function(i,r){!function(e,t,i,n,o,r){var s=t.getItemGraphicEl(n);c(i.getItemLayout(o))?(s?s.updateData(i,o,r):s=new e._ctor(i,o,r),i.setItemGraphicEl(o,s),e.group.add(s)):e.group.remove(s)}(t,n,e,r,i,o)}).remove(function(e){i.remove(n.getItemGraphicEl(e))}).execute()},s.updateLayout=function(){var e=this._lineData;!e||e.eachItemGraphicEl(function(t,i){t.updateLayout(e,i)},this)},s.incrementalPrepareUpdate=function(e){this._seriesScope=a(e),this._lineData=null,this.group.removeAll()},s.incrementalUpdate=function(e,t){function i(e){!e.isGroup&&!function(e){return e.animators&&e.animators.length>0}(e)&&(e.incremental=e.useHoverLayer=!0)}for(var n=e.start;n<e.end;n++)if(c(t.getItemLayout(n))){var o=new this._ctor(t,n,this._seriesScope);o.traverse(i),this.group.add(o),t.setItemGraphicEl(n,o)}},s.remove=function(){this._clearIncremental(),this._incremental=null,this.group.removeAll()},s._clearIncremental=function(){var e=this._incremental;e&&e.clearDisplaybles()},e.exports=r},20875:function(e,t,i){var n=i(62429),o=i(98221),r=n.Line.prototype,s=n.BezierCurve.prototype;function a(e){return isNaN(+e.cpx1)||isNaN(+e.cpy1)}var l=n.extendShape({type:"ec-line",style:{stroke:"#000",fill:null},shape:{x1:0,y1:0,x2:0,y2:0,percent:1,cpx1:null,cpy1:null},buildPath:function(e,t){this[a(t)?"_buildPathLine":"_buildPathCurve"](e,t)},_buildPathLine:r.buildPath,_buildPathCurve:s.buildPath,pointAt:function(e){return this[a(this.shape)?"_pointAtLine":"_pointAtCurve"](e)},_pointAtLine:r.pointAt,_pointAtCurve:s.pointAt,tangentAt:function(e){var t=this.shape,i=a(t)?[t.x2-t.x1,t.y2-t.y1]:this._tangentAtCurve(e);return o.normalize(i,i)},_tangentAtCurve:s.tangentAt});e.exports=l},20200:function(e,t,i){var n=i(62429),o=i(40628);function r(e,t,i){n.Group.call(this),this._createPolyline(e,t,i)}var s=r.prototype;s._createPolyline=function(e,t,i){var o=e.getItemLayout(t),r=new n.Polyline({shape:{points:o}});this.add(r),this._updateCommonStl(e,t,i)},s.updateData=function(e,t,i){var o=e.hostModel,r=this.childAt(0),s={shape:{points:e.getItemLayout(t)}};n.updateProps(r,s,o,t),this._updateCommonStl(e,t,i)},s._updateCommonStl=function(e,t,i){var r=this.childAt(0),s=e.getItemModel(t),a=e.getItemVisual(t,"color"),l=i&&i.lineStyle,c=i&&i.hoverLineStyle;(!i||e.hasItemOption)&&(l=s.getModel("lineStyle").getLineStyle(),c=s.getModel("emphasis.lineStyle").getLineStyle()),r.useStyle(o.defaults({strokeNoScale:!0,fill:"none",stroke:a},l)),r.hoverStyle=c,n.setHoverStyle(this)},s.updateLayout=function(e,t){this.childAt(0).setShape("points",e.getItemLayout(t))},o.inherits(r,n.Group),e.exports=r},15035:function(e,t,i){var n=i(40628),o=i(34550).createSymbol,r=i(62429),s=i(14785).parsePercent,a=i(17205).getDefaultLabel;function l(e,t,i){r.Group.call(this),this.updateData(e,t,i)}var c=l.prototype,h=l.getSymbolSize=function(e,t){var i=e.getItemVisual(t,"symbolSize");return i instanceof Array?i.slice():[+i,+i]};function u(e){return[e[0]/2,e[1]/2]}function d(e,t){this.parent.drift(e,t)}c._createSymbol=function(e,t,i,n,r){this.removeAll();var s=t.getItemVisual(i,"color"),a=o(e,-1,-1,2,2,s,r);a.attr({z2:100,culling:!0,scale:u(n)}),a.drift=d,this._symbolType=e,this.add(a)},c.stopSymbolAnimation=function(e){this.childAt(0).stopAnimation(e)},c.getSymbolPath=function(){return this.childAt(0)},c.getScale=function(){return this.childAt(0).scale},c.highlight=function(){this.childAt(0).trigger("emphasis")},c.downplay=function(){this.childAt(0).trigger("normal")},c.setZ=function(e,t){var i=this.childAt(0);i.zlevel=e,i.z=t},c.setDraggable=function(e){var t=this.childAt(0);t.draggable=e,t.cursor=e?"move":t.cursor},c.updateData=function(e,t,i){this.silent=!1;var n=e.getItemVisual(t,"symbol")||"circle",o=e.hostModel,s=h(e,t),a=n!==this._symbolType;if(a){var l=e.getItemVisual(t,"symbolKeepAspect");this._createSymbol(n,e,t,s,l)}else(c=this.childAt(0)).silent=!1,r.updateProps(c,{scale:u(s)},o,t);if(this._updateCommon(e,t,s,i),a){var c=this.childAt(0),d=i&&i.fadeIn,p={scale:c.scale.slice()};d&&(p.style={opacity:c.style.opacity}),c.scale=[0,0],d&&(c.style.opacity=0),r.initProps(c,p,o,t)}this._seriesModel=o};var p=["itemStyle"],g=["emphasis","itemStyle"],f=["label"],m=["emphasis","label"];function _(e,t){if(!this.incremental&&!this.useHoverLayer)if("emphasis"===t){var i=this.__symbolOriginalScale,n=i[1]/i[0],o={scale:[Math.max(1.1*i[0],i[0]+3),Math.max(1.1*i[1],i[1]+3*n)]};this.animateTo(o,400,"elasticOut")}else"normal"===t&&this.animateTo({scale:this.__symbolOriginalScale},400,"elasticOut")}c._updateCommon=function(e,t,i,o){var l=this.childAt(0),c=e.hostModel,h=e.getItemVisual(t,"color");"image"!==l.type?l.useStyle({strokeNoScale:!0}):l.setStyle({opacity:1,shadowBlur:null,shadowOffsetX:null,shadowOffsetY:null,shadowColor:null});var d=o&&o.itemStyle,v=o&&o.hoverItemStyle,y=o&&o.symbolOffset,b=o&&o.labelModel,w=o&&o.hoverLabelModel,A=o&&o.hoverAnimation,x=o&&o.cursorStyle;if(!o||e.hasItemOption){var T=o&&o.itemModel?o.itemModel:e.getItemModel(t);d=T.getModel(p).getItemStyle(["color"]),v=T.getModel(g).getItemStyle(),y=T.getShallow("symbolOffset"),b=T.getModel(f),w=T.getModel(m),A=T.getShallow("hoverAnimation"),x=T.getShallow("cursor")}else v=n.extend({},v);var C=l.style,Z=e.getItemVisual(t,"symbolRotate");l.attr("rotation",(Z||0)*Math.PI/180||0),y&&l.attr("position",[s(y[0],i[0]),s(y[1],i[1])]),x&&l.attr("cursor",x),l.setColor(h,o&&o.symbolInnerColor),l.setStyle(d);var k=e.getItemVisual(t,"opacity");null!=k&&(C.opacity=k);var S=e.getItemVisual(t,"liftZ"),E=l.__z2Origin;null!=S?null==E&&(l.__z2Origin=l.z2,l.z2+=S):null!=E&&(l.z2=E,l.__z2Origin=null);var M=o&&o.useNameLabel;r.setLabelStyle(C,v,b,w,{labelFetcher:c,labelDataIndex:t,defaultText:function(t,i){return M?e.getName(t):a(e,t)},isRectText:!0,autoColor:h}),l.__symbolOriginalScale=u(i),l.hoverStyle=v,l.highDownOnUpdate=A&&c.isAnimationEnabled()?_:null,r.setHoverStyle(l)},c.fadeOut=function(e,t){var i=this.childAt(0);this.silent=i.silent=!0,!(t&&t.keepLabel)&&(i.style.text=null),r.updateProps(i,{style:{opacity:0},scale:[0,0]},this._seriesModel,this.dataIndex,e)},n.inherits(l,r.Group),e.exports=l},16327:function(e,t,i){var n=i(62429),o=i(15035),r=i(40628).isObject;function s(e){this.group=new n.Group,this._symbolCtor=e||o}var a=s.prototype;function l(e,t,i,n){return t&&!isNaN(t[0])&&!isNaN(t[1])&&!(n.isIgnore&&n.isIgnore(i))&&!(n.clipShape&&!n.clipShape.contain(t[0],t[1]))&&"none"!==e.getItemVisual(i,"symbol")}function c(e){return null!=e&&!r(e)&&(e={isIgnore:e}),e||{}}function h(e){var t=e.hostModel;return{itemStyle:t.getModel("itemStyle").getItemStyle(["color"]),hoverItemStyle:t.getModel("emphasis.itemStyle").getItemStyle(),symbolRotate:t.get("symbolRotate"),symbolOffset:t.get("symbolOffset"),hoverAnimation:t.get("hoverAnimation"),labelModel:t.getModel("label"),hoverLabelModel:t.getModel("emphasis.label"),cursorStyle:t.get("cursor")}}a.updateData=function(e,t){t=c(t);var i=this.group,o=e.hostModel,r=this._data,s=this._symbolCtor,a=h(e);r||i.removeAll(),e.diff(r).add(function(n){var o=e.getItemLayout(n);if(l(e,o,n,t)){var r=new s(e,n,a);r.attr("position",o),e.setItemGraphicEl(n,r),i.add(r)}}).update(function(c,h){var u=r.getItemGraphicEl(h),d=e.getItemLayout(c);l(e,d,c,t)?(u?(u.updateData(e,c,a),n.updateProps(u,{position:d},o)):(u=new s(e,c)).attr("position",d),i.add(u),e.setItemGraphicEl(c,u)):i.remove(u)}).remove(function(e){var t=r.getItemGraphicEl(e);t&&t.fadeOut(function(){i.remove(t)})}).execute(),this._data=e},a.isPersistent=function(){return!0},a.updateLayout=function(){var e=this._data;e&&e.eachItemGraphicEl(function(t,i){var n=e.getItemLayout(i);t.attr("position",n)})},a.incrementalPrepareUpdate=function(e){this._seriesScope=h(e),this._data=null,this.group.removeAll()},a.incrementalUpdate=function(e,t,i){function n(e){e.isGroup||(e.incremental=e.useHoverLayer=!0)}i=c(i);for(var o=e.start;o<e.end;o++){var r=t.getItemLayout(o);if(l(t,r,o,i)){var s=new this._symbolCtor(t,o,this._seriesScope);s.traverse(n),s.attr("position",r),this.group.add(s),t.setItemGraphicEl(o,s)}}},a.remove=function(e){var t=this.group,i=this._data;i&&e?i.eachItemGraphicEl(function(e){e.fadeOut(function(){t.remove(e)})}):t.removeAll()},e.exports=s},68563:function(e,t,i){var n=i(62429),o=i(14785).round;function r(e,t,i){var o=e.getArea(),r=e.getBaseAxis().isHorizontal(),s=o.x,a=o.y,l=o.width,c=o.height,h=i.get("lineStyle.width")||2;s-=h/2,a-=h/2,l+=h,c+=h,s=Math.floor(s),l=Math.round(l);var u=new n.Rect({shape:{x:s,y:a,width:l,height:c}});return t&&(u.shape[r?"width":"height"]=0,n.initProps(u,{shape:{width:l,height:c}},i)),u}function s(e,t,i){var r=e.getArea(),s=new n.Sector({shape:{cx:o(e.cx,1),cy:o(e.cy,1),r0:o(r.r0,1),r:o(r.r,1),startAngle:r.startAngle,endAngle:r.endAngle,clockwise:r.clockwise}});return t&&(s.shape.endAngle=r.startAngle,n.initProps(s,{shape:{endAngle:r.endAngle}},i)),s}t.createGridClipPath=r,t.createPolarClipPath=s,t.createClipPath=function(e,t,i){return e?"polar"===e.type?s(e,t,i):"cartesian2d"===e.type?r(e,t,i):null:null}},481:function(e,t,i){var n=i(40628),o=i(84497),r=i(45297),s=i(53756),a=i(79178),l=i(3387),c=i(52461);e.exports=function(e,t,i,h,u){for(var d=new r(h),p=0;p<e.length;p++)d.addNode(n.retrieve(e[p].id,e[p].name,p),p);var g=[],f=[],m=0;for(p=0;p<t.length;p++){var _=t[p],v=_.source,y=_.target;d.addEdge(v,y,m)&&(f.push(_),g.push(n.retrieve(_.id,v+" > "+y)),m++)}var b,w=i.get("coordinateSystem");if("cartesian2d"===w||"polar"===w)b=c(e,i);else{var A=l.get(w),x=A&&"view"!==A.type&&A.dimensions||[];n.indexOf(x,"value")<0&&x.concat(["value"]);var T=a(e,{coordDimensions:x});(b=new o(T,i)).initData(e)}var C=new o(["value"],i);return C.initData(f,g),u&&u(b,C),s({mainData:b,struct:d,structAttr:"graph",datas:{node:b,edge:C},datasAttr:{node:"data",edge:"edgeData"}}),d.update(),d}},52461:function(e,t,i){var n=i(40628),o=i(84497),r=i(79178),s=i(2181).SOURCE_FORMAT_ORIGINAL,a=i(91577).getDimensionTypeByAxis,l=i(91266).getDataItemValue,c=i(3387),h=i(7321).getCoordSysInfoBySeries,u=i(37079),d=i(50143).enableDataStack,p=i(26153).makeSeriesEncodeForAxisCoordSys;e.exports=function(e,t,i){i=i||{},u.isInstance(e)||(e=u.seriesDataToSource(e));var g,f=t.get("coordinateSystem"),m=c.get(f),_=h(t);_&&(g=n.map(_.coordSysDims,function(e){var t={name:e},i=_.axisMap.get(e);if(i){var n=i.get("type");t.type=a(n)}return t})),g||(g=m&&(m.getDimensionsInfo?m.getDimensionsInfo():m.dimensions.slice())||["x","y"]);var v,y,b=r(e,{coordDimensions:g,generateCoord:i.generateCoord,encodeDefaulter:i.useEncodeDefaulter?n.curry(p,g,t):null});_&&n.each(b,function(e,t){var i=_.categoryAxisMap.get(e.coordDim);i&&(null==v&&(v=t),e.ordinalMeta=i.getOrdinalMeta()),null!=e.otherDims.itemName&&(y=!0)}),!y&&null!=v&&(b[v].otherDims.itemName=0);var w=d(t,b),A=new o(b,t);A.setCalculationInfo(w);var x=null!=v&&function(e){if(e.sourceFormat===s){var t=function(e){for(var t=0;t<e.length&&null==e[t];)t++;return e[t]}(e.data||[]);return null!=t&&!n.isArray(l(t))}}(e)?function(e,t,i,n){return n===v?i:this.defaultDimValueGetter(e,t,i,n)}:null;return A.hasItemOption=!1,A.initData(e,null,x),A}},24967:function(e,t,i){var n=i(79178),o=i(84497),r=i(40628),s=r.extend,a=r.isArray;e.exports=function(e,t,i){t=a(t)&&{coordDimensions:t}||s({},t);var r=e.getSource(),l=n(r,t),c=new o(l,e);return c.initData(r,i),c}},15103:function(e,t,i){var n=i(91266).makeInner;e.exports=function(){var e=n();return function(t){var i=e(t),n=t.pipelineContext,o=i.large,r=i.progressiveRender,s=i.large=n&&n.large,a=i.progressiveRender=n&&n.progressiveRender;return!!(o^s||r^a)&&"reset"}}},35693:function(e,t,i){var n=i(90650);n.registerAction({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series:focusNodeAdjacency"},function(){}),n.registerAction({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series:unfocusNodeAdjacency"},function(){})},17205:function(e,t,i){var n=i(56153).retrieveRawValue;t.getDefaultLabel=function(e,t){var i=e.mapDimension("defaultedLabel",!0),o=i.length;if(1===o)return n(e,t,i[0]);if(o){for(var r=[],s=0;s<i.length;s++){var a=n(e,t,i[s]);r.push(a)}return r.join(" ")}}},86096:function(e,t,i){var n=i(40628),o="--\x3e",r=function(e){return e.get("autoCurveness")||null},s=function(e,t){var i=r(e),o=20,s=[];if("number"==typeof i)o=i;else if(n.isArray(i))return void(e.__curvenessList=i);t>o&&(o=t);var a=o%2?o+2:o+3;s=[];for(var l=0;l<a;l++)s.push((l%2?l+1:l)/10*(l%2?-1:1));e.__curvenessList=s},a=function(e,t,i){var n=[e.id,e.dataIndex].join("."),r=[t.id,t.dataIndex].join(".");return[i.uid,n,r].join(o)},l=function(e){var t=e.split(o);return[t[0],t[2],t[1]].join(o)},c=function(e,t){var i=t.__edgeMap;return i[e]?i[e].length:0};t.initCurvenessList=function(e){!r(e)||(e.__curvenessList=[],e.__edgeMap={},s(e))},t.createEdgeMapForCurveness=function(e,t,i,n){if(r(i)){var o=a(e,t,i),s=i.__edgeMap,c=s[l(o)];s[o]&&!c?s[o].isForward=!0:c&&s[o]&&(c.isForward=!0,s[o].isForward=!1),s[o]=s[o]||[],s[o].push(n)}},t.getCurvenessForEdge=function(e,t,i,o){var h=r(t),u=n.isArray(h);if(!h)return null;var d=function(e,t){var i=a(e.node1,e.node2,t);return t.__edgeMap[i]}(e,t);if(!d)return null;for(var p=-1,g=0;g<d.length;g++)if(d[g]===i){p=g;break}var f=function(e,t){return c(a(e.node1,e.node2,t),t)+c(a(e.node2,e.node1,t),t)}(e,t);s(t,f),e.lineStyle=e.lineStyle||{};var m=a(e.node1,e.node2,t),_=t.__curvenessList,v=u||f%2?0:1;if(d.isForward)return _[v+p];var y=l(m),b=c(y,t),w=_[p+b+v];return o?u?h&&0===h[0]?(b+v)%2?w:-w:((b%2?0:1)+v)%2?w:-w:(b+v)%2?w:-w:_[p+b+v]}},29658:function(e,t,i){var n=i(40628);function o(e){for(var t=[];e;)(e=e.parentNode)&&t.push(e);return t.reverse()}t.retrieveTargetInfo=function(e,t,i){if(e&&n.indexOf(t,e.type)>=0){var o=i.getData().tree.root,r=e.targetNode;if("string"==typeof r&&(r=o.getNodeById(r)),r&&o.contains(r))return{node:r};var s=e.targetNodeId;if(null!=s&&(r=o.getNodeById(s)))return{node:r}}},t.getPathToRoot=o,t.aboveViewRoot=function(e,t){var i=o(e);return n.indexOf(i,t)>=0},t.wrapTreePathInfo=function(e,t){for(var i=[];e;){var n=e.dataIndex;i.push({name:e.name,dataIndex:n,value:t.getRawValue(n)}),e=e.parentNode}return i.reverse(),i}},79847:function(e,t,i){var n=i(24967),o=i(40628),r=i(91577).getDimensionTypeByAxis,s=i(26153).makeSeriesEncodeForAxisCoordSys;t.seriesModelMixin={_baseAxisDim:null,getInitialData:function(e,t){var i,a,l=t.getComponent("xAxis",this.get("xAxisIndex")),c=t.getComponent("yAxis",this.get("yAxisIndex")),h=l.get("type"),u=c.get("type");"category"===h?(e.layout="horizontal",i=l.getOrdinalMeta(),a=!0):"category"===u?(e.layout="vertical",i=c.getOrdinalMeta(),a=!0):e.layout=e.layout||"horizontal";var d=["x","y"],p="horizontal"===e.layout?0:1,g=this._baseAxisDim=d[p],f=d[1-p],m=[l,c],_=m[p].get("type"),v=m[1-p].get("type"),y=e.data;if(y&&a){var b=[];o.each(y,function(e,t){var i;e.value&&o.isArray(e.value)?(i=e.value.slice(),e.value.unshift(t)):o.isArray(e)?(i=e.slice(),e.unshift(t)):i=e,b.push(i)}),e.data=b}var w=this.defaultValueDimensions,A=[{name:g,type:r(_),ordinalMeta:i,otherDims:{tooltip:!1,itemName:0},dimsDef:["base"]},{name:f,type:r(v),dimsDef:w.slice()}];return n(this,{coordDimensions:A,dimensionsCount:w.length+1,encodeDefaulter:o.curry(s,A,this)})},getBaseAxis:function(){var e=this._baseAxisDim;return this.ecModel.getComponent(e+"Axis",this.get(e+"AxisIndex")).axis}}},63211:function(e,t,i){var n=i(90650);i(60288),i(31754);var o=i(6660),r=i(12588),s=i(30345);i(24657),n.registerVisual(o("line","circle","line")),n.registerLayout(r("line")),n.registerProcessor(n.PRIORITY.PROCESSOR.STATISTIC,s("line"))},60288:function(e,t,i){i(59963);var n=i(52461),o=i(29521).extend({type:"series.line",dependencies:["grid","polar"],getInitialData:function(e,t){return n(this.getSource(),this,{useEncodeDefaulter:!0})},defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,clip:!0,label:{position:"top"},lineStyle:{width:2,type:"solid"},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0}});e.exports=o},31754:function(e,t,i){i(59963);var n=i(40628),o=i(99110).fromPoints,r=i(16327),s=i(15035),a=i(92535),l=i(62429),c=i(91266),h=i(98835),u=h.Polyline,d=h.Polygon,p=i(31005),g=i(9053),f=g.prepareDataCoordInfo,m=g.getStackedOnPoint,_=i(68563),v=_.createGridClipPath,y=_.createPolarClipPath;function b(e,t){if(e.length===t.length){for(var i=0;i<e.length;i++){var n=e[i],o=t[i];if(n[0]!==o[0]||n[1]!==o[1])return}return!0}}function w(e,t){var i=[],n=[],r=[],s=[];return o(e,i,n),o(t,r,s),Math.max(Math.abs(i[0]-r[0]),Math.abs(i[1]-r[1]),Math.abs(n[0]-s[0]),Math.abs(n[1]-s[1]))}function A(e){return"number"==typeof e?e:e?.5:0}function x(e,t,i){for(var n=t.getBaseAxis(),o="x"===n.dim||"radius"===n.dim?0:1,r=[],s=0;s<e.length-1;s++){var a=e[s+1],l=e[s];r.push(l);var c=[];switch(i){case"end":c[o]=a[o],c[1-o]=l[1-o],r.push(c);break;case"middle":var h=[];c[o]=h[o]=(l[o]+a[o])/2,c[1-o]=l[1-o],h[1-o]=a[1-o],r.push(c),r.push(h);break;default:c[o]=l[o],c[1-o]=a[1-o],r.push(c)}}return e[s]&&r.push(e[s]),r}function T(e,t,i){if("cartesian2d"===e.type){var n=e.getBaseAxis().isHorizontal(),o=v(e,t,i);if(!i.get("clip",!0)){var r=o.shape,s=Math.max(r.width,r.height);n?(r.y-=s,r.height+=2*s):(r.x-=s,r.width+=2*s)}return o}return y(e,t,i)}var C=p.extend({type:"line",init:function(){var e=new l.Group,t=new r;this.group.add(t.group),this._symbolDraw=t,this._lineGroup=e},render:function(e,t,i){var o=e.coordinateSystem,r=this.group,a=e.getData(),c=e.getModel("lineStyle"),h=e.getModel("areaStyle"),u=a.mapArray(a.getItemLayout),d="polar"===o.type,p=this._coordSys,g=this._symbolDraw,_=this._polyline,v=this._polygon,y=this._lineGroup,w=e.get("animation"),C=!h.isEmpty(),Z=h.get("origin"),k=function(e,t,i){if(!i.valueDim)return[];for(var n=[],o=0,r=t.count();o<r;o++)n.push(m(i,e,t,o));return n}(o,a,f(o,a,Z)),S=e.get("showSymbol"),E=S&&!d&&function(e,t,i){var o=e.get("showAllSymbol"),r="auto"===o;if(!o||r){var a=i.getAxesByScale("ordinal")[0];if(a&&(!r||!function(e,t){var i=e.getExtent(),n=Math.abs(i[1]-i[0])/e.scale.count();isNaN(n)&&(n=0);for(var o=t.count(),r=Math.max(1,Math.round(o/5)),a=0;a<o;a+=r)if(1.5*s.getSymbolSize(t,a)[e.isHorizontal()?1:0]>n)return!1;return!0}(a,t))){var l=t.mapDimension(a.dim),c={};return n.each(a.getViewLabels(),function(e){c[e.tickValue]=1}),function(e){return!c.hasOwnProperty(t.get(l,e))}}}}(e,a,o),M=this._data;M&&M.eachItemGraphicEl(function(e,t){e.__temp&&(r.remove(e),M.setItemGraphicEl(t,null))}),S||g.remove(),r.add(y);var O,I=!d&&e.get("step");o&&o.getArea&&e.get("clip",!0)&&(null!=(O=o.getArea()).width?(O.x-=.1,O.y-=.1,O.width+=.2,O.height+=.2):O.r0&&(O.r0-=.5,O.r1+=.5)),this._clipShapeForSymbol=O,_&&p.type===o.type&&I===this._step?(C&&!v?v=this._newPolygon(u,k,o,w):v&&!C&&(y.remove(v),v=this._polygon=null),y.setClipPath(T(o,!1,e)),S&&g.updateData(a,{isIgnore:E,clipShape:O}),a.eachItemGraphicEl(function(e){e.stopAnimation(!0)}),(!b(this._stackedOnPoints,k)||!b(this._points,u))&&(w?this._updateAnimation(a,k,o,i,I,Z):(I&&(u=x(u,o,I),k=x(k,o,I)),_.setShape({points:u}),v&&v.setShape({points:u,stackedOnPoints:k})))):(S&&g.updateData(a,{isIgnore:E,clipShape:O}),I&&(u=x(u,o,I),k=x(k,o,I)),_=this._newPolyline(u,o,w),C&&(v=this._newPolygon(u,k,o,w)),y.setClipPath(T(o,!0,e)));var P=function(e,t){var i=e.getVisual("visualMeta");if(i&&i.length&&e.count()&&"cartesian2d"===t.type){for(var o,r,s=i.length-1;s>=0;s--){var a=e.getDimensionInfo(e.dimensions[i[s].dimension]);if("x"===(o=a&&a.coordDim)||"y"===o){r=i[s];break}}if(r){var c=t.getAxis(o),h=n.map(r.stops,function(e){return{coord:c.toGlobalCoord(c.dataToCoord(e.value)),color:e.color}}),u=h.length,d=r.outerColors.slice();u&&h[0].coord>h[u-1].coord&&(h.reverse(),d.reverse());var p=h[0].coord-10,g=h[u-1].coord+10,f=g-p;if(f<.001)return"transparent";n.each(h,function(e){e.offset=(e.coord-p)/f}),h.push({offset:u?h[u-1].offset:.5,color:d[1]||"transparent"}),h.unshift({offset:u?h[0].offset:.5,color:d[0]||"transparent"});var m=new l.LinearGradient(0,0,0,0,h,!0);return m[o]=p,m[o+"2"]=g,m}}}(a,o)||a.getVisual("color");_.useStyle(n.defaults(c.getLineStyle(),{fill:"none",stroke:P,lineJoin:"bevel"}));var R=e.get("smooth");if(R=A(e.get("smooth")),_.setShape({smooth:R,smoothMonotone:e.get("smoothMonotone"),connectNulls:e.get("connectNulls")}),v){var q=a.getCalculationInfo("stackedOnSeries"),L=0;v.useStyle(n.defaults(h.getAreaStyle(),{fill:P,opacity:.7,lineJoin:"bevel"})),q&&(L=A(q.get("smooth"))),v.setShape({smooth:R,stackedOnSmooth:L,smoothMonotone:e.get("smoothMonotone"),connectNulls:e.get("connectNulls")})}this._data=a,this._coordSys=o,this._stackedOnPoints=k,this._points=u,this._step=I,this._valueOrigin=Z},dispose:function(){},highlight:function(e,t,i,n){var o=e.getData(),r=c.queryDataIndex(o,n);if(!(r instanceof Array)&&null!=r&&r>=0){var a=o.getItemGraphicEl(r);if(!a){var l=o.getItemLayout(r);if(!l||this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(l[0],l[1]))return;(a=new s(o,r)).position=l,a.setZ(e.get("zlevel"),e.get("z")),a.ignore=isNaN(l[0])||isNaN(l[1]),a.__temp=!0,o.setItemGraphicEl(r,a),a.stopSymbolAnimation(!0),this.group.add(a)}a.highlight()}else p.prototype.highlight.call(this,e,t,i,n)},downplay:function(e,t,i,n){var o=e.getData(),r=c.queryDataIndex(o,n);if(null!=r&&r>=0){var s=o.getItemGraphicEl(r);s&&(s.__temp?(o.setItemGraphicEl(r,null),this.group.remove(s)):s.downplay())}else p.prototype.downplay.call(this,e,t,i,n)},_newPolyline:function(e){var t=this._polyline;return t&&this._lineGroup.remove(t),t=new u({shape:{points:e},silent:!0,z2:10}),this._lineGroup.add(t),this._polyline=t,t},_newPolygon:function(e,t){var i=this._polygon;return i&&this._lineGroup.remove(i),i=new d({shape:{points:e,stackedOnPoints:t},silent:!0}),this._lineGroup.add(i),this._polygon=i,i},_updateAnimation:function(e,t,i,n,o,r){var s=this._polyline,c=this._polygon,h=e.hostModel,u=a(this._data,e,this._stackedOnPoints,t,this._coordSys,i,this._valueOrigin,r),d=u.current,p=u.stackedOnCurrent,g=u.next,f=u.stackedOnNext;if(o&&(d=x(u.current,i,o),p=x(u.stackedOnCurrent,i,o),g=x(u.next,i,o),f=x(u.stackedOnNext,i,o)),w(d,g)>3e3||c&&w(p,f)>3e3)return s.setShape({points:g}),void(c&&c.setShape({points:g,stackedOnPoints:f}));s.shape.__points=u.current,s.shape.points=d,l.updateProps(s,{shape:{points:g}},h),c&&(c.setShape({points:d,stackedOnPoints:p}),l.updateProps(c,{shape:{points:g,stackedOnPoints:f}},h));for(var m=[],_=u.status,v=0;v<_.length;v++)if("="===_[v].cmd){var y=e.getItemGraphicEl(_[v].idx1);y&&m.push({el:y,ptIdx:v})}s.animators&&s.animators.length&&s.animators[0].during(function(){for(var e=0;e<m.length;e++)m[e].el.attr("position",s.shape.__points[m[e].ptIdx])})},remove:function(e){var t=this.group,i=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),i&&i.eachItemGraphicEl(function(e,n){e.__temp&&(t.remove(e),i.setItemGraphicEl(n,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._data=null}});e.exports=C},9053:function(e,t,i){var n=i(50143).isDimensionStacked,o=i(40628).map;t.prepareDataCoordInfo=function(e,t,i){var r,s=e.getBaseAxis(),a=e.getOtherAxis(s),l=function(e,t){var i=0,n=e.scale.getExtent();return"start"===t?i=n[0]:"end"===t?i=n[1]:n[0]>0?i=n[0]:n[1]<0&&(i=n[1]),i}(a,i),c=s.dim,h=a.dim,u=t.mapDimension(h),d=t.mapDimension(c),p="x"===h||"radius"===h?1:0,g=o(e.dimensions,function(e){return t.mapDimension(e)}),f=t.getCalculationInfo("stackResultDimension");return(r|=n(t,g[0]))&&(g[0]=f),(r|=n(t,g[1]))&&(g[1]=f),{dataDimsForPoint:g,valueStart:l,valueAxisDim:h,baseAxisDim:c,stacked:!!r,valueDim:u,baseDim:d,baseDataOffset:p,stackedOverDimension:t.getCalculationInfo("stackedOverDimension")}},t.getStackedOnPoint=function(e,t,i,n){var o=NaN;e.stacked&&(o=i.get(i.getCalculationInfo("stackedOverDimension"),n)),isNaN(o)&&(o=e.valueStart);var r=e.baseDataOffset,s=[];return s[r]=i.get(e.baseDim,n),s[1-r]=o,t.dataToPoint(s)}},92535:function(e,t,i){var n=i(9053),o=n.prepareDataCoordInfo,r=n.getStackedOnPoint;e.exports=function(e,t,i,n,s,a,l,c){for(var h=function(e,t){var i=[];return t.diff(e).add(function(e){i.push({cmd:"+",idx:e})}).update(function(e,t){i.push({cmd:"=",idx:t,idx1:e})}).remove(function(e){i.push({cmd:"-",idx:e})}).execute(),i}(e,t),u=[],d=[],p=[],g=[],f=[],m=[],_=[],v=o(s,t,l),y=o(a,e,c),b=0;b<h.length;b++){var w=h[b],A=!0;switch(w.cmd){case"=":var x=e.getItemLayout(w.idx),T=t.getItemLayout(w.idx1);(isNaN(x[0])||isNaN(x[1]))&&(x=T.slice()),u.push(x),d.push(T),p.push(i[w.idx]),g.push(n[w.idx1]),_.push(t.getRawIndex(w.idx1));break;case"+":u.push(s.dataToPoint([t.get(v.dataDimsForPoint[0],O=w.idx),t.get(v.dataDimsForPoint[1],O)])),d.push(t.getItemLayout(O).slice()),p.push(r(v,s,t,O)),g.push(n[O]),_.push(t.getRawIndex(O));break;case"-":var C=e.getRawIndex(O=w.idx);C!==O?(u.push(e.getItemLayout(O)),d.push(a.dataToPoint([e.get(y.dataDimsForPoint[0],O),e.get(y.dataDimsForPoint[1],O)])),p.push(i[O]),g.push(r(y,a,e,O)),_.push(C)):A=!1}A&&(f.push(w),m.push(m.length))}m.sort(function(e,t){return _[e]-_[t]});var Z=[],k=[],S=[],E=[],M=[];for(b=0;b<m.length;b++){var O;Z[b]=u[O=m[b]],k[b]=d[O],S[b]=p[O],E[b]=g[O],M[b]=f[O]}return{current:Z,next:k,stackedOnCurrent:S,stackedOnNext:E,status:M}}},98835:function(e,t,i){var n=i(1419),o=i(98221),r=i(11326),s=o.min,a=o.max,l=o.scaleAndAdd,c=o.copy,h=[],u=[],d=[];function p(e){return isNaN(e[0])||isNaN(e[1])}function g(e,t,i,n,o,r,s,a,l,c,h){return"none"!==c&&c?f.apply(this,arguments):m.apply(this,arguments)}function f(e,t,i,n,o,r,s,a,l,h,g){for(var f=0,m=i,_=0;_<n;_++){var v=t[m];if(m>=o||m<0)break;if(p(v)){if(g){m+=r;continue}break}if(m===i)e[r>0?"moveTo":"lineTo"](v[0],v[1]);else if(l>0){var y=t[f],b="y"===h?1:0,w=(v[b]-y[b])*l;c(u,y),u[b]=y[b]+w,c(d,v),d[b]=v[b]-w,e.bezierCurveTo(u[0],u[1],d[0],d[1],v[0],v[1])}else e.lineTo(v[0],v[1]);f=m,m+=r}return _}function m(e,t,i,n,r,g,f,m,_,v,y){for(var b=0,w=i,A=0;A<n;A++){var x=t[w];if(w>=r||w<0)break;if(p(x)){if(y){w+=g;continue}break}if(w===i)e[g>0?"moveTo":"lineTo"](x[0],x[1]),c(u,x);else if(_>0){var T=w+g,C=t[T];if(y)for(;C&&p(t[T]);)C=t[T+=g];var Z=.5,k=t[b];if(!(C=t[T])||p(C))c(d,x);else{var S,E;if(p(C)&&!y&&(C=x),o.sub(h,C,k),"x"===v||"y"===v){var M="x"===v?0:1;S=Math.abs(x[M]-k[M]),E=Math.abs(x[M]-C[M])}else S=o.dist(x,k),E=o.dist(x,C);l(d,x,h,-_*(1-(Z=E/(E+S))))}s(u,u,m),a(u,u,f),s(d,d,m),a(d,d,f),e.bezierCurveTo(u[0],u[1],d[0],d[1],x[0],x[1]),l(u,x,h,_*Z)}else e.lineTo(x[0],x[1]);b=w,w+=g}return A}function _(e,t){var i=[1/0,1/0],n=[-1/0,-1/0];if(t)for(var o=0;o<e.length;o++){var r=e[o];r[0]<i[0]&&(i[0]=r[0]),r[1]<i[1]&&(i[1]=r[1]),r[0]>n[0]&&(n[0]=r[0]),r[1]>n[1]&&(n[1]=r[1])}return{min:t?i:n,max:t?n:i}}var v=n.extend({type:"ec-polyline",shape:{points:[],smooth:0,smoothConstraint:!0,smoothMonotone:null,connectNulls:!1},style:{fill:null,stroke:"#000"},brush:r(n.prototype.brush),buildPath:function(e,t){var i=t.points,n=0,o=i.length,r=_(i,t.smoothConstraint);if(t.connectNulls){for(;o>0&&p(i[o-1]);o--);for(;n<o&&p(i[n]);n++);}for(;n<o;)n+=g(e,i,n,o,o,1,r.min,r.max,t.smooth,t.smoothMonotone,t.connectNulls)+1}}),y=n.extend({type:"ec-polygon",shape:{points:[],stackedOnPoints:[],smooth:0,stackedOnSmooth:0,smoothConstraint:!0,smoothMonotone:null,connectNulls:!1},brush:r(n.prototype.brush),buildPath:function(e,t){var i=t.points,n=t.stackedOnPoints,o=0,r=i.length,s=t.smoothMonotone,a=_(i,t.smoothConstraint),l=_(n,t.smoothConstraint);if(t.connectNulls){for(;r>0&&p(i[r-1]);r--);for(;o<r&&p(i[o]);o++);}for(;o<r;){var c=g(e,i,o,r,r,1,a.min,a.max,t.smooth,s,t.connectNulls);g(e,n,o+c-1,c,r,-1,l.min,l.max,t.stackedOnSmooth,s,t.connectNulls),o+=c+1,e.closePath()}}});t.Polyline=v,t.Polygon=y},4454:function(e,t,i){var n=i(90650);i(20663),i(58122);var o=i(72104),r=i(14160);n.registerLayout(o),n.registerVisual(r)},20663:function(e,t,i){i(59963);var n=i(29521),o=i(84497),r=i(40628),s=r.concatArray,a=r.mergeAll,l=r.map,c=i(99706).encodeHTML,h=(i(3387),"undefined"==typeof Uint32Array?Array:Uint32Array),u="undefined"==typeof Float64Array?Array:Float64Array;function d(e){var t=e.data;t&&t[0]&&t[0][0]&&t[0][0].coord&&(e.data=l(t,function(e){var t={coords:[e[0].coord,e[1].coord]};return e[0].name&&(t.fromName=e[0].name),e[1].name&&(t.toName=e[1].name),a([t,e[0],e[1]])}))}var p=n.extend({type:"series.lines",dependencies:["grid","polar"],visualColorAccessPath:"lineStyle.color",init:function(e){e.data=e.data||[],d(e);var t=this._processFlatCoordsArray(e.data);this._flatCoords=t.flatCoords,this._flatCoordsOffset=t.flatCoordsOffset,t.flatCoords&&(e.data=new Float32Array(t.count)),p.superApply(this,"init",arguments)},mergeOption:function(e){if(d(e),e.data){var t=this._processFlatCoordsArray(e.data);this._flatCoords=t.flatCoords,this._flatCoordsOffset=t.flatCoordsOffset,t.flatCoords&&(e.data=new Float32Array(t.count))}p.superApply(this,"mergeOption",arguments)},appendData:function(e){var t=this._processFlatCoordsArray(e.data);t.flatCoords&&(this._flatCoords?(this._flatCoords=s(this._flatCoords,t.flatCoords),this._flatCoordsOffset=s(this._flatCoordsOffset,t.flatCoordsOffset)):(this._flatCoords=t.flatCoords,this._flatCoordsOffset=t.flatCoordsOffset),e.data=new Float32Array(t.count)),this.getRawData().appendData(e.data)},_getCoordsFromItemModel:function(e){var t=this.getData().getItemModel(e);return t.option instanceof Array?t.option:t.getShallow("coords")},getLineCoordsCount:function(e){return this._flatCoordsOffset?this._flatCoordsOffset[2*e+1]:this._getCoordsFromItemModel(e).length},getLineCoords:function(e,t){if(this._flatCoordsOffset){for(var i=this._flatCoordsOffset[2*e],n=this._flatCoordsOffset[2*e+1],o=0;o<n;o++)t[o]=t[o]||[],t[o][0]=this._flatCoords[i+2*o],t[o][1]=this._flatCoords[i+2*o+1];return n}var r=this._getCoordsFromItemModel(e);for(o=0;o<r.length;o++)t[o]=t[o]||[],t[o][0]=r[o][0],t[o][1]=r[o][1];return r.length},_processFlatCoordsArray:function(e){var t=0;if(this._flatCoords&&(t=this._flatCoords.length),"number"==typeof e[0]){for(var i=e.length,n=new h(i),o=new u(i),r=0,s=0,a=0,l=0;l<i;){a++;var c=e[l++];n[s++]=r+t,n[s++]=c;for(var d=0;d<c;d++){var p=e[l++],g=e[l++];o[r++]=p,o[r++]=g}}return{flatCoordsOffset:new Uint32Array(n.buffer,0,s),flatCoords:o,count:a}}return{flatCoordsOffset:null,flatCoords:null,count:e.length}},getInitialData:function(e,t){var i=new o(["value"],this);return i.hasItemOption=!1,i.initData(e.data,[],function(e,t,n,o){if(e instanceof Array)return NaN;i.hasItemOption=!0;var r=e.value;return null!=r?r instanceof Array?r[o]:r:void 0}),i},formatTooltip:function(e){var t=this.getData().getItemModel(e),i=t.get("name");if(i)return i;var n=t.get("fromName"),o=t.get("toName"),r=[];return null!=n&&r.push(n),null!=o&&r.push(o),c(r.join(" > "))},preventIncremental:function(){return!!this.get("effect.show")},getProgressive:function(){var e=this.option.progressive;return null==e?this.option.large?1e4:this.get("progressive"):e},getProgressiveThreshold:function(){var e=this.option.progressiveThreshold;return null==e?this.option.large?2e4:this.get("progressiveThreshold"):e},defaultOption:{coordinateSystem:"geo",zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2e3,polyline:!1,clip:!0,label:{show:!1,position:"end"},lineStyle:{opacity:.5}}});e.exports=p},58122:function(e,t,i){i(59963);var n=i(90650),o=i(61289),r=i(52787),s=i(99126),a=i(20200),l=i(61026),c=i(79841),h=i(72104),u=i(68563).createClipPath,d=n.extendChartView({type:"lines",init:function(){},render:function(e,t,i){var n=e.getData(),o=this._updateLineDraw(n,e),r=e.get("zlevel"),s=e.get("effect.trailLength"),a=i.getZr(),l="svg"===a.painter.getType();l||a.painter.getLayer(r).clear(!0),null!=this._lastZlevel&&!l&&a.configLayer(this._lastZlevel,{motionBlur:!1}),this._showEffect(e)&&s&&(l||a.configLayer(r,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(s/10+.9,1),0)})),o.updateData(n);var c=e.get("clip",!0)&&u(e.coordinateSystem,!1,e);c?this.group.setClipPath(c):this.group.removeClipPath(),this._lastZlevel=r,this._finished=!0},incrementalPrepareRender:function(e,t,i){var n=e.getData();this._updateLineDraw(n,e).incrementalPrepareUpdate(n),this._clearLayer(i),this._finished=!1},incrementalRender:function(e,t,i){this._lineDraw.incrementalUpdate(e,t.getData()),this._finished=e.end===t.getData().count()},updateTransform:function(e,t,i){var n=e.getData(),o=e.pipelineContext;if(!this._finished||o.large||o.progressiveRender)return{update:!0};var r=h.reset(e);r.progress&&r.progress({start:0,end:n.count()},n),this._lineDraw.updateLayout(),this._clearLayer(i)},_updateLineDraw:function(e,t){var i=this._lineDraw,n=this._showEffect(t),h=!!t.get("polyline"),u=t.pipelineContext.large;return(!i||n!==this._hasEffet||h!==this._isPolyline||u!==this._isLargeDraw)&&(i&&i.remove(),i=this._lineDraw=u?new c:new o(h?n?l:a:n?r:s),this._hasEffet=n,this._isPolyline=h,this._isLargeDraw=u,this.group.removeAll()),this.group.add(i.group),i},_showEffect:function(e){return!!e.get("effect.show")},_clearLayer:function(e){var t=e.getZr();"svg"!==t.painter.getType()&&null!=this._lastZlevel&&t.painter.getLayer(this._lastZlevel).clear(!0)},remove:function(e,t){this._lineDraw&&this._lineDraw.remove(),this._lineDraw=null,this._clearLayer(t)},dispose:function(){}});e.exports=d},72104:function(e,t,i){var n={seriesType:"lines",plan:i(15103)(),reset:function(e){var t=e.coordinateSystem,i=e.get("polyline"),n=e.pipelineContext.large;return{progress:function(o,r){var s=[];if(n){var a,l=o.end-o.start;if(i){for(var c=0,h=o.start;h<o.end;h++)c+=e.getLineCoordsCount(h);a=new Float32Array(l+2*c)}else a=new Float32Array(4*l);var u=0,d=[];for(h=o.start;h<o.end;h++){var p=e.getLineCoords(h,s);i&&(a[u++]=p);for(var g=0;g<p;g++)d=t.dataToPoint(s[g],!1,d),a[u++]=d[0],a[u++]=d[1]}r.setLayout("linesPoints",a)}else for(h=o.start;h<o.end;h++){var f=r.getItemModel(h),m=(p=e.getLineCoords(h,s),[]);if(i)for(var _=0;_<p;_++)m.push(t.dataToPoint(s[_]));else{m[0]=t.dataToPoint(s[0]),m[1]=t.dataToPoint(s[1]);var v=f.get("lineStyle.curveness");+v&&(m[2]=[(m[0][0]+m[1][0])/2-(m[0][1]-m[1][1])*v,(m[0][1]+m[1][1])/2-(m[1][0]-m[0][0])*v])}r.setItemLayout(h,m)}}}}};e.exports=n},14160:function(e){function t(e){return e instanceof Array||(e=[e,e]),e}var i="lineStyle.opacity".split(".");e.exports={seriesType:"lines",reset:function(e,n,o){var r=t(e.get("symbol")),s=t(e.get("symbolSize")),a=e.getData();return a.setVisual("fromSymbol",r&&r[0]),a.setVisual("toSymbol",r&&r[1]),a.setVisual("fromSymbolSize",s&&s[0]),a.setVisual("toSymbolSize",s&&s[1]),a.setVisual("opacity",e.get(i)),{dataEach:a.hasItemOption?function(e,n){var o=e.getItemModel(n),r=t(o.getShallow("symbol",!0)),s=t(o.getShallow("symbolSize",!0)),a=o.get(i);r[0]&&e.setItemVisual(n,"fromSymbol",r[0]),r[1]&&e.setItemVisual(n,"toSymbol",r[1]),s[0]&&e.setItemVisual(n,"fromSymbolSize",s[0]),s[1]&&e.setItemVisual(n,"toSymbolSize",s[1]),e.setItemVisual(n,"opacity",a)}:null}}}},55368:function(e,t,i){var n=i(90650);i(23929),i(32565),i(6979),i(31545);var o=i(65703),r=i(19637),s=i(19193),a=i(70168),l=i(32587);n.registerLayout(o),n.registerVisual(r),n.registerProcessor(n.PRIORITY.PROCESSOR.STATISTIC,s),n.registerPreprocessor(a),l("map",[{type:"mapToggleSelect",event:"mapselectchanged",method:"toggleSelected"},{type:"mapSelect",event:"mapselected",method:"select"},{type:"mapUnSelect",event:"mapunselected",method:"unSelect"}])},23929:function(e,t,i){var n=i(40628),o=i(24967),r=i(29521),s=i(99706),a=s.encodeHTML,l=s.addCommas,c=i(66624),h=i(56153).retrieveRawAttr,u=i(40751),d=i(26153).makeSeriesEncodeForNameBased,p=r.extend({type:"series.map",dependencies:["geo"],layoutMode:"box",needsDrawMap:!1,seriesGroup:[],getInitialData:function(e){for(var t=o(this,{coordDimensions:["value"],encodeDefaulter:n.curry(d,this)}),i=t.mapDimension("value"),r=n.createHashMap(),s=[],a=[],l=0,c=t.count();l<c;l++){var p=t.getName(l);r.set(p,!0),s.push({name:p,value:t.get(i,l),selected:h(t,l,"selected")})}var g=u.load(this.getMapType(),this.option.nameMap,this.option.nameProperty);return n.each(g.regions,function(e){var t=e.name;r.get(t)||(s.push({name:t}),a.push(t))}),this.updateSelectedMap(s),t.appendValues([],a),t},getHostGeoModel:function(){var e=this.option.geoIndex;return null!=e?this.dependentModels.geo[e]:null},getMapType:function(){return(this.getHostGeoModel()||this).option.map},getRawValue:function(e){var t=this.getData();return t.get(t.mapDimension("value"),e)},getRegionModel:function(e){var t=this.getData();return t.getItemModel(t.indexOfName(e))},formatTooltip:function(e,t,i,n){for(var o=this.getData(),r=l(this.getRawValue(e)),s=o.getName(e),c=this.seriesGroup,h=[],u=0;u<c.length;u++){var d=c[u].originalData.indexOfName(s),p=o.mapDimension("value");isNaN(c[u].originalData.get(p,d))||h.push(a(c[u].name))}var g="html"===n?"<br/>":"\n";return h.join(", ")+g+a(s+" : "+r)},getTooltipPosition:function(e){if(null!=e){var t=this.getData().getName(e),i=this.coordinateSystem,n=i.getRegion(t);return n&&i.dataToPoint(n.center)}},setZoom:function(e){this.option.zoom=e},setCenter:function(e){this.option.center=e},defaultOption:{zlevel:0,z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:.75,showLegendSymbol:!0,dataRangeHoverLink:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",areaColor:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{areaColor:"rgba(255,215,0,0.8)"}},nameProperty:"name"}});n.mixin(p,c),e.exports=p},32565:function(e,t,i){var n=i(90650),o=i(40628),r=i(62429),s=i(78781),a="__seriesMapHighDown",l="__seriesMapCallKey",c=n.extendChartView({type:"map",render:function(e,t,i,n){if(!n||"mapToggleSelect"!==n.type||n.from!==this.uid){var o=this.group;if(o.removeAll(),!e.getHostGeoModel()){if(n&&"geoRoam"===n.type&&"series"===n.componentType&&n.seriesId===e.id)(r=this._mapDraw)&&o.add(r.group);else if(e.needsDrawMap){var r=this._mapDraw||new s(i,!0);o.add(r.group),r.draw(e,t,i,this,n),this._mapDraw=r}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;e.get("showLegendSymbol")&&t.getComponent("legend")&&this._renderSymbols(e,t,i)}}},remove:function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},dispose:function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},_renderSymbols:function(e,t,i){var n=e.originalData,s=this.group;n.each(n.mapDimension("value"),function(t,i){if(!isNaN(t)){var c=n.getItemLayout(i);if(c&&c.point){var d=c.point,p=c.offset,g=new r.Circle({style:{fill:e.getData().getVisual("color")},shape:{cx:d[0]+9*p,cy:d[1],r:3},silent:!0,z2:8+(p?0:r.Z2_EMPHASIS_LIFT+1)});if(!p){var f=e.mainSeries.getData(),m=n.getName(i),_=f.indexOfName(m),v=n.getItemModel(i),y=v.getModel("label"),b=v.getModel("emphasis.label"),w=f.getItemGraphicEl(_),A=o.retrieve2(e.getFormattedLabel(_,"normal"),m),x=o.retrieve2(e.getFormattedLabel(_,"emphasis"),A),T=w[a],C=Math.random();if(!T){T=w[a]={};var Z=o.curry(h,!0),k=o.curry(h,!1);w.on("mouseover",Z).on("mouseout",k).on("emphasis",Z).on("normal",k)}w[l]=C,o.extend(T,{recordVersion:C,circle:g,labelModel:y,hoverLabelModel:b,emphasisText:x,normalText:A}),u(T,!1)}s.add(g)}}})}});function h(e){var t=this[a];t&&t.recordVersion===this[l]&&u(t,e)}function u(e,t){var i=e.circle,n=e.labelModel,o=e.hoverLabelModel,s=e.emphasisText,a=e.normalText;t?(i.style.extendFrom(r.setTextStyle({},o,{text:o.get("show")?s:null},{isRectText:!0,useInsideStyle:!1},!0)),i.__mapOriginalZ2=i.z2,i.z2+=r.Z2_EMPHASIS_LIFT):(r.setTextStyle(i.style,n,{text:n.get("show")?a:null,textPosition:n.getShallow("position")||"bottom"},{isRectText:!0,useInsideStyle:!1}),i.dirty(!1),null!=i.__mapOriginalZ2&&(i.z2=i.__mapOriginalZ2,i.__mapOriginalZ2=null))}e.exports=c},70168:function(e,t,i){var n=i(40628);e.exports=function(e){var t=[];n.each(e.series,function(e){e&&"map"===e.type&&(t.push(e),e.map=e.map||e.mapType,n.defaults(e,e.mapLocation))})}},19193:function(e,t,i){var n=i(40628);e.exports=function(e){var t={};e.eachSeriesByType("map",function(e){var i=e.getHostGeoModel(),n=i?"o"+i.id:"i"+e.getMapType();(t[n]=t[n]||[]).push(e)}),n.each(t,function(e,t){for(var i=function(e,t){var i={};return n.each(e,function(e){e.each(e.mapDimension("value"),function(t,n){var o="ec-"+e.getName(n);i[o]=i[o]||[],isNaN(t)||i[o].push(t)})}),e[0].map(e[0].mapDimension("value"),function(n,o){for(var r="ec-"+e[0].getName(o),s=0,a=1/0,l=-1/0,c=i[r].length,h=0;h<c;h++)a=Math.min(a,i[r][h]),l=Math.max(l,i[r][h]),s+=i[r][h];return 0===c?NaN:"min"===t?a:"max"===t?l:"average"===t?s/c:s})}(n.map(e,function(e){return e.getData()}),e[0].get("mapValueCalculation")),o=0;o<e.length;o++)e[o].originalData=e[o].getData();for(o=0;o<e.length;o++)e[o].seriesGroup=e,e[o].needsDrawMap=0===o&&!e[o].getHostGeoModel(),e[o].setData(i.cloneShallow()),e[o].mainSeries=e[0]})}},65703:function(e,t,i){var n=i(40628);e.exports=function(e){var t={};e.eachSeriesByType("map",function(i){var o=i.getMapType();if(!i.getHostGeoModel()&&!t[o]){var r={};n.each(i.seriesGroup,function(t){var i=t.coordinateSystem,n=t.originalData;t.get("showLegendSymbol")&&e.getComponent("legend")&&n.each(n.mapDimension("value"),function(e,t){var o=n.getName(t),s=i.getRegion(o);if(s&&!isNaN(e)){var a=r[o]||0,l=i.dataToPoint(s.center);r[o]=a+1,n.setItemLayout(t,{point:l,offset:a})}})});var s=i.getData();s.each(function(e){var t=s.getName(e),i=s.getItemLayout(e)||{};i.showLabel=!r[t],s.setItemLayout(e,i)}),t[o]=!0}})}},19637:function(e){e.exports=function(e){e.eachSeriesByType("map",function(e){var t=e.get("color"),i=e.getModel("itemStyle"),n=i.get("areaColor"),o=i.get("color")||t[e.seriesIndex%t.length];e.getData().setVisual({areaColor:n,color:o})})}},50651:function(e,t,i){var n=i(90650);i(44291),i(84823),i(1930);var o=i(369);n.registerVisual(o)},84823:function(e,t,i){var n=i(40628),o=n.each,r=n.createHashMap,s=i(29521),a=i(52461),l=s.extend({type:"series.parallel",dependencies:["parallel"],visualColorAccessPath:"lineStyle.color",getInitialData:function(e,t){var i=this.getSource();return function(e,t){if(!e.encodeDefine){var i=t.ecModel.getComponent("parallel",t.get("parallelIndex"));if(i){var n=e.encodeDefine=r();o(i.dimensions,function(e){var t=function(e){return+e.replace("dim","")}(e);n.set(e,t)})}}}(i,this),a(i,this)},getRawIndicesByActiveState:function(e){var t=this.coordinateSystem,i=this.getData(),n=[];return t.eachActiveState(i,function(t,o){e===t&&n.push(i.getRawIndex(o))}),n},defaultOption:{zlevel:0,z:2,coordinateSystem:"parallel",parallelIndex:0,label:{show:!1},inactiveOpacity:.05,activeOpacity:1,lineStyle:{width:1,opacity:.45,type:"solid"},emphasis:{label:{show:!1}},progressive:500,smooth:!1,animationEasing:"linear"}});e.exports=l},1930:function(e,t,i){var n=i(62429),o=i(31005).extend({type:"parallel",init:function(){this._dataGroup=new n.Group,this.group.add(this._dataGroup)},render:function(e,t,i,o){var c=this._dataGroup,h=e.getData(),u=this._data,d=e.coordinateSystem,p=d.dimensions,g=a(e);if(h.diff(u).add(function(e){l(s(h,c,e,p,d),h,e,g)}).update(function(t,i){var s=u.getItemGraphicEl(i),a=r(h,t,p,d);h.setItemGraphicEl(t,s),n.updateProps(s,{shape:{points:a}},o&&!1===o.animation?null:e,t),l(s,h,t,g)}).remove(function(e){var t=u.getItemGraphicEl(e);c.remove(t)}).execute(),!this._initialized){this._initialized=!0;var f=function(e,t,i){var o=e.model,r=e.getRect(),s=new n.Rect({shape:{x:r.x,y:r.y,width:r.width,height:r.height}}),a="horizontal"===o.get("layout")?"width":"height";return s.setShape(a,0),n.initProps(s,{shape:{width:r.width,height:r.height}},t,i),s}(d,e,function(){setTimeout(function(){c.removeClipPath()})});c.setClipPath(f)}this._data=h},incrementalPrepareRender:function(e,t,i){this._initialized=!0,this._data=null,this._dataGroup.removeAll()},incrementalRender:function(e,t,i){for(var n=t.getData(),o=t.coordinateSystem,r=o.dimensions,c=a(t),h=e.start;h<e.end;h++){var u=s(n,this._dataGroup,h,r,o);u.incremental=!0,l(u,n,h,c)}},dispose:function(){},remove:function(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null}});function r(e,t,i,n){for(var o=[],r=0;r<i.length;r++){var s=i[r],a=e.get(e.mapDimension(s),t);c(a,n.getAxis(s).type)||o.push(n.dataToPoint(a,s))}return o}function s(e,t,i,o,s){var a=r(e,i,o,s),l=new n.Polyline({shape:{points:a},silent:!0,z2:10});return t.add(l),e.setItemGraphicEl(i,l),l}function a(e){var t=e.get("smooth",!0);return!0===t&&(t=.3),{lineStyle:e.getModel("lineStyle").getLineStyle(),smooth:null!=t?t:.3}}function l(e,t,i,n){var o=n.lineStyle;t.hasItemOption&&(o=t.getItemModel(i).getModel("lineStyle").getLineStyle()),e.useStyle(o);var r=e.style;r.fill=null,r.stroke=t.getItemVisual(i,"color"),r.opacity=t.getItemVisual(i,"opacity"),n.smooth&&(e.shape.smooth=n.smooth)}function c(e,t){return"category"===t?null==e:null==e||isNaN(e)}e.exports=o},369:function(e){var t=["lineStyle","normal","opacity"];e.exports={seriesType:"parallel",reset:function(e,i,n){var o=e.getModel("itemStyle"),r=e.getModel("lineStyle"),s=i.get("color"),a=r.get("color")||o.get("color")||s[e.seriesIndex%s.length],l=e.get("inactiveOpacity"),c=e.get("activeOpacity"),h=e.getModel("lineStyle").getLineStyle(),u=e.coordinateSystem,d=e.getData(),p={normal:h.opacity,active:c,inactive:l};return d.setVisual("color",a),{progress:function(e,i){u.eachActiveState(i,function(e,n){var o=p[e];if("normal"===e&&i.hasItemOption){var r=i.getItemModel(n).get(t,!0);null!=r&&(o=r)}i.setItemVisual(n,"opacity",o)},e.start,e.end)}}}}},6019:function(e,t,i){var n=i(90650),o=i(40628);i(4810),i(80761),i(16448);var r=i(22154).layout,s=i(6660);i(24657),n.registerLayout(o.curry(r,"pictorialBar")),n.registerVisual(s("pictorialBar","roundRect"))},61108:function(e,t,i){var n=i(90650),o=i(40628);i(47683),i(94946);var r=i(32587),s=i(57338),a=i(63599),l=i(12765);r("pie",[{type:"pieToggleSelect",event:"pieselectchanged",method:"toggleSelected"},{type:"pieSelect",event:"pieselected",method:"select"},{type:"pieUnSelect",event:"pieunselected",method:"unSelect"}]),n.registerVisual(s("pie")),n.registerLayout(o.curry(a,"pie")),n.registerProcessor(l("pie"))},47683:function(e,t,i){var n=i(90650),o=i(24967),r=i(40628),s=i(91266),a=i(14785).getPercentWithPrecision,l=i(66624),c=i(56153).retrieveRawAttr,h=i(26153).makeSeriesEncodeForNameBased,u=i(95695),d=n.extendSeriesModel({type:"series.pie",init:function(e){d.superApply(this,"init",arguments),this.legendVisualProvider=new u(r.bind(this.getData,this),r.bind(this.getRawData,this)),this.updateSelectedMap(this._createSelectableList()),this._defaultLabelLine(e)},mergeOption:function(e){d.superCall(this,"mergeOption",e),this.updateSelectedMap(this._createSelectableList())},getInitialData:function(e,t){return o(this,{coordDimensions:["value"],encodeDefaulter:r.curry(h,this)})},_createSelectableList:function(){for(var e=this.getRawData(),t=e.mapDimension("value"),i=[],n=0,o=e.count();n<o;n++)i.push({name:e.getName(n),value:e.get(t,n),selected:c(e,n,"selected")});return i},getDataParams:function(e){var t=this.getData(),i=d.superCall(this,"getDataParams",e),n=[];return t.each(t.mapDimension("value"),function(e){n.push(e)}),i.percent=a(n,e,t.hostModel.get("percentPrecision")),i.$vars.push("percent"),i},_defaultLabelLine:function(e){s.defaultEmphasis(e,"labelLine",["show"]);var t=e.labelLine,i=e.emphasis.labelLine;t.show=t.show&&e.label.show,i.show=i.show&&e.emphasis.label.show},defaultOption:{zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,minShowLabelAngle:0,selectedOffset:10,hoverOffset:10,avoidLabelOverlap:!0,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:!1,show:!0,position:"outer",alignTo:"none",margin:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1},animationType:"expansion",animationTypeUpdate:"transition",animationEasing:"cubicOut"}});r.mixin(d,l),e.exports=d},94946:function(e,t,i){var n=i(40628),o=i(62429),r=i(31005);function s(e,t,i,n){var o=t.getData(),r=o.getName(this.dataIndex),s=t.get("selectedOffset");n.dispatchAction({type:"pieToggleSelect",from:e,name:r,seriesId:t.id}),o.each(function(e){a(o.getItemGraphicEl(e),o.getItemLayout(e),t.isSelected(o.getName(e)),s,i)})}function a(e,t,i,n,o){var r=(t.startAngle+t.endAngle)/2,s=i?n:0,a=[Math.cos(r)*s,Math.sin(r)*s];o?e.animate().when(200,{position:a}).start("bounceOut"):e.attr("position",a)}function l(e,t){o.Group.call(this);var i=new o.Sector({z2:2}),n=new o.Polyline,r=new o.Text;this.add(i),this.add(n),this.add(r),this.updateData(e,t,!0)}var c=l.prototype;c.updateData=function(e,t,i){var r=this.childAt(0),s=this.childAt(1),l=this.childAt(2),c=e.hostModel,h=e.getItemModel(t),u=e.getItemLayout(t),d=n.extend({},u);d.label=null;var p=c.getShallow("animationTypeUpdate");i?(r.setShape(d),"scale"===c.getShallow("animationType")?(r.shape.r=u.r0,o.initProps(r,{shape:{r:u.r}},c,t)):(r.shape.endAngle=u.startAngle,o.updateProps(r,{shape:{endAngle:u.endAngle}},c,t))):"expansion"===p?r.setShape(d):o.updateProps(r,{shape:d},c,t);var g=e.getItemVisual(t,"color");r.useStyle(n.defaults({lineJoin:"bevel",fill:g},h.getModel("itemStyle").getItemStyle())),r.hoverStyle=h.getModel("emphasis.itemStyle").getItemStyle();var f=h.getShallow("cursor");f&&r.attr("cursor",f),a(this,e.getItemLayout(t),c.isSelected(e.getName(t)),c.get("selectedOffset"),c.get("animation")),this._updateLabel(e,t,!i&&"transition"===p),this.highDownOnUpdate=c.get("silent")?null:function(e,t){var i=c.isAnimationEnabled()&&h.get("hoverAnimation");"emphasis"===t?(s.ignore=s.hoverIgnore,l.ignore=l.hoverIgnore,i&&(r.stopAnimation(!0),r.animateTo({shape:{r:u.r+c.get("hoverOffset")}},300,"elasticOut"))):(s.ignore=s.normalIgnore,l.ignore=l.normalIgnore,i&&(r.stopAnimation(!0),r.animateTo({shape:{r:u.r}},300,"elasticOut")))},o.setHoverStyle(this)},c._updateLabel=function(e,t,i){var n=this.childAt(1),r=this.childAt(2),s=e.hostModel,a=e.getItemModel(t),l=e.getItemLayout(t).label,c=e.getItemVisual(t,"color");if(!l||isNaN(l.x)||isNaN(l.y))r.ignore=r.normalIgnore=r.hoverIgnore=n.ignore=n.normalIgnore=n.hoverIgnore=!0;else{var h={points:l.linePoints||[[l.x,l.y],[l.x,l.y],[l.x,l.y]]},u={x:l.x,y:l.y};i?(o.updateProps(n,{shape:h},s,t),o.updateProps(r,{style:u},s,t)):(n.attr({shape:h}),r.attr({style:u})),r.attr({rotation:l.rotation,origin:[l.x,l.y],z2:10});var d=a.getModel("label"),p=a.getModel("emphasis.label"),g=a.getModel("labelLine"),f=a.getModel("emphasis.labelLine");c=e.getItemVisual(t,"color"),o.setLabelStyle(r.style,r.hoverStyle={},d,p,{labelFetcher:e.hostModel,labelDataIndex:t,defaultText:l.text,autoColor:c,useInsideStyle:!!l.inside},{textAlign:l.textAlign,textVerticalAlign:l.verticalAlign,opacity:e.getItemVisual(t,"opacity")}),r.ignore=r.normalIgnore=!d.get("show"),r.hoverIgnore=!p.get("show"),n.ignore=n.normalIgnore=!g.get("show"),n.hoverIgnore=!f.get("show"),n.setStyle({stroke:c,opacity:e.getItemVisual(t,"opacity")}),n.setStyle(g.getModel("lineStyle").getLineStyle()),n.hoverStyle=f.getModel("lineStyle").getLineStyle();var m=g.get("smooth");m&&!0===m&&(m=.4),n.setShape({smooth:m})}},n.inherits(l,o.Group);var h=r.extend({type:"pie",init:function(){var e=new o.Group;this._sectorGroup=e},render:function(e,t,i,o){if(!o||o.from!==this.uid){var r=e.getData(),a=this._data,c=this.group,h=t.get("animation"),u=!a,d=e.get("animationType"),p=e.get("animationTypeUpdate"),g=n.curry(s,this.uid,e,h,i),f=e.get("selectedMode");if(r.diff(a).add(function(e){var t=new l(r,e);u&&"scale"!==d&&t.eachChild(function(e){e.stopAnimation(!0)}),f&&t.on("click",g),r.setItemGraphicEl(e,t),c.add(t)}).update(function(e,t){var i=a.getItemGraphicEl(t);!u&&"transition"!==p&&i.eachChild(function(e){e.stopAnimation(!0)}),i.updateData(r,e),i.off("click"),f&&i.on("click",g),c.add(i),r.setItemGraphicEl(e,i)}).remove(function(e){var t=a.getItemGraphicEl(e);c.remove(t)}).execute(),h&&r.count()>0&&(u?"scale"!==d:"transition"!==p)){for(var m=r.getItemLayout(0),_=1;isNaN(m.startAngle)&&_<r.count();++_)m=r.getItemLayout(_);var v=Math.max(i.getWidth(),i.getHeight())/2,y=n.bind(c.removeClipPath,c);c.setClipPath(this._createClipPath(m.cx,m.cy,v,m.startAngle,m.clockwise,y,e,u))}else c.removeClipPath();this._data=r}},dispose:function(){},_createClipPath:function(e,t,i,n,r,s,a,l){var c=new o.Sector({shape:{cx:e,cy:t,r0:0,r:i,startAngle:n,endAngle:n,clockwise:r}});return(l?o.initProps:o.updateProps)(c,{shape:{endAngle:n+(r?1:-1)*Math.PI*2}},a,s),c},containPoint:function(e,t){var i=t.getData().getItemLayout(0);if(i){var n=e[0]-i.cx,o=e[1]-i.cy,r=Math.sqrt(n*n+o*o);return r<=i.r&&r>=i.r0}}});e.exports=h},95623:function(e,t,i){var n=i(71790),o=i(14785).parsePercent,r=Math.PI/180;function s(e,t,i,n,o,r,s,a,l,c){function h(t,i,n,o){for(var r=t;r<i&&!(e[r].y+n>l+s);r++)if(e[r].y+=n,r>t&&r+1<i&&e[r+1].y>e[r].y+e[r].height)return void u(r,n/2);u(i-1,n/2)}function u(t,i){for(var n=t;n>=0&&!(e[n].y-i<l||(e[n].y-=i,n>0&&e[n].y>e[n-1].y+e[n-1].height));n--);}function d(e,t,i,n,o,r){for(var s=t?Number.MAX_VALUE:0,a=0,l=e.length;a<l;a++)if("none"===e[a].labelAlignTo){var c=Math.abs(e[a].y-n),h=e[a].len,u=e[a].len2,d=c<o+h?Math.sqrt((o+h+u)*(o+h+u)-c*c):Math.abs(e[a].x-i);t&&d>=s&&(d=s-10),!t&&d<=s&&(d=s+10),e[a].x=i+d*r,s=d}}e.sort(function(e,t){return e.y-t.y});for(var p,g=0,f=e.length,m=[],_=[],v=0;v<f;v++)"outer"===e[v].position&&"labelLine"===e[v].labelAlignTo&&(e[v].linePoints[1][0]+=e[v].x-c,e[v].x=c),(p=e[v].y-g)<0&&h(v,f,-p),g=e[v].y+e[v].height;for(s-g<0&&u(f-1,g-s),v=0;v<f;v++)e[v].y>=i?_.push(e[v]):m.push(e[v]);d(m,!1,t,i,n,o),d(_,!0,t,i,n,o)}function a(e){return"center"===e.position}e.exports=function(e,t,i,l,c,h){var u,d,p=e.getData(),g=[],f=!1,m=(e.get("minShowLabelAngle")||0)*r;p.each(function(r){var s=p.getItemLayout(r),a=p.getItemModel(r),l=a.getModel("label"),h=l.get("position")||a.get("emphasis.label.position"),_=l.get("distanceToLabelLine"),v=l.get("alignTo"),y=o(l.get("margin"),i),b=l.get("bleedMargin"),w=l.getFont(),A=a.getModel("labelLine"),x=A.get("length");x=o(x,i);var T=A.get("length2");if(T=o(T,i),!(s.angle<m)){var C,Z,k,S,E=(s.startAngle+s.endAngle)/2,M=Math.cos(E),O=Math.sin(E);u=s.cx,d=s.cy;var I=e.getFormattedLabel(r,"normal")||p.getName(r),P=n.getBoundingRect(I,w,S,"top"),R="inside"===h||"inner"===h;if("center"===h)C=s.cx,Z=s.cy,S="center";else{var q=(R?(s.r+s.r0)/2*M:s.r*M)+u,L=(R?(s.r+s.r0)/2*O:s.r*O)+d;if(C=q+3*M,Z=L+3*O,!R){var U=q+M*(x+t-s.r),B=L+O*(x+t-s.r),D=U+(M<0?-1:1)*T;C="edge"===v?M<0?c+y:c+i-y:D+(M<0?-_:_),Z=B,k=[[q,L],[U,B],[D,B]]}S=R?"center":"edge"===v?M>0?"right":"left":M>0?"left":"right"}var N,F=l.get("rotate");N="number"==typeof F?F*(Math.PI/180):F?M<0?-E+Math.PI:-E:0,f=!!N,s.label={x:C,y:Z,position:h,height:P.height,len:x,len2:T,linePoints:k,textAlign:S,verticalAlign:"middle",rotation:N,inside:R,labelDistance:_,labelAlignTo:v,labelMargin:y,bleedMargin:b,textRect:P,text:I,font:w},R||g.push(s.label)}}),!f&&e.get("avoidLabelOverlap")&&function(e,t,i,o,r,l,c,h){for(var u=[],d=[],p=Number.MAX_VALUE,g=-Number.MAX_VALUE,f=0;f<e.length;f++)a(e[f])||(e[f].x<t?(p=Math.min(p,e[f].x),u.push(e[f])):(g=Math.max(g,e[f].x),d.push(e[f])));for(s(d,t,i,o,1,0,l,0,h,g),s(u,t,i,o,-1,0,l,0,h,p),f=0;f<e.length;f++){var m=e[f];if(!a(m)){var _=m.linePoints;if(_){var v,y="edge"===m.labelAlignTo,b=m.textRect.width;(v=y?m.x<t?_[2][0]-m.labelDistance-c-m.labelMargin:c+r-m.labelMargin-_[2][0]-m.labelDistance:m.x<t?m.x-c-m.bleedMargin:c+r-m.x-m.bleedMargin)<m.textRect.width&&(m.text=n.truncateText(m.text,v,m.font),"edge"===m.labelAlignTo&&(b=n.getWidth(m.text,m.font)));var w=_[1][0]-_[2][0];y?_[2][0]=m.x<t?c+m.labelMargin+b+m.labelDistance:c+r-m.labelMargin-b-m.labelDistance:(_[2][0]=m.x<t?m.x+m.labelDistance:m.x-m.labelDistance,_[1][0]=_[2][0]+w),_[1][1]=_[2][1]=m.y}}}}(g,u,d,t,i,l,c,h)}},63599:function(e,t,i){var n=i(14785),o=n.parsePercent,r=n.linearMap,s=i(40634),a=i(95623),l=i(40628),c=2*Math.PI,h=Math.PI/180;e.exports=function(e,t,i,n){t.eachSeriesByType(e,function(e){var t=e.getData(),n=t.mapDimension("value"),u=function(e,t){return s.getLayoutRect(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}(e,i),d=e.get("center"),p=e.get("radius");l.isArray(p)||(p=[0,p]),l.isArray(d)||(d=[d,d]);var g=o(u.width,i.getWidth()),f=o(u.height,i.getHeight()),m=Math.min(g,f),_=o(d[0],g)+u.x,v=o(d[1],f)+u.y,y=o(p[0],m/2),b=o(p[1],m/2),w=-e.get("startAngle")*h,A=e.get("minAngle")*h,x=0;t.each(n,function(e){!isNaN(e)&&x++});var T=t.getSum(n),C=Math.PI/(T||x)*2,Z=e.get("clockwise"),k=e.get("roseType"),S=e.get("stillShowZeroSum"),E=t.getDataExtent(n);E[0]=0;var M=c,O=0,I=w,P=Z?1:-1;if(t.each(n,function(e,i){var n;if(isNaN(e))t.setItemLayout(i,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:Z,cx:_,cy:v,r0:y,r:k?NaN:b,viewRect:u});else{(n="area"!==k?0===T&&S?C:e*C:c/x)<A?(n=A,M-=A):O+=e;var o=I+P*n;t.setItemLayout(i,{angle:n,startAngle:I,endAngle:o,clockwise:Z,cx:_,cy:v,r0:y,r:k?r(e,E,[y,b]):b,viewRect:u}),I=o}}),M<c&&x)if(M<=.001){var R=c/x;t.each(n,function(e,i){if(!isNaN(e)){var n=t.getItemLayout(i);n.angle=R,n.startAngle=w+P*i*R,n.endAngle=w+P*(i+1)*R}})}else C=M/O,I=w,t.each(n,function(e,i){if(!isNaN(e)){var n=t.getItemLayout(i),o=n.angle===A?A:e*C;n.startAngle=I,n.endAngle=I+P*o,I+=P*o}});a(e,b,u.width,u.height,u.x,u.y)})}},20833:function(e,t,i){var n=i(90650);i(41529),i(57955),i(99721);var o=i(57338),r=i(6660),s=i(37469),a=i(12765),l=i(84269);n.registerVisual(o("radar")),n.registerVisual(r("radar","circle")),n.registerLayout(s),n.registerProcessor(a("radar")),n.registerPreprocessor(l)},57955:function(e,t,i){var n=i(29521),o=i(24967),r=i(40628),s=i(99706).encodeHTML,a=i(95695),l=n.extend({type:"series.radar",dependencies:["radar"],init:function(e){l.superApply(this,"init",arguments),this.legendVisualProvider=new a(r.bind(this.getData,this),r.bind(this.getRawData,this))},getInitialData:function(e,t){return o(this,{generateCoord:"indicator_",generateCoordCount:1/0})},formatTooltip:function(e,t,i,n){var o=this.getData(),a=this.coordinateSystem.getIndicatorAxes(),l=this.getData().getName(e),c="html"===n?"<br/>":"\n";return s(""===l?this.name:l)+c+r.map(a,function(t,i){var n=o.get(o.mapDimension(t.dim),e);return s(t.name+" : "+n)}).join(c)},getTooltipPosition:function(e){if(null!=e)for(var t=this.getData(),i=this.coordinateSystem,n=t.getValues(r.map(i.dimensions,function(e){return t.mapDimension(e)}),e,!0),o=0,s=n.length;o<s;o++)if(!isNaN(n[o])){var a=i.getIndicatorAxes();return i.coordToPoint(a[o].dataToCoord(n[o]),o)}},defaultOption:{zlevel:0,z:2,coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{width:2,type:"solid"},label:{position:"top"},symbol:"emptyCircle",symbolSize:4}});e.exports=l},99721:function(e,t,i){var n=i(90650),o=i(62429),r=i(40628),s=i(34550),a=n.extendChartView({type:"radar",render:function(e,t,i){var n=e.coordinateSystem,a=this.group,l=e.getData(),c=this._data;function h(e,t){var i=e.getItemVisual(t,"symbol")||"circle",n=e.getItemVisual(t,"color");if("none"!==i){var o=function(e){return r.isArray(e)||(e=[+e,+e]),e}(e.getItemVisual(t,"symbolSize")),a=s.createSymbol(i,-1,-1,2,2,n),l=e.getItemVisual(t,"symbolRotate")||0;return a.attr({style:{strokeNoScale:!0},z2:100,scale:[o[0]/2,o[1]/2],rotation:l*Math.PI/180||0}),a}}function u(t,i,n,r,s,a){n.removeAll();for(var l=0;l<i.length-1;l++){var c=h(r,s);c&&(c.__dimIdx=l,t[l]?(c.attr("position",t[l]),o[a?"initProps":"updateProps"](c,{position:i[l]},e,s)):c.attr("position",i[l]),n.add(c))}}function d(e){return r.map(e,function(e){return[n.cx,n.cy]})}l.diff(c).add(function(t){var i=l.getItemLayout(t);if(i){var n=new o.Polygon,r=new o.Polyline,s={shape:{points:i}};n.shape.points=d(i),r.shape.points=d(i),o.initProps(n,s,e,t),o.initProps(r,s,e,t);var a=new o.Group,c=new o.Group;a.add(r),a.add(n),a.add(c),u(r.shape.points,i,c,l,t,!0),l.setItemGraphicEl(t,a)}}).update(function(t,i){var n=c.getItemGraphicEl(i),r=n.childAt(0),s=n.childAt(1),a=n.childAt(2),h={shape:{points:l.getItemLayout(t)}};!h.shape.points||(u(r.shape.points,h.shape.points,a,l,t,!1),o.updateProps(r,h,e),o.updateProps(s,h,e),l.setItemGraphicEl(t,n))}).remove(function(e){a.remove(c.getItemGraphicEl(e))}).execute(),l.eachItemGraphicEl(function(e,t){var i=l.getItemModel(t),n=e.childAt(0),s=e.childAt(1),c=e.childAt(2),h=l.getItemVisual(t,"color");a.add(e),n.useStyle(r.defaults(i.getModel("lineStyle").getLineStyle(),{fill:"none",stroke:h})),n.hoverStyle=i.getModel("emphasis.lineStyle").getLineStyle();var u=i.getModel("areaStyle"),d=i.getModel("emphasis.areaStyle"),p=u.isEmpty()&&u.parentModel.isEmpty(),g=d.isEmpty()&&d.parentModel.isEmpty();g=g&&p,s.ignore=p,s.useStyle(r.defaults(u.getAreaStyle(),{fill:h,opacity:.7})),s.hoverStyle=d.getAreaStyle();var f=i.getModel("itemStyle").getItemStyle(["color"]),m=i.getModel("emphasis.itemStyle").getItemStyle(),_=i.getModel("label"),v=i.getModel("emphasis.label");c.eachChild(function(e){e.setStyle(f),e.hoverStyle=r.clone(m);var i=l.get(l.dimensions[e.__dimIdx],t);(null==i||isNaN(i))&&(i=""),o.setLabelStyle(e.style,e.hoverStyle,_,v,{labelFetcher:l.hostModel,labelDataIndex:t,labelDimIndex:e.__dimIdx,defaultText:i,autoColor:h,isRectText:!0})}),e.highDownOnUpdate=function(e,t){s.attr("ignore","emphasis"===t?g:p)},o.setHoverStyle(e)}),this._data=l},remove:function(){this.group.removeAll(),this._data=null},dispose:function(){}});e.exports=a},84269:function(e,t,i){var n=i(40628);e.exports=function(e){var t=e.polar;if(t){n.isArray(t)||(t=[t]);var i=[];n.each(t,function(t,o){t.indicator?(t.type&&!t.shape&&(t.shape=t.type),e.radar=e.radar||[],n.isArray(e.radar)||(e.radar=[e.radar]),e.radar.push(t)):i.push(t)}),e.polar=i}n.each(e.series,function(e){e&&"radar"===e.type&&e.polarIndex&&(e.radarIndex=e.polarIndex)})}},37469:function(e,t,i){var n=i(40628);function o(e){return!isNaN(e[0])&&!isNaN(e[1])}function r(e){return[e.cx,e.cy]}e.exports=function(e){e.eachSeriesByType("radar",function(e){var t=e.getData(),i=[],s=e.coordinateSystem;if(s){var a=s.getIndicatorAxes();n.each(a,function(e,n){t.each(t.mapDimension(a[n].dim),function(e,t){i[t]=i[t]||[];var a=s.dataToPoint(e,n);i[t][n]=o(a)?a:r(s)})}),t.each(function(e){var a=n.find(i[e],function(e){return o(e)})||r(s);i[e].push(a.slice()),t.setItemLayout(e,i[e])})}})}},99304:function(e,t,i){var n=i(90650);i(57053),i(36956),i(83560);var o=i(38253),r=i(40691);n.registerLayout(o),n.registerVisual(r)},57053:function(e,t,i){var n=i(29521),o=i(481),r=i(99706).encodeHTML,s=i(96948),a=(i(59963),n.extend({type:"series.sankey",layoutInfo:null,levelModels:null,getInitialData:function(e,t){for(var i=e.edges||e.links,n=e.data||e.nodes,r=e.levels,a=this.levelModels={},l=0;l<r.length;l++)null!=r[l].depth&&r[l].depth>=0&&(a[r[l].depth]=new s(r[l],this,t));if(n&&i)return o(n,i,this,!0,function(e,t){e.wrapMethod("getItemModel",function(e,t){return e.customizeGetParent(function(e){var i=this.parentModel,n=i.getData().getItemLayout(t).depth;return i.levelModels[n]||this.parentModel}),e}),t.wrapMethod("getItemModel",function(e,t){return e.customizeGetParent(function(e){var i=this.parentModel,n=i.getGraph().getEdgeByIndex(t).node1.getLayout().depth;return i.levelModels[n]||this.parentModel}),e})}).data},setNodePosition:function(e,t){var i=this.option.data[e];i.localX=t[0],i.localY=t[1]},getGraph:function(){return this.getData().graph},getEdgeData:function(){return this.getGraph().edgeData},formatTooltip:function(e,t,i){if("edge"===i){var n=this.getDataParams(e,i),o=n.data,s=o.source+" -- "+o.target;return n.value&&(s+=" : "+n.value),r(s)}if("node"===i){var l=this.getGraph().getNodeByIndex(e).getLayout().value,c=this.getDataParams(e,i).data.name;return l&&(s=c+" : "+l),r(s)}return a.superCall(this,"formatTooltip",e,t)},optionUpdated:function(){var e=this.option;!0===e.focusNodeAdjacency&&(e.focusNodeAdjacency="allEdges")},getDataParams:function(e,t){var i=a.superCall(this,"getDataParams",e,t);if(null==i.value&&"node"===t){var n=this.getGraph().getNodeByIndex(e).getLayout().value;i.value=n}return i},defaultOption:{zlevel:0,z:2,coordinateSystem:"view",layout:null,left:"5%",top:"5%",right:"20%",bottom:"5%",orient:"horizontal",nodeWidth:20,nodeGap:8,draggable:!0,focusNodeAdjacency:!1,layoutIterations:32,label:{show:!0,position:"right",color:"#000",fontSize:12},levels:[],nodeAlign:"justify",itemStyle:{borderWidth:1,borderColor:"#333"},lineStyle:{color:"#314656",opacity:.2,curveness:.5},emphasis:{label:{show:!0},lineStyle:{opacity:.5}},animationEasing:"linear",animationDuration:1e3}}));e.exports=a},36956:function(e,t,i){var n=i(62429),o=i(90650),r=i(40628),s=["itemStyle","opacity"],a=["emphasis","itemStyle","opacity"],l=["lineStyle","opacity"],c=["emphasis","lineStyle","opacity"];function h(e,t){return e.getVisual("opacity")||e.getModel().get(t)}function u(e,t,i){var n=e.getGraphicEl(),o=h(e,t);null!=i&&(null==o&&(o=1),o*=i),n.downplay&&n.downplay(),n.traverse(function(e){"group"!==e.type&&e.setStyle("opacity",o)})}function d(e,t){var i=h(e,t),n=e.getGraphicEl();n.traverse(function(e){"group"!==e.type&&e.setStyle("opacity",i)}),n.highlight&&n.highlight()}var p=n.extendShape({shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,cpx2:0,cpy2:0,extent:0,orient:""},buildPath:function(e,t){var i=t.extent;e.moveTo(t.x1,t.y1),e.bezierCurveTo(t.cpx1,t.cpy1,t.cpx2,t.cpy2,t.x2,t.y2),"vertical"===t.orient?(e.lineTo(t.x2+i,t.y2),e.bezierCurveTo(t.cpx2+i,t.cpy2,t.cpx1+i,t.cpy1,t.x1+i,t.y1)):(e.lineTo(t.x2,t.y2+i),e.bezierCurveTo(t.cpx2,t.cpy2+i,t.cpx1,t.cpy1+i,t.x1,t.y1+i)),e.closePath()},highlight:function(){this.trigger("emphasis")},downplay:function(){this.trigger("normal")}}),g=o.extendChartView({type:"sankey",_model:null,_focusAdjacencyDisabled:!1,render:function(e,t,i){var o=this,r=e.getGraph(),s=this.group,a=e.layoutInfo,l=a.width,c=a.height,h=e.getData(),u=e.getData("edge"),d=e.get("orient");this._model=e,s.removeAll(),s.attr("position",[a.x,a.y]),r.eachEdge(function(t){var i=new p;i.dataIndex=t.dataIndex,i.seriesIndex=e.seriesIndex,i.dataType="edge";var o,r,a,h,g,f,m,_,v=t.getModel("lineStyle"),y=v.get("curveness"),b=t.node1.getLayout(),w=t.node1.getModel(),A=w.get("localX"),x=w.get("localY"),T=t.node2.getLayout(),C=t.node2.getModel(),Z=C.get("localX"),k=C.get("localY"),S=t.getLayout();switch(i.shape.extent=Math.max(1,S.dy),i.shape.orient=d,"vertical"===d?(g=o=(null!=A?A*l:b.x)+S.sy,f=(r=(null!=x?x*c:b.y)+b.dy)*(1-y)+(h=null!=k?k*c:T.y)*y,m=a=(null!=Z?Z*l:T.x)+S.ty,_=r*y+h*(1-y)):(g=(o=(null!=A?A*l:b.x)+b.dx)*(1-y)+(a=null!=Z?Z*l:T.x)*y,f=r=(null!=x?x*c:b.y)+S.sy,m=o*y+a*(1-y),_=h=(null!=k?k*c:T.y)+S.ty),i.setShape({x1:o,y1:r,x2:a,y2:h,cpx1:g,cpy1:f,cpx2:m,cpy2:_}),i.setStyle(v.getItemStyle()),i.style.fill){case"source":i.style.fill=t.node1.getVisual("color");break;case"target":i.style.fill=t.node2.getVisual("color")}n.setHoverStyle(i,t.getModel("emphasis.lineStyle").getItemStyle()),s.add(i),u.setItemGraphicEl(t.dataIndex,i)}),r.eachNode(function(t){var i=t.getLayout(),o=t.getModel(),r=o.get("localX"),a=o.get("localY"),u=o.getModel("label"),d=o.getModel("emphasis.label"),p=new n.Rect({shape:{x:null!=r?r*l:i.x,y:null!=a?a*c:i.y,width:i.dx,height:i.dy},style:o.getModel("itemStyle").getItemStyle()}),g=t.getModel("emphasis.itemStyle").getItemStyle();n.setLabelStyle(p.style,g,u,d,{labelFetcher:e,labelDataIndex:t.dataIndex,defaultText:t.id,isRectText:!0}),p.setStyle("fill",t.getVisual("color")),n.setHoverStyle(p,g),s.add(p),h.setItemGraphicEl(t.dataIndex,p),p.dataType="node"}),h.eachItemGraphicEl(function(t,n){var r=h.getItemModel(n);r.get("draggable")&&(t.drift=function(t,r){o._focusAdjacencyDisabled=!0,this.shape.x+=t,this.shape.y+=r,this.dirty(),i.dispatchAction({type:"dragNode",seriesId:e.id,dataIndex:h.getRawIndex(n),localX:this.shape.x/l,localY:this.shape.y/c})},t.ondragend=function(){o._focusAdjacencyDisabled=!1},t.draggable=!0,t.cursor="move"),t.highlight=function(){this.trigger("emphasis")},t.downplay=function(){this.trigger("normal")},t.focusNodeAdjHandler&&t.off("mouseover",t.focusNodeAdjHandler),t.unfocusNodeAdjHandler&&t.off("mouseout",t.unfocusNodeAdjHandler),r.get("focusNodeAdjacency")&&(t.on("mouseover",t.focusNodeAdjHandler=function(){o._focusAdjacencyDisabled||(o._clearTimer(),i.dispatchAction({type:"focusNodeAdjacency",seriesId:e.id,dataIndex:t.dataIndex}))}),t.on("mouseout",t.unfocusNodeAdjHandler=function(){o._focusAdjacencyDisabled||o._dispatchUnfocus(i)}))}),u.eachItemGraphicEl(function(t,n){var r=u.getItemModel(n);t.focusNodeAdjHandler&&t.off("mouseover",t.focusNodeAdjHandler),t.unfocusNodeAdjHandler&&t.off("mouseout",t.unfocusNodeAdjHandler),r.get("focusNodeAdjacency")&&(t.on("mouseover",t.focusNodeAdjHandler=function(){o._focusAdjacencyDisabled||(o._clearTimer(),i.dispatchAction({type:"focusNodeAdjacency",seriesId:e.id,edgeDataIndex:t.dataIndex}))}),t.on("mouseout",t.unfocusNodeAdjHandler=function(){o._focusAdjacencyDisabled||o._dispatchUnfocus(i)}))}),!this._data&&e.get("animation")&&s.setClipPath(function(e,t,i){var o=new n.Rect({shape:{x:e.x-10,y:e.y-10,width:0,height:e.height+20}});return n.initProps(o,{shape:{width:e.width+20}},t,function(){s.removeClipPath()}),o}(s.getBoundingRect(),e)),this._data=e.getData()},dispose:function(){this._clearTimer()},_dispatchUnfocus:function(e){var t=this;this._clearTimer(),this._unfocusDelayTimer=setTimeout(function(){t._unfocusDelayTimer=null,e.dispatchAction({type:"unfocusNodeAdjacency",seriesId:t._model.id})},500)},_clearTimer:function(){this._unfocusDelayTimer&&(clearTimeout(this._unfocusDelayTimer),this._unfocusDelayTimer=null)},focusNodeAdjacency:function(e,t,i,n){var o=e.getData(),h=o.graph,p=n.dataIndex,g=o.getItemModel(p),f=n.edgeDataIndex;if(null!=p||null!=f){var m=h.getNodeByIndex(p),_=h.getEdgeByIndex(f);if(h.eachNode(function(e){u(e,s,.1)}),h.eachEdge(function(e){u(e,l,.1)}),m){d(m,a);var v=g.get("focusNodeAdjacency");"outEdges"===v?r.each(m.outEdges,function(e){e.dataIndex<0||(d(e,c),d(e.node2,a))}):"inEdges"===v?r.each(m.inEdges,function(e){e.dataIndex<0||(d(e,c),d(e.node1,a))}):"allEdges"===v&&r.each(m.edges,function(e){e.dataIndex<0||(d(e,c),e.node1!==m&&d(e.node1,a),e.node2!==m&&d(e.node2,a))})}_&&(d(_,c),d(_.node1,a),d(_.node2,a))}},unfocusNodeAdjacency:function(e,t,i,n){var o=e.getGraph();o.eachNode(function(e){u(e,s)}),o.eachEdge(function(e){u(e,l)})}});e.exports=g},83560:function(e,t,i){var n=i(90650);i(35693),n.registerAction({type:"dragNode",event:"dragnode",update:"update"},function(e,t){t.eachComponent({mainType:"series",subType:"sankey",query:e},function(t){t.setNodePosition(e.dataIndex,[e.localX,e.localY])})})},38253:function(e,t,i){var n=i(40634),o=i(40628),r=i(91266).groupData;function s(e){var t=e.hostGraph.data.getRawDataItem(e.dataIndex);return null!=t.depth&&t.depth>=0}function a(e,t,i,n,r){var s="vertical"===r?"x":"y";o.each(e,function(e){e.sort(function(e,t){return e.getLayout()[s]-t.getLayout()[s]});for(var o,a,l,c=0,h=e.length,u="vertical"===r?"dx":"dy",d=0;d<h;d++)(l=c-(a=e[d]).getLayout()[s])>0&&(o=a.getLayout()[s]+l,a.setLayout("vertical"===r?{x:o}:{y:o},!0)),c=a.getLayout()[s]+a.getLayout()[u]+t;if((l=c-t-("vertical"===r?n:i))>0)for(o=a.getLayout()[s]-l,a.setLayout("vertical"===r?{x:o}:{y:o},!0),c=o,d=h-2;d>=0;--d)(l=(a=e[d]).getLayout()[s]+a.getLayout()[u]+t-c)>0&&(o=a.getLayout()[s]-l,a.setLayout("vertical"===r?{x:o}:{y:o},!0)),c=a.getLayout()[s]})}function l(e,t,i){o.each(e.slice().reverse(),function(e){o.each(e,function(e){if(e.outEdges.length){var n=f(e.outEdges,c,i)/f(e.outEdges,g,i);if(isNaN(n)){var o=e.outEdges.length;n=o?f(e.outEdges,h,i)/o:0}if("vertical"===i){var r=e.getLayout().x+(n-p(e,i))*t;e.setLayout({x:r},!0)}else{var s=e.getLayout().y+(n-p(e,i))*t;e.setLayout({y:s},!0)}}})})}function c(e,t){return p(e.node2,t)*e.getValue()}function h(e,t){return p(e.node2,t)}function u(e,t){return p(e.node1,t)*e.getValue()}function d(e,t){return p(e.node1,t)}function p(e,t){return"vertical"===t?e.getLayout().x+e.getLayout().dx/2:e.getLayout().y+e.getLayout().dy/2}function g(e){return e.getValue()}function f(e,t,i){for(var n=0,o=e.length,r=-1;++r<o;){var s=+t.call(e,e[r],i);isNaN(s)||(n+=s)}return n}function m(e,t,i){o.each(e,function(e){o.each(e,function(e){if(e.inEdges.length){var n=f(e.inEdges,u,i)/f(e.inEdges,g,i);if(isNaN(n)){var o=e.inEdges.length;n=o?f(e.inEdges,d,i)/o:0}if("vertical"===i){var r=e.getLayout().x+(n-p(e,i))*t;e.setLayout({x:r},!0)}else{var s=e.getLayout().y+(n-p(e,i))*t;e.setLayout({y:s},!0)}}})})}e.exports=function(e,t,i){e.eachSeriesByType("sankey",function(e){var i=e.get("nodeWidth"),c=e.get("nodeGap"),h=function(e,t){return n.getLayoutRect(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}(e,t);e.layoutInfo=h;var u=h.width,d=h.height,p=e.getGraph(),_=p.nodes,v=p.edges;!function(e){o.each(e,function(e){var t=f(e.outEdges,g),i=f(e.inEdges,g),n=e.getValue()||0,o=Math.max(t,i,n);e.setLayout({value:o},!0)})}(_),function(e,t,i,n,c,h,u,d,p){(function(e,t,i,n,r,a,l){for(var c=[],h=[],u=[],d=[],p=0,g=0;g<t.length;g++)c[g]=1;for(g=0;g<e.length;g++)h[g]=e[g].inEdges.length,0===h[g]&&u.push(e[g]);for(var f=-1;u.length;){for(var m=0;m<u.length;m++){var _=u[m],v=_.hostGraph.data.getRawDataItem(_.dataIndex),y=null!=v.depth&&v.depth>=0;y&&v.depth>f&&(f=v.depth),_.setLayout({depth:y?v.depth:p},!0),_.setLayout("vertical"===a?{dy:i}:{dx:i},!0);for(var b=0;b<_.outEdges.length;b++){var w=_.outEdges[b];c[t.indexOf(w)]=0;var A=w.node2;0==--h[e.indexOf(A)]&&d.indexOf(A)<0&&d.push(A)}}++p,u=d,d=[]}for(g=0;g<c.length;g++)if(1===c[g])throw new Error("Sankey is a DAG, the original data has cycle!");var x=f>p-1?f:p-1;l&&"left"!==l&&function(e,t,i,n){if("right"===t){for(var r=[],a=e,l=0;a.length;){for(var c=0;c<a.length;c++){var h=a[c];h.setLayout({skNodeHeight:l},!0);for(var u=0;u<h.inEdges.length;u++){var d=h.inEdges[u];r.indexOf(d.node1)<0&&r.push(d.node1)}}a=r,r=[],++l}o.each(e,function(e){s(e)||e.setLayout({depth:Math.max(0,n-e.getLayout().skNodeHeight)},!0)})}else"justify"===t&&function(e,t){o.each(e,function(e){!s(e)&&!e.outEdges.length&&e.setLayout({depth:t},!0)})}(e,n)}(e,l,0,x),function(e,t,i){o.each(e,function(e){var n=e.getLayout().depth*t;e.setLayout("vertical"===i?{y:n}:{x:n},!0)})}(e,"vertical"===a?(r-i)/x:(n-i)/x,a)})(e,t,i,c,h,d,p),function(e,t,i,n,s,c,h){var u=function(e,t){var i=[],n="vertical"===t?"y":"x",s=r(e,function(e){return e.getLayout()[n]});return s.keys.sort(function(e,t){return e-t}),o.each(s.keys,function(e){i.push(s.buckets.get(e))}),i}(e,h);(function(e,t,i,n,r,s){var a=1/0;o.each(e,function(e){var t=e.length,l=0;o.each(e,function(e){l+=e.getLayout().value});var c="vertical"===s?(n-(t-1)*r)/l:(i-(t-1)*r)/l;c<a&&(a=c)}),o.each(e,function(e){o.each(e,function(e,t){var i=e.getLayout().value*a;"vertical"===s?(e.setLayout({x:t},!0),e.setLayout({dx:i},!0)):(e.setLayout({y:t},!0),e.setLayout({dy:i},!0))})}),o.each(t,function(e){var t=+e.getValue()*a;e.setLayout({dy:t},!0)})})(u,t,i,n,s,h),a(u,s,i,n,h);for(var d=1;c>0;c--)l(u,d*=.99,h),a(u,s,i,n,h),m(u,d,h),a(u,s,i,n,h)}(e,t,h,c,n,u,d),function(e,t){var i="vertical"===t?"x":"y";o.each(e,function(e){e.outEdges.sort(function(e,t){return e.node2.getLayout()[i]-t.node2.getLayout()[i]}),e.inEdges.sort(function(e,t){return e.node1.getLayout()[i]-t.node1.getLayout()[i]})}),o.each(e,function(e){var t=0,i=0;o.each(e.outEdges,function(e){e.setLayout({sy:t},!0),t+=e.getLayout().dy}),o.each(e.inEdges,function(e){e.setLayout({ty:i},!0),i+=e.getLayout().dy})})}(e,d)}(_,v,i,c,u,d,0!==o.filter(_,function(e){return 0===e.getLayout().value}).length?0:e.get("layoutIterations"),e.get("orient"),e.get("nodeAlign"))})}},40691:function(e,t,i){var n=i(11630),o=i(40628);e.exports=function(e,t){e.eachSeriesByType("sankey",function(e){var t=e.getGraph().nodes;if(t.length){var i=1/0,r=-1/0;o.each(t,function(e){var t=e.getLayout().value;t<i&&(i=t),t>r&&(r=t)}),o.each(t,function(t){var o=new n({type:"color",mappingMethod:"linear",dataExtent:[i,r],visual:e.get("color")}).mapValueToVisual(t.getLayout().value),s=t.getModel().get("itemStyle.color");t.setVisual("color",null!=s?s:o)})}})}},6059:function(e,t,i){var n=i(90650);i(30228),i(36202);var o=i(6660),r=i(12588);i(24657),n.registerVisual(o("scatter","circle")),n.registerLayout(r("scatter"))},30228:function(e,t,i){var n=i(52461),o=i(29521).extend({type:"series.scatter",dependencies:["grid","polar","geo","singleAxis","calendar"],getInitialData:function(e,t){return n(this.getSource(),this,{useEncodeDefaulter:!0})},brushSelector:"point",getProgressive:function(){var e=this.option.progressive;return null==e?this.option.large?5e3:this.get("progressive"):e},getProgressiveThreshold:function(){var e=this.option.progressiveThreshold;return null==e?this.option.large?1e4:this.get("progressiveThreshold"):e},defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{opacity:.8},clip:!0}});e.exports=o},36202:function(e,t,i){var n=i(90650),o=i(16327),r=i(93263),s=i(12588);n.extendChartView({type:"scatter",render:function(e,t,i){var n=e.getData();this._updateSymbolDraw(n,e).updateData(n,{clipShape:this._getClipShape(e)}),this._finished=!0},incrementalPrepareRender:function(e,t,i){var n=e.getData();this._updateSymbolDraw(n,e).incrementalPrepareUpdate(n),this._finished=!1},incrementalRender:function(e,t,i){this._symbolDraw.incrementalUpdate(e,t.getData(),{clipShape:this._getClipShape(t)}),this._finished=e.end===t.getData().count()},updateTransform:function(e,t,i){var n=e.getData();if(this.group.dirty(),!this._finished||n.count()>1e4||!this._symbolDraw.isPersistent())return{update:!0};var o=s().reset(e);o.progress&&o.progress({start:0,end:n.count()},n),this._symbolDraw.updateLayout(n)},_getClipShape:function(e){var t=e.coordinateSystem,i=t&&t.getArea&&t.getArea();return e.get("clip",!0)?i:null},_updateSymbolDraw:function(e,t){var i=this._symbolDraw,n=t.pipelineContext.large;return(!i||n!==this._isLargeDraw)&&(i&&i.remove(),i=this._symbolDraw=n?new r:new o,this._isLargeDraw=n,this.group.removeAll()),this.group.add(i.group),i},remove:function(e,t){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},dispose:function(){}})},70777:function(e,t,i){var n=i(90650),o=i(40628);i(91109),i(91587),i(93043);var r=i(57338),s=i(66502),a=i(12765);n.registerVisual(o.curry(r,"sunburst")),n.registerLayout(o.curry(s,"sunburst")),n.registerProcessor(o.curry(a,"sunburst"))},14750:function(e,t,i){var n=i(40628),o=i(62429);function r(e,t,i){o.Group.call(this);var n=new o.Sector({z2:2});n.seriesIndex=t.seriesIndex;var r=new o.Text({z2:4,silent:e.getModel("label").get("silent")});function s(){r.ignore=r.hoverIgnore}function a(){r.ignore=r.normalIgnore}this.add(n),this.add(r),this.updateData(!0,e,"normal",t,i),this.on("emphasis",s).on("normal",a).on("mouseover",s).on("mouseout",a)}var s=r.prototype;s.updateData=function(e,t,i,r,s){this.node=t,t.piece=this,r=r||this._seriesModel,s=s||this._ecModel;var a=this.childAt(0);a.dataIndex=t.dataIndex;var l=t.getModel(),c=t.getLayout(),h=n.extend({},c);h.label=null;var u=function(e,t,i){var o=e.getVisual("color"),r=e.getVisual("visualMeta");(!r||0===r.length)&&(o=null);var s=e.getModel("itemStyle").get("color");if(s)return s;if(o)return o;if(0===e.depth)return i.option.color[0];var a=i.option.color.length;return i.option.color[function(e){for(var t=e;t.depth>1;)t=t.parentNode;var i=e.getAncestors()[0];return n.indexOf(i.children,t)}(e)%a]}(t,0,s);!function(e,t,i){t.getData().setItemVisual(e.dataIndex,"color",i)}(t,r,u);var d,p=l.getModel("itemStyle").getItemStyle();if("normal"===i)d=p;else{var g=l.getModel(i+".itemStyle").getItemStyle();d=n.merge(g,p)}d=n.defaults({lineJoin:"bevel",fill:d.fill||u},d),e?(a.setShape(h),a.shape.r=c.r0,o.updateProps(a,{shape:{r:c.r}},r,t.dataIndex),a.useStyle(d)):"object"==typeof d.fill&&d.fill.type||"object"==typeof a.style.fill&&a.style.fill.type?(o.updateProps(a,{shape:h},r),a.useStyle(d)):o.updateProps(a,{shape:h,style:d},r),this._updateLabel(r,u,i);var f=l.getShallow("cursor");if(f&&a.attr("cursor",f),e){var m=r.getShallow("highlightPolicy");this._initEvents(a,t,r,m)}this._seriesModel=r||this._seriesModel,this._ecModel=s||this._ecModel,o.setHoverStyle(this)},s.onEmphasis=function(e){var t=this;this.node.hostTree.root.eachNode(function(i){i.piece&&(t.node===i?i.piece.updateData(!1,i,"emphasis"):function(e,t,i){return"none"!==i&&("self"===i?e===t:"ancestor"===i?e===t||e.isAncestorOf(t):e===t||e.isDescendantOf(t))}(i,t.node,e)?i.piece.childAt(0).trigger("highlight"):"none"!==e&&i.piece.childAt(0).trigger("downplay"))})},s.onNormal=function(){this.node.hostTree.root.eachNode(function(e){e.piece&&e.piece.updateData(!1,e,"normal")})},s.onHighlight=function(){this.updateData(!1,this.node,"highlight")},s.onDownplay=function(){this.updateData(!1,this.node,"downplay")},s._updateLabel=function(e,t,i){var r=this.node.getModel(),s=r.getModel("label"),a="normal"===i||"emphasis"===i?s:r.getModel(i+".label"),l=r.getModel("emphasis.label"),c=a.get("formatter"),h=n.retrieve(e.getFormattedLabel(this.node.dataIndex,c?i:"normal",null,null,"label"),this.node.name);!1===x("show")&&(h="");var u=this.node.getLayout(),d=a.get("minAngle");null==d&&(d=s.get("minAngle")),null!=(d=d/180*Math.PI)&&Math.abs(u.endAngle-u.startAngle)<d&&(h="");var p=this.childAt(1);o.setLabelStyle(p.style,p.hoverStyle||{},s,l,{defaultText:a.getShallow("show")?h:null,autoColor:t,useInsideStyle:!0});var g,f=(u.startAngle+u.endAngle)/2,m=Math.cos(f),_=Math.sin(f),v=x("position"),y=x("distance")||0,b=x("align");"outside"===v?(g=u.r+y,b=f>Math.PI/2?"right":"left"):b&&"center"!==b?"left"===b?(g=u.r0+y,f>Math.PI/2&&(b="right")):"right"===b&&(g=u.r-y,f>Math.PI/2&&(b="left")):(g=(u.r+u.r0)/2,b="center"),p.attr("style",{text:h,textAlign:b,textVerticalAlign:x("verticalAlign")||"middle",opacity:x("opacity")}),p.attr("position",[g*m+u.cx,g*_+u.cy]);var w=x("rotate"),A=0;function x(e){var t=a.get(e);return null==t?s.get(e):t}"radial"===w?(A=-f)<-Math.PI/2&&(A+=Math.PI):"tangential"===w?(A=Math.PI/2-f)>Math.PI/2?A-=Math.PI:A<-Math.PI/2&&(A+=Math.PI):"number"==typeof w&&(A=w*Math.PI/180),p.attr("rotation",A)},s._initEvents=function(e,t,i,n){e.off("mouseover").off("mouseout").off("emphasis").off("normal");var o=this,r=function(){o.onEmphasis(n)},s=function(){o.onNormal()};i.isAnimationEnabled()&&e.on("mouseover",r).on("mouseout",s).on("emphasis",r).on("normal",s).on("downplay",function(){o.onDownplay()}).on("highlight",function(){o.onHighlight()})},n.inherits(r,o.Group),e.exports=r},91109:function(e,t,i){var n=i(40628),o=i(29521),r=i(82495),s=i(96948),a=i(29658).wrapTreePathInfo,l=o.extend({type:"series.sunburst",_viewRoot:null,getInitialData:function(e,t){var i={name:e.name,children:e.data};c(i);var o=n.map(e.levels||[],function(e){return new s(e,this,t)},this),a=r.createTree(i,this,function(e){e.wrapMethod("getItemModel",function(e,t){var i=a.getNodeByDataIndex(t),n=o[i.depth];return n&&(e.parentModel=n),e})});return a.data},optionUpdated:function(){this.resetViewRoot()},getDataParams:function(e){var t=o.prototype.getDataParams.apply(this,arguments),i=this.getData().tree.getNodeByDataIndex(e);return t.treePathInfo=a(i,this),t},defaultOption:{zlevel:0,z:2,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,percentPrecision:2,stillShowZeroSum:!0,highlightPolicy:"descendant",nodeClick:"rootToNode",renderLabelForZeroData:!1,label:{rotate:"radial",show:!0,opacity:1,align:"center",position:"inside",distance:5,silent:!0},itemStyle:{borderWidth:1,borderColor:"white",borderType:"solid",shadowBlur:0,shadowColor:"rgba(0, 0, 0, 0.2)",shadowOffsetX:0,shadowOffsetY:0,opacity:1},highlight:{itemStyle:{opacity:1}},downplay:{itemStyle:{opacity:.5},label:{opacity:.6}},animationType:"expansion",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicOut",data:[],levels:[],sort:"desc"},getViewRoot:function(){return this._viewRoot},resetViewRoot:function(e){e?this._viewRoot=e:e=this._viewRoot;var t=this.getRawData().tree.root;(!e||e!==t&&!t.contains(e))&&(this._viewRoot=t)}});function c(e){var t=0;n.each(e.children,function(e){c(e);var i=e.value;n.isArray(i)&&(i=i[0]),t+=i});var i=e.value;n.isArray(i)&&(i=i[0]),(null==i||isNaN(i))&&(i=t),i<0&&(i=0),n.isArray(e.value)?e.value[0]=i:e.value=i}e.exports=l},91587:function(e,t,i){var n=i(40628),o=i(31005),r=i(14750),s=i(12650),a=i(99706).windowOpen,l=o.extend({type:"sunburst",init:function(){},render:function(e,t,i,o){var a=this;this.seriesModel=e,this.api=i,this.ecModel=t;var l=e.getData(),c=l.tree.root,h=e.getViewRoot(),u=this.group,d=e.get("renderLabelForZeroData"),p=[];if(h.eachNode(function(e){p.push(e)}),function(i,o){function a(e){return e.getId()}function h(n,s){!function(i,n){if(!d&&i&&!i.getValue()&&(i=null),i!==c&&n!==c)if(n&&n.piece)i?(n.piece.updateData(!1,i,"normal",e,t),l.setItemGraphicEl(i.dataIndex,n.piece)):function(e){!e||e.piece&&(u.remove(e.piece),e.piece=null)}(n);else if(i){var o=new r(i,e,t);u.add(o),l.setItemGraphicEl(i.dataIndex,o)}}(null==n?null:i[n],null==s?null:o[s])}0===i.length&&0===o.length||new s(o,i,a,a).add(h).update(h).remove(n.curry(h,null)).execute()}(p,this._oldChildren||[]),function(i,n){if(n.depth>0){a.virtualPiece?a.virtualPiece.updateData(!1,i,"normal",e,t):(a.virtualPiece=new r(i,e,t),u.add(a.virtualPiece)),n.piece._onclickEvent&&n.piece.off("click",n.piece._onclickEvent);var o=function(e){a._rootToNode(n.parentNode)};n.piece._onclickEvent=o,a.virtualPiece.on("click",o)}else a.virtualPiece&&(u.remove(a.virtualPiece),a.virtualPiece=null)}(c,h),o&&o.highlight&&o.highlight.piece){var g=e.getShallow("highlightPolicy");o.highlight.piece.onEmphasis(g)}else if(o&&o.unhighlight){var f=this.virtualPiece;!f&&c.children.length&&(f=c.children[0].piece),f&&f.onNormal()}this._initEvents(),this._oldChildren=p},dispose:function(){},_initEvents:function(){var e=this,t=function(t){var i=!1;e.seriesModel.getViewRoot().eachNode(function(n){if(!i&&n.piece&&n.piece.childAt(0)===t.target){var o=n.getModel().get("nodeClick");if("rootToNode"===o)e._rootToNode(n);else if("link"===o){var r=n.getModel(),s=r.get("link");if(s){var l=r.get("target",!0)||"_blank";a(s,l)}}i=!0}})};this.group._onclickEvent&&this.group.off("click",this.group._onclickEvent),this.group.on("click",t),this.group._onclickEvent=t},_rootToNode:function(e){e!==this.seriesModel.getViewRoot()&&this.api.dispatchAction({type:"sunburstRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:e})},containPoint:function(e,t){var i=t.getData().getItemLayout(0);if(i){var n=e[0]-i.cx,o=e[1]-i.cy,r=Math.sqrt(n*n+o*o);return r<=i.r&&r>=i.r0}}});e.exports=l},93043:function(e,t,i){var n=i(90650),o=i(29658),r="sunburstRootToNode";n.registerAction({type:r,update:"updateView"},function(e,t){t.eachComponent({mainType:"series",subType:"sunburst",query:e},function(t,i){var n=o.retrieveTargetInfo(e,[r],t);if(n){var s=t.getViewRoot();s&&(e.direction=o.aboveViewRoot(s,n.node)?"rollUp":"drillDown"),t.resetViewRoot(n.node)}})});var s="sunburstHighlight";n.registerAction({type:s,update:"updateView"},function(e,t){t.eachComponent({mainType:"series",subType:"sunburst",query:e},function(t,i){var n=o.retrieveTargetInfo(e,[s],t);n&&(e.highlight=n.node)})}),n.registerAction({type:"sunburstUnhighlight",update:"updateView"},function(e,t){t.eachComponent({mainType:"series",subType:"sunburst",query:e},function(t,i){e.unhighlight=!0})})},66502:function(e,t,i){var n=i(14785).parsePercent,o=i(40628),r=Math.PI/180;function s(e,t){var i=e.children||[];e.children=function(e,t){if("function"==typeof t)return e.sort(t);var i="asc"===t;return e.sort(function(e,t){var n=(e.getValue()-t.getValue())*(i?1:-1);return 0===n?(e.dataIndex-t.dataIndex)*(i?-1:1):n})}(i,t),i.length&&o.each(e.children,function(e){s(e,t)})}e.exports=function(e,t,i,a){t.eachSeriesByType(e,function(e){var t=e.get("center"),a=e.get("radius");o.isArray(a)||(a=[0,a]),o.isArray(t)||(t=[t,t]);var l=i.getWidth(),c=i.getHeight(),h=Math.min(l,c),u=n(t[0],l),d=n(t[1],c),p=n(a[0],h/2),g=n(a[1],h/2),f=-e.get("startAngle")*r,m=e.get("minAngle")*r,_=e.getData().tree.root,v=e.getViewRoot(),y=v.depth,b=e.get("sort");null!=b&&s(v,b);var w=0;o.each(v.children,function(e){!isNaN(e.getValue())&&w++});var A=v.getValue(),x=Math.PI/(A||w)*2,T=v.depth>0,C=(g-p)/(v.height-(T?-1:1)||1),Z=e.get("clockwise"),k=e.get("stillShowZeroSum"),S=Z?1:-1,E=function(e,t){if(e){var i=t;if(e!==_){var r=e.getValue(),s=0===A&&k?x:r*x;s<m&&(s=m),i=t+S*s;var a=e.depth-y-(T?-1:1),l=p+C*a,c=p+C*(a+1),g=e.getModel();null!=g.get("r0")&&(l=n(g.get("r0"),h/2)),null!=g.get("r")&&(c=n(g.get("r"),h/2)),e.setLayout({angle:s,startAngle:t,endAngle:i,clockwise:Z,cx:u,cy:d,r0:l,r:c})}if(e.children&&e.children.length){var f=0;o.each(e.children,function(e){f+=E(e,t+f)})}return i-t}};if(T){var M=2*Math.PI;_.setLayout({angle:M,startAngle:f,endAngle:f+M,clockwise:Z,cx:u,cy:d,r0:p,r:p+C})}E(v,f)})}},20540:function(e,t,i){var n=i(90650);i(18),i(60338),i(29083);var o=i(14482),r=i(95607),s=i(12765);n.registerLayout(o),n.registerVisual(r),n.registerProcessor(s("themeRiver"))},60338:function(e,t,i){var n=i(29521),o=i(79178),r=i(91577).getDimensionTypeByAxis,s=i(84497),a=i(40628),l=i(91266).groupData,c=i(99706).encodeHTML,h=i(95695),u=n.extend({type:"series.themeRiver",dependencies:["singleAxis"],nameMap:null,init:function(e){u.superApply(this,"init",arguments),this.legendVisualProvider=new h(a.bind(this.getData,this),a.bind(this.getRawData,this))},fixData:function(e){var t=e.length,i={},n=l(e,function(e){return i.hasOwnProperty(e[0])||(i[e[0]]=-1),e[2]}),o=[];n.buckets.each(function(e,t){o.push({name:t,dataList:e})});for(var r=o.length,s=0;s<r;++s){for(var a=o[s].name,c=0;c<o[s].dataList.length;++c)i[h=o[s].dataList[c][0]]=s;for(var h in i)i.hasOwnProperty(h)&&i[h]!==s&&(i[h]=s,e[t]=[],e[t][0]=h,e[t][1]=0,e[t][2]=a,t++)}return e},getInitialData:function(e,t){for(var i=t.queryComponents({mainType:"singleAxis",index:this.get("singleAxisIndex"),id:this.get("singleAxisId")})[0].get("type"),n=a.filter(e.data,function(e){return void 0!==e[2]}),l=this.fixData(n||[]),c=[],h=this.nameMap=a.createHashMap(),u=0,d=0;d<l.length;++d)c.push(l[d][2]),h.get(l[d][2])||(h.set(l[d][2],u),u++);var p=o(l,{coordDimensions:["single"],dimensionsDefine:[{name:"time",type:r(i)},{name:"value",type:"float"},{name:"name",type:"ordinal"}],encodeDefine:{single:0,value:1,itemName:2}}),g=new s(p,this);return g.initData(l),g},getLayerSeries:function(){for(var e=this.getData(),t=e.count(),i=[],n=0;n<t;++n)i[n]=n;var o=e.mapDimension("single"),r=l(i,function(t){return e.get("name",t)}),s=[];return r.buckets.each(function(t,i){t.sort(function(t,i){return e.get(o,t)-e.get(o,i)}),s.push({name:i,indices:t})}),s},getAxisTooltipData:function(e,t,i){a.isArray(e)||(e=e?[e]:[]);for(var n,o=this.getData(),r=this.getLayerSeries(),s=[],l=r.length,c=0;c<l;++c){for(var h=Number.MAX_VALUE,u=-1,d=r[c].indices.length,p=0;p<d;++p){var g=o.get(e[0],r[c].indices[p]),f=Math.abs(g-t);f<=h&&(n=g,h=f,u=r[c].indices[p])}s.push(u)}return{dataIndices:s,nestestValue:n}},formatTooltip:function(e){var t=this.getData(),i=t.getName(e),n=t.get(t.mapDimension("value"),e);return(isNaN(n)||null==n)&&(n="-"),c(i+" : "+n)},defaultOption:{zlevel:0,z:2,coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{margin:4,show:!0,position:"left",color:"#000",fontSize:11},emphasis:{label:{show:!0}}}});e.exports=u},29083:function(e,t,i){var n=i(90650),o=i(98835).Polygon,r=i(62429),s=i(40628),a=s.bind,l=s.extend,c=i(12650),h=n.extendChartView({type:"themeRiver",init:function(){this._layers=[]},render:function(e,t,i){var n=e.getData(),s=this.group,h=e.getLayerSeries(),u=n.getLayout("layoutInfo");function d(e){return e.name}s.attr("position",[0,u.rect.y+u.boundaryGap[0]]);var p=new c(this._layersSeries||[],h,d,d),g={};function f(t,i,a){var c=this._layers;if("remove"!==t){for(var u,d=[],p=[],f=h[i].indices,m=0;m<f.length;m++){var _=n.getItemLayout(f[m]),v=_.x,y=_.y0,b=_.y;d.push([v,y]),p.push([v,y+b]),u=n.getItemVisual(f[m],"color")}var w,A,x=n.getItemLayout(f[0]),T=n.getItemModel(f[m-1]),C=T.getModel("label"),Z=C.get("margin");if("add"===t){var k=g[i]=new r.Group;w=new o({shape:{points:d,stackedOnPoints:p,smooth:.4,stackedOnSmooth:.4,smoothConstraint:!1},z2:0}),A=new r.Text({style:{x:x.x-Z,y:x.y0+x.y/2}}),k.add(w),k.add(A),s.add(k),w.setClipPath(function(e,t,i){var n=new r.Rect({shape:{x:e.x-10,y:e.y-10,width:0,height:e.height+20}});return r.initProps(n,{shape:{width:e.width+20,height:e.height+20}},t,function(){w.removeClipPath()}),n}(w.getBoundingRect(),e))}else w=(k=c[a]).childAt(0),A=k.childAt(1),s.add(k),g[i]=k,r.updateProps(w,{shape:{points:d,stackedOnPoints:p}},e),r.updateProps(A,{style:{x:x.x-Z,y:x.y0+x.y/2}},e);var S=T.getModel("emphasis.itemStyle"),E=T.getModel("itemStyle");r.setTextStyle(A.style,C,{text:C.get("show")?e.getFormattedLabel(f[m-1],"normal")||n.getName(f[m-1]):null,textVerticalAlign:"middle"}),w.setStyle(l({fill:u},E.getItemStyle(["color"]))),r.setHoverStyle(w,S.getItemStyle())}else s.remove(c[i])}p.add(a(f,this,"add")).update(a(f,this,"update")).remove(a(f,this,"remove")).execute(),this._layersSeries=h,this._layers=g},dispose:function(){}});e.exports=h},14482:function(e,t,i){var n=i(40628),o=i(14785);function r(e,t,i){if(e.count())for(var o,r=t.coordinateSystem,s=t.getLayerSeries(),a=e.mapDimension("single"),l=e.mapDimension("value"),c=n.map(s,function(t){return n.map(t.indices,function(t){var i=r.dataToPoint(e.get(a,t));return i[1]=e.get(l,t),i})}),h=function(e){for(var t=e.length,i=e[0].length,n=[],o=[],r=0,s={},a=0;a<i;++a){for(var l=0,c=0;l<t;++l)c+=e[l][a][1];c>r&&(r=c),n.push(c)}for(var h=0;h<i;++h)o[h]=(r-n[h])/2;r=0;for(var u=0;u<i;++u){var d=n[u]+o[u];d>r&&(r=d)}return s.y0=o,s.max=r,s}(c),u=h.y0,d=i/h.max,p=s.length,g=s[0].indices.length,f=0;f<g;++f){e.setItemLayout(s[0].indices[f],{layerIndex:0,x:c[0][f][0],y0:o=u[f]*d,y:c[0][f][1]*d});for(var m=1;m<p;++m)e.setItemLayout(s[m].indices[f],{layerIndex:m,x:c[m][f][0],y0:o+=c[m-1][f][1]*d,y:c[m][f][1]*d})}}e.exports=function(e,t){e.eachSeriesByType("themeRiver",function(e){var t=e.getData(),i=e.coordinateSystem,n={},s=i.getRect();n.rect=s;var a=e.get("boundaryGap"),l=i.getAxis();n.boundaryGap=a,"horizontal"===l.orient?(a[0]=o.parsePercent(a[0],s.height),a[1]=o.parsePercent(a[1],s.height),r(t,e,s.height-a[0]-a[1])):(a[0]=o.parsePercent(a[0],s.width),a[1]=o.parsePercent(a[1],s.width),r(t,e,s.width-a[0]-a[1])),t.setLayout("layoutInfo",n)})}},95607:function(e,t,i){var n=i(40628).createHashMap;e.exports=function(e){e.eachSeriesByType("themeRiver",function(e){var t=e.getData(),i=e.getRawData(),o=e.get("color"),r=n();t.each(function(e){r.set(t.getRawIndex(e),e)}),i.each(function(n){var s=i.getName(n),a=o[(e.nameMap.get(s)-1)%o.length];i.setItemVisual(n,"color",a);var l=r.get(n);null!=l&&t.setItemVisual(l,"color",a)})})}},14957:function(e,t,i){var n=i(90650);i(75439),i(21168),i(46617);var o=i(6660),r=i(44745);n.registerVisual(o("tree","circle")),n.registerLayout(r)},75439:function(e,t,i){var n=i(29521),o=i(82495),r=i(99706).encodeHTML,s=i(96948),a=n.extend({type:"series.tree",layoutInfo:null,layoutMode:"box",getInitialData:function(e){var t={name:e.name,children:e.data},i=new s(e.leaves||{},this,this.ecModel),n=o.createTree(t,this,function(e){e.wrapMethod("getItemModel",function(e,t){var o=n.getNodeByDataIndex(t);return(!o.children.length||!o.isExpand)&&(e.parentModel=i),e})}),r=0;n.eachNode("preorder",function(e){e.depth>r&&(r=e.depth)});var a=e.expandAndCollapse&&e.initialTreeDepth>=0?e.initialTreeDepth:r;return n.root.eachNode("preorder",function(e){var t=e.hostTree.data.getRawDataItem(e.dataIndex);e.isExpand=t&&null!=t.collapsed?!t.collapsed:e.depth<=a}),n.data},getOrient:function(){var e=this.get("orient");return"horizontal"===e?e="LR":"vertical"===e&&(e="TB"),e},setZoom:function(e){this.option.zoom=e},setCenter:function(e){this.option.center=e},formatTooltip:function(e){for(var t=this.getData().tree,i=t.root.children[0],n=t.getNodeByDataIndex(e),o=n.getValue(),s=n.name;n&&n!==i;)s=n.parentNode.name+"."+s,n=n.parentNode;return r(s+(isNaN(o)||null==o?"":" : "+o))},defaultOption:{zlevel:0,z:2,coordinateSystem:"view",left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",edgeShape:"curve",edgeForkPosition:"50%",roam:!1,nodeScaleRatio:.4,center:null,zoom:1,orient:"LR",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{color:"#ccc",width:1.5,curveness:.5},itemStyle:{color:"lightsteelblue",borderColor:"#c23531",borderWidth:1.5},label:{show:!0,color:"#555"},leaves:{label:{show:!0}},animationEasing:"linear",animationDuration:700,animationDurationUpdate:1e3}});e.exports=a},21168:function(e,t,i){var n=i(40628),o=i(62429),r=i(15035),s=i(63685).radialCoordinate,a=i(90650),l=i(99110),c=i(47843),h=i(44733),u=i(96001),d=i(91969).onIrrelevantElement,p=(i(59963),i(14785).parsePercent),g=o.extendShape({shape:{parentPoint:[],childPoints:[],orient:"",forkPosition:""},style:{stroke:"#000",fill:null},buildPath:function(e,t){var i=t.childPoints,n=i.length,o=t.parentPoint,r=i[0],s=i[n-1];if(1===n)return e.moveTo(o[0],o[1]),void e.lineTo(r[0],r[1]);var a=t.orient,l="TB"===a||"BT"===a?0:1,c=1-l,h=p(t.forkPosition,1),u=[];u[l]=o[l],u[c]=o[c]+(s[c]-o[c])*h,e.moveTo(o[0],o[1]),e.lineTo(u[0],u[1]),e.moveTo(r[0],r[1]),u[l]=r[l],e.lineTo(u[0],u[1]),u[l]=s[l],e.lineTo(u[0],u[1]),e.lineTo(s[0],s[1]);for(var d=1;d<n-1;d++){var g=i[d];e.moveTo(g[0],g[1]),u[l]=g[l],e.lineTo(u[0],u[1])}}}),f=a.extendChartView({type:"tree",init:function(e,t){this._mainGroup=new o.Group,this._controller=new u(t.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},render:function(e,t,i,n){var o=e.getData(),r=e.layoutInfo,s=this._mainGroup,a=e.get("layout");s.attr("position","radial"===a?[r.x+r.width/2,r.y+r.height/2]:[r.x,r.y]),this._updateViewCoordSys(e,r,a),this._updateController(e,t,i);var l=this._data,c={expandAndCollapse:e.get("expandAndCollapse"),layout:a,edgeShape:e.get("edgeShape"),edgeForkPosition:e.get("edgeForkPosition"),orient:e.getOrient(),curvature:e.get("lineStyle.curveness"),symbolRotate:e.get("symbolRotate"),symbolOffset:e.get("symbolOffset"),hoverAnimation:e.get("hoverAnimation"),useNameLabel:!0,fadeIn:!0};o.diff(l).add(function(t){m(o,t)&&v(o,t,null,s,e,c)}).update(function(t,i){var n=l.getItemGraphicEl(i);m(o,t)?v(o,t,n,s,e,c):n&&y(l,i,n,s,e,c)}).remove(function(t){var i=l.getItemGraphicEl(t);i&&y(l,t,i,s,e,c)}).execute(),this._nodeScaleRatio=e.get("nodeScaleRatio"),this._updateNodeAndLinkScale(e),!0===c.expandAndCollapse&&o.eachItemGraphicEl(function(t,n){t.off("click").on("click",function(){i.dispatchAction({type:"treeExpandAndCollapse",seriesId:e.id,dataIndex:n})})}),this._data=o},_updateViewCoordSys:function(e){var t=e.getData(),i=[];t.each(function(e){var n=t.getItemLayout(e);n&&!isNaN(n.x)&&!isNaN(n.y)&&i.push([+n.x,+n.y])});var n=[],o=[];l.fromPoints(i,n,o);var r=this._min,s=this._max;o[0]-n[0]==0&&(n[0]=r?r[0]:n[0]-1,o[0]=s?s[0]:o[0]+1),o[1]-n[1]==0&&(n[1]=r?r[1]:n[1]-1,o[1]=s?s[1]:o[1]+1);var a=e.coordinateSystem=new c;a.zoomLimit=e.get("scaleLimit"),a.setBoundingRect(n[0],n[1],o[0]-n[0],o[1]-n[1]),a.setCenter(e.get("center")),a.setZoom(e.get("zoom")),this.group.attr({position:a.position,scale:a.scale}),this._viewCoordSys=a,this._min=n,this._max=o},_updateController:function(e,t,i){var n=this._controller,o=this._controllerHost,r=this.group;n.setPointerChecker(function(t,n,o){var s=r.getBoundingRect();return s.applyTransform(r.transform),s.contain(n,o)&&!d(t,i,e)}),n.enable(e.get("roam")),o.zoomLimit=e.get("scaleLimit"),o.zoom=e.coordinateSystem.getZoom(),n.off("pan").off("zoom").on("pan",function(t){h.updateViewOnPan(o,t.dx,t.dy),i.dispatchAction({seriesId:e.id,type:"treeRoam",dx:t.dx,dy:t.dy})},this).on("zoom",function(t){h.updateViewOnZoom(o,t.scale,t.originX,t.originY),i.dispatchAction({seriesId:e.id,type:"treeRoam",zoom:t.scale,originX:t.originX,originY:t.originY}),this._updateNodeAndLinkScale(e)},this)},_updateNodeAndLinkScale:function(e){var t=e.getData(),i=this._getNodeGlobalScale(e),n=[i,i];t.eachItemGraphicEl(function(e,t){e.attr("scale",n)})},_getNodeGlobalScale:function(e){var t=e.coordinateSystem;if("view"!==t.type)return 1;var i=this._nodeScaleRatio,n=t.scale,o=n&&n[0]||1;return((t.getZoom()-1)*i+1)/o},dispose:function(){this._controller&&this._controller.dispose(),this._controllerHost={}},remove:function(){this._mainGroup.removeAll(),this._data=null}});function m(e,t){var i=e.getItemLayout(t);return i&&!isNaN(i.x)&&!isNaN(i.y)&&"none"!==e.getItemVisual(t,"symbol")}function _(e,t,i){return i.itemModel=t,i.itemStyle=t.getModel("itemStyle").getItemStyle(),i.hoverItemStyle=t.getModel("emphasis.itemStyle").getItemStyle(),i.lineStyle=t.getModel("lineStyle").getLineStyle(),i.labelModel=t.getModel("label"),i.hoverLabelModel=t.getModel("emphasis.label"),i.symbolInnerColor=!1===e.isExpand&&0!==e.children.length?i.itemStyle.fill:"#fff",i}function v(e,t,i,s,a,l){var c=!i,h=e.tree.getNodeByDataIndex(t),u=h.getModel(),d=(l=_(h,u,l),e.tree.root),p=h.parentNode===d?h:h.parentNode||h,f=e.getItemGraphicEl(p.dataIndex),m=p.getLayout(),v=f?{x:f.position[0],y:f.position[1],rawX:f.__radialOldRawX,rawY:f.__radialOldRawY}:m,y=h.getLayout();c?(i=new r(e,t,l)).attr("position",[v.x,v.y]):i.updateData(e,t,l),i.__radialOldRawX=i.__radialRawX,i.__radialOldRawY=i.__radialRawY,i.__radialRawX=y.rawX,i.__radialRawY=y.rawY,s.add(i),e.setItemGraphicEl(t,i),o.updateProps(i,{position:[y.x,y.y]},a);var w=i.getSymbolPath();if("radial"===l.layout){var A,x,T=d.children[0],C=T.getLayout(),Z=T.children.length;if(y.x===C.x&&!0===h.isExpand){var k={};k.x=(T.children[0].getLayout().x+T.children[Z-1].getLayout().x)/2,k.y=(T.children[0].getLayout().y+T.children[Z-1].getLayout().y)/2,(A=Math.atan2(k.y-C.y,k.x-C.x))<0&&(A=2*Math.PI+A),(x=k.x<C.x)&&(A-=Math.PI)}else(A=Math.atan2(y.y-C.y,y.x-C.x))<0&&(A=2*Math.PI+A),0===h.children.length||0!==h.children.length&&!1===h.isExpand?(x=y.x<C.x)&&(A-=Math.PI):(x=y.x>C.x)||(A-=Math.PI);var S=x?"left":"right",E=l.labelModel.get("rotate"),M=E*(Math.PI/180);w.setStyle({textPosition:l.labelModel.get("position")||S,textRotation:null==E?-A:M,textOrigin:"center",verticalAlign:"middle"})}!function(e,t,i,r,s,a,l,c,h){var u=h.edgeShape,d=r.__edge;if("curve"===u)t.parentNode&&t.parentNode!==i&&(d||(d=r.__edge=new o.BezierCurve({shape:b(h,s,s),style:n.defaults({opacity:0,strokeNoScale:!0},h.lineStyle)})),o.updateProps(d,{shape:b(h,a,l),style:n.defaults({opacity:1},h.lineStyle)},e));else if("polyline"===u&&"orthogonal"===h.layout&&t!==i&&t.children&&0!==t.children.length&&!0===t.isExpand){for(var p=t.children,f=[],m=0;m<p.length;m++){var _=p[m].getLayout();f.push([_.x,_.y])}d||(d=r.__edge=new g({shape:{parentPoint:[l.x,l.y],childPoints:[[l.x,l.y]],orient:h.orient,forkPosition:h.edgeForkPosition},style:n.defaults({opacity:0,strokeNoScale:!0},h.lineStyle)})),o.updateProps(d,{shape:{parentPoint:[l.x,l.y],childPoints:f},style:n.defaults({opacity:1},h.lineStyle)},e)}c.add(d)}(a,h,d,i,v,m,y,s,l)}function y(e,t,i,n,r,s){for(var a,l=e.tree.getNodeByDataIndex(t),c=e.tree.root,h=l.getModel(),u=(s=_(l,h,s),l.parentNode===c?l:l.parentNode||l);null==(a=u.getLayout());)u=u.parentNode===c?u:u.parentNode||u;o.updateProps(i,{position:[a.x+1,a.y+1]},r,function(){n.remove(i),e.setItemGraphicEl(t,null)}),i.fadeOut(null,{keepLabel:!0});var d=e.getItemGraphicEl(u.dataIndex),p=i.__edge||(!1===u.isExpand||1===u.children.length?d.__edge:void 0),g=s.edgeShape;p&&("curve"===g?o.updateProps(p,{shape:b(s,a,a),style:{opacity:0}},r,function(){n.remove(p)}):"polyline"===g&&"orthogonal"===s.layout&&o.updateProps(p,{shape:{parentPoint:[a.x,a.y],childPoints:[[a.x,a.y]]},style:{opacity:0}},r,function(){n.remove(p)}))}function b(e,t,i){var n,o,r,a,l,c,h,u,d=e.orient;if("radial"===e.layout){c=i.rawX,u=i.rawY;var p=s(l=t.rawX,h=t.rawY),g=s(l,h+(u-h)*e.curvature),f=s(c,u+(h-u)*e.curvature),m=s(c,u);return{x1:p.x,y1:p.y,x2:m.x,y2:m.y,cpx1:g.x,cpy1:g.y,cpx2:f.x,cpy2:f.y}}return l=t.x,h=t.y,c=i.x,u=i.y,("LR"===d||"RL"===d)&&(n=l+(c-l)*e.curvature,o=h,r=c+(l-c)*e.curvature,a=u),("TB"===d||"BT"===d)&&(n=l,o=h+(u-h)*e.curvature,r=c,a=u+(h-u)*e.curvature),{x1:l,y1:h,x2:c,y2:u,cpx1:n,cpy1:o,cpx2:r,cpy2:a}}e.exports=f},63685:function(e,t,i){var n=i(40634);function o(e){var t=e.children;return t.length&&e.isExpand?t[t.length-1]:e.hierNode.thread}function r(e){var t=e.children;return t.length&&e.isExpand?t[0]:e.hierNode.thread}function s(e,t,i){return e.hierNode.ancestor.parentNode===t.parentNode?e.hierNode.ancestor:i}function a(e,t,i){var n=i/(t.hierNode.i-e.hierNode.i);t.hierNode.change-=n,t.hierNode.shift+=i,t.hierNode.modifier+=i,t.hierNode.prelim+=i,e.hierNode.change+=n}function l(e,t){return e.parentNode===t.parentNode?1:2}t.init=function(e){e.hierNode={defaultAncestor:null,ancestor:e,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};for(var t,i,n=[e];t=n.pop();)if(i=t.children,t.isExpand&&i.length)for(var o=i.length-1;o>=0;o--){var r=i[o];r.hierNode={defaultAncestor:null,ancestor:r,prelim:0,modifier:0,change:0,shift:0,i:o,thread:null},n.push(r)}},t.firstWalk=function(e,t){var i=e.isExpand?e.children:[],n=e.parentNode.children,l=e.hierNode.i?n[e.hierNode.i-1]:null;if(i.length){!function(e){for(var t=e.children,i=t.length,n=0,o=0;--i>=0;){var r=t[i];r.hierNode.prelim+=n,r.hierNode.modifier+=n,n+=r.hierNode.shift+(o+=r.hierNode.change)}}(e);var c=(i[0].hierNode.prelim+i[i.length-1].hierNode.prelim)/2;l?(e.hierNode.prelim=l.hierNode.prelim+t(e,l),e.hierNode.modifier=e.hierNode.prelim-c):e.hierNode.prelim=c}else l&&(e.hierNode.prelim=l.hierNode.prelim+t(e,l));e.parentNode.hierNode.defaultAncestor=function(e,t,i,n){if(t){for(var l=e,c=e,h=c.parentNode.children[0],u=t,d=l.hierNode.modifier,p=c.hierNode.modifier,g=h.hierNode.modifier,f=u.hierNode.modifier;u=o(u),c=r(c),u&&c;){l=o(l),h=r(h),l.hierNode.ancestor=e;var m=u.hierNode.prelim+f-c.hierNode.prelim-p+n(u,c);m>0&&(a(s(u,e,i),e,m),p+=m,d+=m),f+=u.hierNode.modifier,p+=c.hierNode.modifier,d+=l.hierNode.modifier,g+=h.hierNode.modifier}u&&!o(l)&&(l.hierNode.thread=u,l.hierNode.modifier+=f-d),c&&!r(h)&&(h.hierNode.thread=c,h.hierNode.modifier+=p-g,i=e)}return i}(e,l,e.parentNode.hierNode.defaultAncestor||n[0],t)},t.secondWalk=function(e){e.setLayout({x:e.hierNode.prelim+e.parentNode.hierNode.modifier},!0),e.hierNode.modifier+=e.parentNode.hierNode.modifier},t.separation=function(e){return arguments.length?e:l},t.radialCoordinate=function(e,t){var i={};return e-=Math.PI/2,i.x=t*Math.cos(e),i.y=t*Math.sin(e),i},t.getViewRect=function(e,t){return n.getLayoutRect(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}},42856:function(e,t){t.eachAfter=function(e,t,i){for(var n,o=[e],r=[];n=o.pop();)if(r.push(n),n.isExpand){var s=n.children;if(s.length)for(var a=0;a<s.length;a++)o.push(s[a])}for(;n=r.pop();)t(n,i)},t.eachBefore=function(e,t){for(var i,n=[e];i=n.pop();)if(t(i),i.isExpand){var o=i.children;if(o.length)for(var r=o.length-1;r>=0;r--)n.push(o[r])}}},46617:function(e,t,i){var n=i(90650),o=i(93426).updateCenterAndZoom;n.registerAction({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},function(e,t){t.eachComponent({mainType:"series",subType:"tree",query:e},function(t){var i=e.dataIndex,n=t.getData().tree.getNodeByDataIndex(i);n.isExpand=!n.isExpand})}),n.registerAction({type:"treeRoam",event:"treeRoam",update:"none"},function(e,t){t.eachComponent({mainType:"series",subType:"tree",query:e},function(t){var i=o(t.coordinateSystem,e);t.setCenter&&t.setCenter(i.center),t.setZoom&&t.setZoom(i.zoom)})})},44745:function(e,t,i){var n=i(42856),o=n.eachAfter,r=n.eachBefore,s=i(63685),a=s.init,l=s.firstWalk,c=s.secondWalk,h=s.separation,u=s.radialCoordinate,d=s.getViewRect;e.exports=function(e,t){e.eachSeriesByType("tree",function(e){!function(e,t){var i=d(e,t);e.layoutInfo=i;var n=e.get("layout"),s=0,p=0,g=null;"radial"===n?(s=2*Math.PI,p=Math.min(i.height,i.width)/2,g=h(function(e,t){return(e.parentNode===t.parentNode?1:2)/e.depth})):(s=i.width,p=i.height,g=h());var f=e.getData().tree.root,m=f.children[0];if(m){a(f),o(m,l,g),f.hierNode.modifier=-m.hierNode.prelim,r(m,c);var _=m,v=m,y=m;r(m,function(e){var t=e.getLayout().x;t<_.getLayout().x&&(_=e),t>v.getLayout().x&&(v=e),e.depth>y.depth&&(y=e)});var b=_===v?1:g(_,v)/2,w=b-_.getLayout().x,A=0,x=0,T=0,C=0;if("radial"===n)A=s/(v.getLayout().x+b+w),x=p/(y.depth-1||1),r(m,function(e){T=(e.getLayout().x+w)*A;var t=u(T,C=(e.depth-1)*x);e.setLayout({x:t.x,y:t.y,rawX:T,rawY:C},!0)});else{var Z=e.getOrient();"RL"===Z||"LR"===Z?(x=p/(v.getLayout().x+b+w),A=s/(y.depth-1||1),r(m,function(e){C=(e.getLayout().x+w)*x,e.setLayout({x:T="LR"===Z?(e.depth-1)*A:s-(e.depth-1)*A,y:C},!0)})):("TB"===Z||"BT"===Z)&&(A=s/(v.getLayout().x+b+w),x=p/(y.depth-1||1),r(m,function(e){T=(e.getLayout().x+w)*A,e.setLayout({x:T,y:C="TB"===Z?(e.depth-1)*x:p-(e.depth-1)*x},!0)}))}}}(e,t)})}},97086:function(e,t,i){var n=i(90650);i(27718),i(9599),i(62873);var o=i(53703),r=i(11544);n.registerVisual(o),n.registerLayout(r)},24603:function(e,t,i){var n=i(62429),o=i(40634),r=i(40628),s=i(29658).wrapTreePathInfo;function a(e){this.group=new n.Group,e.add(this.group)}function l(e,t,i,n,o,r){var s=[[o?e:e-5,t],[e+i,t],[e+i,t+n],[o?e:e-5,t+n]];return!r&&s.splice(2,0,[e+i+5,t+n/2]),!o&&s.push([e,t+n/2]),s}function c(e,t,i){e.eventData={componentType:"series",componentSubType:"treemap",componentIndex:t.componentIndex,seriesIndex:t.componentIndex,seriesName:t.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:i&&i.dataIndex,name:i&&i.name},treePathInfo:i&&s(i,t)}}a.prototype={constructor:a,render:function(e,t,i,n){var r=e.getModel("breadcrumb"),s=this.group;if(s.removeAll(),r.get("show")&&i){var a=r.getModel("itemStyle"),l=a.getModel("textStyle"),c={pos:{left:r.get("left"),right:r.get("right"),top:r.get("top"),bottom:r.get("bottom")},box:{width:t.getWidth(),height:t.getHeight()},emptyItemWidth:r.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare(i,c,l),this._renderContent(e,c,a,l,n),o.positionElement(s,c.pos,c.box)}},_prepare:function(e,t,i){for(var n=e;n;n=n.parentNode){var o=n.getModel().get("name"),r=i.getTextRect(o),s=Math.max(r.width+16,t.emptyItemWidth);t.totalWidth+=s+8,t.renderList.push({node:n,text:o,width:s})}},_renderContent:function(e,t,i,s,a){for(var h=0,u=t.emptyItemWidth,d=e.get("breadcrumb.height"),p=o.getAvailableSize(t.pos,t.box),g=t.totalWidth,f=t.renderList,m=f.length-1;m>=0;m--){var _=f[m],v=_.node,y=_.width,b=_.text;g>p.width&&(g-=y-u,y=u,b=null);var w=new n.Polygon({shape:{points:l(h,0,y,d,m===f.length-1,0===m)},style:r.defaults(i.getItemStyle(),{lineJoin:"bevel",text:b,textFill:s.getTextColor(),textFont:s.getFont()}),z:10,onclick:r.curry(a,v)});this.group.add(w),c(w,e,v),h+=y+8}},remove:function(){this.group.removeAll()}},e.exports=a},27718:function(e,t,i){var n=i(40628),o=i(29521),r=i(82495),s=i(96948),a=i(99706),l=a.encodeHTML,c=a.addCommas,h=i(29658).wrapTreePathInfo,u=o.extend({type:"series.treemap",layoutMode:"box",dependencies:["grid","polar"],preventUsingHoverLayer:!0,_viewRoot:null,defaultOption:{progressive:0,left:"center",top:"middle",right:null,bottom:null,width:"80%",height:"80%",sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"\u25b6",zoomToNodeRatio:.1024,roam:!0,nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{color:"rgba(0,0,0,0.7)",borderColor:"rgba(255,255,255,0.7)",borderWidth:1,shadowColor:"rgba(150,150,150,1)",shadowBlur:3,shadowOffsetX:0,shadowOffsetY:0,textStyle:{color:"#fff"}},emphasis:{textStyle:{}}},label:{show:!0,distance:0,padding:5,position:"inside",color:"#fff",ellipsis:!0},upperLabel:{show:!1,position:[0,"50%"],height:20,color:"#fff",ellipsis:!0,verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,"50%"],color:"#fff",ellipsis:!0,verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},getInitialData:function(e,t){var i={name:e.name,children:e.data};d(i);var o=e.levels||[],a=this.designatedVisualItemStyle={},l=new s({itemStyle:a},this,t);o=e.levels=function(e,t){var i,o=t.get("color");if(o)return n.each(e=e||[],function(e){var t=new s(e),n=t.get("color");(t.get("itemStyle.color")||n&&"none"!==n)&&(i=!0)}),i||((e[0]||(e[0]={})).color=o.slice()),e}(o,t);var c=n.map(o||[],function(e){return new s(e,l,t)},this),h=r.createTree(i,this,function(e){e.wrapMethod("getItemModel",function(e,t){var i=h.getNodeByDataIndex(t);return e.parentModel=c[i.depth]||l,e})});return h.data},optionUpdated:function(){this.resetViewRoot()},formatTooltip:function(e){var t=this.getData(),i=this.getRawValue(e),o=n.isArray(i)?c(i[0]):c(i),r=t.getName(e);return l(r+": "+o)},getDataParams:function(e){var t=o.prototype.getDataParams.apply(this,arguments),i=this.getData().tree.getNodeByDataIndex(e);return t.treePathInfo=h(i,this),t},setLayoutInfo:function(e){this.layoutInfo=this.layoutInfo||{},n.extend(this.layoutInfo,e)},mapIdToIndex:function(e){var t=this._idIndexMap;t||(t=this._idIndexMap=n.createHashMap(),this._idIndexMapCount=0);var i=t.get(e);return null==i&&t.set(e,i=this._idIndexMapCount++),i},getViewRoot:function(){return this._viewRoot},resetViewRoot:function(e){e?this._viewRoot=e:e=this._viewRoot;var t=this.getRawData().tree.root;(!e||e!==t&&!t.contains(e))&&(this._viewRoot=t)}});function d(e){var t=0;n.each(e.children,function(e){d(e);var i=e.value;n.isArray(i)&&(i=i[0]),t+=i});var i=e.value;n.isArray(i)&&(i=i[0]),(null==i||isNaN(i))&&(i=t),i<0&&(i=0),n.isArray(e.value)?e.value[0]=i:e.value=i}e.exports=u},9599:function(e,t,i){var n=i(90650),o=i(40628),r=i(62429),s=i(12650),a=i(29658),l=i(24603),c=i(96001),h=i(87021),u=i(3481),d=i(10668),p=i(25632),g=i(99706).windowOpen,f=o.bind,m=r.Group,_=r.Rect,v=o.each,y=["label"],b=["emphasis","label"],w=["upperLabel"],A=["emphasis","upperLabel"],x=p([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),T=function(e){var t=x(e);return t.stroke=t.fill=t.lineWidth=null,t},C=n.extendChartView({type:"treemap",init:function(e,t){this._storage={nodeGroup:[],background:[],content:[]},this._state="ready"},render:function(e,t,i,n){var r=t.findComponents({mainType:"series",subType:"treemap",query:n});if(!(o.indexOf(r,e)<0)){this.seriesModel=e,this.api=i,this.ecModel=t;var s=a.retrieveTargetInfo(n,["treemapZoomToNode","treemapRootToNode"],e),l=n&&n.type,c=e.layoutInfo,h=!this._oldTree,u=this._storage,d="treemapRootToNode"===l&&s&&u?{rootNodeGroup:u.nodeGroup[s.node.getRawIndex()],direction:n.direction}:null,p=this._giveContainerGroup(c),g=this._doRender(p,e,d);h||l&&"treemapZoomToNode"!==l&&"treemapRootToNode"!==l?g.renderFinally():this._doAnimation(p,g,e,d),this._resetController(i),this._renderBreadcrumb(e,i,s)}},_giveContainerGroup:function(e){var t=this._containerGroup;return t||(t=this._containerGroup=new m,this._initEvents(t),this.group.add(t)),t.attr("position",[e.x,e.y]),t},_doRender:function(e,t,i){var n=t.getData().tree,r=this._oldTree,a={nodeGroup:[],background:[],content:[]},l={nodeGroup:[],background:[],content:[]},c=this._storage,h=[],u=o.curry(Z,t,l,c,i,a,h);!function e(t,i,n,r,a){function l(e){return e.getId()}function c(o,s){var l=null!=o?t[o]:null,c=null!=s?i[s]:null,h=u(l,c,n,a);h&&e(l&&l.viewChildren||[],c&&c.viewChildren||[],h,r,a+1)}r?(i=t,v(t,function(e,t){!e.isRemoved()&&c(t,t)})):new s(i,t,l,l).add(c).update(c).remove(o.curry(c,null)).execute()}(n.root?[n.root]:[],r&&r.root?[r.root]:[],e,n===r||!r,0);var d,p,g=(p={nodeGroup:[],background:[],content:[]},(d=c)&&v(d,function(e,t){var i=p[t];v(e,function(e){e&&(i.push(e),e.__tmWillDelete=1)})}),p);return this._oldTree=n,this._storage=l,{lastsForAnimation:a,willDeleteEls:g,renderFinally:function(){v(g,function(e){v(e,function(e){e.parent&&e.parent.remove(e)})}),v(h,function(e){e.invisible=!0,e.dirty()})}}},_doAnimation:function(e,t,i,n){if(i.get("animation")){var r=i.get("animationDurationUpdate"),s=i.get("animationEasing"),a=d.createWrap();v(t.willDeleteEls,function(e,t){v(e,function(e,i){if(!e.invisible){var o,l=e.parent;if(n&&"drillDown"===n.direction)o=l===n.rootNodeGroup?{shape:{x:0,y:0,width:l.__tmNodeWidth,height:l.__tmNodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var c=0,h=0;l.__tmWillDelete||(c=l.__tmNodeWidth/2,h=l.__tmNodeHeight/2),o="nodeGroup"===t?{position:[c,h],style:{opacity:0}}:{shape:{x:c,y:h,width:0,height:0},style:{opacity:0}}}o&&a.add(e,o,r,s)}})}),v(this._storage,function(e,i){v(e,function(e,n){var l=t.lastsForAnimation[i][n],c={};!l||("nodeGroup"===i?l.old&&(c.position=e.position.slice(),e.attr("position",l.old)):(l.old&&(c.shape=o.extend({},e.shape),e.setShape(l.old)),l.fadein?(e.setStyle("opacity",0),c.style={opacity:1}):1!==e.style.opacity&&(c.style={opacity:1})),a.add(e,c,r,s))})},this),this._state="animating",a.done(f(function(){this._state="ready",t.renderFinally()},this)).start()}},_resetController:function(e){var t=this._controller;t||((t=this._controller=new c(e.getZr())).enable(this.seriesModel.get("roam")),t.on("pan",f(this._onPan,this)),t.on("zoom",f(this._onZoom,this)));var i=new h(0,0,e.getWidth(),e.getHeight());t.setPointerChecker(function(e,t,n){return i.contain(t,n)})},_clearController:function(){var e=this._controller;e&&(e.dispose(),e=null)},_onPan:function(e){if("animating"!==this._state&&(Math.abs(e.dx)>3||Math.abs(e.dy)>3)){var t=this.seriesModel.getData().tree.root;if(!t)return;var i=t.getLayout();if(!i)return;this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:i.x+e.dx,y:i.y+e.dy,width:i.width,height:i.height}})}},_onZoom:function(e){var t=e.originX,i=e.originY;if("animating"!==this._state){var n=this.seriesModel.getData().tree.root;if(!n)return;var o=n.getLayout();if(!o)return;var r=new h(o.x,o.y,o.width,o.height),s=this.seriesModel.layoutInfo;t-=s.x,i-=s.y;var a=u.create();u.translate(a,a,[-t,-i]),u.scale(a,a,[e.scale,e.scale]),u.translate(a,a,[t,i]),r.applyTransform(a),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:r.x,y:r.y,width:r.width,height:r.height}})}},_initEvents:function(e){e.on("click",function(e){if("ready"===this._state){var t=this.seriesModel.get("nodeClick",!0);if(t){var i=this.findTarget(e.offsetX,e.offsetY);if(i){var n=i.node;if(n.getLayout().isLeafRoot)this._rootToNode(i);else if("zoomToNode"===t)this._zoomToNode(i);else if("link"===t){var o=n.hostTree.data.getItemModel(n.dataIndex),r=o.get("link",!0),s=o.get("target",!0)||"blank";r&&g(r,s)}}}}},this)},_renderBreadcrumb:function(e,t,i){i||(i=null!=e.get("leafDepth",!0)?{node:e.getViewRoot()}:this.findTarget(t.getWidth()/2,t.getHeight()/2))||(i={node:e.getData().tree.root}),(this._breadcrumb||(this._breadcrumb=new l(this.group))).render(e,t,i.node,f(function(t){"animating"!==this._state&&(a.aboveViewRoot(e.getViewRoot(),t)?this._rootToNode({node:t}):this._zoomToNode({node:t}))},this))},remove:function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage={nodeGroup:[],background:[],content:[]},this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},dispose:function(){this._clearController()},_zoomToNode:function(e){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:e.node})},_rootToNode:function(e){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:e.node})},findTarget:function(e,t){var i;return this.seriesModel.getViewRoot().eachNode({attr:"viewChildren",order:"preorder"},function(n){var o=this._storage.background[n.getRawIndex()];if(o){var r=o.transformCoordToLocal(e,t),s=o.shape;if(!(s.x<=r[0]&&r[0]<=s.x+s.width&&s.y<=r[1]&&r[1]<=s.y+s.height))return!1;i={node:n,offsetX:r[0],offsetY:r[1]}}},this),i}});function Z(e,t,i,n,s,a,l,c,h,u){if(l){var d=l.getLayout(),p=e.getData();if(p.setItemGraphicEl(l.dataIndex,null),d&&d.isInView){var g=d.width,f=d.height,v=d.borderWidth,C=d.invisible,Z=l.getRawIndex(),S=c&&c.getRawIndex(),E=l.viewChildren,M=d.upperHeight,O=E&&E.length,I=l.getModel("itemStyle"),P=l.getModel("emphasis.itemStyle"),R=F("nodeGroup",m);if(R){if(h.add(R),R.attr("position",[d.x||0,d.y||0]),R.__tmNodeWidth=g,R.__tmNodeHeight=f,d.isAboveViewRoot)return R;var q=l.getModel(),L=F("background",_,u,1);if(L&&function(t,i,n){if(i.dataIndex=l.dataIndex,i.seriesIndex=e.seriesIndex,i.setShape({x:0,y:0,width:g,height:f}),C)B(i);else{i.invisible=!1;var o=l.getVisual("borderColor",!0),s=P.get("borderColor"),a=T(I);a.fill=o;var c=x(P);if(c.fill=s,n){var h=g-2*v;D(a,c,o,h,M,{x:v,y:0,width:h,height:M})}else a.text=c.text=null;i.setStyle(a),r.setElementHoverStyle(i,c)}t.add(i)}(R,L,O&&d.upperLabelHeight),O)r.isHighDownDispatcher(R)&&r.setAsHighDownDispatcher(R,!1),L&&(r.setAsHighDownDispatcher(L,!0),p.setItemGraphicEl(l.dataIndex,L));else{var U=F("content",_,u,2);U&&function(t,i){i.dataIndex=l.dataIndex,i.seriesIndex=e.seriesIndex;var n=Math.max(g-2*v,0),o=Math.max(f-2*v,0);if(i.culling=!0,i.setShape({x:v,y:v,width:n,height:o}),C)B(i);else{i.invisible=!1;var s=l.getVisual("color",!0),a=T(I);a.fill=s;var c=x(P);D(a,c,s,n,o),i.setStyle(a),r.setElementHoverStyle(i,c)}t.add(i)}(R,U),L&&r.isHighDownDispatcher(L)&&r.setAsHighDownDispatcher(L,!1),r.setAsHighDownDispatcher(R,!0),p.setItemGraphicEl(l.dataIndex,R)}return R}}}function B(e){!e.invisible&&a.push(e)}function D(t,i,n,s,a,c){var h=q.get("name"),u=q.getModel(c?w:y),p=q.getModel(c?A:b),g=u.getShallow("show");r.setLabelStyle(t,i,u,p,{defaultText:g?h:null,autoColor:n,isRectText:!0,labelFetcher:e,labelDataIndex:l.dataIndex,labelProp:c?"upperLabel":"label"}),N(t,c,d),N(i,c,d),c&&(t.textRect=o.clone(c)),t.truncate=g&&u.get("ellipsis")?{outerWidth:s,outerHeight:a,minChar:2}:null}function N(t,i,n){var o=t.text;if(!i&&n.isLeafRoot&&null!=o){var r=e.get("drillDownIcon",!0);t.text=r?r+" "+o:o}}function F(e,r,a,c){var h=null!=S&&i[e][S],u=s[e];return h?(i[e][S]=null,function(e,t,i){(e[Z]={}).old="nodeGroup"===i?t.position.slice():o.extend({},t.shape)}(u,h,e)):C||((h=new r({z:k(a,c)})).__tmDepth=a,h.__tmStorageName=e,function(e,t,i){var o=e[Z]={},r=l.parentNode;if(r&&(!n||"drillDown"===n.direction)){var a=0,c=0,h=s.background[r.getRawIndex()];!n&&h&&h.old&&(a=h.old.width,c=h.old.height),o.old="nodeGroup"===i?[0,c]:{x:a,y:c,width:0,height:0}}o.fadein="nodeGroup"!==i}(u,0,e)),t[e][Z]=h}}function k(e,t){var i=10*e+t;return(i-1)/i}e.exports=C},62873:function(e,t,i){for(var n=i(90650),o=i(29658),r=function(){},s=["treemapZoomToNode","treemapRender","treemapMove"],a=0;a<s.length;a++)n.registerAction({type:s[a],update:"updateView"},r);n.registerAction({type:"treemapRootToNode",update:"updateView"},function(e,t){t.eachComponent({mainType:"series",subType:"treemap",query:e},function(t,i){var n=o.retrieveTargetInfo(e,["treemapZoomToNode","treemapRootToNode"],t);if(n){var r=t.getViewRoot();r&&(e.direction=o.aboveViewRoot(r,n.node)?"rollUp":"drillDown"),t.resetViewRoot(n.node)}})})},11544:function(e,t,i){var n=i(40628),o=i(87021),r=i(14785),s=r.parsePercent,a=r.MAX_SAFE_INTEGER,l=i(40634),c=i(29658),h=Math.max,u=Math.min,d=n.retrieve,p=n.each,g=["itemStyle","borderWidth"],f=["itemStyle","gapWidth"],m=["upperLabel","show"],_=["upperLabel","height"];function v(e,t,i,o){var r,s;if(!e.isRemoved()){var a=e.getLayout();r=a.width,s=a.height;var l=(x=e.getModel()).get(g),c=x.get(f)/2,d=A(x),m=Math.max(l,d),_=l-c,w=m-c,x=e.getModel();e.setLayout({borderWidth:l,upperHeight:m,upperLabelHeight:d},!0);var T=(r=h(r-2*_,0))*(s=h(s-_-w,0)),C=function(e,t,i,o,r,s){var a=e.children||[],l=o.sort;"asc"!==l&&"desc"!==l&&(l=null);var c=null!=o.leafDepth&&o.leafDepth<=s;if(r&&!c)return e.viewChildren=[];!function(e,t){t&&e.sort(function(e,i){var n="asc"===t?e.getValue()-i.getValue():i.getValue()-e.getValue();return 0===n?"asc"===t?e.dataIndex-i.dataIndex:i.dataIndex-e.dataIndex:n})}(a=n.filter(a,function(e){return!e.isRemoved()}),l);var h=function(e,t,i){for(var n=0,o=0,r=t.length;o<r;o++)n+=t[o].getValue();var s=e.get("visualDimension");if(t&&t.length)if("value"===s&&i)a=[t[t.length-1].getValue(),t[0].getValue()],"asc"===i&&a.reverse();else{var a=[1/0,-1/0];p(t,function(e){var t=e.getValue(s);t<a[0]&&(a[0]=t),t>a[1]&&(a[1]=t)})}else a=[NaN,NaN];return{sum:n,dataExtent:a}}(t,a,l);if(0===h.sum)return e.viewChildren=[];if(h.sum=function(e,t,i,n,o){if(!n)return i;for(var r=e.get("visibleMin"),s=o.length,a=s,l=s-1;l>=0;l--){var c=o["asc"===n?s-l-1:l].getValue();c/i*t<r&&(a=l,i-=c)}return o.splice("asc"===n?0:a,s-a),i}(t,i,h.sum,l,a),0===h.sum)return e.viewChildren=[];for(var u=0,d=a.length;u<d;u++){var g=a[u].getValue()/h.sum*i;a[u].setLayout({area:g})}return c&&(a.length&&e.setLayout({isLeafRoot:!0},!0),a.length=0),e.viewChildren=a,e.setLayout({dataExtent:h.dataExtent},!0),a}(e,x,T,t,i,o);if(C.length){var Z={x:_,y:w,width:r,height:s},k=u(r,s),S=1/0,E=[];E.area=0;for(var M=0,O=C.length;M<O;){var I=C[M];E.push(I),E.area+=I.getLayout().area;var P=y(E,k,t.squareRatio);P<=S?(M++,S=P):(E.area-=E.pop().getLayout().area,b(E,k,Z,c,!1),k=u(Z.width,Z.height),E.length=E.area=0,S=1/0)}if(E.length&&b(E,k,Z,c,!0),!i){var R=x.get("childrenVisibleMin");null!=R&&T<R&&(i=!0)}for(M=0,O=C.length;M<O;M++)v(C[M],t,i,o+1)}}}function y(e,t,i){for(var n,o=0,r=1/0,s=0,a=e.length;s<a;s++)(n=e[s].getLayout().area)&&(n<r&&(r=n),n>o&&(o=n));var l=e.area*e.area,c=t*t*i;return l?h(c*o/l,l/(c*r)):1/0}function b(e,t,i,n,o){var r=t===i.width?0:1,s=1-r,a=["x","y"],l=["width","height"],c=i[a[r]],d=t?e.area/t:0;(o||d>i[l[s]])&&(d=i[l[s]]);for(var p=0,g=e.length;p<g;p++){var f=e[p],m={},_=d?f.getLayout().area/d:0,v=m[l[s]]=h(d-2*n,0),y=i[a[r]]+i[l[r]]-c,b=p===g-1||y<_?y:_,w=m[l[r]]=h(b-2*n,0);m[a[s]]=i[a[s]]+u(n,v/2),m[a[r]]=c+u(n,w/2),c+=b,f.setLayout(m,!0)}i[a[s]]+=d,i[l[s]]-=d}function w(e,t,i,n,r){var s=e.getLayout(),a=i[r],l=a&&a===e;if(!(a&&!l||r===i.length&&e!==n)){e.setLayout({isInView:!0,invisible:!l&&!t.intersect(s),isAboveViewRoot:l},!0);var c=new o(t.x-s.x,t.y-s.y,t.width,t.height);p(e.viewChildren||[],function(e){w(e,c,i,n,r+1)})}}function A(e){return e.get(m)?e.get(_):0}e.exports={seriesType:"treemap",reset:function(e,t,i,r){var h=i.getWidth(),u=i.getHeight(),f=e.option,m=l.getLayoutRect(e.getBoxLayoutParams(),{width:i.getWidth(),height:i.getHeight()}),_=f.size||[],y=s(d(m.width,_[0]),h),b=s(d(m.height,_[1]),u),x=r&&r.type,T=c.retrieveTargetInfo(r,["treemapZoomToNode","treemapRootToNode"],e),C="treemapRender"===x||"treemapMove"===x?r.rootRect:null,Z=e.getViewRoot(),k=c.getPathToRoot(Z);if("treemapMove"!==x){var S="treemapZoomToNode"===x?function(e,t,i,n,o){var r=(t||{}).node,s=[n,o];if(!r||r===i)return s;for(var l,c=n*o,h=c*e.option.zoomToNodeRatio;l=r.parentNode;){for(var u=0,d=l.children,p=0,f=d.length;p<f;p++)u+=d[p].getValue();var m=r.getValue();if(0===m)return s;h*=u/m;var _=l.getModel(),v=_.get(g);(h+=4*v*v+(3*v+Math.max(v,A(_)))*Math.pow(h,.5))>a&&(h=a),r=l}h<c&&(h=c);var y=Math.pow(h/c,.5);return[n*y,o*y]}(e,T,Z,y,b):C?[C.width,C.height]:[y,b],E=f.sort;E&&"asc"!==E&&"desc"!==E&&(E="desc");var M={squareRatio:f.squareRatio,sort:E,leafDepth:f.leafDepth};Z.hostTree.clearLayouts(),Z.setLayout({x:0,y:0,width:S[0],height:S[1],area:S[0]*S[1]}),v(Z,M,!1,0);var O=Z.getLayout();p(k,function(e,t){var i=(k[t+1]||Z).getValue();e.setLayout(n.extend({dataExtent:[i,i],borderWidth:0,upperHeight:0},O))})}var I=e.getData().tree.root;I.setLayout(function(e,t,i){if(t)return{x:t.x,y:t.y};var n={x:0,y:0};if(!i)return n;var o=i.node,r=o.getLayout();if(!r)return n;for(var s=[r.width/2,r.height/2],a=o;a;){var l=a.getLayout();s[0]+=l.x,s[1]+=l.y,a=a.parentNode}return{x:e.width/2-s[0],y:e.height/2-s[1]}}(m,C,T),!0),e.setLayoutInfo(m),w(I,new o(-m.x,-m.y,h,u),k,Z,0)}}},53703:function(e,t,i){var n=i(11630),o=i(10312),r=i(40628),s=r.isArray;function a(e,t,i,s){var c=e.getModel(),u=e.getLayout();if(u&&!u.invisible&&u.isInView){var d,p=e.getModel("itemStyle"),g=function(e,t,i){var n=r.extend({},t),o=i.designatedVisualItemStyle;return r.each(["color","colorAlpha","colorSaturation"],function(i){o[i]=t[i];var r=e.get(i);o[i]=null,null!=r&&(n[i]=r)}),n}(p,t,s),f=p.get("borderColor"),m=p.get("borderColorSaturation");null!=m&&(f=function(e,t){return null!=t?o.modifyHSL(t,null,null,e):null}(m,d=l(g))),e.setVisual("borderColor",f);var _=e.viewChildren;if(_&&_.length){var v=function(e,t,i,o,r,s){if(s&&s.length){var a=h(t,"color")||null!=r.color&&"none"!==r.color&&(h(t,"colorAlpha")||h(t,"colorSaturation"));if(a){var l=t.get("visualMin"),c=t.get("visualMax"),u=i.dataExtent.slice();null!=l&&l<u[0]&&(u[0]=l),null!=c&&c>u[1]&&(u[1]=c);var d=t.get("colorMappingBy"),p={type:a.name,dataExtent:u,visual:a.range};"color"!==p.type||"index"!==d&&"id"!==d?p.mappingMethod="linear":(p.mappingMethod="category",p.loop=!0);var g=new n(p);return g.__drColorMappingBy=d,g}}}(0,c,u,0,g,_);r.each(_,function(e,t){(e.depth>=i.length||e===i[e.depth])&&a(e,function(e,t,i,n,o,s){var a=r.extend({},t);if(o){var l=o.type,c="color"===l&&o.__drColorMappingBy,h="index"===c?n:"id"===c?s.mapIdToIndex(i.getId()):i.getValue(e.get("visualDimension"));a[l]=o.mapValueToVisual(h)}return a}(c,g,e,t,v,s),i,s)})}else d=l(g),e.setVisual("color",d)}}function l(e){var t=c(e,"color");if(t){var i=c(e,"colorAlpha"),n=c(e,"colorSaturation");return n&&(t=o.modifyHSL(t,null,null,n)),i&&(t=o.modifyAlpha(t,i)),t}}function c(e,t){var i=e[t];if(null!=i&&"none"!==i)return i}function h(e,t){var i=e.get(t);return s(i)&&i.length?{name:t,range:i}:null}e.exports={seriesType:"treemap",reset:function(e,t,i,n){var o=e.getData().tree.root;o.isRemoved()||a(o,{},e.getViewRoot().getAncestors(),e)}}},78136:function(e,t,i){i(47743),i(30838)},12862:function(e,t,i){i(85743),i(98225)},30838:function(e,t,i){var n=i(40628),o=i(62429),r=i(96948),s=i(98758),a=i(76291),l=["axisLine","axisLabel","axisTick","minorTick","splitLine","minorSplitLine","splitArea"];function c(e,t,i){t[1]>t[0]&&(t=t.slice().reverse());var n=e.coordToPoint([t[0],i]),o=e.coordToPoint([t[1],i]);return{x1:n[0],y1:n[1],x2:o[0],y2:o[1]}}function h(e){return e.getRadiusAxis().inverse?0:1}function u(e){var t=e[0],i=e[e.length-1];t&&i&&Math.abs(Math.abs(t.coord-i.coord)-360)<1e-4&&e.pop()}var d=s.extend({type:"angleAxis",axisPointerClass:"PolarAxisPointer",render:function(e,t){if(this.group.removeAll(),e.get("show")){var i=e.axis,o=i.polar,r=o.getRadiusAxis().getExtent(),s=i.getTicksCoords(),a=i.getMinorTicksCoords(),c=n.map(i.getViewLabels(),function(e){return(e=n.clone(e)).coord=i.dataToCoord(e.tickValue),e});u(c),u(s),n.each(l,function(t){e.get(t+".show")&&(!i.scale.isBlank()||"axisLine"===t)&&this["_"+t](e,o,s,a,r,c)},this)}},_axisLine:function(e,t,i,n,r){var s,a=e.getModel("axisLine.lineStyle"),l=h(t),c=l?0:1;(s=0===r[c]?new o.Circle({shape:{cx:t.cx,cy:t.cy,r:r[l]},style:a.getLineStyle(),z2:1,silent:!0}):new o.Ring({shape:{cx:t.cx,cy:t.cy,r:r[l],r0:r[c]},style:a.getLineStyle(),z2:1,silent:!0})).style.fill=null,this.group.add(s)},_axisTick:function(e,t,i,r,s){var a=e.getModel("axisTick"),l=(a.get("inside")?-1:1)*a.get("length"),u=s[h(t)],d=n.map(i,function(e){return new o.Line({shape:c(t,[u,u+l],e.coord)})});this.group.add(o.mergePath(d,{style:n.defaults(a.getModel("lineStyle").getLineStyle(),{stroke:e.get("axisLine.lineStyle.color")})}))},_minorTick:function(e,t,i,r,s){if(r.length){for(var a=e.getModel("axisTick"),l=e.getModel("minorTick"),u=(a.get("inside")?-1:1)*l.get("length"),d=s[h(t)],p=[],g=0;g<r.length;g++)for(var f=0;f<r[g].length;f++)p.push(new o.Line({shape:c(t,[d,d+u],r[g][f].coord)}));this.group.add(o.mergePath(p,{style:n.defaults(l.getModel("lineStyle").getLineStyle(),n.defaults(a.getLineStyle(),{stroke:e.get("axisLine.lineStyle.color")}))}))}},_axisLabel:function(e,t,i,s,l,c){var u=e.getCategories(!0),d=e.getModel("axisLabel"),p=d.get("margin"),g=e.get("triggerEvent");n.each(c,function(i,n){var s=d,c=i.tickValue,f=l[h(t)],m=t.coordToPoint([f+p,i.coord]),_=t.cx,v=t.cy,y=Math.abs(m[0]-_)/f<.3?"center":m[0]>_?"left":"right",b=Math.abs(m[1]-v)/f<.3?"middle":m[1]>v?"top":"bottom";u&&u[c]&&u[c].textStyle&&(s=new r(u[c].textStyle,d,d.ecModel));var w=new o.Text({silent:a.isLabelSilent(e)});this.group.add(w),o.setTextStyle(w.style,s,{x:m[0],y:m[1],textFill:s.getTextColor()||e.get("axisLine.lineStyle.color"),text:i.formattedLabel,textAlign:y,textVerticalAlign:b}),g&&(w.eventData=a.makeAxisEventDataBase(e),w.eventData.targetType="axisLabel",w.eventData.value=i.rawLabel)},this)},_splitLine:function(e,t,i,r,s){var a=e.getModel("splitLine").getModel("lineStyle"),l=a.get("color"),h=0;l=l instanceof Array?l:[l];for(var u=[],d=0;d<i.length;d++){var p=h++%l.length;u[p]=u[p]||[],u[p].push(new o.Line({shape:c(t,s,i[d].coord)}))}for(d=0;d<u.length;d++)this.group.add(o.mergePath(u[d],{style:n.defaults({stroke:l[d%l.length]},a.getLineStyle()),silent:!0,z:e.get("z")}))},_minorSplitLine:function(e,t,i,n,r){if(n.length){for(var s=e.getModel("minorSplitLine").getModel("lineStyle"),a=[],l=0;l<n.length;l++)for(var h=0;h<n[l].length;h++)a.push(new o.Line({shape:c(t,r,n[l][h].coord)}));this.group.add(o.mergePath(a,{style:s.getLineStyle(),silent:!0,z:e.get("z")}))}},_splitArea:function(e,t,i,r,s){if(i.length){var a=e.getModel("splitArea").getModel("areaStyle"),l=a.get("color"),c=0;l=l instanceof Array?l:[l];for(var h=[],u=Math.PI/180,d=-i[0].coord*u,p=Math.min(s[0],s[1]),g=Math.max(s[0],s[1]),f=e.get("clockwise"),m=1;m<i.length;m++){var _=c++%l.length;h[_]=h[_]||[],h[_].push(new o.Sector({shape:{cx:t.cx,cy:t.cy,r0:p,r:g,startAngle:d,endAngle:-i[m].coord*u,clockwise:f},silent:!0})),d=-i[m].coord*u}for(m=0;m<h.length;m++)this.group.add(o.mergePath(h[m],{style:n.defaults({fill:l[m%l.length]},a.getAreaStyle()),silent:!0}))}}});e.exports=d},76291:function(e,t,i){var n=i(40628),o=n.retrieve,r=n.defaults,s=n.extend,a=n.each,l=i(99706),c=i(62429),h=i(96948),u=i(14785),d=u.isRadianAroundZero,p=u.remRadian,g=i(34550).createSymbol,f=i(3481),m=i(98221).applyTransform,_=i(63635).shouldShowAllLabels,v=Math.PI,y=function(e,t){this.opt=t,this.axisModel=e,r(t,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0}),this.group=new c.Group;var i=new c.Group({position:t.position.slice(),rotation:t.rotation});i.updateTransform(),this._transform=i.transform,this._dumbGroup=i};y.prototype={constructor:y,hasBuilder:function(e){return!!b[e]},add:function(e){b[e].call(this)},getGroup:function(){return this.group}};var b={axisLine:function(){var e=this.opt,t=this.axisModel;if(t.get("axisLine.show")){var i=this.axisModel.axis.getExtent(),n=this._transform,o=[i[0],0],r=[i[1],0];n&&(m(o,o,n),m(r,r,n));var l=s({lineCap:"round"},t.getModel("axisLine.lineStyle").getLineStyle());this.group.add(new c.Line({anid:"line",subPixelOptimize:!0,shape:{x1:o[0],y1:o[1],x2:r[0],y2:r[1]},style:l,strokeContainThreshold:e.strokeContainThreshold||5,silent:!0,z2:1}));var h=t.get("axisLine.symbol"),u=t.get("axisLine.symbolSize"),d=t.get("axisLine.symbolOffset")||0;if("number"==typeof d&&(d=[d,d]),null!=h){"string"==typeof h&&(h=[h,h]),("string"==typeof u||"number"==typeof u)&&(u=[u,u]);var p=u[0],f=u[1];a([{rotate:e.rotation+Math.PI/2,offset:d[0],r:0},{rotate:e.rotation-Math.PI/2,offset:d[1],r:Math.sqrt((o[0]-r[0])*(o[0]-r[0])+(o[1]-r[1])*(o[1]-r[1]))}],function(t,i){if("none"!==h[i]&&null!=h[i]){var n=g(h[i],-p/2,-f/2,p,f,l.stroke,!0),r=t.r+t.offset,s=[o[0]+r*Math.cos(e.rotation),o[1]-r*Math.sin(e.rotation)];n.attr({rotation:t.rotate,position:s,silent:!0,z2:11}),this.group.add(n)}},this)}}},axisTickLabel:function(){var e=this.axisModel,t=this.opt,i=function(e,t,i){var n=t.axis,o=t.getModel("axisTick");if(o.get("show")&&!n.scale.isBlank()){for(var s=o.getModel("lineStyle"),a=i.tickDirection*o.get("length"),l=k(n.getTicksCoords(),e._transform,a,r(s.getLineStyle(),{stroke:t.get("axisLine.lineStyle.color")}),"ticks"),c=0;c<l.length;c++)e.group.add(l[c]);return l}}(this,e,t),n=function(e,t,i){var n=t.axis;if(o(i.axisLabelShow,t.get("axisLabel.show"))&&!n.scale.isBlank()){var r=t.getModel("axisLabel"),s=r.get("margin"),l=n.getViewLabels(),u=(o(i.labelRotate,r.get("rotate"))||0)*v/180,d=A(i.rotation,u,i.labelDirection),p=t.getCategories&&t.getCategories(!0),g=[],f=x(t),m=t.get("triggerEvent");return a(l,function(o,a){var l=o.tickValue,u=o.formattedLabel,_=o.rawLabel,v=r;p&&p[l]&&p[l].textStyle&&(v=new h(p[l].textStyle,r,t.ecModel));var y=v.getTextColor()||t.get("axisLine.lineStyle.color"),b=n.dataToCoord(l),A=new c.Text({anid:"label_"+l,position:[b,i.labelOffset+i.labelDirection*s],rotation:d.rotation,silent:f,z2:10});c.setTextStyle(A.style,v,{text:u,textAlign:v.getShallow("align",!0)||d.textAlign,textVerticalAlign:v.getShallow("verticalAlign",!0)||v.getShallow("baseline",!0)||d.textVerticalAlign,textFill:"function"==typeof y?y("category"===n.type?_:"value"===n.type?l+"":l,a):y}),m&&(A.eventData=w(t),A.eventData.targetType="axisLabel",A.eventData.value=_),e._dumbGroup.add(A),A.updateTransform(),g.push(A),e.group.add(A),A.decomposeTransform()}),g}}(this,e,t);(function(e,t,i){if(!_(e.axis)){var n=e.get("axisLabel.showMinLabel"),o=e.get("axisLabel.showMaxLabel"),r=(t=t||[])[0],s=t[1],a=t[t.length-1],l=t[t.length-2],c=(i=i||[])[0],h=i[1],u=i[i.length-1],d=i[i.length-2];!1===n?(T(r),T(c)):C(r,s)&&(n?(T(s),T(h)):(T(r),T(c))),!1===o?(T(a),T(u)):C(l,a)&&(o?(T(l),T(d)):(T(a),T(u)))}})(e,n,i),function(e,t,i){var n=t.axis,o=t.getModel("minorTick");if(o.get("show")&&!n.scale.isBlank()){var s=n.getMinorTicksCoords();if(s.length)for(var a=o.getModel("lineStyle"),l=i.tickDirection*o.get("length"),c=r(a.getLineStyle(),r(t.getModel("axisTick").getLineStyle(),{stroke:t.get("axisLine.lineStyle.color")})),h=0;h<s.length;h++)for(var u=k(s[h],e._transform,l,c,"minorticks_"+h),d=0;d<u.length;d++)e.group.add(u[d])}}(this,e,t)},axisName:function(){var e=this.opt,t=this.axisModel,i=o(e.axisName,t.get("name"));if(i){var n,r,a=t.get("nameLocation"),h=e.nameDirection,u=t.getModel("nameTextStyle"),g=t.get("nameGap")||0,f=this.axisModel.axis.getExtent(),m=f[0]>f[1]?-1:1,_=["start"===a?f[0]-m*g:"end"===a?f[1]+m*g:(f[0]+f[1])/2,Z(a)?e.labelOffset+h*g:0],y=t.get("nameRotate");null!=y&&(y=y*v/180),Z(a)?n=A(e.rotation,null!=y?y:e.rotation,h):(n=function(e,t,i,n){var o,r,s=p(i-e.rotation),a=n[0]>n[1],l="start"===t&&!a||"start"!==t&&a;return d(s-v/2)?(r=l?"bottom":"top",o="center"):d(s-1.5*v)?(r=l?"top":"bottom",o="center"):(r="middle",o=s<1.5*v&&s>v/2?l?"left":"right":l?"right":"left"),{rotation:s,textAlign:o,textVerticalAlign:r}}(e,a,y||0,f),null!=(r=e.axisNameAvailableWidth)&&(r=Math.abs(r/Math.sin(n.rotation)),!isFinite(r)&&(r=null)));var b=u.getFont(),T=t.get("nameTruncate",!0)||{},C=T.ellipsis,k=o(e.nameTruncateMaxWidth,T.maxWidth,r),S=null!=C&&null!=k?l.truncateText(i,k,b,C,{minChar:2,placeholder:T.placeholder}):i,E=t.get("tooltip",!0),M=t.mainType,O={componentType:M,name:i,$vars:["name"]};O[M+"Index"]=t.componentIndex;var I=new c.Text({anid:"name",__fullText:i,__truncatedText:S,position:_,rotation:n.rotation,silent:x(t),z2:1,tooltip:E&&E.show?s({content:i,formatter:function(){return i},formatterParams:O},E):null});c.setTextStyle(I.style,u,{text:S,textFont:b,textFill:u.getTextColor()||t.get("axisLine.lineStyle.color"),textAlign:u.get("align")||n.textAlign,textVerticalAlign:u.get("verticalAlign")||n.textVerticalAlign}),t.get("triggerEvent")&&(I.eventData=w(t),I.eventData.targetType="axisName",I.eventData.name=i),this._dumbGroup.add(I),I.updateTransform(),this.group.add(I),I.decomposeTransform()}}},w=y.makeAxisEventDataBase=function(e){var t={componentType:e.mainType,componentIndex:e.componentIndex};return t[e.mainType+"Index"]=e.componentIndex,t},A=y.innerTextLayout=function(e,t,i){var n,o,r=p(t-e);return d(r)?(o=i>0?"top":"bottom",n="center"):d(r-v)?(o=i>0?"bottom":"top",n="center"):(o="middle",n=r>0&&r<v?i>0?"right":"left":i>0?"left":"right"),{rotation:r,textAlign:n,textVerticalAlign:o}},x=y.isLabelSilent=function(e){var t=e.get("tooltip");return e.get("silent")||!(e.get("triggerEvent")||t&&t.show)};function T(e){e&&(e.ignore=!0)}function C(e,t,i){var n=e&&e.getBoundingRect().clone(),o=t&&t.getBoundingRect().clone();if(n&&o){var r=f.identity([]);return f.rotate(r,r,-e.rotation),n.applyTransform(f.mul([],r,e.getLocalTransform())),o.applyTransform(f.mul([],r,t.getLocalTransform())),n.intersect(o)}}function Z(e){return"middle"===e||"center"===e}function k(e,t,i,n,o){for(var r=[],s=[],a=[],l=0;l<e.length;l++){var h=e[l].coord;s[0]=h,s[1]=0,a[0]=h,a[1]=i,t&&(m(s,s,t),m(a,a,t));var u=new c.Line({anid:o+"_"+e[l].tickValue,subPixelOptimize:!0,shape:{x1:s[0],y1:s[1],x2:a[0],y2:a[1]},style:n,z2:2,silent:!0});r.push(u)}return r}e.exports=y},98758:function(e,t,i){i(59963);var n=i(90650),o=i(13178),r=n.extendComponentView({type:"axis",_axisPointer:null,axisPointerClass:null,render:function(e,t,i,n){this.axisPointerClass&&o.fixValue(e),r.superApply(this,"render",arguments),s(this,e,0,i,0,!0)},updateAxisPointer:function(e,t,i,n,o){s(this,e,0,i,0,!1)},remove:function(e,t){var i=this._axisPointer;i&&i.remove(t),r.superApply(this,"remove",arguments)},dispose:function(e,t){a(this,t),r.superApply(this,"dispose",arguments)}});function s(e,t,i,n,s,l){var c=r.getAxisPointerClass(e.axisPointerClass);if(c){var h=o.getAxisPointerModel(t);h?(e._axisPointer||(e._axisPointer=new c)).render(t,h,n,l):a(e,n)}}function a(e,t,i){var n=e._axisPointer;n&&n.dispose(t,i),e._axisPointer=null}var l=[];r.registerAxisPointerClass=function(e,t){l[e]=t},r.getAxisPointerClass=function(e){return e&&l[e]},e.exports=r},98225:function(e,t,i){var n=i(40628),o=i(62429),r=i(76291),s=i(98758),a=i(50754),l=i(66395),c=l.rectCoordAxisBuildSplitArea,h=l.rectCoordAxisHandleRemove,u=["axisLine","axisTickLabel","axisName"],d=["splitArea","splitLine","minorSplitLine"],p=s.extend({type:"cartesianAxis",axisPointerClass:"CartesianAxisPointer",render:function(e,t,i,s){this.group.removeAll();var l=this._axisGroup;if(this._axisGroup=new o.Group,this.group.add(this._axisGroup),e.get("show")){var c=e.getCoordSysModel(),h=a.layout(c,e),g=new r(e,h);n.each(u,g.add,g),this._axisGroup.add(g.getGroup()),n.each(d,function(t){e.get(t+".show")&&this["_"+t](e,c)},this),o.groupTransition(l,this._axisGroup,e),p.superCall(this,"render",e,t,i,s)}},remove:function(){h(this)},_splitLine:function(e,t){var i=e.axis;if(!i.scale.isBlank()){var r=e.getModel("splitLine"),s=r.getModel("lineStyle"),a=s.get("color");a=n.isArray(a)?a:[a];for(var l=t.coordinateSystem.getRect(),c=i.isHorizontal(),h=0,u=i.getTicksCoords({tickModel:r}),d=[],p=[],g=s.getLineStyle(),f=0;f<u.length;f++){var m=i.toGlobalCoord(u[f].coord);c?(d[0]=m,d[1]=l.y,p[0]=m,p[1]=l.y+l.height):(d[0]=l.x,d[1]=m,p[0]=l.x+l.width,p[1]=m);var _=h++%a.length;this._axisGroup.add(new o.Line({anid:null!=u[f].tickValue?"line_"+u[f].tickValue:null,subPixelOptimize:!0,shape:{x1:d[0],y1:d[1],x2:p[0],y2:p[1]},style:n.defaults({stroke:a[_]},g),silent:!0}))}}},_minorSplitLine:function(e,t){var i=e.axis,n=e.getModel("minorSplitLine").getModel("lineStyle"),r=t.coordinateSystem.getRect(),s=i.isHorizontal(),a=i.getMinorTicksCoords();if(a.length)for(var l=[],c=[],h=n.getLineStyle(),u=0;u<a.length;u++)for(var d=0;d<a[u].length;d++){var p=i.toGlobalCoord(a[u][d].coord);s?(l[0]=p,l[1]=r.y,c[0]=p,c[1]=r.y+r.height):(l[0]=r.x,l[1]=p,c[0]=r.x+r.width,c[1]=p),this._axisGroup.add(new o.Line({anid:"minor_line_"+a[u][d].tickValue,subPixelOptimize:!0,shape:{x1:l[0],y1:l[1],x2:c[0],y2:c[1]},style:h,silent:!0}))}},_splitArea:function(e,t){c(this,this._axisGroup,e,t)}});p.extend({type:"xAxis"}),p.extend({type:"yAxis"})},1638:function(e,t,i){var n=i(90650),o=i(40628),r=i(76291),s=i(68569),a=i(49231),l=i(62429),c=["axisLine","axisTickLabel","axisName"],h=n.extendComponentView({type:"parallelAxis",init:function(e,t){h.superApply(this,"init",arguments),(this._brushController=new s(t.getZr())).on("brush",o.bind(this._onBrush,this))},render:function(e,t,i,n){if(!function(e,t,i){return i&&"axisAreaSelect"===i.type&&t.findComponents({mainType:"parallelAxis",query:i})[0]===e}(e,t,n)){this.axisModel=e,this.api=i,this.group.removeAll();var s=this._axisGroup;if(this._axisGroup=new l.Group,this.group.add(this._axisGroup),e.get("show")){var a=function(e,t){return t.getComponent("parallel",e.get("parallelIndex"))}(e,t),h=a.coordinateSystem,u=e.getAreaSelectStyle(),d=u.width,p=h.getAxisLayout(e.axis.dim),g=o.extend({strokeContainThreshold:d},p),f=new r(e,g);o.each(c,f.add,f),this._axisGroup.add(f.getGroup()),this._refreshBrushController(g,u,e,a,d,i),l.groupTransition(s,this._axisGroup,n&&!1===n.animation?null:e)}}},_refreshBrushController:function(e,t,i,n,r,s){var c=i.axis.getExtent(),h=c[1]-c[0],u=Math.min(30,.1*Math.abs(h)),d=l.BoundingRect.create({x:c[0],y:-r/2,width:h,height:r});d.x-=u,d.width+=2*u,this._brushController.mount({enableGlobalPan:!0,rotation:e.rotation,position:e.position}).setPanels([{panelId:"pl",clipPath:a.makeRectPanelClipPath(d),isTargetByCursor:a.makeRectIsTargetByCursor(d,s,n),getLinearBrushOtherExtent:a.makeLinearBrushOtherExtent(d,0)}]).enableBrush({brushType:"lineX",brushStyle:t,removeOnClick:!0}).updateCovers(function(e){var t=e.axis;return o.map(e.activeIntervals,function(e){return{brushType:"lineX",panelId:"pl",range:[t.dataToCoord(e[0],!0),t.dataToCoord(e[1],!0)]}})}(i))},_onBrush:function(e,t){var i=this.axisModel,n=i.axis,r=o.map(e,function(e){return[n.coordToData(e.range[0],!0),n.coordToData(e.range[1],!0)]});(!i.option.realtime===t.isEnd||t.removeOnClick)&&this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:i.id,intervals:r})},dispose:function(){this._brushController.dispose()}});e.exports=h},4596:function(e,t,i){var n=i(40628),o=i(62429),r=i(76291),s=i(98758),a=["axisLine","axisTickLabel","axisName"],l=["splitLine","splitArea","minorSplitLine"],c=s.extend({type:"radiusAxis",axisPointerClass:"PolarAxisPointer",render:function(e,t){if(this.group.removeAll(),e.get("show")){var i=e.axis,o=i.polar,s=o.getAngleAxis(),c=i.getTicksCoords(),h=i.getMinorTicksCoords(),u=s.getExtent()[0],d=i.getExtent(),p=function(e,t,i){return{position:[e.cx,e.cy],rotation:i/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:t.getModel("axisLabel").get("rotate"),z2:1}}(o,e,u),g=new r(e,p);n.each(a,g.add,g),this.group.add(g.getGroup()),n.each(l,function(t){e.get(t+".show")&&!i.scale.isBlank()&&this["_"+t](e,o,u,d,c,h)},this)}},_splitLine:function(e,t,i,r,s){var a=e.getModel("splitLine").getModel("lineStyle"),l=a.get("color"),c=0;l=l instanceof Array?l:[l];for(var h=[],u=0;u<s.length;u++){var d=c++%l.length;h[d]=h[d]||[],h[d].push(new o.Circle({shape:{cx:t.cx,cy:t.cy,r:s[u].coord}}))}for(u=0;u<h.length;u++)this.group.add(o.mergePath(h[u],{style:n.defaults({stroke:l[u%l.length],fill:null},a.getLineStyle()),silent:!0}))},_minorSplitLine:function(e,t,i,r,s,a){if(a.length){for(var l=e.getModel("minorSplitLine").getModel("lineStyle"),c=[],h=0;h<a.length;h++)for(var u=0;u<a[h].length;u++)c.push(new o.Circle({shape:{cx:t.cx,cy:t.cy,r:a[h][u].coord}}));this.group.add(o.mergePath(c,{style:n.defaults({fill:null},l.getLineStyle()),silent:!0}))}},_splitArea:function(e,t,i,r,s){if(s.length){var a=e.getModel("splitArea").getModel("areaStyle"),l=a.get("color"),c=0;l=l instanceof Array?l:[l];for(var h=[],u=s[0].coord,d=1;d<s.length;d++){var p=c++%l.length;h[p]=h[p]||[],h[p].push(new o.Sector({shape:{cx:t.cx,cy:t.cy,r0:u,r:s[d].coord,startAngle:0,endAngle:2*Math.PI},silent:!0})),u=s[d].coord}for(d=0;d<h.length;d++)this.group.add(o.mergePath(h[d],{style:n.defaults({fill:l[d%l.length]},a.getAreaStyle()),silent:!0}))}}});e.exports=c},15085:function(e,t,i){var n=i(40628),o=i(76291),r=i(62429),s=i(8564),a=i(98758),l=i(66395),c=l.rectCoordAxisBuildSplitArea,h=l.rectCoordAxisHandleRemove,u=["axisLine","axisTickLabel","axisName"],d=["splitArea","splitLine"],p=a.extend({type:"singleAxis",axisPointerClass:"SingleAxisPointer",render:function(e,t,i,a){var l=this.group;l.removeAll();var c=this._axisGroup;this._axisGroup=new r.Group;var h=s.layout(e),g=new o(e,h);n.each(u,g.add,g),l.add(this._axisGroup),l.add(g.getGroup()),n.each(d,function(t){e.get(t+".show")&&this["_"+t](e)},this),r.groupTransition(c,this._axisGroup,e),p.superCall(this,"render",e,t,i,a)},remove:function(){h(this)},_splitLine:function(e){var t=e.axis;if(!t.scale.isBlank()){var i=e.getModel("splitLine"),n=i.getModel("lineStyle"),o=n.get("width"),s=n.get("color");s=s instanceof Array?s:[s];for(var a=e.coordinateSystem.getRect(),l=t.isHorizontal(),c=[],h=0,u=t.getTicksCoords({tickModel:i}),d=[],p=[],g=0;g<u.length;++g){var f=t.toGlobalCoord(u[g].coord);l?(d[0]=f,d[1]=a.y,p[0]=f,p[1]=a.y+a.height):(d[0]=a.x,d[1]=f,p[0]=a.x+a.width,p[1]=f);var m=h++%s.length;c[m]=c[m]||[],c[m].push(new r.Line({subPixelOptimize:!0,shape:{x1:d[0],y1:d[1],x2:p[0],y2:p[1]},style:{lineWidth:o},silent:!0}))}for(g=0;g<c.length;++g)this.group.add(r.mergePath(c[g],{style:{stroke:s[g%s.length],lineDash:n.getLineDash(o),lineWidth:o},silent:!0}))}},_splitArea:function(e){c(this,this._axisGroup,e,e)}});e.exports=p},66395:function(e,t,i){var n=i(40628),o=i(62429);t.rectCoordAxisBuildSplitArea=function(e,t,i,r){var s=i.axis;if(!s.scale.isBlank()){var a=i.getModel("splitArea"),l=a.getModel("areaStyle"),c=l.get("color"),h=r.coordinateSystem.getRect(),u=s.getTicksCoords({tickModel:a,clamp:!0});if(u.length){var d=c.length,p=e.__splitAreaColors,g=n.createHashMap(),f=0;if(p)for(var m=0;m<u.length;m++){var _=p.get(u[m].tickValue);if(null!=_){f=(_+(d-1)*m)%d;break}}var v=s.toGlobalCoord(u[0].coord),y=l.getAreaStyle();for(c=n.isArray(c)?c:[c],m=1;m<u.length;m++){var b,w,A,x,T=s.toGlobalCoord(u[m].coord);s.isHorizontal()?(w=h.y,x=h.height,v=(b=v)+(A=T-b)):(b=h.x,A=h.width,v=(w=v)+(x=T-w));var C=u[m-1].tickValue;null!=C&&g.set(C,f),t.add(new o.Rect({anid:null!=C?"area_"+C:null,shape:{x:b,y:w,width:A,height:x},style:n.defaults({fill:c[f]},y),silent:!0})),f=(f+1)%d}e.__splitAreaColors=g}}},t.rectCoordAxisHandleRemove=function(e){e.__splitAreaColors=null}},32080:function(e,t,i){var n=i(90650);n.registerAction({type:"axisAreaSelect",event:"axisAreaSelected"},function(e,t){t.eachComponent({mainType:"parallelAxis",query:e},function(t){t.axis.model.setActiveIntervals(e.intervals)})}),n.registerAction("parallelAxisExpand",function(e,t){t.eachComponent({mainType:"parallel",query:e},function(t){t.setAxisExpand(e)})})},84040:function(e,t,i){var n=i(90650),o=i(40628),r=i(13178),s=i(21640);i(49116),i(71599),i(33293),n.registerPreprocessor(function(e){if(e){(!e.axisPointer||0===e.axisPointer.length)&&(e.axisPointer={});var t=e.axisPointer.link;t&&!o.isArray(t)&&(e.axisPointer.link=[t])}}),n.registerProcessor(n.PRIORITY.PROCESSOR.STATISTIC,function(e,t){e.getComponent("axisPointer").coordSysAxesInfo=r.collect(e,t)}),n.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},s)},49116:function(e,t,i){var n=i(90650).extendComponentModel({type:"axisPointer",coordSysAxesInfo:null,defaultOption:{show:"auto",triggerOn:null,zlevel:0,z:50,type:"line",snap:!1,triggerTooltip:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#aaa",width:1,type:"solid"},shadowStyle:{color:"rgba(150,150,150,0.3)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,shadowBlur:3,shadowColor:"#aaa"},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}}});e.exports=n},71599:function(e,t,i){var n=i(90650),o=i(22700),r=n.extendComponentView({type:"axisPointer",render:function(e,t,i){var n=t.getComponent("tooltip"),r=e.get("triggerOn")||n&&n.get("triggerOn")||"mousemove|click";o.register("axisPointer",i,function(e,t,i){"none"!==r&&("leave"===e||r.indexOf(e)>=0)&&i({type:"updateAxisPointer",currTrigger:e,x:t&&t.offsetX,y:t&&t.offsetY})})},remove:function(e,t){o.unregister(t.getZr(),"axisPointer"),r.superApply(this._model,"remove",arguments)},dispose:function(e,t){o.unregister("axisPointer",t),r.superApply(this._model,"dispose",arguments)}});e.exports=r},9269:function(e,t,i){var n=i(40628),o=i(31087),r=i(62429),s=i(13178),a=i(91170),l=i(90357),c=(0,i(91266).makeInner)(),h=n.clone,u=n.bind;function d(){}function p(e,t,i,n){g(c(i).lastProp,n)||(c(i).lastProp=n,t?r.updateProps(i,n,e):(i.stopAnimation(),i.attr(n)))}function g(e,t){if(n.isObject(e)&&n.isObject(t)){var i=!0;return n.each(t,function(t,n){i=i&&g(e[n],t)}),!!i}return e===t}function f(e,t){e[t.get("label.show")?"show":"hide"]()}function m(e){return{position:e.position.slice(),rotation:e.rotation||0}}function _(e,t,i){var n=t.get("z"),o=t.get("zlevel");e&&e.traverse(function(e){"group"!==e.type&&(null!=n&&(e.z=n),null!=o&&(e.zlevel=o),e.silent=i)})}(d.prototype={_group:null,_lastGraphicKey:null,_handle:null,_dragging:!1,_lastValue:null,_lastStatus:null,_payloadInfo:null,animationThreshold:15,render:function(e,t,i,o){var s=t.get("value"),a=t.get("status");if(this._axisModel=e,this._axisPointerModel=t,this._api=i,o||this._lastValue!==s||this._lastStatus!==a){this._lastValue=s,this._lastStatus=a;var l=this._group,c=this._handle;if(!a||"hide"===a)return l&&l.hide(),void(c&&c.hide());l&&l.show(),c&&c.show();var h={};this.makeElOption(h,s,e,t,i);var u=h.graphicKey;u!==this._lastGraphicKey&&this.clear(i),this._lastGraphicKey=u;var d=this._moveAnimation=this.determineAnimation(e,t);if(l){var g=n.curry(p,t,d);this.updatePointerEl(l,h,g,t),this.updateLabelEl(l,h,g,t)}else l=this._group=new r.Group,this.createPointerEl(l,h,e,t),this.createLabelEl(l,h,e,t),i.getZr().add(l);_(l,t,!0),this._renderHandle(s)}},remove:function(e){this.clear(e)},dispose:function(e){this.clear(e)},determineAnimation:function(e,t){var i=t.get("animation"),n=e.axis,o="category"===n.type,r=t.get("snap");if(!r&&!o)return!1;if("auto"===i||null==i){var a=this.animationThreshold;if(o&&n.getBandWidth()>a)return!0;if(r){var l=s.getAxisInfo(e).seriesDataCount,c=n.getExtent();return Math.abs(c[0]-c[1])/l>a}return!1}return!0===i},makeElOption:function(e,t,i,n,o){},createPointerEl:function(e,t,i,n){var o=t.pointer;if(o){var s=c(e).pointerEl=new r[o.type](h(t.pointer));e.add(s)}},createLabelEl:function(e,t,i,n){if(t.label){var o=c(e).labelEl=new r.Rect(h(t.label));e.add(o),f(o,n)}},updatePointerEl:function(e,t,i){var n=c(e).pointerEl;n&&t.pointer&&(n.setStyle(t.pointer.style),i(n,{shape:t.pointer.shape}))},updateLabelEl:function(e,t,i,n){var o=c(e).labelEl;o&&(o.setStyle(t.label.style),i(o,{shape:t.label.shape,position:t.label.position}),f(o,n))},_renderHandle:function(e){if(!this._dragging&&this.updateHandleTransform){var t,i=this._axisPointerModel,o=this._api.getZr(),s=this._handle,c=i.getModel("handle"),h=i.get("status");if(!c.get("show")||!h||"hide"===h)return s&&o.remove(s),void(this._handle=null);this._handle||(t=!0,s=this._handle=r.createIcon(c.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(e){a.stop(e.event)},onmousedown:u(this._onHandleDragMove,this,0,0),drift:u(this._onHandleDragMove,this),ondragend:u(this._onHandleDragEnd,this)}),o.add(s)),_(s,i,!1),s.setStyle(c.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var d=c.get("size");n.isArray(d)||(d=[d,d]),s.attr("scale",[d[0]/2,d[1]/2]),l.createOrUpdate(this,"_doDispatchAxisPointer",c.get("throttle")||0,"fixRate"),this._moveHandleToValue(e,t)}},_moveHandleToValue:function(e,t){p(this._axisPointerModel,!t&&this._moveAnimation,this._handle,m(this.getHandleTransform(e,this._axisModel,this._axisPointerModel)))},_onHandleDragMove:function(e,t){var i=this._handle;if(i){this._dragging=!0;var n=this.updateHandleTransform(m(i),[e,t],this._axisModel,this._axisPointerModel);this._payloadInfo=n,i.stopAnimation(),i.attr(m(n)),c(i).lastProp=null,this._doDispatchAxisPointer()}},_doDispatchAxisPointer:function(){if(this._handle){var e=this._payloadInfo,t=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:e.cursorPoint[0],y:e.cursorPoint[1],tooltipOption:e.tooltipOption,axesInfo:[{axisDim:t.axis.dim,axisIndex:t.componentIndex}]})}},_onHandleDragEnd:function(e){if(this._dragging=!1,this._handle){var t=this._axisPointerModel.get("value");this._moveHandleToValue(t),this._api.dispatchAction({type:"hideTip"})}},getHandleTransform:null,updateHandleTransform:null,clear:function(e){this._lastValue=null,this._lastStatus=null;var t=e.getZr(),i=this._group,n=this._handle;t&&i&&(this._lastGraphicKey=null,i&&t.remove(i),n&&t.remove(n),this._group=null,this._handle=null,this._payloadInfo=null)},doClear:function(){},buildLabel:function(e,t,i){return{x:e[i=i||0],y:e[1-i],width:t[i],height:t[1-i]}}}).constructor=d,o.enableClassExtend(d),e.exports=d},33293:function(e,t,i){var n=i(9269),o=i(60926),r=i(50754),s=i(98758),a=n.extend({makeElOption:function(e,t,i,n,s){var a=i.axis,h=a.grid,u=n.get("type"),d=l(h,a).getOtherAxis(a).getGlobalExtent(),p=a.toGlobalCoord(a.dataToCoord(t,!0));if(u&&"none"!==u){var g=o.buildElStyle(n),f=c[u](a,p,d);f.style=g,e.graphicKey=f.type,e.pointer=f}var m=r.layout(h.model,i);o.buildCartesianSingleLabelElOption(t,e,m,i,n,s)},getHandleTransform:function(e,t,i){var n=r.layout(t.axis.grid.model,t,{labelInside:!1});return n.labelMargin=i.get("handle.margin"),{position:o.getTransformedPosition(t.axis,e,n),rotation:n.rotation+(n.labelDirection<0?Math.PI:0)}},updateHandleTransform:function(e,t,i,n){var o=i.axis,r=o.grid,s=o.getGlobalExtent(!0),a=l(r,o).getOtherAxis(o).getGlobalExtent(),c="x"===o.dim?0:1,h=e.position;h[c]+=t[c],h[c]=Math.min(s[1],h[c]),h[c]=Math.max(s[0],h[c]);var u=(a[1]+a[0])/2,d=[u,u];return d[c]=h[c],{position:h,rotation:e.rotation,cursorPoint:d,tooltipOption:[{verticalAlign:"middle"},{align:"center"}][c]}}});function l(e,t){var i={};return i[t.dim+"AxisIndex"]=t.index,e.getCartesian(i)}var c={line:function(e,t,i){return{type:"Line",subPixelOptimize:!0,shape:o.makeLineShape([t,i[0]],[t,i[1]],h(e))}},shadow:function(e,t,i){var n=Math.max(1,e.getBandWidth());return{type:"Rect",shape:o.makeRectShape([t-n/2,i[0]],[n,i[1]-i[0]],h(e))}}};function h(e){return"x"===e.dim?0:1}s.registerAxisPointerClass("CartesianAxisPointer",a),e.exports=a},95412:function(e,t,i){var n=i(99706),o=i(9269),r=i(62429),s=i(60926),a=i(3481),l=i(76291),c=i(98758),h=o.extend({makeElOption:function(e,t,i,o,c){var h=i.axis;"angle"===h.dim&&(this.animationThreshold=Math.PI/18);var d,p=h.polar,g=p.getOtherAxis(h).getExtent();d=h["dataTo"+n.capitalFirst(h.dim)](t);var f=o.get("type");if(f&&"none"!==f){var m=s.buildElStyle(o),_=u[f](h,p,d,g,m);_.style=m,e.graphicKey=_.type,e.pointer=_}var v=function(e,t,i,n,o){var s=t.axis,c=s.dataToCoord(e),h=n.getAngleAxis().getExtent()[0];h=h/180*Math.PI;var u,d,p,g=n.getRadiusAxis().getExtent();if("radius"===s.dim){var f=a.create();a.rotate(f,f,h),a.translate(f,f,[n.cx,n.cy]),u=r.applyTransform([c,-o],f);var m=t.getModel("axisLabel").get("rotate")||0,_=l.innerTextLayout(h,m*Math.PI/180,-1);d=_.textAlign,p=_.textVerticalAlign}else{var v=g[1];u=n.coordToPoint([v+o,c]);var y=n.cx,b=n.cy;d=Math.abs(u[0]-y)/v<.3?"center":u[0]>y?"left":"right",p=Math.abs(u[1]-b)/v<.3?"middle":u[1]>b?"top":"bottom"}return{position:u,align:d,verticalAlign:p}}(t,i,0,p,o.get("label.margin"));s.buildLabelElOption(e,i,o,c,v)}}),u={line:function(e,t,i,n,o){return"angle"===e.dim?{type:"Line",shape:s.makeLineShape(t.coordToPoint([n[0],i]),t.coordToPoint([n[1],i]))}:{type:"Circle",shape:{cx:t.cx,cy:t.cy,r:i}}},shadow:function(e,t,i,n,o){var r=Math.max(1,e.getBandWidth()),a=Math.PI/180;return"angle"===e.dim?{type:"Sector",shape:s.makeSectorShape(t.cx,t.cy,n[0],n[1],(-i-r/2)*a,(r/2-i)*a)}:{type:"Sector",shape:s.makeSectorShape(t.cx,t.cy,i-r/2,i+r/2,0,2*Math.PI)}}};c.registerAxisPointerClass("PolarAxisPointer",h),e.exports=h},76594:function(e,t,i){var n=i(9269),o=i(60926),r=i(8564),s=i(98758),a=["x","y"],l=["width","height"],c=n.extend({makeElOption:function(e,t,i,n,s){var a=i.axis,l=a.coordinateSystem,c=d(l,1-u(a)),p=l.dataToPoint(t)[0],g=n.get("type");if(g&&"none"!==g){var f=o.buildElStyle(n),m=h[g](a,p,c);m.style=f,e.graphicKey=m.type,e.pointer=m}var _=r.layout(i);o.buildCartesianSingleLabelElOption(t,e,_,i,n,s)},getHandleTransform:function(e,t,i){var n=r.layout(t,{labelInside:!1});return n.labelMargin=i.get("handle.margin"),{position:o.getTransformedPosition(t.axis,e,n),rotation:n.rotation+(n.labelDirection<0?Math.PI:0)}},updateHandleTransform:function(e,t,i,n){var o=i.axis,r=o.coordinateSystem,s=u(o),a=d(r,s),l=e.position;l[s]+=t[s],l[s]=Math.min(a[1],l[s]),l[s]=Math.max(a[0],l[s]);var c=d(r,1-s),h=(c[1]+c[0])/2,p=[h,h];return p[s]=l[s],{position:l,rotation:e.rotation,cursorPoint:p,tooltipOption:{verticalAlign:"middle"}}}}),h={line:function(e,t,i){return{type:"Line",subPixelOptimize:!0,shape:o.makeLineShape([t,i[0]],[t,i[1]],u(e))}},shadow:function(e,t,i){var n=e.getBandWidth();return{type:"Rect",shape:o.makeRectShape([t-n/2,i[0]],[n,i[1]-i[0]],u(e))}}};function u(e){return e.isHorizontal()?0:1}function d(e,t){var i=e.getRect();return[i[a[t]],i[a[t]]+i[l[t]]]}s.registerAxisPointerClass("SingleAxisPointer",c),e.exports=c},21640:function(e,t,i){var n=i(40628),o=i(91266).makeInner,r=i(13178),s=i(49136),a=n.each,l=n.curry,c=o();function h(e,t,i,o,r){var s=e.axis;if(!s.scale.isBlank()&&s.containData(t)){if(!e.involveSeries)return void i.showPointer(e,t);var l=function(e,t){var i=t.axis,n=i.dim,o=e,r=[],s=Number.MAX_VALUE,l=-1;return a(t.seriesModels,function(t,c){var h,u,d=t.getData().mapDimension(n,!0);if(t.getAxisTooltipData){var p=t.getAxisTooltipData(d,e,i);u=p.dataIndices,h=p.nestestValue}else{if(!(u=t.getData().indicesOfNearest(d[0],e,"category"===i.type?.5:null)).length)return;h=t.getData().get(d[0],u[0])}if(null!=h&&isFinite(h)){var g=e-h,f=Math.abs(g);f<=s&&((f<s||g>=0&&l<0)&&(s=f,l=g,o=h,r.length=0),a(u,function(e){r.push({seriesIndex:t.seriesIndex,dataIndexInside:e,dataIndex:t.getData().getRawIndex(e)})}))}}),{payloadBatch:r,snapToValue:o}}(t,e),c=l.payloadBatch,h=l.snapToValue;c[0]&&null==r.seriesIndex&&n.extend(r,c[0]),!o&&e.snap&&s.containData(h)&&null!=h&&(t=h),i.showPointer(e,t,c,r),i.showTooltip(e,l,h)}}function u(e,t,i,n){e[t.key]={value:i,payloadBatch:n}}function d(e,t,i,n){var o=i.payloadBatch,s=t.axis,a=s.model,l=t.axisPointerModel;if(t.triggerTooltip&&o.length){var c=t.coordSys.model,h=r.makeKey(c),u=e.map[h];u||(u=e.map[h]={coordSysId:c.id,coordSysIndex:c.componentIndex,coordSysType:c.type,coordSysMainType:c.mainType,dataByAxis:[]},e.list.push(u)),u.dataByAxis.push({axisDim:s.dim,axisIndex:a.componentIndex,axisType:a.type,axisId:a.id,value:n,valueLabelOpt:{precision:l.get("label.precision"),formatter:l.get("label.formatter")},seriesDataIndices:o.slice()})}}function p(e){var t=e.axis.model,i={},n=i.axisDim=e.axis.dim;return i.axisIndex=i[n+"AxisIndex"]=t.componentIndex,i.axisName=i[n+"AxisName"]=t.name,i.axisId=i[n+"AxisId"]=t.id,i}function g(e){return!e||null==e[0]||isNaN(e[0])||null==e[1]||isNaN(e[1])}e.exports=function(e,t,i){var o=e.currTrigger,r=[e.x,e.y],f=e,m=e.dispatchAction||n.bind(i.dispatchAction,i),_=t.getComponent("axisPointer").coordSysAxesInfo;if(_){g(r)&&(r=s({seriesIndex:f.seriesIndex,dataIndex:f.dataIndex},t).point);var v=g(r),y=f.axesInfo,b=_.axesInfo,w="leave"===o||g(r),A={},x={},T={list:[],map:{}},C={showPointer:l(u,x),showTooltip:l(d,T)};a(_.coordSysMap,function(e,t){var i=v||e.containPoint(r);a(_.coordSysAxesInfo[t],function(e,t){var n=e.axis,o=function(e,t){for(var i=0;i<(e||[]).length;i++){var n=e[i];if(t.axis.dim===n.axisDim&&t.axis.model.componentIndex===n.axisIndex)return n}}(y,e);if(!w&&i&&(!y||o)){var s=o&&o.value;null==s&&!v&&(s=n.pointToData(r)),null!=s&&h(e,s,C,!1,A)}})});var Z={};return a(b,function(e,t){var i=e.linkGroup;i&&!x[t]&&a(i.axesInfo,function(t,n){var o=x[n];if(t!==e&&o){var r=o.value;i.mapper&&(r=e.axis.scale.parse(i.mapper(r,p(t),p(e)))),Z[e.key]=r}})}),a(Z,function(e,t){h(b[t],e,C,!0,A)}),function(e,t,i){var n=i.axesInfo=[];a(t,function(t,i){var o=t.axisPointerModel.option,r=e[i];r?(!t.useHandle&&(o.status="show"),o.value=r.value,o.seriesDataIndices=(r.payloadBatch||[]).slice()):!t.useHandle&&(o.status="hide"),"show"===o.status&&n.push({axisDim:t.axis.dim,axisIndex:t.axis.model.componentIndex,value:o.value})})}(x,b,A),function(e,t,i,n){if(!g(t)&&e.list.length){var o=((e.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};n({type:"showTip",escapeConnect:!0,x:t[0],y:t[1],tooltipOption:i.tooltipOption,position:i.position,dataIndexInside:o.dataIndexInside,dataIndex:o.dataIndex,seriesIndex:o.seriesIndex,dataByCoordSys:e.list})}else n({type:"hideTip"})}(T,r,e,m),function(e,t,i){var o=i.getZr(),r="axisPointerLastHighlights",s=c(o)[r]||{},l=c(o)[r]={};a(e,function(e,t){var i=e.axisPointerModel.option;"show"===i.status&&a(i.seriesDataIndices,function(e){l[e.seriesIndex+" | "+e.dataIndex]=e})});var h=[],u=[];n.each(s,function(e,t){!l[t]&&u.push(e)}),n.each(l,function(e,t){!s[t]&&h.push(e)}),u.length&&i.dispatchAction({type:"downplay",escapeConnect:!0,batch:u}),h.length&&i.dispatchAction({type:"highlight",escapeConnect:!0,batch:h})}(b,0,i),A}}},49136:function(e,t,i){var n=i(40628),o=i(91266);e.exports=function(e,t){var i,r=[],s=e.seriesIndex;if(null==s||!(i=t.getSeriesByIndex(s)))return{point:[]};var a=i.getData(),l=o.queryDataIndex(a,e);if(null==l||l<0||n.isArray(l))return{point:[]};var c=a.getItemGraphicEl(l),h=i.coordinateSystem;if(i.getTooltipPosition)r=i.getTooltipPosition(l)||[];else if(h&&h.dataToPoint)r=h.dataToPoint(a.getValues(n.map(h.dimensions,function(e){return a.mapDimension(e)}),l,!0))||[];else if(c){var u=c.getBoundingRect().clone();u.applyTransform(c.transform),r=[u.x+u.width/2,u.y+u.height/2]}return{point:r,el:c}}},22700:function(e,t,i){var n=i(40628),o=i(10169),r=(0,i(91266).makeInner)(),s=n.each;function a(e,t,i){e.handler("leave",null,i)}function l(e,t,i,n){t.handler(e,i,n)}t.register=function(e,t,i){if(!o.node){var c=t.getZr();r(c).records||(r(c).records={}),function(e,t){function i(i,n){e.on(i,function(i){var o=function(e){var t={showTip:[],hideTip:[]},i=function(n){var o=t[n.type];o?o.push(n):(n.dispatchAction=i,e.dispatchAction(n))};return{dispatchAction:i,pendings:t}}(t);s(r(e).records,function(e){e&&n(e,i,o.dispatchAction)}),function(e,t){var i,n=e.showTip.length,o=e.hideTip.length;n?i=e.showTip[n-1]:o&&(i=e.hideTip[o-1]),i&&(i.dispatchAction=null,t.dispatchAction(i))}(o.pendings,t)})}r(e).initialized||(r(e).initialized=!0,i("click",n.curry(l,"click")),i("mousemove",n.curry(l,"mousemove")),i("globalout",a))}(c,t),(r(c).records[e]||(r(c).records[e]={})).handler=i}},t.unregister=function(e,t){if(!o.node){var i=t.getZr();(r(i).records||{})[e]&&(r(i).records[e]=null)}}},13178:function(e,t,i){var n=i(40628),o=i(96948),r=n.each,s=n.curry;function a(e,t){return"all"===e||n.isArray(e)&&n.indexOf(e,t)>=0||e===t}function l(e){var t=(e.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return t&&t.axesInfo[h(e)]}function c(e){return!!e.get("handle.show")}function h(e){return e.type+"||"+e.id}t.collect=function(e,t){var i={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return function(e,t,i){var l=t.getComponent("tooltip"),u=t.getComponent("axisPointer"),d=u.get("link",!0)||[],p=[];r(i.getCoordinateSystems(),function(i){if(i.axisPointerEnabled){var g=h(i.model),f=e.coordSysAxesInfo[g]={};e.coordSysMap[g]=i;var m=i.model.getModel("tooltip",l);if(r(i.getAxes(),s(b,!1,null)),i.getTooltipAxes&&l&&m.get("show")){var _="axis"===m.get("trigger"),v="cross"===m.get("axisPointer.type"),y=i.getTooltipAxes(m.get("axisPointer.axis"));(_||v)&&r(y.baseAxes,s(b,!v||"cross",_)),v&&r(y.otherAxes,s(b,"cross",!1))}}function b(s,l,g){var _=g.model.getModel("axisPointer",u),v=_.get("show");if(v&&("auto"!==v||s||c(_))){null==l&&(l=_.get("triggerTooltip"));var y=(_=s?function(e,t,i,s,a,l){var c=t.getModel("axisPointer"),h={};r(["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],function(e){h[e]=n.clone(c.get(e))}),h.snap="category"!==e.type&&!!l,"cross"===c.get("type")&&(h.type="line");var u=h.label||(h.label={});if(null==u.show&&(u.show=!1),"cross"===a){var d=c.get("label.show");if(u.show=null==d||d,!l){var p=h.lineStyle=c.get("crossStyle");p&&n.defaults(u,p.textStyle)}}return e.model.getModel("axisPointer",new o(h,i,s))}(g,m,u,t,s,l):_).get("snap"),b=h(g.model),w=l||y||"category"===g.type,A=e.axesInfo[b]={key:b,axis:g,coordSys:i,axisPointerModel:_,triggerTooltip:l,involveSeries:w,snap:y,useHandle:c(_),seriesModels:[]};f[b]=A,e.seriesInvolved|=w;var x=function(e,t){for(var i=t.model,n=t.dim,o=0;o<e.length;o++){var r=e[o]||{};if(a(r[n+"AxisId"],i.id)||a(r[n+"AxisIndex"],i.componentIndex)||a(r[n+"AxisName"],i.name))return o}}(d,g);if(null!=x){var T=p[x]||(p[x]={axesInfo:{}});T.axesInfo[b]=A,T.mapper=d[x].mapper,A.linkGroup=T}}}})}(i,e,t),i.seriesInvolved&&function(e,t){t.eachSeries(function(t){var i=t.coordinateSystem,n=t.get("tooltip.trigger",!0),o=t.get("tooltip.show",!0);!i||"none"===n||!1===n||"item"===n||!1===o||!1===t.get("axisPointer.show",!0)||r(e.coordSysAxesInfo[h(i.model)],function(e){var n=e.axis;i.getAxis(n.dim)===n&&(e.seriesModels.push(t),null==e.seriesDataCount&&(e.seriesDataCount=0),e.seriesDataCount+=t.getData().count())})},this)}(i,e),i},t.fixValue=function(e){var t=l(e);if(t){var i=t.axisPointerModel,n=t.axis.scale,o=i.option,r=i.get("status"),s=i.get("value");null!=s&&(s=n.parse(s));var a=c(i);null==r&&(o.status=a?"show":"hide");var h=n.getExtent().slice();h[0]>h[1]&&h.reverse(),(null==s||s>h[1])&&(s=h[1]),s<h[0]&&(s=h[0]),o.value=s,a&&(o.status=t.axis.scale.isBlank()?"hide":"show")}},t.getAxisInfo=l,t.getAxisPointerModel=function(e){var t=l(e);return t&&t.axisPointerModel},t.makeKey=h},60926:function(e,t,i){var n=i(40628),o=i(62429),r=i(71790),s=i(99706),a=i(3481),l=i(63635),c=i(76291);function h(e,t,i,n,o){var a=u(i.get("value"),t.axis,t.ecModel,i.get("seriesDataIndices"),{precision:i.get("label.precision"),formatter:i.get("label.formatter")}),l=i.getModel("label"),c=s.normalizeCssArray(l.get("padding")||0),h=l.getFont(),d=r.getBoundingRect(a,h),p=o.position,g=d.width+c[1]+c[3],f=d.height+c[0]+c[2],m=o.align;"right"===m&&(p[0]-=g),"center"===m&&(p[0]-=g/2);var _=o.verticalAlign;"bottom"===_&&(p[1]-=f),"middle"===_&&(p[1]-=f/2),function(e,t,i,n){var o=n.getWidth(),r=n.getHeight();e[0]=Math.min(e[0]+t,o)-t,e[1]=Math.min(e[1]+i,r)-i,e[0]=Math.max(e[0],0),e[1]=Math.max(e[1],0)}(p,g,f,n);var v=l.get("backgroundColor");(!v||"auto"===v)&&(v=t.get("axisLine.lineStyle.color")),e.label={shape:{x:0,y:0,width:g,height:f,r:l.get("borderRadius")},position:p.slice(),style:{text:a,textFont:h,textFill:l.getTextColor(),textPosition:"inside",textPadding:c,fill:v,stroke:l.get("borderColor")||"transparent",lineWidth:l.get("borderWidth")||0,shadowBlur:l.get("shadowBlur"),shadowColor:l.get("shadowColor"),shadowOffsetX:l.get("shadowOffsetX"),shadowOffsetY:l.get("shadowOffsetY")},z2:10}}function u(e,t,i,o,r){e=t.scale.parse(e);var s=t.scale.getLabel(e,{precision:r.precision}),a=r.formatter;if(a){var c={value:l.getAxisRawValue(t,e),axisDimension:t.dim,axisIndex:t.index,seriesData:[]};n.each(o,function(e){var t=i.getSeriesByIndex(e.seriesIndex),n=t&&t.getDataParams(e.dataIndexInside);n&&c.seriesData.push(n)}),n.isString(a)?s=a.replace("{value}",s):n.isFunction(a)&&(s=a(c))}return s}function d(e,t,i){var n=a.create();return a.rotate(n,n,i.rotation),a.translate(n,n,i.position),o.applyTransform([e.dataToCoord(t),(i.labelOffset||0)+(i.labelDirection||1)*(i.labelMargin||0)],n)}t.buildElStyle=function(e){var t,i=e.get("type"),n=e.getModel(i+"Style");return"line"===i?(t=n.getLineStyle()).fill=null:"shadow"===i&&((t=n.getAreaStyle()).stroke=null),t},t.buildLabelElOption=h,t.getValueLabel=u,t.getTransformedPosition=d,t.buildCartesianSingleLabelElOption=function(e,t,i,n,o,r){var s=c.innerTextLayout(i.rotation,0,i.labelDirection);i.labelMargin=o.get("label.margin"),h(t,n,o,r,{position:d(n.axis,e,i),align:s.textAlign,verticalAlign:s.textVerticalAlign})},t.makeLineShape=function(e,t,i){return{x1:e[i=i||0],y1:e[1-i],x2:t[i],y2:t[1-i]}},t.makeRectShape=function(e,t,i){return{x:e[i=i||0],y:e[1-i],width:t[i],height:t[1-i]}},t.makeSectorShape=function(e,t,i,n,o,r){return{cx:e,cy:t,r0:i,r:n,startAngle:o,endAngle:r,clockwise:!0}}},30348:function(e,t,i){var n=i(90650),o=i(31298);i(17712),i(55468),i(54860),i(50454),i(50467),n.registerPreprocessor(o)},55468:function(e,t,i){i(59963);var n=i(90650),o=i(40628),r=i(8048),s=i(96948),a=["#ddd"],l=n.extendComponentModel({type:"brush",dependencies:["geo","grid","xAxis","yAxis","parallel","series"],defaultOption:{toolbox:null,brushLink:null,seriesIndex:"all",geoIndex:null,xAxisIndex:null,yAxisIndex:null,brushType:"rect",brushMode:"single",transformable:!0,brushStyle:{borderWidth:1,color:"rgba(120,140,180,0.3)",borderColor:"rgba(120,140,180,0.8)"},throttleType:"fixRate",throttleDelay:0,removeOnClick:!0,z:1e4},areas:[],brushType:null,brushOption:{},coordInfoList:[],optionUpdated:function(e,t){var i=this.option;!t&&r.replaceVisualOption(i,e,["inBrush","outOfBrush"]);var n=i.inBrush=i.inBrush||{};i.outOfBrush=i.outOfBrush||{color:a},n.hasOwnProperty("liftZ")||(n.liftZ=5)},setAreas:function(e){!e||(this.areas=o.map(e,function(e){return c(this.option,e)},this))},setBrushOption:function(e){this.brushOption=c(this.option,e),this.brushType=this.brushOption.brushType}});function c(e,t){return o.merge({brushType:e.brushType,brushMode:e.brushMode,transformable:e.transformable,brushStyle:new s(e.brushStyle).getItemStyle(),removeOnClick:e.removeOnClick,z:e.z},t,!0)}e.exports=l},54860:function(e,t,i){var n=i(90650),o=i(40628),r=i(68569),s=i(17712).layoutCovers,a=n.extendComponentView({type:"brush",init:function(e,t){this.ecModel=e,this.api=t,(this._brushController=new r(t.getZr())).on("brush",o.bind(this._onBrush,this)).mount()},render:function(e){return this.model=e,l.apply(this,arguments)},updateTransform:function(e,t){return s(t),l.apply(this,arguments)},updateView:l,dispose:function(){this._brushController.dispose()},_onBrush:function(e,t){var i=this.model.id;this.model.brushTargetManager.setOutputRanges(e,this.ecModel),(!t.isEnd||t.removeOnClick)&&this.api.dispatchAction({type:"brush",brushId:i,areas:o.clone(e),$from:i}),t.isEnd&&this.api.dispatchAction({type:"brushEnd",brushId:i,areas:o.clone(e),$from:i})}});function l(e,t,i,n){(!n||n.$from!==e.id)&&this._brushController.setPanels(e.brushTargetManager.makePanelOpts(i)).enableBrush(e.brushOption).updateCovers(e.areas.slice())}e.exports=a},50454:function(e,t,i){var n=i(90650);n.registerAction({type:"brush",event:"brush"},function(e,t){t.eachComponent({mainType:"brush",query:e},function(t){t.setAreas(e.areas)})}),n.registerAction({type:"brushSelect",event:"brushSelected",update:"none"},function(){}),n.registerAction({type:"brushEnd",event:"brushEnd",update:"none"},function(){})},31298:function(e,t,i){var n=i(40628),o=["rect","polygon","keep","clear"];e.exports=function(e,t){var i=e&&e.brush;if(n.isArray(i)||(i=i?[i]:[]),i.length){var r=[];n.each(i,function(e){var t=e.hasOwnProperty("toolbox")?e.toolbox:[];t instanceof Array&&(r=r.concat(t))});var s=e&&e.toolbox;n.isArray(s)&&(s=s[0]),s||(e.toolbox=[s={feature:{}}]);var a=s.feature||(s.feature={}),l=a.brush||(a.brush={}),c=l.type||(l.type=[]);c.push.apply(c,r),function(e){var t={};n.each(e,function(e){t[e]=1}),e.length=0,n.each(t,function(t,i){e.push(i)})}(c),t&&!c.length&&c.push.apply(c,o)}}},75784:function(e,t,i){var n=i(91995),o=i(87021),r=i(62429).linePolygonIntersect,s={lineX:a(0),lineY:a(1),rect:{point:function(e,t,i){return e&&i.boundingRect.contain(e[0],e[1])},rect:function(e,t,i){return e&&i.boundingRect.intersect(e)}},polygon:{point:function(e,t,i){return e&&i.boundingRect.contain(e[0],e[1])&&n.contain(i.range,e[0],e[1])},rect:function(e,t,i){var s=i.range;if(!e||s.length<=1)return!1;var a=e.x,l=e.y,c=e.width,h=e.height,u=s[0];return!!(n.contain(s,a,l)||n.contain(s,a+c,l)||n.contain(s,a,l+h)||n.contain(s,a+c,l+h)||o.create(e).contain(u[0],u[1])||r(a,l,a+c,l,s)||r(a,l,a,l+h,s)||r(a+c,l,a+c,l+h,s)||r(a,l+h,a+c,l+h,s))||void 0}}};function a(e){var t=["x","y"],i=["width","height"];return{point:function(t,i,n){if(t)return l(t[e],n.range)},rect:function(n,o,r){if(n){var s=r.range,a=[n[t[e]],n[t[e]]+n[i[e]]];return a[1]<a[0]&&a.reverse(),l(a[0],s)||l(a[1],s)||l(s[0],a)||l(s[1],a)}}}}function l(e,t){return t[0]<=e&&e<=t[1]}e.exports=s},17712:function(e,t,i){var n=i(90650),o=i(40628),r=i(87021),s=i(8048),a=i(75784),l=i(90357),c=i(55853),h=["inBrush","outOfBrush"],u="__ecBrushSelect",d="__ecInBrushSelectEvent",p=n.PRIORITY.VISUAL.BRUSH;function g(e){e.eachComponent({mainType:"brush"},function(t){(t.brushTargetManager=new c(t.option,e)).setInputRanges(t.areas,e)})}function f(e,t){if(!e.isDisposed()){var i=e.getZr();i[d]=!0,e.dispatchAction({type:"brushSelect",batch:t}),i[d]=!1}}function m(e,t,i,n){for(var o=0,r=t.length;o<r;o++){var s=t[o];if(e[s.brushType](n,i,s.selectors,s))return!0}}function _(e){var t=e.brushSelector;if(o.isString(t)){var i=[];return o.each(a,function(e,n){i[n]=function(i,n,o,r){var s=n.getItemLayout(i);return e[t](s,o,r)}}),i}if(o.isFunction(t)){var n={};return o.each(a,function(e,i){n[i]=t}),n}return t}n.registerLayout(p,function(e,t,i){e.eachComponent({mainType:"brush"},function(e){i&&"takeGlobalCursor"===i.type&&e.setBrushOption("brush"===i.key?i.brushOption:{brushType:!1})}),g(e)}),n.registerVisual(p,function(e,t,i){var n,r,c=[];e.eachComponent({mainType:"brush"},function(t,i){var l={brushId:t.id,brushIndex:i,brushName:t.name,areas:o.clone(t.areas),selected:[]};c.push(l);var u=t.option,d=u.brushLink,p=[],g=[],f=[],y=0;i||(n=u.throttleType,r=u.throttleDelay);var b=o.map(t.areas,function(e){return function(e){var t=e.selectors={};return o.each(a[e.brushType],function(i,n){t[n]=function(n){return i(n,t,e)}}),e}(o.defaults({boundingRect:v[e.brushType](e)},e))}),w=s.createVisualMappings(t.option,h,function(e){e.mappingMethod="fixed"});function A(e){return"all"===d||p[e]}function x(e){return!!e.length}o.isArray(d)&&o.each(d,function(e){p[e]=1}),e.eachSeries(function(i,n){var r=f[n]=[];"parallel"===i.subType?function(e,t){var i=e.coordinateSystem;y|=i.hasAxisBrushed(),A(t)&&i.eachActiveState(e.getData(),function(e,t){"active"===e&&(g[t]=1)})}(i,n):function(i,n,r){var s=_(i);if(s&&!function(e,t){var i=e.option.seriesIndex;return null!=i&&"all"!==i&&(o.isArray(i)?o.indexOf(i,t)<0:t!==i)}(t,n)&&(o.each(b,function(n){s[n.brushType]&&t.brushTargetManager.controlSeries(n,i,e)&&r.push(n),y|=x(r)}),A(n)&&x(r))){var a=i.getData();a.each(function(e){m(s,r,a,e)&&(g[e]=1)})}}(i,n,r)}),e.eachSeries(function(e,t){var i={seriesId:e.id,seriesIndex:t,seriesName:e.name,dataIndex:[]};l.selected.push(i);var n=_(e),o=f[t],r=e.getData(),a=A(t)?function(e){return g[e]?(i.dataIndex.push(r.getRawIndex(e)),"inBrush"):"outOfBrush"}:function(e){return m(n,o,r,e)?(i.dataIndex.push(r.getRawIndex(e)),"inBrush"):"outOfBrush"};(A(t)?y:x(o))&&s.applyVisual(h,w,r,a)})}),function(e,t,i,n,o){if(o){var r=e.getZr();r[d]||(r[u]||(r[u]=f),l.createOrUpdate(r,u,i,t)(e,n))}}(t,n,r,c,i)});var v={lineX:o.noop,lineY:o.noop,rect:function(e){return y(e.range)},polygon:function(e){for(var t,i=e.range,n=0,o=i.length;n<o;n++){var r=i[n];r[0]<(t=t||[[1/0,-1/0],[1/0,-1/0]])[0][0]&&(t[0][0]=r[0]),r[0]>t[0][1]&&(t[0][1]=r[0]),r[1]<t[1][0]&&(t[1][0]=r[1]),r[1]>t[1][1]&&(t[1][1]=r[1])}return t&&y(t)}};function y(e){return new r(e[0][0],e[1][0],e[0][1]-e[0][0],e[1][1]-e[1][0])}t.layoutCovers=g},70343:function(e,t,i){i(18838),i(96440),i(93144)},93144:function(e,t,i){var n=i(90650),o=i(40628),r=i(62429),s=i(99706),a=i(14785),l={EN:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],CN:["\u4e00\u6708","\u4e8c\u6708","\u4e09\u6708","\u56db\u6708","\u4e94\u6708","\u516d\u6708","\u4e03\u6708","\u516b\u6708","\u4e5d\u6708","\u5341\u6708","\u5341\u4e00\u6708","\u5341\u4e8c\u6708"]},c={EN:["S","M","T","W","T","F","S"],CN:["\u65e5","\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d"]},h=n.extendComponentView({type:"calendar",_tlpoints:null,_blpoints:null,_firstDayOfMonth:null,_firstDayPoints:null,render:function(e,t,i){var n=this.group;n.removeAll();var o=e.coordinateSystem,r=o.getRangeInfo(),s=o.getOrient();this._renderDayRect(e,r,n),this._renderLines(e,r,s,n),this._renderYearText(e,r,s,n),this._renderMonthText(e,s,n),this._renderWeekText(e,r,s,n)},_renderDayRect:function(e,t,i){for(var n=e.coordinateSystem,o=e.getModel("itemStyle").getItemStyle(),s=n.getCellWidth(),a=n.getCellHeight(),l=t.start.time;l<=t.end.time;l=n.getNextNDay(l,1).time){var c=n.dataToRect([l],!1).tl,h=new r.Rect({shape:{x:c[0],y:c[1],width:s,height:a},cursor:"default",style:o});i.add(h)}},_renderLines:function(e,t,i,n){var o=this,r=e.coordinateSystem,s=e.getModel("splitLine.lineStyle").getLineStyle(),a=e.get("splitLine.show"),l=s.lineWidth;this._tlpoints=[],this._blpoints=[],this._firstDayOfMonth=[],this._firstDayPoints=[];for(var c=t.start,h=0;c.time<=t.end.time;h++){d(c.formatedDate),0===h&&(c=r.getDateInfo(t.start.y+"-"+t.start.m));var u=c.date;u.setMonth(u.getMonth()+1),c=r.getDateInfo(u)}function d(t){o._firstDayOfMonth.push(r.getDateInfo(t)),o._firstDayPoints.push(r.dataToRect([t],!1).tl);var l=o._getLinePointsOfOneWeek(e,t,i);o._tlpoints.push(l[0]),o._blpoints.push(l[l.length-1]),a&&o._drawSplitline(l,s,n)}d(r.getNextNDay(t.end.time,1).formatedDate),a&&this._drawSplitline(o._getEdgesPoints(o._tlpoints,l,i),s,n),a&&this._drawSplitline(o._getEdgesPoints(o._blpoints,l,i),s,n)},_getEdgesPoints:function(e,t,i){var n=[e[0].slice(),e[e.length-1].slice()],o="horizontal"===i?0:1;return n[0][o]=n[0][o]-t/2,n[1][o]=n[1][o]+t/2,n},_drawSplitline:function(e,t,i){var n=new r.Polyline({z2:20,shape:{points:e},style:t});i.add(n)},_getLinePointsOfOneWeek:function(e,t,i){var n=e.coordinateSystem;t=n.getDateInfo(t);for(var o=[],r=0;r<7;r++){var s=n.getNextNDay(t.time,r),a=n.dataToRect([s.time],!1);o[2*s.day]=a.tl,o[2*s.day+1]=a["horizontal"===i?"bl":"tr"]}return o},_formatterLabel:function(e,t){return"string"==typeof e&&e?s.formatTplSimple(e,t):"function"==typeof e?e(t):t.nameMap},_yearTextPositionControl:function(e,t,i,n,o){t=t.slice();var r=["center","bottom"];"bottom"===n?(t[1]+=o,r=["center","top"]):"left"===n?t[0]-=o:"right"===n?(t[0]+=o,r=["center","top"]):t[1]-=o;var s=0;return("left"===n||"right"===n)&&(s=Math.PI/2),{rotation:s,position:t,style:{textAlign:r[0],textVerticalAlign:r[1]}}},_renderYearText:function(e,t,i,n){var o=e.getModel("yearLabel");if(o.get("show")){var s=o.get("margin"),a=o.get("position");a||(a="horizontal"!==i?"top":"left");var l=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]],c=(l[0][0]+l[1][0])/2,h=(l[0][1]+l[1][1])/2,u="horizontal"===i?0:1,d={top:[c,l[u][1]],bottom:[c,l[1-u][1]],left:[l[1-u][0],h],right:[l[u][0],h]},p=t.start.y;+t.end.y>+t.start.y&&(p=p+"-"+t.end.y);var g=o.get("formatter"),f=this._formatterLabel(g,{start:t.start.y,end:t.end.y,nameMap:p}),m=new r.Text({z2:30});r.setTextStyle(m.style,o,{text:f}),m.attr(this._yearTextPositionControl(m,d[a],i,a,s)),n.add(m)}},_monthTextPositionControl:function(e,t,i,n,o){var r="left",s="top",a=e[0],l=e[1];return"horizontal"===i?(l+=o,t&&(r="center"),"start"===n&&(s="bottom")):(a+=o,t&&(s="middle"),"start"===n&&(r="right")),{x:a,y:l,textAlign:r,textVerticalAlign:s}},_renderMonthText:function(e,t,i){var n=e.getModel("monthLabel");if(n.get("show")){var s=n.get("nameMap"),a=n.get("margin"),c=n.get("position"),h=n.get("align"),u=[this._tlpoints,this._blpoints];o.isString(s)&&(s=l[s.toUpperCase()]||[]);var d="start"===c?0:1,p="horizontal"===t?0:1;a="start"===c?-a:a;for(var g="center"===h,f=0;f<u[d].length-1;f++){var m=u[d][f].slice(),_=this._firstDayOfMonth[f];g&&(m[p]=(this._firstDayPoints[f][p]+u[0][f+1][p])/2);var v=n.get("formatter"),y=s[+_.m-1],b={yyyy:_.y,yy:(_.y+"").slice(2),MM:_.m,M:+_.m,nameMap:y},w=this._formatterLabel(v,b),A=new r.Text({z2:30});o.extend(r.setTextStyle(A.style,n,{text:w}),this._monthTextPositionControl(m,g,t,c,a)),i.add(A)}}},_weekTextPositionControl:function(e,t,i,n,o){var r="center",s="middle",a=e[0],l=e[1],c="start"===i;return"horizontal"===t?(a=a+n+(c?1:-1)*o[0]/2,r=c?"right":"left"):(l=l+n+(c?1:-1)*o[1]/2,s=c?"bottom":"top"),{x:a,y:l,textAlign:r,textVerticalAlign:s}},_renderWeekText:function(e,t,i,n){var s=e.getModel("dayLabel");if(s.get("show")){var l=e.coordinateSystem,h=s.get("position"),u=s.get("nameMap"),d=s.get("margin"),p=l.getFirstDayOfWeek();o.isString(u)&&(u=c[u.toUpperCase()]||[]);var g=l.getNextNDay(t.end.time,7-t.lweek).time,f=[l.getCellWidth(),l.getCellHeight()];d=a.parsePercent(d,f["horizontal"===i?0:1]),"start"===h&&(g=l.getNextNDay(t.start.time,-(7+t.fweek)).time,d=-d);for(var m=0;m<7;m++){var _,v=l.getNextNDay(g,m),y=l.dataToRect([v.time],!1).center;_=Math.abs((m+p)%7);var b=new r.Text({z2:30});o.extend(r.setTextStyle(b.style,s,{text:u[_]}),this._weekTextPositionControl(y,i,h,d,f)),n.add(b)}}}});e.exports=h},83369:function(e,t,i){i(37659),i(2818)},29895:function(e,t,i){var n=i(40628),o=i(14785),r=i(94716),s=i(57583),a=n.each,l=o.asc,c=function(e,t,i,n){this._dimName=e,this._axisIndex=t,this.ecModel=n,this._dataZoomModel=i};function h(e,t){var i=e.getAxisModel(),n=e._percentWindow,r=e._valueWindow;if(n){var s=o.getPixelPrecision(r,[0,500]);s=Math.min(s,20);var a=t||0===n[0]&&100===n[1];i.setRange(a?null:+r[0].toFixed(s),a?null:+r[1].toFixed(s))}}c.prototype={constructor:c,hostedBy:function(e){return this._dataZoomModel===e},getDataValueWindow:function(){return this._valueWindow.slice()},getDataPercentWindow:function(){return this._percentWindow.slice()},getTargetSeriesModels:function(){var e=[],t=this.ecModel;return t.eachSeries(function(i){if(r.isCoordSupported(i.get("coordinateSystem"))){var n=this._dimName,o=t.queryComponents({mainType:n+"Axis",index:i.get(n+"AxisIndex"),id:i.get(n+"AxisId")})[0];this._axisIndex===(o&&o.componentIndex)&&e.push(i)}},this),e},getAxisModel:function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},getOtherAxisModel:function(){var e,t,i,n=this._dimName,o=this.ecModel,r=this.getAxisModel();return"x"===n||"y"===n?(t="gridIndex",e="x"===n?"y":"x"):(t="polarIndex",e="angle"===n?"radius":"angle"),o.eachComponent(e+"Axis",function(e){(e.get(t)||0)===(r.get(t)||0)&&(i=e)}),i},getMinMaxSpan:function(){return n.clone(this._minMaxSpan)},calculateDataWindow:function(e){var t,i=this._dataExtent,n=this.getAxisModel().axis.scale,r=this._dataZoomModel.getRangePropMode(),c=[0,100],h=[],u=[];a(["start","end"],function(s,a){var l=e[s],d=e[s+"Value"];"percent"===r[a]?(null==l&&(l=c[a]),d=n.parse(o.linearMap(l,c,i))):(t=!0,d=null==d?i[a]:n.parse(d),l=o.linearMap(d,i,c)),u[a]=d,h[a]=l}),l(u),l(h);var d=this._minMaxSpan;function p(e,t,i,r,a){var l=a?"Span":"ValueSpan";s(0,e,i,"all",d["min"+l],d["max"+l]);for(var c=0;c<2;c++)t[c]=o.linearMap(e[c],i,r,!0),a&&(t[c]=n.parse(t[c]))}return t?p(u,h,i,c,!1):p(h,u,c,i,!0),{valueWindow:u,percentWindow:h}},reset:function(e){if(e===this._dataZoomModel){var t=this.getTargetSeriesModels();this._dataExtent=function(e,t,i){var n=[1/0,-1/0];return a(i,function(e){var i=e.getData();i&&a(i.mapDimension(t,!0),function(e){var t=i.getApproximateExtent(e);t[0]<n[0]&&(n[0]=t[0]),t[1]>n[1]&&(n[1]=t[1])})}),n[1]<n[0]&&(n=[NaN,NaN]),function(e,t){var i=e.getAxisModel(),n=i.getMin(!0),o="category"===i.get("type"),r=o&&i.getCategories().length;null!=n&&"dataMin"!==n&&"function"!=typeof n?t[0]=n:o&&(t[0]=r>0?0:NaN);var s=i.getMax(!0);null!=s&&"dataMax"!==s&&"function"!=typeof s?t[1]=s:o&&(t[1]=r>0?r-1:NaN),i.get("scale",!0)||(t[0]>0&&(t[0]=0),t[1]<0&&(t[1]=0))}(e,n),n}(this,this._dimName,t),function(e){var t=e._minMaxSpan={},i=e._dataZoomModel,n=e._dataExtent;a(["min","max"],function(r){var s=i.get(r+"Span"),a=i.get(r+"ValueSpan");null!=a&&(a=e.getAxisModel().axis.scale.parse(a)),null!=a?s=o.linearMap(n[0]+a,n,[0,100],!0):null!=s&&(a=o.linearMap(s,[0,100],n,!0)-n[0]),t[r+"Span"]=s,t[r+"ValueSpan"]=a})}(this);var i=this.calculateDataWindow(e.settledOption);this._valueWindow=i.valueWindow,this._percentWindow=i.percentWindow,h(this)}},restore:function(e){e===this._dataZoomModel&&(this._valueWindow=this._percentWindow=null,h(this,!0))},filterData:function(e,t){if(e===this._dataZoomModel){var i=this._dimName,n=this.getTargetSeriesModels(),o=e.get("filterMode"),r=this._valueWindow;"none"!==o&&a(n,function(e){var t=e.getData(),n=t.mapDimension(i,!0);!n.length||("weakFilter"===o?t.filterSelf(function(e){for(var i,o,s,a=0;a<n.length;a++){var l=t.get(n[a],e),c=!isNaN(l),h=l<r[0],u=l>r[1];if(c&&!h&&!u)return!0;c&&(s=!0),h&&(i=!0),u&&(o=!0)}return s&&i&&o}):a(n,function(i){if("empty"===o)e.setData(t=t.map(i,function(e){return function(e){return e>=r[0]&&e<=r[1]}(e)?e:NaN}));else{var n={};n[i]=r,t.selectRange(n)}}),a(n,function(e){t.setApproximateExtent(r,e)}))})}}},e.exports=c},32935:function(e,t,i){i(59963);var n=i(90650),o=i(40628),r=i(10169),s=i(91266),a=i(94716),l=i(29895),c=o.each,h=a.eachAxisDim,u=n.extendComponentModel({type:"dataZoom",dependencies:["xAxis","yAxis","zAxis","radiusAxis","angleAxis","singleAxis","series"],defaultOption:{zlevel:0,z:4,orient:null,xAxisIndex:null,yAxisIndex:null,filterMode:"filter",throttle:null,start:0,end:100,startValue:null,endValue:null,minSpan:null,maxSpan:null,minValueSpan:null,maxValueSpan:null,rangeMode:null},init:function(e,t,i){this._dataIntervalByAxis={},this._dataInfo={},this._axisProxies={},this._autoThrottle=!0,this._rangePropMode=["percent","percent"];var n=d(e);this.settledOption=n,this.mergeDefaultAndTheme(e,i),this.doInit(n)},mergeOption:function(e){var t=d(e);o.merge(this.option,e,!0),o.merge(this.settledOption,t,!0),this.doInit(t)},doInit:function(e){var t=this.option;r.canvasSupported||(t.realtime=!1),this._setDefaultThrottle(e),p(this,e);var i=this.settledOption;c([["start","startValue"],["end","endValue"]],function(e,n){"value"===this._rangePropMode[n]&&(t[e[0]]=i[e[0]]=null)},this),this.textStyleModel=this.getModel("textStyle"),this._resetTarget(),this._giveAxisProxies()},_giveAxisProxies:function(){var e=this._axisProxies;this.eachTargetAxis(function(t,i,n,o){var r=this.dependentModels[t.axis][i],s=r.__dzAxisProxy||(r.__dzAxisProxy=new l(t.name,i,this,o));e[t.name+"_"+i]=s},this)},_resetTarget:function(){var e=this.option,t=this._judgeAutoMode();h(function(t){var i=t.axisIndex;e[i]=s.normalizeToArray(e[i])},this),"axisIndex"===t?this._autoSetAxisIndex():"orient"===t&&this._autoSetOrient()},_judgeAutoMode:function(){var e=this.option,t=!1;h(function(i){null!=e[i.axisIndex]&&(t=!0)},this);var i=e.orient;return null==i&&t?"orient":t?void 0:(null==i&&(e.orient="horizontal"),"axisIndex")},_autoSetAxisIndex:function(){var e=!0,t=this.get("orient",!0),i=this.option,n=this.dependentModels;if(e){var r="vertical"===t?"y":"x";n[r+"Axis"].length?(i[r+"AxisIndex"]=[0],e=!1):c(n.singleAxis,function(n){e&&n.get("orient",!0)===t&&(i.singleAxisIndex=[n.componentIndex],e=!1)})}e&&h(function(t){if(e){var n=[],o=this.dependentModels[t.axis];if(o.length&&!n.length)for(var r=0,s=o.length;r<s;r++)"category"===o[r].get("type")&&n.push(r);i[t.axisIndex]=n,n.length&&(e=!1)}},this),e&&this.ecModel.eachSeries(function(e){this._isSeriesHasAllAxesTypeOf(e,"value")&&h(function(t){var n=i[t.axisIndex],r=e.get(t.axisIndex),s=e.get(t.axisId),a=e.ecModel.queryComponents({mainType:t.axis,index:r,id:s})[0];o.indexOf(n,r=a.componentIndex)<0&&n.push(r)})},this)},_autoSetOrient:function(){var e;this.eachTargetAxis(function(t){!e&&(e=t.name)},this),this.option.orient="y"===e?"vertical":"horizontal"},_isSeriesHasAllAxesTypeOf:function(e,t){var i=!0;return h(function(n){var o=e.get(n.axisIndex),r=this.dependentModels[n.axis][o];(!r||r.get("type")!==t)&&(i=!1)},this),i},_setDefaultThrottle:function(e){if(e.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var t=this.ecModel.option;this.option.throttle=t.animation&&t.animationDurationUpdate>0?100:20}},getFirstTargetAxisModel:function(){var e;return h(function(t){if(null==e){var i=this.get(t.axisIndex);i.length&&(e=this.dependentModels[t.axis][i[0]])}},this),e},eachTargetAxis:function(e,t){var i=this.ecModel;h(function(n){c(this.get(n.axisIndex),function(o){e.call(t,n,o,this,i)},this)},this)},getAxisProxy:function(e,t){return this._axisProxies[e+"_"+t]},getAxisModel:function(e,t){var i=this.getAxisProxy(e,t);return i&&i.getAxisModel()},setRawRange:function(e){var t=this.option,i=this.settledOption;c([["start","startValue"],["end","endValue"]],function(n){(null!=e[n[0]]||null!=e[n[1]])&&(t[n[0]]=i[n[0]]=e[n[0]],t[n[1]]=i[n[1]]=e[n[1]])},this),p(this,e)},setCalculatedRange:function(e){var t=this.option;c(["start","startValue","end","endValue"],function(i){t[i]=e[i]})},getPercentRange:function(){var e=this.findRepresentativeAxisProxy();if(e)return e.getDataPercentWindow()},getValueRange:function(e,t){if(null!=e||null!=t)return this.getAxisProxy(e,t).getDataValueWindow();var i=this.findRepresentativeAxisProxy();return i?i.getDataValueWindow():void 0},findRepresentativeAxisProxy:function(e){if(e)return e.__dzAxisProxy;var t=this._axisProxies;for(var i in t)if(t.hasOwnProperty(i)&&t[i].hostedBy(this))return t[i];for(var i in t)if(t.hasOwnProperty(i)&&!t[i].hostedBy(this))return t[i]},getRangePropMode:function(){return this._rangePropMode.slice()}});function d(e){var t={};return c(["start","end","startValue","endValue","throttle"],function(i){e.hasOwnProperty(i)&&(t[i]=e[i])}),t}function p(e,t){var i=e._rangePropMode,n=e.get("rangeMode");c([["start","startValue"],["end","endValue"]],function(e,o){var r=null!=t[e[0]],s=null!=t[e[1]];r&&!s?i[o]="percent":!r&&s?i[o]="value":n?i[o]=n[o]:r&&(i[o]="percent")})}e.exports=u},4680:function(e,t,i){var n=i(69899).extend({type:"dataZoom",render:function(e,t,i,n){this.dataZoomModel=e,this.ecModel=t,this.api=i},getTargetCoordInfo:function(){var e=this.ecModel,t={};return this.dataZoomModel.eachTargetAxis(function(i,n){var o=e.getComponent(i.axis,n);if(o){var r=o.getCoordSysModel();r&&function(e,t,i,n){for(var o,r=0;r<i.length;r++)if(i[r].model===e){o=i[r];break}o||i.push(o={model:e,axisModels:[],coordIndex:n}),o.axisModels.push(t)}(r,o,t[r.mainType]||(t[r.mainType]=[]),r.componentIndex)}},this),t}});e.exports=n},76597:function(e,t,i){var n=i(32935).extend({type:"dataZoom.inside",defaultOption:{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}});e.exports=n},53383:function(e,t,i){var n=i(40628),o=i(4680),r=i(57583),s=i(31371),a=n.bind,l=o.extend({type:"dataZoom.inside",init:function(e,t){},render:function(e,t,i,o){l.superApply(this,"render",arguments),this._range=e.getPercentRange(),n.each(this.getTargetCoordInfo(),function(t,o){var r=n.map(t,function(e){return s.generateCoordId(e.model)});n.each(t,function(t){var l=t.model,h={};n.each(["pan","zoom","scrollMove"],function(e){h[e]=a(c[e],this,t,o)},this),s.register(i,{coordId:s.generateCoordId(l),allCoordIds:r,containsPoint:function(e,t,i){return l.coordinateSystem.containPoint([t,i])},dataZoomId:e.id,dataZoomModel:e,getRange:h})},this)},this)},dispose:function(){s.unregister(this.api,this.dataZoomModel.id),l.superApply(this,"dispose",arguments),this._range=null}}),c={zoom:function(e,t,i,n){var o=this._range,s=o.slice(),a=e.axisModels[0];if(a){var l=u[t](null,[n.originX,n.originY],a,i,e),c=(l.signal>0?l.pixelStart+l.pixelLength-l.pixel:l.pixel-l.pixelStart)/l.pixelLength*(s[1]-s[0])+s[0],h=Math.max(1/n.scale,0);s[0]=(s[0]-c)*h+c,s[1]=(s[1]-c)*h+c;var d=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();if(r(0,s,[0,100],0,d.minSpan,d.maxSpan),this._range=s,o[0]!==s[0]||o[1]!==s[1])return s}},pan:h(function(e,t,i,n,o,r){var s=u[n]([r.oldX,r.oldY],[r.newX,r.newY],t,o,i);return s.signal*(e[1]-e[0])*s.pixel/s.pixelLength}),scrollMove:h(function(e,t,i,n,o,r){return u[n]([0,0],[r.scrollDelta,r.scrollDelta],t,o,i).signal*(e[1]-e[0])*r.scrollDelta})};function h(e){return function(t,i,n,o){var s=this._range,a=s.slice(),l=t.axisModels[0];if(l){var c=e(a,l,t,i,n,o);if(r(c,a,[0,100],"all"),this._range=a,s[0]!==a[0]||s[1]!==a[1])return a}}}var u={grid:function(e,t,i,n,o){var r=i.axis,s={},a=o.model.coordinateSystem.getRect();return e=e||[0,0],"x"===r.dim?(s.pixel=t[0]-e[0],s.pixelLength=a.width,s.pixelStart=a.x,s.signal=r.inverse?1:-1):(s.pixel=t[1]-e[1],s.pixelLength=a.height,s.pixelStart=a.y,s.signal=r.inverse?-1:1),s},polar:function(e,t,i,n,o){var r=i.axis,s={},a=o.model.coordinateSystem,l=a.getRadiusAxis().getExtent(),c=a.getAngleAxis().getExtent();return e=e?a.pointToCoord(e):[0,0],t=a.pointToCoord(t),"radiusAxis"===i.mainType?(s.pixel=t[0]-e[0],s.pixelLength=l[1]-l[0],s.pixelStart=l[0],s.signal=r.inverse?1:-1):(s.pixel=t[1]-e[1],s.pixelLength=c[1]-c[0],s.pixelStart=c[0],s.signal=r.inverse?-1:1),s},singleAxis:function(e,t,i,n,o){var r=i.axis,s=o.model.coordinateSystem.getRect(),a={};return e=e||[0,0],"horizontal"===r.orient?(a.pixel=t[0]-e[0],a.pixelLength=s.width,a.pixelStart=s.x,a.signal=r.inverse?1:-1):(a.pixel=t[1]-e[1],a.pixelLength=s.height,a.pixelStart=s.y,a.signal=r.inverse?-1:1),a}};e.exports=l},18149:function(e,t,i){var n=i(32935).extend({type:"dataZoom.select"});e.exports=n},66459:function(e,t,i){var n=i(4680).extend({type:"dataZoom.select"});e.exports=n},15907:function(e,t,i){var n=i(32935).extend({type:"dataZoom.slider",layoutMode:"box",defaultOption:{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#2f4554",width:.5,opacity:.3},areaStyle:{color:"rgba(47,69,84,0.3)",opacity:.3}},borderColor:"#ddd",fillerColor:"rgba(167,183,204,0.4)",handleIcon:"M8.2,13.6V3.9H6.3v9.7H3.1v14.9h3.3v9.7h1.8v-9.7h3.3V13.6H8.2z M9.7,24.4H4.8v-1.4h4.9V24.4z M9.7,19.1H4.8v-1.4h4.9V19.1z",handleSize:"100%",handleStyle:{color:"#a7b7cc"},labelPrecision:null,labelFormatter:null,showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#333"}}});e.exports=n},34116:function(e,t,i){var n=i(40628),o=i(91170),r=i(62429),s=i(90357),a=i(4680),l=i(14785),c=i(40634),h=i(57583),u=r.Rect,d=l.linearMap,p=l.asc,g=n.bind,f=n.each,m="horizontal",_="vertical",v=["line","bar","candlestick","scatter"],y=a.extend({type:"dataZoom.slider",init:function(e,t){this._displayables={},this.api=t},render:function(e,t,i,n){y.superApply(this,"render",arguments),s.createOrUpdate(this,"_dispatchZoomAction",this.dataZoomModel.get("throttle"),"fixRate"),this._orient=e.get("orient"),!1!==this.dataZoomModel.get("show")?((!n||"dataZoom"!==n.type||n.from!==this.uid)&&this._buildView(),this._updateView()):this.group.removeAll()},remove:function(){y.superApply(this,"remove",arguments),s.clear(this,"_dispatchZoomAction")},dispose:function(){y.superApply(this,"dispose",arguments),s.clear(this,"_dispatchZoomAction")},_buildView:function(){var e=this.group;e.removeAll(),this._resetLocation(),this._resetInterval();var t=this._displayables.barGroup=new r.Group;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),e.add(t),this._positionGroup()},_resetLocation:function(){var e=this.dataZoomModel,t=this.api,i=this._findCoordRect(),o={width:t.getWidth(),height:t.getHeight()},r=this._orient===m?{right:o.width-i.x-i.width,top:o.height-30-7,width:i.width,height:30}:{right:7,top:i.y,width:30,height:i.height},s=c.getLayoutParams(e.option);n.each(["right","top","width","height"],function(e){"ph"===s[e]&&(s[e]=r[e])});var a=c.getLayoutRect(s,o,e.padding);this._location={x:a.x,y:a.y},this._size=[a.width,a.height],this._orient===_&&this._size.reverse()},_positionGroup:function(){var e=this.group,t=this._location,i=this._orient,n=this.dataZoomModel.getFirstTargetAxisModel(),o=n&&n.get("inverse"),r=this._displayables.barGroup,s=(this._dataShadowInfo||{}).otherAxisInverse;r.attr(i!==m||o?i===m&&o?{scale:s?[-1,1]:[-1,-1]}:i!==_||o?{scale:s?[-1,-1]:[-1,1],rotation:Math.PI/2}:{scale:s?[1,-1]:[1,1],rotation:Math.PI/2}:{scale:s?[1,1]:[1,-1]});var a=e.getBoundingRect([r]);e.attr("position",[t.x-a.x,t.y-a.y])},_getViewExtent:function(){return[0,this._size[0]]},_renderBackground:function(){var e=this._size,t=this._displayables.barGroup;t.add(new u({silent:!0,shape:{x:0,y:0,width:e[0],height:e[1]},style:{fill:this.dataZoomModel.get("backgroundColor")},z2:-40})),t.add(new u({shape:{x:0,y:0,width:e[0],height:e[1]},style:{fill:"transparent"},z2:0,onclick:n.bind(this._onClickPanelClick,this)}))},_renderDataShadow:function(){var e=this._dataShadowInfo=this._prepareDataShadowInfo();if(e){var t=this._size,i=e.series,o=i.getRawData(),s=i.getShadowDim?i.getShadowDim():e.otherDim;if(null!=s){var a=o.getDataExtent(s),l=.3*(a[1]-a[0]);a=[a[0]-l,a[1]+l];var c,h=[0,t[1]],u=[[t[0],0],[0,0]],p=[],g=t[0]/(o.count()-1),f=0,m=Math.round(o.count()/t[0]);o.each([s],function(e,t){if(m>0&&t%m)f+=g;else{var i=null==e||isNaN(e)||""===e,n=i?0:d(e,a,h,!0);i&&!c&&t?(u.push([u[u.length-1][0],0]),p.push([p[p.length-1][0],0])):!i&&c&&(u.push([f,0]),p.push([f,0])),u.push([f,n]),p.push([f,n]),f+=g,c=i}});var _=this.dataZoomModel;this._displayables.barGroup.add(new r.Polygon({shape:{points:u},style:n.defaults({fill:_.get("dataBackgroundColor")},_.getModel("dataBackground.areaStyle").getAreaStyle()),silent:!0,z2:-20})),this._displayables.barGroup.add(new r.Polyline({shape:{points:p},style:_.getModel("dataBackground.lineStyle").getLineStyle(),silent:!0,z2:-19}))}}},_prepareDataShadowInfo:function(){var e=this.dataZoomModel,t=e.get("showDataShadow");if(!1!==t){var i,o=this.ecModel;return e.eachTargetAxis(function(r,s){var a=e.getAxisProxy(r.name,s).getTargetSeriesModels();n.each(a,function(e){if(!(i||!0!==t&&n.indexOf(v,e.get("type"))<0)){var a,l=o.getComponent(r.axis,s).axis,c=function(e){return{x:"y",y:"x",radius:"angle",angle:"radius"}[e]}(r.name),h=e.coordinateSystem;null!=c&&h.getOtherAxis&&(a=h.getOtherAxis(l).inverse),c=e.getData().mapDimension(c),i={thisAxis:l,series:e,thisDim:r.name,otherDim:c,otherAxisInverse:a}}},this)},this),i}},_renderHandle:function(){var e=this._displayables,t=e.handles=[],i=e.handleLabels=[],n=this._displayables.barGroup,o=this._size,s=this.dataZoomModel;n.add(e.filler=new u({draggable:!0,cursor:b(this._orient),drift:g(this._onDragMove,this,"all"),ondragstart:g(this._showDataInfo,this,!0),ondragend:g(this._onDragEnd,this),onmouseover:g(this._showDataInfo,this,!0),onmouseout:g(this._showDataInfo,this,!1),style:{fill:s.get("fillerColor"),textPosition:"inside"}})),n.add(new u({silent:!0,subPixelOptimize:!0,shape:{x:0,y:0,width:o[0],height:o[1]},style:{stroke:s.get("dataBackgroundColor")||s.get("borderColor"),lineWidth:1,fill:"rgba(0,0,0,0)"}})),f([0,1],function(e){var o=r.createIcon(s.get("handleIcon"),{cursor:b(this._orient),draggable:!0,drift:g(this._onDragMove,this,e),ondragend:g(this._onDragEnd,this),onmouseover:g(this._showDataInfo,this,!0),onmouseout:g(this._showDataInfo,this,!1)},{x:-1,y:0,width:2,height:2}),a=o.getBoundingRect();this._handleHeight=l.parsePercent(s.get("handleSize"),this._size[1]),this._handleWidth=a.width/a.height*this._handleHeight,o.setStyle(s.getModel("handleStyle").getItemStyle());var c=s.get("handleColor");null!=c&&(o.style.fill=c),n.add(t[e]=o);var h=s.textStyleModel;this.group.add(i[e]=new r.Text({silent:!0,invisible:!0,style:{x:0,y:0,text:"",textVerticalAlign:"middle",textAlign:"center",textFill:h.getTextColor(),textFont:h.getFont()},z2:10}))},this)},_resetInterval:function(){var e=this._range=this.dataZoomModel.getPercentRange(),t=this._getViewExtent();this._handleEnds=[d(e[0],[0,100],t,!0),d(e[1],[0,100],t,!0)]},_updateInterval:function(e,t){var i=this.dataZoomModel,n=this._handleEnds,o=this._getViewExtent(),r=i.findRepresentativeAxisProxy().getMinMaxSpan(),s=[0,100];h(t,n,o,i.get("zoomLock")?"all":e,null!=r.minSpan?d(r.minSpan,s,o,!0):null,null!=r.maxSpan?d(r.maxSpan,s,o,!0):null);var a=this._range,l=this._range=p([d(n[0],o,s,!0),d(n[1],o,s,!0)]);return!a||a[0]!==l[0]||a[1]!==l[1]},_updateView:function(e){var t=this._displayables,i=this._handleEnds,n=p(i.slice()),o=this._size;f([0,1],function(e){var n=this._handleHeight;t.handles[e].attr({scale:[n/2,n/2],position:[i[e],o[1]/2-n/2]})},this),t.filler.setShape({x:n[0],y:0,width:n[1]-n[0],height:o[1]}),this._updateDataInfo(e)},_updateDataInfo:function(e){var t=this.dataZoomModel,i=this._displayables,n=i.handleLabels,o=this._orient,s=["",""];if(t.get("showDetail")){var a=t.findRepresentativeAxisProxy();if(a){var l=a.getAxisModel().axis,c=this._range,h=e?a.calculateDataWindow({start:c[0],end:c[1]}).valueWindow:a.getDataValueWindow();s=[this._formatLabel(h[0],l),this._formatLabel(h[1],l)]}}var u=p(this._handleEnds.slice());function d(e){var t=r.getTransform(i.handles[e].parent,this.group),a=r.transformDirection(0===e?"right":"left",t),l=this._handleWidth/2+5,c=r.applyTransform([u[e]+(0===e?-l:l),this._size[1]/2],t);n[e].setStyle({x:c[0],y:c[1],textVerticalAlign:o===m?"middle":a,textAlign:o===m?a:"center",text:s[e]})}d.call(this,0),d.call(this,1)},_formatLabel:function(e,t){var i=this.dataZoomModel,o=i.get("labelFormatter"),r=i.get("labelPrecision");(null==r||"auto"===r)&&(r=t.getPixelPrecision());var s=null==e||isNaN(e)?"":"category"===t.type||"time"===t.type?t.scale.getLabel(Math.round(e)):e.toFixed(Math.min(r,20));return n.isFunction(o)?o(e,s):n.isString(o)?o.replace("{value}",s):s},_showDataInfo:function(e){var t=this._displayables.handleLabels;t[0].attr("invisible",!(e=this._dragging||e)),t[1].attr("invisible",!e)},_onDragMove:function(e,t,i,n){this._dragging=!0,o.stop(n.event);var s=this._displayables.barGroup.getLocalTransform(),a=r.applyTransform([t,i],s,!0),l=this._updateInterval(e,a[0]),c=this.dataZoomModel.get("realtime");this._updateView(!c),l&&c&&this._dispatchZoomAction()},_onDragEnd:function(){this._dragging=!1,this._showDataInfo(!1),!this.dataZoomModel.get("realtime")&&this._dispatchZoomAction()},_onClickPanelClick:function(e){var t=this._size,i=this._displayables.barGroup.transformCoordToLocal(e.offsetX,e.offsetY);if(!(i[0]<0||i[0]>t[0]||i[1]<0||i[1]>t[1])){var n=this._handleEnds,o=this._updateInterval("all",i[0]-(n[0]+n[1])/2);this._updateView(),o&&this._dispatchZoomAction()}},_dispatchZoomAction:function(){var e=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,start:e[0],end:e[1]})},_findCoordRect:function(){var e;if(f(this.getTargetCoordInfo(),function(t){if(!e&&t.length){var i=t[0].model.coordinateSystem;e=i.getRect&&i.getRect()}}),!e){var t=this.api.getWidth(),i=this.api.getHeight();e={x:.2*t,y:.2*i,width:.6*t,height:.6*i}}return e}});function b(e){return"vertical"===e?"ns-resize":"ew-resize"}e.exports=y},87096:function(e,t,i){var n=i(90650),o=i(40628),r=i(94716);n.registerAction("dataZoom",function(e,t){var i=r.createLinkedNodesFinder(o.bind(t.eachComponent,t,"dataZoom"),r.eachAxisDim,function(e,t){return e.get(t.axisIndex)}),n=[];t.eachComponent({mainType:"dataZoom",query:e},function(e,t){n.push.apply(n,i(e).nodes)}),o.each(n,function(t,i){t.setRawRange({start:e.start,end:e.end,startValue:e.startValue,endValue:e.endValue})})})},49008:function(e,t,i){var n=i(90650),o=i(40628),r=o.createHashMap,s=o.each;n.registerProcessor({getTargetSeries:function(e){var t=r();return e.eachComponent("dataZoom",function(e){e.eachTargetAxis(function(e,i,n){var o=n.getAxisProxy(e.name,i);s(o.getTargetSeriesModels(),function(e){t.set(e.uid,e)})})}),t},modifyOutputEnd:!0,overallReset:function(e,t){e.eachComponent("dataZoom",function(e){e.eachTargetAxis(function(e,i,n){n.getAxisProxy(e.name,i).reset(n,t)}),e.eachTargetAxis(function(e,i,n){n.getAxisProxy(e.name,i).filterData(n,t)})}),e.eachComponent("dataZoom",function(e){var t=e.findRepresentativeAxisProxy(),i=t.getDataPercentWindow(),n=t.getDataValueWindow();e.setCalculatedRange({start:i[0],end:i[1],startValue:n[0],endValue:n[1]})})}})},94716:function(e,t,i){var n=i(40628),o=i(99706),r=["cartesian2d","polar","singleAxis"];function s(e,t){e=e.slice();var i=n.map(e,o.capitalFirst);t=(t||[]).slice();var r=n.map(t,o.capitalFirst);return function(o,s){n.each(e,function(e,n){for(var a={name:e,capital:i[n]},l=0;l<t.length;l++)a[t[l]]=e+r[l];o.call(s,a)})}}var a=s(["x","y","z","radius","angle","single"],["axisIndex","axis","index","id"]);t.isCoordSupported=function(e){return n.indexOf(r,e)>=0},t.createNameEach=s,t.eachAxisDim=a,t.createLinkedNodesFinder=function(e,t,i){return function(r){var s,a={nodes:[],records:{}};if(t(function(e){a.records[e.name]={}}),!r)return a;o(r,a);do{s=!1,e(l)}while(s);function l(e){!function(e,t){return n.indexOf(t.nodes,e)>=0}(e,a)&&function(e,o){var r=!1;return t(function(t){n.each(i(e,t)||[],function(e){o.records[t.name][e]&&(r=!0)})}),r}(e,a)&&(o(e,a),s=!0)}return a};function o(e,o){o.nodes.push(e),t(function(t){n.each(i(e,t)||[],function(e){o.records[t.name][e]=!0})})}}},90763:function(e,t,i){var n=i(40628).each,o="\0_ec_hist_store";function r(e){var t=e[o];return t||(t=e[o]=[{}]),t}t.push=function(e,t){var i=r(e);n(t,function(t,n){for(var o=i.length-1;o>=0&&!i[o][n];o--);if(o<0){var r=e.queryComponents({mainType:"dataZoom",subType:"select",id:n})[0];if(r){var s=r.getPercentRange();i[0][n]={dataZoomId:n,start:s[0],end:s[1]}}}}),i.push(t)},t.pop=function(e){var t=r(e),i=t[t.length-1];t.length>1&&t.pop();var o={};return n(i,function(e,i){for(var n=t.length-1;n>=0;n--)if(e=t[n][i]){o[i]=e;break}}),o},t.clear=function(e){e[o]=null},t.count=function(e){return r(e).length}},31371:function(e,t,i){var n=i(40628),o=i(96001),r=i(90357),s="\0_ec_dataZoom_roams";function a(e){var t=e.getZr();return t[s]||(t[s]={})}function l(e){n.each(e,function(t,i){t.count||(t.controller.dispose(),delete e[i])})}function c(e,t){e.dispatchAction({type:"dataZoom",batch:t})}t.register=function(e,t){var i=a(e),s=t.dataZoomId,h=t.coordId;n.each(i,function(e,i){var o=e.dataZoomInfos;o[s]&&n.indexOf(t.allCoordIds,h)<0&&(delete o[s],e.count--)}),l(i);var u=i[h];u||((u=i[h]={coordId:h,dataZoomInfos:{},count:0}).controller=function(e,t){var i=new o(e.getZr());return n.each(["pan","zoom","scrollMove"],function(e){i.on(e,function(i){var o=[];n.each(t.dataZoomInfos,function(n){if(i.isAvailableBehavior(n.dataZoomModel.option)){var r=(n.getRange||{})[e],s=r&&r(t.controller,i);!n.dataZoomModel.get("disabled",!0)&&s&&o.push({dataZoomId:n.dataZoomId,start:s[0],end:s[1]})}}),o.length&&t.dispatchAction(o)})}),i}(e,u),u.dispatchAction=n.curry(c,e)),!u.dataZoomInfos[s]&&u.count++,u.dataZoomInfos[s]=t;var d=function(e){var t,i="type_",o={type_true:2,type_move:1,type_false:0,type_undefined:-1},r=!0;return n.each(e,function(e){var n=e.dataZoomModel,s=!n.get("disabled",!0)&&(!n.get("zoomLock",!0)||"move");o[i+s]>o[i+t]&&(t=s),r&=n.get("preventDefaultMouseMove",!0)}),{controlType:t,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!r}}}(u.dataZoomInfos);u.controller.enable(d.controlType,d.opt),u.controller.setPointerChecker(t.containsPoint),r.createOrUpdate(u,"dispatchAction",t.dataZoomModel.get("throttle",!0),"fixRate")},t.unregister=function(e,t){var i=a(e);n.each(i,function(e){e.controller.dispose();var i=e.dataZoomInfos;i[t]&&(delete i[t],e.count--)}),l(i)},t.generateCoordId=function(e){return e.type+"\0_"+e.id}},46935:function(e,t,i){i(39447).registerSubTypeDefaulter("dataZoom",function(){return"slider"})},2818:function(e,t,i){i(46935),i(32935),i(4680),i(76597),i(53383),i(49008),i(87096)},12080:function(e,t,i){i(46935),i(32935),i(4680),i(18149),i(66459),i(49008),i(87096)},37659:function(e,t,i){i(46935),i(32935),i(4680),i(15907),i(34116),i(49008),i(87096)},55209:function(e,t,i){var n=i(39447),o=i(69899),r=i(26153).detectSourceFormat,s=i(2181);n.extend({type:"dataset",defaultOption:{seriesLayoutBy:s.SERIES_LAYOUT_BY_COLUMN,sourceHeader:null,dimensions:null,source:null},optionUpdated:function(){r(this)}}),o.extend({type:"dataset"})},655:function(e,t,i){var n=i(90650),o=i(40628);function r(e,t){t.update="updateView",n.registerAction(t,function(t,i){var n={};return i.eachComponent({mainType:"geo",query:t},function(i){i[e](t.name),o.each(i.coordinateSystem.regions,function(e){n[e.name]=i.isSelected(e.name)||!1})}),{selected:n,name:t.name}})}i(31695),i(31545),i(18004),i(6979),r("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"}),r("select",{type:"geoSelect",event:"geoselected"}),r("unSelect",{type:"geoUnSelect",event:"geounselected"})},18004:function(e,t,i){var n=i(78781),o=i(90650).extendComponentView({type:"geo",init:function(e,t){var i=new n(t,!0);this._mapDraw=i,this.group.add(i.group)},render:function(e,t,i,n){if(!n||"geoToggleSelect"!==n.type||n.from!==this.uid){var o=this._mapDraw;e.get("show")?o.draw(e,t,i,this,n):this._mapDraw.group.removeAll(),this.group.silent=e.get("silent")}},dispose:function(){this._mapDraw&&this._mapDraw.remove()}});e.exports=o},28302:function(e,t,i){i(59963);var n=i(90650),o=i(40628),r=i(91266),s=i(62429),a=i(40634),l=i(14785).parsePercent,c={path:null,compoundPath:null,group:s.Group,image:s.Image,text:s.Text};n.registerPreprocessor(function(e){var t=e.graphic;o.isArray(t)?e.graphic=t[0]&&t[0].elements?[e.graphic[0]]:[{elements:t}]:t&&!t.elements&&(e.graphic=[{elements:[t]}])});var h=n.extendComponentModel({type:"graphic",defaultOption:{elements:[],parentId:null},_elOptionsToUpdate:null,mergeOption:function(e){var t=this.option.elements;this.option.elements=null,h.superApply(this,"mergeOption",arguments),this.option.elements=t},optionUpdated:function(e,t){var i=this.option,n=(t?i:e).elements,s=i.elements=t?[]:i.elements,l=[];this._flatten(n,l);var c=r.mappingToExists(s,l);r.makeIdAndName(c);var h=this._elOptionsToUpdate=[];o.each(c,function(e,t){var i=e.option;!i||(h.push(i),function(e,t){var i=e.exist;if(t.id=e.keyInfo.id,!t.type&&i&&(t.type=i.type),null==t.parentId){var n=t.parentOption;n?t.parentId=n.id:i&&(t.parentId=i.parentId)}t.parentOption=null}(e,i),function(e,t,i){var n=o.extend({},i),r=e[t],s=i.$action||"merge";"merge"===s?r?(o.merge(r,n,!0),a.mergeLayoutParam(r,n,{ignoreSize:!0}),a.copyLayoutParams(i,r)):e[t]=n:"replace"===s?e[t]=n:"remove"===s&&r&&(e[t]=null)}(s,t,i),function(e,t){!e||(e.hv=t.hv=[p(t,["left","right"]),p(t,["top","bottom"])],"group"===e.type&&(null==e.width&&(e.width=t.width=0),null==e.height&&(e.height=t.height=0)))}(s[t],i))},this);for(var u=s.length-1;u>=0;u--)null==s[u]?s.splice(u,1):delete s[u].$action},_flatten:function(e,t,i){o.each(e,function(e){if(e){i&&(e.parentOption=i),t.push(e);var n=e.children;"group"===e.type&&n&&this._flatten(n,t,e),delete e.children}},this)},useElOptionsToUpdate:function(){var e=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,e}});function u(e,t,i,n){var o=i.type,r=new(c.hasOwnProperty(o)?c[o]:s.getShapeClass(o))(i);t.add(r),n.set(e,r),r.__ecGraphicId=e}function d(e,t){var i=e&&e.parent;i&&("group"===e.type&&e.traverse(function(e){d(e,t)}),t.removeKey(e.__ecGraphicId),i.remove(e))}function p(e,t){var i;return o.each(t,function(t){null!=e[t]&&"auto"!==e[t]&&(i=!0)}),i}n.extendComponentView({type:"graphic",init:function(e,t){this._elMap=o.createHashMap()},render:function(e,t,i){e!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=e,this._updateElements(e),this._relocate(e,i)},_updateElements:function(e){var t=e.useElOptionsToUpdate();if(t){var i=this._elMap,n=this.group;o.each(t,function(t){var r=t.$action,s=t.id,l=i.get(s),c=t.parentId,h=null!=c?i.get(c):n,p=t.style;"text"===t.type&&p&&(t.hv&&t.hv[1]&&(p.textVerticalAlign=p.textBaseline=null),!p.hasOwnProperty("textFill")&&p.fill&&(p.textFill=p.fill),!p.hasOwnProperty("textStroke")&&p.stroke&&(p.textStroke=p.stroke));var g=function(e){return e=o.extend({},e),o.each(["id","parentId","$action","hv","bounding"].concat(a.LOCATION_PARAMS),function(t){delete e[t]}),e}(t);r&&"merge"!==r?"replace"===r?(d(l,i),u(s,h,g,i)):"remove"===r&&d(l,i):l?l.attr(g):u(s,h,g,i);var f=i.get(s);f&&(f.__ecGraphicWidthOption=t.width,f.__ecGraphicHeightOption=t.height,function(e,t,i){var n=e.eventData;!e.silent&&!e.ignore&&!n&&(n=e.eventData={componentType:"graphic",componentIndex:t.componentIndex,name:e.name}),n&&(n.info=e.info)}(f,e))})}},_relocate:function(e,t){for(var i=e.option.elements,n=this.group,o=this._elMap,r=t.getWidth(),s=t.getHeight(),c=0;c<i.length;c++)if((d=o.get((u=i[c]).id))&&d.isGroup){var h=(p=d.parent)===n;d.__ecGraphicWidth=l(d.__ecGraphicWidthOption,h?r:p.__ecGraphicWidth)||0,d.__ecGraphicHeight=l(d.__ecGraphicHeightOption,h?s:p.__ecGraphicHeight)||0}for(c=i.length-1;c>=0;c--){var u,d,p;(d=o.get((u=i[c]).id))&&a.positionElement(d,u,(p=d.parent)===n?{width:r,height:s}:{width:p.__ecGraphicWidth,height:p.__ecGraphicHeight},null,{hv:u.hv,boundingMode:u.bounding})}},_clear:function(){var e=this._elMap;e.each(function(t){d(t,e)}),this._elMap=o.createHashMap()},dispose:function(){this._clear()}})},99318:function(e,t,i){i(24657),i(33293),i(84040)},24657:function(e,t,i){var n=i(90650),o=i(40628),r=i(62429);i(4810),i(12862),n.extendComponentView({type:"grid",render:function(e,t){this.group.removeAll(),e.get("show")&&this.group.add(new r.Rect({shape:e.coordinateSystem.getRect(),style:o.defaults({fill:e.get("backgroundColor")},e.getItemStyle()),silent:!0,z2:-1}))}}),n.registerPreprocessor(function(e){e.xAxis&&e.yAxis&&!e.grid&&(e.grid={})})},68569:function(e,t,i){i(59963);var n=i(40628),o=i(62361),r=i(62429),s=i(68592),a=i(12650),l=n.curry,c=n.each,h=n.map,u=Math.min,d=Math.max,p=Math.pow,g="globalPan",f={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},m={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},_={brushStyle:{lineWidth:2,stroke:"rgba(0,0,0,0.3)",fill:"rgba(0,0,0,0.1)"},transformable:!0,brushMode:"single",removeOnClick:!1},v=0;function y(e){o.call(this),this._zr=e,this.group=new r.Group,this._track=[],this._covers=[],this._uid="brushController_"+v++,this._handlers={},c(K,function(e,t){this._handlers[t]=n.bind(e,this)},this)}function b(e,t){var i=G[t.brushType].createCover(e,t);return i.__brushOption=t,x(i,t),e.group.add(i),i}function w(e,t){var i=C(t);return i.endCreating&&(i.endCreating(e,t),x(t,t.__brushOption)),t}function A(e,t){var i=t.__brushOption;C(t).updateCoverShape(e,t,i.range,i)}function x(e,t){var i=t.z;null==i&&(i=1e4),e.traverse(function(e){e.z=i,e.z2=i})}function T(e,t){C(t).updateCommon(e,t),A(e,t)}function C(e){return G[e.__brushOption.brushType]}function Z(e,t,i){var n=e._panels;if(!n)return!0;var o,r=e._transform;return c(n,function(e){e.isTargetByCursor(t,i,r)&&(o=e)}),o}function k(e,t){var i=e._panels;if(!i)return!0;var n=t.__brushOption.panelId;return null==n||i[n]}function S(e){var t=e._covers,i=t.length;return c(t,function(t){e.group.remove(t)},e),t.length=0,!!i}function E(e,t){var i=h(e._covers,function(e){var t=e.__brushOption,i=n.clone(t.range);return{brushType:t.brushType,panelId:t.panelId,range:i}});e.trigger("brush",i,{isEnd:!!t.isEnd,removeOnClick:!!t.removeOnClick})}function M(e){var t=e.length-1;return t<0&&(t=0),[e[0],e[t]]}function O(e,t,i,n){var o=new r.Group;return o.add(new r.Rect({name:"main",style:q(i),silent:!0,draggable:!0,cursor:"move",drift:l(e,t,o,"nswe"),ondragend:l(E,t,{isEnd:!0})})),c(n,function(i){o.add(new r.Rect({name:i,style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:l(e,t,o,i),ondragend:l(E,t,{isEnd:!0})}))}),o}function I(e,t,i,n){var o=n.brushStyle.lineWidth||0,r=d(o,6),s=i[0][0],a=i[1][0],l=s-o/2,c=a-o/2,h=i[0][1],u=i[1][1],p=h-r+o/2,g=u-r+o/2,f=h-s,m=u-a,_=f+o,v=m+o;R(e,t,"main",s,a,f,m),n.transformable&&(R(e,t,"w",l,c,r,v),R(e,t,"e",p,c,r,v),R(e,t,"n",l,c,_,r),R(e,t,"s",l,g,_,r),R(e,t,"nw",l,c,r,r),R(e,t,"ne",p,c,r,r),R(e,t,"sw",l,g,r,r),R(e,t,"se",p,g,r,r))}function P(e,t){var i=t.__brushOption,n=i.transformable,o=t.childAt(0);o.useStyle(q(i)),o.attr({silent:!n,cursor:n?"move":"default"}),c(["w","e","n","s","se","sw","ne","nw"],function(i){var o=t.childOfName(i),r=U(e,i);o&&o.attr({silent:!n,invisible:!n,cursor:n?m[r]+"-resize":null})})}function R(e,t,i,n,o,r,s){var a=t.childOfName(i);a&&a.setShape(function(e){var t=u(e[0][0],e[1][0]),i=u(e[0][1],e[1][1]);return{x:t,y:i,width:d(e[0][0],e[1][0])-t,height:d(e[0][1],e[1][1])-i}}(F(e,t,[[n,o],[n+r,o+s]])))}function q(e){return n.defaults({strokeNoScale:!0},e.brushStyle)}function L(e,t,i,n){var o=[u(e,i),u(t,n)],r=[d(e,i),d(t,n)];return[[o[0],r[0]],[o[1],r[1]]]}function U(e,t){return t.length>1?(("e"===(i=[U(e,(t=t.split(""))[0]),U(e,t[1])])[0]||"w"===i[0])&&i.reverse(),i.join("")):{left:"w",right:"e",top:"n",bottom:"s"}[i=r.transformDirection({w:"left",e:"right",n:"top",s:"bottom"}[t],function(e){return r.getTransform(e.group)}(e))];var i}function B(e,t,i,n,o,r,s,a){var l=n.__brushOption,h=e(l.range),u=N(i,r,s);c(o.split(""),function(e){var t=f[e];h[t[0]][t[1]]+=u[t[0]]}),l.range=t(L(h[0][0],h[1][0],h[0][1],h[1][1])),T(i,n),E(i,{isEnd:!1})}function D(e,t,i,n,o){var r=t.__brushOption.range,s=N(e,i,n);c(r,function(e){e[0]+=s[0],e[1]+=s[1]}),T(e,t),E(e,{isEnd:!1})}function N(e,t,i){var n=e.group,o=n.transformCoordToLocal(t,i),r=n.transformCoordToLocal(0,0);return[o[0]-r[0],o[1]-r[1]]}function F(e,t,i){var o=k(e,t);return o&&!0!==o?o.clipPath(i,e._transform):n.clone(i)}function H(e){var t=e.event;t.preventDefault&&t.preventDefault()}function $(e,t,i){return e.childOfName("main").contain(t,i)}function z(e,t,i,o){var r,s=e._creatingCover,a=e._creatingPanel,l=e._brushOption;if(e._track.push(i.slice()),function(e){var t=e._track;if(!t.length)return!1;var i=t[t.length-1],n=t[0],o=i[0]-n[0],r=i[1]-n[1];return p(o*o+r*r,.5)>6}(e)||s){if(a&&!s){"single"===l.brushMode&&S(e);var c=n.clone(l);c.brushType=V(c.brushType,a),c.panelId=!0===a?null:a.panelId,s=e._creatingCover=b(e,c),e._covers.push(s)}if(s){var h=G[V(e._brushType,a)];s.__brushOption.range=h.getCreatingRange(F(e,s,e._track)),o&&(w(e,s),h.updateCommon(e,s)),A(e,s),r={isEnd:o}}}else o&&"single"===l.brushMode&&l.removeOnClick&&Z(e,t,i)&&S(e)&&(r={isEnd:o,removeOnClick:!0});return r}function V(e,t){return"auto"===e?t.defaultBrushType:e}y.prototype={constructor:y,enableBrush:function(e){return this._brushType&&function(e){var t=e._zr;s.release(t,g,e._uid),function(e,t){c(t,function(t,i){e.off(i,t)})}(t,e._handlers),e._brushType=e._brushOption=null}(this),e.brushType&&function(e,t){var i=e._zr;e._enableGlobalPan||s.take(i,g,e._uid),function(e,t){c(t,function(t,i){e.on(i,t)})}(i,e._handlers),e._brushType=t.brushType,e._brushOption=n.merge(n.clone(_),t,!0)}(this,e),this},setPanels:function(e){if(e&&e.length){var t=this._panels={};n.each(e,function(e){t[e.panelId]=n.clone(e)})}else this._panels=null;return this},mount:function(e){this._enableGlobalPan=(e=e||{}).enableGlobalPan;var t=this.group;return this._zr.add(t),t.attr({position:e.position||[0,0],rotation:e.rotation||0,scale:e.scale||[1,1]}),this._transform=t.getLocalTransform(),this},eachCover:function(e,t){c(this._covers,e,t)},updateCovers:function(e){e=n.map(e,function(e){return n.merge(n.clone(_),e,!0)});var t=this._covers,i=this._covers=[],o=this,r=this._creatingCover;return new a(t,e,function(e,t){return s(e.__brushOption,t)},s).add(l).update(l).remove(function(e){t[e]!==r&&o.group.remove(t[e])}).execute(),this;function s(e,t){return(null!=e.id?e.id:"\0-brush-index-"+t)+"-"+e.brushType}function l(n,s){var a=e[n];if(null!=s&&t[s]===r)i[n]=t[s];else{var l=i[n]=null!=s?(t[s].__brushOption=a,t[s]):w(o,b(o,a));T(o,l)}}},unmount:function(){return this.enableBrush(!1),S(this),this._zr.remove(this.group),this},dispose:function(){this.unmount(),this.off()}},n.mixin(y,o);var K={mousedown:function(e){if(this._dragging)W(this,e);else if(!e.target||!e.target.draggable){H(e);var t=this.group.transformCoordToLocal(e.offsetX,e.offsetY);this._creatingCover=null,(this._creatingPanel=Z(this,e,t))&&(this._dragging=!0,this._track=[t.slice()])}},mousemove:function(e){var t=this.group.transformCoordToLocal(e.offsetX,e.offsetY);if(function(e,t,i){if(e._brushType&&!function(e,t,i){var n=e._zr;return t<0||t>n.getWidth()||undefined>n.getHeight()}(e,t)){var n=e._zr,o=e._covers,r=Z(e,t,i);if(!e._dragging)for(var s=0;s<o.length;s++){var a=o[s].__brushOption;if(r&&(!0===r||a.panelId===r.panelId)&&G[a.brushType].contain(o[s],i[0],i[1]))return}r&&n.setCursorStyle("crosshair")}}(this,e,t),this._dragging){H(e);var i=z(this,e,t,!1);i&&E(this,i)}},mouseup:function(e){W(this,e)}};function W(e,t){if(e._dragging){H(t);var i=e.group.transformCoordToLocal(t.offsetX,t.offsetY),n=z(e,t,i,!0);e._dragging=!1,e._track=[],e._creatingCover=null,n&&E(e,n)}}var G={lineX:Y(0),lineY:Y(1),rect:{createCover:function(e,t){return O(l(B,function(e){return e},function(e){return e}),e,t,["w","e","n","s","se","sw","ne","nw"])},getCreatingRange:function(e){var t=M(e);return L(t[1][0],t[1][1],t[0][0],t[0][1])},updateCoverShape:function(e,t,i,n){I(e,t,i,n)},updateCommon:P,contain:$},polygon:{createCover:function(e,t){var i=new r.Group;return i.add(new r.Polyline({name:"main",style:q(t),silent:!0})),i},getCreatingRange:function(e){return e},endCreating:function(e,t){t.remove(t.childAt(0)),t.add(new r.Polygon({name:"main",draggable:!0,drift:l(D,e,t),ondragend:l(E,e,{isEnd:!0})}))},updateCoverShape:function(e,t,i,n){t.childAt(0).setShape({points:F(e,t,i)})},updateCommon:P,contain:$}};function Y(e){return{createCover:function(t,i){return O(l(B,function(t){var i=[t,[0,100]];return e&&i.reverse(),i},function(t){return t[e]}),t,i,[["w","e"],["n","s"]][e])},getCreatingRange:function(t){var i=M(t);return[u(i[0][e],i[1][e]),d(i[0][e],i[1][e])]},updateCoverShape:function(t,i,n,o){var r,s=k(t,i);if(!0!==s&&s.getLinearBrushOtherExtent)r=s.getLinearBrushOtherExtent(e,t._transform);else{var a=t._zr;r=[0,[a.getWidth(),a.getHeight()][1-e]]}var l=[n,r];e&&l.reverse(),I(t,i,l,o)},updateCommon:P,contain:$}}e.exports=y},55853:function(e,t,i){i(59963);var n=i(40628),o=i(62429),r=i(91266),s=i(49231),a=n.each,l=n.indexOf,c=n.curry,h=["dataToPoint","pointToData"],u=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"];function d(e,t,i){var n=this._targetInfoList=[],o={},r=f(t,e);a(m,function(e,t){(!i||!i.include||l(i.include,t)>=0)&&e(r,n,o)})}var p=d.prototype;function g(e){return e[0]>e[1]&&e.reverse(),e}function f(e,t){return r.parseFinder(e,t,{includeMainTypes:u})}p.setOutputRanges=function(e,t){this.matchOutputRanges(e,t,function(e,t,i){if((e.coordRanges||(e.coordRanges=[])).push(t),!e.coordRange){e.coordRange=t;var n=y[e.brushType](0,i,t);e.__rangeOffset={offset:w[e.brushType](n.values,e.range,[1,1]),xyMinMax:n.xyMinMax}}})},p.matchOutputRanges=function(e,t,i){a(e,function(e){var o=this.findTargetInfo(e,t);o&&!0!==o&&n.each(o.coordSyses,function(n){var o=y[e.brushType](1,n,e.range);i(e,o.values,n,t)})},this)},p.setInputRanges=function(e,t){a(e,function(e){var i=this.findTargetInfo(e,t);if(e.range=e.range||[],i&&!0!==i){e.panelId=i.panelId;var n=y[e.brushType](0,i.coordSys,e.coordRange),o=e.__rangeOffset;e.range=o?w[e.brushType](n.values,o.offset,function(e,t){var i=x(e),n=x(t),o=[i[0]/n[0],i[1]/n[1]];return isNaN(o[0])&&(o[0]=1),isNaN(o[1])&&(o[1]=1),o}(n.xyMinMax,o.xyMinMax)):n.values}},this)},p.makePanelOpts=function(e,t){return n.map(this._targetInfoList,function(i){var n=i.getPanelRect();return{panelId:i.panelId,defaultBrushType:t&&t(i),clipPath:s.makeRectPanelClipPath(n),isTargetByCursor:s.makeRectIsTargetByCursor(n,e,i.coordSysModel),getLinearBrushOtherExtent:s.makeLinearBrushOtherExtent(n)}})},p.controlSeries=function(e,t,i){var n=this.findTargetInfo(e,i);return!0===n||n&&l(n.coordSyses,t.coordinateSystem)>=0},p.findTargetInfo=function(e,t){for(var i=this._targetInfoList,n=f(t,e),o=0;o<i.length;o++){var r=i[o],s=e.panelId;if(s){if(r.panelId===s)return r}else for(o=0;o<_.length;o++)if(_[o](n,r))return r}return!0};var m={grid:function(e,t){var i=e.xAxisModels,o=e.yAxisModels,r=e.gridModels,s=n.createHashMap(),c={},h={};!i&&!o&&!r||(a(i,function(e){var t=e.axis.grid.model;s.set(t.id,t),c[t.id]=!0}),a(o,function(e){var t=e.axis.grid.model;s.set(t.id,t),h[t.id]=!0}),a(r,function(e){s.set(e.id,e),c[e.id]=!0,h[e.id]=!0}),s.each(function(e){var n=[];a(e.coordinateSystem.getCartesians(),function(e,t){(l(i,e.getAxis("x").model)>=0||l(o,e.getAxis("y").model)>=0)&&n.push(e)}),t.push({panelId:"grid--"+e.id,gridModel:e,coordSysModel:e,coordSys:n[0],coordSyses:n,getPanelRect:v.grid,xAxisDeclared:c[e.id],yAxisDeclared:h[e.id]})}))},geo:function(e,t){a(e.geoModels,function(e){var i=e.coordinateSystem;t.push({panelId:"geo--"+e.id,geoModel:e,coordSysModel:e,coordSys:i,coordSyses:[i],getPanelRect:v.geo})})}},_=[function(e,t){var i=e.xAxisModel,n=e.yAxisModel,o=e.gridModel;return!o&&i&&(o=i.axis.grid.model),!o&&n&&(o=n.axis.grid.model),o&&o===t.gridModel},function(e,t){var i=e.geoModel;return i&&i===t.geoModel}],v={grid:function(){return this.coordSys.grid.getRect().clone()},geo:function(){var e=this.coordSys,t=e.getBoundingRect().clone();return t.applyTransform(o.getTransform(e)),t}},y={lineX:c(b,0),lineY:c(b,1),rect:function(e,t,i){var n=t[h[e]]([i[0][0],i[1][0]]),o=t[h[e]]([i[0][1],i[1][1]]),r=[g([n[0],o[0]]),g([n[1],o[1]])];return{values:r,xyMinMax:r}},polygon:function(e,t,i){var o=[[1/0,-1/0],[1/0,-1/0]];return{values:n.map(i,function(i){var n=t[h[e]](i);return o[0][0]=Math.min(o[0][0],n[0]),o[1][0]=Math.min(o[1][0],n[1]),o[0][1]=Math.max(o[0][1],n[0]),o[1][1]=Math.max(o[1][1],n[1]),n}),xyMinMax:o}}};function b(e,t,i,o){var r=i.getAxis(["x","y"][e]),s=g(n.map([0,1],function(e){return t?r.coordToData(r.toLocalCoord(o[e])):r.toGlobalCoord(r.dataToCoord(o[e]))})),a=[];return a[e]=s,a[1-e]=[NaN,NaN],{values:s,xyMinMax:a}}var w={lineX:c(A,0),lineY:c(A,1),rect:function(e,t,i){return[[e[0][0]-i[0]*t[0][0],e[0][1]-i[0]*t[0][1]],[e[1][0]-i[1]*t[1][0],e[1][1]-i[1]*t[1][1]]]},polygon:function(e,t,i){return n.map(e,function(e,n){return[e[0]-i[0]*t[n][0],e[1]-i[1]*t[n][1]]})}};function A(e,t,i,n){return[t[0]-n[e]*i[0],t[1]-n[e]*i[1]]}function x(e){return e?[e[0][1]-e[0][0],e[1][1]-e[1][0]]:[NaN,NaN]}e.exports=d},78781:function(e,t,i){var n=i(40628),o=i(96001),r=i(44733),s=i(91969).onIrrelevantElement,a=i(62429),l=i(40751),c=i(82015).getUID,h=i(19358);function u(e){var t=e.getItemStyle(),i=e.get("areaColor");return null!=i&&(t.fill=i),t}function d(e,t){t.eachChild(function(t){n.each(t.__regions,function(i){t.trigger(e.isSelected(i.name)?"emphasis":"normal")})})}function p(e,t){var i=new a.Group;this.uid=c("ec_map_draw"),this._controller=new o(e.getZr()),this._controllerHost={target:t?i:null},this.group=i,this._updateGroup=t,i.add(this._regionsGroup=new a.Group),i.add(this._backgroundGroup=new a.Group)}p.prototype={constructor:p,draw:function(e,t,i,o,r){var s="geo"===e.mainType,l=e.getData&&e.getData();s&&t.eachComponent({mainType:"series",subType:"map"},function(t){!l&&t.getHostGeoModel()===e&&(l=t.getData())});var c=e.coordinateSystem;this._updateBackground(c);var p,g=this._regionsGroup,f=this.group,m=c.getTransformInfo(),_=!g.childAt(0)||r;if(_)f.transform=m.roamTransform,f.decomposeTransform(),f.dirty();else{var v=new h;v.transform=m.roamTransform,v.decomposeTransform(),p=v.scale,a.updateProps(f,{scale:v.scale,position:v.position},e)}var y=m.rawScale,b=m.rawPosition;g.removeAll();var w=["itemStyle"],A=["emphasis","itemStyle"],x=["label"],T=["emphasis","label"],C=n.createHashMap();n.each(c.regions,function(t){var i=C.get(t.name)||C.set(t.name,new a.Group),o=new a.CompoundPath({segmentIgnoreThreshold:1,shape:{paths:[]}});i.add(o);var r,c=(L=e.getRegionModel(t.name)||e).getModel(w),h=L.getModel(A),d=u(c),m=u(h),v=L.getModel(x),Z=L.getModel(T);if(l){r=l.indexOfName(t.name);var k=l.getItemVisual(r,"color",!0);k&&(d.fill=k)}var S=function(e){return[e[0]*y[0]+b[0],e[1]*y[1]+b[1]]};n.each(t.geometries,function(e){if("polygon"===e.type){for(var t=[],i=0;i<e.exterior.length;++i)t.push(S(e.exterior[i]));for(o.shape.paths.push(new a.Polygon({segmentIgnoreThreshold:1,shape:{points:t}})),i=0;i<(e.interiors?e.interiors.length:0);++i){for(var n=e.interiors[i],r=(t=[],0);r<n.length;++r)t.push(S(n[r]));o.shape.paths.push(new a.Polygon({segmentIgnoreThreshold:1,shape:{points:t}}))}}}),o.setStyle(d),o.style.strokeNoScale=!0,o.culling=!0;var E=v.get("show"),M=Z.get("show"),O=l&&isNaN(l.get(l.mapDimension("value"),r)),I=l&&l.getItemLayout(r);if(s||O&&(E||M)||I&&I.showLabel){var P,R=s?t.name:r;(!l||r>=0)&&(P=e);var q=new a.Text({position:S(t.center.slice()),scale:[1/f.scale[0],1/f.scale[1]],z2:10,silent:!0});a.setLabelStyle(q.style,q.hoverStyle={},v,Z,{labelFetcher:P,labelDataIndex:R,defaultText:t.name,useInsideStyle:!1},{textAlign:"center",textVerticalAlign:"middle"}),_||a.updateProps(q,{scale:[1/p[0],1/p[1]]},e),i.add(q)}if(l)l.setItemGraphicEl(r,i);else{var L=e.getRegionModel(t.name);o.eventData={componentType:"geo",componentIndex:e.componentIndex,geoIndex:e.componentIndex,name:t.name,region:L&&L.option||{}}}(i.__regions||(i.__regions=[])).push(t),i.highDownSilentOnTouch=!!e.get("selectedMode"),a.setHoverStyle(i,m),g.add(i)}),this._updateController(e,t,i),function(e,t,i,o,r){i.off("click"),i.off("mousedown"),t.get("selectedMode")&&(i.on("mousedown",function(){e._mouseDownFlag=!0}),i.on("click",function(s){if(e._mouseDownFlag){e._mouseDownFlag=!1;for(var a=s.target;!a.__regions;)a=a.parent;if(a){var l={type:("geo"===t.mainType?"geo":"map")+"ToggleSelect",batch:n.map(a.__regions,function(e){return{name:e.name,from:r.uid}})};l[t.mainType+"Id"]=t.id,o.dispatchAction(l),d(t,i)}}}))}(this,e,g,i,o),d(e,g)},remove:function(){this._regionsGroup.removeAll(),this._backgroundGroup.removeAll(),this._controller.dispose(),this._mapName&&l.removeGraphic(this._mapName,this.uid),this._mapName=null,this._controllerHost={}},_updateBackground:function(e){var t=e.map;this._mapName!==t&&n.each(l.makeGraphic(t,this.uid),function(e){this._backgroundGroup.add(e)},this),this._mapName=t},_updateController:function(e,t,i){var o=e.coordinateSystem,a=this._controller,l=this._controllerHost;l.zoomLimit=e.get("scaleLimit"),l.zoom=o.getZoom(),a.enable(e.get("roam")||!1);var c=e.mainType;function h(){var t={type:"geoRoam",componentType:c};return t[c+"Id"]=e.id,t}a.off("pan").on("pan",function(e){this._mouseDownFlag=!1,r.updateViewOnPan(l,e.dx,e.dy),i.dispatchAction(n.extend(h(),{dx:e.dx,dy:e.dy}))},this),a.off("zoom").on("zoom",function(e){if(this._mouseDownFlag=!1,r.updateViewOnZoom(l,e.scale,e.originX,e.originY),i.dispatchAction(n.extend(h(),{zoom:e.scale,originX:e.originX,originY:e.originY})),this._updateGroup){var t=this.group.scale;this._regionsGroup.traverse(function(e){"text"===e.type&&e.attr("scale",[1/t[0],1/t[1]])})}},this),a.setPointerChecker(function(t,n,r){return o.getViewRectAfterRoam().contain(n,r)&&!s(t,i,e)})}},e.exports=p},96001:function(e,t,i){var n=i(40628),o=i(62361),r=i(91170),s=i(68592);function a(e){this._zr=e,this._opt={};var t=n.bind,i=t(l,this),r=t(c,this),s=t(h,this),a=t(u,this),p=t(d,this);o.call(this),this.setPointerChecker=function(e){this.pointerChecker=e},this.enable=function(t,o){this.disable(),this._opt=n.defaults(n.clone(o)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),null==t&&(t=!0),(!0===t||"move"===t||"pan"===t)&&(e.on("mousedown",i),e.on("mousemove",r),e.on("mouseup",s)),(!0===t||"scale"===t||"zoom"===t)&&(e.on("mousewheel",a),e.on("pinch",p))},this.disable=function(){e.off("mousedown",i),e.off("mousemove",r),e.off("mouseup",s),e.off("mousewheel",a),e.off("pinch",p)},this.dispose=this.disable,this.isDragging=function(){return this._dragging},this.isPinching=function(){return this._pinching}}function l(e){if(!(r.isMiddleOrRightButtonOnMouseUpDown(e)||e.target&&e.target.draggable)){var t=e.offsetX,i=e.offsetY;this.pointerChecker&&this.pointerChecker(e,t,i)&&(this._x=t,this._y=i,this._dragging=!0)}}function c(e){if(this._dragging&&f("moveOnMouseMove",e,this._opt)&&"pinch"!==e.gestureEvent&&!s.isTaken(this._zr,"globalPan")){var t=e.offsetX,i=e.offsetY,n=this._x,o=this._y,a=t-n,l=i-o;this._x=t,this._y=i,this._opt.preventDefaultMouseMove&&r.stop(e.event),g(this,"pan","moveOnMouseMove",e,{dx:a,dy:l,oldX:n,oldY:o,newX:t,newY:i})}}function h(e){r.isMiddleOrRightButtonOnMouseUpDown(e)||(this._dragging=!1)}function u(e){var t=f("zoomOnMouseWheel",e,this._opt),i=f("moveOnMouseWheel",e,this._opt),n=e.wheelDelta,o=Math.abs(n),r=e.offsetX,s=e.offsetY;if(0!==n&&(t||i)){if(t){var a=o>3?1.4:o>1?1.2:1.1;p(this,"zoom","zoomOnMouseWheel",e,{scale:n>0?a:1/a,originX:r,originY:s})}if(i){var l=Math.abs(n);p(this,"scrollMove","moveOnMouseWheel",e,{scrollDelta:(n>0?1:-1)*(l>3?.4:l>1?.15:.05),originX:r,originY:s})}}}function d(e){s.isTaken(this._zr,"globalPan")||p(this,"zoom",null,e,{scale:e.pinchScale>1?1.1:1/1.1,originX:e.pinchX,originY:e.pinchY})}function p(e,t,i,n,o){e.pointerChecker&&e.pointerChecker(n,o.originX,o.originY)&&(r.stop(n.event),g(e,t,i,n,o))}function g(e,t,i,o,r){r.isAvailableBehavior=n.bind(f,null,i,o),e.trigger(t,r)}function f(e,t,i){var o=i[e];return!e||o&&(!n.isString(o)||t.event[o+"Key"])}n.mixin(a,o),e.exports=a},49231:function(e,t,i){var n=i(87021),o=i(91969).onIrrelevantElement,r=i(62429);function s(e){return n.create(e)}t.makeRectPanelClipPath=function(e){return e=s(e),function(t,i){return r.clipPointsByRect(t,e)}},t.makeLinearBrushOtherExtent=function(e,t){return e=s(e),function(i){var n=null!=t?t:i,o=n?e.x:e.y;return[o,o+((n?e.width:e.height)||0)]}},t.makeRectIsTargetByCursor=function(e,t,i){return e=s(e),function(n,r,s){return e.contain(r[0],r[1])&&!o(n,t,i)}}},91969:function(e,t){var i={axisPointer:1,tooltip:1,brush:1};t.onIrrelevantElement=function(e,t,n){var o=t.getComponentByElement(e.topTarget),r=o&&o.coordinateSystem;return o&&o!==n&&!i[o.mainType]&&r&&r.model!==n}},68592:function(e,t,i){var n=i(90650),o="\0_ec_interaction_mutex";function r(e){return e[o]||(e[o]={})}n.registerAction({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},function(){}),t.take=function(e,t,i){r(e)[t]=i},t.release=function(e,t,i){var n=r(e);n[t]===i&&(n[t]=null)},t.isTaken=function(e,t){return!!r(e)[t]}},6110:function(e,t,i){var n=i(40634),o=n.getLayoutRect,r=n.box,s=n.positionElement,a=i(99706),l=i(62429);t.layout=function(e,t,i){var n=t.getBoxLayoutParams(),a=t.get("padding"),l={width:i.getWidth(),height:i.getHeight()},c=o(n,l,a);r(t.get("orient"),e,t.get("itemGap"),c.width,c.height),s(e,n,l,a)},t.makeBackground=function(e,t){var i=a.normalizeCssArray(t.get("padding")),n=t.getItemStyle(["color","opacity"]);return n.fill=t.get("backgroundColor"),new l.Rect({shape:{x:e.x-i[3],y:e.y-i[0],width:e.width+i[1]+i[3],height:e.height+i[0]+i[2],r:t.get("borderRadius")},style:n,silent:!0,z2:-1})}},44733:function(e,t){t.updateViewOnPan=function(e,t,i){var n=e.target,o=n.position;o[0]+=t,o[1]+=i,n.dirty()},t.updateViewOnZoom=function(e,t,i,n){var o=e.target,r=e.zoomLimit,s=o.position,a=o.scale,l=e.zoom=e.zoom||1;if(l*=t,r){var c=r.min||0;l=Math.max(Math.min(r.max||1/0,l),c)}var h=l/e.zoom;e.zoom=l,s[0]-=(i-s[0])*(h-1),s[1]-=(n-s[1])*(h-1),a[0]*=h,a[1]*=h,o.dirty()}},66624:function(e,t,i){var n=i(40628);e.exports={updateSelectedMap:function(e){this._targetList=n.isArray(e)?e.slice():[],this._selectTargetMap=n.reduce(e||[],function(e,t){return e.set(t.name,t),e},n.createHashMap())},select:function(e,t){var i=null!=t?this._targetList[t]:this._selectTargetMap.get(e);"single"===this.get("selectedMode")&&this._selectTargetMap.each(function(e){e.selected=!1}),i&&(i.selected=!0)},unSelect:function(e,t){var i=null!=t?this._targetList[t]:this._selectTargetMap.get(e);i&&(i.selected=!1)},toggleSelected:function(e,t){var i=null!=t?this._targetList[t]:this._selectTargetMap.get(e);if(null!=i)return this[i.selected?"unSelect":"select"](e,t),i.selected},isSelected:function(e,t){var i=null!=t?this._targetList[t]:this._selectTargetMap.get(e);return i&&i.selected}}},57583:function(e){function t(e,t){var i=e[t]-e[1-t];return{span:Math.abs(i),sign:i>0?-1:i<0?1:t?-1:1}}function i(e,t){return Math.min(null!=t[1]?t[1]:1/0,Math.max(null!=t[0]?t[0]:-1/0,e))}e.exports=function(e,n,o,r,s,a){e=e||0;var l=o[1]-o[0];if(null!=s&&(s=i(s,[0,l])),null!=a&&(a=Math.max(a,null!=s?s:0)),"all"===r){var c=Math.abs(n[1]-n[0]);c=i(c,[0,l]),s=a=i(c,[s,a]),r=0}n[0]=i(n[0],o),n[1]=i(n[1],o);var h=t(n,r);n[r]+=e;var u=s||0,d=o.slice();h.sign<0?d[0]+=u:d[1]-=u,n[r]=i(n[r],d);var p=t(n,r);return null!=s&&(p.sign!==h.sign||p.span<s)&&(n[1-r]=n[r]+h.sign*s),p=t(n,r),null!=a&&p.span>a&&(n[1-r]=n[r]+p.sign*a),n}},96922:function(e,t,i){var n=i(90650);i(9345),i(77805),i(79637);var o=i(66152),r=i(39447);n.registerProcessor(n.PRIORITY.PROCESSOR.SERIES_FILTER,o),r.registerSubTypeDefaulter("legend",function(){return"plain"})},9345:function(e,t,i){var n=i(90650),o=i(40628),r=i(96948),s=i(91266).isNameSpecified,a=i(54010).legend.selector,l={all:{type:"all",title:o.clone(a.all)},inverse:{type:"inverse",title:o.clone(a.inverse)}},c=n.extendComponentModel({type:"legend.plain",dependencies:["series"],layoutMode:{type:"box",ignoreSize:!0},init:function(e,t,i){this.mergeDefaultAndTheme(e,i),e.selected=e.selected||{},this._updateSelector(e)},mergeOption:function(e){c.superCall(this,"mergeOption",e),this._updateSelector(e)},_updateSelector:function(e){var t=e.selector;!0===t&&(t=e.selector=["all","inverse"]),o.isArray(t)&&o.each(t,function(e,i){o.isString(e)&&(e={type:e}),t[i]=o.merge(e,l[e.type])})},optionUpdated:function(){this._updateData(this.ecModel);var e=this._data;if(e[0]&&"single"===this.get("selectedMode")){for(var t=!1,i=0;i<e.length;i++){var n=e[i].get("name");if(this.isSelected(n)){this.select(n),t=!0;break}}!t&&this.select(e[0].get("name"))}},_updateData:function(e){var t=[],i=[];e.eachRawSeries(function(n){var o;if(i.push(n.name),n.legendVisualProvider){var r=n.legendVisualProvider.getAllNames();e.isSeriesFiltered(n)||(i=i.concat(r)),r.length?t=t.concat(r):o=!0}else o=!0;o&&s(n)&&t.push(n.name)}),this._availableNames=i;var n=this.get("data")||t,a=o.map(n,function(e){return("string"==typeof e||"number"==typeof e)&&(e={name:e}),new r(e,this,this.ecModel)},this);this._data=a},getData:function(){return this._data},select:function(e){var t=this.option.selected;"single"===this.get("selectedMode")&&o.each(this._data,function(e){t[e.get("name")]=!1}),t[e]=!0},unSelect:function(e){"single"!==this.get("selectedMode")&&(this.option.selected[e]=!1)},toggleSelected:function(e){var t=this.option.selected;t.hasOwnProperty(e)||(t[e]=!0),this[t[e]?"unSelect":"select"](e)},allSelect:function(){var e=this.option.selected;o.each(this._data,function(t){e[t.get("name",!0)]=!0})},inverseSelect:function(){var e=this.option.selected;o.each(this._data,function(t){var i=t.get("name",!0);e.hasOwnProperty(i)||(e[i]=!0),e[i]=!e[i]})},isSelected:function(e){var t=this.option.selected;return!(t.hasOwnProperty(e)&&!t[e])&&o.indexOf(this._availableNames,e)>=0},getOrient:function(){return"vertical"===this.get("orient")?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},defaultOption:{zlevel:0,z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",itemStyle:{borderWidth:0},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:" sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}}});e.exports=c},79637:function(e,t,i){i(59963);var n=i(90650),o=i(40628),r=i(34550).createSymbol,s=i(62429),a=i(6110).makeBackground,l=i(40634),c=o.curry,h=o.each,u=s.Group,d=n.extendComponentView({type:"legend.plain",newlineDisabled:!1,init:function(){this.group.add(this._contentGroup=new u),this.group.add(this._selectorGroup=new u),this._isFirstRender=!0},getContentGroup:function(){return this._contentGroup},getSelectorGroup:function(){return this._selectorGroup},render:function(e,t,i){var n=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),e.get("show",!0)){var r=e.get("align"),s=e.get("orient");(!r||"auto"===r)&&(r="right"===e.get("left")&&"vertical"===s?"right":"left");var c=e.get("selector",!0),h=e.get("selectorPosition",!0);c&&(!h||"auto"===h)&&(h="horizontal"===s?"end":"start"),this.renderInner(r,e,t,i,c,s,h);var u=e.getBoxLayoutParams(),d={width:i.getWidth(),height:i.getHeight()},p=e.get("padding"),g=l.getLayoutRect(u,d,p),f=this.layoutInner(e,r,g,n,c,h),m=l.getLayoutRect(o.defaults({width:f.width,height:f.height},u),d,p);this.group.attr("position",[m.x-f.x,m.y-f.y]),this.group.add(this._backgroundEl=a(f,e))}},resetInner:function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},renderInner:function(e,t,i,n,r,s,a){var l=this.getContentGroup(),d=o.createHashMap(),p=t.get("selectedMode"),_=[];i.eachRawSeries(function(e){!e.get("legendHoverLink")&&_.push(e.id)}),h(t.getData(),function(o,r){var s=o.get("name");if(this.newlineDisabled||""!==s&&"\n"!==s){var a=i.getSeriesByName(s)[0];if(!d.get(s))if(a){var h=a.getData(),v=h.getVisual("color"),y=h.getVisual("borderColor");"function"==typeof v&&(v=v(a.getDataParams(0))),"function"==typeof y&&(y=y(a.getDataParams(0)));var b=h.getVisual("legendSymbol")||"roundRect",w=h.getVisual("symbol");this._createItem(s,r,o,t,b,w,e,v,y,p).on("click",c(g,s,null,n,_)).on("mouseover",c(f,a.name,null,n,_)).on("mouseout",c(m,a.name,null,n,_)),d.set(s,!0)}else i.eachRawSeries(function(i){if(!d.get(s)&&i.legendVisualProvider){var a=i.legendVisualProvider;if(!a.containName(s))return;var l=a.indexOfName(s),h=a.getItemVisual(l,"color"),u=a.getItemVisual(l,"borderColor");this._createItem(s,r,o,t,"roundRect",null,e,h,u,p).on("click",c(g,null,s,n,_)).on("mouseover",c(f,null,s,n,_)).on("mouseout",c(m,null,s,n,_)),d.set(s,!0)}},this)}else l.add(new u({newline:!0}))},this),r&&this._createSelector(r,t,n,s,a)},_createSelector:function(e,t,i,n,o){var r=this.getSelectorGroup();h(e,function(e){!function(e){var n=e.type,o=new s.Text({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){i.dispatchAction({type:"all"===n?"legendAllSelect":"legendInverseSelect"})}});r.add(o);var a=t.getModel("selectorLabel"),l=t.getModel("emphasis.selectorLabel");s.setLabelStyle(o.style,o.hoverStyle={},a,l,{defaultText:e.title,isRectText:!1}),s.setHoverStyle(o)}(e)})},_createItem:function(e,t,i,n,a,l,c,h,d,g){var f=n.get("itemWidth"),m=n.get("itemHeight"),_=n.get("inactiveColor"),v=n.get("inactiveBorderColor"),y=n.get("symbolKeepAspect"),b=n.getModel("itemStyle"),w=n.isSelected(e),A=new u,x=i.getModel("textStyle"),T=i.get("icon"),C=i.getModel("tooltip"),Z=C.parentModel,k=r(a=T||a,0,0,f,m,w?h:_,null==y||y);if(A.add(p(k,a,b,d,v,w)),!T&&l&&(l!==a||"none"===l)){var S=.8*m;"none"===l&&(l="circle");var E=r(l,(f-S)/2,(m-S)/2,S,S,w?h:_,null==y||y);A.add(p(E,l,b,d,v,w))}var M="left"===c?f+5:-5,O=c,I=n.get("formatter"),P=e;"string"==typeof I&&I?P=I.replace("{name}",null!=e?e:""):"function"==typeof I&&(P=I(e)),A.add(new s.Text({style:s.setTextStyle({},x,{text:P,x:M,y:m/2,textFill:w?x.getTextColor():_,textAlign:O,textVerticalAlign:"middle"})}));var R=new s.Rect({shape:A.getBoundingRect(),invisible:!0,tooltip:C.get("show")?o.extend({content:e,formatter:Z.get("formatter",!0)||function(){return e},formatterParams:{componentType:"legend",legendIndex:n.componentIndex,name:e,$vars:["name"]}},C.option):null});return A.add(R),A.eachChild(function(e){e.silent=!0}),R.silent=!g,this.getContentGroup().add(A),s.setHoverStyle(A),A.__legendDataIndex=t,A},layoutInner:function(e,t,i,n,o,r){var s=this.getContentGroup(),a=this.getSelectorGroup();l.box(e.get("orient"),s,e.get("itemGap"),i.width,i.height);var c=s.getBoundingRect(),h=[-c.x,-c.y];if(o){l.box("horizontal",a,e.get("selectorItemGap",!0));var u=a.getBoundingRect(),d=[-u.x,-u.y],p=e.get("selectorButtonGap",!0),g=e.getOrient().index,f=0===g?"width":"height",m=0===g?"height":"width",_=0===g?"y":"x";"end"===r?d[g]+=c[f]+p:h[g]+=u[f]+p,d[1-g]+=c[m]/2-u[m]/2,a.attr("position",d),s.attr("position",h);var v={x:0,y:0};return v[f]=c[f]+p+u[f],v[m]=Math.max(c[m],u[m]),v[_]=Math.min(0,u[_]+d[1-g]),v}return s.attr("position",h),this.group.getBoundingRect()},remove:function(){this.getContentGroup().removeAll(),this._isFirstRender=!0}});function p(e,t,i,n,o,r){var s;return"line"!==t&&t.indexOf("empty")<0?(s=i.getItemStyle(),e.style.stroke=n,r||(s.stroke=o)):s=i.getItemStyle(["borderWidth","borderColor"]),e.setStyle(s)}function g(e,t,i,n){m(e,t,i,n),i.dispatchAction({type:"legendToggleSelect",name:null!=e?e:t}),f(e,t,i,n)}function f(e,t,i,n){var o=i.getZr().storage.getDisplayList()[0];o&&o.useHoverLayer||i.dispatchAction({type:"highlight",seriesName:e,name:t,excludeSeriesId:n})}function m(e,t,i,n){var o=i.getZr().storage.getDisplayList()[0];o&&o.useHoverLayer||i.dispatchAction({type:"downplay",seriesName:e,name:t,excludeSeriesId:n})}e.exports=d},88990:function(e,t,i){var n=i(9345),o=i(40634),r=o.mergeLayoutParam,s=o.getLayoutParams,a=n.extend({type:"legend.scroll",setScrollDataIndex:function(e){this.option.scrollDataIndex=e},defaultOption:{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800},init:function(e,t,i,n){var o=s(e);a.superCall(this,"init",e,t,i,n),l(this,e,o)},mergeOption:function(e,t){a.superCall(this,"mergeOption",e,t),l(this,this.option,e)}});function l(e,t,i){var n=[1,1];n[e.getOrient().index]=0,r(t,i,{type:"box",ignoreSize:n})}e.exports=a},14319:function(e,t,i){var n=i(40628),o=i(62429),r=i(40634),s=i(79637),a=o.Group,l=["width","height"],c=["x","y"],h=s.extend({type:"legend.scroll",newlineDisabled:!0,init:function(){h.superCall(this,"init"),this._currentIndex=0,this.group.add(this._containerGroup=new a),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new a)},resetInner:function(){h.superCall(this,"resetInner"),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},renderInner:function(e,t,i,r,s,a,l){var c=this;h.superCall(this,"renderInner",e,t,i,r,s,a,l);var u=this._controllerGroup,d=t.get("pageIconSize",!0);n.isArray(d)||(d=[d,d]),g("pagePrev",0);var p=t.getModel("pageTextStyle");function g(e,i){var s=e+"DataIndex",a=o.createIcon(t.get("pageIcons",!0)[t.getOrient().name][i],{onclick:n.bind(c._pageGo,c,s,t,r)},{x:-d[0]/2,y:-d[1]/2,width:d[0],height:d[1]});a.name=e,u.add(a)}u.add(new o.Text({name:"pageText",style:{textFill:p.getTextColor(),font:p.getFont(),textVerticalAlign:"middle",textAlign:"center"},silent:!0})),g("pageNext",1)},layoutInner:function(e,t,i,o,s,a){var h=this.getSelectorGroup(),u=e.getOrient().index,d=l[u],p=c[u],g=l[1-u],f=c[1-u];s&&r.box("horizontal",h,e.get("selectorItemGap",!0));var m=e.get("selectorButtonGap",!0),_=h.getBoundingRect(),v=[-_.x,-_.y],y=n.clone(i);s&&(y[d]=i[d]-_[d]-m);var b=this._layoutContentAndController(e,o,y,u,d,g,f);if(s){if("end"===a)v[u]+=b[d]+m;else{var w=_[d]+m;v[u]-=w,b[p]-=w}b[d]+=_[d]+m,v[1-u]+=b[f]+b[g]/2-_[g]/2,b[g]=Math.max(b[g],_[g]),b[f]=Math.min(b[f],_[f]+v[1-u]),h.attr("position",v)}return b},_layoutContentAndController:function(e,t,i,s,a,l,c){var h=this.getContentGroup(),u=this._containerGroup,d=this._controllerGroup;r.box(e.get("orient"),h,e.get("itemGap"),s?i.width:null,s?null:i.height),r.box("horizontal",d,e.get("pageButtonItemGap",!0));var p=h.getBoundingRect(),g=d.getBoundingRect(),f=this._showController=p[a]>i[a],m=[-p.x,-p.y];t||(m[s]=h.position[s]);var _=[0,0],v=[-g.x,-g.y],y=n.retrieve2(e.get("pageButtonGap",!0),e.get("itemGap",!0));f&&("end"===e.get("pageButtonPosition",!0)?v[s]+=i[a]-g[a]:_[s]+=g[a]+y),v[1-s]+=p[l]/2-g[l]/2,h.attr("position",m),u.attr("position",_),d.attr("position",v);var b={x:0,y:0};if(b[a]=f?i[a]:p[a],b[l]=Math.max(p[l],g[l]),b[c]=Math.min(0,g[c]+v[1-s]),u.__rectSize=i[a],f){var w={x:0,y:0};w[a]=Math.max(i[a]-g[a]-y,0),w[l]=b[l],u.setClipPath(new o.Rect({shape:w})),u.__rectSize=w[a]}else d.eachChild(function(e){e.attr({invisible:!0,silent:!0})});var A=this._getPageInfo(e);return null!=A.pageIndex&&o.updateProps(h,{position:A.contentPosition},!!f&&e),this._updatePageInfoView(e,A),b},_pageGo:function(e,t,i){var n=this._getPageInfo(t)[e];null!=n&&i.dispatchAction({type:"legendScroll",scrollDataIndex:n,legendId:t.id})},_updatePageInfoView:function(e,t){var i=this._controllerGroup;n.each(["pagePrev","pageNext"],function(n){var o=null!=t[n+"DataIndex"],r=i.childOfName(n);r&&(r.setStyle("fill",e.get(o?"pageIconColor":"pageIconInactiveColor",!0)),r.cursor=o?"pointer":"default")});var o=i.childOfName("pageText"),r=e.get("pageFormatter"),s=t.pageIndex,a=null!=s?s+1:0,l=t.pageCount;o&&r&&o.setStyle("text",n.isString(r)?r.replace("{current}",a).replace("{total}",l):r({current:a,total:l}))},_getPageInfo:function(e){var t=e.get("scrollDataIndex",!0),i=this.getContentGroup(),n=this._containerGroup.__rectSize,o=e.getOrient().index,r=l[o],s=c[o],a=this._findTargetItemIndex(t),h=i.children(),u=h[a],d=h.length,p=d?1:0,g={contentPosition:i.position.slice(),pageCount:p,pageIndex:p-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!u)return g;var f=b(u);g.contentPosition[o]=-f.s;for(var m=a+1,_=f,v=f,y=null;m<=d;++m)(!(y=b(h[m]))&&v.e>_.s+n||y&&!w(y,_.s))&&(_=v.i>_.i?v:y)&&(null==g.pageNextDataIndex&&(g.pageNextDataIndex=_.i),++g.pageCount),v=y;for(m=a-1,_=f,v=f,y=null;m>=-1;--m)(!(y=b(h[m]))||!w(v,y.s))&&_.i<v.i&&(v=_,null==g.pagePrevDataIndex&&(g.pagePrevDataIndex=_.i),++g.pageCount,++g.pageIndex),_=y;return g;function b(e){if(e){var t=e.getBoundingRect(),i=t[s]+e.position[o];return{s:i,e:i+t[r],i:e.__legendDataIndex}}}function w(e,t){return e.e>=t&&e.s<=t+n}},_findTargetItemIndex:function(e){return this._showController?(this.getContentGroup().eachChild(function(n,o){var r=n.__legendDataIndex;null==i&&null!=r&&(i=o),r===e&&(t=o)}),null!=t?t:i):0;var t,i}});e.exports=h},77805:function(e,t,i){var n=i(90650),o=i(40628);function r(e,t,i){var n,r={},s="toggleSelected"===e;return i.eachComponent("legend",function(i){s&&null!=n?i[n?"select":"unSelect"](t.name):"allSelect"===e||"inverseSelect"===e?i[e]():(i[e](t.name),n=i.isSelected(t.name));var a=i.getData();o.each(a,function(e){var t=e.get("name");if("\n"!==t&&""!==t){var n=i.isSelected(t);r[t]=r.hasOwnProperty(t)?r[t]&&n:n}})}),"allSelect"===e||"inverseSelect"===e?{selected:r}:{name:t.name,selected:r}}n.registerAction("legendToggleSelect","legendselectchanged",o.curry(r,"toggleSelected")),n.registerAction("legendAllSelect","legendselectall",o.curry(r,"allSelect")),n.registerAction("legendInverseSelect","legendinverseselect",o.curry(r,"inverseSelect")),n.registerAction("legendSelect","legendselected",o.curry(r,"select")),n.registerAction("legendUnSelect","legendunselected",o.curry(r,"unSelect"))},66152:function(e){e.exports=function(e){var t=e.findComponents({mainType:"legend"});t&&t.length&&e.filterSeries(function(e){for(var i=0;i<t.length;i++)if(!t[i].isSelected(e.name))return!1;return!0})}},20214:function(e,t,i){i(90650).registerAction("legendScroll","legendscroll",function(e,t){var i=e.scrollDataIndex;null!=i&&t.eachComponent({mainType:"legend",subType:"scroll",query:e},function(e){e.setScrollDataIndex(i)})})},14001:function(e,t,i){i(96922),i(88990),i(14319),i(20214)},92459:function(e,t,i){var n=i(90650);i(94687),i(48337),n.registerPreprocessor(function(e){e.markArea=e.markArea||{}})},36674:function(e,t,i){var n=i(90650);i(4644),i(21423),n.registerPreprocessor(function(e){e.markLine=e.markLine||{}})},10826:function(e,t,i){var n=i(90650);i(71470),i(22521),n.registerPreprocessor(function(e){e.markPoint=e.markPoint||{}})},94687:function(e,t,i){var n=i(90100).extend({type:"markArea",defaultOption:{zlevel:0,z:1,tooltip:{trigger:"item"},animation:!1,label:{show:!0,position:"top"},itemStyle:{borderWidth:0},emphasis:{label:{show:!0,position:"top"}}}});e.exports=n},48337:function(e,t,i){var n=i(40628),o=i(10312),r=i(84497),s=i(14785),a=i(62429),l=i(25605),c=i(84871),h=function(e,t,i,o){var r=l.dataTransform(e,o[0]),s=l.dataTransform(e,o[1]),a=n.retrieve,c=r.coord,h=s.coord;c[0]=a(c[0],-1/0),c[1]=a(c[1],-1/0),h[0]=a(h[0],1/0),h[1]=a(h[1],1/0);var u=n.mergeAll([{},r,s]);return u.coord=[r.coord,s.coord],u.x0=r.x,u.y0=r.y,u.x1=s.x,u.y1=s.y,u};function u(e){return!isNaN(e)&&!isFinite(e)}function d(e,t,i,n){var o=1-e;return u(t[o])&&u(i[o])}function p(e,t){var i=t.coord[0],n=t.coord[1];return!("cartesian2d"!==e.type||!i||!n||!d(1,i,n)&&!d(0,i,n))||l.dataFilter(e,{coord:i,x:t.x0,y:t.y0})||l.dataFilter(e,{coord:n,x:t.x1,y:t.y1})}function g(e,t,i,n,o){var r,a=n.coordinateSystem,l=e.getItemModel(t),c=s.parsePercent(l.get(i[0]),o.getWidth()),h=s.parsePercent(l.get(i[1]),o.getHeight());if(isNaN(c)||isNaN(h)){if(n.getMarkerPosition)r=n.getMarkerPosition(e.getValues(i,t));else{var d=[f=e.get(i[0],t),m=e.get(i[1],t)];a.clampData&&a.clampData(d,d),r=a.dataToPoint(d,!0)}if("cartesian2d"===a.type){var p=a.getAxis("x"),g=a.getAxis("y"),f=e.get(i[0],t),m=e.get(i[1],t);u(f)?r[0]=p.toGlobalCoord(p.getExtent()["x0"===i[0]?0:1]):u(m)&&(r[1]=g.toGlobalCoord(g.getExtent()["y0"===i[1]?0:1]))}isNaN(c)||(r[0]=c),isNaN(h)||(r[1]=h)}else r=[c,h];return r}var f=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]];c.extend({type:"markArea",updateTransform:function(e,t,i){t.eachSeries(function(e){var t=e.markAreaModel;if(t){var o=t.getData();o.each(function(t){var r=n.map(f,function(n){return g(o,t,n,e,i)});o.setItemLayout(t,r),o.getItemGraphicEl(t).setShape("points",r)})}},this)},renderSeries:function(e,t,i,s){var l=e.coordinateSystem,c=e.id,d=e.getData(),m=this.markerGroupMap,_=m.get(c)||m.set(c,{group:new a.Group});this.group.add(_.group),_.__keep=!0;var v=function(e,t,i){var o,s;e?(o=n.map(e&&e.dimensions,function(e){var i=t.getData(),o=i.getDimensionInfo(i.mapDimension(e))||{};return n.defaults({name:e},o)}),s=new r(n.map(["x0","y0","x1","y1"],function(e,t){return{name:e,type:o[t%2].type}}),i)):s=new r(o=[{name:"value",type:"float"}],i);var a=n.map(i.get("data"),n.curry(h,t,e,i));return e&&(a=n.filter(a,n.curry(p,e))),s.initData(a,null,e?function(e,t,i,n){return e.coord[Math.floor(n/2)][n%2]}:function(e){return e.value}),s.hasItemOption=!0,s}(l,e,t);t.setData(v),v.each(function(t){var i=n.map(f,function(i){return g(v,t,i,e,s)}),o=!0;n.each(f,function(e){if(o){var i=v.get(e[0],t),n=v.get(e[1],t);(u(i)||l.getAxis("x").containData(i))&&(u(n)||l.getAxis("y").containData(n))&&(o=!1)}}),v.setItemLayout(t,{points:i,allClipped:o}),v.setItemVisual(t,{color:d.getVisual("color")})}),v.diff(_.__data).add(function(e){var t=v.getItemLayout(e);if(!t.allClipped){var i=new a.Polygon({shape:{points:t.points}});v.setItemGraphicEl(e,i),_.group.add(i)}}).update(function(e,i){var n=_.__data.getItemGraphicEl(i),o=v.getItemLayout(e);o.allClipped?n&&_.group.remove(n):(n?a.updateProps(n,{shape:{points:o.points}},t,e):n=new a.Polygon({shape:{points:o.points}}),v.setItemGraphicEl(e,n),_.group.add(n))}).remove(function(e){var t=_.__data.getItemGraphicEl(e);_.group.remove(t)}).execute(),v.eachItemGraphicEl(function(e,i){var r=v.getItemModel(i),s=r.getModel("label"),l=r.getModel("emphasis.label"),c=v.getItemVisual(i,"color");e.useStyle(n.defaults(r.getModel("itemStyle").getItemStyle(),{fill:o.modifyAlpha(c,.4),stroke:c})),e.hoverStyle=r.getModel("emphasis.itemStyle").getItemStyle(),a.setLabelStyle(e.style,e.hoverStyle,s,l,{labelFetcher:t,labelDataIndex:i,defaultText:v.getName(i)||"",isRectText:!0,autoColor:c}),a.setHoverStyle(e,{}),e.dataModel=t}),_.__data=v,_.group.silent=t.get("silent")||e.get("silent")}})},4644:function(e,t,i){var n=i(90100).extend({type:"markLine",defaultOption:{zlevel:0,z:5,symbol:["circle","arrow"],symbolSize:[8,16],precision:2,tooltip:{trigger:"item"},label:{show:!0,position:"end",distance:5},lineStyle:{type:"dashed"},emphasis:{label:{show:!0},lineStyle:{width:3}},animationEasing:"linear"}});e.exports=n},21423:function(e,t,i){var n=i(40628),o=i(84497),r=i(14785),s=i(25605),a=i(61289),l=i(84871),c=i(50143).getStackedDimension,h=function(e,t,i,o){var r=e.getData(),a=o.type;if(!n.isArray(o)&&("min"===a||"max"===a||"average"===a||"median"===a||null!=o.xAxis||null!=o.yAxis)){var l,h;if(null!=o.yAxis||null!=o.xAxis)l=t.getAxis(null!=o.yAxis?"y":"x"),h=n.retrieve(o.yAxis,o.xAxis);else{var u=s.getAxisInfo(o,r,t,e);l=u.valueAxis;var d=c(r,u.valueDataDim);h=s.numCalculate(r,d,a)}var p="x"===l.dim?0:1,g=1-p,f=n.clone(o),m={};f.type=null,f.coord=[],m.coord=[],f.coord[g]=-1/0,m.coord[g]=1/0;var _=i.get("precision");_>=0&&"number"==typeof h&&(h=+h.toFixed(Math.min(_,20))),f.coord[p]=m.coord[p]=h,o=[f,m,{type:a,valueIndex:o.valueIndex,value:h}]}return(o=[s.dataTransform(e,o[0]),s.dataTransform(e,o[1]),n.extend({},o[2])])[2].type=o[2].type||"",n.merge(o[2],o[0]),n.merge(o[2],o[1]),o};function u(e){return!isNaN(e)&&!isFinite(e)}function d(e,t,i,n){var o=1-e,r=n.dimensions[e];return u(t[o])&&u(i[o])&&t[e]===i[e]&&n.getAxis(r).containData(t[e])}function p(e,t){if("cartesian2d"===e.type){var i=t[0].coord,n=t[1].coord;if(i&&n&&(d(1,i,n,e)||d(0,i,n,e)))return!0}return s.dataFilter(e,t[0])&&s.dataFilter(e,t[1])}function g(e,t,i,n,o){var s,a=n.coordinateSystem,l=e.getItemModel(t),c=r.parsePercent(l.get("x"),o.getWidth()),h=r.parsePercent(l.get("y"),o.getHeight());if(isNaN(c)||isNaN(h)){if(n.getMarkerPosition)s=n.getMarkerPosition(e.getValues(e.dimensions,t));else{var d=e.get((g=a.dimensions)[0],t),p=e.get(g[1],t);s=a.dataToPoint([d,p])}if("cartesian2d"===a.type){var g,f=a.getAxis("x"),m=a.getAxis("y");u(e.get((g=a.dimensions)[0],t))?s[0]=f.toGlobalCoord(f.getExtent()[i?0:1]):u(e.get(g[1],t))&&(s[1]=m.toGlobalCoord(m.getExtent()[i?0:1]))}isNaN(c)||(s[0]=c),isNaN(h)||(s[1]=h)}else s=[c,h];e.setItemLayout(t,s)}var f=l.extend({type:"markLine",updateTransform:function(e,t,i){t.eachSeries(function(e){var t=e.markLineModel;if(t){var n=t.getData(),o=t.__from,r=t.__to;o.each(function(t){g(o,t,!0,e,i),g(r,t,!1,e,i)}),n.each(function(e){n.setItemLayout(e,[o.getItemLayout(e),r.getItemLayout(e)])}),this.markerGroupMap.get(e.id).updateLayout()}},this)},renderSeries:function(e,t,i,r){var l=e.coordinateSystem,c=e.id,u=e.getData(),d=this.markerGroupMap,f=d.get(c)||d.set(c,new a);this.group.add(f.group);var m=function(e,t,i){var r;r=e?n.map(e&&e.dimensions,function(e){var i=t.getData().getDimensionInfo(t.getData().mapDimension(e))||{};return n.defaults({name:e},i)}):[{name:"value",type:"float"}];var a=new o(r,i),l=new o(r,i),c=new o([],i),u=n.map(i.get("data"),n.curry(h,t,e,i));e&&(u=n.filter(u,n.curry(p,e)));var d=e?s.dimValueGetter:function(e){return e.value};return a.initData(n.map(u,function(e){return e[0]}),null,d),l.initData(n.map(u,function(e){return e[1]}),null,d),c.initData(n.map(u,function(e){return e[2]})),c.hasItemOption=!0,{from:a,to:l,line:c}}(l,e,t),_=m.from,v=m.to,y=m.line;t.__from=_,t.__to=v,t.setData(y);var b=t.get("symbol"),w=t.get("symbolSize");function A(t,i,n){var o=t.getItemModel(i);g(t,i,n,e,r),t.setItemVisual(i,{symbolRotate:o.get("symbolRotate"),symbolSize:o.get("symbolSize")||w[n?0:1],symbol:o.get("symbol",!0)||b[n?0:1],color:o.get("itemStyle.color")||u.getVisual("color")})}n.isArray(b)||(b=[b,b]),"number"==typeof w&&(w=[w,w]),m.from.each(function(e){A(_,e,!0),A(v,e,!1)}),y.each(function(e){var t=y.getItemModel(e).get("lineStyle.color");y.setItemVisual(e,{color:t||_.getItemVisual(e,"color")}),y.setItemLayout(e,[_.getItemLayout(e),v.getItemLayout(e)]),y.setItemVisual(e,{fromSymbolRotate:_.getItemVisual(e,"symbolRotate"),fromSymbolSize:_.getItemVisual(e,"symbolSize"),fromSymbol:_.getItemVisual(e,"symbol"),toSymbolRotate:v.getItemVisual(e,"symbolRotate"),toSymbolSize:v.getItemVisual(e,"symbolSize"),toSymbol:v.getItemVisual(e,"symbol")})}),f.updateData(y),m.line.eachItemGraphicEl(function(e,i){e.traverse(function(e){e.dataModel=t})}),f.__keep=!0,f.group.silent=t.get("silent")||e.get("silent")}});e.exports=f},71470:function(e,t,i){var n=i(90100).extend({type:"markPoint",defaultOption:{zlevel:0,z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{show:!0,position:"inside"},itemStyle:{borderWidth:2},emphasis:{label:{show:!0}}}});e.exports=n},22521:function(e,t,i){var n=i(40628),o=i(16327),r=i(14785),s=i(84497),a=i(25605);function l(e,t,i){var n=t.coordinateSystem;e.each(function(o){var s,a=e.getItemModel(o),l=r.parsePercent(a.get("x"),i.getWidth()),c=r.parsePercent(a.get("y"),i.getHeight());if(isNaN(l)||isNaN(c)){if(t.getMarkerPosition)s=t.getMarkerPosition(e.getValues(e.dimensions,o));else if(n){var h=e.get(n.dimensions[0],o),u=e.get(n.dimensions[1],o);s=n.dataToPoint([h,u])}}else s=[l,c];isNaN(l)||(s[0]=l),isNaN(c)||(s[1]=c),e.setItemLayout(o,s)})}var c=i(84871).extend({type:"markPoint",updateTransform:function(e,t,i){t.eachSeries(function(e){var t=e.markPointModel;t&&(l(t.getData(),e,i),this.markerGroupMap.get(e.id).updateLayout(t))},this)},renderSeries:function(e,t,i,r){var c=e.coordinateSystem,h=e.id,u=e.getData(),d=this.markerGroupMap,p=d.get(h)||d.set(h,new o),g=function(e,t,i){var o;o=e?n.map(e&&e.dimensions,function(e){var i=t.getData().getDimensionInfo(t.getData().mapDimension(e))||{};return n.defaults({name:e},i)}):[{name:"value",type:"float"}];var r=new s(o,i),l=n.map(i.get("data"),n.curry(a.dataTransform,t));return e&&(l=n.filter(l,n.curry(a.dataFilter,e))),r.initData(l,null,e?a.dimValueGetter:function(e){return e.value}),r}(c,e,t);t.setData(g),l(t.getData(),e,r),g.each(function(e){var i=g.getItemModel(e),o=i.getShallow("symbol"),r=i.getShallow("symbolSize"),s=i.getShallow("symbolRotate"),a=n.isFunction(o),l=n.isFunction(r),c=n.isFunction(s);if(a||l||c){var h=t.getRawValue(e),d=t.getDataParams(e);a&&(o=o(h,d)),l&&(r=r(h,d)),c&&(s=s(h,d))}g.setItemVisual(e,{symbol:o,symbolSize:r,symbolRotate:s,color:i.get("itemStyle.color")||u.getVisual("color")})}),p.updateData(g),this.group.add(p.group),g.eachItemGraphicEl(function(e){e.traverse(function(e){e.dataModel=t})}),p.__keep=!0,p.group.silent=t.get("silent")||e.get("silent")}});e.exports=c},90100:function(e,t,i){i(59963);var n=i(90650),o=i(40628),r=i(10169),s=i(91266),a=i(99706),l=i(64756),c=a.addCommas,h=a.encodeHTML;function u(e){s.defaultEmphasis(e,"label",["show"])}var d=n.extendComponentModel({type:"marker",dependencies:["series","grid","polar","geo"],init:function(e,t,i){this.mergeDefaultAndTheme(e,i),this._mergeOption(e,i,!1,!0)},isAnimationEnabled:function(){if(r.node)return!1;var e=this.__hostSeries;return this.getShallow("animation")&&e&&e.isAnimationEnabled()},mergeOption:function(e,t){this._mergeOption(e,t,!1,!1)},_mergeOption:function(e,t,i,n){var r=this.constructor,s=this.mainType+"Model";i||t.eachSeries(function(e){var i=e.get(this.mainType,!0),a=e[s];i&&i.data?(a?a._mergeOption(i,t,!0):(n&&u(i),o.each(i.data,function(e){e instanceof Array?(u(e[0]),u(e[1])):u(e)}),a=new r(i,this,t),o.extend(a,{mainType:this.mainType,seriesIndex:e.seriesIndex,name:e.name,createdBySelf:!0}),a.__hostSeries=e),e[s]=a):e[s]=null},this)},formatTooltip:function(e,t,i,n){var r=this.getData(),s=this.getRawValue(e),a=o.isArray(s)?o.map(s,c).join(", "):c(s),l=r.getName(e),u=h(this.name);return(null!=s||l)&&(u+="html"===n?"<br/>":"\n"),l&&(u+=h(l),null!=s&&(u+=" : ")),null!=s&&(u+=h(a)),u},getData:function(){return this._data},setData:function(e){this._data=e}});o.mixin(d,l),e.exports=d},84871:function(e,t,i){var n=i(90650),o=i(40628),r=n.extendComponentView({type:"marker",init:function(){this.markerGroupMap=o.createHashMap()},render:function(e,t,i){var n=this.markerGroupMap;n.each(function(e){e.__keep=!1});var o=this.type+"Model";t.eachSeries(function(e){var n=e[o];n&&this.renderSeries(e,n,t,i)},this),n.each(function(e){!e.__keep&&this.group.remove(e.group)},this)},renderSeries:function(){}});e.exports=r},25605:function(e,t,i){var n=i(40628),o=i(14785),r=i(50143).isDimensionStacked,s=n.indexOf;function a(e,t,i,n,s,a){var l=[],c=r(t,n)?t.getCalculationInfo("stackResultDimension"):n,h=u(t,c,e),d=t.indicesOfNearest(c,h)[0];l[s]=t.get(i,d),l[a]=t.get(c,d);var p=t.get(n,d),g=o.getPrecision(t.get(n,d));return(g=Math.min(g,20))>=0&&(l[a]=+l[a].toFixed(g)),[l,p]}var l=n.curry,c={min:l(a,"min"),max:l(a,"max"),average:l(a,"average")};function h(e,t,i,n){var o={};return null!=e.valueIndex||null!=e.valueDim?(o.valueDataDim=null!=e.valueIndex?t.getDimension(e.valueIndex):e.valueDim,o.valueAxis=i.getAxis(function(e,t){var i=e.getData(),n=i.dimensions;t=i.getDimension(t);for(var o=0;o<n.length;o++){var r=i.getDimensionInfo(n[o]);if(r.name===t)return r.coordDim}}(n,o.valueDataDim)),o.baseAxis=i.getOtherAxis(o.valueAxis),o.baseDataDim=t.mapDimension(o.baseAxis.dim)):(o.baseAxis=n.getBaseAxis(),o.valueAxis=i.getOtherAxis(o.baseAxis),o.baseDataDim=t.mapDimension(o.baseAxis.dim),o.valueDataDim=t.mapDimension(o.valueAxis.dim)),o}function u(e,t,i){if("average"===i){var n=0,o=0;return e.each(t,function(e,t){isNaN(e)||(n+=e,o++)}),n/o}return"median"===i?e.getMedian(t):e.getDataExtent(t,!0)["max"===i?1:0]}t.dataTransform=function(e,t){var i=e.getData(),o=e.coordinateSystem;if(t&&!function(e){return!isNaN(parseFloat(e.x))&&!isNaN(parseFloat(e.y))}(t)&&!n.isArray(t.coord)&&o){var r=o.dimensions,a=h(t,i,o,e);if((t=n.clone(t)).type&&c[t.type]&&a.baseAxis&&a.valueAxis){var l=s(r,a.baseAxis.dim),d=s(r,a.valueAxis.dim),p=c[t.type](i,a.baseDataDim,a.valueDataDim,l,d);t.coord=p[0],t.value=p[1]}else{for(var g=[null!=t.xAxis?t.xAxis:t.radiusAxis,null!=t.yAxis?t.yAxis:t.angleAxis],f=0;f<2;f++)c[g[f]]&&(g[f]=u(i,i.mapDimension(r[f]),g[f]));t.coord=g}}return t},t.getAxisInfo=h,t.dataFilter=function(e,t){return!(e&&e.containData&&t.coord&&!function(e){return!(isNaN(parseFloat(e.x))&&isNaN(parseFloat(e.y)))}(t))||e.containData(t.coord)},t.dimValueGetter=function(e,t,i,n){return n<2?e.coord&&e.coord[n]:e.value},t.numCalculate=u},44291:function(e,t,i){var n=i(90650),o=i(40628),r=i(90357),s=i(34003);i(82471),i(46375),i(76410),n.extendComponentView({type:"parallel",render:function(e,t,i){this._model=e,this._api=i,this._handlers||(this._handlers={},o.each(a,function(e,t){i.getZr().on(t,this._handlers[t]=o.bind(e,this))},this)),r.createOrUpdate(this,"_throttledDispatchExpand",e.get("axisExpandRate"),"fixRate")},dispose:function(e,t){o.each(this._handlers,function(e,i){t.getZr().off(i,e)}),this._handlers=null},_throttledDispatchExpand:function(e){this._dispatchExpand(e)},_dispatchExpand:function(e){e&&this._api.dispatchAction(o.extend({type:"parallelAxisExpand"},e))}});var a={mousedown:function(e){l(this,"click")&&(this._mouseDownPoint=[e.offsetX,e.offsetY])},mouseup:function(e){var t=this._mouseDownPoint;if(l(this,"click")&&t){var i=[e.offsetX,e.offsetY];if(Math.pow(t[0]-i[0],2)+Math.pow(t[1]-i[1],2)>5)return;var n=this._model.coordinateSystem.getSlidedAxisExpandWindow([e.offsetX,e.offsetY]);"none"!==n.behavior&&this._dispatchExpand({axisExpandWindow:n.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function(e){if(!this._mouseDownPoint&&l(this,"mousemove")){var t=this._model,i=t.coordinateSystem.getSlidedAxisExpandWindow([e.offsetX,e.offsetY]),n=i.behavior;"jump"===n&&this._throttledDispatchExpand.debounceNextCall(t.get("axisExpandDebounce")),this._throttledDispatchExpand("none"===n?null:{axisExpandWindow:i.axisExpandWindow,animation:"jump"===n&&null})}}};function l(e,t){var i=e._model;return i.get("axisExpandable")&&i.get("axisExpandTriggerOn")===t}n.registerPreprocessor(s)},76410:function(e,t,i){i(82471),i(32080),i(1638)},21928:function(e,t,i){var n=i(90650),o=i(40628),r=i(64188);i(47743),i(78136),i(22953),i(84040),i(95412),n.registerLayout(o.curry(r,"bar")),n.extendComponentView({type:"polar"})},41529:function(e,t,i){i(74209),i(54592),i(31335)},31335:function(e,t,i){i(59963);var n=i(90650),o=i(40628),r=i(76291),s=i(62429),a=["axisLine","axisTickLabel","axisName"],l=n.extendComponentView({type:"radar",render:function(e,t,i){this.group.removeAll(),this._buildAxes(e),this._buildSplitLineAndArea(e)},_buildAxes:function(e){var t=e.coordinateSystem,i=t.getIndicatorAxes(),n=o.map(i,function(e){return new r(e.model,{position:[t.cx,t.cy],rotation:e.angle,labelDirection:-1,tickDirection:-1,nameDirection:1})});o.each(n,function(e){o.each(a,e.add,e),this.group.add(e.getGroup())},this)},_buildSplitLineAndArea:function(e){var t=e.coordinateSystem,i=t.getIndicatorAxes();if(i.length){var n=e.get("shape"),r=e.getModel("splitLine"),a=e.getModel("splitArea"),l=r.getModel("lineStyle"),c=a.getModel("areaStyle"),h=r.get("show"),u=a.get("show"),d=l.get("color"),p=c.get("color");d=o.isArray(d)?d:[d],p=o.isArray(p)?p:[p];var g=[],f=[];if("circle"===n)for(var m=i[0].getTicksCoords(),_=t.cx,v=t.cy,y=0;y<m.length;y++)h&&g[k(g,d,y)].push(new s.Circle({shape:{cx:_,cy:v,r:m[y].coord}})),u&&y<m.length-1&&f[k(f,p,y)].push(new s.Ring({shape:{cx:_,cy:v,r0:m[y].coord,r:m[y+1].coord}}));else{var b,w=o.map(i,function(e,i){var n=e.getTicksCoords();return b=null==b?n.length-1:Math.min(n.length-1,b),o.map(n,function(e){return t.coordToPoint(e.coord,i)})}),A=[];for(y=0;y<=b;y++){for(var x=[],T=0;T<i.length;T++)x.push(w[T][y]);x[0]&&x.push(x[0].slice()),h&&g[k(g,d,y)].push(new s.Polyline({shape:{points:x}})),u&&A&&f[k(f,p,y-1)].push(new s.Polygon({shape:{points:x.concat(A)}})),A=x.slice().reverse()}}var C=l.getLineStyle(),Z=c.getAreaStyle();o.each(f,function(e,t){this.group.add(s.mergePath(e,{style:o.defaults({stroke:"none",fill:p[t%p.length]},Z),silent:!0}))},this),o.each(g,function(e,t){this.group.add(s.mergePath(e,{style:o.defaults({fill:"none",stroke:d[t%d.length]},C),silent:!0}))},this)}function k(e,t,i){var n=i%t.length;return e[n]=e[n]||[],n}}});e.exports=l},22953:function(e,t,i){i(47743),i(4596)},18:function(e,t,i){var n=i(90650);i(48037),i(15085),i(57756),i(84040),i(76594),n.extendComponentView({type:"single"})},77540:function(e,t,i){var n=i(90650),o=i(25434);i(11562),i(96708),i(14366),i(25002),n.registerPreprocessor(o)},14366:function(e,t,i){var n=i(40628),o=i(80631),r=i(64756),s=o.extend({type:"timeline.slider",defaultOption:{backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"emptyCircle",symbolSize:10,lineStyle:{show:!0,width:2,color:"#304654"},label:{position:"auto",show:!0,interval:"auto",rotate:0,color:"#304654"},itemStyle:{color:"#304654",borderWidth:1},checkpointStyle:{symbol:"circle",symbolSize:13,color:"#c23531",borderWidth:5,borderColor:"rgba(194,53,49, 0.5)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:22,itemGap:12,position:"left",playIcon:"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",stopIcon:"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",nextIcon:"path://M18.6,50.8l22.5-22.5c0.2-0.2,0.3-0.4,0.3-0.7c0-0.3-0.1-0.5-0.3-0.7L18.7,4.4c-0.1-0.1-0.2-0.3-0.2-0.5 c0-0.4,0.3-0.8,0.8-0.8c0.2,0,0.5,0.1,0.6,0.3l23.5,23.5l0,0c0.2,0.2,0.3,0.4,0.3,0.7c0,0.3-0.1,0.5-0.3,0.7l-0.1,0.1L19.7,52 c-0.1,0.1-0.3,0.2-0.5,0.2c-0.4,0-0.8-0.3-0.8-0.8C18.4,51.2,18.5,51,18.6,50.8z",prevIcon:"path://M43,52.8L20.4,30.3c-0.2-0.2-0.3-0.4-0.3-0.7c0-0.3,0.1-0.5,0.3-0.7L42.9,6.4c0.1-0.1,0.2-0.3,0.2-0.5 c0-0.4-0.3-0.8-0.8-0.8c-0.2,0-0.5,0.1-0.6,0.3L18.3,28.8l0,0c-0.2,0.2-0.3,0.4-0.3,0.7c0,0.3,0.1,0.5,0.3,0.7l0.1,0.1L41.9,54 c0.1,0.1,0.3,0.2,0.5,0.2c0.4,0,0.8-0.3,0.8-0.8C43.2,53.2,43.1,53,43,52.8z",color:"#304654",borderColor:"#304654",borderWidth:1},emphasis:{label:{show:!0,color:"#c23531"},itemStyle:{color:"#c23531"},controlStyle:{color:"#c23531",borderColor:"#c23531",borderWidth:2}},data:[]}});n.mixin(s,r),e.exports=s},25002:function(e,t,i){var n=i(40628),o=i(87021),r=i(3481),s=i(62429),a=i(40634),l=i(28468),c=i(74397),h=i(34550).createSymbol,u=i(63635),d=i(14785),p=i(99706).encodeHTML,g=n.bind,f=n.each,m=Math.PI,_=l.extend({type:"timeline.slider",init:function(e,t){this.api=t},render:function(e,t,i,n){if(this.model=e,this.api=i,this.ecModel=t,this.group.removeAll(),e.get("show",!0)){var o=this._layout(e,i),r=this._createGroup("mainGroup"),s=this._createGroup("labelGroup"),a=this._axis=this._createAxis(o,e);e.formatTooltip=function(e){return p(a.scale.getLabel(e))},f(["AxisLine","AxisTick","Control","CurrentPointer"],function(t){this["_render"+t](o,r,a,e)},this),this._renderAxisLabel(o,s,a,e),this._position(o,e)}this._doPlayStop()},remove:function(){this._clearTimer(),this.group.removeAll()},dispose:function(){this._clearTimer()},_layout:function(e,t){var i=e.get("label.position"),n=e.get("orient"),o=function(e,t){return a.getLayoutRect(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()},e.get("padding"))}(e,t);null==i||"auto"===i?i="horizontal"===n?o.y+o.height/2<t.getHeight()/2?"-":"+":o.x+o.width/2<t.getWidth()/2?"+":"-":isNaN(i)&&(i={horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[n][i]);var r={horizontal:"center",vertical:i>=0||"+"===i?"left":"right"},s={horizontal:i>=0||"+"===i?"top":"bottom",vertical:"middle"},l={horizontal:0,vertical:m/2},c="vertical"===n?o.height:o.width,h=e.getModel("controlStyle"),u=h.get("show",!0),d=u?h.get("itemSize"):0,p=u?h.get("itemGap"):0,g=d+p,f=e.get("label.rotate")||0;f=f*m/180;var _,v,y,b,w=h.get("position",!0),A=u&&h.get("showPlayBtn",!0),x=u&&h.get("showPrevBtn",!0),T=u&&h.get("showNextBtn",!0),C=0,Z=c;return"left"===w||"bottom"===w?(A&&(_=[0,0],C+=g),x&&(v=[C,0],C+=g),T&&(y=[Z-d,0],Z-=g)):(A&&(_=[Z-d,0],Z-=g),x&&(v=[0,0],C+=g),T&&(y=[Z-d,0],Z-=g)),b=[C,Z],e.get("inverse")&&b.reverse(),{viewRect:o,mainLength:c,orient:n,rotation:l[n],labelRotation:f,labelPosOpt:i,labelAlign:e.get("label.align")||r[n],labelBaseline:e.get("label.verticalAlign")||e.get("label.baseline")||s[n],playPosition:_,prevBtnPosition:v,nextBtnPosition:y,axisExtent:b,controlSize:d,controlGap:p}},_position:function(e,t){var i=this._mainGroup,n=this._labelGroup,o=e.viewRect;if("vertical"===e.orient){var s=r.create(),a=o.x,l=o.y+o.height;r.translate(s,s,[-a,-l]),r.rotate(s,s,-m/2),r.translate(s,s,[a,l]),(o=o.clone()).applyTransform(s)}var c=v(o),h=v(i.getBoundingRect()),u=v(n.getBoundingRect()),d=i.position,p=n.position;p[0]=d[0]=c[0][0];var g,f=e.labelPosOpt;function _(e){var t=e.position;e.origin=[c[0][0]-t[0],c[1][0]-t[1]]}function v(e){return[[e.x,e.x+e.width],[e.y,e.y+e.height]]}function y(e,t,i,n,o){e[n]+=i[n][o]-t[n][o]}isNaN(f)?(y(d,h,c,1,g="+"===f?0:1),y(p,u,c,1,1-g)):(y(d,h,c,1,g=f>=0?0:1),p[1]=d[1]+f),i.attr("position",d),n.attr("position",p),i.rotation=n.rotation=e.rotation,_(i),_(n)},_createAxis:function(e,t){var i=t.getData(),n=t.get("axisType"),o=u.createScaleByModel(t,n);o.getTicks=function(){return i.mapArray(["value"],function(e){return e})};var r=i.getDataExtent("value");o.setExtent(r[0],r[1]),o.niceTicks();var s=new c("value",o,e.axisExtent,n);return s.model=t,s},_createGroup:function(e){var t=this["_"+e]=new s.Group;return this.group.add(t),t},_renderAxisLine:function(e,t,i,o){var r=i.getExtent();!o.get("lineStyle.show")||t.add(new s.Line({shape:{x1:r[0],y1:0,x2:r[1],y2:0},style:n.extend({lineCap:"round"},o.getModel("lineStyle").getLineStyle()),silent:!0,z2:1}))},_renderAxisTick:function(e,t,i,n){var o=n.getData(),r=i.scale.getTicks();f(r,function(e){var r=i.dataToCoord(e),a=o.getItemModel(e),l=a.getModel("itemStyle"),c=a.getModel("emphasis.itemStyle"),h={position:[r,0],onclick:g(this._changeTimeline,this,e)},u=v(a,l,t,h);s.setHoverStyle(u,c.getItemStyle()),a.get("tooltip")?(u.dataIndex=e,u.dataModel=n):u.dataIndex=u.dataModel=null},this)},_renderAxisLabel:function(e,t,i,n){if(i.getLabelModel().get("show")){var o=n.getData(),r=i.getViewLabels();f(r,function(n){var r=n.tickValue,a=o.getItemModel(r),l=a.getModel("label"),c=a.getModel("emphasis.label"),h=i.dataToCoord(n.tickValue),u=new s.Text({position:[h,0],rotation:e.labelRotation-e.rotation,onclick:g(this._changeTimeline,this,r),silent:!1});s.setTextStyle(u.style,l,{text:n.formattedLabel,textAlign:e.labelAlign,textVerticalAlign:e.labelBaseline}),t.add(u),s.setHoverStyle(u,s.setTextStyle({},c))},this)}},_renderControl:function(e,t,i,n){var r=e.controlSize,a=e.rotation,l=n.getModel("controlStyle").getItemStyle(),c=n.getModel("emphasis.controlStyle").getItemStyle(),h=[0,-r/2,r,r],u=n.getPlayState(),d=n.get("inverse",!0);function p(e,i,u,d){if(e){var p=function(e,t,i,n){var r=n.style,a=s.createIcon(e.get(t),n||{},new o(i[0],i[1],i[2],i[3]));return r&&a.setStyle(r),a}(n,i,h,{position:e,origin:[r/2,0],rotation:d?-a:0,rectHover:!0,style:l,onclick:u});t.add(p),s.setHoverStyle(p,c)}}p(e.nextBtnPosition,"controlStyle.nextIcon",g(this._changeTimeline,this,d?"-":"+")),p(e.prevBtnPosition,"controlStyle.prevIcon",g(this._changeTimeline,this,d?"+":"-")),p(e.playPosition,"controlStyle."+(u?"stopIcon":"playIcon"),g(this._handlePlayClick,this,!u),!0)},_renderCurrentPointer:function(e,t,i,n){var o=n.getData(),r=n.getCurrentIndex(),s=o.getItemModel(r).getModel("checkpointStyle"),a=this;this._currentPointer=v(s,s,this._mainGroup,{},this._currentPointer,{onCreate:function(e){e.draggable=!0,e.drift=g(a._handlePointerDrag,a),e.ondragend=g(a._handlePointerDragend,a),y(e,r,i,n,!0)},onUpdate:function(e){y(e,r,i,n)}})},_handlePlayClick:function(e){this._clearTimer(),this.api.dispatchAction({type:"timelinePlayChange",playState:e,from:this.uid})},_handlePointerDrag:function(e,t,i){this._clearTimer(),this._pointerChangeTimeline([i.offsetX,i.offsetY])},_handlePointerDragend:function(e){this._pointerChangeTimeline([e.offsetX,e.offsetY],!0)},_pointerChangeTimeline:function(e,t){var i=this._toAxisCoord(e)[0],n=d.asc(this._axis.getExtent().slice());i>n[1]&&(i=n[1]),i<n[0]&&(i=n[0]),this._currentPointer.position[0]=i,this._currentPointer.dirty();var o=this._findNearestTick(i),r=this.model;(t||o!==r.getCurrentIndex()&&r.get("realtime"))&&this._changeTimeline(o)},_doPlayStop:function(){this._clearTimer(),this.model.getPlayState()&&(this._timer=setTimeout(g(function(){var e=this.model;this._changeTimeline(e.getCurrentIndex()+(e.get("rewind",!0)?-1:1))},this),this.model.get("playInterval")))},_toAxisCoord:function(e){var t=this._mainGroup.getLocalTransform();return s.applyTransform(e,t,!0)},_findNearestTick:function(e){var t,i=this.model.getData(),n=1/0,o=this._axis;return i.each(["value"],function(i,r){var s=o.dataToCoord(i),a=Math.abs(s-e);a<n&&(n=a,t=r)}),t},_clearTimer:function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},_changeTimeline:function(e){var t=this.model.getCurrentIndex();"+"===e?e=t+1:"-"===e&&(e=t-1),this.api.dispatchAction({type:"timelineChange",currentIndex:e,from:this.uid})}});function v(e,t,i,o,r,s){var a=t.get("color");if(r)r.setColor(a),i.add(r),s&&s.onUpdate(r);else{var l=e.get("symbol");(r=h(l,-1,-1,2,2,a)).setStyle("strokeNoScale",!0),i.add(r),s&&s.onCreate(r)}var c=t.getItemStyle(["color","symbol","symbolSize"]);r.setStyle(c),o=n.merge({rectHover:!0,z2:100},o,!0);var u=e.get("symbolSize");(u=u instanceof Array?u.slice():[+u,+u])[0]/=2,u[1]/=2,o.scale=u;var p=e.get("symbolOffset");if(p){var g=o.position=o.position||[0,0];g[0]+=d.parsePercent(p[0],u[0]),g[1]+=d.parsePercent(p[1],u[1])}var f=e.get("symbolRotate");return o.rotation=(f||0)*Math.PI/180||0,r.attr(o),r.updateTransform(),r}function y(e,t,i,n,o){if(!e.dragging){var r=n.getModel("checkpointStyle"),s=i.dataToCoord(n.getData().get(["value"],t));o||!r.get("animation",!0)?e.attr({position:[s,0]}):(e.stopAnimation(!0),e.animateTo({position:[s,0]},r.get("animationDuration",!0),r.get("animationEasing",!0)))}}e.exports=_},74397:function(e,t,i){var n=i(40628),o=i(35556),r=function(e,t,i,n){o.call(this,e,t,i),this.type=n||"value",this.model=null};r.prototype={constructor:r,getLabelModel:function(){return this.model.getModel("label")},isHorizontal:function(){return"horizontal"===this.model.get("orient")}},n.inherits(r,o),e.exports=r},80631:function(e,t,i){var n=i(40628),o=i(39447),r=i(84497),s=i(91266),a=o.extend({type:"timeline",layoutMode:"box",defaultOption:{zlevel:0,z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:5,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2e3,currentIndex:0,itemStyle:{},label:{color:"#000"},data:[]},init:function(e,t,i){this.mergeDefaultAndTheme(e,i),this._initData()},mergeOption:function(e){a.superApply(this,"mergeOption",arguments),this._initData()},setCurrentIndex:function(e){null==e&&(e=this.option.currentIndex);var t=this._data.count();this.option.loop?e=(e%t+t)%t:(e>=t&&(e=t-1),e<0&&(e=0)),this.option.currentIndex=e},getCurrentIndex:function(){return this.option.currentIndex},isIndexMax:function(){return this.getCurrentIndex()>=this._data.count()-1},setPlayState:function(e){this.option.autoPlay=!!e},getPlayState:function(){return!!this.option.autoPlay},_initData:function(){var e=this.option,t=e.data||[],i=e.axisType,o=this._names=[];if("category"===i){var a=[];n.each(t,function(e,t){var i,r=s.getDataItemValue(e);n.isObject(e)?(i=n.clone(e)).value=t:i=t,a.push(i),!n.isString(r)&&(null==r||isNaN(r))&&(r=""),o.push(r+"")}),t=a}(this._data=new r([{name:"value",type:{category:"ordinal",time:"time"}[i]||"number"}],this)).initData(t,o)},getData:function(){return this._data},getCategories:function(){if("category"===this.get("axisType"))return this._names.slice()}});e.exports=a},28468:function(e,t,i){var n=i(69899).extend({type:"timeline"});e.exports=n},25434:function(e,t,i){var n=i(40628);function o(e){var t=e.itemStyle||(e.itemStyle={}),i=t.emphasis||(t.emphasis={}),o=e.label||e.label||{},s=o.normal||(o.normal={}),a={normal:1,emphasis:1};n.each(o,function(e,t){!a[t]&&!r(s,t)&&(s[t]=e)}),i.label&&!r(o,"emphasis")&&(o.emphasis=i.label,delete i.label)}function r(e,t){return e.hasOwnProperty(t)}e.exports=function(e){var t=e&&e.timeline;n.isArray(t)||(t=t?[t]:[]),n.each(t,function(e){!e||function(e){var t=e.type,i={number:"value",time:"time"};if(i[t]&&(e.axisType=i[t],delete e.type),o(e),r(e,"controlPosition")){var s=e.controlStyle||(e.controlStyle={});r(s,"position")||(s.position=e.controlPosition),"none"===s.position&&!r(s,"show")&&(s.show=!1,delete s.position),delete e.controlPosition}n.each(e.data||[],function(e){n.isObject(e)&&!n.isArray(e)&&(!r(e,"value")&&r(e,"name")&&(e.value=e.name),o(e))})}(e)})}},96708:function(e,t,i){var n=i(90650),o=i(40628);n.registerAction({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},function(e,t){var i=t.getComponent("timeline");return i&&null!=e.currentIndex&&(i.setCurrentIndex(e.currentIndex),!i.get("loop",!0)&&i.isIndexMax()&&i.setPlayState(!1)),t.resetOption("timeline"),o.defaults({currentIndex:i.option.currentIndex},e)}),n.registerAction({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},function(e,t){var i=t.getComponent("timeline");i&&null!=e.playState&&i.setPlayState(e.playState)})},11562:function(e,t,i){i(39447).registerSubTypeDefaulter("timeline",function(){return"slider"})},27755:function(e,t,i){var n=i(40628),o=i(90650),r=i(62429),s=i(40634).getLayoutRect,a=i(99706).windowOpen;o.extendComponentModel({type:"title",layoutMode:{type:"box",ignoreSize:!0},defaultOption:{zlevel:0,z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bolder",color:"#333"},subtextStyle:{color:"#aaa"}}}),o.extendComponentView({type:"title",render:function(e,t,i){if(this.group.removeAll(),e.get("show")){var o=this.group,l=e.getModel("textStyle"),c=e.getModel("subtextStyle"),h=e.get("textAlign"),u=n.retrieve2(e.get("textBaseline"),e.get("textVerticalAlign")),d=new r.Text({style:r.setTextStyle({},l,{text:e.get("text"),textFill:l.getTextColor()},{disableBox:!0}),z2:10}),p=d.getBoundingRect(),g=e.get("subtext"),f=new r.Text({style:r.setTextStyle({},c,{text:g,textFill:c.getTextColor(),y:p.height+e.get("itemGap"),textVerticalAlign:"top"},{disableBox:!0}),z2:10}),m=e.get("link"),_=e.get("sublink"),v=e.get("triggerEvent",!0);d.silent=!m&&!v,f.silent=!_&&!v,m&&d.on("click",function(){a(m,"_"+e.get("target"))}),_&&f.on("click",function(){a(_,"_"+e.get("subtarget"))}),d.eventData=f.eventData=v?{componentType:"title",componentIndex:e.componentIndex}:null,o.add(d),g&&o.add(f);var y=o.getBoundingRect(),b=e.getBoxLayoutParams();b.width=y.width,b.height=y.height;var w=s(b,{width:i.getWidth(),height:i.getHeight()},e.get("padding"));h||("middle"===(h=e.get("left")||e.get("right"))&&(h="center"),"right"===h?w.x+=w.width:"center"===h&&(w.x+=w.width/2)),u||("center"===(u=e.get("top")||e.get("bottom"))&&(u="middle"),"bottom"===u?w.y+=w.height:"middle"===u&&(w.y+=w.height/2),u=u||"top"),o.attr("position",[w.x,w.y]);var A={textAlign:h,textVerticalAlign:u};d.setStyle(A),f.setStyle(A),y=o.getBoundingRect();var x=w.margin,T=e.getItemStyle(["color","opacity"]);T.fill=e.get("backgroundColor");var C=new r.Rect({shape:{x:y.x-x[3],y:y.y-x[0],width:y.width+x[1]+x[3],height:y.height+x[0]+x[2],r:e.get("borderRadius")},style:T,subPixelOptimize:!0,silent:!0});o.add(C)}}})},97117:function(e,t,i){i(12882),i(15200),i(8589),i(76267),i(50761),i(21261),i(57642)},12882:function(e,t,i){var n=i(90650),o=i(40628),r=i(24564),s=n.extendComponentModel({type:"toolbox",layoutMode:{type:"box",ignoreSize:!0},optionUpdated:function(){s.superApply(this,"optionUpdated",arguments),o.each(this.option.feature,function(e,t){var i=r.get(t);i&&o.merge(e,i.defaultOption)})},defaultOption:{show:!0,z:6,zlevel:0,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{borderColor:"#666",color:"none"},emphasis:{iconStyle:{borderColor:"#3E98C5"}},tooltip:{show:!1}}});e.exports=s},15200:function(e,t,i){var n=i(90650),o=i(40628),r=i(71790),s=i(24564),a=i(62429),l=i(96948),c=i(12650),h=i(6110),u=n.extendComponentView({type:"toolbox",render:function(e,t,i,n){var u=this.group;if(u.removeAll(),e.get("show")){var d=+e.get("itemSize"),p=e.get("feature")||{},g=this._features||(this._features={}),f=[];o.each(p,function(e,t){f.push(t)}),new c(this._featureNames||[],f).add(m).update(m).remove(o.curry(m,null)).execute(),this._featureNames=f,h.layout(u,e,i),u.add(h.makeBackground(u.getBoundingRect(),e)),u.eachChild(function(e){var t=e.__title,n=e.hoverStyle;if(n&&t){var o=r.getBoundingRect(t,r.makeFont(n)),s=e.position[0]+u.position[0],a=!1;e.position[1]+u.position[1]+d+o.height>i.getHeight()&&(n.textPosition="top",a=!0);var l=a?-5-o.height:d+8;s+o.width/2>i.getWidth()?(n.textPosition=["100%",l],n.textAlign="right"):s-o.width/2<0&&(n.textPosition=[0,l],n.textAlign="left")}})}function m(r,c){var h,m=f[r],_=f[c],v=p[m],y=new l(v,e,e.ecModel);if(n&&null!=n.newTitle&&n.featureName===m&&(v.title=n.newTitle),m&&!_){if(function(e){return 0===e.indexOf("my")}(m))h={model:y,onclick:y.option.onclick,featureName:m};else{var b=s.get(m);if(!b)return;h=new b(y,t,i)}g[m]=h}else{if(!(h=g[_]))return;h.model=y,h.ecModel=t,h.api=i}m||!_?y.get("show")&&!h.unusable?(function(n,r,s){var l=n.getModel("iconStyle"),c=n.getModel("emphasis.iconStyle"),h=r.getIcons?r.getIcons():n.get("icon"),p=n.get("title")||{};if("string"==typeof h){var g=h,f=p;p={},(h={})[s]=g,p[s]=f}var m=n.iconPaths={};o.each(h,function(s,h){var g=a.createIcon(s,{},{x:-d/2,y:-d/2,width:d,height:d});g.setStyle(l.getItemStyle()),g.hoverStyle=c.getItemStyle(),g.setStyle({text:p[h],textAlign:c.get("textAlign"),textBorderRadius:c.get("textBorderRadius"),textPadding:c.get("textPadding"),textFill:null});var f=e.getModel("tooltip");f&&f.get("show")&&g.attr("tooltip",o.extend({content:p[h],formatter:f.get("formatter",!0)||function(){return p[h]},formatterParams:{componentType:"toolbox",name:h,title:p[h],$vars:["name","title"]},position:f.get("position",!0)||"bottom"},f.option)),a.setHoverStyle(g),e.get("showTitle")&&(g.__title=p[h],g.on("mouseover",function(){var t=c.getItemStyle(),i="vertical"===e.get("orient")?null==e.get("right")?"right":"left":null==e.get("bottom")?"bottom":"top";g.setStyle({textFill:c.get("textFill")||t.fill||t.stroke||"#000",textBackgroundColor:c.get("textBackgroundColor"),textPosition:c.get("textPosition")||i})}).on("mouseout",function(){g.setStyle({textFill:null,textBackgroundColor:null})})),g.trigger(n.get("iconStatus."+h)||"normal"),u.add(g),g.on("click",o.bind(r.onclick,r,t,i,h)),m[h]=g})}(y,h,m),y.setIconStatus=function(e,t){var i=this.option,n=this.iconPaths;i.iconStatus=i.iconStatus||{},i.iconStatus[e]=t,n[e]&&n[e].trigger(t)},h.render&&h.render(y,t,i,n)):h.remove&&h.remove(t,i):h.dispose&&h.dispose(t,i)}},updateView:function(e,t,i,n){o.each(this._features,function(e){e.updateView&&e.updateView(e.model,t,i,n)})},remove:function(e,t){o.each(this._features,function(i){i.remove&&i.remove(e,t)}),this.group.removeAll()},dispose:function(e,t){o.each(this._features,function(i){i.dispose&&i.dispose(e,t)})}});e.exports=u},50467:function(e,t,i){var n=i(40628),o=i(24564),r=i(54010);function s(e,t,i){this.model=e,this.ecModel=t,this.api=i}s.defaultOption={show:!0,type:["rect","polygon","lineX","lineY","keep","clear"],icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:n.clone(r.toolbox.brush.title)};var a=s.prototype;a.render=a.updateView=function(e,t,i){var o,r,s;t.eachComponent({mainType:"brush"},function(e){o=e.brushType,r=e.brushOption.brushMode||"single",s|=e.areas.length}),this._brushType=o,this._brushMode=r,n.each(e.get("type",!0),function(t){e.setIconStatus(t,("keep"===t?"multiple"===r:"clear"===t?s:t===o)?"emphasis":"normal")})},a.getIcons=function(){var e=this.model,t=e.get("icon",!0),i={};return n.each(e.get("type",!0),function(e){t[e]&&(i[e]=t[e])}),i},a.onclick=function(e,t,i){var n=this._brushType,o=this._brushMode;"clear"===i?(t.dispatchAction({type:"axisAreaSelect",intervals:[]}),t.dispatchAction({type:"brush",command:"clear",areas:[]})):t.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:"keep"===i?n:n!==i&&i,brushMode:"keep"===i?"multiple"===o?"single":"multiple":o}})},o.register("brush",s),e.exports=s},50761:function(e,t,i){var n=i(90650),o=i(40628),r=i(91170),s=i(54010),a=i(24564),l=s.toolbox.dataView,c=new Array(60).join("-"),h="\t";function u(e){var t=[];return o.each(e,function(e,i){var n=e.categoryAxis,r=e.valueAxis.dim,s=[" "].concat(o.map(e.series,function(e){return e.name})),a=[n.model.getCategories()];o.each(e.series,function(e){var t=e.getRawData();a.push(e.getRawData().mapArray(t.mapDimension(r),function(e){return e}))});for(var l=[s.join(h)],c=0;c<a[0].length;c++){for(var u=[],d=0;d<a.length;d++)u.push(a[d][c]);l.push(u.join(h))}t.push(l.join("\n"))}),t.join("\n\n"+c+"\n\n")}function d(e){return o.map(e,function(e){var t=e.getRawData(),i=[e.name],n=[];return t.each(t.dimensions,function(){for(var e=arguments.length,o=arguments[e-1],r=t.getName(o),s=0;s<e-1;s++)n[s]=arguments[s];i.push((r?r+h:"")+n.join(h))}),i.join("\n")}).join("\n\n"+c+"\n\n")}function p(e){return e.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}var g=new RegExp("[\t]+","g");function f(e){this._dom=null,this.model=e}function m(e,t){return o.map(e,function(e,i){var n=t&&t[i];if(o.isObject(n)&&!o.isArray(n)){o.isObject(e)&&!o.isArray(e)||(e={value:e});var r=null!=n.name&&null==e.name;return e=o.defaults(e,n),r&&delete e.name,e}return e})}f.defaultOption={show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:o.clone(l.title),lang:o.clone(l.lang),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"},f.prototype.onclick=function(e,t){var i=t.getDom(),n=this.model;this._dom&&i.removeChild(this._dom);var s=document.createElement("div");s.style.cssText="position:absolute;left:5px;top:5px;bottom:5px;right:5px;",s.style.backgroundColor=n.get("backgroundColor")||"#fff";var a=document.createElement("h4"),l=n.get("lang")||[];a.innerHTML=l[0]||n.get("title"),a.style.cssText="margin: 10px 20px;",a.style.color=n.get("textColor");var f=document.createElement("div"),m=document.createElement("textarea");f.style.cssText="display:block;width:100%;overflow:auto;";var _=n.get("optionToContent"),v=n.get("contentToOption"),y=function(e){var t=function(e){var t={},i=[],n=[];return e.eachRawSeries(function(e){var o=e.coordinateSystem;if(!o||"cartesian2d"!==o.type&&"polar"!==o.type)i.push(e);else{var r=o.getBaseAxis();if("category"===r.type){var s=r.dim+"_"+r.index;t[s]||(t[s]={categoryAxis:r,valueAxis:o.getOtherAxis(r),series:[]},n.push({axisDim:r.dim,axisIndex:r.index})),t[s].series.push(e)}else i.push(e)}}),{seriesGroupByCategoryAxis:t,other:i,meta:n}}(e);return{value:o.filter([u(t.seriesGroupByCategoryAxis),d(t.other)],function(e){return e.replace(/[\n\t\s]/g,"")}).join("\n\n"+c+"\n\n"),meta:t.meta}}(e);if("function"==typeof _){var b=_(t.getOption());"string"==typeof b?f.innerHTML=b:o.isDom(b)&&f.appendChild(b)}else f.appendChild(m),m.readOnly=n.get("readOnly"),m.style.cssText="width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;",m.style.color=n.get("textColor"),m.style.borderColor=n.get("textareaBorderColor"),m.style.backgroundColor=n.get("textareaColor"),m.value=y.value;var w=y.meta,A=document.createElement("div");A.style.cssText="position:absolute;bottom:0;left:0;right:0;";var x="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",T=document.createElement("div"),C=document.createElement("div");x+=";background-color:"+n.get("buttonColor"),x+=";color:"+n.get("buttonTextColor");var Z=this;function k(){i.removeChild(s),Z._dom=null}r.addEventListener(T,"click",k),r.addEventListener(C,"click",function(){var e;try{e="function"==typeof v?v(f,t.getOption()):function(e,t){var i=e.split(new RegExp("\n*"+c+"\n*","g")),n={series:[]};return o.each(i,function(e,i){if(function(e){if(e.slice(0,e.indexOf("\n")).indexOf(h)>=0)return!0}(e)){var r=function(e){for(var t=e.split(/\n+/g),i=p(t.shift()).split(g),n=[],r=o.map(i,function(e){return{name:e,data:[]}}),s=0;s<t.length;s++){var a=p(t[s]).split(g);n.push(a.shift());for(var l=0;l<a.length;l++)r[l]&&(r[l].data[s]=a[l])}return{series:r,categories:n}}(e),s=t[i],a=s.axisDim+"Axis";s&&(n[a]=n[a]||[],n[a][s.axisIndex]={data:r.categories},n.series=n.series.concat(r.series))}else r=function(e){for(var t=e.split(/\n+/g),i=p(t.shift()),n=[],o=0;o<t.length;o++){var r=p(t[o]);if(r){var s,a=r.split(g),l="",c=!1;isNaN(a[0])?(c=!0,l=a[0],a=a.slice(1),n[o]={name:l,value:[]},s=n[o].value):s=n[o]=[];for(var h=0;h<a.length;h++)s.push(+a[h]);1===s.length&&(c?n[o].value=s[0]:n[o]=s[0])}}return{name:i,data:n}}(e),n.series.push(r)}),n}(m.value,w)}catch(i){throw k(),new Error("Data view format error "+i)}e&&t.dispatchAction({type:"changeDataView",newOption:e}),k()}),T.innerHTML=l[1],C.innerHTML=l[2],C.style.cssText=x,T.style.cssText=x,!n.get("readOnly")&&A.appendChild(C),A.appendChild(T),s.appendChild(a),s.appendChild(f),s.appendChild(A),f.style.height=i.clientHeight-80+"px",i.appendChild(s),this._dom=s},f.prototype.remove=function(e,t){this._dom&&t.getDom().removeChild(this._dom)},f.prototype.dispose=function(e,t){this.remove(e,t)},a.register("dataView",f),n.registerAction({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(e,t){var i=[];o.each(e.newOption.series,function(e){var n=t.getSeriesByName(e.name)[0];if(n){var r=n.get("data");i.push({name:e.name,data:m(e.data,r)})}else i.push(o.extend({type:"scatter"},e))}),t.mergeOption(o.defaults({series:i},e.newOption))}),e.exports=f},21261:function(e,t,i){var n=i(90650),o=i(40628),r=i(68569),s=i(55853),a=i(90763),l=i(57583),c=i(54010),h=i(24564);i(12080);var u=o.each;function d(e,t,i){(this._brushController=new r(i.getZr())).on("brush",o.bind(this._onBrush,this)).mount()}d.defaultOption={show:!0,filterMode:"filter",icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:o.clone(c.toolbox.dataZoom.title),brushStyle:{borderWidth:0,color:"rgba(0,0,0,0.2)"}};var p=d.prototype;p.render=function(e,t,i,n){this.model=e,this.ecModel=t,this.api=i,function(e,t,i,n,o){var r=i._isZoomActive;n&&"takeGlobalCursor"===n.type&&(r="dataZoomSelect"===n.key&&n.dataZoomSelectActive),i._isZoomActive=r,e.setIconStatus("zoom",r?"emphasis":"normal");var a=new s(f(e.option),t,{include:["grid"]});i._brushController.setPanels(a.makePanelOpts(o,function(e){return e.xAxisDeclared&&!e.yAxisDeclared?"lineX":!e.xAxisDeclared&&e.yAxisDeclared?"lineY":"rect"})).enableBrush(!!r&&{brushType:"auto",brushStyle:e.getModel("brushStyle").getItemStyle()})}(e,t,this,n,i),function(e,t){e.setIconStatus("back",a.count(t)>1?"emphasis":"normal")}(e,t)},p.onclick=function(e,t,i){g[i].call(this)},p.remove=function(e,t){this._brushController.unmount()},p.dispose=function(e,t){this._brushController.dispose()};var g={zoom:function(){this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:!this._isZoomActive})},back:function(){this._dispatchZoomAction(a.pop(this.ecModel))}};function f(e){var t={};return o.each(["xAxisIndex","yAxisIndex"],function(i){t[i]=e[i],null==t[i]&&(t[i]="all"),(!1===t[i]||"none"===t[i])&&(t[i]=[])}),t}p._onBrush=function(e,t){if(t.isEnd&&e.length){var i={},n=this.ecModel;this._brushController.updateCovers([]),new s(f(this.model.option),n,{include:["grid"]}).matchOutputRanges(e,n,function(e,t,i){if("cartesian2d"===i.type){var n=e.brushType;"rect"===n?(o("x",i,t[0]),o("y",i,t[1])):o({lineX:"x",lineY:"y"}[n],i,t)}}),a.push(n,i),this._dispatchZoomAction(i)}function o(e,t,o){var r=t.getAxis(e),s=r.model,a=function(e,t,i){var n;return i.eachComponent({mainType:"dataZoom",subType:"select"},function(i){i.getAxisModel(e,t.componentIndex)&&(n=i)}),n}(e,s,n),c=a.findRepresentativeAxisProxy(s).getMinMaxSpan();(null!=c.minValueSpan||null!=c.maxValueSpan)&&(o=l(0,o.slice(),r.scale.getExtent(),0,c.minValueSpan,c.maxValueSpan)),a&&(i[a.id]={dataZoomId:a.id,startValue:o[0],endValue:o[1]})}},p._dispatchZoomAction=function(e){var t=[];u(e,function(e,i){t.push(o.clone(e))}),t.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:t})},h.register("dataZoom",d),n.registerPreprocessor(function(e){if(e){var t=e.dataZoom||(e.dataZoom=[]);o.isArray(t)||(e.dataZoom=t=[t]);var i=e.toolbox;if(i&&(o.isArray(i)&&(i=i[0]),i&&i.feature)){var n=i.feature.dataZoom;r("xAxis",n),r("yAxis",n)}}function r(i,n){if(n){var r=i+"Index",s=n[r];null!=s&&"all"!==s&&!o.isArray(s)&&(s=!1===s||"none"===s?[]:[s]),function(t,i){var n=e[t];o.isArray(n)||(n=n?[n]:[]),u(n,i)}(i,function(e,a){if(null==s||"all"===s||-1!==o.indexOf(s,a)){var l={type:"select",$fromToolbox:!0,filterMode:n.filterMode||"filter",id:"\0_ec_\0toolbox-dataZoom_"+i+a};l[r]=a,t.push(l)}})}}}),e.exports=d},76267:function(e,t,i){var n=i(90650),o=i(40628),r=i(54010),s=i(24564),a=r.toolbox.magicType,l="__ec_magicType_stack__";function c(e){this.model=e}c.defaultOption={show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z"},title:o.clone(a.title),option:{},seriesIndex:{}};var h=c.prototype;h.getIcons=function(){var e=this.model,t=e.get("icon"),i={};return o.each(e.get("type"),function(e){t[e]&&(i[e]=t[e])}),i};var u={line:function(e,t,i,n){if("bar"===e)return o.merge({id:t,type:"line",data:i.get("data"),stack:i.get("stack"),markPoint:i.get("markPoint"),markLine:i.get("markLine")},n.get("option.line")||{},!0)},bar:function(e,t,i,n){if("line"===e)return o.merge({id:t,type:"bar",data:i.get("data"),stack:i.get("stack"),markPoint:i.get("markPoint"),markLine:i.get("markLine")},n.get("option.bar")||{},!0)},stack:function(e,t,i,n){var r=i.get("stack")===l;if("line"===e||"bar"===e)return n.setIconStatus("stack",r?"normal":"emphasis"),o.merge({id:t,stack:r?"":l},n.get("option.stack")||{},!0)}},d=[["line","bar"],["stack"]];h.onclick=function(e,t,i){var n=this.model,r=n.get("seriesIndex."+i);if(u[i]){var s,c={series:[]};o.each(d,function(e){o.indexOf(e,i)>=0&&o.each(e,function(e){n.setIconStatus(e,"normal")})}),n.setIconStatus(i,"emphasis"),e.eachComponent({mainType:"series",query:null==r?null:{seriesIndex:r}},function(t){var r=u[i](t.subType,t.id,t,n);r&&(o.defaults(r,t.option),c.series.push(r));var s=t.coordinateSystem;if(s&&"cartesian2d"===s.type&&("line"===i||"bar"===i)){var a=s.getAxesByScale("ordinal")[0];if(a){var l=a.dim+"Axis",h=e.queryComponents({mainType:l,index:t.get(name+"Index"),id:t.get(name+"Id")})[0].componentIndex;c[l]=c[l]||[];for(var d=0;d<=h;d++)c[l][h]=c[l][h]||{};c[l][h].boundaryGap="bar"===i}}}),"stack"===i&&(s=c.series&&c.series[0]&&c.series[0].stack===l?o.merge({stack:a.title.tiled},a.title):o.clone(a.title)),t.dispatchAction({type:"changeMagicType",currentType:i,newOption:c,newTitle:s,featureName:"magicType"})}},n.registerAction({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(e,t){t.mergeOption(e.newOption)}),s.register("magicType",c),e.exports=c},57642:function(e,t,i){var n=i(90650),o=i(90763),r=i(54010),s=i(24564);function a(e){this.model=e}a.defaultOption={show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:r.toolbox.restore.title},a.prototype.onclick=function(e,t,i){o.clear(e),t.dispatchAction({type:"restore",from:this.uid})},s.register("restore",a),n.registerAction({type:"restore",event:"restore",update:"prepareAndUpdate"},function(e,t){t.resetOption("recreate")}),e.exports=a},8589:function(e,t,i){var n=i(10169),o=i(54010),r=i(24564),s=o.toolbox.saveAsImage;function a(e){this.model=e}a.defaultOption={show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:s.title,type:"png",connectedBackgroundColor:"#fff",name:"",excludeComponents:["toolbox"],pixelRatio:1,lang:s.lang.slice()},a.prototype.unusable=!n.canvasSupported,a.prototype.onclick=function(e,t){var i=this.model,o=i.get("name")||e.get("title.0.text")||"echarts",r="svg"===t.getZr().painter.getType()?"svg":i.get("type",!0)||"png",s=t.getConnectedDataURL({type:r,backgroundColor:i.get("backgroundColor",!0)||e.get("backgroundColor")||"#fff",connectedBackgroundColor:i.get("connectedBackgroundColor"),excludeComponents:i.get("excludeComponents"),pixelRatio:i.get("pixelRatio")});if("function"!=typeof MouseEvent||n.browser.ie||n.browser.edge)if(window.navigator.msSaveOrOpenBlob){for(var a=atob(s.split(",")[1]),l=a.length,c=new Uint8Array(l);l--;)c[l]=a.charCodeAt(l);var h=new Blob([c]);window.navigator.msSaveOrOpenBlob(h,o+"."+r)}else{var u=i.get("lang"),d='<body style="margin:0;"><img src="'+s+'" style="max-width:100%;" title="'+(u&&u[0]||"")+'" /></body>';window.open().document.write(d)}else{var p=document.createElement("a");p.download=o+"."+r,p.target="_blank",p.href=s;var g=new MouseEvent("click",{view:document.defaultView,bubbles:!0,cancelable:!1});p.dispatchEvent(g)}},r.register("saveAsImage",a),e.exports=a},24564:function(e,t){var i={};t.register=function(e,t){i[e]=t},t.get=function(e){return i[e]}},23237:function(e,t,i){var n=i(90650);i(84040),i(64656),i(63174),n.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},function(){}),n.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},function(){})},72416:function(e,t,i){var n=i(40628),o=i(10312),r=i(91170),s=i(31086),a=i(10169),l=i(99706),c=n.each,h=l.toCamelCase,u=["","-webkit-","-moz-","-o-"];function d(e,t,i,n,o){var r=t&&t.painter;if(i){var a=r&&r.getViewportRoot();a&&s.transformLocalCoord(e,a,document.body,n,o)}else{e[0]=n,e[1]=o;var l=r&&r.getViewportRootOffset();l&&(e[0]+=l.offsetLeft,e[1]+=l.offsetTop)}e[2]=e[0]/t.getWidth(),e[3]=e[1]/t.getHeight()}function p(e,t,i){if(a.wxa)return null;var n=document.createElement("div");n.domBelongToZr=!0,this.el=n;var o=this._zr=t.getZr(),s=this._appendToBody=i&&i.appendToBody;this._styleCoord=[0,0,0,0],d(this._styleCoord,o,s,t.getWidth()/2,t.getHeight()/2),s?document.body.appendChild(n):e.appendChild(n),this._container=e,this._show=!1;var l=this;n.onmouseenter=function(){l._enterable&&(clearTimeout(l._hideTimeout),l._show=!0),l._inContent=!0},n.onmousemove=function(e){if(e=e||window.event,!l._enterable){var t=o.handler,i=o.painter.getViewportRoot();r.normalizeEvent(i,e,!0),t.dispatch("mousemove",e)}},n.onmouseleave=function(){l._enterable&&l._show&&l.hideLater(l._hideDelay),l._inContent=!1}}p.prototype={constructor:p,_enterable:!0,update:function(e){var t=this._container,i=t.currentStyle||document.defaultView.getComputedStyle(t),n=t.style;"absolute"!==n.position&&"absolute"!==i.position&&(n.position="relative"),e.get("alwaysShowContent")&&this._moveTooltipIfResized()},_moveTooltipIfResized:function(){var e=this._styleCoord[3],t=this._styleCoord[2]*this._zr.getWidth(),i=e*this._zr.getHeight();this.moveTo(t,i)},show:function(e){clearTimeout(this._hideTimeout);var t=this.el,i=this._styleCoord;t.style.cssText="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+function(e){var t=[],i=e.get("transitionDuration"),r=e.get("backgroundColor"),s=e.getModel("textStyle"),d=e.get("padding");return i&&t.push(function(e){var t="cubic-bezier(0.23, 1, 0.32, 1)",i="left "+e+"s "+t+",top "+e+"s "+t;return n.map(u,function(e){return e+"transition:"+i}).join(";")}(i)),r&&(a.canvasSupported?t.push("background-Color:"+r):(t.push("background-Color:#"+o.toHex(r)),t.push("filter:alpha(opacity=70)"))),c(["width","color","radius"],function(i){var n="border-"+i,o=h(n),r=e.get(o);null!=r&&t.push(n+":"+r+("color"===i?"":"px"))}),t.push(function(e){var t=[],i=e.get("fontSize"),n=e.getTextColor();n&&t.push("color:"+n),t.push("font:"+e.getFont());var o=e.get("lineHeight");null==o&&(o=Math.round(3*i/2)),i&&t.push("line-height:"+o+"px");var r=e.get("textShadowColor"),s=e.get("textShadowBlur")||0,a=e.get("textShadowOffsetX")||0,l=e.get("textShadowOffsetY")||0;return s&&t.push("text-shadow:"+a+"px "+l+"px "+s+"px "+r),c(["decoration","align"],function(i){var n=e.get(i);n&&t.push("text-"+i+":"+n)}),t.join(";")}(s)),null!=d&&t.push("padding:"+l.normalizeCssArray(d).join("px ")+"px"),t.join(";")+";"}(e)+";left:"+i[0]+"px;top:"+i[1]+"px;"+(e.get("extraCssText")||""),t.style.display=t.innerHTML?"block":"none",t.style.pointerEvents=this._enterable?"auto":"none",this._show=!0},setContent:function(e){this.el.innerHTML=null==e?"":e},setEnterable:function(e){this._enterable=e},getSize:function(){var e=this.el;return[e.clientWidth,e.clientHeight]},moveTo:function(e,t){var i=this._styleCoord;d(i,this._zr,this._appendToBody,e,t);var n=this.el.style;n.left=i[0]+"px",n.top=i[1]+"px"},hide:function(){this.el.style.display="none",this._show=!1},hideLater:function(e){this._show&&(!this._inContent||!this._enterable)&&(e?(this._hideDelay=e,this._show=!1,this._hideTimeout=setTimeout(n.bind(this.hide,this),e)):this.hide())},isShow:function(){return this._show},dispose:function(){this.el.parentNode.removeChild(this.el)},getOuterSize:function(){var e=this.el.clientWidth,t=this.el.clientHeight;if(document.defaultView&&document.defaultView.getComputedStyle){var i=document.defaultView.getComputedStyle(this.el);i&&(e+=parseInt(i.borderLeftWidth,10)+parseInt(i.borderRightWidth,10),t+=parseInt(i.borderTopWidth,10)+parseInt(i.borderBottomWidth,10))}return{width:e,height:t}}},e.exports=p},64656:function(e,t,i){var n=i(90650).extendComponentModel({type:"tooltip",dependencies:["axisPointer"],defaultOption:{zlevel:0,z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:!1,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"rgba(50,50,50,0.7)",borderColor:"#333",borderRadius:4,borderWidth:0,padding:5,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#fff",fontSize:14}}});e.exports=n},39388:function(e,t,i){var n=i(40628),o=i(48208),r=i(62429);function s(e,t,i,n){e[0]=i,e[1]=n,e[2]=e[0]/t.getWidth(),e[3]=e[1]/t.getHeight()}function a(e){var t=this._zr=e.getZr();this._styleCoord=[0,0,0,0],s(this._styleCoord,t,e.getWidth()/2,e.getHeight()/2),this._show=!1}a.prototype={constructor:a,_enterable:!0,update:function(e){e.get("alwaysShowContent")&&this._moveTooltipIfResized()},_moveTooltipIfResized:function(){var e=this._styleCoord[3],t=this._styleCoord[2]*this._zr.getWidth(),i=e*this._zr.getHeight();this.moveTo(t,i)},show:function(e){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.attr("show",!0),this._show=!0},setContent:function(e,t,i){this.el&&this._zr.remove(this.el);for(var n={},s=e,a="{marker",l=s.indexOf(a);l>=0;){var c=s.indexOf("|}"),h=s.substr(l+a.length,c-l-a.length);n["marker"+h]=h.indexOf("sub")>-1?{textWidth:4,textHeight:4,textBorderRadius:2,textBackgroundColor:t[h],textOffset:[3,0]}:{textWidth:10,textHeight:10,textBorderRadius:5,textBackgroundColor:t[h]},l=(s=s.substr(c+1)).indexOf("{marker")}var u=i.getModel("textStyle"),d=u.get("fontSize"),p=i.get("textLineHeight");null==p&&(p=Math.round(3*d/2)),this.el=new o({style:r.setTextStyle({},u,{rich:n,text:e,textBackgroundColor:i.get("backgroundColor"),textBorderRadius:i.get("borderRadius"),textFill:i.get("textStyle.color"),textPadding:i.get("padding"),textLineHeight:p}),z:i.get("z")}),this._zr.add(this.el);var g=this;this.el.on("mouseover",function(){g._enterable&&(clearTimeout(g._hideTimeout),g._show=!0),g._inContent=!0}),this.el.on("mouseout",function(){g._enterable&&g._show&&g.hideLater(g._hideDelay),g._inContent=!1})},setEnterable:function(e){this._enterable=e},getSize:function(){var e=this.el.getBoundingRect();return[e.width,e.height]},moveTo:function(e,t){if(this.el){var i=this._styleCoord;s(i,this._zr,e,t),this.el.attr("position",[i[0],i[1]])}},hide:function(){this.el&&this.el.hide(),this._show=!1},hideLater:function(e){this._show&&(!this._inContent||!this._enterable)&&(e?(this._hideDelay=e,this._show=!1,this._hideTimeout=setTimeout(n.bind(this.hide,this),e)):this.hide())},isShow:function(){return this._show},dispose:function(){clearTimeout(this._hideTimeout),this.el&&this._zr.remove(this.el)},getOuterSize:function(){var e=this.getSize();return{width:e[0],height:e[1]}}},e.exports=a},63174:function(e,t,i){var n=i(90650),o=i(40628),r=i(10169),s=i(72416),a=i(39388),l=i(99706),c=i(14785),h=i(62429),u=i(49136),d=i(40634),p=i(96948),g=i(22700),f=i(63635),m=i(60926),_=i(91266).getTooltipRenderMode,v=o.bind,y=o.each,b=c.parsePercent,w=new h.Rect({shape:{x:-1,y:-1,width:2,height:2}}),A=n.extendComponentView({type:"tooltip",init:function(e,t){if(!r.node){var i,n=e.getComponent("tooltip"),o=n.get("renderMode");this._renderMode=_(o),"html"===this._renderMode?(i=new s(t.getDom(),t,{appendToBody:n.get("appendToBody",!0)}),this._newLine="<br/>"):(i=new a(t),this._newLine="\n"),this._tooltipContent=i}},render:function(e,t,i){if(!r.node){this.group.removeAll(),this._tooltipModel=e,this._ecModel=t,this._api=i,this._lastDataByCoordSys=null,this._alwaysShowContent=e.get("alwaysShowContent");var n=this._tooltipContent;n.update(e),n.setEnterable(e.get("enterable")),this._initGlobalListener(),this._keepShow()}},_initGlobalListener:function(){var e=this._tooltipModel.get("triggerOn");g.register("itemTooltip",this._api,v(function(t,i,n){"none"!==e&&(e.indexOf(t)>=0?this._tryShow(i,n):"leave"===t&&this._hide(n))},this))},_keepShow:function(){var e=this._tooltipModel,t=this._ecModel,i=this._api;if(null!=this._lastX&&null!=this._lastY&&"none"!==e.get("triggerOn")){var n=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){!i.isDisposed()&&n.manuallyShowTip(e,t,i,{x:n._lastX,y:n._lastY})})}},manuallyShowTip:function(e,t,i,n){if(n.from!==this.uid&&!r.node){var o=T(n,i);this._ticket="";var s=n.dataByCoordSys;if(n.tooltip&&null!=n.x&&null!=n.y){var a=w;a.position=[n.x,n.y],a.update(),a.tooltip=n.tooltip,this._tryShow({offsetX:n.x,offsetY:n.y,target:a},o)}else if(s)this._tryShow({offsetX:n.x,offsetY:n.y,position:n.position,dataByCoordSys:n.dataByCoordSys,tooltipOption:n.tooltipOption},o);else if(null!=n.seriesIndex){if(this._manuallyAxisShowTip(e,t,i,n))return;var l=u(n,t),c=l.point[0],h=l.point[1];null!=c&&null!=h&&this._tryShow({offsetX:c,offsetY:h,position:n.position,target:l.el},o)}else null!=n.x&&null!=n.y&&(i.dispatchAction({type:"updateAxisPointer",x:n.x,y:n.y}),this._tryShow({offsetX:n.x,offsetY:n.y,position:n.position,target:i.getZr().findHover(n.x,n.y).target},o))}},manuallyHideTip:function(e,t,i,n){!this._alwaysShowContent&&this._tooltipModel&&this._tooltipContent.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=null,n.from!==this.uid&&this._hide(T(n,i))},_manuallyAxisShowTip:function(e,t,i,n){var o=n.seriesIndex,r=n.dataIndex,s=t.getComponent("axisPointer").coordSysAxesInfo;if(null!=o&&null!=r&&null!=s){var a=t.getSeriesByIndex(o);if(a&&"axis"===(e=x([a.getData().getItemModel(r),a,(a.coordinateSystem||{}).model,e])).get("trigger"))return i.dispatchAction({type:"updateAxisPointer",seriesIndex:o,dataIndex:r,position:n.position}),!0}},_tryShow:function(e,t){var i=e.target;if(this._tooltipModel){this._lastX=e.offsetX,this._lastY=e.offsetY;var n=e.dataByCoordSys;n&&n.length?this._showAxisTooltip(n,e):i&&null!=i.dataIndex?(this._lastDataByCoordSys=null,this._showSeriesItemTooltip(e,i,t)):i&&i.tooltip?(this._lastDataByCoordSys=null,this._showComponentItemTooltip(e,i,t)):(this._lastDataByCoordSys=null,this._hide(t))}},_showOrMove:function(e,t){var i=e.get("showDelay");t=o.bind(t,this),clearTimeout(this._showTimout),i>0?this._showTimout=setTimeout(t,i):t()},_showAxisTooltip:function(e,t){var i=this._ecModel,n=[t.offsetX,t.offsetY],r=[],s=[],a=x([t.tooltipOption,this._tooltipModel]),c=this._renderMode,h=this._newLine,u={};y(e,function(e){y(e.dataByAxis,function(e){var t=i.getComponent(e.axisDim+"Axis",e.axisIndex),n=e.value,a=[];if(t&&null!=n){var d=m.getValueLabel(n,t.axis,i,e.seriesDataIndices,e.valueLabelOpt);o.each(e.seriesDataIndices,function(r){var l=i.getSeriesByIndex(r.seriesIndex),h=r.dataIndexInside,p=l&&l.getDataParams(h);if(p.axisDim=e.axisDim,p.axisIndex=e.axisIndex,p.axisType=e.axisType,p.axisId=e.axisId,p.axisValue=f.getAxisRawValue(t.axis,n),p.axisValueLabel=d,p){s.push(p);var g,m=l.formatTooltip(h,!0,null,c);o.isObject(m)?(g=m.html,o.merge(u,m.markers)):g=m,a.push(g)}});var p=d;r.push("html"!==c?a.join(h):(p?l.encodeHTML(p)+h:"")+a.join(h))}})},this),r.reverse(),r=r.join(this._newLine+this._newLine);var d=t.position;this._showOrMove(a,function(){this._updateContentNotChangedOnAxis(e)?this._updatePosition(a,d,n[0],n[1],this._tooltipContent,s):this._showTooltipContent(a,r,s,Math.random(),n[0],n[1],d,void 0,u)})},_showSeriesItemTooltip:function(e,t,i){var n=t.seriesIndex,r=this._ecModel.getSeriesByIndex(n),s=t.dataModel||r,a=t.dataIndex,l=t.dataType,c=s.getData(l),h=x([c.getItemModel(a),s,r&&(r.coordinateSystem||{}).model,this._tooltipModel]),u=h.get("trigger");if(null==u||"item"===u){var d,p,g=s.getDataParams(a,l),f=s.formatTooltip(a,!1,l,this._renderMode);o.isObject(f)?(d=f.html,p=f.markers):(d=f,p=null);var m="item_"+s.name+"_"+a;this._showOrMove(h,function(){this._showTooltipContent(h,d,g,m,e.offsetX,e.offsetY,e.position,e.target,p)}),i({type:"showTip",dataIndexInside:a,dataIndex:c.getRawIndex(a),seriesIndex:n,from:this.uid})}},_showComponentItemTooltip:function(e,t,i){var n=t.tooltip;"string"==typeof n&&(n={content:n,formatter:n});var o=new p(n,this._tooltipModel,this._ecModel),r=o.get("content"),s=Math.random();this._showOrMove(o,function(){this._showTooltipContent(o,r,o.get("formatterParams")||{},s,e.offsetX,e.offsetY,e.position,t)}),i({type:"showTip",from:this.uid})},_showTooltipContent:function(e,t,i,n,o,r,s,a,c){if(this._ticket="",e.get("showContent")&&e.get("show")){var h=this._tooltipContent,u=e.get("formatter");s=s||e.get("position");var d=t;if(u&&"string"==typeof u)d=l.formatTpl(u,i,!0);else if("function"==typeof u){var p=v(function(t,n){t===this._ticket&&(h.setContent(n,c,e),this._updatePosition(e,s,o,r,h,i,a))},this);this._ticket=n,d=u(i,n,p)}h.setContent(d,c,e),h.show(e),this._updatePosition(e,s,o,r,h,i,a)}},_updatePosition:function(e,t,i,n,r,s,a){var l=this._api.getWidth(),c=this._api.getHeight();t=t||e.get("position");var h=r.getSize(),u=e.get("align"),p=e.get("verticalAlign"),g=a&&a.getBoundingRect().clone();if(a&&g.applyTransform(a.transform),"function"==typeof t&&(t=t([i,n],s,r.el,g,{viewSize:[l,c],contentSize:h.slice()})),o.isArray(t))i=b(t[0],l),n=b(t[1],c);else if(o.isObject(t)){t.width=h[0],t.height=h[1];var f=d.getLayoutRect(t,{width:l,height:c});i=f.x,n=f.y,u=null,p=null}else if("string"==typeof t&&a)i=(m=function(e,t,i){var n=i[0],o=i[1],r=0,s=0,a=t.width,l=t.height;switch(e){case"inside":r=t.x+a/2-n/2,s=t.y+l/2-o/2;break;case"top":r=t.x+a/2-n/2,s=t.y-o-5;break;case"bottom":r=t.x+a/2-n/2,s=t.y+l+5;break;case"left":r=t.x-n-5,s=t.y+l/2-o/2;break;case"right":r=t.x+a+5,s=t.y+l/2-o/2}return[r,s]}(t,g,h))[0],n=m[1];else{var m=function(e,t,i,n,o,r,s){var a=i.getOuterSize(),l=a.width,c=a.height;return null!=r&&(e+l+r>n?e-=l+r:e+=r),null!=s&&(t+c+s>o?t-=c+s:t+=s),[e,t]}(i,n,r,l,c,u?null:20,p?null:20);i=m[0],n=m[1]}u&&(i-=C(u)?h[0]/2:"right"===u?h[0]:0),p&&(n-=C(p)?h[1]/2:"bottom"===p?h[1]:0),e.get("confine")&&(m=function(e,t,i,n,o){var r=i.getOuterSize(),s=r.width,a=r.height;return e=Math.min(e+s,n)-s,t=Math.min(t+a,o)-a,[e=Math.max(e,0),t=Math.max(t,0)]}(i,n,r,l,c),i=m[0],n=m[1]),r.moveTo(i,n)},_updateContentNotChangedOnAxis:function(e){var t=this._lastDataByCoordSys,i=!!t&&t.length===e.length;return i&&y(t,function(t,n){var o=t.dataByAxis||{},r=(e[n]||{}).dataByAxis||[];(i&=o.length===r.length)&&y(o,function(e,t){var n=r[t]||{},o=e.seriesDataIndices||[],s=n.seriesDataIndices||[];(i&=e.value===n.value&&e.axisType===n.axisType&&e.axisId===n.axisId&&o.length===s.length)&&y(o,function(e,t){var n=s[t];i&=e.seriesIndex===n.seriesIndex&&e.dataIndex===n.dataIndex})})}),this._lastDataByCoordSys=e,!!i},_hide:function(e){this._lastDataByCoordSys=null,e({type:"hideTip",from:this.uid})},dispose:function(e,t){r.node||(this._tooltipContent.dispose(),g.unregister("itemTooltip",t))}});function x(e){for(var t=e.pop();e.length;){var i=e.pop();i&&(p.isInstance(i)&&(i=i.get("tooltip",!0)),"string"==typeof i&&(i={formatter:i}),t=new p(i,t,t.ecModel))}return t}function T(e,t){return e.dispatchAction||o.bind(t.dispatchAction,t)}function C(e){return"center"===e||"middle"===e}e.exports=A},32284:function(e,t,i){i(66053),i(10527)},5802:function(e,t,i){var n=i(40628),o=i(86282),r=i(14785),s=[20,140],a=o.extend({type:"visualMap.continuous",defaultOption:{align:"auto",calculable:!1,range:null,realtime:!0,itemHeight:null,itemWidth:null,hoverLink:!0,hoverLinkDataSize:null,hoverLinkOnHandle:null},optionUpdated:function(e,t){a.superApply(this,"optionUpdated",arguments),this.resetExtent(),this.resetVisual(function(e){e.mappingMethod="linear",e.dataExtent=this.getExtent()}),this._resetRange()},resetItemSize:function(){a.superApply(this,"resetItemSize",arguments);var e=this.itemSize;"horizontal"===this._orient&&e.reverse(),(null==e[0]||isNaN(e[0]))&&(e[0]=s[0]),(null==e[1]||isNaN(e[1]))&&(e[1]=s[1])},_resetRange:function(){var e=this.getExtent(),t=this.option.range;!t||t.auto?(e.auto=1,this.option.range=e):n.isArray(t)&&(t[0]>t[1]&&t.reverse(),t[0]=Math.max(t[0],e[0]),t[1]=Math.min(t[1],e[1]))},completeVisualOption:function(){o.prototype.completeVisualOption.apply(this,arguments),n.each(this.stateList,function(e){var t=this.option.controller[e].symbolSize;t&&t[0]!==t[1]&&(t[0]=0)},this)},setSelected:function(e){this.option.range=e.slice(),this._resetRange()},getSelected:function(){var e=this.getExtent(),t=r.asc((this.get("range")||[]).slice());return t[0]>e[1]&&(t[0]=e[1]),t[1]>e[1]&&(t[1]=e[1]),t[0]<e[0]&&(t[0]=e[0]),t[1]<e[0]&&(t[1]=e[0]),t},getValueState:function(e){var t=this.option.range,i=this.getExtent();return(t[0]<=i[0]||t[0]<=e)&&(t[1]>=i[1]||e<=t[1])?"inRange":"outOfRange"},findTargetDataIndices:function(e){var t=[];return this.eachTargetSeries(function(i){var n=[],o=i.getData();o.each(this.getDataDimension(o),function(t,i){e[0]<=t&&t<=e[1]&&n.push(i)},this),t.push({seriesId:i.id,dataIndex:n})},this),t},getVisualMeta:function(e){var t=l(0,0,this.getExtent()),i=l(0,0,this.option.range.slice()),n=[];function o(t,i){n.push({value:t,color:e(t,i)})}for(var r=0,s=0,a=i.length,c=t.length;s<c&&(!i.length||t[s]<=i[0]);s++)t[s]<i[r]&&o(t[s],"outOfRange");for(var h=1;r<a;r++,h=0)h&&n.length&&o(i[r],"outOfRange"),o(i[r],"inRange");for(h=1;s<c;s++)(!i.length||i[i.length-1]<t[s])&&(h&&(n.length&&o(n[n.length-1].value,"outOfRange"),h=0),o(t[s],"outOfRange"));var u=n.length;return{stops:n,outerColors:[u?n[0].color:"transparent",u?n[u-1].color:"transparent"]}}});function l(e,t,i){if(i[0]===i[1])return i.slice();for(var n=(i[1]-i[0])/200,o=i[0],r=[],s=0;s<=200&&o<i[1];s++)r.push(o),o+=n;return r.push(i[1]),r}e.exports=a},26565:function(e,t,i){var n=i(40628),o=i(45910),r=i(91170),s=i(75474),a=i(62429),l=i(14785),c=i(57583),h=i(98197),u=i(91266),d=l.linearMap,p=n.each,g=Math.min,f=Math.max,m=s.extend({type:"visualMap.continuous",init:function(){m.superApply(this,"init",arguments),this._shapes={},this._dataInterval=[],this._handleEnds=[],this._hoverLinkDataIndices=[]},doRender:function(e,t,i,n){(!n||"selectDataRange"!==n.type||n.from!==this.uid)&&this._buildView()},_buildView:function(){this.group.removeAll();var e=this.visualMapModel,t=this.group;this._orient=e.get("orient"),this._useHandle=e.get("calculable"),this._resetInterval(),this._renderBar(t);var i=e.get("text");this._renderEndsText(t,i,0),this._renderEndsText(t,i,1),this._updateView(!0),this.renderBackground(t),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(t)},_renderEndsText:function(e,t,i){if(t){var n=t[1-i];n=null!=n?n+"":"";var o=this.visualMapModel,r=o.get("textGap"),s=o.itemSize,l=this._shapes.barGroup,c=this._applyTransform([s[0]/2,0===i?-r:s[1]+r],l),h=this._applyTransform(0===i?"bottom":"top",l),u=this._orient,d=this.visualMapModel.textStyleModel;this.group.add(new a.Text({style:{x:c[0],y:c[1],textVerticalAlign:"horizontal"===u?"middle":h,textAlign:"horizontal"===u?h:"center",text:n,textFont:d.getFont(),textFill:d.getTextColor()}}))}},_renderBar:function(e){var t=this.visualMapModel,i=this._shapes,o=t.itemSize,r=this._orient,s=this._useHandle,a=h.getItemAlign(t,this.api,o),l=i.barGroup=this._createBarGroup(a);l.add(i.outOfRange=_()),l.add(i.inRange=_(null,s?y(this._orient):null,n.bind(this._dragHandle,this,"all",!1),n.bind(this._dragHandle,this,"all",!0)));var c=t.textStyleModel.getTextRect("\u56fd"),u=f(c.width,c.height);s&&(i.handleThumbs=[],i.handleLabels=[],i.handleLabelPoints=[],this._createHandle(l,0,o,u,r,a),this._createHandle(l,1,o,u,r,a)),this._createIndicator(l,o,u,r),e.add(l)},_createHandle:function(e,t,i,o,s){var l=n.bind(this._dragHandle,this,t,!1),c=n.bind(this._dragHandle,this,t,!0),h=_(function(e,t){return 0===e?[[0,0],[t,0],[t,-t]]:[[0,0],[t,0],[t,t]]}(t,o),y(this._orient),l,c);h.position[0]=i[0],e.add(h);var u=this.visualMapModel.textStyleModel,d=new a.Text({draggable:!0,drift:l,onmousemove:function(e){r.stop(e.event)},ondragend:c,style:{x:0,y:0,text:"",textFont:u.getFont(),textFill:u.getTextColor()}});this.group.add(d);var p=["horizontal"===s?o/2:1.5*o,"horizontal"===s?0===t?-1.5*o:1.5*o:0===t?-o/2:o/2],g=this._shapes;g.handleThumbs[t]=h,g.handleLabelPoints[t]=p,g.handleLabels[t]=d},_createIndicator:function(e,t,i,n){var o=_([[0,0]],"move");o.position[0]=t[0],o.attr({invisible:!0,silent:!0}),e.add(o);var r=this.visualMapModel.textStyleModel,s=new a.Text({silent:!0,invisible:!0,style:{x:0,y:0,text:"",textFont:r.getFont(),textFill:r.getTextColor()}});this.group.add(s);var l=["horizontal"===n?i/2:9,0],c=this._shapes;c.indicator=o,c.indicatorLabel=s,c.indicatorLabelPoint=l},_dragHandle:function(e,t,i,n){if(this._useHandle){if(this._dragging=!t,!t){var o=this._applyTransform([i,n],this._shapes.barGroup,!0);this._updateInterval(e,o[1]),this._updateView()}t===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),t?!this._hovering&&this._clearHoverLinkToSeries():v(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[e],!1)}},_resetInterval:function(){var e=this.visualMapModel,t=this._dataInterval=e.getSelected(),i=e.getExtent(),n=[0,e.itemSize[1]];this._handleEnds=[d(t[0],i,n,!0),d(t[1],i,n,!0)]},_updateInterval:function(e,t){var i=this.visualMapModel,n=this._handleEnds,o=[0,i.itemSize[1]];c(t=t||0,n,o,e,0);var r=i.getExtent();this._dataInterval=[d(n[0],o,r,!0),d(n[1],o,r,!0)]},_updateView:function(e){var t=this.visualMapModel,i=t.getExtent(),n=this._shapes,o=[0,t.itemSize[1]],r=e?o:this._handleEnds,s=this._createBarVisual(this._dataInterval,i,r,"inRange"),a=this._createBarVisual(i,i,o,"outOfRange");n.inRange.setStyle({fill:s.barColor,opacity:s.opacity}).setShape("points",s.barPoints),n.outOfRange.setStyle({fill:a.barColor,opacity:a.opacity}).setShape("points",a.barPoints),this._updateHandle(r,s)},_createBarVisual:function(e,t,i,n){var r={forceState:n,convertOpacityToAlpha:!0},s=this._makeColorGradient(e,r),a=[this.getControllerVisual(e[0],"symbolSize",r),this.getControllerVisual(e[1],"symbolSize",r)],l=this._createBarPoints(i,a);return{barColor:new o(0,0,0,1,s),barPoints:l,handlesColor:[s[0].color,s[s.length-1].color]}},_makeColorGradient:function(e,t){var i=[],n=(e[1]-e[0])/100;i.push({color:this.getControllerVisual(e[0],"color",t),offset:0});for(var o=1;o<100;o++){var r=e[0]+n*o;if(r>e[1])break;i.push({color:this.getControllerVisual(r,"color",t),offset:o/100})}return i.push({color:this.getControllerVisual(e[1],"color",t),offset:1}),i},_createBarPoints:function(e,t){var i=this.visualMapModel.itemSize;return[[i[0]-t[0],e[0]],[i[0],e[0]],[i[0],e[1]],[i[0]-t[1],e[1]]]},_createBarGroup:function(e){var t=this._orient,i=this.visualMapModel.get("inverse");return new a.Group("horizontal"!==t||i?"horizontal"===t&&i?{scale:"bottom"===e?[-1,1]:[1,1],rotation:-Math.PI/2}:"vertical"!==t||i?{scale:"left"===e?[1,1]:[-1,1]}:{scale:"left"===e?[1,-1]:[-1,-1]}:{scale:"bottom"===e?[1,1]:[-1,1],rotation:Math.PI/2})},_updateHandle:function(e,t){if(this._useHandle){var i=this._shapes,n=this.visualMapModel,o=i.handleThumbs,r=i.handleLabels;p([0,1],function(s){var l=o[s];l.setStyle("fill",t.handlesColor[s]),l.position[1]=e[s];var c=a.applyTransform(i.handleLabelPoints[s],a.getTransform(l,this.group));r[s].setStyle({x:c[0],y:c[1],text:n.formatValueText(this._dataInterval[s]),textVerticalAlign:"middle",textAlign:this._applyTransform("horizontal"===this._orient?0===s?"bottom":"top":"left",i.barGroup)})},this)}},_showIndicator:function(e,t,i,n){var o=this.visualMapModel,r=o.getExtent(),s=o.itemSize,l=d(e,r,[0,s[1]],!0),c=this._shapes,h=c.indicator;if(h){h.position[1]=l,h.attr("invisible",!1),h.setShape("points",function(e,t,i,n){return e?[[0,-g(t,f(i,0))],[6,0],[0,g(t,f(n-i,0))]]:[[0,0],[5,-5],[5,5]]}(!!i,n,l,s[1]));var u=this.getControllerVisual(e,"color",{convertOpacityToAlpha:!0});h.setStyle("fill",u);var p=a.applyTransform(c.indicatorLabelPoint,a.getTransform(h,this.group)),m=c.indicatorLabel;m.attr("invisible",!1);var _=this._applyTransform("left",c.barGroup),v=this._orient;m.setStyle({text:(i||"")+o.formatValueText(t),textVerticalAlign:"horizontal"===v?_:"middle",textAlign:"horizontal"===v?"center":_,x:p[0],y:p[1]})}},_enableHoverLinkToSeries:function(){var e=this;this._shapes.barGroup.on("mousemove",function(t){if(e._hovering=!0,!e._dragging){var i=e.visualMapModel.itemSize,n=e._applyTransform([t.offsetX,t.offsetY],e._shapes.barGroup,!0,!0);n[1]=g(f(0,n[1]),i[1]),e._doHoverLinkToSeries(n[1],0<=n[0]&&n[0]<=i[0])}}).on("mouseout",function(){e._hovering=!1,!e._dragging&&e._clearHoverLinkToSeries()})},_enableHoverLinkFromSeries:function(){var e=this.api.getZr();this.visualMapModel.option.hoverLink?(e.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),e.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},_doHoverLinkToSeries:function(e,t){var i=this.visualMapModel;if(i.option.hoverLink){var n=[0,i.itemSize[1]],o=i.getExtent();e=g(f(n[0],e),n[1]);var r=function(e,t,i){var n=6,o=e.get("hoverLinkDataSize");return o&&(n=d(o,t,i,!0)/2),n}(i,o,n),s=[e-r,e+r],a=d(e,n,o,!0),l=[d(s[0],n,o,!0),d(s[1],n,o,!0)];s[0]<n[0]&&(l[0]=-1/0),s[1]>n[1]&&(l[1]=1/0),t&&(l[0]===-1/0?this._showIndicator(a,l[1],"< ",r):l[1]===1/0?this._showIndicator(a,l[0],"> ",r):this._showIndicator(a,a,"\u2248 ",r));var c=this._hoverLinkDataIndices,p=[];(t||v(i))&&(p=this._hoverLinkDataIndices=i.findTargetDataIndices(l));var m=u.compressBatches(c,p);this._dispatchHighDown("downplay",h.makeHighDownBatch(m[0],i)),this._dispatchHighDown("highlight",h.makeHighDownBatch(m[1],i))}},_hoverLinkFromSeriesMouseOver:function(e){var t=e.target,i=this.visualMapModel;if(t&&null!=t.dataIndex){var n=this.ecModel.getSeriesByIndex(t.seriesIndex);if(i.isTargetSeries(n)){var o=n.getData(t.dataType),r=o.get(i.getDataDimension(o),t.dataIndex,!0);isNaN(r)||this._showIndicator(r,r)}}},_hideIndicator:function(){var e=this._shapes;e.indicator&&e.indicator.attr("invisible",!0),e.indicatorLabel&&e.indicatorLabel.attr("invisible",!0)},_clearHoverLinkToSeries:function(){this._hideIndicator();var e=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",h.makeHighDownBatch(e,this.visualMapModel)),e.length=0},_clearHoverLinkFromSeries:function(){this._hideIndicator();var e=this.api.getZr();e.off("mouseover",this._hoverLinkFromSeriesMouseOver),e.off("mouseout",this._hideIndicator)},_applyTransform:function(e,t,i,o){var r=a.getTransform(t,o?null:this.group);return a[n.isArray(e)?"applyTransform":"transformDirection"](e,r,i)},_dispatchHighDown:function(e,t){t&&t.length&&this.api.dispatchAction({type:e,batch:t})},dispose:function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},remove:function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()}});function _(e,t,i,n){return new a.Polygon({shape:{points:e},draggable:!!i,cursor:t,drift:i,onmousemove:function(e){r.stop(e.event)},ondragend:n})}function v(e){var t=e.get("hoverLinkOnHandle");return!!(null==t?e.get("realtime"):t)}function y(e){return"vertical"===e?"ns-resize":"ew-resize"}e.exports=m},93774:function(e,t,i){i(59963);var n=i(40628),o=i(86282),r=i(11630),s=i(73584),a=i(14785).reformIntervals,l=o.extend({type:"visualMap.piecewise",defaultOption:{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieceList:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0,showLabel:null},optionUpdated:function(e,t){l.superApply(this,"optionUpdated",arguments),this._pieceList=[],this.resetExtent();var i=this._mode=this._determineMode();c[this._mode].call(this),this._resetSelected(e,t);var o=this.option.categories;this.resetVisual(function(e,t){"categories"===i?(e.mappingMethod="category",e.categories=n.clone(o)):(e.dataExtent=this.getExtent(),e.mappingMethod="piecewise",e.pieceList=n.map(this._pieceList,function(e){return e=n.clone(e),"inRange"!==t&&(e.visual=null),e}))})},completeVisualOption:function(){var e=this.option,t={},i=r.listVisualTypes(),a=this.isCategory();function l(e,t,i){return e&&e[t]&&(n.isObject(e[t])?e[t].hasOwnProperty(i):e[t]===i)}n.each(e.pieces,function(e){n.each(i,function(i){e.hasOwnProperty(i)&&(t[i]=1)})}),n.each(t,function(t,i){var o=0;n.each(this.stateList,function(t){o|=l(e,t,i)||l(e.target,t,i)},this),!o&&n.each(this.stateList,function(t){(e[t]||(e[t]={}))[i]=s.get(i,"inRange"===t?"active":"inactive",a)})},this),o.prototype.completeVisualOption.apply(this,arguments)},_resetSelected:function(e,t){var i=this.option,o=this._pieceList,r=(t?i:e).selected||{};if(i.selected=r,n.each(o,function(e,t){var i=this.getSelectedMapKey(e);r.hasOwnProperty(i)||(r[i]=!0)},this),"single"===i.selectedMode){var s=!1;n.each(o,function(e,t){var i=this.getSelectedMapKey(e);r[i]&&(s?r[i]=!1:s=!0)},this)}},getSelectedMapKey:function(e){return"categories"===this._mode?e.value+"":e.index+""},getPieceList:function(){return this._pieceList},_determineMode:function(){var e=this.option;return e.pieces&&e.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},setSelected:function(e){this.option.selected=n.clone(e)},getValueState:function(e){var t=r.findPieceIndex(e,this._pieceList);return null!=t&&this.option.selected[this.getSelectedMapKey(this._pieceList[t])]?"inRange":"outOfRange"},findTargetDataIndices:function(e){var t=[];return this.eachTargetSeries(function(i){var n=[],o=i.getData();o.each(this.getDataDimension(o),function(t,i){r.findPieceIndex(t,this._pieceList)===e&&n.push(i)},this),t.push({seriesId:i.id,dataIndex:n})},this),t},getRepresentValue:function(e){var t;if(this.isCategory())t=e.value;else if(null!=e.value)t=e.value;else{var i=e.interval||[];t=i[0]===-1/0&&i[1]===1/0?0:(i[0]+i[1])/2}return t},getVisualMeta:function(e){if(!this.isCategory()){var t=[],i=[],o=this,r=this._pieceList.slice();if(r.length){var s=r[0].interval[0];s!==-1/0&&r.unshift({interval:[-1/0,s]}),(s=r[r.length-1].interval[1])!==1/0&&r.push({interval:[s,1/0]})}else r.push({interval:[-1/0,1/0]});var a=-1/0;return n.each(r,function(e){var t=e.interval;t&&(t[0]>a&&l([a,t[0]],"outOfRange"),l(t.slice()),a=t[1])},this),{stops:t,outerColors:i}}function l(n,r){var s=o.getRepresentValue({interval:n});r||(r=o.getValueState(s));var a=e(s,r);n[0]===-1/0?i[0]=a:n[1]===1/0?i[1]=a:t.push({value:n[0],color:a},{value:n[1],color:a})}}}),c={splitNumber:function(){var e=this.option,t=this._pieceList,i=Math.min(e.precision,20),o=this.getExtent(),r=e.splitNumber;r=Math.max(parseInt(r,10),1),e.splitNumber=r;for(var s=(o[1]-o[0])/r;+s.toFixed(i)!==s&&i<5;)i++;e.precision=i,s=+s.toFixed(i),e.minOpen&&t.push({interval:[-1/0,o[0]],close:[0,0]});for(var l=0,c=o[0];l<r;c+=s,l++)t.push({interval:[c,l===r-1?o[1]:c+s],close:[1,1]});e.maxOpen&&t.push({interval:[o[1],1/0],close:[0,0]}),a(t),n.each(t,function(e,t){e.index=t,e.text=this.formatValueText(e.interval)},this)},categories:function(){var e=this.option;n.each(e.categories,function(e){this._pieceList.push({text:this.formatValueText(e,!0),value:e})},this),h(e,this._pieceList)},pieces:function(){var e=this.option,t=this._pieceList;n.each(e.pieces,function(e,i){n.isObject(e)||(e={value:e});var o={text:"",index:i};if(null!=e.label&&(o.text=e.label),e.hasOwnProperty("value")){var s=o.value=e.value;o.interval=[s,s],o.close=[1,1]}else{for(var a=o.interval=[],l=o.close=[0,0],c=[1,0,1],h=[-1/0,1/0],u=[],d=0;d<2;d++){for(var p=[["gte","gt","min"],["lte","lt","max"]][d],g=0;g<3&&null==a[d];g++)a[d]=e[p[g]],l[d]=c[g],u[d]=2===g;null==a[d]&&(a[d]=h[d])}u[0]&&a[1]===1/0&&(l[0]=0),u[1]&&a[0]===-1/0&&(l[1]=0),a[0]===a[1]&&l[0]&&l[1]&&(o.value=a[0])}o.visual=r.retrieveVisuals(e),t.push(o)},this),h(e,t),a(t),n.each(t,function(e){var t=e.close;e.text=e.text||this.formatValueText(null!=e.value?e.value:e.interval,!1,[["<","\u2264"][t[1]],[">","\u2265"][t[0]]])},this)}};function h(e,t){var i=e.inverse;("vertical"===e.orient?!i:i)&&t.reverse()}e.exports=l},2031:function(e,t,i){var n=i(40628),o=i(75474),r=i(62429),s=i(34550).createSymbol,a=i(40634),l=i(98197),c=o.extend({type:"visualMap.piecewise",doRender:function(){var e=this.group;e.removeAll();var t=this.visualMapModel,i=t.get("textGap"),o=t.textStyleModel,s=o.getFont(),l=o.getTextColor(),c=this._getItemAlign(),h=t.itemSize,u=this._getViewData(),d=u.endsText,p=n.retrieve(t.get("showLabel",!0),!d);d&&this._renderEndsText(e,d[0],h,p,c),n.each(u.viewPieceList,function(o){var a=o.piece,u=new r.Group;u.onclick=n.bind(this._onItemClick,this,a),this._enableHoverLink(u,o.indexInModelPieceList);var d=t.getRepresentValue(a);if(this._createItemSymbol(u,d,[0,0,h[0],h[1]]),p){var g=this.visualMapModel.getValueState(d);u.add(new r.Text({style:{x:"right"===c?-i:h[0]+i,y:h[1]/2,text:a.text,textVerticalAlign:"middle",textAlign:c,textFont:s,textFill:l,opacity:"outOfRange"===g?.5:1}}))}e.add(u)},this),d&&this._renderEndsText(e,d[1],h,p,c),a.box(t.get("orient"),e,t.get("itemGap")),this.renderBackground(e),this.positionGroup(e)},_enableHoverLink:function(e,t){function i(e){var i=this.visualMapModel;i.option.hoverLink&&this.api.dispatchAction({type:e,batch:l.makeHighDownBatch(i.findTargetDataIndices(t),i)})}e.on("mouseover",n.bind(i,this,"highlight")).on("mouseout",n.bind(i,this,"downplay"))},_getItemAlign:function(){var e=this.visualMapModel,t=e.option;if("vertical"===t.orient)return l.getItemAlign(e,this.api,e.itemSize);var i=t.align;return(!i||"auto"===i)&&(i="left"),i},_renderEndsText:function(e,t,i,n,o){if(t){var s=new r.Group,a=this.visualMapModel.textStyleModel;s.add(new r.Text({style:{x:n?"right"===o?i[0]:0:i[0]/2,y:i[1]/2,textVerticalAlign:"middle",textAlign:n?o:"center",text:t,textFont:a.getFont(),textFill:a.getTextColor()}})),e.add(s)}},_getViewData:function(){var e=this.visualMapModel,t=n.map(e.getPieceList(),function(e,t){return{piece:e,indexInModelPieceList:t}}),i=e.get("text"),o=e.get("orient"),r=e.get("inverse");return("horizontal"===o?r:!r)?t.reverse():i&&(i=i.slice().reverse()),{viewPieceList:t,endsText:i}},_createItemSymbol:function(e,t,i){e.add(s(this.getControllerVisual(t,"symbol"),i[0],i[1],i[2],i[3],this.getControllerVisual(t,"color")))},_onItemClick:function(e){var t=this.visualMapModel,i=t.option,o=n.clone(i.selected),r=t.getSelectedMapKey(e);"single"===i.selectedMode?(o[r]=!0,n.each(o,function(e,t){o[t]=t===r})):o[r]=!o[r],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:o})}});e.exports=c},86282:function(e,t,i){var n=i(90650),o=i(40628),r=i(10169),s=i(73584),a=i(11630),l=i(8048),c=i(91266),h=i(14785),u=a.mapVisual,d=a.eachVisual,p=o.isArray,g=o.each,f=h.asc,m=h.linearMap,_=o.noop,v=n.extendComponentModel({type:"visualMap",dependencies:["series"],stateList:["inRange","outOfRange"],replacableOptionKeys:["inRange","outOfRange","target","controller","color"],dataBound:[-1/0,1/0],layoutMode:{type:"box",ignoreSize:!0},defaultOption:{show:!0,zlevel:0,z:4,seriesIndex:"all",min:0,max:200,dimension:null,inRange:null,outOfRange:null,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,color:null,formatter:null,text:null,textStyle:{color:"#333"}},init:function(e,t,i){this.targetVisuals={},this.controllerVisuals={},this.mergeDefaultAndTheme(e,i)},optionUpdated:function(e,t){var i=this.option;r.canvasSupported||(i.realtime=!1),!t&&l.replaceVisualOption(i,e,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},resetVisual:function(e){var t=this.stateList;e=o.bind(e,this),this.controllerVisuals=l.createVisualMappings(this.option.controller,t,e),this.targetVisuals=l.createVisualMappings(this.option.target,t,e)},getTargetSeriesIndices:function(){var e=this.option.seriesIndex,t=[];return null==e||"all"===e?this.ecModel.eachSeries(function(e,i){t.push(i)}):t=c.normalizeToArray(e),t},eachTargetSeries:function(e,t){o.each(this.getTargetSeriesIndices(),function(i){e.call(t,this.ecModel.getSeriesByIndex(i))},this)},isTargetSeries:function(e){var t=!1;return this.eachTargetSeries(function(i){i===e&&(t=!0)}),t},formatValueText:function(e,t,i){var n,r,s=this.option,a=s.precision,l=this.dataBound,c=s.formatter;return i=i||["<",">"],o.isArray(e)&&(e=e.slice(),n=!0),r=t?e:n?[h(e[0]),h(e[1])]:h(e),o.isString(c)?c.replace("{value}",n?r[0]:r).replace("{value2}",n?r[1]:r):o.isFunction(c)?n?c(e[0],e[1]):c(e):n?e[0]===l[0]?i[0]+" "+r[1]:e[1]===l[1]?i[1]+" "+r[0]:r[0]+" - "+r[1]:r;function h(e){return e===l[0]?"min":e===l[1]?"max":(+e).toFixed(Math.min(a,20))}},resetExtent:function(){var e=this.option,t=f([e.min,e.max]);this._dataExtent=t},getDataDimension:function(e){var t=this.option.dimension;if(null!=t||e.dimensions.length){if(null!=t)return e.getDimension(t);for(var i=e.dimensions,n=i.length-1;n>=0;n--){var o=i[n];if(!e.getDimensionInfo(o).isCalculationCoord)return o}}},getExtent:function(){return this._dataExtent.slice()},completeVisualOption:function(){var e=this.ecModel,t=this.option,i={inRange:t.inRange,outOfRange:t.outOfRange},n=t.target||(t.target={}),r=t.controller||(t.controller={});o.merge(n,i),o.merge(r,i);var l=this.isCategory();function c(i){p(t.color)&&!i.inRange&&(i.inRange={color:t.color.slice().reverse()}),i.inRange=i.inRange||{color:e.get("gradientColor")},g(this.stateList,function(e){var t=i[e];if(o.isString(t)){var n=s.get(t,"active",l);n?(i[e]={},i[e][t]=n):delete i[e]}},this)}c.call(this,n),c.call(this,r),(function(e,t,i){var n=e[t],o=e[i];n&&!o&&(o=e[i]={},g(n,function(e,t){if(a.isValidType(t)){var i=s.get(t,"inactive",l);null!=i&&(o[t]=i,"color"===t&&!o.hasOwnProperty("opacity")&&!o.hasOwnProperty("colorAlpha")&&(o.opacity=[0,0]))}}))}).call(this,n,"inRange","outOfRange"),(function(e){var t=(e.inRange||{}).symbol||(e.outOfRange||{}).symbol,i=(e.inRange||{}).symbolSize||(e.outOfRange||{}).symbolSize,n=this.get("inactiveColor");g(this.stateList,function(r){var s=this.itemSize,a=e[r];a||(a=e[r]={color:l?n:[n]}),null==a.symbol&&(a.symbol=t&&o.clone(t)||(l?"roundRect":["roundRect"])),null==a.symbolSize&&(a.symbolSize=i&&o.clone(i)||(l?s[0]:[s[0],s[0]])),a.symbol=u(a.symbol,function(e){return"none"===e||"square"===e?"roundRect":e});var c=a.symbolSize;if(null!=c){var h=-1/0;d(c,function(e){e>h&&(h=e)}),a.symbolSize=u(c,function(e){return m(e,[0,h],[0,s[0]],!0)})}},this)}).call(this,r)},resetItemSize:function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},isCategory:function(){return!!this.option.categories},setSelected:_,getValueState:_,getVisualMeta:_});e.exports=v},75474:function(e,t,i){var n=i(90650),o=i(40628),r=i(62429),s=i(99706),a=i(40634),l=i(11630),c=n.extendComponentView({type:"visualMap",autoPositionValues:{left:1,right:1,top:1,bottom:1},init:function(e,t){this.ecModel=e,this.api=t},render:function(e,t,i,n){this.visualMapModel=e,!1!==e.get("show")?this.doRender.apply(this,arguments):this.group.removeAll()},renderBackground:function(e){var t=this.visualMapModel,i=s.normalizeCssArray(t.get("padding")||0),n=e.getBoundingRect();e.add(new r.Rect({z2:-1,silent:!0,shape:{x:n.x-i[3],y:n.y-i[0],width:n.width+i[3]+i[1],height:n.height+i[0]+i[2]},style:{fill:t.get("backgroundColor"),stroke:t.get("borderColor"),lineWidth:t.get("borderWidth")}}))},getControllerVisual:function(e,t,i){var n=(i=i||{}).forceState,r=this.visualMapModel,s={};if("symbol"===t&&(s.symbol=r.get("itemSymbol")),"color"===t){var a=r.get("contentColor");s.color=a}function c(e){return s[e]}function h(e,t){s[e]=t}var u=r.controllerVisuals[n||r.getValueState(e)],d=l.prepareVisualTypes(u);return o.each(d,function(n){var o=u[n];i.convertOpacityToAlpha&&"opacity"===n&&(n="colorAlpha",o=u.__alphaForOpacity),l.dependsOn(n,t)&&o&&o.applyVisual(e,c,h)}),s[t]},positionGroup:function(e){var t=this.api;a.positionElement(e,this.visualMapModel.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})},doRender:o.noop});e.exports=c},98197:function(e,t,i){var n=i(40628),o=i(40634).getLayoutRect;t.getItemAlign=function(e,t,i){var n=e.option,r=n.align;if(null!=r&&"auto"!==r)return r;for(var s={width:t.getWidth(),height:t.getHeight()},a="horizontal"===n.orient?1:0,l=[["left","right","width"],["top","bottom","height"]],c=l[a],h=[0,null,10],u={},d=0;d<3;d++)u[l[1-a][d]]=h[d],u[c[d]]=2===d?i[0]:n[c[d]];var p=[["x","width",3],["y","height",0]][a],g=o(u,s,n.padding);return c[(g.margin[p[2]]||0)+g[p[0]]+.5*g[p[1]]<.5*s[p[1]]?0:1]},t.makeHighDownBatch=function(e,t){return n.each(e||[],function(e){null!=e.dataIndex&&(e.dataIndexInside=e.dataIndex,e.dataIndex=null),e.highlightKey="visualMap"+(t?t.componentIndex:"")}),e}},2634:function(e,t,i){var n=i(40628),o=n.each;function r(e,t){return e&&e.hasOwnProperty&&e.hasOwnProperty(t)}e.exports=function(e){var t=e&&e.visualMap;n.isArray(t)||(t=t?[t]:[]),o(t,function(e){if(e){r(e,"splitList")&&!r(e,"pieces")&&(e.pieces=e.splitList,delete e.splitList);var t=e.pieces;t&&n.isArray(t)&&o(t,function(e){n.isObject(e)&&(r(e,"start")&&!r(e,"min")&&(e.min=e.start),r(e,"end")&&!r(e,"max")&&(e.max=e.end))})}})}},48072:function(e,t,i){i(39447).registerSubTypeDefaulter("visualMap",function(e){return e.categories||(e.pieces?e.pieces.length>0:e.splitNumber>0)&&!e.calculable?"piecewise":"continuous"})},36534:function(e,t,i){var n=i(90650),o=i(40628),r=i(8048),s=i(11630),a=n.PRIORITY.VISUAL.COMPONENT;function l(e,t,i,n){for(var o=t.targetVisuals[n],r=s.prepareVisualTypes(o),a={color:e.getData().getVisual("color")},l=0,c=r.length;l<c;l++){var h=r[l],u=o["opacity"===h?"__alphaForOpacity":h];u&&u.applyVisual(i,d,p)}return a.color;function d(e){return a[e]}function p(e,t){a[e]=t}}n.registerVisual(a,{createOnAllSeries:!0,reset:function(e,t){var i=[];return t.eachComponent("visualMap",function(t){var n=e.pipelineContext;!t.isTargetSeries(e)||n&&n.large||i.push(r.incrementalApplyVisual(t.stateList,t.targetVisuals,o.bind(t.getValueState,t),t.getDataDimension(e.getData())))}),i}}),n.registerVisual(a,{createOnAllSeries:!0,reset:function(e,t){var i=e.getData(),n=[];t.eachComponent("visualMap",function(t){if(t.isTargetSeries(e)){var r=t.getVisualMeta(o.bind(l,null,e,t))||{stops:[],outerColors:[]},s=t.getDataDimension(i),a=i.getDimensionInfo(s);null!=a&&(r.dimension=a.index,n.push(r))}}),e.getData().setVisual("visualMeta",n)}})},11085:function(e,t,i){i(90650).registerAction({type:"selectDataRange",event:"dataRangeSelected",update:"update"},function(e,t){t.eachComponent({mainType:"visualMap",query:e},function(t){t.setSelected(e.selected)})})},66053:function(e,t,i){var n=i(90650),o=i(2634);i(48072),i(36534),i(5802),i(26565),i(11085),n.registerPreprocessor(o)},10527:function(e,t,i){var n=i(90650),o=i(2634);i(48072),i(36534),i(93774),i(2031),i(11085),n.registerPreprocessor(o)},59963:function(e,t){var i;"undefined"!=typeof window?i=window.__DEV__:"undefined"!=typeof global&&(i=global.__DEV__),void 0===i&&(i=!0),t.__DEV__=i},35556:function(e,t,i){var n=i(40628),o=n.each,r=n.map,s=i(14785),a=s.linearMap,l=s.getPixelPrecision,c=s.round,h=i(74426),u=h.createAxisTicks,d=h.createAxisLabels,p=h.calculateCategoryInterval,g=[0,1],f=function(e,t,i){this.dim=e,this.scale=t,this._extent=i||[0,0],this.inverse=!1,this.onBand=!1};function m(e,t){var i=(e[1]-e[0])/t/2;e[0]+=i,e[1]-=i}f.prototype={constructor:f,contain:function(e){var t=this._extent,i=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]);return e>=i&&e<=n},containData:function(e){return this.scale.contain(e)},getExtent:function(){return this._extent.slice()},getPixelPrecision:function(e){return l(e||this.scale.getExtent(),this._extent)},setExtent:function(e,t){var i=this._extent;i[0]=e,i[1]=t},dataToCoord:function(e,t){var i=this._extent,n=this.scale;return e=n.normalize(e),this.onBand&&"ordinal"===n.type&&m(i=i.slice(),n.count()),a(e,g,i,t)},coordToData:function(e,t){var i=this._extent,n=this.scale;this.onBand&&"ordinal"===n.type&&m(i=i.slice(),n.count());var o=a(e,i,g,t);return this.scale.scale(o)},pointToData:function(e,t){},getTicksCoords:function(e){var t=(e=e||{}).tickModel||this.getTickModel(),i=u(this,t),n=r(i.ticks,function(e){return{coord:this.dataToCoord(e),tickValue:e}},this);return function(e,t,i,n){var r=t.length;if(e.onBand&&!i&&r){var s,a=e.getExtent();if(1===r)t[0].coord=a[0],s=t[1]={coord:a[0]};else{var l=(t[r-1].coord-t[0].coord)/(t[r-1].tickValue-t[0].tickValue);o(t,function(e){e.coord-=l/2});var h=e.scale.getExtent();t.push(s={coord:t[r-1].coord+l*(1+h[1]-t[r-1].tickValue)})}var u=a[0]>a[1];d(t[0].coord,a[0])&&(n?t[0].coord=a[0]:t.shift()),n&&d(a[0],t[0].coord)&&t.unshift({coord:a[0]}),d(a[1],s.coord)&&(n?s.coord=a[1]:t.pop()),n&&d(s.coord,a[1])&&t.push({coord:a[1]})}function d(e,t){return e=c(e),t=c(t),u?e>t:e<t}}(this,n,t.get("alignWithLabel"),e.clamp),n},getMinorTicksCoords:function(){if("ordinal"===this.scale.type)return[];var e=this.model.getModel("minorTick").get("splitNumber");e>0&&e<100||(e=5);var t=this.scale.getMinorTicks(e);return r(t,function(e){return r(e,function(e){return{coord:this.dataToCoord(e),tickValue:e}},this)},this)},getViewLabels:function(){return d(this).labels},getLabelModel:function(){return this.model.getModel("axisLabel")},getTickModel:function(){return this.model.getModel("axisTick")},getBandWidth:function(){var e=this._extent,t=this.scale.getExtent(),i=t[1]-t[0]+(this.onBand?1:0);0===i&&(i=1);var n=Math.abs(e[1]-e[0]);return Math.abs(n)/i},isHorizontal:null,getRotate:null,calculateCategoryInterval:function(){return p(this)}},e.exports=f},47843:function(e,t,i){var n=i(40628),o=i(98221),r=i(3481),s=i(87021),a=i(19358),l=o.applyTransform;function c(){a.call(this)}function h(e){this.name=e,a.call(this),this._roamTransformable=new c,this._rawTransformable=new c}function u(e,t,i,n){var o=i.seriesModel,r=o?o.coordinateSystem:null;return r===this?r[e](n):null}n.mixin(c,a),h.prototype={constructor:h,type:"view",dimensions:["x","y"],setBoundingRect:function(e,t,i,n){return this._rect=new s(e,t,i,n),this._rect},getBoundingRect:function(){return this._rect},setViewRect:function(e,t,i,n){this.transformTo(e,t,i,n),this._viewRect=new s(e,t,i,n)},transformTo:function(e,t,i,n){var o=this.getBoundingRect(),r=this._rawTransformable;r.transform=o.calculateTransform(new s(e,t,i,n)),r.decomposeTransform(),this._updateTransform()},setCenter:function(e){!e||(this._center=e,this._updateCenterAndZoom())},setZoom:function(e){e=e||1;var t=this.zoomLimit;t&&(null!=t.max&&(e=Math.min(t.max,e)),null!=t.min&&(e=Math.max(t.min,e))),this._zoom=e,this._updateCenterAndZoom()},getDefaultCenter:function(){var e=this.getBoundingRect();return[e.x+e.width/2,e.y+e.height/2]},getCenter:function(){return this._center||this.getDefaultCenter()},getZoom:function(){return this._zoom||1},getRoamTransform:function(){return this._roamTransformable.getLocalTransform()},_updateCenterAndZoom:function(){var e=this._rawTransformable.getLocalTransform(),t=this._roamTransformable,i=this.getDefaultCenter(),n=this.getCenter(),r=this.getZoom();n=o.applyTransform([],n,e),i=o.applyTransform([],i,e),t.origin=n,t.position=[i[0]-n[0],i[1]-n[1]],t.scale=[r,r],this._updateTransform()},_updateTransform:function(){var e=this._roamTransformable,t=this._rawTransformable;t.parent=e,e.updateTransform(),t.updateTransform(),r.copy(this.transform||(this.transform=[]),t.transform||r.create()),this._rawTransform=t.getLocalTransform(),this.invTransform=this.invTransform||[],r.invert(this.invTransform,this.transform),this.decomposeTransform()},getTransformInfo:function(){var e=this._roamTransformable.transform,t=this._rawTransformable;return{roamTransform:e?n.slice(e):r.create(),rawScale:n.slice(t.scale),rawPosition:n.slice(t.position)}},getViewRect:function(){return this._viewRect},getViewRectAfterRoam:function(){var e=this.getBoundingRect().clone();return e.applyTransform(this.transform),e},dataToPoint:function(e,t,i){var n=t?this._rawTransform:this.transform;return i=i||[],n?l(i,e,n):o.copy(i,e)},pointToData:function(e){var t=this.invTransform;return t?l([],e,t):[e[0],e[1]]},convertToPixel:n.curry(u,"dataToPoint"),convertFromPixel:n.curry(u,"pointToData"),containPoint:function(e){return this.getViewRectAfterRoam().contain(e[0],e[1])}},n.mixin(h,a),e.exports=h},19220:function(e,t,i){var n=i(40628),o={show:!0,zlevel:0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#333",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,lineStyle:{color:["#ccc"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}}},r={};r.categoryAxis=n.merge({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},o),r.valueAxis=n.merge({boundaryGap:[0,0],splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#eee",width:1}}},o),r.timeAxis=n.defaults({scale:!0,min:"dataMin",max:"dataMax"},r.valueAxis),r.logAxis=n.defaults({scale:!0,logBase:10},r.valueAxis),e.exports=r},63635:function(e,t,i){i(59963);var n=i(40628),o=i(93156),r=i(95543),s=i(48512),a=i(14785),l=i(22154),c=l.prepareLayoutBarSeries,h=l.makeColumnLayout,u=l.retrieveColumnLayout,d=i(87021);function p(e,t){var i,o,r,s=e.type,l=t.getMin(),d=t.getMax(),p=e.getExtent();"ordinal"===s?i=t.getCategories().length:(o=t.get("boundaryGap"),n.isArray(o)||(o=[o||0,o||0]),"boolean"==typeof o[0]&&(o=[0,0]),o[0]=a.parsePercent(o[0],1),o[1]=a.parsePercent(o[1],1),r=p[1]-p[0]||Math.abs(p[0])),"dataMin"===l?l=p[0]:"function"==typeof l&&(l=l({min:p[0],max:p[1]})),"dataMax"===d?d=p[1]:"function"==typeof d&&(d=d({min:p[0],max:p[1]}));var g=null!=l,f=null!=d;null==l&&(l="ordinal"===s?i?0:NaN:p[0]-o[0]*r),null==d&&(d="ordinal"===s?i?i-1:NaN:p[1]+o[1]*r),(null==l||!isFinite(l))&&(l=NaN),(null==d||!isFinite(d))&&(d=NaN),e.setBlank(n.eqNaN(l)||n.eqNaN(d)||"ordinal"===s&&!e.getOrdinalMeta().categories.length),t.getNeedCrossZero()&&(l>0&&d>0&&!g&&(l=0),l<0&&d<0&&!f&&(d=0));var m=t.ecModel;if(m&&"time"===s){var _,v=c("bar",m);if(n.each(v,function(e){_|=e.getBaseAxis()===t.axis}),_){var y=h(v),b=function(e,t,i,o){var r=i.axis.getExtent(),s=r[1]-r[0],a=u(o,i.axis);if(void 0===a)return{min:e,max:t};var l=1/0;n.each(a,function(e){l=Math.min(e.offset,l)});var c=-1/0;n.each(a,function(e){c=Math.max(e.offset+e.width,c)}),l=Math.abs(l),c=Math.abs(c);var h=l+c,d=t-e,p=d/(1-(l+c)/s)-d;return{min:e-=p*(l/h),max:t+=p*(c/h)}}(l,d,t,y);l=b.min,d=b.max}}return{extent:[l,d],fixMin:g,fixMax:f}}function g(e){var t,i=e.getLabelModel().get("formatter"),n="category"===e.type?e.scale.getExtent()[0]:null;return"string"==typeof i?(t=i,i=function(i){return i=e.scale.getLabel(i),t.replace("{value}",null!=i?i:"")}):"function"==typeof i?function(t,o){return null!=n&&(o=t-n),i(f(e,t),o)}:function(t){return e.scale.getLabel(t)}}function f(e,t){return"category"===e.type?e.scale.getLabel(t):t}function m(e,t){var i=t*Math.PI/180,n=e.plain(),o=n.width,r=n.height,s=o*Math.abs(Math.cos(i))+Math.abs(r*Math.sin(i)),a=o*Math.abs(Math.sin(i))+Math.abs(r*Math.cos(i));return new d(n.x,n.y,s,a)}function _(e){var t=e.get("interval");return null==t?"auto":t}i(39020),i(56139),t.getScaleExtent=p,t.niceScaleExtent=function(e,t){var i=p(e,t),n=i.extent,o=t.get("splitNumber");"log"===e.type&&(e.base=t.get("logBase"));var r=e.type;e.setExtent(n[0],n[1]),e.niceExtent({splitNumber:o,fixMin:i.fixMin,fixMax:i.fixMax,minInterval:"interval"===r||"time"===r?t.get("minInterval"):null,maxInterval:"interval"===r||"time"===r?t.get("maxInterval"):null});var s=t.get("interval");null!=s&&e.setInterval&&e.setInterval(s)},t.createScaleByModel=function(e,t){if(t=t||e.get("type"))switch(t){case"category":return new o(e.getOrdinalMeta?e.getOrdinalMeta():e.getCategories(),[1/0,-1/0]);case"value":return new r;default:return(s.getClass(t)||r).create(e)}},t.ifAxisCrossZero=function(e){var t=e.scale.getExtent(),i=t[0],n=t[1];return!(i>0&&n>0||i<0&&n<0)},t.makeLabelFormatter=g,t.getAxisRawValue=f,t.estimateLabelUnionRect=function(e){var t=e.scale;if(e.model.get("axisLabel.show")&&!t.isBlank()){var i,n,o="category"===e.type,r=t.getExtent();n=o?t.count():(i=t.getTicks()).length;var s,a=e.getLabelModel(),l=g(e),c=1;n>40&&(c=Math.ceil(n/40));for(var h=0;h<n;h+=c){var u=l(i?i[h]:r[0]+h),d=m(a.getTextRect(u),a.get("rotate")||0);s?s.union(d):s=d}return s}},t.getOptionCategoryInterval=_,t.shouldShowAllLabels=function(e){return"category"===e.type&&0===_(e.getLabelModel())}},92385:function(e,t,i){var n=i(40628);e.exports={getMin:function(e){var t=this.option,i=e||null==t.rangeStart?t.min:t.rangeStart;return this.axis&&null!=i&&"dataMin"!==i&&"function"!=typeof i&&!n.eqNaN(i)&&(i=this.axis.scale.parse(i)),i},getMax:function(e){var t=this.option,i=e||null==t.rangeEnd?t.max:t.rangeEnd;return this.axis&&null!=i&&"dataMax"!==i&&"function"!=typeof i&&!n.eqNaN(i)&&(i=this.axis.scale.parse(i)),i},getNeedCrossZero:function(){var e=this.option;return null==e.rangeStart&&null==e.rangeEnd&&!e.scale},getCoordSysModel:n.noop,setRange:function(e,t){this.option.rangeStart=e,this.option.rangeEnd=t},resetRange:function(){this.option.rangeStart=this.option.rangeEnd=null}}},74499:function(e,t,i){var n=i(40628),o=i(19220),r=i(39447),s=i(40634),a=s.getLayoutParams,l=s.mergeLayoutParam,c=i(59567),h=["value","category","time","log"];e.exports=function(e,t,i,s){n.each(h,function(r){t.extend({type:e+"Axis."+r,mergeDefaultAndTheme:function(t,o){var s=this.layoutMode,c=s?a(t):{},h=o.getTheme();n.merge(t,h.get(r+"Axis")),n.merge(t,this.getDefaultOption()),t.type=i(e,t),s&&l(t,c,s)},optionUpdated:function(){"category"===this.option.type&&(this.__ordinalMeta=c.createByAxisModel(this))},getCategories:function(e){var t=this.option;if("category"===t.type)return e?t.data:this.__ordinalMeta.categories},getOrdinalMeta:function(){return this.__ordinalMeta},defaultOption:n.mergeAll([{},o[r+"Axis"],s],!0)})}),r.registerSubTypeDefaulter(e+"Axis",n.curry(i,e))}},74426:function(e,t,i){var n=i(40628),o=i(71790),r=i(91266).makeInner,s=i(63635),a=s.makeLabelFormatter,l=s.getOptionCategoryInterval,c=s.shouldShowAllLabels,h=r();function u(e,t){var i,o,r=d(e,"labels"),s=l(t);return p(r,s)||(n.isFunction(s)?i=m(e,s):(o="auto"===s?function(e){var t=h(e).autoInterval;return null!=t?t:h(e).autoInterval=e.calculateCategoryInterval()}(e):s,i=f(e,o)),g(r,s,{labels:i,labelCategoryInterval:o}))}function d(e,t){return h(e)[t]||(h(e)[t]=[])}function p(e,t){for(var i=0;i<e.length;i++)if(e[i].key===t)return e[i].value}function g(e,t,i){return e.push({key:t,value:i}),i}function f(e,t,i){var n=a(e),o=e.scale,r=o.getExtent(),s=e.getLabelModel(),l=[],h=Math.max((t||0)+1,1),u=r[0],d=o.count();0!==u&&h>1&&d/h>2&&(u=Math.round(Math.ceil(u/h)*h));var p=c(e),g=s.get("showMinLabel")||p,f=s.get("showMaxLabel")||p;g&&u!==r[0]&&_(r[0]);for(var m=u;m<=r[1];m+=h)_(m);function _(e){l.push(i?e:{formattedLabel:n(e),rawLabel:o.getLabel(e),tickValue:e})}return f&&m-h!==r[1]&&_(r[1]),l}function m(e,t,i){var o=e.scale,r=a(e),s=[];return n.each(o.getTicks(),function(e){var n=o.getLabel(e);t(e,n)&&s.push(i?e:{formattedLabel:r(e),rawLabel:n,tickValue:e})}),s}t.createAxisLabels=function(e){return"category"===e.type?function(e){var t=e.getLabelModel(),i=u(e,t);return!t.get("show")||e.scale.isBlank()?{labels:[],labelCategoryInterval:i.labelCategoryInterval}:i}(e):function(e){var t=e.scale.getTicks(),i=a(e);return{labels:n.map(t,function(t,n){return{formattedLabel:i(t,n),rawLabel:e.scale.getLabel(t),tickValue:t}})}}(e)},t.createAxisTicks=function(e,t){return"category"===e.type?function(e,t){var i,o,r=d(e,"ticks"),s=l(t),a=p(r,s);if(a)return a;if((!t.get("show")||e.scale.isBlank())&&(i=[]),n.isFunction(s))i=m(e,s,!0);else if("auto"===s){var c=u(e,e.getLabelModel());o=c.labelCategoryInterval,i=n.map(c.labels,function(e){return e.tickValue})}else i=f(e,o=s,!0);return g(r,s,{ticks:i,tickCategoryInterval:o})}(e,t):{ticks:e.scale.getTicks()}},t.calculateCategoryInterval=function(e){var t=function(e){var t=e.getLabelModel();return{axisRotate:e.getRotate?e.getRotate():e.isHorizontal&&!e.isHorizontal()?90:0,labelRotate:t.get("rotate")||0,font:t.getFont()}}(e),i=a(e),n=(t.axisRotate-t.labelRotate)/180*Math.PI,r=e.scale,s=r.getExtent(),l=r.count();if(s[1]-s[0]<1)return 0;var c=1;l>40&&(c=Math.max(1,Math.floor(l/40)));for(var u=s[0],d=e.dataToCoord(u+1)-e.dataToCoord(u),p=Math.abs(d*Math.cos(n)),g=Math.abs(d*Math.sin(n)),f=0,m=0;u<=s[1];u+=c){var _,v=o.getBoundingRect(i(u),t.font,"center","top");_=1.3*v.height,f=Math.max(f,1.3*v.width,7),m=Math.max(m,_,7)}var y=f/p,b=m/g;isNaN(y)&&(y=1/0),isNaN(b)&&(b=1/0);var w=Math.max(0,Math.floor(Math.min(y,b))),A=h(e.model),x=e.getExtent(),T=A.lastAutoInterval,C=A.lastTickCount;return null!=T&&null!=C&&Math.abs(T-w)<=1&&Math.abs(C-l)<=1&&T>w&&A.axisExtend0===x[0]&&A.axisExtend1===x[1]?w=T:(A.lastTickCount=l,A.lastAutoInterval=w,A.axisExtend0=x[0],A.axisExtend1=x[1]),w}},18838:function(e,t,i){var n=i(40628),o=i(40634),r=i(14785),s=i(3387),a=864e5;function l(e,t,i){this._model=e}function c(e,t,i,n){var o=i.calendarModel,r=i.seriesModel,s=o?o.coordinateSystem:r?r.coordinateSystem:null;return s===this?s[e](n):null}l.prototype={constructor:l,type:"calendar",dimensions:["time","value"],getDimensionsInfo:function(){return[{name:"time",type:"time"},"value"]},getRangeInfo:function(){return this._rangeInfo},getModel:function(){return this._model},getRect:function(){return this._rect},getCellWidth:function(){return this._sw},getCellHeight:function(){return this._sh},getOrient:function(){return this._orient},getFirstDayOfWeek:function(){return this._firstDayOfWeek},getDateInfo:function(e){var t=(e=r.parseDate(e)).getFullYear(),i=e.getMonth()+1;i=i<10?"0"+i:i;var n=e.getDate();n=n<10?"0"+n:n;var o=e.getDay();return{y:t,m:i,d:n,day:o=Math.abs((o+7-this.getFirstDayOfWeek())%7),time:e.getTime(),formatedDate:t+"-"+i+"-"+n,date:e}},getNextNDay:function(e,t){return 0===(t=t||0)||(e=new Date(this.getDateInfo(e).time)).setDate(e.getDate()+t),this.getDateInfo(e)},update:function(e,t){this._firstDayOfWeek=+this._model.getModel("dayLabel").get("firstDay"),this._orient=this._model.get("orient"),this._lineWidth=this._model.getModel("itemStyle").getItemStyle().lineWidth||0,this._rangeInfo=this._getRangeInfo(this._initRangeOption());var i=this._rangeInfo.weeks||1,r=["width","height"],s=this._model.get("cellSize").slice(),a=this._model.getBoxLayoutParams(),l="horizontal"===this._orient?[i,7]:[7,i];n.each([0,1],function(e){u(s,e)&&(a[r[e]]=s[e]*l[e])});var c={width:t.getWidth(),height:t.getHeight()},h=this._rect=o.getLayoutRect(a,c);function u(e,t){return null!=e[t]&&"auto"!==e[t]}n.each([0,1],function(e){u(s,e)||(s[e]=h[r[e]]/l[e])}),this._sw=s[0],this._sh=s[1]},dataToPoint:function(e,t){n.isArray(e)&&(e=e[0]),null==t&&(t=!0);var i=this.getDateInfo(e),o=this._rangeInfo;if(t&&!(i.time>=o.start.time&&i.time<o.end.time+a))return[NaN,NaN];var r=i.day,s=this._getRangeInfo([o.start.time,i.formatedDate]).nthWeek;return"vertical"===this._orient?[this._rect.x+r*this._sw+this._sw/2,this._rect.y+s*this._sh+this._sh/2]:[this._rect.x+s*this._sw+this._sw/2,this._rect.y+r*this._sh+this._sh/2]},pointToData:function(e){var t=this.pointToDate(e);return t&&t.time},dataToRect:function(e,t){var i=this.dataToPoint(e,t);return{contentShape:{x:i[0]-(this._sw-this._lineWidth)/2,y:i[1]-(this._sh-this._lineWidth)/2,width:this._sw-this._lineWidth,height:this._sh-this._lineWidth},center:i,tl:[i[0]-this._sw/2,i[1]-this._sh/2],tr:[i[0]+this._sw/2,i[1]-this._sh/2],br:[i[0]+this._sw/2,i[1]+this._sh/2],bl:[i[0]-this._sw/2,i[1]+this._sh/2]}},pointToDate:function(e){var t=Math.floor((e[0]-this._rect.x)/this._sw)+1,i=Math.floor((e[1]-this._rect.y)/this._sh)+1,n=this._rangeInfo.range;return"vertical"===this._orient?this._getDateByWeeksAndDay(i,t-1,n):this._getDateByWeeksAndDay(t,i-1,n)},convertToPixel:n.curry(c,"dataToPoint"),convertFromPixel:n.curry(c,"pointToData"),_initRangeOption:function(){var e=this._model.get("range"),t=e;if(n.isArray(t)&&1===t.length&&(t=t[0]),/^\d{4}$/.test(t)&&(e=[t+"-01-01",t+"-12-31"]),/^\d{4}[\/|-]\d{1,2}$/.test(t)){var i=this.getDateInfo(t),o=i.date;o.setMonth(o.getMonth()+1);var r=this.getNextNDay(o,-1);e=[i.formatedDate,r.formatedDate]}/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(t)&&(e=[t,t]);var s=this._getRangeInfo(e);return s.start.time>s.end.time&&e.reverse(),e},_getRangeInfo:function(e){var t;(e=[this.getDateInfo(e[0]),this.getDateInfo(e[1])])[0].time>e[1].time&&(t=!0,e.reverse());var i=Math.floor(e[1].time/a)-Math.floor(e[0].time/a)+1,n=new Date(e[0].time),o=n.getDate(),r=e[1].date.getDate();n.setDate(o+i-1);var s=n.getDate();if(s!==r)for(var l=n.getTime()-e[1].time>0?1:-1;(s=n.getDate())!==r&&(n.getTime()-e[1].time)*l>0;)i-=l,n.setDate(s-l);var c=Math.floor((i+e[0].day+6)/7),h=t?1-c:c-1;return t&&e.reverse(),{range:[e[0].formatedDate,e[1].formatedDate],start:e[0],end:e[1],allDay:i,weeks:c,nthWeek:h,fweek:e[0].day,lweek:e[1].day}},_getDateByWeeksAndDay:function(e,t,i){var n=this._getRangeInfo(i);if(e>n.weeks||0===e&&t<n.fweek||e===n.weeks&&t>n.lweek)return!1;var o=7*(e-1)-n.fweek+t,r=new Date(n.start.time);return r.setDate(n.start.d+o),this.getDateInfo(r)}},l.dimensions=l.prototype.dimensions,l.getDimensionsInfo=l.prototype.getDimensionsInfo,l.create=function(e,t){var i=[];return e.eachComponent("calendar",function(n){var o=new l(n,e,t);i.push(o),n.coordinateSystem=o}),e.eachSeries(function(e){"calendar"===e.get("coordinateSystem")&&(e.coordinateSystem=i[e.get("calendarIndex")||0])}),i},s.register("calendar",l),e.exports=l},96440:function(e,t,i){var n=i(40628),o=i(39447),r=i(40634),s=r.getLayoutParams,a=r.sizeCalculable,l=r.mergeLayoutParam,c=o.extend({type:"calendar",coordinateSystem:null,defaultOption:{zlevel:0,z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:!0,lineStyle:{color:"#000",width:1,type:"solid"}},itemStyle:{color:"#fff",borderWidth:1,borderColor:"#ccc"},dayLabel:{show:!0,firstDay:0,position:"start",margin:"50%",nameMap:"en",color:"#000"},monthLabel:{show:!0,position:"start",margin:5,align:"center",nameMap:"en",formatter:null,color:"#000"},yearLabel:{show:!0,position:null,margin:30,formatter:null,color:"#ccc",fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}},init:function(e,t,i,n){var o=s(e);c.superApply(this,"init",arguments),h(e,o)},mergeOption:function(e,t){c.superApply(this,"mergeOption",arguments),h(this.option,e)}});function h(e,t){var i=e.cellSize;n.isArray(i)?1===i.length&&(i[1]=i[0]):i=e.cellSize=[i,i];var o=n.map([0,1],function(e){return a(t,e)&&(i[e]="auto"),null!=i[e]&&"auto"!==i[e]});l(e,t,{type:"box",ignoreSize:o})}e.exports=c},27119:function(e){e.exports=function(e){var t=e.getRect(),i=e.getRangeInfo();return{coordSys:{type:"calendar",x:t.x,y:t.y,width:t.width,height:t.height,cellWidth:e.getCellWidth(),cellHeight:e.getCellHeight(),rangeInfo:{start:i.start,end:i.end,weeks:i.weeks,dayCount:i.allDay}},api:{coord:function(t,i){return e.dataToPoint(t,i)}}}}},53966:function(e,t,i){var n=i(40628),o=i(35556),r=function(e,t,i,n,r){o.call(this,e,t,i),this.type=n||"value",this.position=r||"bottom"};r.prototype={constructor:r,index:0,getAxesOnZeroOf:null,model:null,isHorizontal:function(){var e=this.position;return"top"===e||"bottom"===e},getGlobalExtent:function(e){var t=this.getExtent();return t[0]=this.toGlobalCoord(t[0]),t[1]=this.toGlobalCoord(t[1]),e&&t[0]>t[1]&&t.reverse(),t},getOtherAxis:function(){this.grid.getOtherAxis()},pointToData:function(e,t){return this.coordToData(this.toLocalCoord(e["x"===this.dim?0:1]),t)},toLocalCoord:null,toGlobalCoord:null},n.inherits(r,o),e.exports=r},85743:function(e,t,i){var n=i(40628),o=i(39447),r=i(74499),s=i(92385),a=o.extend({type:"cartesian2dAxis",axis:null,init:function(){a.superApply(this,"init",arguments),this.resetRange()},mergeOption:function(){a.superApply(this,"mergeOption",arguments),this.resetRange()},restoreData:function(){a.superApply(this,"restoreData",arguments),this.resetRange()},getCoordSysModel:function(){return this.ecModel.queryComponents({mainType:"grid",index:this.option.gridIndex,id:this.option.gridId})[0]}});function l(e,t){return t.type||(t.data?"category":"value")}n.merge(a.prototype,s);var c={offset:0};r("x",a,l,c),r("y",a,l,c),e.exports=a},38540:function(e,t,i){var n=i(40628);function o(e){return this._axes[e]}var r=function(e){this._axes={},this._dimList=[],this.name=e||""};r.prototype={constructor:r,type:"cartesian",getAxis:function(e){return this._axes[e]},getAxes:function(){return n.map(this._dimList,o,this)},getAxesByScale:function(e){return e=e.toLowerCase(),n.filter(this.getAxes(),function(t){return t.scale.type===e})},addAxis:function(e){var t=e.dim;this._axes[t]=e,this._dimList.push(t)},dataToCoord:function(e){return this._dataCoordConvert(e,"dataToCoord")},coordToData:function(e){return this._dataCoordConvert(e,"coordToData")},_dataCoordConvert:function(e,t){for(var i=this._dimList,n=e instanceof Array?[]:{},o=0;o<i.length;o++){var r=i[o];n[r]=this._axes[r][t](e[r])}return n}},e.exports=r},31948:function(e,t,i){var n=i(40628),o=i(87021),r=i(38540);function s(e){r.call(this,e)}s.prototype={constructor:s,type:"cartesian2d",dimensions:["x","y"],getBaseAxis:function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},containPoint:function(e){var t=this.getAxis("x"),i=this.getAxis("y");return t.contain(t.toLocalCoord(e[0]))&&i.contain(i.toLocalCoord(e[1]))},containData:function(e){return this.getAxis("x").containData(e[0])&&this.getAxis("y").containData(e[1])},dataToPoint:function(e,t,i){var n=this.getAxis("x"),o=this.getAxis("y");return(i=i||[])[0]=n.toGlobalCoord(n.dataToCoord(e[0])),i[1]=o.toGlobalCoord(o.dataToCoord(e[1])),i},clampData:function(e,t){var i=this.getAxis("x").scale,n=this.getAxis("y").scale,o=i.getExtent(),r=n.getExtent(),s=i.parse(e[0]),a=n.parse(e[1]);return(t=t||[])[0]=Math.min(Math.max(Math.min(o[0],o[1]),s),Math.max(o[0],o[1])),t[1]=Math.min(Math.max(Math.min(r[0],r[1]),a),Math.max(r[0],r[1])),t},pointToData:function(e,t){var i=this.getAxis("x"),n=this.getAxis("y");return(t=t||[])[0]=i.coordToData(i.toLocalCoord(e[0])),t[1]=n.coordToData(n.toLocalCoord(e[1])),t},getOtherAxis:function(e){return this.getAxis("x"===e.dim?"y":"x")},getArea:function(){var e=this.getAxis("x").getGlobalExtent(),t=this.getAxis("y").getGlobalExtent(),i=Math.min(e[0],e[1]),n=Math.min(t[0],t[1]),r=Math.max(e[0],e[1])-i,s=Math.max(t[0],t[1])-n;return new o(i,n,r,s)}},n.inherits(s,r),e.exports=s},4810:function(e,t,i){i(59963);var n=i(40628),o=n.isObject,r=n.each,s=n.map,a=n.indexOf,l=i(40634).getLayoutRect,c=i(63635),h=c.createScaleByModel,u=c.ifAxisCrossZero,d=c.niceScaleExtent,p=c.estimateLabelUnionRect,g=i(31948),f=i(53966),m=i(3387),_=i(50143).getStackedDimension;function v(e,t,i){return e.getCoordSysModel()===t}function y(e,t,i){this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this._initCartesian(e,t,i),this.model=e}i(61465);var b=y.prototype;function w(e,t,i,n){i.getAxesOnZeroOf=function(){return o?[o]:[]};var o,r=e[t],s=i.model,a=s.get("axisLine.onZero"),l=s.get("axisLine.onZeroAxisIndex");if(a){if(null!=l)A(r[l])&&(o=r[l]);else for(var c in r)if(r.hasOwnProperty(c)&&A(r[c])&&!n[h(r[c])]){o=r[c];break}o&&(n[h(o)]=!0)}function h(e){return e.dim+"_"+e.index}}function A(e){return e&&"category"!==e.type&&"time"!==e.type&&u(e)}b.type="grid",b.axisPointerEnabled=!0,b.getRect=function(){return this._rect},b.update=function(e,t){var i=this._axesMap;this._updateScale(e,this.model),r(i.x,function(e){d(e.scale,e.model)}),r(i.y,function(e){d(e.scale,e.model)});var n={};r(i.x,function(e){w(i,"y",e,n)}),r(i.y,function(e){w(i,"x",e,n)}),this.resize(this.model,t)},b.resize=function(e,t,i){var n=l(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()});this._rect=n;var o=this._axesList;function s(){r(o,function(e){var t=e.isHorizontal(),i=t?[0,n.width]:[0,n.height],o=e.inverse?1:0;e.setExtent(i[o],i[1-o]),function(e,t){var i=e.getExtent(),n=i[0]+i[1];e.toGlobalCoord="x"===e.dim?function(e){return e+t}:function(e){return n-e+t},e.toLocalCoord="x"===e.dim?function(e){return e-t}:function(e){return n-e+t}}(e,t?n.x:n.y)})}s(),!i&&e.get("containLabel")&&(r(o,function(e){if(!e.model.get("axisLabel.inside")){var t=p(e);if(t){var i=e.isHorizontal()?"height":"width",o=e.model.get("axisLabel.margin");n[i]-=t[i]+o,"top"===e.position?n.y+=t.height+o:"left"===e.position&&(n.x+=t.width+o)}}}),s())},b.getAxis=function(e,t){var i=this._axesMap[e];if(null!=i){if(null==t)for(var n in i)if(i.hasOwnProperty(n))return i[n];return i[t]}},b.getAxes=function(){return this._axesList.slice()},b.getCartesian=function(e,t){if(null!=e&&null!=t)return this._coordsMap["x"+e+"y"+t];o(e)&&(t=e.yAxisIndex,e=e.xAxisIndex);for(var i=0,n=this._coordsList;i<n.length;i++)if(n[i].getAxis("x").index===e||n[i].getAxis("y").index===t)return n[i]},b.getCartesians=function(){return this._coordsList.slice()},b.convertToPixel=function(e,t,i){var n=this._findConvertTarget(e,t);return n.cartesian?n.cartesian.dataToPoint(i):n.axis?n.axis.toGlobalCoord(n.axis.dataToCoord(i)):null},b.convertFromPixel=function(e,t,i){var n=this._findConvertTarget(e,t);return n.cartesian?n.cartesian.pointToData(i):n.axis?n.axis.coordToData(n.axis.toLocalCoord(i)):null},b._findConvertTarget=function(e,t){var i,n,o=t.seriesModel,r=t.xAxisModel||o&&o.getReferringComponents("xAxis")[0],s=t.yAxisModel||o&&o.getReferringComponents("yAxis")[0],l=t.gridModel;return o?a(this._coordsList,i=o.coordinateSystem)<0&&(i=null):r&&s?i=this.getCartesian(r.componentIndex,s.componentIndex):r?n=this.getAxis("x",r.componentIndex):s?n=this.getAxis("y",s.componentIndex):l&&l.coordinateSystem===this&&(i=this._coordsList[0]),{cartesian:i,axis:n}},b.containPoint=function(e){var t=this._coordsList[0];if(t)return t.containPoint(e)},b._initCartesian=function(e,t,i){var n={left:!1,right:!1,top:!1,bottom:!1},o={x:{},y:{}},s={x:0,y:0};if(t.eachComponent("xAxis",a("x"),this),t.eachComponent("yAxis",a("y"),this),!s.x||!s.y)return this._axesMap={},void(this._axesList=[]);function a(t){return function(i,r){if(v(i,e)){var a=i.get("position");"x"===t?"top"!==a&&"bottom"!==a&&(a=n.bottom?"top":"bottom"):"left"!==a&&"right"!==a&&(a=n.left?"right":"left"),n[a]=!0;var l=new f(t,h(i),[0,0],i.get("type"),a);l.onBand="category"===l.type&&i.get("boundaryGap"),l.inverse=i.get("inverse"),i.axis=l,l.model=i,l.grid=this,l.index=r,this._axesList.push(l),o[t][r]=l,s[t]++}}}this._axesMap=o,r(o.x,function(t,i){r(o.y,function(n,o){var r="x"+i+"y"+o,s=new g(r);s.grid=this,s.model=e,this._coordsMap[r]=s,this._coordsList.push(s),s.addAxis(t),s.addAxis(n)},this)},this)},b._updateScale=function(e,t){function i(e,t,i){r(e.mapDimension(t.dim,!0),function(i){t.scale.unionExtentFromData(e,_(e,i))})}r(this._axesList,function(e){e.scale.setExtent(1/0,-1/0)}),e.eachSeries(function(e){if(C(e)){var n=T(e),o=n[0],r=n[1];if(!v(o,t)||!v(r,t))return;var s=this.getCartesian(o.componentIndex,r.componentIndex),a=e.getData(),l=s.getAxis("x"),c=s.getAxis("y");"list"===a.type&&(i(a,l),i(a,c))}},this)},b.getTooltipAxes=function(e){var t=[],i=[];return r(this.getCartesians(),function(n){var o=null!=e&&"auto"!==e?n.getAxis(e):n.getBaseAxis(),r=n.getOtherAxis(o);a(t,o)<0&&t.push(o),a(i,r)<0&&i.push(r)}),{baseAxes:t,otherAxes:i}};var x=["xAxis","yAxis"];function T(e,t){return s(x,function(t){return e.getReferringComponents(t)[0]})}function C(e){return"cartesian2d"===e.get("coordinateSystem")}y.create=function(e,t){var i=[];return e.eachComponent("grid",function(n,o){var r=new y(n,e,t);r.name="grid_"+o,r.resize(n,t,!0),n.coordinateSystem=r,i.push(r)}),e.eachSeries(function(e){if(C(e)){var t=T(e),i=t[0],n=t[1],o=i.getCoordSysModel();e.coordinateSystem=o.coordinateSystem.getCartesian(i.componentIndex,n.componentIndex)}}),i},y.dimensions=y.prototype.dimensions=g.prototype.dimensions,m.register("cartesian2d",y),e.exports=y},61465:function(e,t,i){i(85743);var n=i(39447).extend({type:"grid",dependencies:["xAxis","yAxis"],layoutMode:"box",coordinateSystem:null,defaultOption:{show:!1,zlevel:0,z:0,left:"10%",top:60,right:"10%",bottom:60,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"}});e.exports=n},50754:function(e,t,i){var n=i(40628);t.layout=function(e,t,i){i=i||{};var o=e.coordinateSystem,r=t.axis,s={},a=r.getAxesOnZeroOf()[0],l=r.position,c=a?"onZero":l,h=r.dim,u=o.getRect(),d=[u.x,u.x+u.width,u.y,u.y+u.height],p={left:0,right:1,top:0,bottom:1,onZero:2},g=t.get("offset")||0,f="x"===h?[d[2]-g,d[3]+g]:[d[0]-g,d[1]+g];if(a){var m=a.toGlobalCoord(a.dataToCoord(0));f[p.onZero]=Math.max(Math.min(m,f[1]),f[0])}s.position=["y"===h?f[p[c]]:d[0],"x"===h?f[p[c]]:d[3]],s.rotation=Math.PI/2*("x"===h?0:1),s.labelDirection=s.tickDirection=s.nameDirection={top:-1,bottom:1,left:-1,right:1}[l],s.labelOffset=a?f[p[l]]-f[p.onZero]:0,t.get("axisTick.inside")&&(s.tickDirection=-s.tickDirection),n.retrieve(i.labelInside,t.get("axisLabel.inside"))&&(s.labelDirection=-s.labelDirection);var _=t.get("axisLabel.rotate");return s.labelRotate="top"===c?-_:_,s.z2=1,s}},88637:function(e,t,i){var n=i(40628);function o(e,t){return t=t||[0,0],n.map(["x","y"],function(i,n){var o=this.getAxis(i),r=t[n],s=e[n]/2;return"category"===o.type?o.getBandWidth():Math.abs(o.dataToCoord(r-s)-o.dataToCoord(r+s))},this)}e.exports=function(e){var t=e.grid.getRect();return{coordSys:{type:"cartesian2d",x:t.x,y:t.y,width:t.width,height:t.height},api:{coord:function(t){return e.dataToPoint(t)},size:n.bind(o,e)}}}},37226:function(e,t,i){var n=i(40628),o=i(87021),r=i(47843),s=i(40751);function a(e,t,i,n){r.call(this,e),this.map=t;var o=s.load(t,i);this._nameCoordMap=o.nameCoordMap,this._regionsMap=o.regionsMap,this._invertLongitute=null==n||n,this.regions=o.regions,this._rect=o.boundingRect}function l(e,t,i,n){var o=i.geoModel,r=i.seriesModel,s=o?o.coordinateSystem:r?r.coordinateSystem||(r.getReferringComponents("geo")[0]||{}).coordinateSystem:null;return s===this?s[e](n):null}a.prototype={constructor:a,type:"geo",dimensions:["lng","lat"],containCoord:function(e){for(var t=this.regions,i=0;i<t.length;i++)if(t[i].contain(e))return!0;return!1},transformTo:function(e,t,i,n){var r=this.getBoundingRect(),s=this._invertLongitute;r=r.clone(),s&&(r.y=-r.y-r.height);var a=this._rawTransformable;if(a.transform=r.calculateTransform(new o(e,t,i,n)),a.decomposeTransform(),s){var l=a.scale;l[1]=-l[1]}a.updateTransform(),this._updateTransform()},getRegion:function(e){return this._regionsMap.get(e)},getRegionByCoord:function(e){for(var t=this.regions,i=0;i<t.length;i++)if(t[i].contain(e))return t[i]},addGeoCoord:function(e,t){this._nameCoordMap.set(e,t)},getGeoCoord:function(e){return this._nameCoordMap.get(e)},getBoundingRect:function(){return this._rect},dataToPoint:function(e,t,i){if("string"==typeof e&&(e=this.getGeoCoord(e)),e)return r.prototype.dataToPoint.call(this,e,t,i)},convertToPixel:n.curry(l,"dataToPoint"),convertFromPixel:n.curry(l,"pointToData")},n.mixin(a,r),e.exports=a},31695:function(e,t,i){var n=i(40628),o=i(91266),r=i(39447),s=i(96948),a=i(66624),l=i(31545),c=r.extend({type:"geo",coordinateSystem:null,layoutMode:"box",init:function(e){r.prototype.init.apply(this,arguments),o.defaultEmphasis(e,"label",["show"])},optionUpdated:function(){var e=this.option,t=this;e.regions=l.getFilledRegions(e.regions,e.map,e.nameMap),this._optionModelMap=n.reduce(e.regions||[],function(e,i){return i.name&&e.set(i.name,new s(i,t)),e},n.createHashMap()),this.updateSelectedMap(e.regions)},defaultOption:{zlevel:0,z:0,show:!0,left:"center",top:"center",aspectScale:null,silent:!1,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",color:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},regions:[]},getRegionModel:function(e){return this._optionModelMap.get(e)||new s(null,this,this.ecModel)},getFormattedLabel:function(e,t){t=t||"normal";var i=this.getRegionModel(e).get(("normal"===t?"":t+".")+"label.formatter"),n={name:e};return"function"==typeof i?(n.status=t,i(n)):"string"==typeof i?i.replace("{a}",null!=e?e:""):void 0},setZoom:function(e){this.option.zoom=e},setCenter:function(e){this.option.center=e}});n.mixin(c,a),e.exports=c},62224:function(e,t,i){var n=i(87021),o=i(99110),r=i(98221),s=i(91995);function a(e,t,i){if(this.name=e,this.geometries=t,i)i=[i[0],i[1]];else{var n=this.getBoundingRect();i=[n.x+n.width/2,n.y+n.height/2]}this.center=i}a.prototype={constructor:a,properties:null,getBoundingRect:function(){var e=this._rect;if(e)return e;for(var t=Number.MAX_VALUE,i=[t,t],s=[-t,-t],a=[],l=[],c=this.geometries,h=0;h<c.length;h++)"polygon"===c[h].type&&(o.fromPoints(c[h].exterior,a,l),r.min(i,i,a),r.max(s,s,l));return 0===h&&(i[0]=i[1]=s[0]=s[1]=0),this._rect=new n(i[0],i[1],s[0]-i[0],s[1]-i[1])},contain:function(e){var t=this.getBoundingRect(),i=this.geometries;if(!t.contain(e[0],e[1]))return!1;e:for(var n=0,o=i.length;n<o;n++)if("polygon"===i[n].type){var r=i[n].interiors;if(s.contain(i[n].exterior,e[0],e[1])){for(var a=0;a<(r?r.length:0);a++)if(s.contain(r[a]))continue e;return!0}}return!1},transformTo:function(e,t,i,o){var s=this.getBoundingRect(),a=s.width/s.height;i?o||(o=i/a):i=a*o;for(var l=new n(e,t,i,o),c=s.calculateTransform(l),h=this.geometries,u=0;u<h.length;u++)if("polygon"===h[u].type){for(var d=h[u].exterior,p=h[u].interiors,g=0;g<d.length;g++)r.applyTransform(d[g],d[g],c);for(var f=0;f<(p?p.length:0);f++)for(g=0;g<p[f].length;g++)r.applyTransform(p[f][g],p[f][g],c)}(s=this._rect).copy(l),this.center=[s.x+s.width/2,s.y+s.height/2]},cloneShallow:function(e){null==e&&(e=this.name);var t=new a(e,this.geometries,this.center);return t._rect=this._rect,t.transformTo=null,t}},e.exports=a},30827:function(e){var t=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]];e.exports=function(e,i){"china"===e&&"\u53f0\u6e7e"===i.name&&i.geometries.push({type:"polygon",exterior:t[0]})}},33234:function(e){var t={Russia:[100,60],"United States":[-99,38],"United States of America":[-99,38]};e.exports=function(e,i){if("world"===e){var n=t[i.name];if(n){var o=i.center;o[0]=n[0],o[1]=n[1]}}}},70253:function(e,t,i){for(var n=i(40628),o=i(62224),r=[126,25],s=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]],a=0;a<s.length;a++)for(var l=0;l<s[a].length;l++)s[a][l][0]/=10.5,s[a][l][1]/=-14,s[a][l][0]+=r[0],s[a][l][1]+=r[1];e.exports=function(e,t){"china"===e&&t.push(new o("\u5357\u6d77\u8bf8\u5c9b",n.map(s,function(e){return{type:"polygon",exterior:e}}),r))}},80776:function(e){var t={"\u5357\u6d77\u8bf8\u5c9b":[32,80],"\u5e7f\u4e1c":[0,-10],"\u9999\u6e2f":[10,5],"\u6fb3\u95e8":[-10,10],"\u5929\u6d25":[5,5]};e.exports=function(e,i){if("china"===e){var n=t[i.name];if(n){var o=i.center;o[0]+=n[0]/10.5,o[1]+=-n[1]/14}}}},31545:function(e,t,i){i(59963);var n=i(90650),o=i(40628),r=i(37226),s=i(40634),a=i(14785),l=i(40751),c=i(60929);function h(e,t){var i=e.get("boundingCoords");if(null!=i){var n=i[0],o=i[1];isNaN(n[0])||isNaN(n[1])||isNaN(o[0])||isNaN(o[1])||this.setBoundingRect(n[0],n[1],o[0]-n[0],o[1]-n[1])}var r,l=this.getBoundingRect(),c=e.get("layoutCenter"),h=e.get("layoutSize"),u=t.getWidth(),d=t.getHeight(),p=l.width/l.height*this.aspectScale,g=!1;if(c&&h&&(c=[a.parsePercent(c[0],u),a.parsePercent(c[1],d)],h=a.parsePercent(h,Math.min(u,d)),!isNaN(c[0])&&!isNaN(c[1])&&!isNaN(h)&&(g=!0)),g){var f={};p>1?(f.width=h,f.height=h/p):(f.height=h,f.width=h*p),f.y=c[1]-f.height/2,f.x=c[0]-f.width/2}else(r=e.getBoxLayoutParams()).aspect=p,f=s.getLayoutRect(r,{width:u,height:d});this.setViewRect(f.x,f.y,f.width,f.height),this.setCenter(e.get("center")),this.setZoom(e.get("zoom"))}function u(e,t){o.each(t.get("geoCoord"),function(t,i){e.addGeoCoord(i,t)})}var d={dimensions:r.prototype.dimensions,create:function(e,t){var i=[];e.eachComponent("geo",function(e,n){var o=e.get("map"),s=e.get("aspectScale"),a=!0,l=c.retrieveMap(o);l&&l[0]&&"svg"===l[0].type?(null==s&&(s=1),a=!1):null==s&&(s=.75);var d=new r(o+n,o,e.get("nameMap"),a);d.aspectScale=s,d.zoomLimit=e.get("scaleLimit"),i.push(d),u(d,e),e.coordinateSystem=d,d.model=e,d.resize=h,d.resize(e,t)}),e.eachSeries(function(e){if("geo"===e.get("coordinateSystem")){var t=e.get("geoIndex")||0;e.coordinateSystem=i[t]}});var n={};return e.eachSeriesByType("map",function(e){if(!e.getHostGeoModel()){var t=e.getMapType();n[t]=n[t]||[],n[t].push(e)}}),o.each(n,function(e,n){var s=o.map(e,function(e){return e.get("nameMap")}),a=new r(n,n,o.mergeAll(s));a.zoomLimit=o.retrieve.apply(null,o.map(e,function(e){return e.get("scaleLimit")})),i.push(a),a.resize=h,a.aspectScale=e[0].get("aspectScale"),a.resize(e[0],t),o.each(e,function(e){e.coordinateSystem=a,u(a,e)})}),i},getFilledRegions:function(e,t,i){for(var n=(e||[]).slice(),r=o.createHashMap(),s=0;s<n.length;s++)r.set(n[s].name,n[s]);var a=l.load(t,i);return o.each(a.regions,function(e){var t=e.name;!r.get(t)&&n.push({name:t})}),n}};n.registerCoordinateSystem("geo",d),e.exports=d},94329:function(e,t,i){var n=i(40628).each,o=i(80119),r=i(91266).makeInner,s=i(70253),a=i(80776),l=i(33234),c=i(30827),h=r();function u(e){for(var t,i=0;i<e.length;i++){var n=e[i].getBoundingRect();(t=t||n.clone()).union(n)}return t}e.exports={load:function(e,t,i){var r=h(t).parsed;if(r)return r;var d,p=t.specialAreas||{},g=t.geoJSON;try{d=g?o(g,i):[]}catch(f){throw new Error("Invalid geoJson format\n"+f.message)}return s(e,d),n(d,function(t){var i=t.name;a(e,t),l(e,t),c(e,t);var n=p[i];n&&t.transformTo(n.left,n.top,n.width,n.height)}),h(t).parsed={regions:d,boundingRect:u(d)}}}},91665:function(e,t,i){var n=i(9641),o=n.parseSVG,r=n.makeViewBoxTransform,s=i(1805),a=i(87145),l=i(40628),c=l.assert,h=l.createHashMap,u=i(87021),d=(0,i(91266).makeInner)();function p(e,t){var i,n,l=e.svgXML;try{i=l&&o(l,{ignoreViewBox:!0,ignoreRootClip:!0})||{},c(null!=(n=i.root))}catch(m){throw new Error("Invalid svg format\n"+m.message)}var h=i.width,d=i.height,p=i.viewBoxRect;if(t||(t=null==h||null==d?n.getBoundingRect():new u(0,0,0,0),null!=h&&(t.width=h),null!=d&&(t.height=d)),p){var g=r(p,t.width,t.height),f=n;(n=new s).add(f),f.scale=g.scale,f.position=g.position}return n.setClipPath(new a({shape:t.plain()})),{root:n,boundingRect:t}}e.exports={load:function(e,t){var i=d(t).originRoot;if(i)return{root:i,boundingRect:d(t).boundingRect};var n=p(t);return d(t).originRoot=n.root,d(t).boundingRect=n.boundingRect,n},makeGraphic:function(e,t,i){var n=d(t),o=n.rootMap||(n.rootMap=h()),r=o.get(i);if(r)return r;var s=n.originRoot;return n.originRootHostKey?r=p(t,n.boundingRect).root:(n.originRootHostKey=i,r=s),o.set(i,r)},removeGraphic:function(e,t,i){var n=d(t),o=n.rootMap;o&&o.removeKey(i),i===n.originRootHostKey&&(n.originRootHostKey=null)}}},40751:function(e,t,i){i(59963);var n=i(40628),o=n.each,r=n.createHashMap,s=i(60929),a=i(94329),l=i(91665),c=i(87021),h={geoJSON:a,svg:l},u={load:function(e,t,i){var n,s=[],a=r(),l=r(),u=p(e);return o(u,function(r){var c=h[r.type].load(e,r,i);o(c.regions,function(e){var i=e.name;t&&t.hasOwnProperty(i)&&(e=e.cloneShallow(i=t[i])),s.push(e),a.set(i,e),l.set(i,e.center)});var u=c.boundingRect;u&&(n?n.union(u):n=u.clone())}),{regions:s,regionsMap:a,nameCoordMap:l,boundingRect:n||new c(0,0,0,0)}},makeGraphic:d("makeGraphic"),removeGraphic:d("removeGraphic")};function d(e){return function(t,i){var n=p(t),r=[];return o(n,function(n){var o=h[n.type][e];o&&r.push(o(t,n,i))}),r}}function p(e){return s.retrieveMap(e)||[]}e.exports=u},60929:function(e,t,i){i(59963);var n=i(40628),o=n.createHashMap,r=n.isString,s=n.isArray,a=n.each,l=i(9641).parseXML,c=o(),h={registerMap:function(e,t,i){var n;return s(t)?n=t:t.svg?n=[{type:"svg",source:t.svg,specialAreas:t.specialAreas}]:(t.geoJson&&!t.features&&(i=t.specialAreas,t=t.geoJson),n=[{type:"geoJSON",source:t,specialAreas:i}]),a(n,function(e){var t=e.type;"geoJson"===t&&(t=e.type="geoJSON"),(0,u[t])(e)}),c.set(e,n)},retrieveMap:function(e){return c.get(e)}},u={geoJSON:function(e){var t=e.source;e.geoJSON=r(t)?"undefined"!=typeof JSON&&JSON.parse?JSON.parse(t):new Function("return ("+t+");")():t},svg:function(e){e.svgXML=l(e.source)}};e.exports=h},80119:function(e,t,i){var n=i(40628),o=i(62224);function r(e,t,i){for(var n=[],o=t[0],r=t[1],s=0;s<e.length;s+=2){var a=e.charCodeAt(s)-64,l=e.charCodeAt(s+1)-64;a=a>>1^-(1&a),l=l>>1^-(1&l),o=a+=o,r=l+=r,n.push([a/i,l/i])}return n}e.exports=function(e,t){return function(e){if(!e.UTF8Encoding)return e;var t=e.UTF8Scale;null==t&&(t=1024);for(var i=e.features,n=0;n<i.length;n++)for(var o=i[n].geometry,s=o.coordinates,a=o.encodeOffsets,l=0;l<s.length;l++){var c=s[l];if("Polygon"===o.type)s[l]=r(c,a[l],t);else if("MultiPolygon"===o.type)for(var h=0;h<c.length;h++)c[h]=r(c[h],a[l][h],t)}e.UTF8Encoding=!1}(e),n.map(n.filter(e.features,function(e){return e.geometry&&e.properties&&e.geometry.coordinates.length>0}),function(e){var i=e.properties,r=e.geometry,s=r.coordinates,a=[];"Polygon"===r.type&&a.push({type:"polygon",exterior:s[0],interiors:s.slice(1)}),"MultiPolygon"===r.type&&n.each(s,function(e){e[0]&&a.push({type:"polygon",exterior:e[0],interiors:e.slice(1)})});var l=new o(i[t||"name"],a,i.cp);return l.properties=i,l})}},21202:function(e,t,i){var n=i(40628);function o(e,t){return t=t||[0,0],n.map([0,1],function(i){var n=t[i],o=e[i]/2,r=[],s=[];return r[i]=n-o,s[i]=n+o,r[1-i]=s[1-i]=t[1-i],Math.abs(this.dataToPoint(r)[i]-this.dataToPoint(s)[i])},this)}e.exports=function(e){var t=e.getBoundingRect();return{coordSys:{type:"geo",x:t.x,y:t.y,width:t.width,height:t.height,zoom:e.getZoom()},api:{coord:function(t){return e.dataToPoint(t)},size:n.bind(o,e)}}}},4806:function(e,t,i){var n=i(40628),o=i(39447),r=i(25632),s=i(74499),a=i(14785),l=i(92385),c=o.extend({type:"baseParallelAxis",axis:null,activeIntervals:[],getAreaSelectStyle:function(){return r([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]])(this.getModel("areaSelectStyle"))},setActiveIntervals:function(e){var t=this.activeIntervals=n.clone(e);if(t)for(var i=t.length-1;i>=0;i--)a.asc(t[i])},getActiveState:function(e){var t=this.activeIntervals;if(!t.length)return"normal";if(null==e||isNaN(e))return"inactive";if(1===t.length){var i=t[0];if(i[0]<=e&&e<=i[1])return"active"}else for(var n=0,o=t.length;n<o;n++)if(t[n][0]<=e&&e<=t[n][1])return"active";return"inactive"}});n.merge(c.prototype,l),s("parallel",c,function(e,t){return t.type||(t.data?"category":"value")},{type:"value",dim:null,areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:.3},realtime:!0,z:10}),e.exports=c},68887:function(e,t,i){var n=i(40628),o=i(3481),r=i(40634),s=i(63635),a=i(20142),l=i(62429),c=i(14785),h=i(57583),u=n.each,d=Math.min,p=Math.max,g=Math.floor,f=Math.ceil,m=c.round,_=Math.PI;function v(e,t,i){this._axesMap=n.createHashMap(),this._axesLayout={},this.dimensions=e.dimensions,this._model=e,this._init(e,t,i)}function y(e,t){return d(p(e,t[0]),t[1])}function b(e,t){var i=t.layoutLength/(t.axisCount-1);return{position:i*e,axisNameAvailableWidth:i,axisLabelShow:!0}}function w(e,t){var i,n,o=t.axisExpandWidth,r=t.axisCollapseWidth,s=t.winInnerIndices,a=r,l=!1;return e<s[0]?(i=e*r,n=r):e<=s[1]?(i=t.axisExpandWindow0Pos+e*o-t.axisExpandWindow[0],a=o,l=!0):(i=t.layoutLength-(t.axisCount-1-e)*r,n=r),{position:i,axisNameAvailableWidth:a,axisLabelShow:l,nameTruncateMaxWidth:n}}v.prototype={type:"parallel",constructor:v,_init:function(e,t,i){var n=e.parallelAxisIndex;u(e.dimensions,function(e,i){var o=n[i],r=t.getComponent("parallelAxis",o),l=this._axesMap.set(e,new a(e,s.createScaleByModel(r),[0,0],r.get("type"),o));l.onBand="category"===l.type&&r.get("boundaryGap"),l.inverse=r.get("inverse"),r.axis=l,l.model=r,l.coordinateSystem=r.coordinateSystem=this},this)},update:function(e,t){this._updateAxesFromSeries(this._model,e)},containPoint:function(e){var t=this._makeLayoutInfo(),i=t.axisBase,n=t.layoutBase,o=t.pixelDimIndex,r=e[1-o],s=e[o];return r>=i&&r<=i+t.axisLength&&s>=n&&s<=n+t.layoutLength},getModel:function(){return this._model},_updateAxesFromSeries:function(e,t){t.eachSeries(function(i){if(e.contains(i,t)){var n=i.getData();u(this.dimensions,function(e){var t=this._axesMap.get(e);t.scale.unionExtentFromData(n,n.mapDimension(e)),s.niceScaleExtent(t.scale,t.model)},this)}},this)},resize:function(e,t){this._rect=r.getLayoutRect(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()}),this._layoutAxes()},getRect:function(){return this._rect},_makeLayoutInfo:function(){var e,t=this._model,i=this._rect,n=["x","y"],o=["width","height"],r=t.get("layout"),s="horizontal"===r?0:1,a=i[o[s]],l=[0,a],c=this.dimensions.length,h=y(t.get("axisExpandWidth"),l),u=y(t.get("axisExpandCount")||0,[0,c]),d=t.get("axisExpandable")&&c>3&&c>u&&u>1&&h>0&&a>0,p=t.get("axisExpandWindow");p?(e=y(p[1]-p[0],l),p[1]=p[0]+e):(e=y(h*(u-1),l),(p=[h*(t.get("axisExpandCenter")||g(c/2))-e/2])[1]=p[0]+e);var _=(a-e)/(c-u);_<3&&(_=0);var v=[g(m(p[0]/h,1))+1,f(m(p[1]/h,1))-1];return{layout:r,pixelDimIndex:s,layoutBase:i[n[s]],layoutLength:a,axisBase:i[n[1-s]],axisLength:i[o[1-s]],axisExpandable:d,axisExpandWidth:h,axisCollapseWidth:_,axisExpandWindow:p,axisCount:c,winInnerIndices:v,axisExpandWindow0Pos:_/h*p[0]}},_layoutAxes:function(){var e=this._rect,t=this._axesMap,i=this.dimensions,n=this._makeLayoutInfo(),r=n.layout;t.each(function(e){var t=[0,n.axisLength],i=e.inverse?1:0;e.setExtent(t[i],t[1-i])}),u(i,function(t,i){var s=(n.axisExpandable?w:b)(i,n),a={horizontal:{x:s.position,y:n.axisLength},vertical:{x:0,y:s.position}},l=[a[r].x+e.x,a[r].y+e.y],c={horizontal:_/2,vertical:0}[r],h=o.create();o.rotate(h,h,c),o.translate(h,h,l),this._axesLayout[t]={position:l,rotation:c,transform:h,axisNameAvailableWidth:s.axisNameAvailableWidth,axisLabelShow:s.axisLabelShow,nameTruncateMaxWidth:s.nameTruncateMaxWidth,tickDirection:1,labelDirection:1}},this)},getAxis:function(e){return this._axesMap.get(e)},dataToPoint:function(e,t){return this.axisCoordToPoint(this._axesMap.get(t).dataToCoord(e),t)},eachActiveState:function(e,t,i,o){null==i&&(i=0),null==o&&(o=e.count());var r=this._axesMap,s=this.dimensions,a=[],l=[];n.each(s,function(t){a.push(e.mapDimension(t)),l.push(r.get(t).model)});for(var c=this.hasAxisBrushed(),h=i;h<o;h++){var u;if(c){u="active";for(var d=e.getValues(a,h),p=0,g=s.length;p<g;p++)if("inactive"===l[p].getActiveState(d[p])){u="inactive";break}}else u="normal";t(u,h)}},hasAxisBrushed:function(){for(var e=this.dimensions,t=this._axesMap,i=!1,n=0,o=e.length;n<o;n++)"normal"!==t.get(e[n]).model.getActiveState()&&(i=!0);return i},axisCoordToPoint:function(e,t){return l.applyTransform([e,0],this._axesLayout[t].transform)},getAxisLayout:function(e){return n.clone(this._axesLayout[e])},getSlidedAxisExpandWindow:function(e){var t=this._makeLayoutInfo(),i=t.pixelDimIndex,n=t.axisExpandWindow.slice(),o=n[1]-n[0],r=[0,t.axisExpandWidth*(t.axisCount-1)];if(!this.containPoint(e))return{behavior:"none",axisExpandWindow:n};var s,a=e[i]-t.layoutBase-t.axisExpandWindow0Pos,l="slide",c=t.axisCollapseWidth,u=this._model.get("axisExpandSlideTriggerArea"),g=null!=u[0];return c?(g&&c&&a<o*u[0]?(l="jump",s=a-o*u[2]):g&&c&&a>o*(1-u[0])?(l="jump",s=a-o*(1-u[2])):(s=a-o*u[1])>=0&&(s=a-o*(1-u[1]))<=0&&(s=0),(s*=t.axisExpandWidth/c)?h(s,n,r,"all"):l="none"):((n=[p(0,r[1]*a/(o=n[1]-n[0])-o/2)])[1]=d(r[1],n[0]+o),n[0]=n[1]-o),{axisExpandWindow:n,behavior:l}}},e.exports=v},20142:function(e,t,i){var n=i(40628),o=i(35556),r=function(e,t,i,n,r){o.call(this,e,t,i),this.type=n||"value",this.axisIndex=r};r.prototype={constructor:r,model:null,isHorizontal:function(){return"horizontal"!==this.coordinateSystem.getModel().get("layout")}},n.inherits(r,o),e.exports=r},46375:function(e,t,i){var n=i(40628),o=i(39447);i(4806);var r=o.extend({type:"parallel",dependencies:["parallelAxis"],coordinateSystem:null,dimensions:null,parallelAxisIndex:null,layoutMode:"box",defaultOption:{zlevel:0,z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:!1,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-.15,.05,.4],axisExpandTriggerOn:"click",parallelAxisDefault:null},init:function(){o.prototype.init.apply(this,arguments),this.mergeOption({})},mergeOption:function(e){e&&n.merge(this.option,e,!0),this._initDimensions()},contains:function(e,t){var i=e.get("parallelIndex");return null!=i&&t.getComponent("parallel",i)===this},setAxisExpand:function(e){n.each(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth","axisExpandWindow"],function(t){e.hasOwnProperty(t)&&(this.option[t]=e[t])},this)},_initDimensions:function(){var e=this.dimensions=[],t=this.parallelAxisIndex=[],i=n.filter(this.dependentModels.parallelAxis,function(e){return(e.get("parallelIndex")||0)===this.componentIndex},this);n.each(i,function(i){e.push("dim"+i.get("dim")),t.push(i.componentIndex)})}});e.exports=r},82471:function(e,t,i){var n=i(68887);i(3387).register("parallel",{create:function(e,t){var i=[];return e.eachComponent("parallel",function(o,r){var s=new n(o,e,t);s.name="parallel_"+r,s.resize(o,t),o.coordinateSystem=s,s.model=o,i.push(s)}),e.eachSeries(function(t){if("parallel"===t.get("coordinateSystem")){var i=e.queryComponents({mainType:"parallel",index:t.get("parallelIndex"),id:t.get("parallelId")})[0];t.coordinateSystem=i.coordinateSystem}}),i}})},34003:function(e,t,i){var n=i(40628),o=i(91266);e.exports=function(e){(function(e){if(!e.parallel){var t=!1;n.each(e.series,function(e){e&&"parallel"===e.type&&(t=!0)}),t&&(e.parallel=[{}])}})(e),function(e){var t=o.normalizeToArray(e.parallelAxis);n.each(t,function(t){if(n.isObject(t)){var i=t.parallelIndex||0,r=o.normalizeToArray(e.parallel)[i];r&&r.parallelAxisDefault&&n.merge(t,r.parallelAxisDefault,!1)}})}(e)}},36359:function(e,t,i){var n=i(40628),o=i(71790),r=i(35556),s=(0,i(91266).makeInner)();function a(e,t){r.call(this,"angle",e,t=t||[0,360]),this.type="category"}a.prototype={constructor:a,pointToData:function(e,t){return this.polar.pointToData(e,t)["radius"===this.dim?0:1]},dataToAngle:r.prototype.dataToCoord,angleToData:r.prototype.coordToData,calculateCategoryInterval:function(){var e=this,t=e.getLabelModel(),i=e.scale,n=i.getExtent(),r=i.count();if(n[1]-n[0]<1)return 0;var a=n[0],l=e.dataToCoord(a+1)-e.dataToCoord(a),c=Math.abs(l),h=o.getBoundingRect(a,t.getFont(),"center","top"),u=Math.max(h.height,7)/c;isNaN(u)&&(u=1/0);var d=Math.max(0,Math.floor(u)),p=s(e.model),g=p.lastAutoInterval,f=p.lastTickCount;return null!=g&&null!=f&&Math.abs(g-d)<=1&&Math.abs(f-r)<=1&&g>d?d=g:(p.lastTickCount=r,p.lastAutoInterval=d),d}},n.inherits(a,r),e.exports=a},29528:function(e,t,i){var n=i(40628),o=i(39447),r=i(74499),s=i(92385),a=o.extend({type:"polarAxis",axis:null,getCoordSysModel:function(){return this.ecModel.queryComponents({mainType:"polar",index:this.option.polarIndex,id:this.option.polarId})[0]}});n.merge(a.prototype,s);function l(e,t){return t.type||(t.data?"category":"value")}r("angle",a,l,{startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:!1}}),r("radius",a,l,{splitNumber:5})},88231:function(e,t,i){var n=i(9979),o=i(36359),r=function(e){this.name=e||"",this.cx=0,this.cy=0,this._radiusAxis=new n,this._angleAxis=new o,this._radiusAxis.polar=this._angleAxis.polar=this};r.prototype={type:"polar",axisPointerEnabled:!0,constructor:r,dimensions:["radius","angle"],model:null,containPoint:function(e){var t=this.pointToCoord(e);return this._radiusAxis.contain(t[0])&&this._angleAxis.contain(t[1])},containData:function(e){return this._radiusAxis.containData(e[0])&&this._angleAxis.containData(e[1])},getAxis:function(e){return this["_"+e+"Axis"]},getAxes:function(){return[this._radiusAxis,this._angleAxis]},getAxesByScale:function(e){var t=[],i=this._angleAxis,n=this._radiusAxis;return i.scale.type===e&&t.push(i),n.scale.type===e&&t.push(n),t},getAngleAxis:function(){return this._angleAxis},getRadiusAxis:function(){return this._radiusAxis},getOtherAxis:function(e){var t=this._angleAxis;return e===t?this._radiusAxis:t},getBaseAxis:function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},getTooltipAxes:function(e){var t=null!=e&&"auto"!==e?this.getAxis(e):this.getBaseAxis();return{baseAxes:[t],otherAxes:[this.getOtherAxis(t)]}},dataToPoint:function(e,t){return this.coordToPoint([this._radiusAxis.dataToRadius(e[0],t),this._angleAxis.dataToAngle(e[1],t)])},pointToData:function(e,t){var i=this.pointToCoord(e);return[this._radiusAxis.radiusToData(i[0],t),this._angleAxis.angleToData(i[1],t)]},pointToCoord:function(e){var t=e[0]-this.cx,i=e[1]-this.cy,n=this.getAngleAxis(),o=n.getExtent(),r=Math.min(o[0],o[1]),s=Math.max(o[0],o[1]);n.inverse?r=s-360:s=r+360;var a=Math.sqrt(t*t+i*i);t/=a,i/=a;for(var l=Math.atan2(-i,t)/Math.PI*180,c=l<r?1:-1;l<r||l>s;)l+=360*c;return[a,l]},coordToPoint:function(e){var t=e[0],i=e[1]/180*Math.PI;return[Math.cos(i)*t+this.cx,-Math.sin(i)*t+this.cy]},getArea:function(){var e=this.getAngleAxis(),t=this.getRadiusAxis().getExtent().slice();t[0]>t[1]&&t.reverse();var i=e.getExtent(),n=Math.PI/180;return{cx:this.cx,cy:this.cy,r0:t[0],r:t[1],startAngle:-i[0]*n,endAngle:-i[1]*n,clockwise:e.inverse,contain:function(e,t){var i=e-this.cx,n=t-this.cy,o=i*i+n*n,r=this.r,s=this.r0;return o<=r*r&&o>=s*s}}}},e.exports=r},12524:function(e,t,i){var n=i(90650);i(29528);var o=n.extendComponentModel({type:"polar",dependencies:["polarAxis","angleAxis"],coordinateSystem:null,findAxisModel:function(e){var t;return this.ecModel.eachComponent(e,function(e){e.getCoordSysModel()===this&&(t=e)},this),t},defaultOption:{zlevel:0,z:0,center:["50%","50%"],radius:"80%"}});e.exports=o},9979:function(e,t,i){var n=i(40628),o=i(35556);function r(e,t){o.call(this,"radius",e,t),this.type="category"}r.prototype={constructor:r,pointToData:function(e,t){return this.polar.pointToData(e,t)["radius"===this.dim?0:1]},dataToRadius:o.prototype.dataToCoord,radiusToData:o.prototype.coordToData},n.inherits(r,o),e.exports=r},47743:function(e,t,i){i(59963);var n=i(40628),o=i(88231),r=i(14785).parsePercent,s=i(63635),a=s.createScaleByModel,l=s.niceScaleExtent,c=i(3387),h=i(50143).getStackedDimension;function u(e,t){var i=this,o=i.getAngleAxis(),r=i.getRadiusAxis();if(o.scale.setExtent(1/0,-1/0),r.scale.setExtent(1/0,-1/0),e.eachSeries(function(e){if(e.coordinateSystem===i){var t=e.getData();n.each(t.mapDimension("radius",!0),function(e){r.scale.unionExtentFromData(t,h(t,e))}),n.each(t.mapDimension("angle",!0),function(e){o.scale.unionExtentFromData(t,h(t,e))})}}),l(o.scale,o.model),l(r.scale,r.model),"category"===o.type&&!o.onBand){var s=o.getExtent(),a=360/o.scale.count();o.inverse?s[1]+=a:s[1]-=a,o.setExtent(s[0],s[1])}}function d(e,t){if(e.type=t.get("type"),e.scale=a(t),e.onBand=t.get("boundaryGap")&&"category"===e.type,e.inverse=t.get("inverse"),"angleAxis"===t.mainType){e.inverse^=t.get("clockwise");var i=t.get("startAngle");e.setExtent(i,i+(e.inverse?-360:360))}t.axis=e,e.model=t}i(12524),c.register("polar",{dimensions:o.prototype.dimensions,create:function(e,t){var i=[];return e.eachComponent("polar",function(e,s){var a=new o(s);a.update=u;var l=a.getRadiusAxis(),c=a.getAngleAxis(),h=e.findAxisModel("radiusAxis"),p=e.findAxisModel("angleAxis");d(l,h),d(c,p),function(e,t,i){var o=t.get("center"),s=i.getWidth(),a=i.getHeight();e.cx=r(o[0],s),e.cy=r(o[1],a);var l=e.getRadiusAxis(),c=Math.min(s,a)/2,h=t.get("radius");null==h?h=[0,"100%"]:n.isArray(h)||(h=[0,h]),h=[r(h[0],c),r(h[1],c)],l.inverse?l.setExtent(h[1],h[0]):l.setExtent(h[0],h[1])}(a,e,t),i.push(a),e.coordinateSystem=a,a.model=e}),e.eachSeries(function(t){if("polar"===t.get("coordinateSystem")){var i=e.queryComponents({mainType:"polar",index:t.get("polarIndex"),id:t.get("polarId")})[0];t.coordinateSystem=i.coordinateSystem}}),i}})},74967:function(e,t,i){var n=i(40628);function o(e,t){return n.map(["Radius","Angle"],function(i,n){var o=this["get"+i+"Axis"](),r=t[n],s=e[n]/2,a="dataTo"+i,l="category"===o.type?o.getBandWidth():Math.abs(o[a](r-s)-o[a](r+s));return"Angle"===i&&(l=l*Math.PI/180),l},this)}e.exports=function(e){var t=e.getRadiusAxis(),i=e.getAngleAxis(),r=t.getExtent();return r[0]>r[1]&&r.reverse(),{coordSys:{type:"polar",cx:e.cx,cy:e.cy,r:r[1],r0:r[0]},api:{coord:n.bind(function(n){var o=t.dataToRadius(n[0]),r=i.dataToAngle(n[1]),s=e.coordToPoint([o,r]);return s.push(o,r*Math.PI/180),s}),size:n.bind(o,e)}}}},88465:function(e,t,i){var n=i(40628),o=i(35556);function r(e,t,i){o.call(this,e,t,i),this.type="value",this.angle=0,this.name=""}n.inherits(r,o),e.exports=r},74209:function(e,t,i){var n=i(40628),o=i(88465),r=i(95543),s=i(14785),a=i(63635),l=a.getScaleExtent,c=a.niceScaleExtent,h=i(3387),u=i(56139);function d(e,t,i){this._model=e,this.dimensions=[],this._indicatorAxes=n.map(e.getIndicatorModels(),function(e,t){var i="indicator_"+t,n=new o(i,"log"===e.get("axisType")?new u:new r);return n.name=e.get("name"),n.model=e,e.axis=n,this.dimensions.push(i),n},this),this.resize(e,i)}d.prototype.getIndicatorAxes=function(){return this._indicatorAxes},d.prototype.dataToPoint=function(e,t){return this.coordToPoint(this._indicatorAxes[t].dataToCoord(e),t)},d.prototype.coordToPoint=function(e,t){var i=this._indicatorAxes[t].angle;return[this.cx+e*Math.cos(i),this.cy-e*Math.sin(i)]},d.prototype.pointToData=function(e){var t=e[0]-this.cx,i=e[1]-this.cy,n=Math.sqrt(t*t+i*i);t/=n,i/=n;for(var o,r=Math.atan2(-i,t),s=1/0,a=-1,l=0;l<this._indicatorAxes.length;l++){var c=this._indicatorAxes[l],h=Math.abs(r-c.angle);h<s&&(o=c,a=l,s=h)}return[a,+(o&&o.coordToData(n))]},d.prototype.resize=function(e,t){var i=e.get("center"),o=t.getWidth(),r=t.getHeight(),a=Math.min(o,r)/2;this.cx=s.parsePercent(i[0],o),this.cy=s.parsePercent(i[1],r),this.startAngle=e.get("startAngle")*Math.PI/180;var l=e.get("radius");("string"==typeof l||"number"==typeof l)&&(l=[0,l]),this.r0=s.parsePercent(l[0],a),this.r=s.parsePercent(l[1],a),n.each(this._indicatorAxes,function(e,t){e.setExtent(this.r0,this.r);var i=this.startAngle+t*Math.PI*2/this._indicatorAxes.length;i=Math.atan2(Math.sin(i),Math.cos(i)),e.angle=i},this)},d.prototype.update=function(e,t){var i=this._indicatorAxes,o=this._model;n.each(i,function(e){e.scale.setExtent(1/0,-1/0)}),e.eachSeriesByType("radar",function(t,r){if("radar"===t.get("coordinateSystem")&&e.getComponent("radar",t.get("radarIndex"))===o){var s=t.getData();n.each(i,function(e){e.scale.unionExtentFromData(s,s.mapDimension(e.dim))})}},this);var r=o.get("splitNumber");function a(e){var t=Math.pow(10,Math.floor(Math.log(e)/Math.LN10)),i=e/t;return 2===i?i=5:i*=2,i*t}n.each(i,function(e,t){var i=l(e.scale,e.model).extent;c(e.scale,e.model);var n=e.model,o=e.scale,h=n.getMin(),u=n.getMax(),d=o.getInterval();if(null!=h&&null!=u)o.setExtent(+h,+u),o.setInterval((u-h)/r);else if(null!=h)do{o.setExtent(+h,p=h+d*r),o.setInterval(d),d=a(d)}while(p<i[1]&&isFinite(p)&&isFinite(i[1]));else if(null!=u)do{o.setExtent(g=u-d*r,+u),o.setInterval(d),d=a(d)}while(g>i[0]&&isFinite(g)&&isFinite(i[0]));else{o.getTicks().length-1>r&&(d=a(d));var p=Math.ceil(i[1]/d)*d,g=s.round(p-d*r);o.setExtent(g,p),o.setInterval(d)}})},d.dimensions=[],d.create=function(e,t){var i=[];return e.eachComponent("radar",function(n){var o=new d(n,e,t);i.push(o),n.coordinateSystem=o}),e.eachSeriesByType("radar",function(e){"radar"===e.get("coordinateSystem")&&(e.coordinateSystem=i[e.get("radarIndex")||0])}),i},h.register("radar",d),e.exports=d},54592:function(e,t,i){var n=i(90650),o=i(40628),r=i(19220),s=i(96948),a=i(92385),l=r.valueAxis;function c(e,t){return o.defaults({show:t},e)}var h=n.extendComponentModel({type:"radar",optionUpdated:function(){var e=this.get("boundaryGap"),t=this.get("splitNumber"),i=this.get("scale"),n=this.get("axisLine"),r=this.get("axisTick"),l=this.get("axisType"),c=this.get("axisLabel"),h=this.get("name"),u=this.get("name.show"),d=this.get("name.formatter"),p=this.get("nameGap"),g=this.get("triggerEvent"),f=o.map(this.get("indicator")||[],function(f){null!=f.max&&f.max>0&&!f.min?f.min=0:null!=f.min&&f.min<0&&!f.max&&(f.max=0);var m=h;if(null!=f.color&&(m=o.defaults({color:f.color},h)),f=o.merge(o.clone(f),{boundaryGap:e,splitNumber:t,scale:i,axisLine:n,axisTick:r,axisType:l,axisLabel:c,name:f.text,nameLocation:"end",nameGap:p,nameTextStyle:m,triggerEvent:g},!1),u||(f.name=""),"string"==typeof d){var _=f.name;f.name=d.replace("{value}",null!=_?_:"")}else"function"==typeof d&&(f.name=d(f.name,f));var v=o.extend(new s(f,null,this.ecModel),a);return v.mainType="radar",v.componentIndex=this.componentIndex,v},this);this.getIndicatorModels=function(){return f}},defaultOption:{zlevel:0,z:0,center:["50%","50%"],radius:"75%",startAngle:90,name:{show:!0},boundaryGap:[0,0],splitNumber:5,nameGap:15,scale:!1,shape:"polygon",axisLine:o.merge({lineStyle:{color:"#bbb"}},l.axisLine),axisLabel:c(l.axisLabel,!1),axisTick:c(l.axisTick,!1),axisType:"interval",splitLine:c(l.splitLine,!0),splitArea:c(l.splitArea,!0),indicator:[]}});e.exports=h},57756:function(e,t,i){var n=i(40628),o=i(39447),r=i(74499),s=i(92385),a=o.extend({type:"singleAxis",layoutMode:"box",axis:null,coordinateSystem:null,getCoordSysModel:function(){return this}});n.merge(a.prototype,s),r("single",a,function(e,t){return t.type||(t.data?"category":"value")},{left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:!0,lineStyle:{width:1,type:"solid"}},tooltip:{show:!0},axisTick:{show:!0,length:6,lineStyle:{width:1}},axisLabel:{show:!0,interval:"auto"},splitLine:{show:!0,lineStyle:{type:"dashed",opacity:.2}}}),e.exports=a},97378:function(e,t,i){var n=i(14351),o=i(63635),r=i(40634).getLayoutRect,s=i(40628).each;function a(e,t,i){this.dimension="single",this.dimensions=["single"],this._axis=null,this._init(e,t,i),this.model=e}a.prototype={type:"singleAxis",axisPointerEnabled:!0,constructor:a,_init:function(e,t,i){var r=new n(this.dimension,o.createScaleByModel(e),[0,0],e.get("type"),e.get("position"));r.onBand="category"===r.type&&e.get("boundaryGap"),r.inverse=e.get("inverse"),r.orient=e.get("orient"),e.axis=r,r.model=e,r.coordinateSystem=this,this._axis=r},update:function(e,t){e.eachSeries(function(e){if(e.coordinateSystem===this){var t=e.getData();s(t.mapDimension(this.dimension,!0),function(e){this._axis.scale.unionExtentFromData(t,e)},this),o.niceScaleExtent(this._axis.scale,this._axis.model)}},this)},resize:function(e,t){this._rect=r({left:e.get("left"),top:e.get("top"),right:e.get("right"),bottom:e.get("bottom"),width:e.get("width"),height:e.get("height")},{width:t.getWidth(),height:t.getHeight()}),this._adjustAxis()},getRect:function(){return this._rect},_adjustAxis:function(){var e=this._rect,t=this._axis,i=t.isHorizontal(),n=i?[0,e.width]:[0,e.height],o=t.reverse?1:0;t.setExtent(n[o],n[1-o]),this._updateAxisTransform(t,i?e.x:e.y)},_updateAxisTransform:function(e,t){var i=e.getExtent(),n=i[0]+i[1],o=e.isHorizontal();e.toGlobalCoord=o?function(e){return e+t}:function(e){return n-e+t},e.toLocalCoord=o?function(e){return e-t}:function(e){return n-e+t}},getAxis:function(){return this._axis},getBaseAxis:function(){return this._axis},getAxes:function(){return[this._axis]},getTooltipAxes:function(){return{baseAxes:[this.getAxis()]}},containPoint:function(e){var t=this.getRect(),i=this.getAxis();return"horizontal"===i.orient?i.contain(i.toLocalCoord(e[0]))&&e[1]>=t.y&&e[1]<=t.y+t.height:i.contain(i.toLocalCoord(e[1]))&&e[0]>=t.y&&e[0]<=t.y+t.height},pointToData:function(e){var t=this.getAxis();return[t.coordToData(t.toLocalCoord(e["horizontal"===t.orient?0:1]))]},dataToPoint:function(e){var t=this.getAxis(),i=this.getRect(),n=[],o="horizontal"===t.orient?0:1;return e instanceof Array&&(e=e[0]),n[o]=t.toGlobalCoord(t.dataToCoord(+e)),n[1-o]=0===o?i.y+i.height/2:i.x+i.width/2,n}},e.exports=a},14351:function(e,t,i){var n=i(40628),o=i(35556),r=function(e,t,i,n,r){o.call(this,e,t,i),this.type=n||"value",this.position=r||"bottom",this.orient=null};r.prototype={constructor:r,model:null,isHorizontal:function(){var e=this.position;return"top"===e||"bottom"===e},pointToData:function(e,t){return this.coordinateSystem.pointToData(e,t)[0]},toGlobalCoord:null,toLocalCoord:null},n.inherits(r,o),e.exports=r},39093:function(e,t,i){var n=i(40628);function o(e,t){var i=this.getAxis(),n=t instanceof Array?t[0]:t,o=(e instanceof Array?e[0]:e)/2;return"category"===i.type?i.getBandWidth():Math.abs(i.dataToCoord(n-o)-i.dataToCoord(n+o))}e.exports=function(e){var t=e.getRect();return{coordSys:{type:"singleAxis",x:t.x,y:t.y,width:t.width,height:t.height},api:{coord:function(t){return e.dataToPoint(t)},size:n.bind(o,e)}}}},8564:function(e,t,i){var n=i(40628);t.layout=function(e,t){t=t||{};var i=e.axis,o={},r=i.position,s=i.orient,a=e.coordinateSystem.getRect(),l=[a.x,a.x+a.width,a.y,a.y+a.height],c={horizontal:{top:l[2],bottom:l[3]},vertical:{left:l[0],right:l[1]}};o.position=["vertical"===s?c.vertical[r]:l[0],"horizontal"===s?c.horizontal[r]:l[3]],o.rotation=Math.PI/2*{horizontal:0,vertical:1}[s],o.labelDirection=o.tickDirection=o.nameDirection={top:-1,bottom:1,right:1,left:-1}[r],e.get("axisTick.inside")&&(o.tickDirection=-o.tickDirection),n.retrieve(t.labelInside,e.get("axisLabel.inside"))&&(o.labelDirection=-o.labelDirection);var h=t.rotate;return null==h&&(h=e.get("axisLabel.rotate")),o.labelRotation="top"===r?-h:h,o.z2=1,o}},48037:function(e,t,i){var n=i(97378);i(3387).register("single",{create:function(e,t){var i=[];return e.eachComponent("singleAxis",function(o,r){var s=new n(o,e,t);s.name="single_"+r,s.resize(o,t),o.coordinateSystem=s,i.push(s)}),e.eachSeries(function(t){if("singleAxis"===t.get("coordinateSystem")){var i=e.queryComponents({mainType:"singleAxis",index:t.get("singleAxisIndex"),id:t.get("singleAxisId")})[0];t.coordinateSystem=i&&i.coordinateSystem}}),i},dimensions:n.prototype.dimensions})},12650:function(e){function t(e){return e}function i(e,i,n,o,r){this._old=e,this._new=i,this._oldKeyGetter=n||t,this._newKeyGetter=o||t,this.context=r}function n(e,t,i,n,o){for(var r=0;r<e.length;r++){var s="_ec_"+o[n](e[r],r),a=t[s];null==a?(i.push(s),t[s]=r):(a.length||(t[s]=a=[a]),a.push(r))}}i.prototype={constructor:i,add:function(e){return this._add=e,this},update:function(e){return this._update=e,this},remove:function(e){return this._remove=e,this},execute:function(){var e=this._old,t=this._new,i={},o=[],r=[];for(n(e,{},o,"_oldKeyGetter",this),n(t,i,r,"_newKeyGetter",this),s=0;s<e.length;s++)null!=(l=i[a=o[s]])?((h=l.length)?(1===h&&(i[a]=null),l=l.shift()):i[a]=null,this._update&&this._update(l,s)):this._remove&&this._remove(s);for(var s=0;s<r.length;s++){var a;if(i.hasOwnProperty(a=r[s])){var l;if(null==(l=i[a]))continue;if(l.length)for(var c=0,h=l.length;c<h;c++)this._add&&this._add(l[c]);else this._add&&this._add(l)}}}},e.exports=i},35909:function(e,t,i){var n=i(40628);e.exports=function(e){null!=e&&n.extend(this,e),this.otherDims={}}},45297:function(e,t,i){i(59963);var n=i(40628),o=i(31087).enableClassCheck;function r(e){return"_EC_"+e}var s=function(e){this._directed=e||!1,this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={}},a=s.prototype;function l(e,t){this.id=null==e?"":e,this.inEdges=[],this.outEdges=[],this.edges=[],this.dataIndex=null==t?-1:t}function c(e,t,i){this.node1=e,this.node2=t,this.dataIndex=null==i?-1:i}a.type="graph",a.isDirected=function(){return this._directed},a.addNode=function(e,t){var i=this._nodesMap;if(!i[r(e=null==e?""+t:""+e)]){var n=new l(e,t);return n.hostGraph=this,this.nodes.push(n),i[r(e)]=n,n}},a.getNodeByIndex=function(e){var t=this.data.getRawIndex(e);return this.nodes[t]},a.getNodeById=function(e){return this._nodesMap[r(e)]},a.addEdge=function(e,t,i){var n=this._nodesMap,o=this._edgesMap;if("number"==typeof e&&(e=this.nodes[e]),"number"==typeof t&&(t=this.nodes[t]),l.isInstance(e)||(e=n[r(e)]),l.isInstance(t)||(t=n[r(t)]),e&&t){var s=e.id+"-"+t.id,a=new c(e,t,i);return a.hostGraph=this,this._directed&&(e.outEdges.push(a),t.inEdges.push(a)),e.edges.push(a),e!==t&&t.edges.push(a),this.edges.push(a),o[s]=a,a}},a.getEdgeByIndex=function(e){var t=this.edgeData.getRawIndex(e);return this.edges[t]},a.getEdge=function(e,t){l.isInstance(e)&&(e=e.id),l.isInstance(t)&&(t=t.id);var i=this._edgesMap;return this._directed?i[e+"-"+t]:i[e+"-"+t]||i[t+"-"+e]},a.eachNode=function(e,t){for(var i=this.nodes,n=i.length,o=0;o<n;o++)i[o].dataIndex>=0&&e.call(t,i[o],o)},a.eachEdge=function(e,t){for(var i=this.edges,n=i.length,o=0;o<n;o++)i[o].dataIndex>=0&&i[o].node1.dataIndex>=0&&i[o].node2.dataIndex>=0&&e.call(t,i[o],o)},a.breadthFirstTraverse=function(e,t,i,n){if(l.isInstance(t)||(t=this._nodesMap[r(t)]),t){for(var o="out"===i?"outEdges":"in"===i?"inEdges":"edges",s=0;s<this.nodes.length;s++)this.nodes[s].__visited=!1;if(!e.call(n,t,null))for(var a=[t];a.length;){var c=a.shift(),h=c[o];for(s=0;s<h.length;s++){var u=h[s],d=u.node1===c?u.node2:u.node1;if(!d.__visited){if(e.call(n,d,c))return;a.push(d),d.__visited=!0}}}}},a.update=function(){for(var e=this.data,t=this.edgeData,i=this.nodes,n=this.edges,o=0,r=i.length;o<r;o++)i[o].dataIndex=-1;for(o=0,r=e.count();o<r;o++)i[e.getRawIndex(o)].dataIndex=o;for(t.filterSelf(function(e){var i=n[t.getRawIndex(e)];return i.node1.dataIndex>=0&&i.node2.dataIndex>=0}),o=0,r=n.length;o<r;o++)n[o].dataIndex=-1;for(o=0,r=t.count();o<r;o++)n[t.getRawIndex(o)].dataIndex=o},a.clone=function(){for(var e=new s(this._directed),t=this.nodes,i=this.edges,n=0;n<t.length;n++)e.addNode(t[n].id,t[n].dataIndex);for(n=0;n<i.length;n++){var o=i[n];e.addEdge(o.node1.id,o.node2.id,o.dataIndex)}return e},l.prototype={constructor:l,degree:function(){return this.edges.length},inDegree:function(){return this.inEdges.length},outDegree:function(){return this.outEdges.length},getModel:function(e){if(!(this.dataIndex<0))return this.hostGraph.data.getItemModel(this.dataIndex).getModel(e)}},c.prototype.getModel=function(e){if(!(this.dataIndex<0))return this.hostGraph.edgeData.getItemModel(this.dataIndex).getModel(e)};var h=function(e,t){return{getValue:function(i){var n=this[e][t];return n.get(n.getDimension(i||"value"),this.dataIndex)},setVisual:function(i,n){this.dataIndex>=0&&this[e][t].setItemVisual(this.dataIndex,i,n)},getVisual:function(i,n){return this[e][t].getItemVisual(this.dataIndex,i,n)},setLayout:function(i,n){this.dataIndex>=0&&this[e][t].setItemLayout(this.dataIndex,i,n)},getLayout:function(){return this[e][t].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[e][t].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[e][t].getRawIndex(this.dataIndex)}}};n.mixin(l,h("hostGraph","data")),n.mixin(c,h("hostGraph","edgeData")),s.Node=l,s.Edge=c,o(l),o(c),e.exports=s},84497:function(e,t,i){i(59963);var n=i(40628),o=i(96948),r=i(12650),s=i(37079),a=i(56153),l=a.defaultDimValueGetters,c=a.DefaultDataProvider,h=i(91577).summarizeDimensions,u=i(35909),d=n.isObject,p="undefined",g={float:typeof Float64Array===p?Array:Float64Array,int:typeof Int32Array===p?Array:Int32Array,ordinal:Array,number:Array,time:Array},f=typeof Uint32Array===p?Array:Uint32Array,m=typeof Int32Array===p?Array:Int32Array,_=typeof Uint16Array===p?Array:Uint16Array;function v(e){return e._rawCount>65535?f:_}function y(e){var t=e.constructor;return t===Array?e.slice():new t(e)}var b=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_rawData","_chunkSize","_chunkCount","_dimValueGetter","_count","_rawCount","_nameDimIdx","_idDimIdx"],w=["_extent","_approximateExtent","_rawExtent"];function A(e,t){n.each(b.concat(t.__wrappedMethods||[]),function(i){t.hasOwnProperty(i)&&(e[i]=t[i])}),e.__wrappedMethods=t.__wrappedMethods,n.each(w,function(i){e[i]=n.clone(t[i])}),e._calculationInfo=n.extend(t._calculationInfo)}var x=function(e,t){e=e||["x","y"];for(var i={},o=[],r={},s=0;s<e.length;s++){var a=e[s];n.isString(a)?a=new u({name:a}):a instanceof u||(a=new u(a));var l=a.name;a.type=a.type||"float",a.coordDim||(a.coordDim=l,a.coordDimIndex=0),a.otherDims=a.otherDims||{},o.push(l),i[l]=a,a.index=s,a.createInvertedIndices&&(r[l]=[])}this.dimensions=o,this._dimensionInfos=i,this.hostModel=t,this._indices=null,this._count=0,this._rawCount=0,this._storage={},this._nameList=[],this._idList=[],this._optionModels=[],this._visual={},this._layout={},this._itemVisuals=[],this.hasItemVisual={},this._itemLayouts=[],this._graphicEls=[],this._chunkSize=1e5,this._chunkCount=0,this._rawExtent={},this._extent={},this._approximateExtent={},this._dimensionsSummary=h(this),this._invertedIndicesMap=r,this._calculationInfo={},this.userOutput=this._dimensionsSummary.userOutput},T=x.prototype;function C(e,t,i,n,o){var r=g[t.type],s=n-1,a=t.name,l=e[a][s];if(l&&l.length<i){for(var c=new r(Math.min(o-s*i,i)),h=0;h<l.length;h++)c[h]=l[h];e[a][s]=c}for(var u=n*i;u<o;u+=i)e[a].push(new r(Math.min(o-u,i)))}function Z(e){var t=e._invertedIndicesMap;n.each(t,function(i,n){var o=e._dimensionInfos[n].ordinalMeta;if(o){i=t[n]=new m(o.categories.length);for(var r=0;r<i.length;r++)i[r]=-1;for(r=0;r<e._count;r++)i[e.get(n,r)]=r}})}function k(e,t,i){var n;if(null!=t){var o=e._chunkSize,r=Math.floor(i/o),s=e.dimensions[t],a=e._storage[s][r];if(a){n=a[i%o];var l=e._dimensionInfos[s].ordinalMeta;l&&l.categories.length&&(n=l.categories[n])}}return n}function S(e){return e}function E(e){return e<this._count&&e>=0?this._indices[e]:-1}function M(e,t){var i=e._idList[t];return null==i&&(i=k(e,e._idDimIdx,t)),null==i&&(i="e\0\0"+t),i}function O(e){return n.isArray(e)||(e=[e]),e}function I(e,t){var i=e.dimensions,o=new x(n.map(i,e.getDimensionInfo,e),e.hostModel);A(o,e);for(var r=o._storage={},s=e._storage,a=0;a<i.length;a++){var l=i[a];s[l]&&(n.indexOf(t,l)>=0?(r[l]=P(s[l]),o._rawExtent[l]=[1/0,-1/0],o._extent[l]=null):r[l]=s[l])}return o}function P(e){for(var t=new Array(e.length),i=0;i<e.length;i++)t[i]=y(e[i]);return t}T.type="list",T.hasItemOption=!0,T.getDimension=function(e){return("number"==typeof e||!isNaN(e)&&!this._dimensionInfos.hasOwnProperty(e))&&(e=this.dimensions[e]),e},T.getDimensionInfo=function(e){return this._dimensionInfos[this.getDimension(e)]},T.getDimensionsOnCoord=function(){return this._dimensionsSummary.dataDimsOnCoord.slice()},T.mapDimension=function(e,t){var i=this._dimensionsSummary;if(null==t)return i.encodeFirstDimNotExtra[e];var n=i.encode[e];return!0===t?(n||[]).slice():n&&n[t]},T.initData=function(e,t,i){(s.isInstance(e)||n.isArrayLike(e))&&(e=new c(e,this.dimensions.length)),this._rawData=e,this._storage={},this._indices=null,this._nameList=t||[],this._idList=[],this._nameRepeatCount={},i||(this.hasItemOption=!1),this.defaultDimValueGetter=l[this._rawData.getSource().sourceFormat],this._dimValueGetter=i=i||this.defaultDimValueGetter,this._dimValueGetterArrayRows=l.arrayRows,this._rawExtent={},this._initDataFromProvider(0,e.count()),e.pure&&(this.hasItemOption=!1)},T.getProvider=function(){return this._rawData},T.appendData=function(e){var t=this._rawData,i=this.count();t.appendData(e);var n=t.count();t.persistent||(n+=i),this._initDataFromProvider(i,n)},T.appendValues=function(e,t){for(var i=this._chunkSize,n=this._storage,o=this.dimensions,r=o.length,s=this._rawExtent,a=this.count(),l=a+Math.max(e.length,t?t.length:0),c=this._chunkCount,h=0;h<r;h++)s[_=o[h]]||(s[_]=[1/0,-1/0]),n[_]||(n[_]=[]),C(n,this._dimensionInfos[_],i,c,l),this._chunkCount=n[_].length;for(var u=new Array(r),d=a;d<l;d++){for(var p=d-a,g=Math.floor(d/i),f=d%i,m=0;m<r;m++){var _,v=this._dimValueGetterArrayRows(e[p]||u,_=o[m],p,m);n[_][g][f]=v;var y=s[_];v<y[0]&&(y[0]=v),v>y[1]&&(y[1]=v)}t&&(this._nameList[d]=t[p])}this._rawCount=this._count=l,this._extent={},Z(this)},T._initDataFromProvider=function(e,t){if(!(e>=t)){for(var i,n=this._chunkSize,o=this._rawData,r=this._storage,s=this.dimensions,a=s.length,l=this._dimensionInfos,c=this._nameList,h=this._idList,u=this._rawExtent,d=this._nameRepeatCount={},p=this._chunkCount,g=0;g<a;g++){u[w=s[g]]||(u[w]=[1/0,-1/0]);var f=l[w];0===f.otherDims.itemName&&(i=this._nameDimIdx=g),0===f.otherDims.itemId&&(this._idDimIdx=g),r[w]||(r[w]=[]),C(r,f,n,p,t),this._chunkCount=r[w].length}for(var m=new Array(a),_=e;_<t;_++){m=o.getItem(_,m);for(var v=Math.floor(_/n),y=_%n,b=0;b<a;b++){var w,A=r[w=s[b]][v],x=this._dimValueGetter(m,w,_,b);A[y]=x;var T=u[w];x<T[0]&&(T[0]=x),x>T[1]&&(T[1]=x)}if(!o.pure){var k=c[_];if(m&&null==k)if(null!=m.name)c[_]=k=m.name;else if(null!=i){var S=s[i],E=r[S][v];if(E){k=E[y];var M=l[S].ordinalMeta;M&&M.categories.length&&(k=M.categories[k])}}var O=null==m?null:m.id;null==O&&null!=k&&(d[k]=d[k]||0,O=k,d[k]>0&&(O+="__ec__"+d[k]),d[k]++),null!=O&&(h[_]=O)}}!o.persistent&&o.clean&&o.clean(),this._rawCount=this._count=t,this._extent={},Z(this)}},T.count=function(){return this._count},T.getIndices=function(){var e=this._indices;if(e){var t=this._count;if((n=e.constructor)===Array){o=new n(t);for(var i=0;i<t;i++)o[i]=e[i]}else o=new n(e.buffer,0,t)}else{var n,o=new(n=v(this))(this.count());for(i=0;i<o.length;i++)o[i]=i}return o},T.get=function(e,t){if(!(t>=0&&t<this._count))return NaN;var i=this._storage;if(!i[e])return NaN;t=this.getRawIndex(t);var n=Math.floor(t/this._chunkSize);return i[e][n][t%this._chunkSize]},T.getByRawIndex=function(e,t){if(!(t>=0&&t<this._rawCount))return NaN;var i=this._storage[e];return i?i[Math.floor(t/this._chunkSize)][t%this._chunkSize]:NaN},T._getFast=function(e,t){var i=Math.floor(t/this._chunkSize);return this._storage[e][i][t%this._chunkSize]},T.getValues=function(e,t){var i=[];n.isArray(e)||(t=e,e=this.dimensions);for(var o=0,r=e.length;o<r;o++)i.push(this.get(e[o],t));return i},T.hasValue=function(e){for(var t=this._dimensionsSummary.dataDimsOnCoord,i=0,n=t.length;i<n;i++)if(isNaN(this.get(t[i],e)))return!1;return!0},T.getDataExtent=function(e){e=this.getDimension(e);var t=[1/0,-1/0];if(!this._storage[e])return t;var i,n=this.count();if(!this._indices)return this._rawExtent[e].slice();if(i=this._extent[e])return i.slice();for(var o=(i=t)[0],r=i[1],s=0;s<n;s++){var a=this._getFast(e,this.getRawIndex(s));a<o&&(o=a),a>r&&(r=a)}return this._extent[e]=i=[o,r],i},T.getApproximateExtent=function(e){return e=this.getDimension(e),this._approximateExtent[e]||this.getDataExtent(e)},T.setApproximateExtent=function(e,t){t=this.getDimension(t),this._approximateExtent[t]=e.slice()},T.getCalculationInfo=function(e){return this._calculationInfo[e]},T.setCalculationInfo=function(e,t){d(e)?n.extend(this._calculationInfo,e):this._calculationInfo[e]=t},T.getSum=function(e){var t=0;if(this._storage[e])for(var i=0,n=this.count();i<n;i++){var o=this.get(e,i);isNaN(o)||(t+=o)}return t},T.getMedian=function(e){var t=[];this.each(e,function(e,i){isNaN(e)||t.push(e)});var i=[].concat(t).sort(function(e,t){return e-t}),n=this.count();return 0===n?0:n%2==1?i[(n-1)/2]:(i[n/2]+i[n/2-1])/2},T.rawIndexOf=function(e,t){var i=(e&&this._invertedIndicesMap[e])[t];return null==i||isNaN(i)?-1:i},T.indexOfName=function(e){for(var t=0,i=this.count();t<i;t++)if(this.getName(t)===e)return t;return-1},T.indexOfRawIndex=function(e){if(e>=this._rawCount||e<0)return-1;if(!this._indices)return e;var t=this._indices,i=t[e];if(null!=i&&i<this._count&&i===e)return e;for(var n=0,o=this._count-1;n<=o;){var r=(n+o)/2|0;if(t[r]<e)n=r+1;else{if(!(t[r]>e))return r;o=r-1}}return-1},T.indicesOfNearest=function(e,t,i){var n=[];if(!this._storage[e])return n;null==i&&(i=1/0);for(var o=1/0,r=-1,s=0,a=0,l=this.count();a<l;a++){var c=t-this.get(e,a),h=Math.abs(c);h<=i&&((h<o||h===o&&c>=0&&r<0)&&(o=h,r=c,s=0),c===r&&(n[s++]=a))}return n.length=s,n},T.getRawIndex=S,T.getRawDataItem=function(e){if(this._rawData.persistent)return this._rawData.getItem(this.getRawIndex(e));for(var t=[],i=0;i<this.dimensions.length;i++)t.push(this.get(this.dimensions[i],e));return t},T.getName=function(e){var t=this.getRawIndex(e);return this._nameList[t]||k(this,this._nameDimIdx,t)||""},T.getId=function(e){return M(this,this.getRawIndex(e))},T.each=function(e,t,i,o){"use strict";if(this._count){"function"==typeof e&&(o=i,i=t,t=e,e=[]),i=i||o||this;for(var r=(e=n.map(O(e),this.getDimension,this)).length,s=0;s<this.count();s++)switch(r){case 0:t.call(i,s);break;case 1:t.call(i,this.get(e[0],s),s);break;case 2:t.call(i,this.get(e[0],s),this.get(e[1],s),s);break;default:for(var a=0,l=[];a<r;a++)l[a]=this.get(e[a],s);l[a]=s,t.apply(i,l)}}},T.filterSelf=function(e,t,i,o){"use strict";if(this._count){"function"==typeof e&&(o=i,i=t,t=e,e=[]),i=i||o||this,e=n.map(O(e),this.getDimension,this);for(var r=this.count(),s=new(v(this))(r),a=[],l=e.length,c=0,h=e[0],u=0;u<r;u++){var d,p=this.getRawIndex(u);if(0===l)d=t.call(i,u);else if(1===l){var g=this._getFast(h,p);d=t.call(i,g,u)}else{for(var f=0;f<l;f++)a[f]=this._getFast(h,p);a[f]=u,d=t.apply(i,a)}d&&(s[c++]=p)}return c<r&&(this._indices=s),this._count=c,this._extent={},this.getRawIndex=this._indices?E:S,this}},T.selectRange=function(e){"use strict";if(this._count){var t=[];for(var i in e)e.hasOwnProperty(i)&&t.push(i);var n=t.length;if(n){var o=this.count(),r=new(v(this))(o),s=0,a=t[0],l=e[a][0],c=e[a][1],h=!1;if(!this._indices){var u=0;if(1===n){for(var d=this._storage[t[0]],p=0;p<this._chunkCount;p++)for(var g=d[p],f=Math.min(this._count-p*this._chunkSize,this._chunkSize),m=0;m<f;m++)((C=g[m])>=l&&C<=c||isNaN(C))&&(r[s++]=u),u++;h=!0}else if(2===n){d=this._storage[a];var _=this._storage[t[1]],y=e[t[1]][0],b=e[t[1]][1];for(p=0;p<this._chunkCount;p++){g=d[p];var w=_[p];for(f=Math.min(this._count-p*this._chunkSize,this._chunkSize),m=0;m<f;m++){var A=w[m];((C=g[m])>=l&&C<=c||isNaN(C))&&(A>=y&&A<=b||isNaN(A))&&(r[s++]=u),u++}}h=!0}}if(!h)if(1===n)for(m=0;m<o;m++){var x=this.getRawIndex(m);((C=this._getFast(a,x))>=l&&C<=c||isNaN(C))&&(r[s++]=x)}else for(m=0;m<o;m++){var T=!0;for(x=this.getRawIndex(m),p=0;p<n;p++){var C,Z=t[p];((C=this._getFast(i,x))<e[Z][0]||C>e[Z][1])&&(T=!1)}T&&(r[s++]=this.getRawIndex(m))}return s<o&&(this._indices=r),this._count=s,this._extent={},this.getRawIndex=this._indices?E:S,this}}},T.mapArray=function(e,t,i,n){"use strict";"function"==typeof e&&(n=i,i=t,t=e,e=[]);var o=[];return this.each(e,function(){o.push(t&&t.apply(this,arguments))},i=i||n||this),o},T.map=function(e,t,i,o){"use strict";i=i||o||this;var r=I(this,e=n.map(O(e),this.getDimension,this));r._indices=this._indices,r.getRawIndex=r._indices?E:S;for(var s=r._storage,a=[],l=this._chunkSize,c=e.length,h=this.count(),u=[],d=r._rawExtent,p=0;p<h;p++){for(var g=0;g<c;g++)u[g]=this.get(e[g],p);u[c]=p;var f=t&&t.apply(i,u);if(null!=f){"object"!=typeof f&&(a[0]=f,f=a);for(var m=this.getRawIndex(p),_=Math.floor(m/l),v=m%l,y=0;y<f.length;y++){var b=e[y],w=f[y],A=d[b],x=s[b];x&&(x[_][v]=w),w<A[0]&&(A[0]=w),w>A[1]&&(A[1]=w)}}}return r},T.downSample=function(e,t,i,n){for(var o=I(this,[e]),r=o._storage,s=[],a=Math.floor(1/t),l=r[e],c=this.count(),h=this._chunkSize,u=o._rawExtent[e],d=new(v(this))(c),p=0,g=0;g<c;g+=a){a>c-g&&(s.length=a=c-g);for(var f=0;f<a;f++){var m=this.getRawIndex(g+f),_=Math.floor(m/h);s[f]=l[_][m%h]}var y=i(s),b=this.getRawIndex(Math.min(g+n(s,y)||0,c-1));l[Math.floor(b/h)][b%h]=y,y<u[0]&&(u[0]=y),y>u[1]&&(u[1]=y),d[p++]=b}return o._count=p,o._indices=d,o.getRawIndex=E,o},T.getItemModel=function(e){var t=this.hostModel;return new o(this.getRawDataItem(e),t,t&&t.ecModel)},T.diff=function(e){var t=this;return new r(e?e.getIndices():[],this.getIndices(),function(t){return M(e,t)},function(e){return M(t,e)})},T.getVisual=function(e){var t=this._visual;return t&&t[e]},T.setVisual=function(e,t){if(d(e))for(var i in e)e.hasOwnProperty(i)&&this.setVisual(i,e[i]);else this._visual=this._visual||{},this._visual[e]=t},T.setLayout=function(e,t){if(d(e))for(var i in e)e.hasOwnProperty(i)&&this.setLayout(i,e[i]);else this._layout[e]=t},T.getLayout=function(e){return this._layout[e]},T.getItemLayout=function(e){return this._itemLayouts[e]},T.setItemLayout=function(e,t,i){this._itemLayouts[e]=i?n.extend(this._itemLayouts[e]||{},t):t},T.clearItemLayouts=function(){this._itemLayouts.length=0},T.getItemVisual=function(e,t,i){var n=this._itemVisuals[e],o=n&&n[t];return null!=o||i?o:this.getVisual(t)},T.setItemVisual=function(e,t,i){var n=this._itemVisuals[e]||{},o=this.hasItemVisual;if(this._itemVisuals[e]=n,d(t))for(var r in t)t.hasOwnProperty(r)&&(n[r]=t[r],o[r]=!0);else n[t]=i,o[t]=!0},T.clearAllVisual=function(){this._visual={},this._itemVisuals=[],this.hasItemVisual={}};var R=function(e){e.seriesIndex=this.seriesIndex,e.dataIndex=this.dataIndex,e.dataType=this.dataType};T.setItemGraphicEl=function(e,t){var i=this.hostModel;t&&(t.dataIndex=e,t.dataType=this.dataType,t.seriesIndex=i&&i.seriesIndex,"group"===t.type&&t.traverse(R,t)),this._graphicEls[e]=t},T.getItemGraphicEl=function(e){return this._graphicEls[e]},T.eachItemGraphicEl=function(e,t){n.each(this._graphicEls,function(i,n){i&&e&&e.call(t,i,n)})},T.cloneShallow=function(e){if(!e){var t=n.map(this.dimensions,this.getDimensionInfo,this);e=new x(t,this.hostModel)}return e._storage=this._storage,A(e,this),e._indices=this._indices?new(0,this._indices.constructor)(this._indices):null,e.getRawIndex=e._indices?E:S,e},T.wrapMethod=function(e,t){var i=this[e];"function"==typeof i&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(e),this[e]=function(){var e=i.apply(this,arguments);return t.apply(this,[e].concat(n.slice(arguments)))})},T.TRANSFERABLE_METHODS=["cloneShallow","downSample","map"],T.CHANGABLE_METHODS=["filterSelf","selectRange"],e.exports=x},59567:function(e,t,i){var n=i(40628),o=n.createHashMap,r=n.isObject,s=n.map;function a(e){this.categories=e.categories||[],this._needCollect=e.needCollect,this._deduplication=e.deduplication}a.createByAxisModel=function(e){var t=e.option,i=t.data,n=i&&s(i,h);return new a({categories:n,needCollect:!n,deduplication:!1!==t.dedplication})};var l=a.prototype;function c(e){return e._map||(e._map=o(e.categories))}function h(e){return r(e)&&null!=e.value?e.value:e+""}l.getOrdinal=function(e){return c(this).get(e)},l.parseAndCollect=function(e){var t,i=this._needCollect;if("string"!=typeof e&&!i)return e;if(i&&!this._deduplication)return this.categories[t=this.categories.length]=e,t;var n=c(this);return null==(t=n.get(e))&&(i?(this.categories[t=this.categories.length]=e,n.set(e,t)):t=NaN),t},e.exports=a},37079:function(e,t,i){var n=i(40628),o=n.createHashMap,r=n.isTypedArray,s=i(31087).enableClassCheck,a=i(2181),l=a.SOURCE_FORMAT_ORIGINAL,c=a.SERIES_LAYOUT_BY_COLUMN,h=a.SOURCE_FORMAT_UNKNOWN,u=a.SOURCE_FORMAT_TYPED_ARRAY,d=a.SOURCE_FORMAT_KEYED_COLUMNS;function p(e){this.fromDataset=e.fromDataset,this.data=e.data||(e.sourceFormat===d?{}:[]),this.sourceFormat=e.sourceFormat||h,this.seriesLayoutBy=e.seriesLayoutBy||c,this.dimensionsDefine=e.dimensionsDefine,this.encodeDefine=e.encodeDefine&&o(e.encodeDefine),this.startIndex=e.startIndex||0,this.dimensionsDetectCount=e.dimensionsDetectCount}p.seriesDataToSource=function(e){return new p({data:e,sourceFormat:r(e)?u:l,fromDataset:!1})},s(p),e.exports=p},82495:function(e,t,i){var n=i(40628),o=i(53756),r=i(84497),s=i(79178),a=function(e,t){this.name=e||"",this.depth=0,this.height=0,this.parentNode=null,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.hostTree=t};function l(e){this._nodes=[],this.hostModel=e}a.prototype={constructor:a,isRemoved:function(){return this.dataIndex<0},eachNode:function(e,t,i){"function"==typeof e&&(i=t,t=e,e=null),n.isString(e=e||{})&&(e={order:e});var o,r=e.order||"preorder",s=this[e.attr||"children"];"preorder"===r&&(o=t.call(i,this));for(var a=0;!o&&a<s.length;a++)s[a].eachNode(e,t,i);"postorder"===r&&t.call(i,this)},updateDepthAndHeight:function(e){var t=0;this.depth=e;for(var i=0;i<this.children.length;i++){var n=this.children[i];n.updateDepthAndHeight(e+1),n.height>t&&(t=n.height)}this.height=t+1},getNodeById:function(e){if(this.getId()===e)return this;for(var t=0,i=this.children,n=i.length;t<n;t++){var o=i[t].getNodeById(e);if(o)return o}},contains:function(e){if(e===this)return!0;for(var t=0,i=this.children,n=i.length;t<n;t++){var o=i[t].contains(e);if(o)return o}},getAncestors:function(e){for(var t=[],i=e?this:this.parentNode;i;)t.push(i),i=i.parentNode;return t.reverse(),t},getValue:function(e){var t=this.hostTree.data;return t.get(t.getDimension(e||"value"),this.dataIndex)},setLayout:function(e,t){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,e,t)},getLayout:function(){return this.hostTree.data.getItemLayout(this.dataIndex)},getModel:function(e){if(!(this.dataIndex<0))return this.hostTree.data.getItemModel(this.dataIndex).getModel(e)},setVisual:function(e,t){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,e,t)},getVisual:function(e,t){return this.hostTree.data.getItemVisual(this.dataIndex,e,t)},getRawIndex:function(){return this.hostTree.data.getRawIndex(this.dataIndex)},getId:function(){return this.hostTree.data.getId(this.dataIndex)},isAncestorOf:function(e){for(var t=e.parentNode;t;){if(t===this)return!0;t=t.parentNode}return!1},isDescendantOf:function(e){return e!==this&&e.isAncestorOf(this)}},l.prototype={constructor:l,type:"tree",eachNode:function(e,t,i){this.root.eachNode(e,t,i)},getNodeByDataIndex:function(e){var t=this.data.getRawIndex(e);return this._nodes[t]},getNodeByName:function(e){return this.root.getNodeByName(e)},update:function(){for(var e=this.data,t=this._nodes,i=0,n=t.length;i<n;i++)t[i].dataIndex=-1;for(i=0,n=e.count();i<n;i++)t[e.getRawIndex(i)].dataIndex=i},clearLayouts:function(){this.data.clearItemLayouts()}},l.createTree=function(e,t,i){var c=new l(t),h=[],u=1;!function e(t,i){var o=t.value;u=Math.max(u,n.isArray(o)?o.length:1),h.push(t);var r=new a(t.name,c);i?function(e,t){e.parentNode!==t&&(t.children.push(e),e.parentNode=t)}(r,i):c.root=r,c._nodes.push(r);var s=t.children;if(s)for(var l=0;l<s.length;l++)e(s[l],r)}(e),c.root.updateDepthAndHeight(0);var d=s(h,{coordDimensions:["value"],dimensionsCount:u}),p=new r(d,t);return p.initData(h),i&&i(p),o({mainData:p,struct:c,structAttr:"tree"}),c.update(),c},e.exports=l},94075:function(e,t,i){var n=i(40628),o=n.createHashMap,r=n.each,s=n.isString,a=n.defaults,l=n.extend,c=n.isObject,h=n.clone,u=i(91266).normalizeToArray,d=i(26153),p=d.guessOrdinal,g=d.BE_ORDINAL,f=i(37079),m=i(91577).OTHER_DIMENSIONS,_=i(35909);function v(e,t,i){if(i||null!=t.get(e)){for(var n=0;null!=t.get(e+n);)n++;e+=n}return t.set(e,!0),e}e.exports=function(e,t,i){f.isInstance(t)||(t=f.seriesDataToSource(t)),i=i||{},e=(e||[]).slice();for(var n=(i.dimsDef||[]).slice(),d=o(),y=o(),b=[],w=function(e,t,i,n){var o=Math.max(e.dimensionsDetectCount||1,t.length,i.length,n||0);return r(t,function(e){var t=e.dimsDef;t&&(o=Math.max(o,t.length))}),o}(t,e,n,i.dimCount),A=0;A<w;A++){var x=n[A]=l({},c(n[A])?n[A]:{name:n[A]}),T=x.name,C=b[A]=new _;null!=T&&null==d.get(T)&&(C.name=C.displayName=T,d.set(T,A)),null!=x.type&&(C.type=x.type),null!=x.displayName&&(C.displayName=x.displayName)}var Z=i.encodeDef;!Z&&i.encodeDefaulter&&(Z=i.encodeDefaulter(t,w)),(Z=o(Z)).each(function(e,t){if(1===(e=u(e).slice()).length&&!s(e[0])&&e[0]<0)Z.set(t,!1);else{var i=Z.set(t,[]);r(e,function(e,n){s(e)&&(e=d.get(e)),null!=e&&e<w&&(i[n]=e,S(b[e],t,n))})}});var k=0;function S(e,t,i){null!=m.get(t)?e.otherDims[t]=i:(e.coordDim=t,e.coordDimIndex=i,y.set(t,!0))}r(e,function(e,t){var i,n,o;if(s(e))i=e,e={};else{i=e.name;var l=e.ordinalMeta;e.ordinalMeta=null,(e=h(e)).ordinalMeta=l,n=e.dimsDef,o=e.otherDims,e.name=e.coordDim=e.coordDimIndex=e.dimsDef=e.otherDims=null}if(!1!==(d=Z.get(i))){var d;if(!(d=u(d)).length)for(var p=0;p<(n&&n.length||1);p++){for(;k<b.length&&null!=b[k].coordDim;)k++;k<b.length&&d.push(k++)}r(d,function(t,r){var s=b[t];if(S(a(s,e),i,r),null==s.name&&n){var l=n[r];!c(l)&&(l={name:l}),s.name=s.displayName=l.name,s.defaultTooltip=l.defaultTooltip}o&&a(s.otherDims,o)})}});var E=i.generateCoord,M=i.generateCoordCount,O=null!=M;M=E?M||1:0;for(var I=E||"value",P=0;P<w;P++)null==(C=b[P]=b[P]||new _).coordDim&&(C.coordDim=v(I,y,O),C.coordDimIndex=0,(!E||M<=0)&&(C.isExtraCoord=!0),M--),null==C.name&&(C.name=v(C.coordDim,d)),null==C.type&&(p(t,P,C.name)===g.Must||C.isExtraCoord&&(null!=C.otherDims.itemName||null!=C.otherDims.seriesName))&&(C.type="ordinal");return b}},79178:function(e,t,i){var n=i(94075);e.exports=function(e,t){return n((t=t||{}).coordDimensions||[],e,{dimsDef:t.dimensionsDefine||e.dimensionsDefine,encodeDef:t.encodeDefine||e.encodeDefine,dimCount:t.dimensionsCount,encodeDefaulter:t.encodeDefaulter,generateCoord:t.generateCoord,generateCoordCount:t.generateCoordCount})}},56153:function(e,t,i){i(59963);var n=i(40628),o=n.extend,r=n.each,s=n.isObject,a=i(91266),l=a.getDataItemValue,c=a.isDataItemOption,h=i(14785).parseDate,u=i(37079),d=i(2181),p=d.SOURCE_FORMAT_TYPED_ARRAY,g=d.SOURCE_FORMAT_ARRAY_ROWS,f=d.SOURCE_FORMAT_ORIGINAL,m=d.SOURCE_FORMAT_OBJECT_ROWS;function _(e,t){u.isInstance(e)||(e=u.seriesDataToSource(e)),this._source=e;var i=this._data=e.data,n=e.sourceFormat;n===p&&(this._offset=0,this._dimSize=t,this._data=i),o(this,y[n===g?n+"_"+e.seriesLayoutBy:n])}var v=_.prototype;v.pure=!1,v.persistent=!0,v.getSource=function(){return this._source};var y={arrayRows_column:{pure:!0,count:function(){return Math.max(0,this._data.length-this._source.startIndex)},getItem:function(e){return this._data[e+this._source.startIndex]},appendData:A},arrayRows_row:{pure:!0,count:function(){var e=this._data[0];return e?Math.max(0,e.length-this._source.startIndex):0},getItem:function(e){e+=this._source.startIndex;for(var t=[],i=this._data,n=0;n<i.length;n++){var o=i[n];t.push(o?o[e]:null)}return t},appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},objectRows:{pure:!0,count:b,getItem:w,appendData:A},keyedColumns:{pure:!0,count:function(){var e=this._data[this._source.dimensionsDefine[0].name];return e?e.length:0},getItem:function(e){for(var t=[],i=this._source.dimensionsDefine,n=0;n<i.length;n++){var o=this._data[i[n].name];t.push(o?o[e]:null)}return t},appendData:function(e){var t=this._data;r(e,function(e,i){for(var n=t[i]||(t[i]=[]),o=0;o<(e||[]).length;o++)n.push(e[o])})}},original:{count:b,getItem:w,appendData:A},typedArray:{persistent:!1,pure:!0,count:function(){return this._data?this._data.length/this._dimSize:0},getItem:function(e,t){t=t||[];for(var i=this._dimSize*(e-=this._offset),n=0;n<this._dimSize;n++)t[n]=this._data[i+n];return t},appendData:function(e){this._data=e},clean:function(){this._offset+=this.count(),this._data=null}}};function b(){return this._data.length}function w(e){return this._data[e]}function A(e){for(var t=0;t<e.length;t++)this._data.push(e[t])}var x={arrayRows:T,objectRows:function(e,t,i,n){return null!=i?e[n]:e},keyedColumns:T,original:function(e,t,i,n){var o=l(e);return null!=i&&o instanceof Array?o[i]:o},typedArray:T};function T(e,t,i,n){return null!=i?e[i]:e}var C={arrayRows:Z,objectRows:function(e,t,i,n){return k(e[t],this._dimensionInfos[t])},keyedColumns:Z,original:function(e,t,i,n){var o=e&&(null==e.value?e:e.value);return!this._rawData.pure&&c(e)&&(this.hasItemOption=!0),k(o instanceof Array?o[n]:o,this._dimensionInfos[t])},typedArray:function(e,t,i,n){return e[n]}};function Z(e,t,i,n){return k(e[n],this._dimensionInfos[t])}function k(e,t){var i=t&&t.type;if("ordinal"===i){var n=t&&t.ordinalMeta;return n?n.parseAndCollect(e):e}return"time"===i&&"number"!=typeof e&&null!=e&&"-"!==e&&(e=+h(e)),null==e||""===e?NaN:+e}t.DefaultDataProvider=_,t.defaultDimValueGetters=C,t.retrieveRawValue=function(e,t,i){if(e){var n=e.getRawDataItem(t);if(null!=n){var o,r,s=e.getProvider().getSource().sourceFormat,a=e.getDimensionInfo(i);return a&&(o=a.name,r=a.index),x[s](n,t,r,o)}}},t.retrieveRawAttr=function(e,t,i){if(e){var n=e.getProvider().getSource().sourceFormat;if(n===f||n===m){var o=e.getRawDataItem(t);if(n===f&&!s(o)&&(o=null),o)return o[i]}}}},50143:function(e,t,i){var n=i(40628),o=n.each,r=n.isString;function s(e,t){return!!t&&t===e.getCalculationInfo("stackedDimension")}t.enableDataStack=function(e,t,i){var n,s,a,l,c=(i=i||{}).byIndex,h=i.stackedCoordDimension,u=!(!e||!e.get("stack"));if(o(t,function(e,i){r(e)&&(t[i]=e={name:e}),u&&!e.isExtraCoord&&(!c&&!n&&e.ordinalMeta&&(n=e),!s&&"ordinal"!==e.type&&"time"!==e.type&&(!h||h===e.coordDim)&&(s=e))}),s&&!c&&!n&&(c=!0),s){a="__\0ecstackresult",l="__\0ecstackedover",n&&(n.createInvertedIndices=!0);var d=s.coordDim,p=s.type,g=0;o(t,function(e){e.coordDim===d&&g++}),t.push({name:a,coordDim:d,coordDimIndex:g,type:p,isExtraCoord:!0,isCalculationCoord:!0}),g++,t.push({name:l,coordDim:l,coordDimIndex:g,type:p,isExtraCoord:!0,isCalculationCoord:!0})}return{stackedDimension:s&&s.name,stackedByDimension:n&&n.name,isStackedByIndex:c,stackedOverDimension:l,stackResultDimension:a}},t.isDimensionStacked=s,t.getStackedDimension=function(e,t){return s(e,t)?e.getCalculationInfo("stackResultDimension"):t}},91577:function(e,t,i){var n=i(40628),o=n.each,r=n.createHashMap,s=(i(59963),r(["tooltip","label","itemName","itemId","seriesName"]));function a(e,t){return e.hasOwnProperty(t)||(e[t]=[]),e[t]}t.OTHER_DIMENSIONS=s,t.summarizeDimensions=function(e){var t={},i=t.encode={},n=r(),l=[],c=[],h=t.userOutput={dimensionNames:e.dimensions.slice(),encode:{}};o(e.dimensions,function(t){var o=e.getDimensionInfo(t),r=o.coordDim;if(r){var u=o.coordDimIndex;a(i,r)[u]=t,o.isExtraCoord||(n.set(r,1),function(e){return!("ordinal"===e||"time"===e)}(o.type)&&(l[0]=t),a(h.encode,r)[u]=o.index),o.defaultTooltip&&c.push(t)}s.each(function(e,t){var n=a(i,t),r=o.otherDims[t];null!=r&&!1!==r&&(n[r]=o.name)})});var u=[],d={};n.each(function(e,t){var n=i[t];d[t]=n[0],u=u.concat(n)}),t.dataDimsOnCoord=u,t.encodeFirstDimNotExtra=d;var p=i.label;p&&p.length&&(l=p.slice());var g=i.tooltip;return g&&g.length?c=g.slice():c.length||(c=l.slice()),i.defaultedLabel=l,i.defaultedTooltip=c,t},t.getDimensionTypeByAxis=function(e){return"category"===e?"ordinal":"time"===e?"time":"float"}},53756:function(e,t,i){var n=i(40628),o=n.each,r="\0__link_datas",s="\0__link_mainData";function a(e,t){if(function(e){return e[s]===e}(this)){var i=n.extend({},this[r]);i[this.dataType]=t,u(t,i,e)}else d(t,this.dataType,this[s],e);return t}function l(e,t){return e.struct&&e.struct.update(this),t}function c(e,t){return o(t[r],function(i,n){i!==t&&d(i.cloneShallow(),n,t,e)}),t}function h(e){var t=this[s];return null==e||null==t?t:t[r][e]}function u(e,t,i){e[r]={},o(t,function(t,n){d(t,n,e,i)})}function d(e,t,i,n){i[r][t]=e,e[s]=i,e.dataType=t,n.struct&&(e[n.structAttr]=n.struct,n.struct[n.datasAttr[t]]=e),e.getLinkedData=h}e.exports=function(e){var t=e.mainData,i=e.datas;i||(i={main:t},e.datasAttr={main:"data"}),e.datas=e.mainData=null,u(t,i,e),o(i,function(i){o(t.TRANSFERABLE_METHODS,function(t){i.wrapMethod(t,n.curry(a,e))})}),t.wrapMethod("cloneShallow",n.curry(c,e)),o(t.CHANGABLE_METHODS,function(i){t.wrapMethod(i,n.curry(l,e))}),n.assert(i[t.dataType]===t)}},26153:function(e,t,i){i(59963);var n=i(91266),o=n.makeInner,r=n.getDataItemValue,s=i(40628),a=s.createHashMap,l=s.each,c=s.map,h=s.isArray,u=s.isString,d=s.isObject,p=s.isTypedArray,g=s.isArrayLike,f=s.extend,m=i(37079),_=i(2181),v=_.SOURCE_FORMAT_ORIGINAL,y=_.SOURCE_FORMAT_ARRAY_ROWS,b=_.SOURCE_FORMAT_OBJECT_ROWS,w=_.SOURCE_FORMAT_KEYED_COLUMNS,A=_.SOURCE_FORMAT_UNKNOWN,x=_.SOURCE_FORMAT_TYPED_ARRAY,T=_.SERIES_LAYOUT_BY_ROW,C={Must:1,Might:2,Not:3},Z=o();function k(e){if(e){var t=a();return c(e,function(e,i){if(null==(e=f({},d(e)?e:{name:e})).name)return e;e.name+="",null==e.displayName&&(e.displayName=e.name);var n=t.get(e.name);return n?e.name+="-"+n.count++:t.set(e.name,{count:1}),e})}}function S(e,t,i,n){if(null==n&&(n=1/0),t===T)for(var o=0;o<i.length&&o<n;o++)e(i[o]?i[o][0]:null,o);else{var r=i[0]||[];for(o=0;o<r.length&&o<n;o++)e(r[o],o)}}function E(e){var t=e.option;if(!t.data)return e.ecModel.getComponent("dataset",t.datasetIndex||0)}function M(e,t,i,n,o,s){var a,l,c;if(p(e))return C.Not;if(n){var g=n[s];d(g)?(l=g.name,c=g.type):u(g)&&(l=g)}if(null!=c)return"ordinal"===c?C.Must:C.Not;if(t===y)if(i===T){for(var f=e[s],m=0;m<(f||[]).length&&m<5;m++)if(null!=(a=Z(f[o+m])))return a}else for(m=0;m<e.length&&m<5;m++){var _=e[o+m];if(_&&null!=(a=Z(_[s])))return a}else if(t===b){if(!l)return C.Not;for(m=0;m<e.length&&m<5;m++)if((A=e[m])&&null!=(a=Z(A[l])))return a}else if(t===w){if(!l)return C.Not;if(!(f=e[l])||p(f))return C.Not;for(m=0;m<f.length&&m<5;m++)if(null!=(a=Z(f[m])))return a}else if(t===v)for(m=0;m<e.length&&m<5;m++){var A,x=r(A=e[m]);if(!h(x))return C.Not;if(null!=(a=Z(x[s])))return a}function Z(e){var t=u(e);return null!=e&&isFinite(e)&&""!==e?t?C.Might:C.Not:t&&"-"!==e?C.Must:void 0}return C.Not}t.BE_ORDINAL=C,t.detectSourceFormat=function(e){var t=e.option.source,i=A;if(p(t))i=x;else if(h(t)){0===t.length&&(i=y);for(var n=0,o=t.length;n<o;n++){var r=t[n];if(null!=r){if(h(r)){i=y;break}if(d(r)){i=b;break}}}}else if(d(t)){for(var s in t)if(t.hasOwnProperty(s)&&g(t[s])){i=w;break}}else if(null!=t)throw new Error("Invalid data");Z(e).sourceFormat=i},t.getSource=function(e){return Z(e).source},t.resetSourceDefaulter=function(e){Z(e).datasetMap=a()},t.prepareSource=function(e){var t=e.option,i=t.data,n=p(i)?x:v,o=!1,s=t.seriesLayoutBy,a=t.sourceHeader,c=t.dimensions,d=E(e);if(d){var g=d.option;i=g.source,n=Z(d).sourceFormat,o=!0,s=s||g.seriesLayoutBy,null==a&&(a=g.sourceHeader),c=c||g.dimensions}var f=function(e,t,i,n,o){if(!e)return{dimensionsDefine:k(o)};var s,a;if(t===y)"auto"===n||null==n?S(function(e){null!=e&&"-"!==e&&(u(e)?null==a&&(a=1):a=0)},i,e,10):a=n?1:0,!o&&1===a&&(o=[],S(function(e,t){o[t]=null!=e?e:""},i,e)),s=o?o.length:i===T?e.length:e[0]?e[0].length:null;else if(t===b)o||(o=function(e){for(var t,i=0;i<e.length&&!(t=e[i++]););if(t){var n=[];return l(t,function(e,t){n.push(t)}),n}}(e));else if(t===w)o||(o=[],l(e,function(e,t){o.push(t)}));else if(t===v){var c=r(e[0]);s=h(c)&&c.length||1}return{startIndex:a,dimensionsDefine:k(o),dimensionsDetectCount:s}}(i,n,s,a,c);Z(e).source=new m({data:i,fromDataset:o,seriesLayoutBy:s,sourceFormat:n,dimensionsDefine:f.dimensionsDefine,startIndex:f.startIndex,dimensionsDetectCount:f.dimensionsDetectCount,encodeDefine:t.encode})},t.makeSeriesEncodeForAxisCoordSys=function(e,t,i){var n={},o=E(t);if(!o||!e)return n;var r,s,a=[],c=[],h=Z(t.ecModel).datasetMap,u=o.uid+"_"+i.seriesLayoutBy;e=e.slice(),l(e,function(t,i){!d(t)&&(e[i]={name:t}),"ordinal"===t.type&&null==r&&(r=i,s=f(e[i])),n[t.name]=[]});var p=h.get(u)||h.set(u,{categoryWayDim:s,valueWayDim:0});function g(e,t,i){for(var n=0;n<i;n++)e.push(t+n)}function f(e){var t=e.dimsDef;return t?t.length:1}return l(e,function(e,t){var i=e.name,o=f(e);if(null==r)g(n[i],s=p.valueWayDim,o),g(c,s,o),p.valueWayDim+=o;else if(r===t)g(n[i],0,o),g(a,0,o);else{var s;g(n[i],s=p.categoryWayDim,o),g(c,s,o),p.categoryWayDim+=o}}),a.length&&(n.itemName=a),c.length&&(n.seriesName=c),n},t.makeSeriesEncodeForNameBased=function(e,t,i){var n={};if(!E(e))return n;var o,r=t.sourceFormat,s=t.dimensionsDefine;(r===b||r===w)&&l(s,function(e,t){"name"===(d(e)?e.name:e)&&(o=t)});var a=function(){for(var e={},n={},a=[],l=0,c=Math.min(5,i);l<c;l++){var h=M(t.data,r,t.seriesLayoutBy,s,t.startIndex,l);a.push(h);var u=h===C.Not;if(u&&null==e.v&&l!==o&&(e.v=l),(null==e.n||e.n===e.v||!u&&a[e.n]===C.Not)&&(e.n=l),d(e)&&a[e.n]!==C.Not)return e;u||(h===C.Might&&null==n.v&&l!==o&&(n.v=l),(null==n.n||n.n===n.v)&&(n.n=l))}function d(e){return null!=e.v&&null!=e.n}return d(e)?e:d(n)?n:null}();if(a){n.value=a.v;var c=null!=o?o:a.n;n.itemName=[c],n.seriesName=[c]}return n},t.guessOrdinal=function(e,t){return M(e.data,e.sourceFormat,e.seriesLayoutBy,e.dimensionsDefine,e.startIndex,t)}},2181:function(e,t){t.SOURCE_FORMAT_ORIGINAL="original",t.SOURCE_FORMAT_ARRAY_ROWS="arrayRows",t.SOURCE_FORMAT_OBJECT_ROWS="objectRows",t.SOURCE_FORMAT_KEYED_COLUMNS="keyedColumns",t.SOURCE_FORMAT_UNKNOWN="unknown",t.SOURCE_FORMAT_TYPED_ARRAY="typedArray",t.SERIES_LAYOUT_BY_COLUMN="column",t.SERIES_LAYOUT_BY_ROW="row"},90650:function(e,t,i){i(59963);var n=i(56037),o=i(40628),r=i(10312),s=i(10169),a=i(69995),l=i(62361),c=i(40190),h=i(71276),u=i(3387),d=i(57215),p=i(12696),g=i(34945),f=i(39447),m=i(29521),_=i(69899),v=i(31005),y=i(62429),b=i(91266),w=i(90357).throttle,A=i(18849),x=i(69330),T=i(79953),C=i(1691),Z=i(66239),k=i(49958);i(55209);var S=i(60929),E=o.assert,M=o.each,O=o.isFunction,I=o.isObject,P=f.parseClassType,R="__flagInMainProcess",q="__optionUpdated",L=/^[a-zA-Z0-9_]+$/;function U(e,t){return function(i,n,o){!t&&this._disposed||(i=i&&i.toLowerCase(),l.prototype[e].call(this,i,n,o))}}function B(){l.call(this)}function D(e,t,i){i=i||{},"string"==typeof t&&(t=ce[t]),this._dom=e;var r=this._zr=n.init(e,{renderer:i.renderer||"canvas",devicePixelRatio:i.devicePixelRatio,width:i.width,height:i.height});this._throttledZrFlush=w(o.bind(r.flush,r),17),(t=o.clone(t))&&p(t,!0),this._theme=t,this._chartsViews=[],this._chartsMap={},this._componentsViews=[],this._componentsMap={},this._coordSysMgr=new u;var s=this._api=function(e){var t=e._coordSysMgr;return o.extend(new h(e),{getCoordinateSystems:o.bind(t.getCoordinateSystems,t),getComponentByElement:function(t){for(;t;){var i=t.__ecComponentInfo;if(null!=i)return e._model.getComponent(i.mainType,i.index);t=t.parent}}})}(this);function c(e,t){return e.__prio-t.__prio}a(le,c),a(re,c),this._scheduler=new C(this,s,re,le),l.call(this,this._ecEventProcessor=new ie),this._messageCenter=new B,this._initEvents(),this.resize=o.bind(this.resize,this),this._pendingActions=[],r.animation.on("frame",this._onframe,this),function(e,t){e.on("rendered",function(){t.trigger("rendered"),e.animation.isFinished()&&!t[q]&&!t._scheduler.unfinished&&!t._pendingActions.length&&t.trigger("finished")})}(r,this),o.setAsPrimitive(this)}B.prototype.on=U("on",!0),B.prototype.off=U("off",!0),B.prototype.one=U("one",!0),o.mixin(B,l);var N=D.prototype;function F(e,t,i){if(!this._disposed){var n,o=this._model,r=this._coordSysMgr.getCoordinateSystems();t=b.parseFinder(o,t);for(var s=0;s<r.length;s++){var a=r[s];if(a[e]&&null!=(n=a[e](o,t,i)))return n}}}N._onframe=function(){if(!this._disposed){var e=this._scheduler;if(this[q]){var t=this[q].silent;this[R]=!0,$(this),H.update.call(this),this[R]=!1,this[q]=!1,W.call(this,t),G.call(this,t)}else if(e.unfinished){var i=1,n=this._model;e.unfinished=!1;do{var o=+new Date;e.performSeriesTasks(n),e.performDataProcessorTasks(n),V(this,n),e.performVisualTasks(n),J(this,this._model,0,"remain"),i-=+new Date-o}while(i>0&&e.unfinished);e.unfinished||this._zr.flush()}}},N.getDom=function(){return this._dom},N.getZr=function(){return this._zr},N.setOption=function(e,t,i){if(!this._disposed){var n;if(I(t)&&(i=t.lazyUpdate,n=t.silent,t=t.notMerge),this[R]=!0,!this._model||t){var o=new d(this._api),r=this._theme,s=this._model=new c;s.scheduler=this._scheduler,s.init(null,null,r,o)}this._model.setOption(e,se),i?(this[q]={silent:n},this[R]=!1):($(this),H.update.call(this),this._zr.flush(),this[q]=!1,this[R]=!1,W.call(this,n),G.call(this,n))}},N.setTheme=function(){console.error("ECharts#setTheme() is DEPRECATED in ECharts 3.0")},N.getModel=function(){return this._model},N.getOption=function(){return this._model&&this._model.getOption()},N.getWidth=function(){return this._zr.getWidth()},N.getHeight=function(){return this._zr.getHeight()},N.getDevicePixelRatio=function(){return this._zr.painter.dpr||window.devicePixelRatio||1},N.getRenderedCanvas=function(e){if(s.canvasSupported)return(e=e||{}).pixelRatio=e.pixelRatio||1,e.backgroundColor=e.backgroundColor||this._model.get("backgroundColor"),this._zr.painter.getRenderedCanvas(e)},N.getSvgDataURL=function(){if(s.svgSupported){var e=this._zr,t=e.storage.getDisplayList();return o.each(t,function(e){e.stopAnimation(!0)}),e.painter.toDataURL()}},N.getDataURL=function(e){if(!this._disposed){var t=this._model,i=[],n=this;M((e=e||{}).excludeComponents,function(e){t.eachComponent({mainType:e},function(e){var t=n._componentsMap[e.__viewId];t.group.ignore||(i.push(t),t.group.ignore=!0)})});var o="svg"===this._zr.painter.getType()?this.getSvgDataURL():this.getRenderedCanvas(e).toDataURL("image/"+(e&&e.type||"png"));return M(i,function(e){e.group.ignore=!1}),o}},N.getConnectedDataURL=function(e){if(!this._disposed&&s.canvasSupported){var t="svg"===e.type,i=this.group,r=Math.min,a=Math.max,l=1/0;if(de[i]){var c=l,h=l,u=-l,d=-l,p=[],g=e&&e.pixelRatio||1;o.each(ue,function(n,s){if(n.group===i){var l=t?n.getZr().painter.getSvgDom().innerHTML:n.getRenderedCanvas(o.clone(e)),g=n.getDom().getBoundingClientRect();c=r(g.left,c),h=r(g.top,h),u=a(g.right,u),d=a(g.bottom,d),p.push({dom:l,left:g.left,top:g.top})}});var f=(u*=g)-(c*=g),m=(d*=g)-(h*=g),_=o.createCanvas(),v=n.init(_,{renderer:t?"svg":"canvas"});if(v.resize({width:f,height:m}),t){var b="";return M(p,function(e){b+='<g transform="translate('+(e.left-c)+","+(e.top-h)+')">'+e.dom+"</g>"}),v.painter.getSvgRoot().innerHTML=b,e.connectedBackgroundColor&&v.painter.setBackgroundColor(e.connectedBackgroundColor),v.refreshImmediately(),v.painter.toDataURL()}return e.connectedBackgroundColor&&v.add(new y.Rect({shape:{x:0,y:0,width:f,height:m},style:{fill:e.connectedBackgroundColor}})),M(p,function(e){var t=new y.Image({style:{x:e.left*g-c,y:e.top*g-h,image:e.dom}});v.add(t)}),v.refreshImmediately(),_.toDataURL("image/"+(e&&e.type||"png"))}return this.getDataURL(e)}},N.convertToPixel=o.curry(F,"convertToPixel"),N.convertFromPixel=o.curry(F,"convertFromPixel"),N.containPixel=function(e,t){var i;if(!this._disposed)return e=b.parseFinder(this._model,e),o.each(e,function(e,n){n.indexOf("Models")>=0&&o.each(e,function(e){var o=e.coordinateSystem;if(o&&o.containPoint)i|=!!o.containPoint(t);else if("seriesModels"===n){var r=this._chartsMap[e.__viewId];r&&r.containPoint&&(i|=r.containPoint(t,e))}},this)},this),!!i},N.getVisual=function(e,t){var i=(e=b.parseFinder(this._model,e,{defaultMainType:"series"})).seriesModel.getData(),n=e.hasOwnProperty("dataIndexInside")?e.dataIndexInside:e.hasOwnProperty("dataIndex")?i.indexOfRawIndex(e.dataIndex):null;return null!=n?i.getItemVisual(n,t):i.getVisual(t)},N.getViewOfComponentModel=function(e){return this._componentsMap[e.__viewId]},N.getViewOfSeriesModel=function(e){return this._chartsMap[e.__viewId]};var H={prepareAndUpdate:function(e){$(this),H.update.call(this,e)},update:function(e){var t=this._model,i=this._api,n=this._zr,o=this._coordSysMgr,a=this._scheduler;if(t){a.restoreData(t,e),a.performSeriesTasks(t),o.create(t,i),a.performDataProcessorTasks(t,e),V(this,t),o.update(t,i),j(t),a.performVisualTasks(t,e),X(this,t,i,e);var l=t.get("backgroundColor")||"transparent";if(s.canvasSupported)n.setBackgroundColor(l);else{var c=r.parse(l);l=r.stringify(c,"rgb"),0===c[3]&&(l="transparent")}Q(t,i)}},updateTransform:function(e){var t=this._model,i=this,n=this._api;if(t){var r=[];t.eachComponent(function(o,s){var a=i.getViewOfComponentModel(s);if(a&&a.__alive)if(a.updateTransform){var l=a.updateTransform(s,t,n,e);l&&l.update&&r.push(a)}else r.push(a)});var s=o.createHashMap();t.eachSeries(function(o){var r=i._chartsMap[o.__viewId];if(r.updateTransform){var a=r.updateTransform(o,t,n,e);a&&a.update&&s.set(o.uid,1)}else s.set(o.uid,1)}),j(t),this._scheduler.performVisualTasks(t,e,{setDirty:!0,dirtyMap:s}),J(i,t,0,e,s),Q(t,this._api)}},updateView:function(e){var t=this._model;!t||(v.markUpdateMethod(e,"updateView"),j(t),this._scheduler.performVisualTasks(t,e,{setDirty:!0}),X(this,this._model,this._api,e),Q(t,this._api))},updateVisual:function(e){H.update.call(this,e)},updateLayout:function(e){H.update.call(this,e)}};function $(e){var t=e._model,i=e._scheduler;i.restorePipelines(t),i.prepareStageTasks(),Y(e,"component",t,i),Y(e,"chart",t,i),i.plan()}function z(e,t,i,n,r){var s=e._model;if(n){var a={};a[n+"Id"]=i[n+"Id"],a[n+"Index"]=i[n+"Index"],a[n+"Name"]=i[n+"Name"];var l={mainType:n,query:a};r&&(l.subType=r);var c=i.excludeSeriesId;null!=c&&(c=o.createHashMap(b.normalizeToArray(c))),s&&s.eachComponent(l,function(t){(!c||null==c.get(t.id))&&h(e["series"===n?"_chartsMap":"_componentsMap"][t.__viewId])},e)}else M(e._componentsViews.concat(e._chartsViews),h);function h(n){n&&n.__alive&&n[t]&&n[t](n.__model,s,e._api,i)}}function V(e,t){var i=e._chartsMap,n=e._scheduler;t.eachSeries(function(e){n.updateStreamModes(e,i[e.__viewId])})}function K(e,t){var i=e.type,n=e.escapeConnect,r=ne[i],s=r.actionInfo,a=(s.update||"update").split(":"),l=a.pop();a=null!=a[0]&&P(a[0]),this[R]=!0;var c=[e],h=!1;e.batch&&(h=!0,c=o.map(e.batch,function(t){return(t=o.defaults(o.extend({},t),e)).batch=null,t}));var u,d=[],p="highlight"===i||"downplay"===i;M(c,function(e){(u=(u=r.action(e,this._model,this._api))||o.extend({},e)).type=s.event||u.type,d.push(u),p?z(this,l,e,"series"):a&&z(this,l,e,a.main,a.sub)},this),"none"!==l&&!p&&!a&&(this[q]?($(this),H.update.call(this,e),this[q]=!1):H[l].call(this,e)),u=h?{type:s.event||i,escapeConnect:n,batch:d}:d[0],this[R]=!1,!t&&this._messageCenter.trigger(u.type,u)}function W(e){for(var t=this._pendingActions;t.length;){var i=t.shift();K.call(this,i,e)}}function G(e){!e&&this.trigger("updated")}function Y(e,t,i,n){for(var o="component"===t,r=o?e._componentsViews:e._chartsViews,s=o?e._componentsMap:e._chartsMap,a=e._zr,l=e._api,c=0;c<r.length;c++)r[c].__alive=!1;function h(e){var t="_ec_"+e.id+"_"+e.type,c=s[t];if(!c){var h=P(e.type);(c=new(o?_.getClass(h.main,h.sub):v.getClass(h.sub))).init(i,l),s[t]=c,r.push(c),a.add(c.group)}e.__viewId=c.__id=t,c.__alive=!0,c.__model=e,c.group.__ecComponentInfo={mainType:e.mainType,index:e.componentIndex},!o&&n.prepareView(c,e,i,l)}for(o?i.eachComponent(function(e,t){"series"!==e&&h(t)}):i.eachSeries(h),c=0;c<r.length;){var u=r[c];u.__alive?c++:(!o&&u.renderTask.dispose(),a.remove(u.group),u.dispose(i,l),r.splice(c,1),delete s[u.__id],u.__id=u.group.__ecComponentInfo=null)}}function j(e){e.clearColorPalette(),e.eachSeries(function(e){e.clearColorPalette()})}function X(e,t,i,n){(function(e,t,i,n,o){M(e._componentsViews,function(e){var o=e.__model;e.render(o,t,i,n),te(o,e)})})(e,t,i,n),M(e._chartsViews,function(e){e.__alive=!1}),J(e,t,0,n),M(e._chartsViews,function(e){e.__alive||e.remove(t,i)})}function J(e,t,i,n,o){var r,a=e._scheduler;t.eachSeries(function(t){var i=e._chartsMap[t.__viewId];i.__alive=!0;var s=i.renderTask;a.updatePayload(s,n),o&&o.get(t.uid)&&s.dirty(),r|=s.perform(a.getPerformArgs(s)),i.group.silent=!!t.get("silent"),te(t,i),function(e,t){var i=e.get("blendMode")||null;t.group.traverse(function(e){e.isGroup||e.style.blend!==i&&e.setStyle("blend",i),e.eachPendingDisplayable&&e.eachPendingDisplayable(function(e){e.setStyle("blend",i)})})}(t,i)}),a.unfinished|=r,function(e,t){var i=0;e._zr.storage.traverse(function(e){i++}),i>t.get("hoverLayerThreshold")&&!s.node&&t.eachSeries(function(t){if(!t.preventUsingHoverLayer){var i=e._chartsMap[t.__viewId];i.__alive&&i.group.traverse(function(e){e.useHoverLayer=!0})}})}(e,t),x(e._zr.dom,t)}function Q(e,t){M(ae,function(i){i(e,t)})}N.resize=function(e){if(!this._disposed){this._zr.resize(e);var t=this._model;if(this._loadingFX&&this._loadingFX.resize(),t){var i=t.resetOption("media"),n=e&&e.silent;this[R]=!0,i&&$(this),H.update.call(this),this[R]=!1,W.call(this,n),G.call(this,n)}}},N.showLoading=function(e,t){if(!this._disposed&&(I(e)&&(t=e,e=""),e=e||"default",this.hideLoading(),he[e])){var i=he[e](this._api,t),n=this._zr;this._loadingFX=i,n.add(i)}},N.hideLoading=function(){this._disposed||(this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null)},N.makeActionFromEvent=function(e){var t=o.extend({},e);return t.type=oe[e.type],t},N.dispatchAction=function(e,t){if(!this._disposed&&(I(t)||(t={silent:!!t}),ne[e.type]&&this._model)){if(this[R])return void this._pendingActions.push(e);K.call(this,e,t.silent),t.flush?this._zr.flush(!0):!1!==t.flush&&s.browser.weChat&&this._throttledZrFlush(),W.call(this,t.silent),G.call(this,t.silent)}},N.appendData=function(e){if(!this._disposed){var t=e.seriesIndex;this.getModel().getSeriesByIndex(t).appendData(e),this._scheduler.unfinished=!0}},N.on=U("on",!1),N.off=U("off",!1),N.one=U("one",!1);var ee=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];function te(e,t){var i=e.get("z"),n=e.get("zlevel");t.group.traverse(function(e){"group"!==e.type&&(null!=i&&(e.z=i),null!=n&&(e.zlevel=n))})}function ie(){}N._initEvents=function(){M(ee,function(e){var t=function(t){var i,n=this.getModel(),r=t.target;if("globalout"===e)i={};else if(r&&null!=r.dataIndex){var s=r.dataModel||n.getSeriesByIndex(r.seriesIndex);i=s&&s.getDataParams(r.dataIndex,r.dataType,r)||{}}else r&&r.eventData&&(i=o.extend({},r.eventData));if(i){var a=i.componentType,l=i.componentIndex;("markLine"===a||"markPoint"===a||"markArea"===a)&&(a="series",l=i.seriesIndex);var c=a&&null!=l&&n.getComponent(a,l),h=c&&this["series"===c.mainType?"_chartsMap":"_componentsMap"][c.__viewId];i.event=t,i.type=e,this._ecEventProcessor.eventInfo={targetEl:r,packedEvent:i,model:c,view:h},this.trigger(e,i)}};t.zrEventfulCallAtLast=!0,this._zr.on(e,t,this)},this),M(oe,function(e,t){this._messageCenter.on(t,function(e){this.trigger(t,e)},this)},this)},N.isDisposed=function(){return this._disposed},N.clear=function(){this._disposed||this.setOption({series:[]},!0)},N.dispose=function(){if(!this._disposed){this._disposed=!0,b.setAttribute(this.getDom(),fe,"");var e=this._api,t=this._model;M(this._componentsViews,function(i){i.dispose(t,e)}),M(this._chartsViews,function(i){i.dispose(t,e)}),this._zr.dispose(),delete ue[this.id]}},o.mixin(D,l),ie.prototype={constructor:ie,normalizeQuery:function(e){var t={},i={},n={};if(o.isString(e)){var r=P(e);t.mainType=r.main||null,t.subType=r.sub||null}else{var s=["Index","Name","Id"],a={name:1,dataIndex:1,dataType:1};o.each(e,function(e,o){for(var r=!1,l=0;l<s.length;l++){var c=s[l],h=o.lastIndexOf(c);if(h>0&&h===o.length-c.length){var u=o.slice(0,h);"data"!==u&&(t.mainType=u,t[c.toLowerCase()]=e,r=!0)}}a.hasOwnProperty(o)&&(i[o]=e,r=!0),r||(n[o]=e)})}return{cptQuery:t,dataQuery:i,otherQuery:n}},filter:function(e,t,i){var n=this.eventInfo;if(!n)return!0;var o=n.targetEl,r=n.packedEvent,s=n.model,a=n.view;if(!s||!a)return!0;var l=t.cptQuery,c=t.dataQuery;return h(l,s,"mainType")&&h(l,s,"subType")&&h(l,s,"index","componentIndex")&&h(l,s,"name")&&h(l,s,"id")&&h(c,r,"name")&&h(c,r,"dataIndex")&&h(c,r,"dataType")&&(!a.filterForExposedEvent||a.filterForExposedEvent(e,t.otherQuery,o,r));function h(e,t,i,n){return null==e[i]||t[n||i]===e[i]}},afterTrigger:function(){this.eventInfo=null}};var ne={},oe={},re=[],se=[],ae=[],le=[],ce={},he={},ue={},de={},pe=new Date-0,ge=new Date-0,fe="_echarts_instance_";function me(e){de[e]=!1}var _e=me;function ve(e){return ue[b.getAttribute(e,fe)]}function ye(e,t){ce[e]=t}function be(e){se.push(e)}function we(e,t){Te(re,e,t,1e3)}function Ae(e,t,i){"function"==typeof t&&(i=t,t="");var n=I(e)?e.type:[e,e={event:t}][0];e.event=(e.event||n).toLowerCase(),t=e.event,E(L.test(n)&&L.test(t)),ne[n]||(ne[n]={action:i,actionInfo:e}),oe[t]=n}function xe(e,t){Te(le,e,t,3e3,"visual")}function Te(e,t,i,n,o){(O(t)||I(t))&&(i=t,t=n);var r=C.wrapStageHandler(i,o);return r.__prio=t,r.__raw=i,e.push(r),r}function Ce(e,t){he[e]=t}xe(2e3,A),be(p),we(900,g),Ce("default",T),Ae({type:"highlight",event:"highlight",update:"highlight"},o.noop),Ae({type:"downplay",event:"downplay",update:"downplay"},o.noop),ye("light",Z),ye("dark",k),t.version="4.9.0",t.dependencies={zrender:"4.3.2"},t.PRIORITY={PROCESSOR:{FILTER:1e3,SERIES_FILTER:800,STATISTIC:5e3},VISUAL:{LAYOUT:1e3,PROGRESSIVE_LAYOUT:1100,GLOBAL:2e3,CHART:3e3,POST_CHART_LAYOUT:3500,COMPONENT:4e3,BRUSH:5e3}},t.init=function(e,t,i){var n=ve(e);if(n)return n;var o=new D(e,t,i);return o.id="ec_"+pe++,ue[o.id]=o,b.setAttribute(e,fe,o.id),function(e){var t="__connectUpdateStatus";function i(e,i){for(var n=0;n<e.length;n++)e[n][t]=i}M(oe,function(n,o){e._messageCenter.on(o,function(n){if(de[e.group]&&0!==e[t]){if(n&&n.escapeConnect)return;var o=e.makeActionFromEvent(n),r=[];M(ue,function(t){t!==e&&t.group===e.group&&r.push(t)}),i(r,0),M(r,function(e){1!==e[t]&&e.dispatchAction(o)}),i(r,2)}})})}(o),o},t.connect=function(e){if(o.isArray(e)){var t=e;e=null,M(t,function(t){null!=t.group&&(e=t.group)}),e=e||"g_"+ge++,M(t,function(t){t.group=e})}return de[e]=!0,e},t.disConnect=me,t.disconnect=_e,t.dispose=function(e){"string"==typeof e?e=ue[e]:e instanceof D||(e=ve(e)),e instanceof D&&!e.isDisposed()&&e.dispose()},t.getInstanceByDom=ve,t.getInstanceById=function(e){return ue[e]},t.registerTheme=ye,t.registerPreprocessor=be,t.registerProcessor=we,t.registerPostUpdate=function(e){ae.push(e)},t.registerAction=Ae,t.registerCoordinateSystem=function(e,t){u.register(e,t)},t.getCoordinateSystemDimensions=function(e){var t=u.get(e);if(t)return t.getDimensionsInfo?t.getDimensionsInfo():t.dimensions.slice()},t.registerLayout=function(e,t){Te(le,e,t,1e3,"layout")},t.registerVisual=xe,t.registerLoading=Ce,t.extendComponentModel=function(e){return f.extend(e)},t.extendComponentView=function(e){return _.extend(e)},t.extendSeriesModel=function(e){return m.extend(e)},t.extendChartView=function(e){return v.extend(e)},t.setCanvasCreator=function(e){o.$override("createCanvas",e)},t.registerMap=function(e,t,i){S.registerMap(e,t,i)},t.getMap=function(e){var t=S.retrieveMap(e);return t&&t[0]&&{geoJson:t[0].geoJSON,specialAreas:t[0].specialAreas}},t.dataTool={};var Ze=i(76909);!function(){for(var e in Ze)Ze.hasOwnProperty(e)&&(t[e]=Ze[e])}()},76909:function(e,t,i){var n=i(56037);t.zrender=n;var o=i(3481);t.matrix=o;var r=i(98221);t.vector=r;var s=i(40628),a=i(10312);t.color=a;var l=i(62429),c=i(14785);t.number=c;var h=i(99706);t.format=h;var u=i(90357);t.throttle=u.throttle;var d=i(91005);t.helper=d;var p=i(80119);t.parseGeoJSON=p;var g=i(84497);t.List=g;var f=i(96948);t.Model=f;var m=i(35556);t.Axis=m;var _=i(10169);t.env=_;var v=p,y={};s.each(["map","each","filter","indexOf","inherits","reduce","filter","bind","curry","isArray","isString","isObject","isFunction","extend","defaults","clone","merge"],function(e){y[e]=s[e]});var b={};s.each(["extendShape","extendPath","makePath","makeImage","mergePath","resizePath","createIcon","setHoverStyle","setLabelStyle","setTextStyle","setText","getFont","updateProps","initProps","getTransform","clipPointsByRect","clipRectByRect","registerShape","getShapeClass","Group","Image","Text","Circle","Sector","Ring","Polygon","Polyline","Rect","Line","BezierCurve","Arc","IncrementalDisplayable","CompoundPath","LinearGradient","RadialGradient","BoundingRect"],function(e){b[e]=l[e]}),t.parseGeoJson=v,t.util=y,t.graphic=b},91005:function(e,t,i){var n=i(40628),o=i(52461),r=i(63635),s=i(92385),a=i(96948),l=i(40634);t.getLayoutRect=l.getLayoutRect;var c=i(50143),h=c.enableDataStack,u=c.isDimensionStacked,d=c.getStackedDimension,p=i(94075);t.completeDimensions=p;var g=i(79178);t.createDimensions=g;var f=i(34550);t.createSymbol=f.createSymbol;var m={isDimensionStacked:u,enableDataStack:h,getStackedDimension:d};t.createList=function(e){return o(e.getSource(),e)},t.dataStack=m,t.createScale=function(e,t){var i=t;a.isInstance(t)||(i=new a(t),n.mixin(i,s));var o=r.createScaleByModel(i);return o.setExtent(e[0],e[1]),r.niceScaleExtent(o,i),o},t.mixinAxisModelCommonMethods=function(e){n.mixin(e,s)}},54010:function(e){e.exports={legend:{selector:{all:"\u5168\u9009",inverse:"\u53cd\u9009"}},toolbox:{brush:{title:{rect:"\u77e9\u5f62\u9009\u62e9",polygon:"\u5708\u9009",lineX:"\u6a2a\u5411\u9009\u62e9",lineY:"\u7eb5\u5411\u9009\u62e9",keep:"\u4fdd\u6301\u9009\u62e9",clear:"\u6e05\u9664\u9009\u62e9"}},dataView:{title:"\u6570\u636e\u89c6\u56fe",lang:["\u6570\u636e\u89c6\u56fe","\u5173\u95ed","\u5237\u65b0"]},dataZoom:{title:{zoom:"\u533a\u57df\u7f29\u653e",back:"\u533a\u57df\u7f29\u653e\u8fd8\u539f"}},magicType:{title:{line:"\u5207\u6362\u4e3a\u6298\u7ebf\u56fe",bar:"\u5207\u6362\u4e3a\u67f1\u72b6\u56fe",stack:"\u5207\u6362\u4e3a\u5806\u53e0",tiled:"\u5207\u6362\u4e3a\u5e73\u94fa"}},restore:{title:"\u8fd8\u539f"},saveAsImage:{title:"\u4fdd\u5b58\u4e3a\u56fe\u7247",lang:["\u53f3\u952e\u53e6\u5b58\u4e3a\u56fe\u7247"]}},series:{typeNames:{pie:"\u997c\u56fe",bar:"\u67f1\u72b6\u56fe",line:"\u6298\u7ebf\u56fe",scatter:"\u6563\u70b9\u56fe",effectScatter:"\u6d9f\u6f2a\u6563\u70b9\u56fe",radar:"\u96f7\u8fbe\u56fe",tree:"\u6811\u56fe",treemap:"\u77e9\u5f62\u6811\u56fe",boxplot:"\u7bb1\u578b\u56fe",candlestick:"K\u7ebf\u56fe",k:"K\u7ebf\u56fe",heatmap:"\u70ed\u529b\u56fe",map:"\u5730\u56fe",parallel:"\u5e73\u884c\u5750\u6807\u56fe",lines:"\u7ebf\u56fe",graph:"\u5173\u7cfb\u56fe",sankey:"\u6851\u57fa\u56fe",funnel:"\u6f0f\u6597\u56fe",gauge:"\u4eea\u8868\u76d8\u56fe",pictorialBar:"\u8c61\u5f62\u67f1\u56fe",themeRiver:"\u4e3b\u9898\u6cb3\u6d41\u56fe",sunburst:"\u65ed\u65e5\u56fe"}},aria:{general:{withTitle:"\u8fd9\u662f\u4e00\u4e2a\u5173\u4e8e\u201c{title}\u201d\u7684\u56fe\u8868\u3002",withoutTitle:"\u8fd9\u662f\u4e00\u4e2a\u56fe\u8868\uff0c"},series:{single:{prefix:"",withName:"\u56fe\u8868\u7c7b\u578b\u662f{seriesType}\uff0c\u8868\u793a{seriesName}\u3002",withoutName:"\u56fe\u8868\u7c7b\u578b\u662f{seriesType}\u3002"},multiple:{prefix:"\u5b83\u7531{seriesCount}\u4e2a\u56fe\u8868\u7cfb\u5217\u7ec4\u6210\u3002",withName:"\u7b2c{seriesId}\u4e2a\u7cfb\u5217\u662f\u4e00\u4e2a\u8868\u793a{seriesName}\u7684{seriesType}\uff0c",withoutName:"\u7b2c{seriesId}\u4e2a\u7cfb\u5217\u662f\u4e00\u4e2a{seriesType}\uff0c",separator:{middle:"\uff1b",end:"\u3002"}}},data:{allData:"\u5176\u6570\u636e\u662f\u2014\u2014",partialData:"\u5176\u4e2d\uff0c\u524d{displayCnt}\u9879\u662f\u2014\u2014",withName:"{name}\u7684\u6570\u636e\u662f{value}",withoutName:"{value}",separator:{middle:"\uff0c",end:""}}}}},22154:function(e,t,i){var n=i(40628),o=i(14785).parsePercent,r=i(50143).isDimensionStacked,s=i(15103),a="__ec_stack_",l="undefined"!=typeof Float32Array?Float32Array:Array;function c(e){return e.get("stack")||a+e.seriesIndex}function h(e){return e.dim+e.index}function u(e,t){var i=[];return t.eachSeriesByType(e,function(e){m(e)&&!_(e)&&i.push(e)}),i}function d(e){var t=function(e){var t={};n.each(e,function(e){var i=e.coordinateSystem.getBaseAxis();if("time"===i.type||"value"===i.type)for(var n=e.getData(),o=i.dim+"_"+i.index,r=n.mapDimension(i.dim),s=0,a=n.count();s<a;++s){var l=n.get(r,s);t[o]?t[o].push(l):t[o]=[l]}});var i=[];for(var o in t)if(t.hasOwnProperty(o)){var r=t[o];if(r){r.sort(function(e,t){return e-t});for(var s=null,a=1;a<r.length;++a){var l=r[a]-r[a-1];l>0&&(s=null===s?l:Math.min(s,l))}i[o]=s}}return i}(e),i=[];return n.each(e,function(e){var n,r=e.coordinateSystem.getBaseAxis(),s=r.getExtent();if("category"===r.type)n=r.getBandWidth();else if("value"===r.type||"time"===r.type){var a=t[r.dim+"_"+r.index],l=Math.abs(s[1]-s[0]),u=r.scale.getExtent(),d=Math.abs(u[1]-u[0]);n=a?l/d*a:l}else{var p=e.getData();n=Math.abs(s[1]-s[0])/p.count()}var g=o(e.get("barWidth"),n),f=o(e.get("barMaxWidth"),n),m=o(e.get("barMinWidth")||1,n),_=e.get("barGap"),v=e.get("barCategoryGap");i.push({bandWidth:n,barWidth:g,barMaxWidth:f,barMinWidth:m,barGap:_,barCategoryGap:v,axisKey:h(r),stackId:c(e)})}),p(i)}function p(e){var t={};n.each(e,function(e,i){var n=e.axisKey,o=e.bandWidth,r=t[n]||{bandWidth:o,remainedWidth:o,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},s=r.stacks;t[n]=r;var a=e.stackId;s[a]||r.autoWidthCount++,s[a]=s[a]||{width:0,maxWidth:0};var l=e.barWidth;l&&!s[a].width&&(s[a].width=l,l=Math.min(r.remainedWidth,l),r.remainedWidth-=l);var c=e.barMaxWidth;c&&(s[a].maxWidth=c);var h=e.barMinWidth;h&&(s[a].minWidth=h);var u=e.barGap;null!=u&&(r.gap=u);var d=e.barCategoryGap;null!=d&&(r.categoryGap=d)});var i={};return n.each(t,function(e,t){i[t]={};var r=e.stacks,s=e.bandWidth,a=o(e.categoryGap,s),l=o(e.gap,1),c=e.remainedWidth,h=e.autoWidthCount,u=(c-a)/(h+(h-1)*l);u=Math.max(u,0),n.each(r,function(e){var t=e.maxWidth,i=e.minWidth;if(e.width){var n=e.width;t&&(n=Math.min(n,t)),i&&(n=Math.max(n,i)),e.width=n,c-=n+l*n,h--}else n=u,t&&t<n&&(n=Math.min(t,c)),i&&i>n&&(n=i),n!==u&&(e.width=n,c-=n+l*n,h--)}),u=(c-a)/(h+(h-1)*l),u=Math.max(u,0);var d,p=0;n.each(r,function(e,t){e.width||(e.width=u),d=e,p+=e.width*(1+l)}),d&&(p-=d.width*l);var g=-p/2;n.each(r,function(e,n){i[t][n]=i[t][n]||{bandWidth:s,offset:g,width:e.width},g+=e.width*(1+l)})}),i}function g(e,t,i){if(e&&t){var n=e[h(t)];return null!=n&&null!=i&&(n=n[c(i)]),n}}var f={seriesType:"bar",plan:s(),reset:function(e){if(m(e)&&_(e)){var t=e.getData(),i=e.coordinateSystem,n=i.grid.getRect(),o=i.getBaseAxis(),r=i.getOtherAxis(o),s=t.mapDimension(r.dim),a=t.mapDimension(o.dim),c=r.isHorizontal(),h=c?0:1,u=g(d([e]),o,e).width;return u>.5||(u=.5),{progress:function(e,t){for(var o,d=e.count,p=new l(2*d),g=new l(2*d),f=new l(d),m=[],_=[],y=0,b=0;null!=(o=e.next());)_[h]=t.get(s,o),_[1-h]=t.get(a,o),m=i.dataToPoint(_,null,m),g[y]=c?n.x+n.width:m[0],p[y++]=m[0],g[y]=c?m[1]:n.y+n.height,p[y++]=m[1],f[b++]=o;t.setLayout({largePoints:p,largeDataIndices:f,largeBackgroundPoints:g,barWidth:u,valueAxisStart:v(0,r),backgroundStart:c?n.x:n.y,valueAxisHorizontal:c})}}}}};function m(e){return e.coordinateSystem&&"cartesian2d"===e.coordinateSystem.type}function _(e){return e.pipelineContext&&e.pipelineContext.large}function v(e,t,i){return t.toGlobalCoord(t.dataToCoord("log"===t.type?1:0))}t.getLayoutOnAxis=function(e){var t=[],i=e.axis,o="axis0";if("category"===i.type){for(var r=i.getBandWidth(),s=0;s<e.count;s++)t.push(n.defaults({bandWidth:r,axisKey:o,stackId:a+s},e));var l=p(t),c=[];for(s=0;s<e.count;s++){var h=l[o][a+s];h.offsetCenter=h.offset+h.width/2,c.push(h)}return c}},t.prepareLayoutBarSeries=u,t.makeColumnLayout=d,t.retrieveColumnLayout=g,t.layout=function(e,t){var i=u(e,t),o=d(i),s={},a={};n.each(i,function(e){var t=e.getData(),i=e.coordinateSystem,n=i.getBaseAxis(),l=c(e),u=o[h(n)][l],d=u.offset,p=u.width,g=i.getOtherAxis(n),f=e.get("barMinHeight")||0;s[l]=s[l]||[],a[l]=a[l]||[],t.setLayout({bandWidth:u.bandWidth,offset:d,size:p});for(var m=t.mapDimension(g.dim),_=t.mapDimension(n.dim),y=r(t,m),b=g.isHorizontal(),w=v(0,g),A=0,x=t.count();A<x;A++){var T,C,Z,k,S,E=t.get(m,A),M=t.get(_,A),O=E>=0?"p":"n",I=w;y&&(s[l][M]||(s[l][M]={p:w,n:w}),I=s[l][M][O]),b?(T=I,C=(S=i.dataToPoint([E,M]))[1]+d,Z=S[0]-w,k=p,Math.abs(Z)<f&&(Z=(Z<0?-1:1)*f),isNaN(Z)||y&&(s[l][M][O]+=Z)):(T=(S=i.dataToPoint([M,E]))[0]+d,C=I,Z=p,k=S[1]-w,Math.abs(k)<f&&(k=(k<=0?-1:1)*f),isNaN(k)||y&&(s[l][M][O]+=k)),t.setItemLayout(A,{x:T,y:C,width:Z,height:k})}},this)},t.largeLayout=f},64188:function(e,t,i){var n=i(40628),o=i(14785).parsePercent,r=i(50143).isDimensionStacked;function s(e){return e.get("stack")||"__ec_stack_"+e.seriesIndex}function a(e,t){return t.dim+e.model.componentIndex}e.exports=function(e,t,i){var l={},c=function(e,t){var i={};n.each(e,function(e,t){var n=e.getData(),r=e.coordinateSystem,l=r.getBaseAxis(),c=a(r,l),h=l.getExtent(),u="category"===l.type?l.getBandWidth():Math.abs(h[1]-h[0])/n.count(),d=i[c]||{bandWidth:u,remainedWidth:u,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},p=d.stacks;i[c]=d;var g=s(e);p[g]||d.autoWidthCount++,p[g]=p[g]||{width:0,maxWidth:0};var f=o(e.get("barWidth"),u),m=o(e.get("barMaxWidth"),u),_=e.get("barGap"),v=e.get("barCategoryGap");f&&!p[g].width&&(f=Math.min(d.remainedWidth,f),p[g].width=f,d.remainedWidth-=f),m&&(p[g].maxWidth=m),null!=_&&(d.gap=_),null!=v&&(d.categoryGap=v)});var r={};return n.each(i,function(e,t){r[t]={};var i=e.stacks,s=o(e.categoryGap,e.bandWidth),a=o(e.gap,1),l=e.remainedWidth,c=e.autoWidthCount,h=(l-s)/(c+(c-1)*a);h=Math.max(h,0),n.each(i,function(e,t){var i=e.maxWidth;i&&i<h&&(i=Math.min(i,l),e.width&&(i=Math.min(i,e.width)),l-=i,e.width=i,c--)}),h=(l-s)/(c+(c-1)*a),h=Math.max(h,0);var u,d=0;n.each(i,function(e,t){e.width||(e.width=h),u=e,d+=e.width*(1+a)}),u&&(d-=u.width*a);var p=-d/2;n.each(i,function(e,i){r[t][i]=r[t][i]||{offset:p,width:e.width},p+=e.width*(1+a)})}),r}(n.filter(t.getSeriesByType(e),function(e){return!t.isSeriesFiltered(e)&&e.coordinateSystem&&"polar"===e.coordinateSystem.type}));t.eachSeriesByType(e,function(e){if("polar"===e.coordinateSystem.type){var t=e.getData(),i=e.coordinateSystem,n=i.getBaseAxis(),o=a(i,n),h=s(e),u=c[o][h],d=u.offset,p=u.width,g=i.getOtherAxis(n),f=e.coordinateSystem.cx,m=e.coordinateSystem.cy,_=e.get("barMinHeight")||0,v=e.get("barMinAngle")||0;l[h]=l[h]||[];for(var y=t.mapDimension(g.dim),b=t.mapDimension(n.dim),w=r(t,y),A="radius"!==n.dim||!e.get("roundCap",!0),x="radius"===g.dim?g.dataToRadius(0):g.dataToAngle(0),T=0,C=t.count();T<C;T++){var Z,k,S,E,M=t.get(y,T),O=t.get(b,T),I=M>=0?"p":"n",P=x;if(w&&(l[h][O]||(l[h][O]={p:x,n:x}),P=l[h][O][I]),"radius"===g.dim){var R=g.dataToRadius(M)-x,q=n.dataToAngle(O);Math.abs(R)<_&&(R=(R<0?-1:1)*_),Z=P,k=P+R,E=(S=q-d)-p,w&&(l[h][O][I]=k)}else{var L=g.dataToAngle(M,A)-x,U=n.dataToRadius(O);Math.abs(L)<v&&(L=(L<0?-1:1)*v),k=(Z=U+d)+p,S=P,E=P+L,w&&(l[h][O][I]=E)}t.setItemLayout(T,{cx:f,cy:m,r0:Z,r:k,startAngle:-S*Math.PI/180,endAngle:-E*Math.PI/180})}}},this)}},12588:function(e,t,i){var n=i(40628).map,o=i(15103),r=i(50143).isDimensionStacked;e.exports=function(e){return{seriesType:e,plan:o(),reset:function(e){var t=e.getData(),i=e.coordinateSystem,o=e.pipelineContext.large;if(i){var s=n(i.dimensions,function(e){return t.mapDimension(e)}).slice(0,2),a=s.length,l=t.getCalculationInfo("stackResultDimension");return r(t,s[0])&&(s[0]=l),r(t,s[1])&&(s[1]=l),a&&{progress:function(e,t){for(var n=o&&new Float32Array((e.end-e.start)*a),r=e.start,l=0,c=[],h=[];r<e.end;r++){var u;if(1===a){var d=t.get(s[0],r);u=!isNaN(d)&&i.dataToPoint(d,null,h)}else{d=c[0]=t.get(s[0],r);var p=c[1]=t.get(s[1],r);u=!isNaN(d)&&!isNaN(p)&&i.dataToPoint(c,null,h)}o?(n[l++]=u?u[0]:NaN,n[l++]=u?u[1]:NaN):t.setItemLayout(r,u&&u.slice()||[NaN,NaN])}o&&t.setLayout("symbolPoints",n)}}}}}}},79953:function(e,t,i){var n=i(40628),o=i(62429),r=i(71790),s=Math.PI;e.exports=function(e,t){n.defaults(t=t||{},{text:"loading",textColor:"#000",fontSize:"12px",maskColor:"rgba(255, 255, 255, 0.8)",showSpinner:!0,color:"#c23531",spinnerRadius:10,lineWidth:5,zlevel:0});var i=new o.Group,a=new o.Rect({style:{fill:t.maskColor},zlevel:t.zlevel,z:1e4});i.add(a);var l=t.fontSize+" sans-serif",c=new o.Rect({style:{fill:"none",text:t.text,font:l,textPosition:"right",textDistance:10,textFill:t.textColor},zlevel:t.zlevel,z:10001});if(i.add(c),t.showSpinner){var h=new o.Arc({shape:{startAngle:-s/2,endAngle:-s/2+.1,r:t.spinnerRadius},style:{stroke:t.color,lineCap:"round",lineWidth:t.lineWidth},zlevel:t.zlevel,z:10001});h.animateShape(!0).when(1e3,{endAngle:3*s/2}).start("circularInOut"),h.animateShape(!0).when(1e3,{startAngle:3*s/2}).delay(300).start("circularInOut"),i.add(h)}return i.resize=function(){var i=r.getWidth(t.text,l),n=t.showSpinner?t.spinnerRadius:0,o=(e.getWidth()-2*n-(t.showSpinner&&i?10:0)-i)/2-(t.showSpinner?0:i/2),s=e.getHeight()/2;t.showSpinner&&h.setShape({cx:o,cy:s}),c.setShape({x:o-n,y:s-n,width:2*n,height:2*n}),a.setShape({x:0,y:0,width:e.getWidth(),height:e.getHeight()})},i.resize(),i}},39447:function(e,t,i){var n=i(40628),o=i(96948),r=i(82015),s=i(31087),a=s.enableClassManagement,l=s.parseClassType,c=i(91266).makeInner,h=i(40634),u=i(21597),d=c(),p=o.extend({type:"component",id:"",name:"",mainType:"",subType:"",componentIndex:0,defaultOption:null,ecModel:null,dependentModels:[],uid:null,layoutMode:null,$constructor:function(e,t,i,n){o.call(this,e,t,i,n),this.uid=r.getUID("ec_cpt_model")},init:function(e,t,i,n){this.mergeDefaultAndTheme(e,i)},mergeDefaultAndTheme:function(e,t){var i=this.layoutMode,o=i?h.getLayoutParams(e):{},r=t.getTheme();n.merge(e,r.get(this.mainType)),n.merge(e,this.getDefaultOption()),i&&h.mergeLayoutParam(e,o,i)},mergeOption:function(e,t){n.merge(this.option,e,!0);var i=this.layoutMode;i&&h.mergeLayoutParam(this.option,e,i)},optionUpdated:function(e,t){},getDefaultOption:function(){var e=d(this);if(!e.defaultOption){for(var t=[],i=this.constructor;i;){var o=i.prototype.defaultOption;o&&t.push(o),i=i.superClass}for(var r={},s=t.length-1;s>=0;s--)r=n.merge(r,t[s],!0);e.defaultOption=r}return e.defaultOption},getReferringComponents:function(e){return this.ecModel.queryComponents({mainType:e,index:this.get(e+"Index",!0),id:this.get(e+"Id",!0)})}});a(p,{registerWhenExtend:!0}),r.enableSubTypeDefaulter(p),r.enableTopologicalTravel(p,function(e){var t=[];return n.each(p.getClassesByMainType(e),function(e){t=t.concat(e.prototype.dependencies||[])}),t=n.map(t,function(e){return l(e).main}),"dataset"!==e&&n.indexOf(t,"dataset")<=0&&t.unshift("dataset"),t}),n.mixin(p,u),e.exports=p},40190:function(e,t,i){i(59963);var n=i(40628),o=n.each,r=n.filter,s=n.map,a=n.isArray,l=n.indexOf,c=n.isObject,h=n.isString,u=n.createHashMap,d=n.assert,p=n.clone,g=n.merge,f=n.extend,m=n.mixin,_=i(91266),v=i(96948),y=i(39447),b=i(38882),w=i(41419),A=i(26153).resetSourceDefaulter,x="\0_ec_inner",T=v.extend({init:function(e,t,i,n){i=i||{},this.option=null,this._theme=new v(i),this._optionManager=n},setOption:function(e,t){d(!(x in e),"please use chart.getOption()"),this._optionManager.setOption(e,t),this.resetOption(null)},resetOption:function(e){var t=!1,i=this._optionManager;if(!e||"recreate"===e){var n=i.mountOption("recreate"===e);this.option&&"recreate"!==e?(this.restoreData(),this.mergeOption(n)):C.call(this,n),t=!0}if(("timeline"===e||"media"===e)&&this.restoreData(),!e||"recreate"===e||"timeline"===e){var r=i.getTimelineOption(this);r&&(this.mergeOption(r),t=!0)}if(!e||"recreate"===e||"media"===e){var s=i.getMediaOption(this,this._api);s.length&&o(s,function(e){this.mergeOption(e,t=!0)},this)}return t},mergeOption:function(e){var t=this.option,i=this._componentsMap,n=[];A(this),o(e,function(e,i){null!=e&&(y.hasClass(i)?i&&n.push(i):t[i]=null==t[i]?p(e):g(t[i],e,!0))}),y.topologicalTravel(n,y.getAllClassMainTypes(),function(n,r){var s=_.normalizeToArray(e[n]),l=_.mappingToExists(i.get(n),s);_.makeIdAndName(l),o(l,function(e,t){var i=e.option;c(i)&&(e.keyInfo.mainType=n,e.keyInfo.subType=function(e,t,i){return t.type?t.type:i?i.subType:y.determineSubType(e,t)}(n,i,e.exist))});var h=function(e,t){a(t)||(t=t?[t]:[]);var i={};return o(t,function(t){i[t]=(e.get(t)||[]).slice()}),i}(i,r);t[n]=[],i.set(n,[]),o(l,function(e,o){var r=e.exist,s=e.option;if(d(c(s)||r,"Empty component definition"),s){var a=y.getClass(n,e.keyInfo.subType,!0);if(r&&r.constructor===a)r.name=e.keyInfo.name,r.mergeOption(s,this),r.optionUpdated(s,!1);else{var l=f({dependentModels:h,componentIndex:o},e.keyInfo);r=new a(s,this,this,l),f(r,l),r.init(s,this,this,l),r.optionUpdated(null,!0)}}else r.mergeOption({},this),r.optionUpdated({},!1);i.get(n)[o]=r,t[n][o]=r.option},this),"series"===n&&Z(this,i.get("series"))},this),this._seriesIndicesMap=u(this._seriesIndices=this._seriesIndices||[])},getOption:function(){var e=p(this.option);return o(e,function(t,i){if(y.hasClass(i)){for(var n=(t=_.normalizeToArray(t)).length-1;n>=0;n--)_.isIdInner(t[n])&&t.splice(n,1);e[i]=t}}),delete e[x],e},getTheme:function(){return this._theme},getComponent:function(e,t){var i=this._componentsMap.get(e);if(i)return i[t||0]},queryComponents:function(e){var t=e.mainType;if(!t)return[];var i,n=e.index,o=e.id,c=e.name,h=this._componentsMap.get(t);if(!h||!h.length)return[];if(null!=n)a(n)||(n=[n]),i=r(s(n,function(e){return h[e]}),function(e){return!!e});else if(null!=o){var u=a(o);i=r(h,function(e){return u&&l(o,e.id)>=0||!u&&e.id===o})}else if(null!=c){var d=a(c);i=r(h,function(e){return d&&l(c,e.name)>=0||!d&&e.name===c})}else i=h.slice();return k(i,e)},findComponents:function(e){var t,i,n,o,s=e.mainType,a=(i=s+"Index",n=s+"Id",o=s+"Name",!(t=e.query)||null==t[i]&&null==t[n]&&null==t[o]?null:{mainType:s,index:t[i],id:t[n],name:t[o]});return function(t){return e.filter?r(t,e.filter):t}(k(a?this.queryComponents(a):this._componentsMap.get(s),e))},eachComponent:function(e,t,i){var n=this._componentsMap;if("function"==typeof e)i=t,t=e,n.each(function(e,n){o(e,function(e,o){t.call(i,n,e,o)})});else if(h(e))o(n.get(e),t,i);else if(c(e)){var r=this.findComponents(e);o(r,t,i)}},getSeriesByName:function(e){var t=this._componentsMap.get("series");return r(t,function(t){return t.name===e})},getSeriesByIndex:function(e){return this._componentsMap.get("series")[e]},getSeriesByType:function(e){var t=this._componentsMap.get("series");return r(t,function(t){return t.subType===e})},getSeries:function(){return this._componentsMap.get("series").slice()},getSeriesCount:function(){return this._componentsMap.get("series").length},eachSeries:function(e,t){o(this._seriesIndices,function(i){var n=this._componentsMap.get("series")[i];e.call(t,n,i)},this)},eachRawSeries:function(e,t){o(this._componentsMap.get("series"),e,t)},eachSeriesByType:function(e,t,i){o(this._seriesIndices,function(n){var o=this._componentsMap.get("series")[n];o.subType===e&&t.call(i,o,n)},this)},eachRawSeriesByType:function(e,t,i){return o(this.getSeriesByType(e),t,i)},isSeriesFiltered:function(e){return null==this._seriesIndicesMap.get(e.componentIndex)},getCurrentSeriesIndices:function(){return(this._seriesIndices||[]).slice()},filterSeries:function(e,t){Z(this,r(this._componentsMap.get("series"),e,t))},restoreData:function(e){var t=this._componentsMap;Z(this,t.get("series"));var i=[];t.each(function(e,t){i.push(t)}),y.topologicalTravel(i,y.getAllClassMainTypes(),function(i,n){o(t.get(i),function(t){("series"!==i||!function(e,t){if(t){var i=t.seiresIndex,n=t.seriesId,o=t.seriesName;return null!=i&&e.componentIndex!==i||null!=n&&e.id!==n||null!=o&&e.name!==o}}(t,e))&&t.restoreData()})})}});function C(e){e=e,this.option={},this.option[x]=1,this._componentsMap=u({series:[]}),function(e,t){var i=e.color&&!e.colorLayer;o(t,function(t,n){"colorLayer"===n&&i||y.hasClass(n)||("object"==typeof t?e[n]=e[n]?g(e[n],t,!1):p(t):null==e[n]&&(e[n]=t))})}(e,this._theme.option),g(e,b,!1),this.mergeOption(e)}function Z(e,t){e._seriesIndicesMap=u(e._seriesIndices=s(t,function(e){return e.componentIndex})||[])}function k(e,t){return t.hasOwnProperty("subType")?r(e,function(e){return e.subType===t.subType}):e}m(T,w),e.exports=T},96948:function(e,t,i){var n=i(40628),o=i(10169),r=i(91266).makeInner,s=i(31087),a=s.enableClassExtend,l=s.enableClassCheck,c=i(13331),h=i(60903),u=i(20225),d=i(77327),p=n.mixin,g=r();function f(e,t,i){this.parentModel=t,this.ecModel=i,this.option=e}function m(e,t,i){for(var n=0;n<t.length&&(!t[n]||null!=(e=e&&"object"==typeof e?e[t[n]]:null));n++);return null==e&&i&&(e=i.get(t)),e}function _(e,t){var i=g(e).getParent;return i?i.call(e,t):e.parentModel}f.prototype={constructor:f,init:null,mergeOption:function(e){n.merge(this.option,e,!0)},get:function(e,t){return null==e?this.option:m(this.option,this.parsePath(e),!t&&_(this,e))},getShallow:function(e,t){var i=this.option,n=null==i?i:i[e],o=!t&&_(this,e);return null==n&&o&&(n=o.getShallow(e)),n},getModel:function(e,t){var i;return new f(null==e?this.option:m(this.option,e=this.parsePath(e)),t=t||(i=_(this,e))&&i.getModel(e),this.ecModel)},isEmpty:function(){return null==this.option},restoreData:function(){},clone:function(){return new(0,this.constructor)(n.clone(this.option))},setReadOnly:function(e){},parsePath:function(e){return"string"==typeof e&&(e=e.split(".")),e},customizeGetParent:function(e){g(this).getParent=e},isAnimationEnabled:function(){if(!o.node){if(null!=this.option.animation)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}}},a(f),l(f),p(f,c),p(f,h),p(f,u),p(f,d),e.exports=f},57215:function(e,t,i){var n=i(40628),o=i(91266),r=i(39447),s=n.each,a=n.clone,l=n.map,c=n.merge,h=/^(min|max)?(.+)$/;function u(e){this._api=e,this._timelineOptions=[],this._mediaList=[],this._currentMediaIndices=[]}function d(e,t,i){var o,r,a=[],l=[],c=e.timeline;return e.baseOption&&(r=e.baseOption),(c||e.options)&&(r=r||{},a=(e.options||[]).slice()),e.media&&(r=r||{},s(e.media,function(e){e&&e.option&&(e.query?l.push(e):o||(o=e))})),r||(r=e),r.timeline||(r.timeline=c),s([r].concat(a).concat(n.map(l,function(e){return e.option})),function(e){s(t,function(t){t(e,i)})}),{baseOption:r,timelineOptions:a,mediaDefault:o,mediaList:l}}function p(e,t,i){var o={width:t,height:i,aspectratio:t/i},r=!0;return n.each(e,function(e,t){var i=t.match(h);if(i&&i[1]&&i[2]){var n=i[1],s=i[2].toLowerCase();(function(e,t,i){return"min"===i?e>=t:"max"===i?e<=t:e===t})(o[s],e,n)||(r=!1)}}),r}u.prototype={constructor:u,setOption:function(e,t){e&&n.each(o.normalizeToArray(e.series),function(e){e&&e.data&&n.isTypedArray(e.data)&&n.setAsPrimitive(e.data)}),e=a(e);var i=this._optionBackup,h=d.call(this,e,t,!i);this._newBaseOption=h.baseOption,i?(function(e,t){s(t=t||{},function(t,i){if(null!=t){var n=e[i];if(r.hasClass(i)){t=o.normalizeToArray(t),n=o.normalizeToArray(n);var s=o.mappingToExists(n,t);e[i]=l(s,function(e){return e.option&&e.exist?c(e.exist,e.option,!0):e.exist||e.option})}else e[i]=c(n,t,!0)}})}(i.baseOption,h.baseOption),h.timelineOptions.length&&(i.timelineOptions=h.timelineOptions),h.mediaList.length&&(i.mediaList=h.mediaList),h.mediaDefault&&(i.mediaDefault=h.mediaDefault)):this._optionBackup=h},mountOption:function(e){var t=this._optionBackup;return this._timelineOptions=l(t.timelineOptions,a),this._mediaList=l(t.mediaList,a),this._mediaDefault=a(t.mediaDefault),this._currentMediaIndices=[],a(e?t.baseOption:this._newBaseOption)},getTimelineOption:function(e){var t,i=this._timelineOptions;if(i.length){var n=e.getComponent("timeline");n&&(t=a(i[n.getCurrentIndex()],!0))}return t},getMediaOption:function(e){var t=this._api.getWidth(),i=this._api.getHeight(),n=this._mediaList,o=this._mediaDefault,r=[],s=[];if(!n.length&&!o)return s;for(var c=0,h=n.length;c<h;c++)p(n[c].query,t,i)&&r.push(c);return!r.length&&o&&(r=[-1]),r.length&&!function(e,t){return e.join(",")===t.join(",")}(r,this._currentMediaIndices)&&(s=l(r,function(e){return a(-1===e?o.option:n[e].option)})),this._currentMediaIndices=r,s}},e.exports=u},29521:function(e,t,i){i(59963);var n=i(40628),o=i(10169),r=i(99706),s=r.formatTime,a=r.encodeHTML,l=r.addCommas,c=r.getTooltipMarker,h=i(91266),u=i(39447),d=i(41419),p=i(64756),g=i(40634),f=g.getLayoutParams,m=g.mergeLayoutParam,_=i(47159).createTask,v=i(26153),y=v.prepareSource,b=v.getSource,w=i(56153).retrieveRawValue,A=h.makeInner(),x=u.extend({type:"series.__base__",seriesIndex:0,coordinateSystem:null,defaultOption:null,legendVisualProvider:null,visualColorAccessPath:"itemStyle.color",visualBorderColorAccessPath:"itemStyle.borderColor",layoutMode:null,init:function(e,t,i,n){this.seriesIndex=this.componentIndex,this.dataTask=_({count:C,reset:Z}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(e,i),y(this);var o=this.getInitialData(e,i);S(o,this),this.dataTask.context.data=o,A(this).dataBeforeProcessed=o,T(this)},mergeDefaultAndTheme:function(e,t){var i=this.layoutMode,o=i?f(e):{},r=this.subType;u.hasClass(r)&&(r+="Series"),n.merge(e,t.getTheme().get(this.subType)),n.merge(e,this.getDefaultOption()),h.defaultEmphasis(e,"label",["show"]),this.fillDataTextStyle(e.data),i&&m(e,o,i)},mergeOption:function(e,t){e=n.merge(this.option,e,!0),this.fillDataTextStyle(e.data);var i=this.layoutMode;i&&m(this.option,e,i),y(this);var o=this.getInitialData(e,t);S(o,this),this.dataTask.dirty(),this.dataTask.context.data=o,A(this).dataBeforeProcessed=o,T(this)},fillDataTextStyle:function(e){if(e&&!n.isTypedArray(e))for(var t=["show"],i=0;i<e.length;i++)e[i]&&e[i].label&&h.defaultEmphasis(e[i],"label",t)},getInitialData:function(){},appendData:function(e){this.getRawData().appendData(e.data)},getData:function(e){var t=M(this);if(t){var i=t.context.data;return null==e?i:i.getLinkedData(e)}return A(this).data},setData:function(e){var t=M(this);if(t){var i=t.context;i.data!==e&&t.modifyOutputEnd&&t.setOutputEnd(e.count()),i.outputData=e,t!==this.dataTask&&(i.data=e)}A(this).data=e},getSource:function(){return b(this)},getRawData:function(){return A(this).dataBeforeProcessed},getBaseAxis:function(){var e=this.coordinateSystem;return e&&e.getBaseAxis&&e.getBaseAxis()},formatTooltip:function(e,t,i,o){var r=this,u="html"===(o=o||"html")?"<br/>":"\n",d="richText"===o,p={},g=0,f=this.getData(),m=f.mapDimension("defaultedTooltip",!0),_=m.length,v=this.getRawValue(e),y=n.isArray(v),b=f.getItemVisual(e,"color");n.isObject(b)&&b.colorStops&&(b=(b.colorStops[0]||{}).color),b=b||"transparent";var A,x=(_>1||y&&!_?function(i){var h=n.reduce(i,function(e,t,i){var n=f.getDimensionInfo(i);return e|(n&&!1!==n.tooltip&&null!=n.displayName)},0),u=[];function _(e,i){var n=f.getDimensionInfo(i);if(n&&!1!==n.otherDims.tooltip){var m=n.type,_="sub"+r.seriesIndex+"at"+g,v=c({color:b,type:"subItem",renderMode:o,markerId:_}),y=(h?("string"==typeof v?v:v.content)+a(n.displayName||"-")+": ":"")+a("ordinal"===m?e+"":"time"===m?t?"":s("yyyy/MM/dd hh:mm:ss",e):l(e));y&&u.push(y),d&&(p[_]=b,++g)}}m.length?n.each(m,function(t){_(w(f,e,t),t)}):n.each(i,_);var v=h?d?"\n":"<br/>":"",y=v+u.join(v||", ");return{renderMode:o,content:y,style:p}}(v):(A=_?w(f,e,m[0]):y?v[0]:v,{renderMode:o,content:a(l(A)),style:p})).content,T=r.seriesIndex+"at"+g,C=c({color:b,type:"item",renderMode:o,markerId:T});p[T]=b,++g;var Z=f.getName(e),k=this.name;h.isNameSpecified(this)||(k=""),k=k?a(k)+(t?": ":u):"";var S="string"==typeof C?C:C.content;return{html:t?S+k+x:k+S+(Z?a(Z)+": "+x:x),markers:p}},isAnimationEnabled:function(){if(o.node)return!1;var e=this.getShallow("animation");return e&&this.getData().count()>this.getShallow("animationThreshold")&&(e=!1),e},restoreData:function(){this.dataTask.dirty()},getColorFromPalette:function(e,t,i){var n=this.ecModel,o=d.getColorFromPalette.call(this,e,t,i);return o||(o=n.getColorFromPalette(e,t,i)),o},coordDimToDataDim:function(e){return this.getRawData().mapDimension(e,!0)},getProgressive:function(){return this.get("progressive")},getProgressiveThreshold:function(){return this.get("progressiveThreshold")},getAxisTooltipData:null,getTooltipPosition:null,pipeTask:null,preventIncremental:null,pipelineContext:null});function T(e){var t=e.name;h.isNameSpecified(e)||(e.name=function(e){var t=e.getRawData(),i=t.mapDimension("seriesName",!0),o=[];return n.each(i,function(e){var i=t.getDimensionInfo(e);i.displayName&&o.push(i.displayName)}),o.join(" ")}(e)||t)}function C(e){return e.model.getRawData().count()}function Z(e){var t=e.model;return t.setData(t.getRawData().cloneShallow()),k}function k(e,t){t.outputData&&e.end>t.outputData.count()&&t.model.getRawData().cloneShallow(t.outputData)}function S(e,t){n.each(e.CHANGABLE_METHODS,function(i){e.wrapMethod(i,n.curry(E,t))})}function E(e){var t=M(e);t&&t.setOutputEnd(this.count())}function M(e){var t=(e.ecModel||{}).scheduler,i=t&&t.getPipeline(e.uid);if(i){var n=i.currentTask;if(n){var o=n.agentStubMap;o&&(n=o.get(e.uid))}return n}}n.mixin(x,p),n.mixin(x,d),e.exports=x},38882:function(e){var t="";"undefined"!=typeof navigator&&(t=navigator.platform||"");var i={color:["#c23531","#2f4554","#61a0a8","#d48265","#91c7ae","#749f83","#ca8622","#bda29a","#6e7074","#546570","#c4ccd3"],gradientColor:["#f6efa6","#d88273","#bf444c"],textStyle:{fontFamily:t.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,animation:"auto",animationDuration:1e3,animationDurationUpdate:300,animationEasing:"exponentialOut",animationEasingUpdate:"cubicOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1};e.exports=i},60903:function(e,t,i){var n=i(25632)([["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]]);e.exports={getAreaStyle:function(e,t){return n(this,e,t)}}},21597:function(e){e.exports={getBoxLayoutParams:function(){return{left:this.get("left"),top:this.get("top"),right:this.get("right"),bottom:this.get("bottom"),width:this.get("width"),height:this.get("height")}}}},41419:function(e,t,i){var n=i(91266),o=n.normalizeToArray,r=(0,n.makeInner)();e.exports={clearColorPalette:function(){r(this).colorIdx=0,r(this).colorNameMap={}},getColorFromPalette:function(e,t,i){var n=r(t=t||this),s=n.colorIdx||0,a=n.colorNameMap=n.colorNameMap||{};if(a.hasOwnProperty(e))return a[e];var l=o(this.get("color",!0)),c=this.get("colorLayer",!0),h=null!=i&&c?function(e,t){for(var i=e.length,n=0;n<i;n++)if(e[n].length>t)return e[n];return e[i-1]}(c,i):l;if((h=h||l)&&h.length){var u=h[s];return e&&(a[e]=u),n.colorIdx=(s+1)%h.length,u}}}},64756:function(e,t,i){var n=i(56153).retrieveRawValue,o=i(99706),r=o.getTooltipMarker,s=o.formatTpl,a=i(91266).getTooltipRenderMode,l=/\{@(.+?)\}/g;e.exports={getDataParams:function(e,t){var i=this.getData(t),n=this.getRawValue(e,t),o=i.getRawIndex(e),s=i.getName(e),l=i.getRawDataItem(e),c=i.getItemVisual(e,"color"),h=i.getItemVisual(e,"borderColor"),u=this.ecModel.getComponent("tooltip"),d=u&&u.get("renderMode"),p=a(d),g=this.mainType,f="series"===g,m=i.userOutput;return{componentType:g,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:f?this.subType:null,seriesIndex:this.seriesIndex,seriesId:f?this.id:null,seriesName:f?this.name:null,name:s,dataIndex:o,data:l,dataType:t,value:n,color:c,borderColor:h,dimensionNames:m?m.dimensionNames:null,encode:m?m.encode:null,marker:r({color:c,renderMode:p}),$vars:["seriesName","name","value"]}},getFormattedLabel:function(e,t,i,o,r){t=t||"normal";var a=this.getData(i),c=a.getItemModel(e),h=this.getDataParams(e,i);null!=o&&h.value instanceof Array&&(h.value=h.value[o]);var u=c.get("normal"===t?[r||"label","formatter"]:[t,r||"label","formatter"]);return"function"==typeof u?(h.status=t,h.dimensionIndex=o,u(h)):"string"==typeof u?s(u,h).replace(l,function(t,i){var o=i.length;return"["===i.charAt(0)&&"]"===i.charAt(o-1)&&(i=+i.slice(1,o-1)),n(a,e,i)}):void 0},getRawValue:function(e,t){return n(this.getData(t),e)},formatTooltip:function(){}}},77327:function(e,t,i){var n=i(25632)([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["textPosition"],["textAlign"]]);e.exports={getItemStyle:function(e,t){var i=n(this,e,t),o=this.getBorderLineDash();return o&&(i.lineDash=o),i},getBorderLineDash:function(){var e=this.get("borderType");return"solid"===e||null==e?null:"dashed"===e?[5,5]:[1,1]}}},13331:function(e,t,i){var n=i(25632)([["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]);e.exports={getLineStyle:function(e){var t=n(this,e);return t.lineDash=this.getLineDash(t.lineWidth),t},getLineDash:function(e){null==e&&(e=1);var t=this.get("type"),i=Math.max(e,2),n=4*e;return"solid"!==t&&null!=t&&("dashed"===t?[n,n]:[i,i])}}},25632:function(e,t,i){var n=i(40628);e.exports=function(e){for(var t=0;t<e.length;t++)e[t][1]||(e[t][1]=e[t][0]);return function(t,i,o){for(var r={},s=0;s<e.length;s++){var a=e[s][1];if(!(i&&n.indexOf(i,a)>=0||o&&n.indexOf(o,a)<0)){var l=t.getShallow(a);null!=l&&(r[e[s][0]]=l)}}return r}}},20225:function(e,t,i){var n=i(71790),o=i(62429),r=["textStyle","color"];e.exports={getTextColor:function(e){var t=this.ecModel;return this.getShallow("color")||(!e&&t?t.get(r):null)},getFont:function(){return o.getFont({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},getTextRect:function(e){return n.getBoundingRect(e,this.getFont(),this.getShallow("align"),this.getShallow("verticalAlign")||this.getShallow("baseline"),this.getShallow("padding"),this.getShallow("lineHeight"),this.getShallow("rich"),this.getShallow("truncateText"))}}},7321:function(e,t,i){i(59963);var n=i(40628),o=n.createHashMap,r=n.each;function s(e){this.coordSysName=e,this.coordSysDims=[],this.axisMap=o(),this.categoryAxisMap=o(),this.firstCategoryDimIndex=null}var a={cartesian2d:function(e,t,i,n){var o=e.getReferringComponents("xAxis")[0],r=e.getReferringComponents("yAxis")[0];t.coordSysDims=["x","y"],i.set("x",o),i.set("y",r),l(o)&&(n.set("x",o),t.firstCategoryDimIndex=0),l(r)&&(n.set("y",r),t.firstCategoryDimIndex=1)},singleAxis:function(e,t,i,n){var o=e.getReferringComponents("singleAxis")[0];t.coordSysDims=["single"],i.set("single",o),l(o)&&(n.set("single",o),t.firstCategoryDimIndex=0)},polar:function(e,t,i,n){var o=e.getReferringComponents("polar")[0],r=o.findAxisModel("radiusAxis"),s=o.findAxisModel("angleAxis");t.coordSysDims=["radius","angle"],i.set("radius",r),i.set("angle",s),l(r)&&(n.set("radius",r),t.firstCategoryDimIndex=0),l(s)&&(n.set("angle",s),null==t.firstCategoryDimIndex&&(t.firstCategoryDimIndex=1))},geo:function(e,t,i,n){t.coordSysDims=["lng","lat"]},parallel:function(e,t,i,n){var o=e.ecModel,s=o.getComponent("parallel",e.get("parallelIndex")),a=t.coordSysDims=s.dimensions.slice();r(s.parallelAxisIndex,function(e,r){var s=o.getComponent("parallelAxis",e),c=a[r];i.set(c,s),l(s)&&null==t.firstCategoryDimIndex&&(n.set(c,s),t.firstCategoryDimIndex=r)})}};function l(e){return"category"===e.get("type")}t.getCoordSysInfoBySeries=function(e){var t=e.get("coordinateSystem"),i=new s(t),n=a[t];if(n)return n(e,i,i.axisMap,i.categoryAxisMap),i}},12696:function(e,t,i){var n=i(40628),o=n.each,r=n.isArray,s=n.isObject,a=i(5386),l=i(91266).normalizeToArray;function c(e){o(h,function(t){t[0]in e&&!(t[1]in e)&&(e[t[1]]=e[t[0]])})}var h=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],u=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"];e.exports=function(e,t){a(e,t),e.series=l(e.series),o(e.series,function(e){if(s(e)){var t=e.type;if("line"===t)null!=e.clipOverflow&&(e.clip=e.clipOverflow);else if("pie"===t||"gauge"===t)null!=e.clockWise&&(e.clockwise=e.clockWise);else if("gauge"===t){var i=function(e,t){t=t.split(",");for(var i=e,n=0;n<t.length&&null!=(i=i&&i[t[n]]);n++);return i}(e,"pointer.color");null!=i&&function(e,t,i,n){t=t.split(",");for(var o,r=e,s=0;s<t.length-1;s++)null==r[o=t[s]]&&(r[o]={}),r=r[o];null==r[t[s]]&&(r[t[s]]=i)}(e,"itemStyle.color",i)}c(e)}}),e.dataRange&&(e.visualMap=e.dataRange),o(u,function(t){var i=e[t];i&&(r(i)||(i=[i]),o(i,function(e){c(e)}))})}},5386:function(e,t,i){var n=i(40628),o=i(91266),r=n.each,s=n.isObject,a=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function l(e){var t=e&&e.itemStyle;if(t)for(var i=0,o=a.length;i<o;i++){var r=a[i],s=t.normal,l=t.emphasis;s&&s[r]&&(e[r]=e[r]||{},e[r].normal?n.merge(e[r].normal,s[r]):e[r].normal=s[r],s[r]=null),l&&l[r]&&(e[r]=e[r]||{},e[r].emphasis?n.merge(e[r].emphasis,l[r]):e[r].emphasis=l[r],l[r]=null)}}function c(e,t,i){if(e&&e[t]&&(e[t].normal||e[t].emphasis)){var o=e[t].normal,r=e[t].emphasis;o&&(i?(e[t].normal=e[t].emphasis=null,n.defaults(e[t],o)):e[t]=o),r&&(e.emphasis=e.emphasis||{},e.emphasis[t]=r)}}function h(e){c(e,"itemStyle"),c(e,"lineStyle"),c(e,"areaStyle"),c(e,"label"),c(e,"labelLine"),c(e,"upperLabel"),c(e,"edgeLabel")}function u(e,t){var i=s(e)&&e[t],n=s(i)&&i.textStyle;if(n)for(var r=0,a=o.TEXT_STYLE_OPTIONS.length;r<a;r++)n.hasOwnProperty(t=o.TEXT_STYLE_OPTIONS[r])&&(i[t]=n[t])}function d(e){e&&(h(e),u(e,"label"),e.emphasis&&u(e.emphasis,"label"))}function p(e){return n.isArray(e)?e:e?[e]:[]}function g(e){return(n.isArray(e)?e[0]:e)||{}}e.exports=function(e,t){r(p(e.series),function(e){s(e)&&function(e){if(s(e)){l(e),h(e),u(e,"label"),u(e,"upperLabel"),u(e,"edgeLabel"),e.emphasis&&(u(e.emphasis,"label"),u(e.emphasis,"upperLabel"),u(e.emphasis,"edgeLabel")),(i=e.markPoint)&&(l(i),d(i)),(o=e.markLine)&&(l(o),d(o));var t=e.markArea;t&&d(t);var i,o,r=e.data;if("graph"===e.type){r=r||e.nodes;var a=e.links||e.edges;if(a&&!n.isTypedArray(a))for(var p=0;p<a.length;p++)d(a[p]);n.each(e.categories,function(e){h(e)})}if(r&&!n.isTypedArray(r))for(p=0;p<r.length;p++)d(r[p]);if((i=e.markPoint)&&i.data){var g=i.data;for(p=0;p<g.length;p++)d(g[p])}if((o=e.markLine)&&o.data){var f=o.data;for(p=0;p<f.length;p++)n.isArray(f[p])?(d(f[p][0]),d(f[p][1])):d(f[p])}"gauge"===e.type?(u(e,"axisLabel"),u(e,"title"),u(e,"detail")):"treemap"===e.type?(c(e.breadcrumb,"itemStyle"),n.each(e.levels,function(e){h(e)})):"tree"===e.type&&h(e.leaves)}}(e)});var i=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];t&&i.push("valueAxis","categoryAxis","logAxis","timeAxis"),r(i,function(t){r(p(e[t]),function(e){e&&(u(e,"axisLabel"),u(e.axisPointer,"label"))})}),r(p(e.parallel),function(e){var t=e&&e.parallelAxisDefault;u(t,"axisLabel"),u(t&&t.axisPointer,"label")}),r(p(e.calendar),function(e){c(e,"itemStyle"),u(e,"dayLabel"),u(e,"monthLabel"),u(e,"yearLabel")}),r(p(e.radar),function(e){u(e,"name")}),r(p(e.geo),function(e){s(e)&&(d(e),r(p(e.regions),function(e){d(e)}))}),r(p(e.timeline),function(e){d(e),c(e,"label"),c(e,"itemStyle"),c(e,"controlStyle",!0);var t=e.data;n.isArray(t)&&n.each(t,function(e){n.isObject(e)&&(c(e,"label"),c(e,"itemStyle"))})}),r(p(e.toolbox),function(e){c(e,"iconStyle"),r(e.feature,function(e){c(e,"iconStyle")})}),u(g(e.axisPointer),"label"),u(g(e.tooltip).axisPointer,"label")}},12765:function(e){e.exports=function(e){return{seriesType:e,reset:function(e,t){var i=t.findComponents({mainType:"legend"});if(i&&i.length){var n=e.getData();n.filterSelf(function(e){for(var t=n.getName(e),o=0;o<i.length;o++)if(!i[o].isSelected(t))return!1;return!0})}}}}},30345:function(e){var t={average:function(e){for(var t=0,i=0,n=0;n<e.length;n++)isNaN(e[n])||(t+=e[n],i++);return 0===i?NaN:t/i},sum:function(e){for(var t=0,i=0;i<e.length;i++)t+=e[i]||0;return t},max:function(e){for(var t=-1/0,i=0;i<e.length;i++)e[i]>t&&(t=e[i]);return isFinite(t)?t:NaN},min:function(e){for(var t=1/0,i=0;i<e.length;i++)e[i]<t&&(t=e[i]);return isFinite(t)?t:NaN},nearest:function(e){return e[0]}},i=function(e,t){return Math.round(e.length/2)};e.exports=function(e){return{seriesType:e,modifyOutputEnd:!0,reset:function(e,n,o){var r=e.getData(),s=e.get("sampling"),a=e.coordinateSystem;if("cartesian2d"===a.type&&s){var l,c=a.getBaseAxis(),h=a.getOtherAxis(c),u=c.getExtent(),d=Math.abs(u[1]-u[0]),p=Math.round(r.count()/d);p>1&&("string"==typeof s?l=t[s]:"function"==typeof s&&(l=s),l&&e.setData(r.downSample(r.mapDimension(h.dim),1/p,l,i)))}}}}},34945:function(e,t,i){var n=i(40628),o=n.createHashMap,r=n.each;function s(e){r(e,function(t,i){var n=[],o=[NaN,NaN],r=t.data,s=t.isStackedByIndex,a=r.map([t.stackResultDimension,t.stackedOverDimension],function(a,l,c){var h,u,d=r.get(t.stackedDimension,c);if(isNaN(d))return o;s?u=r.getRawIndex(c):h=r.get(t.stackedByDimension,c);for(var p=NaN,g=i-1;g>=0;g--){var f=e[g];if(s||(u=f.data.rawIndexOf(f.stackedByDimension,h)),u>=0){var m=f.data.getByRawIndex(f.stackResultDimension,u);if(d>=0&&m>0||d<=0&&m<0){d+=m,p=m;break}}}return n[0]=d,n[1]=p,n});r.hostModel.setData(a),t.data=a})}e.exports=function(e){var t=o();e.eachSeries(function(e){var i=e.get("stack");if(i){var n=t.get(i)||t.set(i,[]),o=e.getData(),r={stackResultDimension:o.getCalculationInfo("stackResultDimension"),stackedOverDimension:o.getCalculationInfo("stackedOverDimension"),stackedDimension:o.getCalculationInfo("stackedDimension"),stackedByDimension:o.getCalculationInfo("stackedByDimension"),isStackedByIndex:o.getCalculationInfo("isStackedByIndex"),data:o,seriesModel:e};if(!r.stackedDimension||!r.isStackedByIndex&&!r.stackedByDimension)return;n.length&&o.setCalculationInfo("stackedOnSeries",n[n.length-1].seriesModel),n.push(r)}}),t.each(s)}},95543:function(e,t,i){var n=i(14785),o=i(99706),r=i(48512),s=i(47331),a=n.round,l=r.extend({type:"interval",_interval:0,_intervalPrecision:2,setExtent:function(e,t){var i=this._extent;isNaN(e)||(i[0]=parseFloat(e)),isNaN(t)||(i[1]=parseFloat(t))},unionExtent:function(e){var t=this._extent;e[0]<t[0]&&(t[0]=e[0]),e[1]>t[1]&&(t[1]=e[1]),l.prototype.setExtent.call(this,t[0],t[1])},getInterval:function(){return this._interval},setInterval:function(e){this._interval=e,this._niceExtent=this._extent.slice(),this._intervalPrecision=s.getIntervalPrecision(e)},getTicks:function(e){var t=this._interval,i=this._extent,n=this._niceExtent,o=this._intervalPrecision,r=[];if(!t)return r;i[0]<n[0]&&r.push(e?a(n[0]-t,o):i[0]);for(var s=n[0];s<=n[1]&&(r.push(s),(s=a(s+t,o))!==r[r.length-1]);)if(r.length>1e4)return[];var l=r.length?r[r.length-1]:n[1];return i[1]>l&&r.push(e?a(l+t,o):i[1]),r},getMinorTicks:function(e){for(var t=this.getTicks(!0),i=[],o=this.getExtent(),r=1;r<t.length;r++){for(var s=t[r-1],a=0,l=[],c=(t[r]-s)/e;a<e-1;){var h=n.round(s+(a+1)*c);h>o[0]&&h<o[1]&&l.push(h),a++}i.push(l)}return i},getLabel:function(e,t){if(null==e)return"";var i=t&&t.precision;return null==i?i=n.getPrecisionSafe(e)||0:"auto"===i&&(i=this._intervalPrecision),e=a(e,i,!0),o.addCommas(e)},niceTicks:function(e,t,i){e=e||5;var n=this._extent,o=n[1]-n[0];if(isFinite(o)){o<0&&(o=-o,n.reverse());var r=s.intervalScaleNiceTicks(n,e,t,i);this._intervalPrecision=r.intervalPrecision,this._interval=r.interval,this._niceExtent=r.niceTickExtent}},niceExtent:function(e){var t=this._extent;if(t[0]===t[1])if(0!==t[0]){var i=t[0];e.fixMax||(t[1]+=i/2),t[0]-=i/2}else t[1]=1;isFinite(t[1]-t[0])||(t[0]=0,t[1]=1),this.niceTicks(e.splitNumber,e.minInterval,e.maxInterval);var n=this._interval;e.fixMin||(t[0]=a(Math.floor(t[0]/n)*n)),e.fixMax||(t[1]=a(Math.ceil(t[1]/n)*n))}});l.create=function(){return new l},e.exports=l},56139:function(e,t,i){var n=i(40628),o=i(48512),r=i(14785),s=i(95543),a=o.prototype,l=s.prototype,c=r.getPrecisionSafe,h=r.round,u=Math.floor,d=Math.ceil,p=Math.pow,g=Math.log,f=o.extend({type:"log",base:10,$constructor:function(){o.apply(this,arguments),this._originalScale=new s},getTicks:function(e){var t=this._originalScale,i=this._extent,o=t.getExtent();return n.map(l.getTicks.call(this,e),function(e){var n=r.round(p(this.base,e));return n=e===i[0]&&t.__fixMin?m(n,o[0]):n,e===i[1]&&t.__fixMax?m(n,o[1]):n},this)},getMinorTicks:l.getMinorTicks,getLabel:l.getLabel,scale:function(e){return e=a.scale.call(this,e),p(this.base,e)},setExtent:function(e,t){var i=this.base;e=g(e)/g(i),t=g(t)/g(i),l.setExtent.call(this,e,t)},getExtent:function(){var e=this.base,t=a.getExtent.call(this);t[0]=p(e,t[0]),t[1]=p(e,t[1]);var i=this._originalScale,n=i.getExtent();return i.__fixMin&&(t[0]=m(t[0],n[0])),i.__fixMax&&(t[1]=m(t[1],n[1])),t},unionExtent:function(e){this._originalScale.unionExtent(e);var t=this.base;e[0]=g(e[0])/g(t),e[1]=g(e[1])/g(t),a.unionExtent.call(this,e)},unionExtentFromData:function(e,t){this.unionExtent(e.getApproximateExtent(t))},niceTicks:function(e){e=e||10;var t=this._extent,i=t[1]-t[0];if(!(i===1/0||i<=0)){var n=r.quantity(i);for(e/i*n<=.5&&(n*=10);!isNaN(n)&&Math.abs(n)<1&&Math.abs(n)>0;)n*=10;var o=[r.round(d(t[0]/n)*n),r.round(u(t[1]/n)*n)];this._interval=n,this._niceExtent=o}},niceExtent:function(e){l.niceExtent.call(this,e);var t=this._originalScale;t.__fixMin=e.fixMin,t.__fixMax=e.fixMax}});function m(e,t){return h(e,c(t))}n.each(["contain","normalize"],function(e){f.prototype[e]=function(t){return t=g(t)/g(this.base),a[e].call(this,t)}}),f.create=function(){return new f},e.exports=f},93156:function(e,t,i){var n=i(40628),o=i(48512),r=i(59567),s=o.prototype,a=o.extend({type:"ordinal",init:function(e,t){(!e||n.isArray(e))&&(e=new r({categories:e})),this._ordinalMeta=e,this._extent=t||[0,e.categories.length-1]},parse:function(e){return"string"==typeof e?this._ordinalMeta.getOrdinal(e):Math.round(e)},contain:function(e){return e=this.parse(e),s.contain.call(this,e)&&null!=this._ordinalMeta.categories[e]},normalize:function(e){return s.normalize.call(this,this.parse(e))},scale:function(e){return Math.round(s.scale.call(this,e))},getTicks:function(){for(var e=[],t=this._extent,i=t[0];i<=t[1];)e.push(i),i++;return e},getLabel:function(e){if(!this.isBlank())return this._ordinalMeta.categories[e]},count:function(){return this._extent[1]-this._extent[0]+1},unionExtentFromData:function(e,t){this.unionExtent(e.getApproximateExtent(t))},getOrdinalMeta:function(){return this._ordinalMeta},niceTicks:n.noop,niceExtent:n.noop});a.create=function(){return new a},e.exports=a},48512:function(e,t,i){var n=i(31087);function o(e){this._setting=e||{},this._extent=[1/0,-1/0],this._interval=0,this.init&&this.init.apply(this,arguments)}o.prototype.parse=function(e){return e},o.prototype.getSetting=function(e){return this._setting[e]},o.prototype.contain=function(e){var t=this._extent;return e>=t[0]&&e<=t[1]},o.prototype.normalize=function(e){var t=this._extent;return t[1]===t[0]?.5:(e-t[0])/(t[1]-t[0])},o.prototype.scale=function(e){var t=this._extent;return e*(t[1]-t[0])+t[0]},o.prototype.unionExtent=function(e){var t=this._extent;e[0]<t[0]&&(t[0]=e[0]),e[1]>t[1]&&(t[1]=e[1])},o.prototype.unionExtentFromData=function(e,t){this.unionExtent(e.getApproximateExtent(t))},o.prototype.getExtent=function(){return this._extent.slice()},o.prototype.setExtent=function(e,t){var i=this._extent;isNaN(e)||(i[0]=e),isNaN(t)||(i[1]=t)},o.prototype.isBlank=function(){return this._isBlank},o.prototype.setBlank=function(e){this._isBlank=e},o.prototype.getLabel=null,n.enableClassExtend(o),n.enableClassManagement(o,{registerWhenExtend:!0}),e.exports=o},39020:function(e,t,i){var n=i(40628),o=i(14785),r=i(99706),s=i(47331),a=i(95543),l=a.prototype,c=Math.ceil,h=Math.floor,u=1e3,d=60*u,p=60*d,g=24*p,f=a.extend({type:"time",getLabel:function(e){var t=this._stepLvl,i=new Date(e);return r.formatTime(t[0],i,this.getSetting("useUTC"))},niceExtent:function(e){var t=this._extent;if(t[0]===t[1]&&(t[0]-=g,t[1]+=g),t[1]===-1/0&&t[0]===1/0){var i=new Date;t[1]=+new Date(i.getFullYear(),i.getMonth(),i.getDate()),t[0]=t[1]-g}this.niceTicks(e.splitNumber,e.minInterval,e.maxInterval);var n=this._interval;e.fixMin||(t[0]=o.round(h(t[0]/n)*n)),e.fixMax||(t[1]=o.round(c(t[1]/n)*n))},niceTicks:function(e,t,i){var n=this._extent,r=n[1]-n[0],a=r/(e=e||10);null!=t&&a<t&&(a=t),null!=i&&a>i&&(a=i);var l=m.length,u=function(e,t,i,n){for(;i<n;){var o=i+n>>>1;e[o][1]<t?i=o+1:n=o}return i}(m,a,0,l),d=m[Math.min(u,l-1)],p=d[1];"year"===d[0]&&(p*=o.nice(r/p/e,!0));var g=this.getSetting("useUTC")?0:60*new Date(+n[0]||+n[1]).getTimezoneOffset()*1e3,f=[Math.round(c((n[0]-g)/p)*p+g),Math.round(h((n[1]-g)/p)*p+g)];s.fixExtent(f,n),this._stepLvl=d,this._interval=p,this._niceExtent=f},parse:function(e){return+o.parseDate(e)}});n.each(["contain","normalize"],function(e){f.prototype[e]=function(t){return l[e].call(this,this.parse(t))}});var m=[["hh:mm:ss",u],["hh:mm:ss",5*u],["hh:mm:ss",10*u],["hh:mm:ss",15*u],["hh:mm:ss",30*u],["hh:mm\nMM-dd",d],["hh:mm\nMM-dd",5*d],["hh:mm\nMM-dd",10*d],["hh:mm\nMM-dd",15*d],["hh:mm\nMM-dd",30*d],["hh:mm\nMM-dd",p],["hh:mm\nMM-dd",2*p],["hh:mm\nMM-dd",6*p],["hh:mm\nMM-dd",12*p],["MM-dd\nyyyy",g],["MM-dd\nyyyy",2*g],["MM-dd\nyyyy",3*g],["MM-dd\nyyyy",4*g],["MM-dd\nyyyy",5*g],["MM-dd\nyyyy",6*g],["week",7*g],["MM-dd\nyyyy",10*g],["week",14*g],["week",21*g],["month",31*g],["week",42*g],["month",62*g],["week",70*g],["quarter",95*g],["month",31*g*4],["month",31*g*5],["half-year",380*g/2],["month",31*g*8],["month",31*g*10],["year",380*g]];f.create=function(e){return new f({useUTC:e.ecModel.get("useUTC")})},e.exports=f},47331:function(e,t,i){var n=i(14785),o=n.round;function r(e){return n.getPrecisionSafe(e)+2}function s(e,t,i){e[t]=Math.max(Math.min(e[t],i[1]),i[0])}function a(e,t){!isFinite(e[0])&&(e[0]=t[0]),!isFinite(e[1])&&(e[1]=t[1]),s(e,0,t),s(e,1,t),e[0]>e[1]&&(e[0]=e[1])}t.intervalScaleNiceTicks=function(e,t,i,s){var l={},c=l.interval=n.nice((e[1]-e[0])/t,!0);null!=i&&c<i&&(c=l.interval=i),null!=s&&c>s&&(c=l.interval=s);var h=l.intervalPrecision=r(c);return a(l.niceTickExtent=[o(Math.ceil(e[0]/c)*c,h),o(Math.floor(e[1]/c)*c,h)],e),l},t.getIntervalPrecision=r,t.fixExtent=a},1691:function(e,t,i){var n=i(40628),o=n.each,r=n.map,s=n.isFunction,a=n.createHashMap,l=n.noop,c=i(47159).createTask,h=i(82015).getUID,u=i(40190),d=i(71276),p=i(91266).normalizeToArray;function g(e,t,i,n){this.ecInstance=e,this.api=t,i=this._dataProcessorHandlers=i.slice(),n=this._visualHandlers=n.slice(),this._allHandlers=i.concat(n),this._stageTaskMap=a()}var f=g.prototype;function m(e,t,i,n,r){var s;function a(e,t){return e.setDirty&&(!e.dirtyMap||e.dirtyMap.get(t.__pipeline.id))}r=r||{},o(t,function(t,o){if(!r.visualType||r.visualType===t.visualType){var l=e._stageTaskMap.get(t.uid),c=l.seriesTaskMap,h=l.overallTask;if(h){var u,d=h.agentStubMap;d.each(function(e){a(r,e)&&(e.dirty(),u=!0)}),u&&h.dirty(),_(h,n);var p=e.getPerformArgs(h,r.block);d.each(function(e){e.perform(p)}),s|=h.perform(p)}else c&&c.each(function(o,l){a(r,o)&&o.dirty();var c=e.getPerformArgs(o,r.block);c.skip=!t.performRawSeries&&i.isSeriesFiltered(o.context.model),_(o,n),s|=o.perform(c)})}}),e.unfinished|=s}f.restoreData=function(e,t){e.restoreData(t),this._stageTaskMap.each(function(e){var t=e.overallTask;t&&t.dirty()})},f.getPerformArgs=function(e,t){if(e.__pipeline){var i=this._pipelineMap.get(e.__pipeline.id),n=i.context,o=!t&&i.progressiveEnabled&&(!n||n.progressiveRender)&&e.__idxInPipeline>i.blockIndex?i.step:null,r=n&&n.modDataCount;return{step:o,modBy:null!=r?Math.ceil(r/o):null,modDataCount:r}}},f.getPipeline=function(e){return this._pipelineMap.get(e)},f.updateStreamModes=function(e,t){var i=this._pipelineMap.get(e.uid),n=e.getData().count(),o=i.progressiveEnabled&&t.incrementalPrepareRender&&n>=i.threshold,r=e.get("large")&&n>=e.get("largeThreshold"),s="mod"===e.get("progressiveChunkMode")?n:null;e.pipelineContext=i.context={progressiveRender:o,modDataCount:s,large:r}},f.restorePipelines=function(e){var t=this,i=t._pipelineMap=a();e.eachSeries(function(e){var n=e.getProgressive(),o=e.uid;i.set(o,{id:o,head:null,tail:null,threshold:e.getProgressiveThreshold(),progressiveEnabled:n&&!(e.preventIncremental&&e.preventIncremental()),blockIndex:-1,step:Math.round(n||700),count:0}),k(t,e,e.dataTask)})},f.prepareStageTasks=function(){var e=this._stageTaskMap,t=this.ecInstance.getModel(),i=this.api;o(this._allHandlers,function(n){var r=e.get(n.uid)||e.set(n.uid,[]);n.reset&&function(e,t,i,n,o){var r=i.seriesTaskMap||(i.seriesTaskMap=a()),s=t.seriesType,l=t.getTargetSeries;function h(i){var s=i.uid,a=r.get(s)||r.set(s,c({plan:A,reset:x,count:Z}));a.context={model:i,ecModel:n,api:o,useClearVisual:t.isVisual&&!t.isLayout,plan:t.plan,reset:t.reset,scheduler:e},k(e,i,a)}t.createOnAllSeries?n.eachRawSeries(h):s?n.eachRawSeriesByType(s,h):l&&l(n,o).each(h);var u=e._pipelineMap;r.each(function(e,t){u.get(t)||(e.dispose(),r.removeKey(t))})}(this,n,r,t,i),n.overallReset&&function(e,t,i,n,r){var s=i.overallTask=i.overallTask||c({reset:v});s.context={ecModel:n,api:r,overallReset:t.overallReset,scheduler:e};var l=s.agentStubMap=s.agentStubMap||a(),h=t.seriesType,u=t.getTargetSeries,d=!0,p=t.modifyOutputEnd;function g(t){var i=t.uid,n=l.get(i);n||(n=l.set(i,c({reset:y,onDirty:w})),s.dirty()),n.context={model:t,overallProgress:d,modifyOutputEnd:p},n.agent=s,n.__block=d,k(e,t,n)}h?n.eachRawSeriesByType(h,g):u?u(n,r).each(g):(d=!1,o(n.getSeries(),g));var f=e._pipelineMap;l.each(function(e,t){f.get(t)||(e.dispose(),s.dirty(),l.removeKey(t))})}(this,n,r,t,i)},this)},f.prepareView=function(e,t,i,n){var o=e.renderTask,r=o.context;r.model=t,r.ecModel=i,r.api=n,o.__block=!e.incrementalPrepareRender,k(this,t,o)},f.performDataProcessorTasks=function(e,t){m(this,this._dataProcessorHandlers,e,t,{block:!0})},f.performVisualTasks=function(e,t,i){m(this,this._visualHandlers,e,t,i)},f.performSeriesTasks=function(e){var t;e.eachSeries(function(e){t|=e.dataTask.perform()}),this.unfinished|=t},f.plan=function(){this._pipelineMap.each(function(e){var t=e.tail;do{if(t.__block){e.blockIndex=t.__idxInPipeline;break}t=t.getUpstream()}while(t)})};var _=f.updatePayload=function(e,t){"remain"!==t&&(e.context.payload=t)};function v(e){e.overallReset(e.ecModel,e.api,e.payload)}function y(e,t){return e.overallProgress&&b}function b(){this.agent.dirty(),this.getDownstream().dirty()}function w(){this.agent&&this.agent.dirty()}function A(e){return e.plan&&e.plan(e.model,e.ecModel,e.api,e.payload)}function x(e){e.useClearVisual&&e.data.clearAllVisual();var t=e.resetDefines=p(e.reset(e.model,e.ecModel,e.api,e.payload));return t.length>1?r(t,function(e,t){return C(t)}):T}var T=C(0);function C(e){return function(t,i){var n=i.data,o=i.resetDefines[e];if(o&&o.dataEach)for(var r=t.start;r<t.end;r++)o.dataEach(n,r);else o&&o.progress&&o.progress(t,n)}}function Z(e){return e.data.count()}function k(e,t,i){var n=e._pipelineMap.get(t.uid);!n.head&&(n.head=i),n.tail&&n.tail.pipe(i),n.tail=i,i.__idxInPipeline=n.count++,i.__pipeline=n}function S(e){E=null;try{e(M,O)}catch(t){}return E}g.wrapStageHandler=function(e,t){return s(e)&&(e={overallReset:e,seriesType:S(e)}),e.uid=h("stageHandler"),t&&(e.visualType=t),e};var E,M={},O={};function I(e,t){for(var i in t.prototype)e[i]=l}I(M,u),I(O,d),M.eachSeriesByType=M.eachRawSeriesByType=function(e){E=e},M.eachComponent=function(e){"series"===e.mainType&&e.subType&&(E=e.subType)},e.exports=g},47159:function(e,t,i){var n=i(40628).isArray;function o(e){this._reset=(e=e||{}).reset,this._plan=e.plan,this._count=e.count,this._onDirty=e.onDirty,this._dirty=!0}i(59963);var r=o.prototype;r.perform=function(e){var t,i=this._upstream,o=e&&e.skip;if(this._dirty&&i){var r=this.context;r.data=r.outputData=i.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this),this._plan&&!o&&(t=this._plan(this.context));var s,l=d(this._modBy),c=this._modDataCount||0,h=d(e&&e.modBy),u=e&&e.modDataCount||0;function d(e){return!(e>=1)&&(e=1),e}(l!==h||c!==u)&&(t="reset"),(this._dirty||"reset"===t)&&(this._dirty=!1,s=function(e,t){var i,o;e._dueIndex=e._outputDueEnd=e._dueEnd=0,e._settedOutputEnd=null,!t&&e._reset&&((i=e._reset(e.context))&&i.progress&&(o=i.forceFirstProgress,i=i.progress),n(i)&&!i.length&&(i=null)),e._progress=i,e._modBy=e._modDataCount=null;var r=e._downstream;return r&&r.dirty(),o}(this,o)),this._modBy=h,this._modDataCount=u;var p=e&&e.step;if(this._dueEnd=i?i._outputDueEnd:this._count?this._count(this.context):1/0,this._progress){var g=this._dueIndex,f=Math.min(null!=p?this._dueIndex+p:1/0,this._dueEnd);if(!o&&(s||g<f)){var m=this._progress;if(n(m))for(var _=0;_<m.length;_++)a(this,m[_],g,f,h,u);else a(this,m,g,f,h,u)}this._dueIndex=f,this._outputDueEnd=null!=this._settedOutputEnd?this._settedOutputEnd:f}else this._dueIndex=this._outputDueEnd=null!=this._settedOutputEnd?this._settedOutputEnd:this._dueEnd;return this.unfinished()};var s=function(){var e,t,i,n,o,r={reset:function(l,c,h,u){t=l,e=c,i=h,n=u,o=Math.ceil(n/i),r.next=i>1&&n>0?a:s}};return r;function s(){return t<e?t++:null}function a(){var r=t%o*i+Math.ceil(t/o),s=t>=e?null:r<n?r:t;return t++,s}}();function a(e,t,i,n,o,r){s.reset(i,n,o,r),e._callingProgress=t,e._callingProgress({start:i,end:n,count:n-i,next:s.next},e.context)}r.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},r.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},r.pipe=function(e){(this._downstream!==e||this._dirty)&&(this._downstream=e,e._upstream=this,e.dirty())},r.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},r.getUpstream=function(){return this._upstream},r.getDownstream=function(){return this._downstream},r.setOutputEnd=function(e){this._outputDueEnd=this._settedOutputEnd=e},t.createTask=function(e){return new o(e)}},49958:function(e){var t="#eee",i=function(){return{axisLine:{lineStyle:{color:t}},axisTick:{lineStyle:{color:t}},axisLabel:{textStyle:{color:t}},splitLine:{lineStyle:{type:"dashed",color:"#aaa"}},splitArea:{areaStyle:{color:t}}}},n=["#dd6b66","#759aa0","#e69d87","#8dc1a9","#ea7e53","#eedd78","#73a373","#73b9bc","#7289ab","#91ca8c","#f49f42"],o={color:n,backgroundColor:"#333",tooltip:{axisPointer:{lineStyle:{color:t},crossStyle:{color:t},label:{color:"#000"}}},legend:{textStyle:{color:t}},textStyle:{color:t},title:{textStyle:{color:t}},toolbox:{iconStyle:{normal:{borderColor:t}}},dataZoom:{textStyle:{color:t}},visualMap:{textStyle:{color:t}},timeline:{lineStyle:{color:t},itemStyle:{normal:{color:n[1]}},label:{normal:{textStyle:{color:t}}},controlStyle:{normal:{color:t,borderColor:t}}},timeAxis:i(),logAxis:i(),valueAxis:i(),categoryAxis:i(),line:{symbol:"circle"},graph:{color:n},gauge:{title:{textStyle:{color:t}}},candlestick:{itemStyle:{normal:{color:"#FD1050",color0:"#0CF49B",borderColor:"#FD1050",borderColor0:"#0CF49B"}}}};o.categoryAxis.splitLine.show=!1,e.exports=o},66239:function(e){var t=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"];e.exports={color:t,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],t]}},10668:function(e,t,i){var n=i(40628);t.createWrap=function(){var e,t=[],i={};return{add:function(e,o,r,s,a){return n.isString(s)&&(a=s,s=0),!i[e.id]&&(i[e.id]=1,t.push({el:e,target:o,time:r,delay:s,easing:a}),!0)},done:function(t){return e=t,this},start:function(){for(var n=t.length,o=0,r=t.length;o<r;o++){var s=t[o];s.el.animateTo(s.target,s.time,s.delay,s.easing,a)}return this;function a(){--n||(t.length=0,i={},e&&e())}}}}},31087:function(e,t,i){i(59963);var n=i(40628),o="___EC__COMPONENT__CONTAINER___";function r(e){var t={main:"",sub:""};return e&&(e=e.split("."),t.main=e[0]||"",t.sub=e[1]||""),t}var s=0;function a(e,t){var i=n.slice(arguments,2);return this.superClass.prototype[t].apply(e,i)}function l(e,t,i){return this.superClass.prototype[t].apply(e,i)}t.parseClassType=r,t.enableClassExtend=function(e,t){e.$constructor=e,e.extend=function(e){var t=this,i=function(){e.$constructor?e.$constructor.apply(this,arguments):t.apply(this,arguments)};return n.extend(i.prototype,e),i.extend=this.extend,i.superCall=a,i.superApply=l,n.inherits(i,this),i.superClass=t,i}},t.enableClassCheck=function(e){var t=["__\0is_clz",s++,Math.random().toFixed(3)].join("_");e.prototype[t]=!0,e.isInstance=function(e){return!(!e||!e[t])}},t.enableClassManagement=function(e,t){t=t||{};var i={};if(e.registerClass=function(e,t){return t&&(function(e){n.assert(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(e),'componentType "'+e+'" illegal')}(t),(t=r(t)).sub?t.sub!==o&&((function(e){var t=i[e.main];return(!t||!t[o])&&((t=i[e.main]={})[o]=!0),t}(t))[t.sub]=e):i[t.main]=e),e},e.getClass=function(e,t,n){var r=i[e];if(r&&r[o]&&(r=t?r[t]:null),n&&!r)throw new Error(t?"Component "+e+"."+(t||"")+" not exists. Load it first.":e+".type should be specified.");return r},e.getClassesByMainType=function(e){e=r(e);var t=[],s=i[e.main];return s&&s[o]?n.each(s,function(e,i){i!==o&&t.push(e)}):t.push(s),t},e.hasClass=function(e){return e=r(e),!!i[e.main]},e.getAllClassMainTypes=function(){var e=[];return n.each(i,function(t,i){e.push(i)}),e},e.hasSubTypes=function(e){e=r(e);var t=i[e.main];return t&&t[o]},e.parseClassType=r,t.registerWhenExtend){var s=e.extend;s&&(e.extend=function(t){var i=s.call(this,t);return e.registerClass(i,t.type)})}return e},t.setReadOnly=function(e,t){}},82015:function(e,t,i){var n=i(40628),o=i(31087).parseClassType,r=0;t.getUID=function(e){return[e||"",r++,Math.random().toFixed(5)].join("_")},t.enableSubTypeDefaulter=function(e){var t={};return e.registerSubTypeDefaulter=function(e,i){e=o(e),t[e.main]=i},e.determineSubType=function(i,n){var r=n.type;if(!r){var s=o(i).main;e.hasSubTypes(i)&&t[s]&&(r=t[s](n))}return r},e},t.enableTopologicalTravel=function(e,t){function i(e,t){return e[t]||(e[t]={predecessor:[],successor:[]}),e[t]}e.topologicalTravel=function(e,o,r,s){if(e.length){var a=function(e){var o={},r=[];return n.each(e,function(s){var a=i(o,s),l=function(e,t){var i=[];return n.each(e,function(e){n.indexOf(t,e)>=0&&i.push(e)}),i}(a.originalDeps=t(s),e);a.entryCount=l.length,0===a.entryCount&&r.push(s),n.each(l,function(e){n.indexOf(a.predecessor,e)<0&&a.predecessor.push(e);var t=i(o,e);n.indexOf(t.successor,e)<0&&t.successor.push(s)})}),{graph:o,noEntryList:r}}(o),l=a.graph,c=a.noEntryList,h={};for(n.each(e,function(e){h[e]=!0});c.length;){var u=c.pop(),d=l[u],p=!!h[u];p&&(r.call(s,u,d.originalDeps.slice()),delete h[u]),n.each(d.successor,p?f:g)}n.each(h,function(){throw new Error("Circle dependency may exists")})}function g(e){l[e].entryCount--,0===l[e].entryCount&&c.push(e)}function f(e){h[e]=!0,g(e)}}}},99706:function(e,t,i){var n=i(40628),o=i(71790),r=i(14785),s=n.normalizeCssArray,a=/([&<>"'])/g,l={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function c(e){return null==e?"":(e+"").replace(a,function(e,t){return l[t]})}var h=["a","b","c","d","e","f","g"],u=function(e,t){return"{"+e+(null==t?"":t)+"}"};function d(e,t){return"0000".substr(0,t-(e+="").length)+e}var p=o.truncateText;t.addCommas=function(e){return isNaN(e)?"-":(e=(e+"").split("."))[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(e.length>1?"."+e[1]:"")},t.toCamelCase=function(e,t){return e=(e||"").toLowerCase().replace(/-(.)/g,function(e,t){return t.toUpperCase()}),t&&e&&(e=e.charAt(0).toUpperCase()+e.slice(1)),e},t.normalizeCssArray=s,t.encodeHTML=c,t.formatTpl=function(e,t,i){n.isArray(t)||(t=[t]);var o=t.length;if(!o)return"";for(var r=t[0].$vars||[],s=0;s<r.length;s++){var a=h[s];e=e.replace(u(a),u(a,0))}for(var l=0;l<o;l++)for(var d=0;d<r.length;d++){var p=t[l][r[d]];e=e.replace(u(h[d],l),i?c(p):p)}return e},t.formatTplSimple=function(e,t,i){return n.each(t,function(t,n){e=e.replace("{"+n+"}",i?c(t):t)}),e},t.getTooltipMarker=function(e,t){var i=(e=n.isString(e)?{color:e,extraCssText:t}:e||{}).color,o=(t=e.extraCssText,e.renderMode||"html"),r=e.markerId||"X";return i?"html"===o?"subItem"===e.type?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+c(i)+";"+(t||"")+'"></span>':'<span style="display:inline-block;margin-right:5px;border-radius:10px;width:10px;height:10px;background-color:'+c(i)+";"+(t||"")+'"></span>':{renderMode:o,content:"{marker"+r+"|}  ",style:{color:i}}:""},t.formatTime=function(e,t,i){("week"===e||"month"===e||"quarter"===e||"half-year"===e||"year"===e)&&(e="MM-dd\nyyyy");var n=r.parseDate(t),o=i?"UTC":"",s=n["get"+o+"FullYear"](),a=n["get"+o+"Month"]()+1,l=n["get"+o+"Date"](),c=n["get"+o+"Hours"](),h=n["get"+o+"Minutes"](),u=n["get"+o+"Seconds"](),p=n["get"+o+"Milliseconds"]();return e.replace("MM",d(a,2)).replace("M",a).replace("yyyy",s).replace("yy",s%100).replace("dd",d(l,2)).replace("d",l).replace("hh",d(c,2)).replace("h",c).replace("mm",d(h,2)).replace("m",h).replace("ss",d(u,2)).replace("s",u).replace("SSS",d(p,3))},t.capitalFirst=function(e){return e&&e.charAt(0).toUpperCase()+e.substr(1)},t.truncateText=p,t.getTextBoundingRect=function(e){return o.getBoundingRect(e.text,e.font,e.textAlign,e.textVerticalAlign,e.textPadding,e.textLineHeight,e.rich,e.truncate)},t.getTextRect=function(e,t,i,n,r,s,a,l){return o.getBoundingRect(e,t,i,n,r,l,s,a)},t.windowOpen=function(e,t){if("_blank"===t||"blank"===t){var i=window.open();i.opener=null,i.location=e}else window.open(e,t)}},62429:function(e,t,i){var n=i(40628),o=i(38532),r=i(10312),s=i(3481),a=i(98221),l=i(1419),c=i(19358),h=i(26766);t.Image=h;var u=i(1805);t.Group=u;var d=i(48208);t.Text=d;var p=i(69359);t.Circle=p;var g=i(14699);t.Sector=g;var f=i(90495);t.Ring=f;var m=i(33186);t.Polygon=m;var _=i(37834);t.Polyline=_;var v=i(87145);t.Rect=v;var y=i(4110);t.Line=y;var b=i(56146);t.BezierCurve=b;var w=i(38234);t.Arc=w;var A=i(41115);t.CompoundPath=A;var x=i(45910);t.LinearGradient=x;var T=i(90641);t.RadialGradient=T;var C=i(87021);t.BoundingRect=C;var Z=i(33520);t.IncrementalDisplayable=Z;var k=i(85333),S=Math.max,E=Math.min,M={},O="emphasis",I="normal",P=1,R={},q={};function L(e,t){q[e]=t}function U(e,t,i,n){var r=o.createFromString(e,t);return i&&("center"===n&&(i=B(i,r.getBoundingRect())),N(r,i)),r}function B(e,t){var i,n=t.width/t.height,o=e.height*n;return i=o<=e.width?e.height:(o=e.width)/n,{x:e.x+e.width/2-o/2,y:e.y+e.height/2-i/2,width:o,height:i}}var D=o.mergePath;function N(e,t){if(e.applyTransform){var i=e.getBoundingRect().calculateTransform(t);e.applyTransform(i)}}var F=k.subPixelOptimize;function H(e){return null!=e&&"none"!==e}var $=n.createHashMap(),z=0;function V(e){var t=e.__hoverStl;if(t&&!e.__highlighted){var i=e.__zr,n=e.useHoverLayer&&i&&"canvas"===i.painter.type;if(e.__highlighted=n?"layer":"plain",!(e.isGroup||!i&&e.useHoverLayer)){var o=e,r=e.style;n&&(r=(o=i.addHover(e)).style),ae(r),n||function(e){if(e.__hoverStlDirty){e.__hoverStlDirty=!1;var t=e.__hoverStl;if(!t)return void(e.__cachedNormalStl=e.__cachedNormalZ2=null);var i=e.__cachedNormalStl={};e.__cachedNormalZ2=e.z2;var n=e.style;for(var o in t)null!=t[o]&&(i[o]=n[o]);i.fill=n.fill,i.stroke=n.stroke}}(o),r.extendFrom(t),K(r,t,"fill"),K(r,t,"stroke"),se(r),n||(e.dirty(!1),e.z2+=1)}}}function K(e,t,i){!H(t[i])&&H(e[i])&&(e[i]=function(e){if("string"!=typeof e)return e;var t=$.get(e);return t||(t=r.lift(e,-.1),z<1e4&&($.set(e,t),z++)),t}(e[i]))}function W(e){var t=e.__highlighted;if(t&&(e.__highlighted=!1,!e.isGroup))if("layer"===t)e.__zr&&e.__zr.removeHover(e);else{var i=e.style,n=e.__cachedNormalStl;n&&(ae(i),e.setStyle(n),se(i));var o=e.__cachedNormalZ2;null!=o&&e.z2-o==1&&(e.z2=o)}}function G(e,t,i){var n,o=I,r=I;e.__highlighted&&(o=O,n=!0),t(e,i),e.__highlighted&&(r=O,n=!0),e.isGroup&&e.traverse(function(e){!e.isGroup&&t(e,i)}),n&&e.__highDownOnUpdate&&e.__highDownOnUpdate(o,r)}function Y(e,t){t=e.__hoverStl=!1!==t&&(e.hoverStyle||t||{}),e.__hoverStlDirty=!0,e.__highlighted&&(e.__cachedNormalStl=null,W(e),V(e))}function j(e){!ee(this,e)&&!this.__highByOuter&&G(this,V)}function X(e){!ee(this,e)&&!this.__highByOuter&&G(this,W)}function J(e){this.__highByOuter|=1<<(e||0),G(this,V)}function Q(e){!(this.__highByOuter&=~(1<<(e||0)))&&G(this,W)}function ee(e,t){return e.__highDownSilentOnTouch&&t.zrByTouch}function te(e,t){var i=!1===t;if(e.__highDownSilentOnTouch=e.highDownSilentOnTouch,e.__highDownOnUpdate=e.highDownOnUpdate,!i||e.__highDownDispatcher){var n=i?"off":"on";e[n]("mouseover",j)[n]("mouseout",X),e[n]("emphasis",J)[n]("normal",Q),e.__highByOuter=e.__highByOuter||0,e.__highDownDispatcher=!i}}function ie(e,t,i,o,r){return ne(e,t,o,r),i&&n.extend(e,i),e}function ne(e,t,i,o){if((i=i||M).isRectText){var r;i.getTextPosition?r=i.getTextPosition(t,o):"outside"===(r=t.getShallow("position")||(o?null:"inside"))&&(r="top"),e.textPosition=r,e.textOffset=t.getShallow("offset");var s=t.getShallow("rotate");null!=s&&(s*=Math.PI/180),e.textRotation=s,e.textDistance=n.retrieve2(t.getShallow("distance"),o?null:5)}var a,l=t.ecModel,c=l&&l.option.textStyle,h=function(e){for(var t;e&&e!==e.ecModel;){var i=(e.option||M).rich;if(i)for(var n in t=t||{},i)i.hasOwnProperty(n)&&(t[n]=1);e=e.parentModel}return t}(t);if(h)for(var u in a={},h)if(h.hasOwnProperty(u)){var d=t.getModel(["rich",u]);oe(a[u]={},d,c,i,o)}return e.rich=a,oe(e,t,c,i,o,!0),i.forceRich&&!i.textStyle&&(i.textStyle={}),e}function oe(e,t,i,o,r,s){i=!r&&i||M,e.textFill=re(t.getShallow("color"),o)||i.color,e.textStroke=re(t.getShallow("textBorderColor"),o)||i.textBorderColor,e.textStrokeWidth=n.retrieve2(t.getShallow("textBorderWidth"),i.textBorderWidth),r||(s&&(e.insideRollbackOpt=o,se(e)),null==e.textFill&&(e.textFill=o.autoColor)),e.fontStyle=t.getShallow("fontStyle")||i.fontStyle,e.fontWeight=t.getShallow("fontWeight")||i.fontWeight,e.fontSize=t.getShallow("fontSize")||i.fontSize,e.fontFamily=t.getShallow("fontFamily")||i.fontFamily,e.textAlign=t.getShallow("align"),e.textVerticalAlign=t.getShallow("verticalAlign")||t.getShallow("baseline"),e.textLineHeight=t.getShallow("lineHeight"),e.textWidth=t.getShallow("width"),e.textHeight=t.getShallow("height"),e.textTag=t.getShallow("tag"),(!s||!o.disableBox)&&(e.textBackgroundColor=re(t.getShallow("backgroundColor"),o),e.textPadding=t.getShallow("padding"),e.textBorderColor=re(t.getShallow("borderColor"),o),e.textBorderWidth=t.getShallow("borderWidth"),e.textBorderRadius=t.getShallow("borderRadius"),e.textBoxShadowColor=t.getShallow("shadowColor"),e.textBoxShadowBlur=t.getShallow("shadowBlur"),e.textBoxShadowOffsetX=t.getShallow("shadowOffsetX"),e.textBoxShadowOffsetY=t.getShallow("shadowOffsetY")),e.textShadowColor=t.getShallow("textShadowColor")||i.textShadowColor,e.textShadowBlur=t.getShallow("textShadowBlur")||i.textShadowBlur,e.textShadowOffsetX=t.getShallow("textShadowOffsetX")||i.textShadowOffsetX,e.textShadowOffsetY=t.getShallow("textShadowOffsetY")||i.textShadowOffsetY}function re(e,t){return"auto"!==e?e:t&&t.autoColor?t.autoColor:null}function se(e){var t,i=e.textPosition,n=e.insideRollbackOpt;if(n&&null==e.textFill){var o=n.autoColor,r=n.useInsideStyle,s=!1!==r&&(!0===r||n.isRectText&&i&&"string"==typeof i&&i.indexOf("inside")>=0),a=!s&&null!=o;(s||a)&&(t={textFill:e.textFill,textStroke:e.textStroke,textStrokeWidth:e.textStrokeWidth}),s&&(e.textFill="#fff",null==e.textStroke&&(e.textStroke=o,null==e.textStrokeWidth&&(e.textStrokeWidth=2))),a&&(e.textFill=o)}e.insideRollback=t}function ae(e){var t=e.insideRollback;t&&(e.textFill=t.textFill,e.textStroke=t.textStroke,e.textStrokeWidth=t.textStrokeWidth,e.insideRollback=null)}function le(e,t,i,n,o,r){if("function"==typeof o&&(r=o,o=null),n&&n.isAnimationEnabled()){var s=e?"Update":"",a=n.getShallow("animationDuration"+s),l=n.getShallow("animationEasing"+s),c=n.getShallow("animationDelay"+s);"function"==typeof c&&(c=c(o,n.getAnimationDelayParams?n.getAnimationDelayParams(t,o):null)),"function"==typeof a&&(a=a(o)),a>0?t.animateTo(i,a,c||0,l,r,!!r):(t.stopAnimation(),t.attr(i),r&&r())}else t.stopAnimation(),t.attr(i),r&&r()}function ce(e,t,i,n,o){le(!0,e,t,i,n,o)}function he(e,t,i){return t&&!n.isArrayLike(t)&&(t=c.getLocalTransform(t)),i&&(t=s.invert([],t)),a.applyTransform([],e,t)}function ue(e,t,i,n,o,r,s,a){var l=i-e,c=n-t,h=s-o,u=a-r,d=de(h,u,l,c);if(function(e){return e<=1e-6&&e>=-1e-6}(d))return!1;var p=e-o,g=t-r,f=de(p,g,l,c)/d;if(f<0||f>1)return!1;var m=de(p,g,h,u)/d;return!(m<0||m>1)}function de(e,t,i,n){return e*n-i*t}L("circle",p),L("sector",g),L("ring",f),L("polygon",m),L("polyline",_),L("rect",v),L("line",y),L("bezierCurve",b),L("arc",w),t.Z2_EMPHASIS_LIFT=1,t.CACHED_LABEL_STYLE_PROPERTIES={color:"textFill",textBorderColor:"textStroke",textBorderWidth:"textStrokeWidth"},t.extendShape=function(e){return l.extend(e)},t.extendPath=function(e,t){return o.extendFromString(e,t)},t.registerShape=L,t.getShapeClass=function(e){if(q.hasOwnProperty(e))return q[e]},t.makePath=U,t.makeImage=function(e,t,i){var n=new h({style:{image:e,x:t.x,y:t.y,width:t.width,height:t.height},onload:function(e){"center"===i&&n.setStyle(B(t,{width:e.width,height:e.height}))}});return n},t.mergePath=D,t.resizePath=N,t.subPixelOptimizeLine=function(e){return k.subPixelOptimizeLine(e.shape,e.shape,e.style),e},t.subPixelOptimizeRect=function(e){return k.subPixelOptimizeRect(e.shape,e.shape,e.style),e},t.subPixelOptimize=F,t.setElementHoverStyle=Y,t.setHoverStyle=function(e,t){te(e,!0),G(e,Y,t)},t.setAsHighDownDispatcher=te,t.isHighDownDispatcher=function(e){return!(!e||!e.__highDownDispatcher)},t.getHighlightDigit=function(e){var t=R[e];return null==t&&P<=32&&(t=R[e]=P++),t},t.setLabelStyle=function(e,t,i,o,r,s,a){var l,c=(r=r||M).labelFetcher,h=r.labelDataIndex,u=r.labelDimIndex,d=r.labelProp,p=i.getShallow("show"),g=o.getShallow("show");(p||g)&&(c&&(l=c.getFormattedLabel(h,"normal",null,u,d)),null==l&&(l=n.isFunction(r.defaultText)?r.defaultText(h,r):r.defaultText));var f=p?l:null,m=g?n.retrieve2(c?c.getFormattedLabel(h,"emphasis",null,u,d):null,l):null;(null!=f||null!=m)&&(ie(e,i,s,r),ie(t,o,a,r,!0)),e.text=f,t.text=m},t.modifyLabelStyle=function(e,t,i){var o=e.style;t&&(ae(o),e.setStyle(t),se(o)),o=e.__hoverStl,i&&o&&(ae(o),n.extend(o,i),se(o))},t.setTextStyle=ie,t.setText=function(e,t,i){var n,o={isRectText:!0};!1===i?n=!0:o.autoColor=i,ne(e,t,o,n)},t.getFont=function(e,t){var i=t&&t.getModel("textStyle");return n.trim([e.fontStyle||i&&i.getShallow("fontStyle")||"",e.fontWeight||i&&i.getShallow("fontWeight")||"",(e.fontSize||i&&i.getShallow("fontSize")||12)+"px",e.fontFamily||i&&i.getShallow("fontFamily")||"sans-serif"].join(" "))},t.updateProps=ce,t.initProps=function(e,t,i,n,o){le(!1,e,t,i,n,o)},t.getTransform=function(e,t){for(var i=s.identity([]);e&&e!==t;)s.mul(i,e.getLocalTransform(),i),e=e.parent;return i},t.applyTransform=he,t.transformDirection=function(e,t,i){var n=0===t[4]||0===t[5]||0===t[0]?1:Math.abs(2*t[4]/t[0]),o=0===t[4]||0===t[5]||0===t[2]?1:Math.abs(2*t[4]/t[2]),r=["left"===e?-n:"right"===e?n:0,"top"===e?-o:"bottom"===e?o:0];return r=he(r,t,i),Math.abs(r[0])>Math.abs(r[1])?r[0]>0?"right":"left":r[1]>0?"bottom":"top"},t.groupTransition=function(e,t,i,o){if(e&&t){var r,s=(r={},e.traverse(function(e){!e.isGroup&&e.anid&&(r[e.anid]=e)}),r);t.traverse(function(e){if(!e.isGroup&&e.anid){var t=s[e.anid];if(t){var n=l(e);e.attr(l(t)),ce(e,n,i,e.dataIndex)}}})}function l(e){var t={position:a.clone(e.position),rotation:e.rotation};return e.shape&&(t.shape=n.extend({},e.shape)),t}},t.clipPointsByRect=function(e,t){return n.map(e,function(e){var i=e[0];i=S(i,t.x),i=E(i,t.x+t.width);var n=e[1];return n=S(n,t.y),[i,n=E(n,t.y+t.height)]})},t.clipRectByRect=function(e,t){var i=S(e.x,t.x),n=E(e.x+e.width,t.x+t.width),o=S(e.y,t.y),r=E(e.y+e.height,t.y+t.height);if(n>=i&&r>=o)return{x:i,y:o,width:n-i,height:r-o}},t.createIcon=function(e,t,i){var o=(t=n.extend({rectHover:!0},t)).style={strokeNoScale:!0};if(i=i||{x:-1,y:-1,width:2,height:2},e)return 0===e.indexOf("image://")?(o.image=e.slice(8),n.defaults(o,i),new h(t)):U(e.replace("path://",""),t,i,"center")},t.linePolygonIntersect=function(e,t,i,n,o){for(var r=0,s=o[o.length-1];r<o.length;r++){var a=o[r];if(ue(e,t,i,n,a[0],a[1],s[0],s[1]))return!0;s=a}},t.lineLineIntersect=ue},40634:function(e,t,i){var n=i(40628),o=i(87021),r=i(14785).parsePercent,s=i(99706),a=n.each,l=["left","right","top","bottom","width","height"],c=[["width","left","right"],["height","top","bottom"]];function h(e,t,i,n,o){var r=0,s=0;null==n&&(n=1/0),null==o&&(o=1/0);var a=0;t.eachChild(function(l,c){var h,u,d=l.position,p=l.getBoundingRect(),g=t.childAt(c+1),f=g&&g.getBoundingRect();if("horizontal"===e){var m=p.width+(f?-f.x+p.x:0);(h=r+m)>n||l.newline?(r=0,h=m,s+=a+i,a=p.height):a=Math.max(a,p.height)}else{var _=p.height+(f?-f.y+p.y:0);(u=s+_)>o||l.newline?(r+=a+i,s=0,u=_,a=p.width):a=Math.max(a,p.width)}l.newline||(d[0]=r,d[1]=s,"horizontal"===e?r=h+i:s=u+i)})}var u=h,d=n.curry(h,"vertical"),p=n.curry(h,"horizontal");function g(e,t,i){i=s.normalizeCssArray(i||0);var n=t.width,a=t.height,l=r(e.left,n),c=r(e.top,a),h=r(e.right,n),u=r(e.bottom,a),d=r(e.width,n),p=r(e.height,a),g=i[2]+i[0],f=i[1]+i[3],m=e.aspect;switch(isNaN(d)&&(d=n-h-f-l),isNaN(p)&&(p=a-u-g-c),null!=m&&(isNaN(d)&&isNaN(p)&&(m>n/a?d=.8*n:p=.8*a),isNaN(d)&&(d=m*p),isNaN(p)&&(p=d/m)),isNaN(l)&&(l=n-h-d-f),isNaN(c)&&(c=a-u-p-g),e.left||e.right){case"center":l=n/2-d/2-i[3];break;case"right":l=n-d-f}switch(e.top||e.bottom){case"middle":case"center":c=a/2-p/2-i[0];break;case"bottom":c=a-p-g}l=l||0,c=c||0,isNaN(d)&&(d=n-f-l-(h||0)),isNaN(p)&&(p=a-g-c-(u||0));var _=new o(l+i[3],c+i[0],d,p);return _.margin=i,_}function f(e,t){return t&&e&&a(l,function(i){t.hasOwnProperty(i)&&(e[i]=t[i])}),e}t.LOCATION_PARAMS=l,t.HV_NAMES=c,t.box=u,t.vbox=d,t.hbox=p,t.getAvailableSize=function(e,t,i){var n=t.width,o=t.height,a=r(e.x,n),l=r(e.y,o),c=r(e.x2,n),h=r(e.y2,o);return(isNaN(a)||isNaN(parseFloat(e.x)))&&(a=0),(isNaN(c)||isNaN(parseFloat(e.x2)))&&(c=n),(isNaN(l)||isNaN(parseFloat(e.y)))&&(l=0),(isNaN(h)||isNaN(parseFloat(e.y2)))&&(h=o),i=s.normalizeCssArray(i||0),{width:Math.max(c-a-i[1]-i[3],0),height:Math.max(h-l-i[0]-i[2],0)}},t.getLayoutRect=g,t.positionElement=function(e,t,i,r,s){var a=!s||!s.hv||s.hv[0],l=!s||!s.hv||s.hv[1],c=s&&s.boundingMode||"all";if(a||l){var h;if("raw"===c)h="group"===e.type?new o(0,0,+t.width||0,+t.height||0):e.getBoundingRect();else if(h=e.getBoundingRect(),e.needLocalTransform()){var u=e.getLocalTransform();(h=h.clone()).applyTransform(u)}t=g(n.defaults({width:h.width,height:h.height},t),i,r);var d=e.position,p=a?t.x-h.x:0,f=l?t.y-h.y:0;e.attr("position","raw"===c?[p,f]:[d[0]+p,d[1]+f])}},t.sizeCalculable=function(e,t){return null!=e[c[t][0]]||null!=e[c[t][1]]&&null!=e[c[t][2]]},t.mergeLayoutParam=function(e,t,i){!n.isObject(i)&&(i={});var o=i.ignoreSize;!n.isArray(o)&&(o=[o,o]);var r=l(c[0],0),s=l(c[1],1);function l(i,n){var r={},s=0,l={},c=0;if(a(i,function(t){l[t]=e[t]}),a(i,function(e){h(t,e)&&(r[e]=l[e]=t[e]),u(r,e)&&s++,u(l,e)&&c++}),o[n])return u(t,i[1])?l[i[2]]=null:u(t,i[2])&&(l[i[1]]=null),l;if(2===c||!s)return l;if(s>=2)return r;for(var d=0;d<i.length;d++){var p=i[d];if(!h(r,p)&&h(e,p)){r[p]=e[p];break}}return r}function h(e,t){return e.hasOwnProperty(t)}function u(e,t){return null!=e[t]&&"auto"!==e[t]}function d(e,t,i){a(e,function(e){t[e]=i[e]})}d(c[0],e,r),d(c[1],e,s)},t.getLayoutParams=function(e){return f({},e)},t.copyLayoutParams=f},91266:function(e,t,i){var n=i(40628),o=i(10169),r=n.each,s=n.isObject,a=n.isArray,l="series\0";function c(e){return e instanceof Array?e:null==e?[]:[e]}function h(e){return s(e)&&e.id&&0===(e.id+"").indexOf("\0_ec_\0")}var u=0;function d(e,t){return e&&e.hasOwnProperty(t)}t.normalizeToArray=c,t.defaultEmphasis=function(e,t,i){if(e){e[t]=e[t]||{},e.emphasis=e.emphasis||{},e.emphasis[t]=e.emphasis[t]||{};for(var n=0,o=i.length;n<o;n++){var r=i[n];!e.emphasis[t].hasOwnProperty(r)&&e[t].hasOwnProperty(r)&&(e.emphasis[t][r]=e[t][r])}}},t.TEXT_STYLE_OPTIONS=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"],t.getDataItemValue=function(e){return!s(e)||a(e)||e instanceof Date?e:e.value},t.isDataItemOption=function(e){return s(e)&&!(e instanceof Array)},t.mappingToExists=function(e,t){t=(t||[]).slice();var i=n.map(e||[],function(e,t){return{exist:e}});return r(t,function(e,n){if(s(e)){for(var o=0;o<i.length;o++)if(!i[o].option&&null!=e.id&&i[o].exist.id===e.id+"")return i[o].option=e,void(t[n]=null);for(o=0;o<i.length;o++){var r=i[o].exist;if(!(i[o].option||null!=r.id&&null!=e.id||null==e.name||h(e)||h(r)||r.name!==e.name+""))return i[o].option=e,void(t[n]=null)}}}),r(t,function(e,t){if(s(e)){for(var n=0;n<i.length;n++)if(!i[n].option&&!h(i[n].exist)&&null==e.id){i[n].option=e;break}n>=i.length&&i.push({option:e})}}),i},t.makeIdAndName=function(e){var t=n.createHashMap();r(e,function(e,i){var n=e.exist;n&&t.set(n.id,e)}),r(e,function(e,i){var o=e.option;n.assert(!o||null==o.id||!t.get(o.id)||t.get(o.id)===e,"id duplicates: "+(o&&o.id)),o&&null!=o.id&&t.set(o.id,e),!e.keyInfo&&(e.keyInfo={})}),r(e,function(e,i){var n=e.exist,o=e.option,r=e.keyInfo;if(s(o)){if(r.name=null!=o.name?o.name+"":n?n.name:l+i,n)r.id=n.id;else if(null!=o.id)r.id=o.id+"";else{var a=0;do{r.id="\0"+r.name+"\0"+a++}while(t.get(r.id))}t.set(r.id,e)}})},t.isNameSpecified=function(e){var t=e.name;return!(!t||!t.indexOf(l))},t.isIdInner=h,t.compressBatches=function(e,t){var i={},n={};return o(e||[],i),o(t||[],n,i),[r(i),r(n)];function o(e,t,i){for(var n=0,o=e.length;n<o;n++)for(var r=e[n].seriesId,s=c(e[n].dataIndex),a=i&&i[r],l=0,h=s.length;l<h;l++){var u=s[l];a&&a[u]?a[u]=null:(t[r]||(t[r]={}))[u]=1}}function r(e,t){var i=[];for(var n in e)if(e.hasOwnProperty(n)&&null!=e[n])if(t)i.push(+n);else{var o=r(e[n],!0);o.length&&i.push({seriesId:n,dataIndex:o})}return i}},t.queryDataIndex=function(e,t){return null!=t.dataIndexInside?t.dataIndexInside:null!=t.dataIndex?n.isArray(t.dataIndex)?n.map(t.dataIndex,function(t){return e.indexOfRawIndex(t)}):e.indexOfRawIndex(t.dataIndex):null!=t.name?n.isArray(t.name)?n.map(t.name,function(t){return e.indexOfName(t)}):e.indexOfName(t.name):void 0},t.makeInner=function(){var e="__\0ec_inner_"+u+++"_"+Math.random().toFixed(5);return function(t){return t[e]||(t[e]={})}},t.parseFinder=function(e,t,i){if(n.isString(t)){var o={};o[t+"Index"]=0,t=o}var s=i&&i.defaultMainType;s&&!d(t,s+"Index")&&!d(t,s+"Id")&&!d(t,s+"Name")&&(t[s+"Index"]=0);var a={};return r(t,function(o,r){if(o=t[r],"dataIndex"!==r&&"dataIndexInside"!==r){var s=r.match(/^(\w+)(Index|Id|Name)$/)||[],l=s[1],c=(s[2]||"").toLowerCase();if(!(!l||!c||null==o||"index"===c&&"none"===o||i&&i.includeMainTypes&&n.indexOf(i.includeMainTypes,l)<0)){var h={mainType:l};("index"!==c||"all"!==o)&&(h[c]=o);var u=e.queryComponents(h);a[l+"Models"]=u,a[l+"Model"]=u[0]}}else a[r]=o}),a},t.setAttribute=function(e,t,i){e.setAttribute?e.setAttribute(t,i):e[t]=i},t.getAttribute=function(e,t){return e.getAttribute?e.getAttribute(t):e[t]},t.getTooltipRenderMode=function(e){return"auto"===e?o.domSupported?"html":"richText":e||"html"},t.groupData=function(e,t){var i=n.createHashMap(),o=[];return n.each(e,function(e){var n=t(e);(i.get(n)||(o.push(n),i.set(n,[]))).push(e)}),{keys:o,buckets:i}}},14785:function(e,t,i){var n=i(40628),o=1e-4,r=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d\d)(?::(\d\d)(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function s(e){if(0===e)return 0;var t=Math.floor(Math.log(e)/Math.LN10);return e/Math.pow(10,t)>=10&&t++,t}t.linearMap=function(e,t,i,n){var o=t[1]-t[0],r=i[1]-i[0];if(0===o)return 0===r?i[0]:(i[0]+i[1])/2;if(n)if(o>0){if(e<=t[0])return i[0];if(e>=t[1])return i[1]}else{if(e>=t[0])return i[0];if(e<=t[1])return i[1]}else{if(e===t[0])return i[0];if(e===t[1])return i[1]}return(e-t[0])/o*r+i[0]},t.parsePercent=function(e,t){switch(e){case"center":case"middle":e="50%";break;case"left":case"top":e="0%";break;case"right":case"bottom":e="100%"}return"string"==typeof e?function(e){return e.replace(/^\s+|\s+$/g,"")}(e).match(/%$/)?parseFloat(e)/100*t:parseFloat(e):null==e?NaN:+e},t.round=function(e,t,i){return null==t&&(t=10),t=Math.min(Math.max(0,t),20),e=(+e).toFixed(t),i?e:+e},t.asc=function(e){return e.sort(function(e,t){return e-t}),e},t.getPrecision=function(e){if(e=+e,isNaN(e))return 0;for(var t=1,i=0;Math.round(e*t)/t!==e;)t*=10,i++;return i},t.getPrecisionSafe=function(e){var t=e.toString(),i=t.indexOf("e");if(i>0){var n=+t.slice(i+1);return n<0?-n:0}var o=t.indexOf(".");return o<0?0:t.length-1-o},t.getPixelPrecision=function(e,t){var i=Math.log,n=Math.LN10,o=Math.floor(i(e[1]-e[0])/n),r=Math.round(i(Math.abs(t[1]-t[0]))/n),s=Math.min(Math.max(-o+r,0),20);return isFinite(s)?s:20},t.getPercentWithPrecision=function(e,t,i){if(!e[t])return 0;var o=n.reduce(e,function(e,t){return e+(isNaN(t)?0:t)},0);if(0===o)return 0;for(var r=Math.pow(10,i),s=n.map(e,function(e){return(isNaN(e)?0:e)/o*r*100}),a=100*r,l=n.map(s,function(e){return Math.floor(e)}),c=n.reduce(l,function(e,t){return e+t},0),h=n.map(s,function(e,t){return e-l[t]});c<a;){for(var u=Number.NEGATIVE_INFINITY,d=null,p=0,g=h.length;p<g;++p)h[p]>u&&(u=h[p],d=p);++l[d],h[d]=0,++c}return l[t]/r},t.MAX_SAFE_INTEGER=9007199254740991,t.remRadian=function(e){var t=2*Math.PI;return(e%t+t)%t},t.isRadianAroundZero=function(e){return e>-o&&e<o},t.parseDate=function(e){if(e instanceof Date)return e;if("string"==typeof e){var t=r.exec(e);if(!t)return new Date(NaN);if(t[8]){var i=+t[4]||0;return"Z"!==t[8].toUpperCase()&&(i-=t[8].slice(0,3)),new Date(Date.UTC(+t[1],+(t[2]||1)-1,+t[3]||1,i,+(t[5]||0),+t[6]||0,+t[7]||0))}return new Date(+t[1],+(t[2]||1)-1,+t[3]||1,+t[4]||0,+(t[5]||0),+t[6]||0,+t[7]||0)}return null==e?new Date(NaN):new Date(Math.round(e))},t.quantity=function(e){return Math.pow(10,s(e))},t.quantityExponent=s,t.nice=function(e,t){var i=s(e),n=Math.pow(10,i),o=e/n;return e=(t?o<1.5?1:o<2.5?2:o<4?3:o<7?5:10:o<1?1:o<2?2:o<3?3:o<5?5:10)*n,i>=-20?+e.toFixed(i<0?-i:0):e},t.quantile=function(e,t){var i=(e.length-1)*t+1,n=Math.floor(i),o=+e[n-1],r=i-n;return r?o+r*(e[n]-o):o},t.reformIntervals=function(e){e.sort(function(e,t){return a(e,t,0)?-1:1});for(var t=-1/0,i=1,n=0;n<e.length;){for(var o=e[n].interval,r=e[n].close,s=0;s<2;s++)o[s]<=t&&(o[s]=t,r[s]=s?1:1-i),t=o[s],i=r[s];o[0]===o[1]&&r[0]*r[1]!=1?e.splice(n,1):n++}return e;function a(e,t,i){return e.interval[i]<t.interval[i]||e.interval[i]===t.interval[i]&&(e.close[i]-t.close[i]==(i?-1:1)||!i&&a(e,t,1))}},t.isNumeric=function(e){return e-parseFloat(e)>=0}},3836:function(e,t,i){var n=(0,i(62429).extendShape)({type:"sausage",shape:{cx:0,cy:0,r0:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},buildPath:function(e,t){var i=t.cx,n=t.cy,o=Math.max(t.r0||0,0),r=Math.max(t.r,0),s=.5*(r-o),a=o+s,l=t.startAngle,c=t.endAngle,h=t.clockwise,u=Math.cos(l),d=Math.sin(l),p=Math.cos(c),g=Math.sin(c);(h?c-l<2*Math.PI:l-c<2*Math.PI)&&(e.moveTo(u*o+i,d*o+n),e.arc(u*a+i,d*a+n,s,-Math.PI+l,l,!h)),e.arc(i,n,r,l,c,!h),e.moveTo(p*r+i,g*r+n),e.arc(p*a+i,g*a+n,s,c-2*Math.PI,c-Math.PI,!h),0!==o&&(e.arc(i,n,o,c,l,h),e.moveTo(u*o+i,g*o+n)),e.closePath()}});e.exports=n},34550:function(e,t,i){var n=i(40628),o=i(62429),r=i(87021),s=i(71790).calculateTextPosition,a=o.extendShape({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(e,t){var i=t.cx,n=t.cy,o=t.width/2,r=t.height/2;e.moveTo(i,n-r),e.lineTo(i+o,n+r),e.lineTo(i-o,n+r),e.closePath()}}),l=o.extendShape({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(e,t){var i=t.cx,n=t.cy,o=t.width/2,r=t.height/2;e.moveTo(i,n-r),e.lineTo(i+o,n),e.lineTo(i,n+r),e.lineTo(i-o,n),e.closePath()}}),c=o.extendShape({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(e,t){var i=t.x,n=t.y,o=t.width/5*3,r=Math.max(o,t.height),s=o/2,a=s*s/(r-s),l=n-r+s+a,c=Math.asin(a/s),h=Math.cos(c)*s,u=Math.sin(c),d=Math.cos(c),p=.6*s,g=.7*s;e.moveTo(i-h,l+a),e.arc(i,l,s,Math.PI-c,2*Math.PI+c),e.bezierCurveTo(i+h-u*p,l+a+d*p,i,n-g,i,n),e.bezierCurveTo(i,n-g,i-h+u*p,l+a+d*p,i-h,l+a),e.closePath()}}),h=o.extendShape({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(e,t){var i=t.height,n=t.x,o=t.y,r=t.width/3*2;e.moveTo(n,o),e.lineTo(n+r,o+i),e.lineTo(n,o+i/4*3),e.lineTo(n-r,o+i),e.lineTo(n,o),e.closePath()}}),u={line:function(e,t,i,n,o){o.x1=e,o.y1=t+n/2,o.x2=e+i,o.y2=t+n/2},rect:function(e,t,i,n,o){o.x=e,o.y=t,o.width=i,o.height=n},roundRect:function(e,t,i,n,o){o.x=e,o.y=t,o.width=i,o.height=n,o.r=Math.min(i,n)/4},square:function(e,t,i,n,o){var r=Math.min(i,n);o.x=e,o.y=t,o.width=r,o.height=r},circle:function(e,t,i,n,o){o.cx=e+i/2,o.cy=t+n/2,o.r=Math.min(i,n)/2},diamond:function(e,t,i,n,o){o.cx=e+i/2,o.cy=t+n/2,o.width=i,o.height=n},pin:function(e,t,i,n,o){o.x=e+i/2,o.y=t+n/2,o.width=i,o.height=n},arrow:function(e,t,i,n,o){o.x=e+i/2,o.y=t+n/2,o.width=i,o.height=n},triangle:function(e,t,i,n,o){o.cx=e+i/2,o.cy=t+n/2,o.width=i,o.height=n}},d={};n.each({line:o.Line,rect:o.Rect,roundRect:o.Rect,square:o.Rect,circle:o.Circle,diamond:l,pin:c,arrow:h,triangle:a},function(e,t){d[t]=new e});var p=o.extendShape({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(e,t,i){var n=s(e,t,i),o=this.shape;return o&&"pin"===o.symbolType&&"inside"===t.textPosition&&(n.y=i.y+.4*i.height),n},buildPath:function(e,t,i){var n=t.symbolType;if("none"!==n){var o=d[n];o||(o=d[n="rect"]),u[n](t.x,t.y,t.width,t.height,o.shape),o.buildPath(e,o.shape,i)}}});function g(e,t){if("image"!==this.type){var i=this.style,n=this.shape;n&&"line"===n.symbolType?i.stroke=e:this.__isEmptyBrush?(i.stroke=e,i.fill=t||"#fff"):(i.fill&&(i.fill=e),i.stroke&&(i.stroke=e)),this.dirty(!1)}}t.createSymbol=function(e,t,i,n,s,a,l){var c,h=0===e.indexOf("empty");return h&&(e=e.substr(5,1).toLowerCase()+e.substr(6)),(c=0===e.indexOf("image://")?o.makeImage(e.slice(8),new r(t,i,n,s),l?"center":"cover"):0===e.indexOf("path://")?o.makePath(e.slice(7),{},new r(t,i,n,s),l?"center":"cover"):new p({shape:{symbolType:e,x:t,y:i,width:n,height:s}})).__isEmptyBrush=h,c.setColor=g,c.setColor(a),c}},90357:function(e,t){var i="\0__throttleOriginMethod",n="\0__throttleRate",o="\0__throttleType";function r(e,t,i){var n,o,r,s,a,l=0,c=0,h=null;function u(){c=(new Date).getTime(),h=null,e.apply(r,s||[])}t=t||0;var d=function(){n=(new Date).getTime(),r=this,s=arguments;var e=a||t,d=a||i;a=null,o=n-(d?l:c)-e,clearTimeout(h),d?h=setTimeout(u,e):o>=0?u():h=setTimeout(u,-o),l=n};return d.clear=function(){h&&(clearTimeout(h),h=null)},d.debounceNextCall=function(e){a=e},d}t.throttle=r,t.createOrUpdate=function(e,t,s,a){var l=e[t];if(l){var c=l[i]||l;if(l[n]!==s||l[o]!==a){if(null==s||!a)return e[t]=c;(l=e[t]=r(c,s,"debounce"===a))[i]=c,l[o]=a,l[n]=s}return l}},t.clear=function(e,t){var n=e[t];n&&n[i]&&(e[t]=n[i])}},31005:function(e,t,i){var n=i(40628).each,o=i(1805),r=i(82015),s=i(31087),a=i(91266),l=i(62429),c=i(47159).createTask,h=i(15103),u=a.makeInner(),d=h();function p(){this.group=new o,this.uid=r.getUID("viewChart"),this.renderTask=c({plan:_,reset:v}),this.renderTask.context={view:this}}var g=p.prototype={type:"chart",init:function(e,t){},render:function(e,t,i,n){},highlight:function(e,t,i,n){m(e.getData(),n,"emphasis")},downplay:function(e,t,i,n){m(e.getData(),n,"normal")},remove:function(e,t){this.group.removeAll()},dispose:function(){},incrementalPrepareRender:null,incrementalRender:null,updateTransform:null,filterForExposedEvent:null};function f(e,t,i){if(e&&(e.trigger(t,i),e.isGroup&&!l.isHighDownDispatcher(e)))for(var n=0,o=e.childCount();n<o;n++)f(e.childAt(n),t,i)}function m(e,t,i){var o=a.queryDataIndex(e,t),r=t&&null!=t.highlightKey?l.getHighlightDigit(t.highlightKey):null;null!=o?n(a.normalizeToArray(o),function(t){f(e.getItemGraphicEl(t),i,r)}):e.eachItemGraphicEl(function(e){f(e,i,r)})}function _(e){return d(e.model)}function v(e){var t=e.model,i=e.ecModel,n=e.api,o=e.payload,r=t.pipelineContext.progressiveRender,s=e.view,a=o&&u(o).updateMethod,l=r?"incrementalPrepareRender":a&&s[a]?a:"render";return"render"!==l&&s[l](t,i,n,o),y[l]}g.updateView=g.updateLayout=g.updateVisual=function(e,t,i,n){this.render(e,t,i,n)},s.enableClassExtend(p,["dispose"]),s.enableClassManagement(p,{registerWhenExtend:!0}),p.markUpdateMethod=function(e,t){u(e).updateMethod=t};var y={incrementalPrepareRender:{progress:function(e,t){t.view.incrementalRender(e,t.model,t.ecModel,t.api,t.payload)}},render:{forceFirstProgress:!0,progress:function(e,t){t.view.render(t.model,t.ecModel,t.api,t.payload)}}};e.exports=p},69899:function(e,t,i){var n=i(1805),o=i(82015),r=i(31087),s=function(){this.group=new n,this.uid=o.getUID("viewComponent")},a=s.prototype={constructor:s,init:function(e,t){},render:function(e,t,i,n){},dispose:function(){},filterForExposedEvent:null};a.updateView=a.updateLayout=a.updateVisual=function(e,t,i,n){},r.enableClassExtend(s),r.enableClassManagement(s,{registerWhenExtend:!0}),e.exports=s},95695:function(e){e.exports=function(e,t){this.getAllNames=function(){var e=t();return e.mapArray(e.getName)},this.containName=function(e){return t().indexOfName(e)>=0},this.indexOfName=function(t){return e().indexOfName(t)},this.getItemVisual=function(t,i){return e().getItemVisual(t,i)}}},11630:function(e,t,i){var n=i(40628),o=i(10312),r=i(14785).linearMap,s=n.each,a=n.isObject,l=function(e){var t=e.mappingMethod,i=e.type,o=this.option=n.clone(e);this.type=i,this.mappingMethod=t,this._normalizeData=y[t];var r=c[i];this.applyVisual=r.applyVisual,this.getColorMapper=r.getColorMapper,this._doMap=r._doMap[t],"piecewise"===t?(h(o),function(e){var t=e.pieceList;e.hasSpecialVisual=!1,n.each(t,function(t,i){t.originIndex=i,null!=t.visual&&(e.hasSpecialVisual=!0)})}(o)):"category"===t?o.categories?function(e){var t=e.categories,i=e.visual,o=e.categoryMap={};if(s(t,function(e,t){o[e]=t}),!n.isArray(i)){var r=[];n.isObject(i)?s(i,function(e,t){var i=o[t];r[null!=i?i:-1]=e}):r[-1]=i,i=v(e,r)}for(var a=t.length-1;a>=0;a--)null==i[a]&&(delete o[t[a]],t.pop())}(o):h(o,!0):(n.assert("linear"!==t||o.dataExtent),h(o))};l.prototype={constructor:l,mapValueToVisual:function(e){var t=this._normalizeData(e);return this._doMap(t,e)},getNormalizer:function(){return n.bind(this._normalizeData,this)}};var c=l.visualHandlers={color:{applyVisual:p("color"),getColorMapper:function(){var e=this.option;return n.bind("category"===e.mappingMethod?function(e,t){return!t&&(e=this._normalizeData(e)),g.call(this,e)}:function(t,i,n){var r=!!n;return!i&&(t=this._normalizeData(t)),n=o.fastLerp(t,e.parsedVisual,n),r?n:o.stringify(n,"rgba")},this)},_doMap:{linear:function(e){return o.stringify(o.fastLerp(e,this.option.parsedVisual),"rgba")},category:g,piecewise:function(e,t){var i=_.call(this,t);return null==i&&(i=o.stringify(o.fastLerp(e,this.option.parsedVisual),"rgba")),i},fixed:f}},colorHue:u(function(e,t){return o.modifyHSL(e,t)}),colorSaturation:u(function(e,t){return o.modifyHSL(e,null,t)}),colorLightness:u(function(e,t){return o.modifyHSL(e,null,null,t)}),colorAlpha:u(function(e,t){return o.modifyAlpha(e,t)}),opacity:{applyVisual:p("opacity"),_doMap:m([0,1])},liftZ:{applyVisual:p("liftZ"),_doMap:{linear:f,category:f,piecewise:f,fixed:f}},symbol:{applyVisual:function(e,t,i){var o=this.mapValueToVisual(e);if(n.isString(o))i("symbol",o);else if(a(o))for(var r in o)o.hasOwnProperty(r)&&i(r,o[r])},_doMap:{linear:d,category:g,piecewise:function(e,t){var i=_.call(this,t);return null==i&&(i=d.call(this,e)),i},fixed:f}},symbolSize:{applyVisual:p("symbolSize"),_doMap:m([0,1])}};function h(e,t){var i=e.visual,o=[];n.isObject(i)?s(i,function(e){o.push(e)}):null!=i&&o.push(i),!t&&1===o.length&&!{color:1,symbol:1}.hasOwnProperty(e.type)&&(o[1]=o[0]),v(e,o)}function u(e){return{applyVisual:function(t,i,n){t=this.mapValueToVisual(t),n("color",e(i("color"),t))},_doMap:m([0,1])}}function d(e){var t=this.option.visual;return t[Math.round(r(e,[0,1],[0,t.length-1],!0))]||{}}function p(e){return function(t,i,n){n(e,this.mapValueToVisual(t))}}function g(e){var t=this.option.visual;return t[this.option.loop&&-1!==e?e%t.length:e]}function f(){return this.option.visual[0]}function m(e){return{linear:function(t){return r(t,e,this.option.visual,!0)},category:g,piecewise:function(t,i){var n=_.call(this,i);return null==n&&(n=r(t,e,this.option.visual,!0)),n},fixed:f}}function _(e){var t=this.option,i=t.pieceList;if(t.hasSpecialVisual){var n=i[l.findPieceIndex(e,i)];if(n&&n.visual)return n.visual[this.type]}}function v(e,t){return e.visual=t,"color"===e.type&&(e.parsedVisual=n.map(t,function(e){return o.parse(e)})),t}var y={linear:function(e){return r(e,this.option.dataExtent,[0,1],!0)},piecewise:function(e){var t=this.option.pieceList,i=l.findPieceIndex(e,t,!0);if(null!=i)return r(i,[0,t.length-1],[0,1],!0)},category:function(e){var t=this.option.categories?this.option.categoryMap[e]:e;return null==t?-1:t},fixed:n.noop};function b(e,t,i){return e?t<=i:t<i}l.listVisualTypes=function(){var e=[];return n.each(c,function(t,i){e.push(i)}),e},l.addVisualHandler=function(e,t){c[e]=t},l.isValidType=function(e){return c.hasOwnProperty(e)},l.eachVisual=function(e,t,i){n.isObject(e)?n.each(e,t,i):t.call(i,e)},l.mapVisual=function(e,t,i){var o,r=n.isArray(e)?[]:n.isObject(e)?{}:(o=!0,null);return l.eachVisual(e,function(e,n){var s=t.call(i,e,n);o?r=s:r[n]=s}),r},l.retrieveVisuals=function(e){var t,i={};return e&&s(c,function(n,o){e.hasOwnProperty(o)&&(i[o]=e[o],t=!0)}),t?i:null},l.prepareVisualTypes=function(e){if(a(e)){var t=[];s(e,function(e,i){t.push(i)}),e=t}else{if(!n.isArray(e))return[];e=e.slice()}return e.sort(function(e,t){return"color"===t&&"color"!==e&&0===e.indexOf("color")?1:-1}),e},l.dependsOn=function(e,t){return"color"===t?!(!e||0!==e.indexOf(t)):e===t},l.findPieceIndex=function(e,t,i){for(var n,o=1/0,r=0,s=t.length;r<s;r++){var a=t[r].value;if(null!=a){if(a===e||"string"==typeof a&&a===e+"")return r;i&&u(a,r)}}for(r=0,s=t.length;r<s;r++){var l=t[r],c=l.interval,h=l.close;if(c){if(c[0]===-1/0){if(b(h[1],e,c[1]))return r}else if(c[1]===1/0){if(b(h[0],c[0],e))return r}else if(b(h[0],c[0],e)&&b(h[1],e,c[1]))return r;i&&u(c[0],r),i&&u(c[1],r)}}if(i)return e===1/0?t.length-1:e===-1/0?0:n;function u(t,i){var r=Math.abs(t-e);r<o&&(o=r,n=i)}},e.exports=l},69330:function(e,t,i){var n=i(40628),o=i(54010),r=i(56153).retrieveRawValue;e.exports=function(e,t){var i=t.getModel("aria");if(i.get("show"))if(i.get("description"))e.setAttribute("aria-label",i.get("description"));else{var s=0;t.eachSeries(function(e,t){++s},this);var a,l=i.get("data.maxCount")||10,c=i.get("series.maxCount")||10,h=Math.min(s,c);if(!(s<1)){var u,d=((u=t.getModel("title").option)&&u.length&&(u=u[0]),u&&u.text);a=d?g(f("general.withTitle"),{title:d}):f("general.withoutTitle");var p=[];a+=g(f(s>1?"series.multiple.prefix":"series.single.prefix"),{seriesCount:s}),t.eachSeries(function(e,t){if(t<h){var i,n=e.get("name"),o="series."+(s>1?"multiple":"single")+".";i=g(i=f(n?o+"withName":o+"withoutName"),{seriesId:e.seriesIndex,seriesName:e.get("name"),seriesType:m(e.subType)});var a=e.getData();window.data=a,a.count()>l?i+=g(f("data.partialData"),{displayCnt:l}):i+=f("data.allData");for(var c=[],u=0;u<a.count();u++)if(u<l){var d=a.getName(u),_=r(a,u);c.push(g(f(d?"data.withName":"data.withoutName"),{name:d,value:_}))}i+=c.join(f("data.separator.middle"))+f("data.separator.end"),p.push(i)}}),a+=p.join(f("series.multiple.separator.middle"))+f("series.multiple.separator.end"),e.setAttribute("aria-label",a)}}function g(e,t){if("string"!=typeof e)return e;var i=e;return n.each(t,function(e,t){i=i.replace(new RegExp("\\{\\s*"+t+"\\s*\\}","g"),e)}),i}function f(e){var t=i.get(e);if(null==t){for(var n=e.split("."),r=o.aria,s=0;s<n.length;++s)r=r[n[s]];return r}return t}function m(e){return o.series.typeNames[e]||"\u81ea\u5b9a\u4e49\u56fe"}}},57338:function(e,t,i){var n=i(40628).createHashMap;e.exports=function(e){return{getTargetSeries:function(t){var i={},o=n();return t.eachSeriesByType(e,function(e){e.__paletteScope=i,o.set(e.uid,e)}),o},reset:function(e,t){var i=e.getRawData(),n={},o=e.getData();o.each(function(e){var t=o.getRawIndex(e);n[t]=e}),i.each(function(t){var r,s=n[t],a=null!=s&&o.getItemVisual(s,"color",!0),l=null!=s&&o.getItemVisual(s,"borderColor",!0);if((!a||!l)&&(r=i.getItemModel(t)),!a){var c=r.get("itemStyle.color")||e.getColorFromPalette(i.getName(t)||t+"",e.__paletteScope,i.count());null!=s&&o.setItemVisual(s,"color",c)}if(!l){var h=r.get("itemStyle.borderColor");null!=s&&o.setItemVisual(s,"borderColor",h)}})}}}},18849:function(e,t,i){var n=i(89660),o=i(40628).isFunction;e.exports={createOnAllSeries:!0,performRawSeries:!0,reset:function(e,t){var i=e.getData(),r=(e.visualColorAccessPath||"itemStyle.color").split("."),s=e.get(r),a=!o(s)||s instanceof n?null:s;(!s||a)&&(s=e.getColorFromPalette(e.name,null,t.getSeriesCount())),i.setVisual("color",s);var l=(e.visualBorderColorAccessPath||"itemStyle.borderColor").split("."),c=e.get(l);if(i.setVisual("borderColor",c),!t.isSeriesFiltered(e))return a&&i.each(function(t){i.setItemVisual(t,"color",a(e.getDataParams(t)))}),{dataEach:i.hasItemOption?function(e,t){var i=e.getItemModel(t),n=i.get(r,!0),o=i.get(l,!0);null!=n&&e.setItemVisual(t,"color",n),null!=o&&e.setItemVisual(t,"borderColor",o)}:null}}}},6660:function(e,t,i){var n=i(40628).isFunction;e.exports=function(e,t,i){return{seriesType:e,performRawSeries:!0,reset:function(e,o,r){var s=e.getData(),a=e.get("symbol"),l=e.get("symbolSize"),c=e.get("symbolKeepAspect"),h=e.get("symbolRotate"),u=n(a),d=n(l),p=n(h),g=u||d||p,f=!u&&a?a:t;if(s.setVisual({legendSymbol:i||f,symbol:f,symbolSize:d?null:l,symbolKeepAspect:c,symbolRotate:h}),!o.isSeriesFiltered(e))return{dataEach:s.hasItemOption||g?function(t,i){if(g){var n=e.getRawValue(i),o=e.getDataParams(i);u&&t.setItemVisual(i,"symbol",a(n,o)),d&&t.setItemVisual(i,"symbolSize",l(n,o)),p&&t.setItemVisual(i,"symbolRotate",h(n,o))}if(t.hasItemOption){var r=t.getItemModel(i),s=r.getShallow("symbol",!0),c=r.getShallow("symbolSize",!0),f=r.getShallow("symbolRotate",!0),m=r.getShallow("symbolKeepAspect",!0);null!=s&&t.setItemVisual(i,"symbol",s),null!=c&&t.setItemVisual(i,"symbolSize",c),null!=f&&t.setItemVisual(i,"symbolRotate",f),null!=m&&t.setItemVisual(i,"symbolKeepAspect",m)}}:null}}}}},73584:function(e,t,i){var n=i(40628),o={get:function(e,t,i){var o=n.clone((r[e]||{})[t]);return i&&n.isArray(o)?o[o.length-1]:o}},r={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}};e.exports=o},8048:function(e,t,i){var n=i(40628),o=i(11630),r=n.each;function s(e){if(e)for(var t in e)if(e.hasOwnProperty(t))return!0}t.createVisualMappings=function(e,t,i){var s={};return r(t,function(t){var a=s[t]=function(){var e=function(){};return e.prototype.__hidden=e.prototype,new e}();r(e[t],function(e,r){if(o.isValidType(r)){var s={type:r,visual:e};i&&i(s,t),a[r]=new o(s),"opacity"===r&&((s=n.clone(s)).type="colorAlpha",a.__hidden.__alphaForOpacity=new o(s))}})}),s},t.replaceVisualOption=function(e,t,i){var o;n.each(i,function(e){t.hasOwnProperty(e)&&s(t[e])&&(o=!0)}),o&&n.each(i,function(i){t.hasOwnProperty(i)&&s(t[i])?e[i]=n.clone(t[i]):delete e[i]})},t.applyVisual=function(e,t,i,r,s,a){var l,c={};function h(e){return i.getItemVisual(l,e)}function u(e,t){i.setItemVisual(l,e,t)}function d(e,n){var o=i.getRawDataItem(l=null==a?e:n);if(!o||!1!==o.visualMap)for(var d=r.call(s,e),p=t[d],g=c[d],f=0,m=g.length;f<m;f++){var _=g[f];p[_]&&p[_].applyVisual(e,h,u)}}n.each(e,function(e){var i=o.prepareVisualTypes(t[e]);c[e]=i}),null==a?i.each(d):i.each([a],d)},t.incrementalApplyVisual=function(e,t,i,r){var s={};return n.each(e,function(e){var i=o.prepareVisualTypes(t[e]);s[e]=i}),{progress:function(e,n){function o(e){return n.getItemVisual(l,e)}function a(e,t){n.setItemVisual(l,e,t)}null!=r&&(r=n.getDimension(r));for(var l;null!=(l=e.next());){var c=n.getRawDataItem(l);if(!c||!1!==c.visualMap)for(var h=null!=r?n.get(r,l,!0):l,u=i(h),d=t[u],p=s[u],g=0,f=p.length;g<f;g++){var m=p[g];d[m]&&d[m].applyVisual(h,o,a)}}}}}},11522:function(e){"use strict";e.exports=function(e){for(var t=[],i=e.length,n=0;n<i;n++){var o=e.charCodeAt(n);if(o>=55296&&o<=56319&&i>n+1){var r=e.charCodeAt(n+1);r>=56320&&r<=57343&&(o=1024*(o-55296)+r-56320+65536,n+=1)}o<128?t.push(o):o<2048?(t.push(o>>6|192),t.push(63&o|128)):o<55296||o>=57344&&o<65536?(t.push(o>>12|224),t.push(o>>6&63|128),t.push(63&o|128)):o>=65536&&o<=1114111?(t.push(o>>18|240),t.push(o>>12&63|128),t.push(o>>6&63|128),t.push(63&o|128)):t.push(239,191,189)}return new Uint8Array(t).buffer}},76246:function(e,t,i){"use strict";i.d(t,{Eo:function(){return Ee},qZ:function(){return Me}});var n,o=i(37716),r=i(92217),s=i(13891),a=i(67709),l=[],c="ResizeObserver loop completed with undelivered notifications.",h=(()=>{return(e=h||(h={})).BORDER_BOX="border-box",e.CONTENT_BOX="content-box",e.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box",h;var e})(),u=function(e){return Object.freeze(e)},d=function(e,t){this.inlineSize=e,this.blockSize=t,u(this)},p=function(){function e(e,t,i,n){return this.x=e,this.y=t,this.width=i,this.height=n,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,u(this)}return e.prototype.toJSON=function(){var e=this;return{x:e.x,y:e.y,top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height}},e.fromRect=function(t){return new e(t.x,t.y,t.width,t.height)},e}(),g=function(e){return e instanceof SVGElement&&"getBBox"in e},f=function(e){if(g(e)){var t=e.getBBox();return!t.width&&!t.height}return!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},m=function(e){var t;if(e instanceof Element)return!0;var i=null===(t=null==e?void 0:e.ownerDocument)||void 0===t?void 0:t.defaultView;return!!(i&&e instanceof i.Element)},_="undefined"!=typeof window?window:{},v=new WeakMap,y=/auto|scroll/,b=/^tb|vertical/,w=/msie|trident/i.test(_.navigator&&_.navigator.userAgent),A=function(e){return parseFloat(e||"0")},x=function(e,t,i){return void 0===e&&(e=0),void 0===t&&(t=0),void 0===i&&(i=!1),new d((i?t:e)||0,(i?e:t)||0)},T=u({devicePixelContentBoxSize:x(),borderBoxSize:x(),contentBoxSize:x(),contentRect:new p(0,0,0,0)}),C=function(e,t){if(void 0===t&&(t=!1),v.has(e)&&!t)return v.get(e);if(f(e))return v.set(e,T),T;var i=getComputedStyle(e),n=g(e)&&e.ownerSVGElement&&e.getBBox(),o=!w&&"border-box"===i.boxSizing,r=b.test(i.writingMode||""),s=!n&&y.test(i.overflowY||""),a=!n&&y.test(i.overflowX||""),l=n?0:A(i.paddingTop),c=n?0:A(i.paddingRight),h=n?0:A(i.paddingBottom),d=n?0:A(i.paddingLeft),m=n?0:A(i.borderTopWidth),_=n?0:A(i.borderRightWidth),C=n?0:A(i.borderBottomWidth),Z=d+c,k=l+h,S=(n?0:A(i.borderLeftWidth))+_,E=m+C,M=a?e.offsetHeight-E-e.clientHeight:0,O=s?e.offsetWidth-S-e.clientWidth:0,I=o?Z+S:0,P=o?k+E:0,R=n?n.width:A(i.width)-I-O,q=n?n.height:A(i.height)-P-M,L=R+Z+O+S,U=q+k+M+E,B=u({devicePixelContentBoxSize:x(Math.round(R*devicePixelRatio),Math.round(q*devicePixelRatio),r),borderBoxSize:x(L,U,r),contentBoxSize:x(R,q,r),contentRect:new p(d,l,R,q)});return v.set(e,B),B},Z=function(e,t,i){var n=C(e,i),o=n.borderBoxSize,r=n.contentBoxSize,s=n.devicePixelContentBoxSize;switch(t){case h.DEVICE_PIXEL_CONTENT_BOX:return s;case h.BORDER_BOX:return o;default:return r}},k=function(e){var t=C(e);this.target=e,this.contentRect=t.contentRect,this.borderBoxSize=u([t.borderBoxSize]),this.contentBoxSize=u([t.contentBoxSize]),this.devicePixelContentBoxSize=u([t.devicePixelContentBoxSize])},S=function(e){if(f(e))return 1/0;for(var t=0,i=e.parentNode;i;)t+=1,i=i.parentNode;return t},E=function(){var e=1/0,t=[];l.forEach(function(i){if(0!==i.activeTargets.length){var n=[];i.activeTargets.forEach(function(t){var i=new k(t.target),o=S(t.target);n.push(i),t.lastReportedSize=Z(t.target,t.observedBox),o<e&&(e=o)}),t.push(function(){i.callback.call(i.observer,n,i.observer)}),i.activeTargets.splice(0,i.activeTargets.length)}});for(var i=0,n=t;i<n.length;i++)(0,n[i])();return e},M=function(e){l.forEach(function(t){t.activeTargets.splice(0,t.activeTargets.length),t.skippedTargets.splice(0,t.skippedTargets.length),t.observationTargets.forEach(function(i){i.isActive()&&(S(i.target)>e?t.activeTargets.push(i):t.skippedTargets.push(i))})})},O=[],I=0,P={attributes:!0,characterData:!0,childList:!0,subtree:!0},R=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],q=function(e){return void 0===e&&(e=0),Date.now()+e},L=!1,U=new(function(){function e(){var e=this;this.stopped=!0,this.listener=function(){return e.schedule()}}return e.prototype.run=function(e){var t=this;if(void 0===e&&(e=250),!L){L=!0;var i=q(e);!function(e){!function(e){if(!n){var t=0,i=document.createTextNode("");new MutationObserver(function(){return O.splice(0).forEach(function(e){return e()})}).observe(i,{characterData:!0}),n=function(){i.textContent="".concat(t?t--:t++)}}O.push(e),n()}(function(){requestAnimationFrame(e)})}(function(){var n=!1;try{n=function(){var e=0;for(M(e);l.some(function(e){return e.activeTargets.length>0});)e=E(),M(e);return l.some(function(e){return e.skippedTargets.length>0})&&function(){var e;"function"==typeof ErrorEvent?e=new ErrorEvent("error",{message:c}):((e=document.createEvent("Event")).initEvent("error",!1,!1),e.message=c),window.dispatchEvent(e)}(),e>0}()}finally{if(L=!1,e=i-q(),!I)return;n?t.run(1e3):e>0?t.run(e):t.start()}})}},e.prototype.schedule=function(){this.stop(),this.run()},e.prototype.observe=function(){var e=this,t=function(){return e.observer&&e.observer.observe(document.body,P)};document.body?t():_.addEventListener("DOMContentLoaded",t)},e.prototype.start=function(){var e=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),R.forEach(function(t){return _.addEventListener(t,e.listener,!0)}))},e.prototype.stop=function(){var e=this;this.stopped||(this.observer&&this.observer.disconnect(),R.forEach(function(t){return _.removeEventListener(t,e.listener,!0)}),this.stopped=!0)},e}()),B=function(e){!I&&e>0&&U.start(),!(I+=e)&&U.stop()},D=function(){function e(e,t){this.target=e,this.observedBox=t||h.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return e.prototype.isActive=function(){var e=Z(this.target,this.observedBox,!0);return function(e){return!g(e)&&!function(e){switch(e.tagName){case"INPUT":if("image"!==e.type)break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1}(e)&&"inline"===getComputedStyle(e).display}(this.target)&&(this.lastReportedSize=e),this.lastReportedSize.inlineSize!==e.inlineSize||this.lastReportedSize.blockSize!==e.blockSize},e}(),N=function(e,t){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=e,this.callback=t},F=new WeakMap,H=function(e,t){for(var i=0;i<e.length;i+=1)if(e[i].target===t)return i;return-1},$=function(){function e(){}return e.connect=function(e,t){var i=new N(e,t);F.set(e,i)},e.observe=function(e,t,i){var n=F.get(e),o=0===n.observationTargets.length;H(n.observationTargets,t)<0&&(o&&l.push(n),n.observationTargets.push(new D(t,i&&i.box)),B(1),U.schedule())},e.unobserve=function(e,t){var i=F.get(e),n=H(i.observationTargets,t);n>=0&&(1===i.observationTargets.length&&l.splice(l.indexOf(i),1),i.observationTargets.splice(n,1),B(-1))},e.disconnect=function(e){var t=this,i=F.get(e);i.observationTargets.slice().forEach(function(i){return t.unobserve(e,i.target)}),i.activeTargets.splice(0,i.activeTargets.length)},e}(),z=function(){function e(e){if(0===arguments.length)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if("function"!=typeof e)throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");$.connect(this,e)}return e.prototype.observe=function(e,t){if(0===arguments.length)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!m(e))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");$.observe(this,e,t)},e.prototype.unobserve=function(e){if(0===arguments.length)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!m(e))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");$.unobserve(this,e)},e.prototype.disconnect=function(){$.disconnect(this)},e.toString=function(){return"function ResizeObserver () { [polyfill code] }"},e}(),V=i(38583),K=i(66682),W=i(18891),G=i(22759),Y=i(93342),j=i(78345),X=i(19773),J=i(15257),Q=i(88002),ee=i(77393);class te{call(e,t){return t.subscribe(new ie(e))}}class ie extends ee.L{constructor(e){super(e),this.hasPrev=!1}_next(e){let t;this.hasPrev?t=[this.prev,e]:this.hasPrev=!0,this.prev=e,t&&this.destination.next(t)}}var ne=i(45435),oe=i(46782);const re="undefined"!=typeof window&&("ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0);function se(e,t,i,n){const o=t.querySelectorAll(e);if(o.length){const t=i.querySelectorAll(e);for(let e=0;e<o.length;e++)n(o[e],t[e])}}let ae=0;function le(e,t){"file"!==t.type&&(t.value=e.value),"radio"===t.type&&t.name&&(t.name=`mat-clone-${t.name}-${ae++}`)}function ce(e,t){const i=t.getContext("2d");if(i)try{i.drawImage(e,0,0)}catch(n){}}function he(e,t,i,n){const o={top:e.top,bottom:e.bottom,left:e.left,right:e.right};return t.top&&(o.top+=n),t.bottom&&(o.bottom+=n),t.left&&(o.left+=i),t.right&&(o.right+=i),o.height=o.bottom-o.top,o.width=o.right-o.left,o}const ue=Object.freeze({topLeft:"nw-resize",topRight:"ne-resize",bottomLeft:"sw-resize",bottomRight:"se-resize",leftOrRight:"col-resize",topOrBottom:"row-resize"});function de(e,t){return e.left&&e.top?t.topLeft:e.right&&e.top?t.topRight:e.left&&e.bottom?t.bottomLeft:e.right&&e.bottom?t.bottomRight:e.left||e.right?t.leftOrRight:e.top||e.bottom?t.topOrBottom:""}function pe({edges:e,initialRectangle:t,newRectangle:i}){const n={};return Object.keys(e).forEach(e=>{n[e]=(i[e]||0)-(t[e]||0)}),n}const ge="resize-active";let fe=(()=>{class e{constructor(e,t,i,n){this.platformId=e,this.renderer=t,this.elm=i,this.zone=n,this.enableGhostResize=!1,this.resizeSnapGrid={},this.resizeCursors=ue,this.ghostElementPositioning="fixed",this.allowNegativeResizes=!1,this.mouseMoveThrottleMS=50,this.resizeStart=new o.vpe,this.resizing=new o.vpe,this.resizeEnd=new o.vpe,this.mouseup=new a.xQ,this.mousedown=new a.xQ,this.mousemove=new a.xQ,this.destroy$=new a.xQ,this.pointerEventListeners=me.getInstance(t,n)}ngOnInit(){const e=(0,K.T)(this.pointerEventListeners.pointerDown,this.mousedown),t=(0,K.T)(this.pointerEventListeners.pointerMove,this.mousemove).pipe((0,Y.b)(({event:e})=>{if(n)try{e.preventDefault()}catch(t){}}),(0,j.B)()),i=(0,K.T)(this.pointerEventListeners.pointerUp,this.mouseup);let n;const o=()=>{n&&n.clonedNode&&(this.elm.nativeElement.parentElement.removeChild(n.clonedNode),this.renderer.setStyle(this.elm.nativeElement,"visibility","inherit"))},r=()=>Object.assign(Object.assign({},ue),this.resizeCursors);e.pipe((0,X.zg)(o=>{function r(e){return{clientX:e.clientX-o.clientX,clientY:e.clientY-o.clientY}}const s=()=>{const e={x:1,y:1};return n&&(this.resizeSnapGrid.left&&n.edges.left?e.x=+this.resizeSnapGrid.left:this.resizeSnapGrid.right&&n.edges.right&&(e.x=+this.resizeSnapGrid.right),this.resizeSnapGrid.top&&n.edges.top?e.y=+this.resizeSnapGrid.top:this.resizeSnapGrid.bottom&&n.edges.bottom&&(e.y=+this.resizeSnapGrid.bottom)),e};function a(e,t){return{x:Math.ceil(e.clientX/t.x),y:Math.ceil(e.clientY/t.y)}}return(0,K.T)(t.pipe((0,J.q)(1)).pipe((0,Q.U)(e=>[,e])),t.pipe(e=>e.lift(new te))).pipe((0,Q.U)(([e,t])=>[e&&r(e),r(t)])).pipe((0,ne.h)(([e,t])=>{if(!e)return!0;const i=s(),n=a(e,i),o=a(t,i);return n.x!==o.x||n.y!==o.y})).pipe((0,Q.U)(([,e])=>{const t=s();return{clientX:Math.round(e.clientX/t.x)*t.x,clientY:Math.round(e.clientY/t.y)*t.y}})).pipe((0,oe.R)((0,K.T)(i,e)))})).pipe((0,ne.h)(()=>!!n)).pipe((0,Q.U)(({clientX:e,clientY:t})=>he(n.startingRect,n.edges,e,t))).pipe((0,ne.h)(e=>this.allowNegativeResizes||!!(e.height&&e.width&&e.height>0&&e.width>0))).pipe((0,ne.h)(e=>!this.validateResize||this.validateResize({rectangle:e,edges:pe({edges:n.edges,initialRectangle:n.startingRect,newRectangle:e})})),(0,oe.R)(this.destroy$)).subscribe(e=>{n&&n.clonedNode&&(this.renderer.setStyle(n.clonedNode,"height",`${e.height}px`),this.renderer.setStyle(n.clonedNode,"width",`${e.width}px`),this.renderer.setStyle(n.clonedNode,"top",`${e.top}px`),this.renderer.setStyle(n.clonedNode,"left",`${e.left}px`)),this.resizing.observers.length>0&&this.zone.run(()=>{this.resizing.emit({edges:pe({edges:n.edges,initialRectangle:n.startingRect,newRectangle:e}),rectangle:e})}),n.currentRect=e}),e.pipe((0,Q.U)(({edges:e})=>e||{}),(0,ne.h)(e=>Object.keys(e).length>0),(0,oe.R)(this.destroy$)).subscribe(e=>{n&&o();const t=function(e,t){let i=0,n=0;const o=e.nativeElement.style,r=["transform","-ms-transform","-moz-transform","-o-transform"].map(e=>o[e]).find(e=>!!e);if(r&&r.includes("translate")&&(i=r.replace(/.*translate3?d?\((-?[0-9]*)px, (-?[0-9]*)px.*/,"$1"),n=r.replace(/.*translate3?d?\((-?[0-9]*)px, (-?[0-9]*)px.*/,"$2")),"absolute"===t)return{height:e.nativeElement.offsetHeight,width:e.nativeElement.offsetWidth,top:e.nativeElement.offsetTop-n,bottom:e.nativeElement.offsetHeight+e.nativeElement.offsetTop-n,left:e.nativeElement.offsetLeft-i,right:e.nativeElement.offsetWidth+e.nativeElement.offsetLeft-i};{const t=e.nativeElement.getBoundingClientRect();return{height:t.height,width:t.width,top:t.top-n,bottom:t.bottom-n,left:t.left-i,right:t.right-i,scrollTop:e.nativeElement.scrollTop,scrollLeft:e.nativeElement.scrollLeft}}}(this.elm,this.ghostElementPositioning);n={edges:e,startingRect:t,currentRect:t};const i=r(),s=de(n.edges,i);this.renderer.setStyle(document.body,"cursor",s),this.setElementClass(this.elm,ge,!0),this.enableGhostResize&&(n.clonedNode=function(e){const t=e.cloneNode(!0),i=t.querySelectorAll("[id]"),n=e.nodeName.toLowerCase();return t.removeAttribute("id"),i.forEach(e=>{e.removeAttribute("id")}),"canvas"===n?ce(e,t):("input"===n||"select"===n||"textarea"===n)&&le(e,t),se("canvas",e,t,ce),se("input, textarea, select",e,t,le),t}(this.elm.nativeElement),this.elm.nativeElement.parentElement.appendChild(n.clonedNode),this.renderer.setStyle(this.elm.nativeElement,"visibility","hidden"),this.renderer.setStyle(n.clonedNode,"position",this.ghostElementPositioning),this.renderer.setStyle(n.clonedNode,"left",`${n.startingRect.left}px`),this.renderer.setStyle(n.clonedNode,"top",`${n.startingRect.top}px`),this.renderer.setStyle(n.clonedNode,"height",`${n.startingRect.height}px`),this.renderer.setStyle(n.clonedNode,"width",`${n.startingRect.width}px`),this.renderer.setStyle(n.clonedNode,"cursor",de(n.edges,i)),this.renderer.addClass(n.clonedNode,"resize-ghost-element"),n.clonedNode.scrollTop=n.startingRect.scrollTop,n.clonedNode.scrollLeft=n.startingRect.scrollLeft),this.resizeStart.observers.length>0&&this.zone.run(()=>{this.resizeStart.emit({edges:pe({edges:e,initialRectangle:t,newRectangle:t}),rectangle:he(t,{},0,0)})})}),i.pipe((0,oe.R)(this.destroy$)).subscribe(()=>{n&&(this.renderer.removeClass(this.elm.nativeElement,ge),this.renderer.setStyle(document.body,"cursor",""),this.renderer.setStyle(this.elm.nativeElement,"cursor",""),this.resizeEnd.observers.length>0&&this.zone.run(()=>{this.resizeEnd.emit({edges:pe({edges:n.edges,initialRectangle:n.startingRect,newRectangle:n.currentRect}),rectangle:n.currentRect})}),o(),n=null)})}ngOnDestroy(){(0,V.NF)(this.platformId)&&this.renderer.setStyle(document.body,"cursor",""),this.mousedown.complete(),this.mouseup.complete(),this.mousemove.complete(),this.destroy$.next()}setElementClass(e,t,i){i?this.renderer.addClass(e.nativeElement,t):this.renderer.removeClass(e.nativeElement,t)}}return e.\u0275fac=function(t){return new(t||e)(o.Y36(o.Lbi),o.Y36(o.Qsj),o.Y36(o.SBq),o.Y36(o.R0b))},e.\u0275dir=o.lG2({type:e,selectors:[["","mwlResizable",""]],inputs:{validateResize:"validateResize",enableGhostResize:"enableGhostResize",resizeSnapGrid:"resizeSnapGrid",resizeCursors:"resizeCursors",ghostElementPositioning:"ghostElementPositioning",allowNegativeResizes:"allowNegativeResizes",mouseMoveThrottleMS:"mouseMoveThrottleMS"},outputs:{resizeStart:"resizeStart",resizing:"resizing",resizeEnd:"resizeEnd"},exportAs:["mwlResizable"]}),e})();class me{constructor(e,t){this.pointerDown=new W.y(i=>{let n,o;return t.runOutsideAngular(()=>{n=e.listen("document","mousedown",e=>{i.next({clientX:e.clientX,clientY:e.clientY,event:e})}),re&&(o=e.listen("document","touchstart",e=>{i.next({clientX:e.touches[0].clientX,clientY:e.touches[0].clientY,event:e})}))}),()=>{n(),re&&o()}}).pipe((0,j.B)()),this.pointerMove=new W.y(i=>{let n,o;return t.runOutsideAngular(()=>{n=e.listen("document","mousemove",e=>{i.next({clientX:e.clientX,clientY:e.clientY,event:e})}),re&&(o=e.listen("document","touchmove",e=>{i.next({clientX:e.targetTouches[0].clientX,clientY:e.targetTouches[0].clientY,event:e})}))}),()=>{n(),re&&o()}}).pipe((0,j.B)()),this.pointerUp=new W.y(i=>{let n,o,r;return t.runOutsideAngular(()=>{n=e.listen("document","mouseup",e=>{i.next({clientX:e.clientX,clientY:e.clientY,event:e})}),re&&(o=e.listen("document","touchend",e=>{i.next({clientX:e.changedTouches[0].clientX,clientY:e.changedTouches[0].clientY,event:e})}),r=e.listen("document","touchcancel",e=>{i.next({clientX:e.changedTouches[0].clientX,clientY:e.changedTouches[0].clientY,event:e})}))}),()=>{n(),re&&(o(),r())}}).pipe((0,j.B)())}static getInstance(e,t){return me.instance||(me.instance=new me(e,t)),me.instance}}let _e=(()=>{class e{constructor(e,t,i,n){this.renderer=e,this.element=t,this.zone=i,this.resizableDirective=n,this.resizeEdges={},this.eventListeners={},this.destroy$=new a.xQ}ngOnInit(){this.zone.runOutsideAngular(()=>{this.listenOnTheHost("mousedown").subscribe(e=>{this.onMousedown(e,e.clientX,e.clientY)}),this.listenOnTheHost("mouseup").subscribe(e=>{this.onMouseup(e.clientX,e.clientY)}),re&&(this.listenOnTheHost("touchstart").subscribe(e=>{this.onMousedown(e,e.touches[0].clientX,e.touches[0].clientY)}),(0,K.T)(this.listenOnTheHost("touchend"),this.listenOnTheHost("touchcancel")).subscribe(e=>{this.onMouseup(e.changedTouches[0].clientX,e.changedTouches[0].clientY)}))})}ngOnDestroy(){this.destroy$.next(),this.unsubscribeEventListeners()}onMousedown(e,t,i){e.preventDefault(),this.eventListeners.touchmove||(this.eventListeners.touchmove=this.renderer.listen(this.element.nativeElement,"touchmove",e=>{this.onMousemove(e,e.targetTouches[0].clientX,e.targetTouches[0].clientY)})),this.eventListeners.mousemove||(this.eventListeners.mousemove=this.renderer.listen(this.element.nativeElement,"mousemove",e=>{this.onMousemove(e,e.clientX,e.clientY)})),this.resizable.mousedown.next({clientX:t,clientY:i,edges:this.resizeEdges})}onMouseup(e,t){this.unsubscribeEventListeners(),this.resizable.mouseup.next({clientX:e,clientY:t,edges:this.resizeEdges})}get resizable(){return this.resizableDirective||this.resizableContainer}onMousemove(e,t,i){this.resizable.mousemove.next({clientX:t,clientY:i,edges:this.resizeEdges,event:e})}unsubscribeEventListeners(){Object.keys(this.eventListeners).forEach(e=>{this.eventListeners[e](),delete this.eventListeners[e]})}listenOnTheHost(e){return(0,G.R)(this.element.nativeElement,e).pipe((0,oe.R)(this.destroy$))}}return e.\u0275fac=function(t){return new(t||e)(o.Y36(o.Qsj),o.Y36(o.SBq),o.Y36(o.R0b),o.Y36(fe,8))},e.\u0275dir=o.lG2({type:e,selectors:[["","mwlResizeHandle",""]],inputs:{resizeEdges:"resizeEdges",resizableContainer:"resizableContainer"}}),e})(),ve=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({}),e})();const ye=["terminal"],be=["resizeBox"],we=function(e){return{"handle-active":e}},Ae=function(){return{top:!1}},xe=function(){return{left:!1}},Te=function(){return{right:!0}},Ce=function(){return{right:!1}},Ze=function(){return{bottom:!0}},ke=function(){return{bottom:!1}};let Se=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o.Xpm({type:e,selectors:[["global-style"]],decls:0,vars:0,template:function(e,t){},styles:[".xterm{cursor:text;position:relative;user-select:none;-ms-user-select:none;-webkit-user-select:none}.xterm.focus,.xterm:focus{outline:none}.xterm .xterm-helpers{position:absolute;top:0;z-index:5}.xterm .xterm-helper-textarea{padding:0;border:0;margin:0;position:absolute;opacity:0;left:-9999em;top:0;width:0;height:0;z-index:-5;white-space:nowrap;overflow:hidden;resize:none}.xterm .composition-view{background:#000;color:#fff;display:none;position:absolute;white-space:nowrap;z-index:1}.xterm .composition-view.active{display:block}.xterm .xterm-viewport{background-color:#000;overflow-y:scroll;cursor:default;position:absolute;right:0;left:0;top:0;bottom:0}.xterm .xterm-screen{position:relative}.xterm .xterm-screen canvas{position:absolute;left:0;top:0}.xterm .xterm-scroll-area{visibility:hidden}.xterm-char-measure-element{display:inline-block;visibility:hidden;position:absolute;top:0;left:-9999em;line-height:normal}.xterm.enable-mouse-events{cursor:default}.xterm.xterm-cursor-pointer,.xterm .xterm-cursor-pointer{cursor:pointer}.xterm.column-select.focus{cursor:crosshair}.xterm .xterm-accessibility,.xterm .xterm-message{position:absolute;left:0;top:0;bottom:0;z-index:10;color:transparent}.xterm .live-region{position:absolute;left:-9999px;width:1px;height:1px;overflow:hidden}.xterm-dim{opacity:.5}.xterm-underline-1{text-decoration:underline}.xterm-underline-2{-webkit-text-decoration:double underline;text-decoration:double underline}.xterm-underline-3{-webkit-text-decoration:wavy underline;text-decoration:wavy underline}.xterm-underline-4{-webkit-text-decoration:dotted underline;text-decoration:dotted underline}.xterm-underline-5{-webkit-text-decoration:dashed underline;text-decoration:dashed underline}.xterm-strikethrough{text-decoration:line-through}.xterm-screen .xterm-decoration-container .xterm-decoration{z-index:6;position:absolute}.xterm-decoration-overview-ruler{z-index:7;position:absolute;top:0;right:0;pointer-events:none}.xterm-decoration-top{z-index:2;position:relative}\n"],encapsulation:2}),e})(),Ee=(()=>{class e{constructor(e,t,i){this.renderer=e,this.ref=t,this.hostRef=i,this.keyInputSubject=new a.xQ,this.keyEventSubject=new a.xQ,this.requestRenderFromAPI=new a.xQ,this.allLogsSubject=new a.xQ,this.resizableObservers=[],this.h=Math.max(document.documentElement.clientHeight,window.innerHeight||0),this.paddingSize=5,this.stylesForDiv={display:"block"},this.keyInputEmitter=new o.vpe,this.keyEventEmitter=new o.vpe,this._draggableInput=!1,this._stylesInput={},this.releaseNextOne=()=>{if(!this.interval){let e=this.waitingQueue.splice(0,1);1==e.length&&this.allLogsSubject.next(e[0])}},this.waitingQueue=[],this.requestRenderSubscription=this.requestRenderFromAPI.subscribe(e=>{let t=Object.assign({rowChanged:!1,columnChanged:!1},e);this.pushToWaitingQueue(t),this.getNextOrWait()})}set _dataSource(e){null!=this.dataSourceSubscription&&this.dataSourceSubscription.unsubscribe(),this.dataSource=e,this.dataSourceSubscription=this.dataSource.subscribe(e=>{this.write(e)})}get _dataSource(){return this.dataSource}set draggable(e){this._draggableInput=e}get draggable(){return this._draggableInput}setMinWidth(e){this._minWidthInput=e}setMinHeight(e){this._minHeightInput=e}setDraggable(e){this._draggableInput=e,this.lastDraggedPosition=void 0,this.ref.markForCheck()}setXtermOptions(e){this._xtermOptions=e,this.requestRenderFromAPI.next({})}setRows(e){this._rowsInput!=e&&(this._rowsInput=e,this.requestRenderFromAPI.next({rowChanged:!0}))}setCols(e){this._colsInput!=e&&(this._colsInput=e,this.requestRenderFromAPI.next({columnChanged:!0}))}setStyle(e){var t;JSON.stringify(null!==(t=this._stylesInput)&&void 0!==t?t:{})!=JSON.stringify(null!=e?e:{})&&(this._stylesInput=e,this.requestRenderFromAPI.next({}))}getNextOrWait(){this.hostRef.nativeElement.isConnected?this.releaseNextOne():this.stopAndPolling()}pushToWaitingQueue(e){this.waitingQueue.push(e),this.releaseNextOne()}stopAndPolling(){(()=>{if(this.interval)return;const e=setInterval(()=>{this.hostRef.nativeElement.isConnected&&(clearInterval(e),this.interval=void 0,this.releaseNextOne())},500);this.interval=e})()}observableSetup(){this.term.onData(e=>{this.keyInputSubject.next(e)}),this.term.onKey(e=>{this.keyEventSubject.next(e)}),this.keyInputSubjectSubscription=this.keyInputSubject.subscribe(e=>{this.keyInputEmitter.emit(e)}),this.keyEventSubjectSubscription=this.keyEventSubject.subscribe(e=>{this.keyEventEmitter.emit(e)}),this.resizableObservers=[this.observeTerminalDimension(),this.observeHostDimension()],this.allLogsSubjectSubscription=this.allLogsSubject.subscribe(e=>{this.coordinateOuterAndTerminal(e),this.getNextOrWait()}),this.getNextOrWait()}setOuterDimensions(e,t,i,n){this.requestRenderFromAPI.next({rowChanged:!1,columnChanged:!1,dragged:{draggedWidth:`${i}px`,draggedHeight:`${n}px`}})}applyStyleToDiv(){Object.keys(this.stylesForDiv).map(e=>({key:e,value:this.stylesForDiv[e]})).forEach(({key:e,value:t})=>{t?this.renderer.setStyle(this.resizeBox.nativeElement,e,t):this.renderer.removeStyle(this.resizeBox.nativeElement,e)}),this.stylesForDiv=this.stylesForDiv}ngOnInit(){}ngAfterViewInit(){this.fitAddon=new s.FitAddon,this.term=new r.Terminal({allowProposedApi:!0}),this.terminalOuter.nativeElement.isConnected?(this.term.open(this.terminalOuter.nativeElement),this.term.loadAddon(this.fitAddon),this.observableSetup(),this.requestRenderFromAPI.next({})):this.lazyContainerCheckHandle=setInterval(()=>{if(this.terminalOuter.nativeElement.isConnected)try{console.debug("The container's been connected."),this.term.open(this.terminalOuter.nativeElement),this.term.loadAddon(this.fitAddon),this.observableSetup(),this.requestRenderFromAPI.next({})}finally{this.lazyContainerCheckHandle&&clearInterval(this.lazyContainerCheckHandle)}},500)}ngOnChanges(e){var t,i,n,o;console.group("onChanges"),console.debug("prop: ",e),console.groupEnd(),(null==e?void 0:e._rowsInput)&&(null===(t=null==e?void 0:e._rowsInput)||void 0===t?void 0:t.previousValue)!=(null===(i=null==e?void 0:e._rowsInput)||void 0===i?void 0:i.currentValue)&&this.requestRenderFromAPI.next({rowChanged:!0}),(null==e?void 0:e._colsInput)&&(null===(n=null==e?void 0:e._colsInput)||void 0===n?void 0:n.previousValue)!=(null===(o=null==e?void 0:e._colsInput)||void 0===o?void 0:o.currentValue)&&this.requestRenderFromAPI.next({columnChanged:!0})}coordinateOuterAndTerminal(e){var t,i,n,o,r,s;console.debug(`changeList: ${JSON.stringify(e)}`),this.term.options=Object.assign({},this._xtermOptions),(null===(i=null===(t=this._xtermOptions)||void 0===t?void 0:t.theme)||void 0===i?void 0:i.background)&&(this.resizeHandleStyleRule||(this.resizeHandleStyleRule=this.findCssStyleRule(".resize-handle[")),this.resizeHandleStyleRule&&(this.resizeHandleStyleRule.style.backgroundColor=this._xtermOptions.theme.background)),(null===(o=null===(n=this._xtermOptions)||void 0===n?void 0:n.theme)||void 0===o?void 0:o.border)&&(this.resizeHandleActiveStyleRule||(this.resizeHandleActiveStyleRule=this.findCssStyleRule(".handle-active")),this.resizeHandleActiveStyleRule&&(this.resizeHandleActiveStyleRule.style.backgroundColor=this._xtermOptions.theme.border)),this.stylesForDiv=Object.assign(Object.assign(Object.assign({},this.stylesForDiv),this._stylesInput),{width:this.stylesForDiv.width,height:this.stylesForDiv.height}),e.dragged?(this.stylesForDiv.width=e.dragged.draggedWidth,this.stylesForDiv.height=e.dragged.draggedHeight,this.lastDraggedPosition={width:e.dragged.draggedWidth,height:e.dragged.draggedHeight}):!this._rowsInput&&!this._colsInput&&!(this.draggable&&this.lastDraggedPosition)&&(this.stylesForDiv.width="100%",this.stylesForDiv.height="100%"),this.applyStyleToDiv(),e.rowChanged||e.columnChanged?this.term.resize(null!==(r=this._colsInput)&&void 0!==r?r:this.term.cols,null!==(s=this._rowsInput)&&void 0!==s?s:this.term.rows):(this.term.element.style.paddingLeft=`${this.paddingSize}px`,this.term.element.style.paddingRight=`${this.paddingSize}px`,this.fitAddon.fit(),this.term.element.style.padding="0px");let a=this.term.element.getElementsByClassName("xterm-screen")[0],l=this.term.element.getElementsByClassName("xterm-viewport")[0];const c=a.clientWidth,h=a.clientHeight,u=this.underlying._core.viewport.scrollBarWidth;this.renderer.setStyle(l,"width",`${c+u}px`),console.debug(c+u+2*this.paddingSize,c,u,2*this.paddingSize),console.debug(h+2*this.paddingSize,h),this.stylesForDiv=Object.assign(Object.assign({},this.stylesForDiv),{width:`${c+u+2*this.paddingSize}px`,height:`${h+2*this.paddingSize}px`}),this.applyStyleToDiv(),this.ref.markForCheck()}observeTerminalDimension(){let e=this.terminalOuter.nativeElement.querySelector(".xterm-viewport");if(e){const t=new z(e=>{const t=parseFloat(getComputedStyle(this.terminalOuter.nativeElement).width),i=parseFloat(getComputedStyle(this.terminalOuter.nativeElement).height);let n,o;for(let r of e)r.contentBoxSize?r.target instanceof HTMLElement&&(n=parseFloat(getComputedStyle(r.target).width),o=parseFloat(getComputedStyle(r.target).height)):(n=parseFloat(getComputedStyle(r.target).width),o=parseFloat(getComputedStyle(r.target).height));(n>t||o>i)&&this.requestRenderFromAPI.next({whenTerminalDimensionIsOverOuterDiv:{width:`${n}px`,height:`${o}px`}})});return t.observe(e),t}console.error("Invalid state is detected. xterm element should exist below .terminal-outer.")}observeHostDimension(){let e=this.hostRef.nativeElement;if(e){const t=new z(e=>{let t,i;for(let n of e)n.contentBoxSize?n.target instanceof HTMLElement&&(t=parseFloat(getComputedStyle(n.target).width),i=parseFloat(getComputedStyle(n.target).height)):(t=parseFloat(getComputedStyle(n.target).width),i=parseFloat(getComputedStyle(n.target).height));this.requestRenderFromAPI.next({hostResized:{width:`${t}px`,height:`${i}px`}})});return t.observe(e),t}console.error("Invalid state is detected. xterm element should exist below .terminal-outer.")}ngOnDestroy(){this.keyInputSubjectSubscription&&this.keyInputSubjectSubscription.unsubscribe(),this.dataSourceSubscription&&this.dataSourceSubscription.unsubscribe(),this.keyEventSubjectSubscription&&this.keyEventSubjectSubscription.unsubscribe(),this.requestRenderSubscription&&this.requestRenderSubscription.unsubscribe(),this.allLogsSubjectSubscription&&this.allLogsSubjectSubscription.unsubscribe(),this.interval&&clearInterval(this.interval),this.lazyContainerCheckHandle&&clearInterval(this.lazyContainerCheckHandle),this.term&&this.term.dispose(),this.resizableObservers.forEach(e=>e.disconnect())}write(e){this.term.write(e)}get keyInput(){return this.keyInputSubject}onData(){return this.keyInputSubject}get keyEventInput(){return this.keyEventSubject}onKey(){return this.keyEventSubject}get underlying(){return this.term}get isDraggableOnEdgeActivated(){return this._draggableInput}onResizeEnd(e,t,i,n){this.setOuterDimensions(e,t,i,n)}validatorFactory(){return e=>{var t,i;if(this._draggableInput){let n=e.rectangle.height;return!(e.rectangle.width<(null!==(t=this._minWidthInput)&&void 0!==t?t:100)||n<(null!==(i=this._minHeightInput)&&void 0!==i?i:50))}return!1}}findCssStyleRule(e){for(let t=0;t<document.styleSheets.length;t++){let i=document.styleSheets.item(t);for(let t=0;t<i.cssRules.length;t++){let n=i.cssRules.item(t);if("selectorText"in n&&n.selectorText.includes(e))return n}}}}return e.\u0275fac=function(t){return new(t||e)(o.Y36(o.Qsj),o.Y36(o.sBO),o.Y36(o.SBq))},e.\u0275cmp=o.Xpm({type:e,selectors:[["ng-terminal"]],viewQuery:function(e,t){if(1&e&&(o.Gf(ye,7),o.Gf(be,7)),2&e){let e;o.iGM(e=o.CRH())&&(t.terminalOuter=e.first),o.iGM(e=o.CRH())&&(t.resizeBox=e.first)}},inputs:{_dataSource:["dataSource","_dataSource"],_rowsInput:["rows","_rowsInput"],_colsInput:["cols","_colsInput"],_minWidthInput:["minWidth","_minWidthInput"],_minHeightInput:["minHeight","_minHeightInput"],draggable:"draggable",_xtermOptions:["xtermOptions","_xtermOptions"]},outputs:{keyInputEmitter:"keyInput",keyEventEmitter:"keyEvent"},features:[o.TTD],decls:9,vars:24,consts:[["mwlResizable","",1,"resize-box",3,"validateResize","enableGhostResize","resizeEnd"],["resizeBox",""],[1,"terminal-outer"],["terminal",""],["mwlResizeHandle","",1,"resize-handle","resize-handle-top",3,"ngClass","resizeEdges"],["mwlResizeHandle","",1,"resize-handle","resize-handle-left",3,"ngClass","resizeEdges"],["mwlResizeHandle","",1,"resize-handle","resize-handle-right",3,"ngClass","resizeEdges"],["mwlResizeHandle","",1,"resize-handle","resize-handle-bottom",3,"ngClass","resizeEdges"]],template:function(e,t){1&e&&(o._UZ(0,"global-style"),o.TgZ(1,"div",0,1),o.NdJ("resizeEnd",function(e){return t.onResizeEnd(e.rectangle.left,e.rectangle.top,e.rectangle.width,e.rectangle.height)}),o._UZ(3,"div",2,3),o._UZ(5,"div",4),o._UZ(6,"div",5),o._UZ(7,"div",6),o._UZ(8,"div",7),o.qZA()),2&e&&(o.xp6(1),o.Q6J("validateResize",t.validatorFactory())("enableGhostResize",!0),o.xp6(4),o.Q6J("ngClass",o.VKq(10,we,t.isDraggableOnEdgeActivated))("resizeEdges",o.DdM(12,Ae)),o.xp6(1),o.Q6J("ngClass",o.VKq(13,we,t.isDraggableOnEdgeActivated))("resizeEdges",o.DdM(15,xe)),o.xp6(1),o.Q6J("ngClass",o.VKq(16,we,t.isDraggableOnEdgeActivated))("resizeEdges",t.isDraggableOnEdgeActivated?o.DdM(18,Te):o.DdM(19,Ce)),o.xp6(1),o.Q6J("ngClass",o.VKq(20,we,t.isDraggableOnEdgeActivated))("resizeEdges",t.isDraggableOnEdgeActivated?o.DdM(22,Ze):o.DdM(23,ke)))},directives:[Se,fe,_e,V.mk],styles:[".terminal-outer[_ngcontent-%COMP%]{box-sizing:border-box;height:100%;width:100%;padding:5px}[_nghost-%COMP%]{display:block;height:100%;width:100%}.resize-box[_ngcontent-%COMP%]{height:100%;width:100%;position:relative}div[_ngcontent-%COMP%] > .handle-active[_ngcontent-%COMP%]{z-index:100;background-color:#85858a!important}.resize-handle[_ngcontent-%COMP%]{background-color:#000}.resize-handle-top.handle-active[_ngcontent-%COMP%], .resize-handle-bottom.handle-active[_ngcontent-%COMP%]{cursor:row-resize}.resize-handle-left.handle-active[_ngcontent-%COMP%], .resize-handle-right.handle-active[_ngcontent-%COMP%]{cursor:col-resize}.resize-handle-top[_ngcontent-%COMP%], .resize-handle-bottom[_ngcontent-%COMP%]{position:absolute;height:5px;width:100%}.resize-handle-top[_ngcontent-%COMP%]{top:0px}.resize-handle-bottom[_ngcontent-%COMP%]{bottom:0px}.resize-handle-left[_ngcontent-%COMP%], .resize-handle-right[_ngcontent-%COMP%]{position:absolute;height:calc(100%);width:5px}.resize-handle-left[_ngcontent-%COMP%]{left:0px;top:0px}.resize-handle-right[_ngcontent-%COMP%]{right:0px;top:0px}"],changeDetection:0}),e})(),Me=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[[ve,V.ez]]}),e})()},6877:function(e,t,i){const n=i(50436),o=i(51191),r=i(32158),s=i(173);function a(e,t,i,r,s){const a=[].slice.call(arguments,1),l=a.length,c="function"==typeof a[l-1];if(!c&&!n())throw new Error("Callback required as last argument");if(!c){if(l<1)throw new Error("Too few arguments provided");return 1===l?(i=t,t=r=void 0):2===l&&!t.getContext&&(r=i,i=t,t=void 0),new Promise(function(n,s){try{const s=o.create(i,r);n(e(s,t,r))}catch(a){s(a)}})}if(l<2)throw new Error("Too few arguments provided");2===l?(s=i,i=t,t=r=void 0):3===l&&(t.getContext&&void 0===s?(s=r,r=void 0):(s=r,r=i,i=t,t=void 0));try{const n=o.create(i,r);s(null,e(n,t,r))}catch(h){s(h)}}t.rT=a.bind(null,r.render),t.hz=a.bind(null,r.renderToDataURL),t.toString=a.bind(null,function(e,t,i){return s.render(e,i)})},50436:function(e){e.exports=function(){return"function"==typeof Promise&&Promise.prototype&&Promise.prototype.then}},76448:function(e,t,i){const n=i(55402).getSymbolSize;t.getRowColCoords=function(e){if(1===e)return[];const t=Math.floor(e/7)+2,i=n(e),o=145===i?26:2*Math.ceil((i-13)/(2*t-2)),r=[i-7];for(let n=1;n<t-1;n++)r[n]=r[n-1]-o;return r.push(6),r.reverse()},t.getPositions=function(e){const i=[],n=t.getRowColCoords(e),o=n.length;for(let t=0;t<o;t++)for(let e=0;e<o;e++)0===t&&0===e||0===t&&e===o-1||t===o-1&&0===e||i.push([n[t],n[e]]);return i}},42793:function(e,t,i){const n=i(93141),o=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function r(e){this.mode=n.ALPHANUMERIC,this.data=e}r.getBitsLength=function(e){return 11*Math.floor(e/2)+e%2*6},r.prototype.getLength=function(){return this.data.length},r.prototype.getBitsLength=function(){return r.getBitsLength(this.data.length)},r.prototype.write=function(e){let t;for(t=0;t+2<=this.data.length;t+=2){let i=45*o.indexOf(this.data[t]);i+=o.indexOf(this.data[t+1]),e.put(i,11)}this.data.length%2&&e.put(o.indexOf(this.data[t]),6)},e.exports=r},57258:function(e){function t(){this.buffer=[],this.length=0}t.prototype={get:function(e){const t=Math.floor(e/8);return 1==(this.buffer[t]>>>7-e%8&1)},put:function(e,t){for(let i=0;i<t;i++)this.putBit(1==(e>>>t-i-1&1))},getLengthInBits:function(){return this.length},putBit:function(e){const t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}},e.exports=t},8104:function(e){function t(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}t.prototype.set=function(e,t,i,n){const o=e*this.size+t;this.data[o]=i,n&&(this.reservedBit[o]=!0)},t.prototype.get=function(e,t){return this.data[e*this.size+t]},t.prototype.xor=function(e,t,i){this.data[e*this.size+t]^=i},t.prototype.isReserved=function(e,t){return this.reservedBit[e*this.size+t]},e.exports=t},62860:function(e,t,i){const n=i(11522),o=i(93141);function r(e){this.mode=o.BYTE,this.data=new Uint8Array(n(e))}r.getBitsLength=function(e){return 8*e},r.prototype.getLength=function(){return this.data.length},r.prototype.getBitsLength=function(){return r.getBitsLength(this.data.length)},r.prototype.write=function(e){for(let t=0,i=this.data.length;t<i;t++)e.put(this.data[t],8)},e.exports=r},67291:function(e,t,i){const n=i(3997),o=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],r=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];t.getBlocksCount=function(e,t){switch(t){case n.L:return o[4*(e-1)+0];case n.M:return o[4*(e-1)+1];case n.Q:return o[4*(e-1)+2];case n.H:return o[4*(e-1)+3];default:return}},t.getTotalCodewordsCount=function(e,t){switch(t){case n.L:return r[4*(e-1)+0];case n.M:return r[4*(e-1)+1];case n.Q:return r[4*(e-1)+2];case n.H:return r[4*(e-1)+3];default:return}}},3997:function(e,t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2},t.isValid=function(e){return e&&void 0!==e.bit&&e.bit>=0&&e.bit<4},t.from=function(e,i){if(t.isValid(e))return e;try{return function(e){if("string"!=typeof e)throw new Error("Param is not a string");switch(e.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+e)}}(e)}catch(n){return i}}},21224:function(e,t,i){const n=i(55402).getSymbolSize;t.getPositions=function(e){const t=n(e);return[[0,0],[t-7,0],[0,t-7]]}},34482:function(e,t,i){const n=i(55402),o=n.getBCHDigit(1335);t.getEncodedBits=function(e,t){const i=e.bit<<3|t;let r=i<<10;for(;n.getBCHDigit(r)-o>=0;)r^=1335<<n.getBCHDigit(r)-o;return 21522^(i<<10|r)}},10567:function(e,t){const i=new Uint8Array(512),n=new Uint8Array(256);(function(){let e=1;for(let t=0;t<255;t++)i[t]=e,n[e]=t,e<<=1,256&e&&(e^=285);for(let t=255;t<512;t++)i[t]=i[t-255]})(),t.log=function(e){if(e<1)throw new Error("log("+e+")");return n[e]},t.exp=function(e){return i[e]},t.mul=function(e,t){return 0===e||0===t?0:i[n[e]+n[t]]}},51909:function(e,t,i){const n=i(93141),o=i(55402);function r(e){this.mode=n.KANJI,this.data=e}r.getBitsLength=function(e){return 13*e},r.prototype.getLength=function(){return this.data.length},r.prototype.getBitsLength=function(){return r.getBitsLength(this.data.length)},r.prototype.write=function(e){let t;for(t=0;t<this.data.length;t++){let i=o.toSJIS(this.data[t]);if(i>=33088&&i<=40956)i-=33088;else{if(!(i>=57408&&i<=60351))throw new Error("Invalid SJIS character: "+this.data[t]+"\nMake sure your charset is UTF-8");i-=49472}i=192*(i>>>8&255)+(255&i),e.put(i,13)}},e.exports=r},41976:function(e,t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};function i(e,i,n){switch(e){case t.Patterns.PATTERN000:return(i+n)%2==0;case t.Patterns.PATTERN001:return i%2==0;case t.Patterns.PATTERN010:return n%3==0;case t.Patterns.PATTERN011:return(i+n)%3==0;case t.Patterns.PATTERN100:return(Math.floor(i/2)+Math.floor(n/3))%2==0;case t.Patterns.PATTERN101:return i*n%2+i*n%3==0;case t.Patterns.PATTERN110:return(i*n%2+i*n%3)%2==0;case t.Patterns.PATTERN111:return(i*n%3+(i+n)%2)%2==0;default:throw new Error("bad maskPattern:"+e)}}t.isValid=function(e){return null!=e&&""!==e&&!isNaN(e)&&e>=0&&e<=7},t.from=function(e){return t.isValid(e)?parseInt(e,10):void 0},t.getPenaltyN1=function(e){const t=e.size;let i=0,n=0,o=0,r=null,s=null;for(let a=0;a<t;a++){n=o=0,r=s=null;for(let l=0;l<t;l++){let t=e.get(a,l);t===r?n++:(n>=5&&(i+=n-5+3),r=t,n=1),t=e.get(l,a),t===s?o++:(o>=5&&(i+=o-5+3),s=t,o=1)}n>=5&&(i+=n-5+3),o>=5&&(i+=o-5+3)}return i},t.getPenaltyN2=function(e){const t=e.size;let i=0;for(let n=0;n<t-1;n++)for(let o=0;o<t-1;o++){const t=e.get(n,o)+e.get(n,o+1)+e.get(n+1,o)+e.get(n+1,o+1);(4===t||0===t)&&i++}return 3*i},t.getPenaltyN3=function(e){const t=e.size;let i=0,n=0,o=0;for(let r=0;r<t;r++){n=o=0;for(let s=0;s<t;s++)n=n<<1&2047|e.get(r,s),s>=10&&(1488===n||93===n)&&i++,o=o<<1&2047|e.get(s,r),s>=10&&(1488===o||93===o)&&i++}return 40*i},t.getPenaltyN4=function(e){let t=0;const i=e.data.length;for(let n=0;n<i;n++)t+=e.data[n];return 10*Math.abs(Math.ceil(100*t/i/5)-10)},t.applyMask=function(e,t){const n=t.size;for(let o=0;o<n;o++)for(let r=0;r<n;r++)t.isReserved(r,o)||t.xor(r,o,i(e,r,o))},t.getBestMask=function(e,i){const n=Object.keys(t.Patterns).length;let o=0,r=1/0;for(let s=0;s<n;s++){i(s),t.applyMask(s,e);const n=t.getPenaltyN1(e)+t.getPenaltyN2(e)+t.getPenaltyN3(e)+t.getPenaltyN4(e);t.applyMask(s,e),n<r&&(r=n,o=s)}return o}},93141:function(e,t,i){const n=i(74200),o=i(22679);t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(e,t){if(!e.ccBits)throw new Error("Invalid mode: "+e);if(!n.isValid(t))throw new Error("Invalid version: "+t);return t>=1&&t<10?e.ccBits[0]:t<27?e.ccBits[1]:e.ccBits[2]},t.getBestModeForData=function(e){return o.testNumeric(e)?t.NUMERIC:o.testAlphanumeric(e)?t.ALPHANUMERIC:o.testKanji(e)?t.KANJI:t.BYTE},t.toString=function(e){if(e&&e.id)return e.id;throw new Error("Invalid mode")},t.isValid=function(e){return e&&e.bit&&e.ccBits},t.from=function(e,i){if(t.isValid(e))return e;try{return function(e){if("string"!=typeof e)throw new Error("Param is not a string");switch(e.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+e)}}(e)}catch(n){return i}}},50580:function(e,t,i){const n=i(93141);function o(e){this.mode=n.NUMERIC,this.data=e.toString()}o.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)},o.prototype.getLength=function(){return this.data.length},o.prototype.getBitsLength=function(){return o.getBitsLength(this.data.length)},o.prototype.write=function(e){let t,i,n;for(t=0;t+3<=this.data.length;t+=3)i=this.data.substr(t,3),n=parseInt(i,10),e.put(n,10);const o=this.data.length-t;o>0&&(i=this.data.substr(t),n=parseInt(i,10),e.put(n,3*o+1))},e.exports=o},70830:function(e,t,i){const n=i(10567);t.mul=function(e,t){const i=new Uint8Array(e.length+t.length-1);for(let o=0;o<e.length;o++)for(let r=0;r<t.length;r++)i[o+r]^=n.mul(e[o],t[r]);return i},t.mod=function(e,t){let i=new Uint8Array(e);for(;i.length-t.length>=0;){const e=i[0];for(let r=0;r<t.length;r++)i[r]^=n.mul(t[r],e);let o=0;for(;o<i.length&&0===i[o];)o++;i=i.slice(o)}return i},t.generateECPolynomial=function(e){let i=new Uint8Array([1]);for(let o=0;o<e;o++)i=t.mul(i,new Uint8Array([1,n.exp(o)]));return i}},51191:function(e,t,i){const n=i(55402),o=i(3997),r=i(57258),s=i(8104),a=i(76448),l=i(21224),c=i(41976),h=i(67291),u=i(56041),d=i(90160),p=i(34482),g=i(93141),f=i(71769);function m(e,t,i){const n=e.size,o=p.getEncodedBits(t,i);let r,s;for(r=0;r<15;r++)s=1==(o>>r&1),e.set(r<6?r:r<8?r+1:n-15+r,8,s,!0),e.set(8,r<8?n-r-1:r<9?15-r-1+1:15-r-1,s,!0);e.set(n-8,8,1,!0)}function _(e,t,i,o){let p;if(Array.isArray(e))p=f.fromArray(e);else{if("string"!=typeof e)throw new Error("Invalid data");{let n=t;if(!n){const t=f.rawSplit(e);n=d.getBestVersionForData(t,i)}p=f.fromString(e,n||40)}}const _=d.getBestVersionForData(p,i);if(!_)throw new Error("The amount of data is too big to be stored in a QR Code");if(t){if(t<_)throw new Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+_+".\n")}else t=_;const v=function(e,t,i){const o=new r;i.forEach(function(t){o.put(t.mode.bit,4),o.put(t.getLength(),g.getCharCountIndicator(t.mode,e)),t.write(o)});const s=8*(n.getSymbolTotalCodewords(e)-h.getTotalCodewordsCount(e,t));for(o.getLengthInBits()+4<=s&&o.put(0,4);o.getLengthInBits()%8!=0;)o.putBit(0);const a=(s-o.getLengthInBits())/8;for(let n=0;n<a;n++)o.put(n%2?17:236,8);return function(e,t,i){const o=n.getSymbolTotalCodewords(t),r=o-h.getTotalCodewordsCount(t,i),s=h.getBlocksCount(t,i),a=s-o%s,l=Math.floor(o/s),c=Math.floor(r/s),d=c+1,p=l-c,g=new u(p);let f=0;const m=new Array(s),_=new Array(s);let v=0;const y=new Uint8Array(e.buffer);for(let n=0;n<s;n++){const e=n<a?c:d;m[n]=y.slice(f,f+e),_[n]=g.encode(m[n]),f+=e,v=Math.max(v,e)}const b=new Uint8Array(o);let w,A,x=0;for(w=0;w<v;w++)for(A=0;A<s;A++)w<m[A].length&&(b[x++]=m[A][w]);for(w=0;w<p;w++)for(A=0;A<s;A++)b[x++]=_[A][w];return b}(o,e,t)}(t,i,p),y=n.getSymbolSize(t),b=new s(y);return function(e,t){const i=e.size,n=l.getPositions(t);for(let o=0;o<n.length;o++){const t=n[o][0],r=n[o][1];for(let n=-1;n<=7;n++)if(!(t+n<=-1||i<=t+n))for(let o=-1;o<=7;o++)r+o<=-1||i<=r+o||e.set(t+n,r+o,n>=0&&n<=6&&(0===o||6===o)||o>=0&&o<=6&&(0===n||6===n)||n>=2&&n<=4&&o>=2&&o<=4,!0)}}(b,t),function(e){const t=e.size;for(let i=8;i<t-8;i++){const t=i%2==0;e.set(i,6,t,!0),e.set(6,i,t,!0)}}(b),function(e,t){const i=a.getPositions(t);for(let n=0;n<i.length;n++){const t=i[n][0],o=i[n][1];for(let i=-2;i<=2;i++)for(let n=-2;n<=2;n++)e.set(t+i,o+n,-2===i||2===i||-2===n||2===n||0===i&&0===n,!0)}}(b,t),m(b,i,0),t>=7&&function(e,t){const i=e.size,n=d.getEncodedBits(t);let o,r,s;for(let a=0;a<18;a++)o=Math.floor(a/3),r=a%3+i-8-3,s=1==(n>>a&1),e.set(o,r,s,!0),e.set(r,o,s,!0)}(b,t),function(e,t){const i=e.size;let n=-1,o=i-1,r=7,s=0;for(let a=i-1;a>0;a-=2)for(6===a&&a--;;){for(let i=0;i<2;i++)if(!e.isReserved(o,a-i)){let n=!1;s<t.length&&(n=1==(t[s]>>>r&1)),e.set(o,a-i,n),r--,-1===r&&(s++,r=7)}if(o+=n,o<0||i<=o){o-=n,n=-n;break}}}(b,v),isNaN(o)&&(o=c.getBestMask(b,m.bind(null,b,i))),c.applyMask(o,b),m(b,i,o),{modules:b,version:t,errorCorrectionLevel:i,maskPattern:o,segments:p}}t.create=function(e,t){if(void 0===e||""===e)throw new Error("No input text");let i,r,s=o.M;return void 0!==t&&(s=o.from(t.errorCorrectionLevel,o.M),i=d.from(t.version),r=c.from(t.maskPattern),t.toSJISFunc&&n.setToSJISFunction(t.toSJISFunc)),_(e,i,s,r)}},56041:function(e,t,i){const n=i(70830);function o(e){this.genPoly=void 0,this.degree=e,this.degree&&this.initialize(this.degree)}o.prototype.initialize=function(e){this.degree=e,this.genPoly=n.generateECPolynomial(this.degree)},o.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");const t=new Uint8Array(e.length+this.degree);t.set(e);const i=n.mod(t,this.genPoly),o=this.degree-i.length;if(o>0){const e=new Uint8Array(this.degree);return e.set(i,o),e}return i},e.exports=o},22679:function(e,t){const i="[0-9]+";let n="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";n=n.replace(/u/g,"\\u");const o="(?:(?![A-Z0-9 $%*+\\-./:]|"+n+")(?:.|[\r\n]))+";t.KANJI=new RegExp(n,"g"),t.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),t.BYTE=new RegExp(o,"g"),t.NUMERIC=new RegExp(i,"g"),t.ALPHANUMERIC=new RegExp("[A-Z $%*+\\-./:]+","g");const r=new RegExp("^"+n+"$"),s=new RegExp("^"+i+"$"),a=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");t.testKanji=function(e){return r.test(e)},t.testNumeric=function(e){return s.test(e)},t.testAlphanumeric=function(e){return a.test(e)}},71769:function(e,t,i){const n=i(93141),o=i(50580),r=i(42793),s=i(62860),a=i(51909),l=i(22679),c=i(55402),h=i(78333);function u(e){return unescape(encodeURIComponent(e)).length}function d(e,t,i){const n=[];let o;for(;null!==(o=e.exec(i));)n.push({data:o[0],index:o.index,mode:t,length:o[0].length});return n}function p(e){const t=d(l.NUMERIC,n.NUMERIC,e),i=d(l.ALPHANUMERIC,n.ALPHANUMERIC,e);let o,r;return c.isKanjiModeEnabled()?(o=d(l.BYTE,n.BYTE,e),r=d(l.KANJI,n.KANJI,e)):(o=d(l.BYTE_KANJI,n.BYTE,e),r=[]),t.concat(i,o,r).sort(function(e,t){return e.index-t.index}).map(function(e){return{data:e.data,mode:e.mode,length:e.length}})}function g(e,t){switch(t){case n.NUMERIC:return o.getBitsLength(e);case n.ALPHANUMERIC:return r.getBitsLength(e);case n.KANJI:return a.getBitsLength(e);case n.BYTE:return s.getBitsLength(e)}}function f(e,t){let i;const l=n.getBestModeForData(e);if(i=n.from(t,l),i!==n.BYTE&&i.bit<l.bit)throw new Error('"'+e+'" cannot be encoded with mode '+n.toString(i)+".\n Suggested mode is: "+n.toString(l));switch(i===n.KANJI&&!c.isKanjiModeEnabled()&&(i=n.BYTE),i){case n.NUMERIC:return new o(e);case n.ALPHANUMERIC:return new r(e);case n.KANJI:return new a(e);case n.BYTE:return new s(e)}}t.fromArray=function(e){return e.reduce(function(e,t){return"string"==typeof t?e.push(f(t,null)):t.data&&e.push(f(t.data,t.mode)),e},[])},t.fromString=function(e,i){const o=function(e,t){const i={},o={start:{}};let r=["start"];for(let s=0;s<e.length;s++){const a=e[s],l=[];for(let e=0;e<a.length;e++){const c=a[e],h=""+s+e;l.push(h),i[h]={node:c,lastCount:0},o[h]={};for(let e=0;e<r.length;e++){const s=r[e];i[s]&&i[s].node.mode===c.mode?(o[s][h]=g(i[s].lastCount+c.length,c.mode)-g(i[s].lastCount,c.mode),i[s].lastCount+=c.length):(i[s]&&(i[s].lastCount=c.length),o[s][h]=g(c.length,c.mode)+4+n.getCharCountIndicator(c.mode,t))}}r=l}for(let n=0;n<r.length;n++)o[r[n]].end=0;return{map:o,table:i}}(function(e){const t=[];for(let i=0;i<e.length;i++){const o=e[i];switch(o.mode){case n.NUMERIC:t.push([o,{data:o.data,mode:n.ALPHANUMERIC,length:o.length},{data:o.data,mode:n.BYTE,length:o.length}]);break;case n.ALPHANUMERIC:t.push([o,{data:o.data,mode:n.BYTE,length:o.length}]);break;case n.KANJI:t.push([o,{data:o.data,mode:n.BYTE,length:u(o.data)}]);break;case n.BYTE:t.push([{data:o.data,mode:n.BYTE,length:u(o.data)}])}}return t}(p(e,c.isKanjiModeEnabled())),i),r=h.find_path(o.map,"start","end"),s=[];for(let t=1;t<r.length-1;t++)s.push(o.table[r[t]].node);return t.fromArray(s.reduce(function(e,t){const i=e.length-1>=0?e[e.length-1]:null;return i&&i.mode===t.mode?(e[e.length-1].data+=t.data,e):(e.push(t),e)},[]))},t.rawSplit=function(e){return t.fromArray(p(e,c.isKanjiModeEnabled()))}},55402:function(e,t){let i;const n=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];t.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return 4*e+17},t.getSymbolTotalCodewords=function(e){return n[e]},t.getBCHDigit=function(e){let t=0;for(;0!==e;)t++,e>>>=1;return t},t.setToSJISFunction=function(e){if("function"!=typeof e)throw new Error('"toSJISFunc" is not a valid function.');i=e},t.isKanjiModeEnabled=function(){return void 0!==i},t.toSJIS=function(e){return i(e)}},74200:function(e,t){t.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40}},90160:function(e,t,i){const n=i(55402),o=i(67291),r=i(3997),s=i(93141),a=i(74200),l=n.getBCHDigit(7973);function c(e,t){return s.getCharCountIndicator(e,t)+4}function h(e,t){let i=0;return e.forEach(function(e){i+=c(e.mode,t)+e.getBitsLength()}),i}t.from=function(e,t){return a.isValid(e)?parseInt(e,10):t},t.getCapacity=function(e,t,i){if(!a.isValid(e))throw new Error("Invalid QR Code version");void 0===i&&(i=s.BYTE);const r=8*(n.getSymbolTotalCodewords(e)-o.getTotalCodewordsCount(e,t));if(i===s.MIXED)return r;const l=r-c(i,e);switch(i){case s.NUMERIC:return Math.floor(l/10*3);case s.ALPHANUMERIC:return Math.floor(l/11*2);case s.KANJI:return Math.floor(l/13);case s.BYTE:default:return Math.floor(l/8)}},t.getBestVersionForData=function(e,i){let n;const o=r.from(i,r.M);if(Array.isArray(e)){if(e.length>1)return function(e,i){for(let n=1;n<=40;n++)if(h(e,n)<=t.getCapacity(n,i,s.MIXED))return n}(e,o);if(0===e.length)return 1;n=e[0]}else n=e;return function(e,i,n){for(let o=1;o<=40;o++)if(i<=t.getCapacity(o,n,e))return o}(n.mode,n.getLength(),o)},t.getEncodedBits=function(e){if(!a.isValid(e)||e<7)throw new Error("Invalid QR Code version");let t=e<<12;for(;n.getBCHDigit(t)-l>=0;)t^=7973<<n.getBCHDigit(t)-l;return e<<12|t}},32158:function(e,t,i){const n=i(5726);t.render=function(e,t,i){let o=i,r=t;void 0===o&&(!t||!t.getContext)&&(o=t,t=void 0),t||(r=function(){try{return document.createElement("canvas")}catch(e){throw new Error("You need to specify a canvas element")}}()),o=n.getOptions(o);const s=n.getImageWidth(e.modules.size,o),a=r.getContext("2d"),l=a.createImageData(s,s);return n.qrToImageData(l.data,e,o),function(e,t,i){e.clearRect(0,0,t.width,t.height),t.style||(t.style={}),t.height=i,t.width=i,t.style.height=i+"px",t.style.width=i+"px"}(a,r,s),a.putImageData(l,0,0),r},t.renderToDataURL=function(e,i,n){let o=n;return void 0===o&&(!i||!i.getContext)&&(o=i,i=void 0),o||(o={}),t.render(e,i,o).toDataURL(o.type||"image/png",(o.rendererOpts||{}).quality)}},173:function(e,t,i){const n=i(5726);function o(e,t){const i=e.a/255,n=t+'="'+e.hex+'"';return i<1?n+" "+t+'-opacity="'+i.toFixed(2).slice(1)+'"':n}function r(e,t,i){let n=e+t;return void 0!==i&&(n+=" "+i),n}t.render=function(e,t,i){const s=n.getOptions(t),a=e.modules.size,l=e.modules.data,c=a+2*s.margin,h=s.color.light.a?"<path "+o(s.color.light,"fill")+' d="M0 0h'+c+"v"+c+'H0z"/>':"",u="<path "+o(s.color.dark,"stroke")+' d="'+function(e,t,i){let n="",o=0,s=!1,a=0;for(let l=0;l<e.length;l++){const c=Math.floor(l%t),h=Math.floor(l/t);!c&&!s&&(s=!0),e[l]?(a++,l>0&&c>0&&e[l-1]||(n+=s?r("M",c+i,.5+h+i):r("m",o,0),o=0,s=!1),c+1<t&&e[l+1]||(n+=r("h",a),a=0)):o++}return n}(l,a,s.margin)+'"/>',d='<svg xmlns="http://www.w3.org/2000/svg" '+(s.width?'width="'+s.width+'" height="'+s.width+'" ':"")+'viewBox="0 0 '+c+" "+c+'" shape-rendering="crispEdges">'+h+u+"</svg>\n";return"function"==typeof i&&i(null,d),d}},5726:function(e,t){function i(e){if("number"==typeof e&&(e=e.toString()),"string"!=typeof e)throw new Error("Color should be defined as hex string");let t=e.slice().replace("#","").split("");if(t.length<3||5===t.length||t.length>8)throw new Error("Invalid hex color: "+e);(3===t.length||4===t.length)&&(t=Array.prototype.concat.apply([],t.map(function(e){return[e,e]}))),6===t.length&&t.push("F","F");const i=parseInt(t.join(""),16);return{r:i>>24&255,g:i>>16&255,b:i>>8&255,a:255&i,hex:"#"+t.slice(0,6).join("")}}t.getOptions=function(e){e||(e={}),e.color||(e.color={});const t=e.width&&e.width>=21?e.width:void 0;return{width:t,scale:t?4:e.scale||4,margin:null==e.margin||e.margin<0?4:e.margin,color:{dark:i(e.color.dark||"#000000ff"),light:i(e.color.light||"#ffffffff")},type:e.type,rendererOpts:e.rendererOpts||{}}},t.getScale=function(e,t){return t.width&&t.width>=e+2*t.margin?t.width/(e+2*t.margin):t.scale},t.getImageWidth=function(e,i){const n=t.getScale(e,i);return Math.floor((e+2*i.margin)*n)},t.qrToImageData=function(e,i,n){const o=i.modules.size,r=i.modules.data,s=t.getScale(o,n),a=Math.floor((o+2*n.margin)*s),l=n.margin*s,c=[n.color.light,n.color.dark];for(let t=0;t<a;t++)for(let i=0;i<a;i++){let h=4*(t*a+i),u=n.color.light;t>=l&&i>=l&&t<a-l&&i<a-l&&(u=c[r[Math.floor((t-l)/s)*o+Math.floor((i-l)/s)]?1:0]),e[h++]=u.r,e[h++]=u.g,e[h++]=u.b,e[h]=u.a}}},26215:function(e,t,i){"use strict";i.d(t,{X:function(){return r}});var n=i(67709),o=i(77971);class r extends n.xQ{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return t&&!t.closed&&e.next(this._value),t}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new o.N;return this._value}next(e){super.next(this._value=e)}}},18891:function(e,t,i){"use strict";i.d(t,{y:function(){return c}});var n=i(77393),o=i(29181),r=i(46490),s=i(16554),a=i(34022),l=i(82494);let c=(()=>{class e{constructor(e){this._isScalar=!1,e&&(this._subscribe=e)}lift(t){const i=new e;return i.source=this,i.operator=t,i}subscribe(e,t,i){const{operator:s}=this,a=function(e,t,i){if(e){if(e instanceof n.L)return e;if(e[o.b])return e[o.b]()}return e||t||i?new n.L(e,t,i):new n.L(r.c)}(e,t,i);if(a.add(s?s.call(a,this.source):this.source||l.v.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),l.v.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(e){try{return this._subscribe(e)}catch(t){l.v.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),function(e){for(;e;){const{closed:t,destination:i,isStopped:o}=e;if(t||o)return!1;e=i&&i instanceof n.L?i:null}return!0}(e)?e.error(t):console.warn(t)}}forEach(e,t){return new(t=h(t))((t,i)=>{let n;n=this.subscribe(t=>{try{e(t)}catch(o){i(o),n&&n.unsubscribe()}},i,t)})}_subscribe(e){const{source:t}=this;return t&&t.subscribe(e)}[s.L](){return this}pipe(...e){return 0===e.length?this:(0,a.U)(e)(this)}toPromise(e){return new(e=h(e))((e,t)=>{let i;this.subscribe(e=>i=e,e=>t(e),()=>e(i))})}}return e.create=t=>new e(t),e})();function h(e){if(e||(e=l.v.Promise||Promise),!e)throw new Error("no Promise impl found");return e}},46490:function(e,t,i){"use strict";i.d(t,{c:function(){return r}});var n=i(82494),o=i(54449);const r={closed:!0,next(e){},error(e){if(n.v.useDeprecatedSynchronousErrorHandling)throw e;(0,o.z)(e)},complete(){}}},67709:function(e,t,i){"use strict";i.d(t,{xQ:function(){return h},Yc:function(){return c}});var n=i(18891),o=i(77393),r=i(75319),s=i(77971);class a extends r.w{constructor(e,t){super(),this.subject=e,this.subscriber=t,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const e=this.subject,t=e.observers;if(this.subject=null,!t||0===t.length||e.isStopped||e.closed)return;const i=t.indexOf(this.subscriber);-1!==i&&t.splice(i,1)}}var l=i(29181);class c extends o.L{constructor(e){super(e),this.destination=e}}let h=(()=>{class e extends n.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[l.b](){return new c(this)}lift(e){const t=new u(this,this);return t.operator=e,t}next(e){if(this.closed)throw new s.N;if(!this.isStopped){const{observers:t}=this,i=t.length,n=t.slice();for(let o=0;o<i;o++)n[o].next(e)}}error(e){if(this.closed)throw new s.N;this.hasError=!0,this.thrownError=e,this.isStopped=!0;const{observers:t}=this,i=t.length,n=t.slice();for(let o=0;o<i;o++)n[o].error(e);this.observers.length=0}complete(){if(this.closed)throw new s.N;this.isStopped=!0;const{observers:e}=this,t=e.length,i=e.slice();for(let n=0;n<t;n++)i[n].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(e){if(this.closed)throw new s.N;return super._trySubscribe(e)}_subscribe(e){if(this.closed)throw new s.N;return this.hasError?(e.error(this.thrownError),r.w.EMPTY):this.isStopped?(e.complete(),r.w.EMPTY):(this.observers.push(e),new a(this,e))}asObservable(){const e=new n.y;return e.source=this,e}}return e.create=(e,t)=>new u(e,t),e})();class u extends h{constructor(e,t){super(),this.destination=e,this.source=t}next(e){const{destination:t}=this;t&&t.next&&t.next(e)}error(e){const{destination:t}=this;t&&t.error&&this.destination.error(e)}complete(){const{destination:e}=this;e&&e.complete&&this.destination.complete()}_subscribe(e){const{source:t}=this;return t?this.source.subscribe(e):r.w.EMPTY}}},77393:function(e,t,i){"use strict";i.d(t,{L:function(){return c}});var n=i(69105),o=i(46490),r=i(75319),s=i(29181),a=i(82494),l=i(54449);class c extends r.w{constructor(e,t,i){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=o.c;break;case 1:if(!e){this.destination=o.c;break}if("object"==typeof e){e instanceof c?(this.syncErrorThrowable=e.syncErrorThrowable,this.destination=e,e.add(this)):(this.syncErrorThrowable=!0,this.destination=new h(this,e));break}default:this.syncErrorThrowable=!0,this.destination=new h(this,e,t,i)}}[s.b](){return this}static create(e,t,i){const n=new c(e,t,i);return n.syncErrorThrowable=!1,n}next(e){this.isStopped||this._next(e)}error(e){this.isStopped||(this.isStopped=!0,this._error(e))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(e){this.destination.next(e)}_error(e){this.destination.error(e),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:e}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this}}class h extends c{constructor(e,t,i,r){super(),this._parentSubscriber=e;let s,a=this;(0,n.m)(t)?s=t:t&&(s=t.next,i=t.error,r=t.complete,t!==o.c&&(a=Object.create(t),(0,n.m)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=s,this._error=i,this._complete=r}next(e){if(!this.isStopped&&this._next){const{_parentSubscriber:t}=this;a.v.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}}error(e){if(!this.isStopped){const{_parentSubscriber:t}=this,{useDeprecatedSynchronousErrorHandling:i}=a.v;if(this._error)i&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)i?(t.syncErrorValue=e,t.syncErrorThrown=!0):(0,l.z)(e),this.unsubscribe();else{if(this.unsubscribe(),i)throw e;(0,l.z)(e)}}}complete(){if(!this.isStopped){const{_parentSubscriber:e}=this;if(this._complete){const t=()=>this._complete.call(this._context);a.v.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,t),this.unsubscribe()):(this.__tryOrUnsub(t),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(e,t){try{e.call(this._context,t)}catch(i){if(this.unsubscribe(),a.v.useDeprecatedSynchronousErrorHandling)throw i;(0,l.z)(i)}}__tryOrSetError(e,t,i){if(!a.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,i)}catch(n){return a.v.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=n,e.syncErrorThrown=!0,!0):((0,l.z)(n),!0)}return!1}_unsubscribe(){const{_parentSubscriber:e}=this;this._context=null,this._parentSubscriber=null,e.unsubscribe()}}},75319:function(e,t,i){"use strict";i.d(t,{w:function(){return a}});var n=i(59796),o=i(81555),r=i(69105);const s=(()=>{function e(e){return Error.call(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((e,t)=>`${t+1}) ${e.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e})();class a{constructor(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:t,_ctorUnsubscribe:i,_unsubscribe:l,_subscriptions:h}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,t instanceof a)t.remove(this);else if(null!==t)for(let n=0;n<t.length;++n)t[n].remove(this);if((0,r.m)(l)){i&&(this._unsubscribe=void 0);try{l.call(this)}catch(u){e=u instanceof s?c(u.errors):[u]}}if((0,n.k)(h)){let t=-1,i=h.length;for(;++t<i;){const i=h[t];if((0,o.K)(i))try{i.unsubscribe()}catch(d){e=e||[],d instanceof s?e=e.concat(c(d.errors)):e.push(d)}}}if(e)throw new s(e)}add(e){let t=e;if(!e)return a.EMPTY;switch(typeof e){case"function":t=new a(e);case"object":if(t===this||t.closed||"function"!=typeof t.unsubscribe)return t;if(this.closed)return t.unsubscribe(),t;if(!(t instanceof a)){const e=t;t=new a,t._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:i}=t;if(null===i)t._parentOrParents=this;else if(i instanceof a){if(i===this)return t;t._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return t;i.push(this)}const n=this._subscriptions;return null===n?this._subscriptions=[t]:n.push(t),t}remove(e){const t=this._subscriptions;if(t){const i=t.indexOf(e);-1!==i&&t.splice(i,1)}}}var l;function c(e){return e.reduce((e,t)=>e.concat(t instanceof s?t.errors:t),[])}a.EMPTY=((l=new a).closed=!0,l)},82494:function(e,t,i){"use strict";i.d(t,{v:function(){return o}});let n=!1;const o={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){if(e){const e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else n&&console.log("RxJS: Back to a better error behavior. Thank you. <3");n=e},get useDeprecatedSynchronousErrorHandling(){return n}}},85345:function(e,t,i){"use strict";i.d(t,{IY:function(){return s},Ds:function(){return a},ft:function(){return l}});var n=i(77393),o=i(18891),r=i(87444);class s extends n.L{constructor(e){super(),this.parent=e}_next(e){this.parent.notifyNext(e)}_error(e){this.parent.notifyError(e),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class a extends n.L{notifyNext(e){this.destination.next(e)}notifyError(e){this.destination.error(e)}notifyComplete(){this.destination.complete()}}function l(e,t){if(t.closed)return;if(e instanceof o.y)return e.subscribe(t);let i;try{i=(0,r.s)(e)(t)}catch(n){t.error(n)}return i}},52441:function(e,t,i){"use strict";i.d(t,{c:function(){return a},N:function(){return l}});var n=i(67709),o=i(18891),r=i(75319),s=i(51307);class a extends o.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._refCount=0,this._isComplete=!1}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let e=this._connection;return e||(this._isComplete=!1,e=this._connection=new r.w,e.add(this.source.subscribe(new c(this.getSubject(),this))),e.closed&&(this._connection=null,e=r.w.EMPTY)),e}refCount(){return(0,s.x)()(this)}}const l=(()=>{const e=a.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:e._subscribe},_isComplete:{value:e._isComplete,writable:!0},getSubject:{value:e.getSubject},connect:{value:e.connect},refCount:{value:e.refCount}}})();class c extends n.Yc{constructor(e,t){super(e),this.connectable=t}_error(e){this._unsubscribe(),super._error(e)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const e=this.connectable;if(e){this.connectable=null;const t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}}}},58071:function(e,t,i){"use strict";i.d(t,{z:function(){return r}});var n=i(25917),o=i(63282);function r(...e){return(0,o.J)(1)((0,n.of)(...e))}},59193:function(e,t,i){"use strict";i.d(t,{E:function(){return o},c:function(){return r}});var n=i(18891);const o=new n.y(e=>e.complete());function r(e){return e?function(e){return new n.y(t=>e.schedule(()=>t.complete()))}(e):o}},94402:function(e,t,i){"use strict";i.d(t,{D:function(){return u}});var n=i(18891),o=i(87444),r=i(75319),s=i(16554),a=i(94087),l=i(20377),c=i(44072),h=i(69489);function u(e,t){return t?function(e,t){if(null!=e){if(function(e){return e&&"function"==typeof e[s.L]}(e))return function(e,t){return new n.y(i=>{const n=new r.w;return n.add(t.schedule(()=>{const o=e[s.L]();n.add(o.subscribe({next(e){n.add(t.schedule(()=>i.next(e)))},error(e){n.add(t.schedule(()=>i.error(e)))},complete(){n.add(t.schedule(()=>i.complete()))}}))})),n})}(e,t);if((0,c.t)(e))return function(e,t){return new n.y(i=>{const n=new r.w;return n.add(t.schedule(()=>e.then(e=>{n.add(t.schedule(()=>{i.next(e),n.add(t.schedule(()=>i.complete()))}))},e=>{n.add(t.schedule(()=>i.error(e)))}))),n})}(e,t);if((0,h.z)(e))return(0,a.r)(e,t);if(function(e){return e&&"function"==typeof e[l.hZ]}(e)||"string"==typeof e)return function(e,t){if(!e)throw new Error("Iterable cannot be null");return new n.y(i=>{const n=new r.w;let o;return n.add(()=>{o&&"function"==typeof o.return&&o.return()}),n.add(t.schedule(()=>{o=e[l.hZ](),n.add(t.schedule(function(){if(i.closed)return;let e,t;try{const i=o.next();e=i.value,t=i.done}catch(n){return void i.error(n)}t?i.complete():(i.next(e),this.schedule())}))})),n})}(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}(e,t):e instanceof n.y?e:new n.y((0,o.s)(e))}},56693:function(e,t,i){"use strict";i.d(t,{n:function(){return s}});var n=i(18891),o=i(55015),r=i(94087);function s(e,t){return t?(0,r.r)(e,t):new n.y((0,o.V)(e))}},22759:function(e,t,i){"use strict";i.d(t,{R:function(){return a}});var n=i(18891),o=i(59796),r=i(69105),s=i(88002);function a(e,t,i,c){return(0,r.m)(i)&&(c=i,i=void 0),c?a(e,t,i).pipe((0,s.U)(e=>(0,o.k)(e)?c(...e):c(e))):new n.y(n=>{l(e,t,function(e){n.next(arguments.length>1?Array.prototype.slice.call(arguments):e)},n,i)})}function l(e,t,i,n,o){let r;if(function(e){return e&&"function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener}(e)){const n=e;e.addEventListener(t,i,o),r=()=>n.removeEventListener(t,i,o)}else if(function(e){return e&&"function"==typeof e.on&&"function"==typeof e.off}(e)){const n=e;e.on(t,i),r=()=>n.off(t,i)}else if(function(e){return e&&"function"==typeof e.addListener&&"function"==typeof e.removeListener}(e)){const n=e;e.addListener(t,i),r=()=>n.removeListener(t,i)}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(let r=0,s=e.length;r<s;r++)l(e[r],t,i,n,o)}n.add(r)}},66682:function(e,t,i){"use strict";i.d(t,{T:function(){return a}});var n=i(18891),o=i(54869),r=i(63282),s=i(56693);function a(...e){let t=Number.POSITIVE_INFINITY,i=null,a=e[e.length-1];return(0,o.K)(a)?(i=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(t=e.pop())):"number"==typeof a&&(t=e.pop()),null===i&&1===e.length&&e[0]instanceof n.y?e[0]:(0,r.J)(t)((0,s.n)(e,i))}},25917:function(e,t,i){"use strict";i.d(t,{of:function(){return s}});var n=i(54869),o=i(56693),r=i(94087);function s(...e){let t=e[e.length-1];return(0,n.K)(t)?(e.pop(),(0,r.r)(e,t)):(0,o.n)(e)}},94612:function(e,t,i){"use strict";i.d(t,{b:function(){return o}});var n=i(19773);function o(e,t){return(0,n.zg)(e,t,1)}},95242:function(e,t,i){"use strict";i.d(t,{d:function(){return o}});var n=i(77393);function o(e=null){return t=>t.lift(new r(e))}class r{constructor(e){this.defaultValue=e}call(e,t){return t.subscribe(new s(e,this.defaultValue))}}class s extends n.L{constructor(e,t){super(e),this.defaultValue=t,this.isEmpty=!0}_next(e){this.isEmpty=!1,this.destination.next(e)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}},45435:function(e,t,i){"use strict";i.d(t,{h:function(){return o}});var n=i(77393);function o(e,t){return function(i){return i.lift(new r(e,t))}}class r{constructor(e,t){this.predicate=e,this.thisArg=t}call(e,t){return t.subscribe(new s(e,this.predicate,this.thisArg))}}class s extends n.L{constructor(e,t,i){super(e),this.predicate=t,this.thisArg=i,this.count=0}_next(e){let t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(i){return void this.destination.error(i)}t&&this.destination.next(e)}}},88002:function(e,t,i){"use strict";i.d(t,{U:function(){return o}});var n=i(77393);function o(e,t){return function(i){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return i.lift(new r(e,t))}}class r{constructor(e,t){this.project=e,this.thisArg=t}call(e,t){return t.subscribe(new s(e,this.project,this.thisArg))}}class s extends n.L{constructor(e,t,i){super(e),this.project=t,this.count=0,this.thisArg=i||this}_next(e){let t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(i){return void this.destination.error(i)}this.destination.next(t)}}},63282:function(e,t,i){"use strict";i.d(t,{J:function(){return r}});var n=i(19773),o=i(54487);function r(e=Number.POSITIVE_INFINITY){return(0,n.zg)(o.y,e)}},19773:function(e,t,i){"use strict";i.d(t,{zg:function(){return s}});var n=i(88002),o=i(94402),r=i(85345);function s(e,t,i=Number.POSITIVE_INFINITY){return"function"==typeof t?r=>r.pipe(s((i,r)=>(0,o.D)(e(i,r)).pipe((0,n.U)((e,n)=>t(i,e,r,n))),i)):("number"==typeof t&&(i=t),t=>t.lift(new a(e,i)))}class a{constructor(e,t=Number.POSITIVE_INFINITY){this.project=e,this.concurrent=t}call(e,t){return t.subscribe(new l(e,this.project,this.concurrent))}}class l extends r.Ds{constructor(e,t,i=Number.POSITIVE_INFINITY){super(e),this.project=t,this.concurrent=i,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)}_tryNext(e){let t;const i=this.index++;try{t=this.project(e,i)}catch(n){return void this.destination.error(n)}this.active++,this._innerSub(t)}_innerSub(e){const t=new r.IY(this),i=this.destination;i.add(t);const n=(0,r.ft)(e,t);n!==t&&i.add(n)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(e){this.destination.next(e)}notifyComplete(){const e=this.buffer;this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},94458:function(e,t,i){"use strict";i.d(t,{O:function(){return o}});var n=i(52441);function o(e,t){return function(i){let o;if(o="function"==typeof e?e:function(){return e},"function"==typeof t)return i.lift(new r(o,t));const s=Object.create(i,n.N);return s.source=i,s.subjectFactory=o,s}}class r{constructor(e,t){this.subjectFactory=e,this.selector=t}call(e,t){const{selector:i}=this,n=this.subjectFactory(),o=i(n).subscribe(e);return o.add(t.subscribe(n)),o}}},51307:function(e,t,i){"use strict";i.d(t,{x:function(){return o}});var n=i(77393);function o(){return function(e){return e.lift(new r(e))}}class r{constructor(e){this.connectable=e}call(e,t){const{connectable:i}=this;i._refCount++;const n=new s(e,i),o=t.subscribe(n);return n.closed||(n.connection=i.connect()),o}}class s extends n.L{constructor(e,t){super(e),this.connectable=t}_unsubscribe(){const{connectable:e}=this;if(!e)return void(this.connection=null);this.connectable=null;const t=e._refCount;if(t<=0)return void(this.connection=null);if(e._refCount=t-1,t>1)return void(this.connection=null);const{connection:i}=this,n=e._connection;this.connection=null,n&&(!i||n===i)&&n.unsubscribe()}}},42145:function(e,t,i){"use strict";i.d(t,{R:function(){return o}});var n=i(77393);function o(e,t){let i=!1;return arguments.length>=2&&(i=!0),function(n){return n.lift(new r(e,t,i))}}class r{constructor(e,t,i=!1){this.accumulator=e,this.seed=t,this.hasSeed=i}call(e,t){return t.subscribe(new s(e,this.accumulator,this.seed,this.hasSeed))}}class s extends n.L{constructor(e,t,i,n){super(e),this.accumulator=t,this._seed=i,this.hasSeed=n,this.index=0}get seed(){return this._seed}set seed(e){this.hasSeed=!0,this._seed=e}_next(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}_tryNext(e){const t=this.index++;let i;try{i=this.accumulator(this.seed,e,t)}catch(n){this.destination.error(n)}this.seed=i,this.destination.next(i)}}},78345:function(e,t,i){"use strict";i.d(t,{B:function(){return a}});var n=i(94458),o=i(51307),r=i(67709);function s(){return new r.xQ}function a(){return e=>(0,o.x)()((0,n.O)(s)(e))}},43190:function(e,t,i){"use strict";i.d(t,{w:function(){return s}});var n=i(88002),o=i(94402),r=i(85345);function s(e,t){return"function"==typeof t?i=>i.pipe(s((i,r)=>(0,o.D)(e(i,r)).pipe((0,n.U)((e,n)=>t(i,e,r,n))))):t=>t.lift(new a(e))}class a{constructor(e){this.project=e}call(e,t){return t.subscribe(new l(e,this.project))}}class l extends r.Ds{constructor(e,t){super(e),this.project=t,this.index=0}_next(e){let t;const i=this.index++;try{t=this.project(e,i)}catch(n){return void this.destination.error(n)}this._innerSub(t)}_innerSub(e){const t=this.innerSubscription;t&&t.unsubscribe();const i=new r.IY(this),n=this.destination;n.add(i),this.innerSubscription=(0,r.ft)(e,i),this.innerSubscription!==i&&n.add(this.innerSubscription)}_complete(){const{innerSubscription:e}=this;(!e||e.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(e){this.destination.next(e)}}},15257:function(e,t,i){"use strict";i.d(t,{q:function(){return s}});var n=i(77393),o=i(7108),r=i(59193);function s(e){return t=>0===e?(0,r.c)():t.lift(new a(e))}class a{constructor(e){if(this.total=e,this.total<0)throw new o.W}call(e,t){return t.subscribe(new l(e,this.total))}}class l extends n.L{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){const t=this.total,i=++this.count;i<=t&&(this.destination.next(e),i===t&&(this.destination.complete(),this.unsubscribe()))}}},548:function(e,t,i){"use strict";i.d(t,{h:function(){return s}});var n=i(77393),o=i(7108),r=i(59193);function s(e){return function(t){return 0===e?(0,r.c)():t.lift(new a(e))}}class a{constructor(e){if(this.total=e,this.total<0)throw new o.W}call(e,t){return t.subscribe(new l(e,this.total))}}class l extends n.L{constructor(e,t){super(e),this.total=t,this.ring=new Array,this.count=0}_next(e){const t=this.ring,i=this.total,n=this.count++;t.length<i?t.push(e):t[n%i]=e}_complete(){const e=this.destination;let t=this.count;if(t>0){const i=this.count>=this.total?this.total:this.count,n=this.ring;for(let o=0;o<i;o++){const o=t++%i;e.next(n[o])}}e.complete()}}},46782:function(e,t,i){"use strict";i.d(t,{R:function(){return o}});var n=i(85345);function o(e){return t=>t.lift(new r(e))}class r{constructor(e){this.notifier=e}call(e,t){const i=new s(e),o=(0,n.ft)(this.notifier,new n.IY(i));return o&&!i.seenValue?(i.add(o),t.subscribe(i)):i}}class s extends n.Ds{constructor(e){super(e),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}},93342:function(e,t,i){"use strict";i.d(t,{b:function(){return s}});var n=i(77393);function o(){}var r=i(69105);function s(e,t,i){return function(n){return n.lift(new a(e,t,i))}}class a{constructor(e,t,i){this.nextOrObserver=e,this.error=t,this.complete=i}call(e,t){return t.subscribe(new l(e,this.nextOrObserver,this.error,this.complete))}}class l extends n.L{constructor(e,t,i,n){super(e),this._tapNext=o,this._tapError=o,this._tapComplete=o,this._tapError=i||o,this._tapComplete=n||o,(0,r.m)(t)?(this._context=this,this._tapNext=t):t&&(this._context=t,this._tapNext=t.next||o,this._tapError=t.error||o,this._tapComplete=t.complete||o)}_next(e){try{this._tapNext.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.next(e)}_error(e){try{this._tapError.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.error(e)}_complete(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()}}},94087:function(e,t,i){"use strict";i.d(t,{r:function(){return r}});var n=i(18891),o=i(75319);function r(e,t){return new n.y(i=>{const n=new o.w;let r=0;return n.add(t.schedule(function(){r!==e.length?(i.next(e[r++]),i.closed||n.add(this.schedule())):i.complete()})),n})}},11456:function(e,t,i){"use strict";i.d(t,{P:function(){return a}});var n=i(75319);class o extends n.w{constructor(e,t){super()}schedule(e,t=0){return this}}let r=(()=>{class e{constructor(t,i=e.now){this.SchedulerAction=t,this.now=i}schedule(e,t=0,i){return new this.SchedulerAction(this,e).schedule(i,t)}}return e.now=()=>Date.now(),e})();class s extends r{constructor(e,t=r.now){super(e,()=>s.delegate&&s.delegate!==this?s.delegate.now():t()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(e,t=0,i){return s.delegate&&s.delegate!==this?s.delegate.schedule(e,t,i):super.schedule(e,t,i)}flush(e){const{actions:t}=this;if(this.active)return void t.push(e);let i;this.active=!0;do{if(i=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,i){for(;e=t.shift();)e.unsubscribe();throw i}}}const a=new s(class extends o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){if(this.closed)return this;this.state=e;const i=this.id,n=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(n,i,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(n,this.id,t),this}requestAsyncId(e,t,i=0){return setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,t,i=0){if(null!==i&&this.delay===i&&!1===this.pending)return t;clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(e,t);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i,n=!1;try{this.work(e)}catch(o){n=!0,i=!!o&&o||new Error(o)}if(n)return this.unsubscribe(),i}_unsubscribe(){const e=this.id,t=this.scheduler,i=t.actions,n=i.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==n&&i.splice(n,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null}})},20377:function(e,t,i){"use strict";i.d(t,{hZ:function(){return n}});const n="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},16554:function(e,t,i){"use strict";i.d(t,{L:function(){return n}});const n="function"==typeof Symbol&&Symbol.observable||"@@observable"},29181:function(e,t,i){"use strict";i.d(t,{b:function(){return n}});const n="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7108:function(e,t,i){"use strict";i.d(t,{W:function(){return n}});const n=(()=>{function e(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return e.prototype=Object.create(Error.prototype),e})()},77971:function(e,t,i){"use strict";i.d(t,{N:function(){return n}});const n=(()=>{function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e})()},54449:function(e,t,i){"use strict";function n(e){setTimeout(()=>{throw e},0)}i.d(t,{z:function(){return n}})},54487:function(e,t,i){"use strict";function n(e){return e}i.d(t,{y:function(){return n}})},59796:function(e,t,i){"use strict";i.d(t,{k:function(){return n}});const n=Array.isArray||(e=>e&&"number"==typeof e.length)},69489:function(e,t,i){"use strict";i.d(t,{z:function(){return n}});const n=e=>e&&"number"==typeof e.length&&"function"!=typeof e},69105:function(e,t,i){"use strict";function n(e){return"function"==typeof e}i.d(t,{m:function(){return n}})},81555:function(e,t,i){"use strict";function n(e){return null!==e&&"object"==typeof e}i.d(t,{K:function(){return n}})},44072:function(e,t,i){"use strict";function n(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}i.d(t,{t:function(){return n}})},54869:function(e,t,i){"use strict";function n(e){return e&&"function"==typeof e.schedule}i.d(t,{K:function(){return n}})},34022:function(e,t,i){"use strict";i.d(t,{z:function(){return o},U:function(){return r}});var n=i(54487);function o(...e){return r(e)}function r(e){return 0===e.length?n.y:1===e.length?e[0]:function(t){return e.reduce((e,t)=>t(e),t)}}},87444:function(e,t,i){"use strict";i.d(t,{s:function(){return h}});var n=i(55015),o=i(54449),r=i(20377),s=i(16554),a=i(69489),l=i(44072),c=i(81555);const h=e=>{if(e&&"function"==typeof e[s.L])return(e=>t=>{const i=e[s.L]();if("function"!=typeof i.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return i.subscribe(t)})(e);if((0,a.z)(e))return(0,n.V)(e);if((0,l.t)(e))return(e=>t=>(e.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,o.z),t))(e);if(e&&"function"==typeof e[r.hZ])return(e=>t=>{const i=e[r.hZ]();for(;;){let e;try{e=i.next()}catch(n){return t.error(n),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof i.return&&t.add(()=>{i.return&&i.return()}),t})(e);{const t=`You provided ${(0,c.K)(e)?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(t)}}},55015:function(e,t,i){"use strict";i.d(t,{V:function(){return n}});const n=e=>t=>{for(let i=0,n=e.length;i<n&&!t.closed;i++)t.next(e[i]);t.complete()}},88259:function(e){e.exports=function(){"use strict";const e="SweetAlert2:",t=e=>e.charAt(0).toUpperCase()+e.slice(1),i=e=>Array.prototype.slice.call(e),n=t=>{console.warn("".concat(e," ").concat("object"==typeof t?t.join(" "):t))},o=t=>{console.error("".concat(e," ").concat(t))},r=[],s=(e,t)=>{(e=>{r.includes(e)||(r.push(e),n(e))})('"'.concat(e,'" is deprecated and will be removed in the next major release. Please use "').concat(t,'" instead.'))},a=e=>"function"==typeof e?e():e,l=e=>e&&"function"==typeof e.toPromise,c=e=>l(e)?e.toPromise():Promise.resolve(e),h=e=>e&&Promise.resolve(e)===e,u={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},d=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],p={},g=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],f=e=>Object.prototype.hasOwnProperty.call(u,e),m=e=>-1!==d.indexOf(e),_=e=>p[e],v=e=>{f(e)||n('Unknown parameter "'.concat(e,'"'))},y=e=>{g.includes(e)&&n('The parameter "'.concat(e,'" is incompatible with toasts'))},b=e=>{_(e)&&s(e,_(e))},w=e=>{const t={};for(const i in e)t[e[i]]="swal2-"+e[i];return t},A=w(["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"]),x=w(["success","warning","info","question","error"]),T=()=>document.body.querySelector(".".concat(A.container)),C=e=>{const t=T();return t?t.querySelector(e):null},Z=e=>C(".".concat(e)),k=()=>Z(A.popup),S=()=>Z(A.icon),E=()=>Z(A.title),M=()=>Z(A["html-container"]),O=()=>Z(A.image),I=()=>Z(A["progress-steps"]),P=()=>Z(A["validation-message"]),R=()=>C(".".concat(A.actions," .").concat(A.confirm)),q=()=>C(".".concat(A.actions," .").concat(A.deny)),L=()=>C(".".concat(A.loader)),U=()=>C(".".concat(A.actions," .").concat(A.cancel)),B=()=>Z(A.actions),D=()=>Z(A.footer),N=()=>Z(A["timer-progress-bar"]),F=()=>Z(A.close),H=()=>{const e=i(k().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort((e,t)=>{const i=parseInt(e.getAttribute("tabindex")),n=parseInt(t.getAttribute("tabindex"));return i>n?1:i<n?-1:0}),t=i(k().querySelectorAll('\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n')).filter(e=>"-1"!==e.getAttribute("tabindex"));return(e=>{const t=[];for(let i=0;i<e.length;i++)-1===t.indexOf(e[i])&&t.push(e[i]);return t})(e.concat(t)).filter(e=>se(e))},$=()=>W(document.body,A.shown)&&!W(document.body,A["toast-shown"])&&!W(document.body,A["no-backdrop"]),z=()=>k()&&W(k(),A.toast),V={previousBodyPadding:null},K=(e,t)=>{if(e.textContent="",t){const n=(new DOMParser).parseFromString(t,"text/html");i(n.querySelector("head").childNodes).forEach(t=>{e.appendChild(t)}),i(n.querySelector("body").childNodes).forEach(t=>{e.appendChild(t)})}},W=(e,t)=>{if(!t)return!1;const i=t.split(/\s+/);for(let n=0;n<i.length;n++)if(!e.classList.contains(i[n]))return!1;return!0},G=(e,t,o)=>{if(((e,t)=>{i(e.classList).forEach(i=>{!Object.values(A).includes(i)&&!Object.values(x).includes(i)&&!Object.values(t.showClass).includes(i)&&e.classList.remove(i)})})(e,t),t.customClass&&t.customClass[o]){if("string"!=typeof t.customClass[o]&&!t.customClass[o].forEach)return n("Invalid type of customClass.".concat(o,'! Expected string or iterable object, got "').concat(typeof t.customClass[o],'"'));J(e,t.customClass[o])}},Y=(e,t)=>{if(!t)return null;switch(t){case"select":case"textarea":case"file":return e.querySelector(".".concat(A.popup," > .").concat(A[t]));case"checkbox":return e.querySelector(".".concat(A.popup," > .").concat(A.checkbox," input"));case"radio":return e.querySelector(".".concat(A.popup," > .").concat(A.radio," input:checked"))||e.querySelector(".".concat(A.popup," > .").concat(A.radio," input:first-child"));case"range":return e.querySelector(".".concat(A.popup," > .").concat(A.range," input"));default:return e.querySelector(".".concat(A.popup," > .").concat(A.input))}},j=e=>{if(e.focus(),"file"!==e.type){const t=e.value;e.value="",e.value=t}},X=(e,t,i)=>{!e||!t||("string"==typeof t&&(t=t.split(/\s+/).filter(Boolean)),t.forEach(t=>{Array.isArray(e)?e.forEach(e=>{i?e.classList.add(t):e.classList.remove(t)}):i?e.classList.add(t):e.classList.remove(t)}))},J=(e,t)=>{X(e,t,!0)},Q=(e,t)=>{X(e,t,!1)},ee=(e,t)=>{const n=i(e.childNodes);for(let i=0;i<n.length;i++)if(W(n[i],t))return n[i]},te=(e,t,i)=>{i==="".concat(parseInt(i))&&(i=parseInt(i)),i||0===parseInt(i)?e.style[t]="number"==typeof i?"".concat(i,"px"):i:e.style.removeProperty(t)},ie=function(e){e.style.display=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"flex"},ne=e=>{e.style.display="none"},oe=(e,t,i,n)=>{const o=e.querySelector(t);o&&(o.style[i]=n)},re=(e,t,i)=>{t?ie(e,i):ne(e)},se=e=>!(!e||!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)),ae=e=>e.scrollHeight>e.clientHeight,le=e=>{const t=window.getComputedStyle(e),i=parseFloat(t.getPropertyValue("animation-duration")||"0"),n=parseFloat(t.getPropertyValue("transition-duration")||"0");return i>0||n>0},ce=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const i=N();se(i)&&(t&&(i.style.transition="none",i.style.width="100%"),setTimeout(()=>{i.style.transition="width ".concat(e/1e3,"s linear"),i.style.width="0%"},10))},he=()=>"undefined"==typeof window||"undefined"==typeof document,ue={},de=e=>new Promise(t=>{if(!e)return t();const i=window.scrollX,n=window.scrollY;ue.restoreFocusTimeout=setTimeout(()=>{ue.previousActiveElement&&ue.previousActiveElement.focus?(ue.previousActiveElement.focus(),ue.previousActiveElement=null):document.body&&document.body.focus(),t()},100),window.scrollTo(i,n)}),pe='\n <div aria-labelledby="'.concat(A.title,'" aria-describedby="').concat(A["html-container"],'" class="').concat(A.popup,'" tabindex="-1">\n   <button type="button" class="').concat(A.close,'"></button>\n   <ul class="').concat(A["progress-steps"],'"></ul>\n   <div class="').concat(A.icon,'"></div>\n   <img class="').concat(A.image,'" />\n   <h2 class="').concat(A.title,'" id="').concat(A.title,'"></h2>\n   <div class="').concat(A["html-container"],'" id="').concat(A["html-container"],'"></div>\n   <input class="').concat(A.input,'" />\n   <input type="file" class="').concat(A.file,'" />\n   <div class="').concat(A.range,'">\n     <input type="range" />\n     <output></output>\n   </div>\n   <select class="').concat(A.select,'"></select>\n   <div class="').concat(A.radio,'"></div>\n   <label for="').concat(A.checkbox,'" class="').concat(A.checkbox,'">\n     <input type="checkbox" />\n     <span class="').concat(A.label,'"></span>\n   </label>\n   <textarea class="').concat(A.textarea,'"></textarea>\n   <div class="').concat(A["validation-message"],'" id="').concat(A["validation-message"],'"></div>\n   <div class="').concat(A.actions,'">\n     <div class="').concat(A.loader,'"></div>\n     <button type="button" class="').concat(A.confirm,'"></button>\n     <button type="button" class="').concat(A.deny,'"></button>\n     <button type="button" class="').concat(A.cancel,'"></button>\n   </div>\n   <div class="').concat(A.footer,'"></div>\n   <div class="').concat(A["timer-progress-bar-container"],'">\n     <div class="').concat(A["timer-progress-bar"],'"></div>\n   </div>\n </div>\n').replace(/(^|\n)\s*/g,""),ge=()=>{ue.currentInstance.resetValidationMessage()},fe=e=>{const t=(()=>{const e=T();return!!e&&(e.remove(),Q([document.documentElement,document.body],[A["no-backdrop"],A["toast-shown"],A["has-column"]]),!0)})();if(he())return void o("SweetAlert2 requires document to initialize");const i=document.createElement("div");i.className=A.container,t&&J(i,A["no-transition"]),K(i,pe);const n=(e=>"string"==typeof e?document.querySelector(e):e)(e.target);n.appendChild(i),(e=>{const t=k();t.setAttribute("role",e.toast?"alert":"dialog"),t.setAttribute("aria-live",e.toast?"polite":"assertive"),e.toast||t.setAttribute("aria-modal","true")})(e),(e=>{"rtl"===window.getComputedStyle(e).direction&&J(T(),A.rtl)})(n),(()=>{const e=k(),t=ee(e,A.input),i=ee(e,A.file),n=e.querySelector(".".concat(A.range," input")),o=e.querySelector(".".concat(A.range," output")),r=ee(e,A.select),s=e.querySelector(".".concat(A.checkbox," input")),a=ee(e,A.textarea);t.oninput=ge,i.onchange=ge,r.onchange=ge,s.onchange=ge,a.oninput=ge,n.oninput=()=>{ge(),o.value=n.value},n.onchange=()=>{ge(),n.nextSibling.value=n.value}})()},me=(e,t)=>{e instanceof HTMLElement?t.appendChild(e):"object"==typeof e?_e(e,t):e&&K(t,e)},_e=(e,t)=>{e.jquery?ve(t,e):K(t,e.toString())},ve=(e,t)=>{if(e.textContent="",0 in t)for(let i=0;i in t;i++)e.appendChild(t[i].cloneNode(!0));else e.appendChild(t.cloneNode(!0))},ye=(()=>{if(he())return!1;const e=document.createElement("div"),t={WebkitAnimation:"webkitAnimationEnd",animation:"animationend"};for(const i in t)if(Object.prototype.hasOwnProperty.call(t,i)&&void 0!==e.style[i])return t[i];return!1})(),be=(e,t)=>{const i=B(),n=L();t.showConfirmButton||t.showDenyButton||t.showCancelButton?ie(i):ne(i),G(i,t,"actions"),function(e,t,i){const n=R(),o=q(),r=U();we(n,"confirm",i),we(o,"deny",i),we(r,"cancel",i),function(e,t,i,n){if(!n.buttonsStyling)return Q([e,t,i],A.styled);J([e,t,i],A.styled),n.confirmButtonColor&&(e.style.backgroundColor=n.confirmButtonColor,J(e,A["default-outline"])),n.denyButtonColor&&(t.style.backgroundColor=n.denyButtonColor,J(t,A["default-outline"])),n.cancelButtonColor&&(i.style.backgroundColor=n.cancelButtonColor,J(i,A["default-outline"]))}(n,o,r,i),i.reverseButtons&&(i.toast?(e.insertBefore(r,n),e.insertBefore(o,n)):(e.insertBefore(r,t),e.insertBefore(o,t),e.insertBefore(n,t)))}(i,n,t),K(n,t.loaderHtml),G(n,t,"loader")};function we(e,i,n){re(e,n["show".concat(t(i),"Button")],"inline-block"),K(e,n["".concat(i,"ButtonText")]),e.setAttribute("aria-label",n["".concat(i,"ButtonAriaLabel")]),e.className=A[i],G(e,n,"".concat(i,"Button")),J(e,n["".concat(i,"ButtonClass")])}const Ae=(e,t)=>{const i=T();!i||(function(e,t){"string"==typeof t?e.style.background=t:t||J([document.documentElement,document.body],A["no-backdrop"])}(i,t.backdrop),function(e,t){t in A?J(e,A[t]):(n('The "position" parameter is not valid, defaulting to "center"'),J(e,A.center))}(i,t.position),function(e,t){if(t&&"string"==typeof t){const i="grow-".concat(t);i in A&&J(e,A[i])}}(i,t.grow),G(i,t,"container"))};var xe={awaitingPromise:new WeakMap,promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap};const Te=["input","file","range","select","radio","checkbox","textarea"],Ce=e=>{if(!Oe[e.input])return o('Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "'.concat(e.input,'"'));const t=Me(e.input),i=Oe[e.input](t,e);ie(i),setTimeout(()=>{j(i)})},Ze=(e,t)=>{const i=Y(k(),e);if(i){(e=>{for(let t=0;t<e.attributes.length;t++){const i=e.attributes[t].name;["type","value","style"].includes(i)||e.removeAttribute(i)}})(i);for(const e in t)i.setAttribute(e,t[e])}},ke=e=>{const t=Me(e.input);e.customClass&&J(t,e.customClass.input)},Se=(e,t)=>{(!e.placeholder||t.inputPlaceholder)&&(e.placeholder=t.inputPlaceholder)},Ee=(e,t,i)=>{if(i.inputLabel){e.id=A.input;const n=document.createElement("label"),o=A["input-label"];n.setAttribute("for",e.id),n.className=o,J(n,i.customClass.inputLabel),n.innerText=i.inputLabel,t.insertAdjacentElement("beforebegin",n)}},Me=e=>{const t=A[e]?A[e]:A.input;return ee(k(),t)},Oe={};Oe.text=Oe.email=Oe.password=Oe.number=Oe.tel=Oe.url=(e,t)=>("string"==typeof t.inputValue||"number"==typeof t.inputValue?e.value=t.inputValue:h(t.inputValue)||n('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(typeof t.inputValue,'"')),Ee(e,e,t),Se(e,t),e.type=t.input,e),Oe.file=(e,t)=>(Ee(e,e,t),Se(e,t),e),Oe.range=(e,t)=>{const i=e.querySelector("input"),n=e.querySelector("output");return i.value=t.inputValue,i.type=t.input,n.value=t.inputValue,Ee(i,e,t),e},Oe.select=(e,t)=>{if(e.textContent="",t.inputPlaceholder){const i=document.createElement("option");K(i,t.inputPlaceholder),i.value="",i.disabled=!0,i.selected=!0,e.appendChild(i)}return Ee(e,e,t),e},Oe.radio=e=>(e.textContent="",e),Oe.checkbox=(e,t)=>{const i=Y(k(),"checkbox");i.value="1",i.id=A.checkbox,i.checked=Boolean(t.inputValue);const n=e.querySelector("span");return K(n,t.inputPlaceholder),e},Oe.textarea=(e,t)=>{e.value=t.inputValue,Se(e,t),Ee(e,e,t);return setTimeout(()=>{if("MutationObserver"in window){const t=parseInt(window.getComputedStyle(k()).width);new MutationObserver(()=>{const i=e.offsetWidth+(e=>parseInt(window.getComputedStyle(e).marginLeft)+parseInt(window.getComputedStyle(e).marginRight))(e);k().style.width=i>t?"".concat(i,"px"):null}).observe(e,{attributes:!0,attributeFilter:["style"]})}}),e};const Ie=(e,t)=>{const i=M();G(i,t,"htmlContainer"),t.html?(me(t.html,i),ie(i,"block")):t.text?(i.textContent=t.text,ie(i,"block")):ne(i),((e,t)=>{const i=k(),n=xe.innerParams.get(e),o=!n||t.input!==n.input;Te.forEach(e=>{const n=A[e],r=ee(i,n);Ze(e,t.inputAttributes),r.className=n,o&&ne(r)}),t.input&&(o&&Ce(t),ke(t))})(e,t)},Pe=(e,t)=>{for(const i in x)t.icon!==i&&Q(e,x[i]);J(e,x[t.icon]),Le(e,t),Re(),G(e,t,"icon")},Re=()=>{const e=k(),t=window.getComputedStyle(e).getPropertyValue("background-color"),i=e.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let n=0;n<i.length;n++)i[n].style.backgroundColor=t},qe=(e,t)=>{e.textContent="",K(e,t.iconHtml?Ue(t.iconHtml):"success"===t.icon?'\n  <div class="swal2-success-circular-line-left"></div>\n  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n  <div class="swal2-success-circular-line-right"></div>\n':"error"===t.icon?'\n  <span class="swal2-x-mark">\n    <span class="swal2-x-mark-line-left"></span>\n    <span class="swal2-x-mark-line-right"></span>\n  </span>\n':Ue({question:"?",warning:"!",info:"i"}[t.icon]))},Le=(e,t)=>{if(t.iconColor){e.style.color=t.iconColor,e.style.borderColor=t.iconColor;for(const i of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])oe(e,i,"backgroundColor",t.iconColor);oe(e,".swal2-success-ring","borderColor",t.iconColor)}},Ue=e=>'<div class="'.concat(A["icon-content"],'">').concat(e,"</div>"),Be=(e,t)=>{const i=I();if(!t.progressSteps||0===t.progressSteps.length)return ne(i);ie(i),i.textContent="",t.currentProgressStep>=t.progressSteps.length&&n("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),t.progressSteps.forEach((e,n)=>{const o=(e=>{const t=document.createElement("li");return J(t,A["progress-step"]),K(t,e),t})(e);if(i.appendChild(o),n===t.currentProgressStep&&J(o,A["active-progress-step"]),n!==t.progressSteps.length-1){const e=(e=>{const t=document.createElement("li");return J(t,A["progress-step-line"]),e.progressStepsDistance&&(t.style.width=e.progressStepsDistance),t})(t);i.appendChild(e)}})},De=(e,t)=>{e.className="".concat(A.popup," ").concat(se(e)?t.showClass.popup:""),t.toast?(J([document.documentElement,document.body],A["toast-shown"]),J(e,A.toast)):J(e,A.modal),G(e,t,"popup"),"string"==typeof t.customClass&&J(e,t.customClass),t.icon&&J(e,A["icon-".concat(t.icon)])},Ne=(e,t)=>{((e,t)=>{const i=T(),n=k();t.toast?(te(i,"width",t.width),n.style.width="100%",n.insertBefore(L(),S())):te(n,"width",t.width),te(n,"padding",t.padding),t.color&&(n.style.color=t.color),t.background&&(n.style.background=t.background),ne(P()),De(n,t)})(0,t),Ae(0,t),Be(0,t),((e,t)=>{const i=xe.innerParams.get(e),n=S();i&&t.icon===i.icon?(qe(n,t),Pe(n,t)):t.icon||t.iconHtml?t.icon&&-1===Object.keys(x).indexOf(t.icon)?(o('Unknown icon! Expected "success", "error", "warning", "info" or "question", got "'.concat(t.icon,'"')),ne(n)):(ie(n),qe(n,t),Pe(n,t),J(n,t.showClass.icon)):ne(n)})(e,t),((e,t)=>{const i=O();if(!t.imageUrl)return ne(i);ie(i,""),i.setAttribute("src",t.imageUrl),i.setAttribute("alt",t.imageAlt),te(i,"width",t.imageWidth),te(i,"height",t.imageHeight),i.className=A.image,G(i,t,"image")})(0,t),((e,t)=>{const i=E();re(i,t.title||t.titleText,"block"),t.title&&me(t.title,i),t.titleText&&(i.innerText=t.titleText),G(i,t,"title")})(0,t),((e,t)=>{const i=F();K(i,t.closeButtonHtml),G(i,t,"closeButton"),re(i,t.showCloseButton),i.setAttribute("aria-label",t.closeButtonAriaLabel)})(0,t),Ie(e,t),be(0,t),((e,t)=>{const i=D();re(i,t.footer),t.footer&&me(t.footer,i),G(i,t,"footer")})(0,t),"function"==typeof t.didRender&&t.didRender(k())},Fe=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),He=()=>{i(document.body.children).forEach(e=>{e.hasAttribute("data-previous-aria-hidden")?(e.setAttribute("aria-hidden",e.getAttribute("data-previous-aria-hidden")),e.removeAttribute("data-previous-aria-hidden")):e.removeAttribute("aria-hidden")})},$e=["swal-title","swal-html","swal-footer"],ze=e=>{const t={};return i(e.querySelectorAll("swal-param")).forEach(e=>{Xe(e,["name","value"]);const i=e.getAttribute("name"),n=e.getAttribute("value");"boolean"==typeof u[i]&&"false"===n&&(t[i]=!1),"object"==typeof u[i]&&(t[i]=JSON.parse(n))}),t},Ve=e=>{const n={};return i(e.querySelectorAll("swal-button")).forEach(e=>{Xe(e,["type","color","aria-label"]);const i=e.getAttribute("type");n["".concat(i,"ButtonText")]=e.innerHTML,n["show".concat(t(i),"Button")]=!0,e.hasAttribute("color")&&(n["".concat(i,"ButtonColor")]=e.getAttribute("color")),e.hasAttribute("aria-label")&&(n["".concat(i,"ButtonAriaLabel")]=e.getAttribute("aria-label"))}),n},Ke=e=>{const t={},i=e.querySelector("swal-image");return i&&(Xe(i,["src","width","height","alt"]),i.hasAttribute("src")&&(t.imageUrl=i.getAttribute("src")),i.hasAttribute("width")&&(t.imageWidth=i.getAttribute("width")),i.hasAttribute("height")&&(t.imageHeight=i.getAttribute("height")),i.hasAttribute("alt")&&(t.imageAlt=i.getAttribute("alt"))),t},We=e=>{const t={},i=e.querySelector("swal-icon");return i&&(Xe(i,["type","color"]),i.hasAttribute("type")&&(t.icon=i.getAttribute("type")),i.hasAttribute("color")&&(t.iconColor=i.getAttribute("color")),t.iconHtml=i.innerHTML),t},Ge=e=>{const t={},n=e.querySelector("swal-input");n&&(Xe(n,["type","label","placeholder","value"]),t.input=n.getAttribute("type")||"text",n.hasAttribute("label")&&(t.inputLabel=n.getAttribute("label")),n.hasAttribute("placeholder")&&(t.inputPlaceholder=n.getAttribute("placeholder")),n.hasAttribute("value")&&(t.inputValue=n.getAttribute("value")));const o=e.querySelectorAll("swal-input-option");return o.length&&(t.inputOptions={},i(o).forEach(e=>{Xe(e,["value"]);const i=e.getAttribute("value");t.inputOptions[i]=e.innerHTML})),t},Ye=(e,t)=>{const i={};for(const n in t){const o=t[n],r=e.querySelector(o);r&&(Xe(r,[]),i[o.replace(/^swal-/,"")]=r.innerHTML.trim())}return i},je=e=>{const t=$e.concat(["swal-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);i(e.children).forEach(e=>{const i=e.tagName.toLowerCase();-1===t.indexOf(i)&&n("Unrecognized element <".concat(i,">"))})},Xe=(e,t)=>{i(e.attributes).forEach(i=>{-1===t.indexOf(i.name)&&n(['Unrecognized attribute "'.concat(i.name,'" on <').concat(e.tagName.toLowerCase(),">."),"".concat(t.length?"Allowed attributes are: ".concat(t.join(", ")):"To set the value, use HTML within the element.")])})};var Je={email:(e,t)=>/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(e)?Promise.resolve():Promise.resolve(t||"Invalid email address"),url:(e,t)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(e)?Promise.resolve():Promise.resolve(t||"Invalid URL")};function Qe(e){(function(e){e.inputValidator||Object.keys(Je).forEach(t=>{e.input===t&&(e.inputValidator=Je[t])})})(e),e.showLoaderOnConfirm&&!e.preConfirm&&n("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),function(e){(!e.target||"string"==typeof e.target&&!document.querySelector(e.target)||"string"!=typeof e.target&&!e.target.appendChild)&&(n('Target parameter is not valid, defaulting to "body"'),e.target="body")}(e),"string"==typeof e.title&&(e.title=e.title.split("\n").join("<br />")),fe(e)}class et{constructor(e,t){this.callback=e,this.remaining=t,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=(new Date).getTime()-this.started.getTime()),this.remaining}increase(e){const t=this.running;return t&&this.stop(),this.remaining+=e,t&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const tt=()=>{null===V.previousBodyPadding&&document.body.scrollHeight>window.innerHeight&&(V.previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight="".concat(V.previousBodyPadding+(()=>{const e=document.createElement("div");e.className=A["scrollbar-measure"],document.body.appendChild(e);const t=e.getBoundingClientRect().width-e.clientWidth;return document.body.removeChild(e),t})(),"px"))},it=()=>{const e=navigator.userAgent,t=!!e.match(/iPad/i)||!!e.match(/iPhone/i),i=!!e.match(/WebKit/i);if(t&&i&&!e.match(/CriOS/i)){const e=44;k().scrollHeight>window.innerHeight-e&&(T().style.paddingBottom="".concat(e,"px"))}},nt=()=>{const e=T();let t;e.ontouchstart=e=>{t=ot(e)},e.ontouchmove=e=>{t&&(e.preventDefault(),e.stopPropagation())}},ot=e=>{const t=e.target,i=T();return!(rt(e)||st(e)||t!==i&&(ae(i)||"INPUT"===t.tagName||"TEXTAREA"===t.tagName||ae(M())&&M().contains(t)))},rt=e=>e.touches&&e.touches.length&&"stylus"===e.touches[0].touchType,st=e=>e.touches&&e.touches.length>1,at=e=>{const t=T(),n=k();"function"==typeof e.willOpen&&e.willOpen(n);const o=window.getComputedStyle(document.body).overflowY;ut(t,n,e),setTimeout(()=>{ct(t,n)},10),$()&&(ht(t,e.scrollbarPadding,o),i(document.body.children).forEach(e=>{e===T()||e.contains(T())||(e.hasAttribute("aria-hidden")&&e.setAttribute("data-previous-aria-hidden",e.getAttribute("aria-hidden")),e.setAttribute("aria-hidden","true"))})),!z()&&!ue.previousActiveElement&&(ue.previousActiveElement=document.activeElement),"function"==typeof e.didOpen&&setTimeout(()=>e.didOpen(n)),Q(t,A["no-transition"])},lt=e=>{const t=k();if(e.target!==t)return;const i=T();t.removeEventListener(ye,lt),i.style.overflowY="auto"},ct=(e,t)=>{ye&&le(t)?(e.style.overflowY="hidden",t.addEventListener(ye,lt)):e.style.overflowY="auto"},ht=(e,t,i)=>{(()=>{if((/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!W(document.body,A.iosfix)){const e=document.body.scrollTop;document.body.style.top="".concat(-1*e,"px"),J(document.body,A.iosfix),nt(),it()}})(),t&&"hidden"!==i&&tt(),setTimeout(()=>{e.scrollTop=0})},ut=(e,t,i)=>{J(e,i.showClass.backdrop),t.style.setProperty("opacity","0","important"),ie(t,"grid"),setTimeout(()=>{J(t,i.showClass.popup),t.style.removeProperty("opacity")},10),J([document.documentElement,document.body],A.shown),i.heightAuto&&i.backdrop&&!i.toast&&J([document.documentElement,document.body],A["height-auto"])},dt=e=>{let t=k();t||new Ti,t=k();const i=L();z()?ne(S()):pt(t,e),ie(i),t.setAttribute("data-loading",!0),t.setAttribute("aria-busy",!0),t.focus()},pt=(e,t)=>{const i=B(),n=L();!t&&se(R())&&(t=R()),ie(i),t&&(ne(t),n.setAttribute("data-button-to-replace",t.className)),n.parentNode.insertBefore(n,t),J([e,i],A.loading)},gt=e=>e.checked?1:0,ft=e=>e.checked?e.value:null,mt=e=>e.files.length?null!==e.getAttribute("multiple")?e.files:e.files[0]:null,_t=(e,t)=>{const i=k(),n=e=>yt[t.input](i,bt(e),t);l(t.inputOptions)||h(t.inputOptions)?(dt(R()),c(t.inputOptions).then(t=>{e.hideLoading(),n(t)})):"object"==typeof t.inputOptions?n(t.inputOptions):o("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(typeof t.inputOptions))},vt=(e,t)=>{const i=e.getInput();ne(i),c(t.inputValue).then(n=>{i.value="number"===t.input?parseFloat(n)||0:"".concat(n),ie(i),i.focus(),e.hideLoading()}).catch(t=>{o("Error in inputValue promise: ".concat(t)),i.value="",ie(i),i.focus(),e.hideLoading()})},yt={select:(e,t,i)=>{const n=ee(e,A.select),o=(e,t,n)=>{const o=document.createElement("option");o.value=n,K(o,t),o.selected=wt(n,i.inputValue),e.appendChild(o)};t.forEach(e=>{const t=e[0],i=e[1];if(Array.isArray(i)){const e=document.createElement("optgroup");e.label=t,e.disabled=!1,n.appendChild(e),i.forEach(t=>o(e,t[1],t[0]))}else o(n,i,t)}),n.focus()},radio:(e,t,i)=>{const n=ee(e,A.radio);t.forEach(e=>{const t=e[0],o=e[1],r=document.createElement("input"),s=document.createElement("label");r.type="radio",r.name=A.radio,r.value=t,wt(t,i.inputValue)&&(r.checked=!0);const a=document.createElement("span");K(a,o),a.className=A.label,s.appendChild(r),s.appendChild(a),n.appendChild(s)});const o=n.querySelectorAll("input");o.length&&o[0].focus()}},bt=e=>{const t=[];return"undefined"!=typeof Map&&e instanceof Map?e.forEach((e,i)=>{let n=e;"object"==typeof n&&(n=bt(n)),t.push([i,n])}):Object.keys(e).forEach(i=>{let n=e[i];"object"==typeof n&&(n=bt(n)),t.push([i,n])}),t},wt=(e,t)=>t&&t.toString()===e.toString();function At(){const e=xe.innerParams.get(this);if(!e)return;const t=xe.domCache.get(this);ne(t.loader),z()?e.icon&&ie(S()):xt(t),Q([t.popup,t.actions],A.loading),t.popup.removeAttribute("aria-busy"),t.popup.removeAttribute("data-loading"),t.confirmButton.disabled=!1,t.denyButton.disabled=!1,t.cancelButton.disabled=!1}const xt=e=>{const t=e.popup.getElementsByClassName(e.loader.getAttribute("data-button-to-replace"));t.length?ie(t[0],"inline-block"):!se(R())&&!se(q())&&!se(U())&&ne(e.actions)};var Tt={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const Ct=()=>R()&&R().click(),Zt=e=>{e.keydownTarget&&e.keydownHandlerAdded&&(e.keydownTarget.removeEventListener("keydown",e.keydownHandler,{capture:e.keydownListenerCapture}),e.keydownHandlerAdded=!1)},kt=(e,t,i)=>{const n=H();if(n.length)return(t+=i)===n.length?t=0:-1===t&&(t=n.length-1),n[t].focus();k().focus()},St=["ArrowRight","ArrowDown"],Et=["ArrowLeft","ArrowUp"],Mt=(e,t,i)=>{const n=xe.innerParams.get(e);!n||t.isComposing||229===t.keyCode||(n.stopKeydownPropagation&&t.stopPropagation(),"Enter"===t.key?Ot(e,t,n):"Tab"===t.key?It(t,n):[...St,...Et].includes(t.key)?Pt(t.key):"Escape"===t.key&&Rt(t,n,i))},Ot=(e,t,i)=>{if(a(i.allowEnterKey)&&t.target&&e.getInput()&&t.target.outerHTML===e.getInput().outerHTML){if(["textarea","file"].includes(i.input))return;Ct(),t.preventDefault()}},It=(e,t)=>{const i=e.target,n=H();let o=-1;for(let r=0;r<n.length;r++)if(i===n[r]){o=r;break}kt(0,o,e.shiftKey?-1:1),e.stopPropagation(),e.preventDefault()},Pt=e=>{if(![R(),q(),U()].includes(document.activeElement))return;const t=St.includes(e)?"nextElementSibling":"previousElementSibling";let i=document.activeElement;for(let n=0;n<B().children.length;n++){if(i=i[t],!i)return;if(se(i)&&i instanceof HTMLButtonElement)break}i instanceof HTMLButtonElement&&i.focus()},Rt=(e,t,i)=>{a(t.allowEscapeKey)&&(e.preventDefault(),i(Fe.esc))};function qt(e,t,i,n){z()?Ht(e,n):(de(i).then(()=>Ht(e,n)),Zt(ue)),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?(t.setAttribute("style","display:none !important"),t.removeAttribute("class"),t.innerHTML=""):t.remove(),$()&&(null!==V.previousBodyPadding&&(document.body.style.paddingRight="".concat(V.previousBodyPadding,"px"),V.previousBodyPadding=null),(()=>{if(W(document.body,A.iosfix)){const e=parseInt(document.body.style.top,10);Q(document.body,A.iosfix),document.body.style.top="",document.body.scrollTop=-1*e}})(),He()),Q([document.documentElement,document.body],[A.shown,A["height-auto"],A["no-backdrop"],A["toast-shown"]])}function Lt(e){e=Dt(e);const t=Tt.swalPromiseResolve.get(this),i=Ut(this);this.isAwaitingPromise()?e.isDismissed||(Bt(this),t(e)):i&&t(e)}const Ut=e=>{const t=k();if(!t)return!1;const i=xe.innerParams.get(e);if(!i||W(t,i.hideClass.popup))return!1;Q(t,i.showClass.popup),J(t,i.hideClass.popup);const n=T();return Q(n,i.showClass.backdrop),J(n,i.hideClass.backdrop),Nt(e,t,i),!0};const Bt=e=>{e.isAwaitingPromise()&&(xe.awaitingPromise.delete(e),xe.innerParams.get(e)||e._destroy())},Dt=e=>void 0===e?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},e),Nt=(e,t,i)=>{const n=T(),o=ye&&le(t);"function"==typeof i.willClose&&i.willClose(t),o?Ft(e,t,n,i.returnFocus,i.didClose):qt(e,n,i.returnFocus,i.didClose)},Ft=(e,t,i,n,o)=>{ue.swalCloseEventFinishedCallback=qt.bind(null,e,i,n,o),t.addEventListener(ye,function(e){e.target===t&&(ue.swalCloseEventFinishedCallback(),delete ue.swalCloseEventFinishedCallback)})},Ht=(e,t)=>{setTimeout(()=>{"function"==typeof t&&t.bind(e.params)(),e._destroy()})};function $t(e,t,i){const n=xe.domCache.get(e);t.forEach(e=>{n[e].disabled=i})}function zt(e,t){if(!e)return!1;if("radio"===e.type){const i=e.parentNode.parentNode.querySelectorAll("input");for(let e=0;e<i.length;e++)i[e].disabled=t}else e.disabled=t}const Vt=e=>{const t={};return Object.keys(e).forEach(i=>{m(i)?t[i]=e[i]:n('Invalid parameter to update: "'.concat(i,'". Updatable params are listed here: https://github.com/sweetalert2/sweetalert2/blob/master/src/utils/params.js\n\nIf you think this parameter should be updatable, request it here: https://github.com/sweetalert2/sweetalert2/issues/new?template=02_feature_request.md'))}),t};const Kt=e=>{Wt(e),delete e.params,delete ue.keydownHandler,delete ue.keydownTarget,delete ue.currentInstance},Wt=e=>{e.isAwaitingPromise()?(Gt(xe,e),xe.awaitingPromise.set(e,!0)):(Gt(Tt,e),Gt(xe,e))},Gt=(e,t)=>{for(const i in e)e[i].delete(t)};var Yt=Object.freeze({hideLoading:At,disableLoading:At,getInput:function(e){const t=xe.innerParams.get(e||this),i=xe.domCache.get(e||this);return i?Y(i.popup,t.input):null},close:Lt,isAwaitingPromise:function(){return!!xe.awaitingPromise.get(this)},rejectPromise:function(e){const t=Tt.swalPromiseReject.get(this);Bt(this),t&&t(e)},handleAwaitingPromise:Bt,closePopup:Lt,closeModal:Lt,closeToast:Lt,enableButtons:function(){$t(this,["confirmButton","denyButton","cancelButton"],!1)},disableButtons:function(){$t(this,["confirmButton","denyButton","cancelButton"],!0)},enableInput:function(){return zt(this.getInput(),!1)},disableInput:function(){return zt(this.getInput(),!0)},showValidationMessage:function(e){const t=xe.domCache.get(this),i=xe.innerParams.get(this);K(t.validationMessage,e),t.validationMessage.className=A["validation-message"],i.customClass&&i.customClass.validationMessage&&J(t.validationMessage,i.customClass.validationMessage),ie(t.validationMessage);const n=this.getInput();n&&(n.setAttribute("aria-invalid",!0),n.setAttribute("aria-describedby",A["validation-message"]),j(n),J(n,A.inputerror))},resetValidationMessage:function(){const e=xe.domCache.get(this);e.validationMessage&&ne(e.validationMessage);const t=this.getInput();t&&(t.removeAttribute("aria-invalid"),t.removeAttribute("aria-describedby"),Q(t,A.inputerror))},getProgressSteps:function(){return xe.domCache.get(this).progressSteps},update:function(e){const t=k(),i=xe.innerParams.get(this);if(!t||W(t,i.hideClass.popup))return n("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");const o=Vt(e),r=Object.assign({},i,o);Ne(this,r),xe.innerParams.set(this,r),Object.defineProperties(this,{params:{value:Object.assign({},this.params,e),writable:!1,enumerable:!0}})},_destroy:function(){const e=xe.domCache.get(this),t=xe.innerParams.get(this);t?(e.popup&&ue.swalCloseEventFinishedCallback&&(ue.swalCloseEventFinishedCallback(),delete ue.swalCloseEventFinishedCallback),ue.deferDisposalTimer&&(clearTimeout(ue.deferDisposalTimer),delete ue.deferDisposalTimer),"function"==typeof t.didDestroy&&t.didDestroy(),Kt(this)):Wt(this)}});const jt=(e,i)=>{const n=xe.innerParams.get(e);if(!n.input)return o('The "input" parameter is needed to be set when using returnInputValueOn'.concat(t(i)));const r=((e,t)=>{const i=e.getInput();if(!i)return null;switch(t.input){case"checkbox":return gt(i);case"radio":return ft(i);case"file":return mt(i);default:return t.inputAutoTrim?i.value.trim():i.value}})(e,n);n.inputValidator?Xt(e,r,i):e.getInput().checkValidity()?"deny"===i?Jt(e,r):ti(e,r):(e.enableButtons(),e.showValidationMessage(n.validationMessage))},Xt=(e,t,i)=>{const n=xe.innerParams.get(e);e.disableInput(),Promise.resolve().then(()=>c(n.inputValidator(t,n.validationMessage))).then(n=>{e.enableButtons(),e.enableInput(),n?e.showValidationMessage(n):"deny"===i?Jt(e,t):ti(e,t)})},Jt=(e,t)=>{const i=xe.innerParams.get(e||void 0);i.showLoaderOnDeny&&dt(q()),i.preDeny?(xe.awaitingPromise.set(e||void 0,!0),Promise.resolve().then(()=>c(i.preDeny(t,i.validationMessage))).then(i=>{!1===i?(e.hideLoading(),Bt(e)):e.closePopup({isDenied:!0,value:void 0===i?t:i})}).catch(t=>ei(e||void 0,t))):e.closePopup({isDenied:!0,value:t})},Qt=(e,t)=>{e.closePopup({isConfirmed:!0,value:t})},ei=(e,t)=>{e.rejectPromise(t)},ti=(e,t)=>{const i=xe.innerParams.get(e||void 0);i.showLoaderOnConfirm&&dt(),i.preConfirm?(e.resetValidationMessage(),xe.awaitingPromise.set(e||void 0,!0),Promise.resolve().then(()=>c(i.preConfirm(t,i.validationMessage))).then(i=>{se(P())||!1===i?(e.hideLoading(),Bt(e)):Qt(e,void 0===i?t:i)}).catch(t=>ei(e||void 0,t))):Qt(e,t)},ii=(e,t,i)=>{t.popup.onclick=()=>{const t=xe.innerParams.get(e);t&&(ni(t)||t.timer||t.input)||i(Fe.close)}},ni=e=>e.showConfirmButton||e.showDenyButton||e.showCancelButton||e.showCloseButton;let oi=!1;const ri=e=>{e.popup.onmousedown=()=>{e.container.onmouseup=function(t){e.container.onmouseup=void 0,t.target===e.container&&(oi=!0)}}},si=e=>{e.container.onmousedown=()=>{e.popup.onmouseup=function(t){e.popup.onmouseup=void 0,(t.target===e.popup||e.popup.contains(t.target))&&(oi=!0)}}},ai=(e,t,i)=>{t.container.onclick=n=>{const o=xe.innerParams.get(e);oi?oi=!1:n.target===t.container&&a(o.allowOutsideClick)&&i(Fe.backdrop)}},li=e=>e instanceof Element||(e=>"object"==typeof e&&e.jquery)(e);const ci=()=>{if(ue.timeout)return(()=>{const e=N(),t=parseInt(window.getComputedStyle(e).width);e.style.removeProperty("transition"),e.style.width="100%";const i=t/parseInt(window.getComputedStyle(e).width)*100;e.style.removeProperty("transition"),e.style.width="".concat(i,"%")})(),ue.timeout.stop()},hi=()=>{if(ue.timeout){const e=ue.timeout.start();return ce(e),e}};let ui=!1;const di={};const pi=e=>{for(let t=e.target;t&&t!==document;t=t.parentNode)for(const e in di){const i=t.getAttribute(e);if(i)return void di[e].fire({template:i})}};var gi=Object.freeze({isValidParameter:f,isUpdatableParameter:m,isDeprecatedParameter:_,argsToParams:e=>{const t={};return"object"!=typeof e[0]||li(e[0])?["title","html","icon"].forEach((i,n)=>{const r=e[n];"string"==typeof r||li(r)?t[i]=r:void 0!==r&&o("Unexpected type of ".concat(i,'! Expected "string" or "Element", got ').concat(typeof r))}):Object.assign(t,e[0]),t},isVisible:()=>se(k()),clickConfirm:Ct,clickDeny:()=>q()&&q().click(),clickCancel:()=>U()&&U().click(),getContainer:T,getPopup:k,getTitle:E,getHtmlContainer:M,getImage:O,getIcon:S,getInputLabel:()=>Z(A["input-label"]),getCloseButton:F,getActions:B,getConfirmButton:R,getDenyButton:q,getCancelButton:U,getLoader:L,getFooter:D,getTimerProgressBar:N,getFocusableElements:H,getValidationMessage:P,isLoading:()=>k().hasAttribute("data-loading"),fire:function(){const e=this;for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];return new e(...i)},mixin:function(e){return class extends(this){_main(t,i){return super._main(t,Object.assign({},e,i))}}},showLoading:dt,enableLoading:dt,getTimerLeft:()=>ue.timeout&&ue.timeout.getTimerLeft(),stopTimer:ci,resumeTimer:hi,toggleTimer:()=>{const e=ue.timeout;return e&&(e.running?ci():hi())},increaseTimer:e=>{if(ue.timeout){const t=ue.timeout.increase(e);return ce(t,!0),t}},isTimerRunning:()=>ue.timeout&&ue.timeout.isRunning(),bindClickHandler:function(){di[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"data-swal-template"]=this,ui||(document.body.addEventListener("click",pi),ui=!0)}});let fi;class mi{constructor(){if("undefined"==typeof window)return;fi=this;for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];const n=Object.freeze(this.constructor.argsToParams(t));Object.defineProperties(this,{params:{value:n,writable:!1,enumerable:!0,configurable:!0}});const o=this._main(this.params);xe.promise.set(this,o)}_main(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(e=>{!e.backdrop&&e.allowOutsideClick&&n('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const t in e)v(t),e.toast&&y(t),b(t)})(Object.assign({},t,e)),ue.currentInstance&&(ue.currentInstance._destroy(),$()&&He()),ue.currentInstance=this;const i=vi(e,t);Qe(i),Object.freeze(i),ue.timeout&&(ue.timeout.stop(),delete ue.timeout),clearTimeout(ue.restoreFocusTimeout);const o=yi(this);return Ne(this,i),xe.innerParams.set(this,i),_i(this,o,i)}then(e){return xe.promise.get(this).then(e)}finally(e){return xe.promise.get(this).finally(e)}}const _i=(e,t,i)=>new Promise((n,o)=>{const r=t=>{e.closePopup({isDismissed:!0,dismiss:t})};Tt.swalPromiseResolve.set(e,n),Tt.swalPromiseReject.set(e,o),t.confirmButton.onclick=()=>(e=>{const t=xe.innerParams.get(e);e.disableButtons(),t.input?jt(e,"confirm"):ti(e,!0)})(e),t.denyButton.onclick=()=>(e=>{const t=xe.innerParams.get(e);e.disableButtons(),t.returnInputValueOnDeny?jt(e,"deny"):Jt(e,!1)})(e),t.cancelButton.onclick=()=>((e,t)=>{e.disableButtons(),t(Fe.cancel)})(e,r),t.closeButton.onclick=()=>r(Fe.close),((e,t,i)=>{xe.innerParams.get(e).toast?ii(e,t,i):(ri(t),si(t),ai(e,t,i))})(e,t,r),((e,t,i,n)=>{Zt(t),i.toast||(t.keydownHandler=t=>Mt(e,t,n),t.keydownTarget=i.keydownListenerCapture?window:k(),t.keydownListenerCapture=i.keydownListenerCapture,t.keydownTarget.addEventListener("keydown",t.keydownHandler,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!0)})(e,ue,i,r),((e,t)=>{"select"===t.input||"radio"===t.input?_t(e,t):["text","email","number","tel","textarea"].includes(t.input)&&(l(t.inputValue)||h(t.inputValue))&&(dt(R()),vt(e,t))})(e,i),at(i),bi(ue,i,r),wi(t,i),setTimeout(()=>{t.container.scrollTop=0})}),vi=(e,t)=>{const i=(e=>{const t="string"==typeof e.template?document.querySelector(e.template):e.template;if(!t)return{};const i=t.content;return je(i),Object.assign(ze(i),Ve(i),Ke(i),We(i),Ge(i),Ye(i,$e))})(e),n=Object.assign({},u,t,i,e);return n.showClass=Object.assign({},u.showClass,n.showClass),n.hideClass=Object.assign({},u.hideClass,n.hideClass),n},yi=e=>{const t={popup:k(),container:T(),actions:B(),confirmButton:R(),denyButton:q(),cancelButton:U(),loader:L(),closeButton:F(),validationMessage:P(),progressSteps:I()};return xe.domCache.set(e,t),t},bi=(e,t,i)=>{const n=N();ne(n),t.timer&&(e.timeout=new et(()=>{i("timer"),delete e.timeout},t.timer),t.timerProgressBar&&(ie(n),G(n,t,"timerProgressBar"),setTimeout(()=>{e.timeout&&e.timeout.running&&ce(t.timer)})))},wi=(e,t)=>{if(!t.toast){if(!a(t.allowEnterKey))return xi();Ai(e,t)||kt(0,-1,1)}},Ai=(e,t)=>t.focusDeny&&se(e.denyButton)?(e.denyButton.focus(),!0):t.focusCancel&&se(e.cancelButton)?(e.cancelButton.focus(),!0):!(!t.focusConfirm||!se(e.confirmButton)||(e.confirmButton.focus(),0)),xi=()=>{document.activeElement instanceof HTMLElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()};Object.assign(mi.prototype,Yt),Object.assign(mi,gi),Object.keys(Yt).forEach(e=>{mi[e]=function(){if(fi)return fi[e](...arguments)}}),mi.DismissReason=Fe,mi.version="11.4.8";const Ti=mi;return Ti.default=Ti,Ti}(),void 0!==this&&this.Sweetalert2&&(this.swal=this.sweetAlert=this.Swal=this.SweetAlert=this.Sweetalert2),"undefined"!=typeof document&&function(e,t){var i=e.createElement("style");if(e.getElementsByTagName("head")[0].appendChild(i),i.styleSheet)i.styleSheet.disabled||(i.styleSheet.cssText=t);else try{i.innerHTML=t}catch(n){i.innerText=t}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4!important;grid-row:1/4!important;grid-template-columns:1fr 99fr 1fr;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:700}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.8em;left:-.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{-webkit-animation:swal2-toast-animate-success-line-tip .75s;animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{-webkit-animation:swal2-toast-animate-success-line-long .75s;animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{-webkit-animation:swal2-toast-show .5s;animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{-webkit-animation:swal2-toast-hide .1s forwards;animation:swal2-toast-hide .1s forwards}.swal2-container{display:grid;position:fixed;z-index:1060;top:0;right:0;bottom:0;left:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(-webkit-min-content,auto) minmax(-webkit-min-content,auto) minmax(-webkit-min-content,auto);grid-template-rows:minmax(min-content,auto) minmax(min-content,auto) minmax(min-content,auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}.swal2-container.swal2-backdrop-show,.swal2-container.swal2-noanimation{background:rgba(0,0,0,.4)}.swal2-container.swal2-backdrop-hide{background:0 0!important}.swal2-container.swal2-bottom-start,.swal2-container.swal2-center-start,.swal2-container.swal2-top-start{grid-template-columns:minmax(0,1fr) auto auto}.swal2-container.swal2-bottom,.swal2-container.swal2-center,.swal2-container.swal2-top{grid-template-columns:auto minmax(0,1fr) auto}.swal2-container.swal2-bottom-end,.swal2-container.swal2-center-end,.swal2-container.swal2-top-end{grid-template-columns:auto auto minmax(0,1fr)}.swal2-container.swal2-top-start>.swal2-popup{align-self:start}.swal2-container.swal2-top>.swal2-popup{grid-column:2;align-self:start;justify-self:center}.swal2-container.swal2-top-end>.swal2-popup,.swal2-container.swal2-top-right>.swal2-popup{grid-column:3;align-self:start;justify-self:end}.swal2-container.swal2-center-left>.swal2-popup,.swal2-container.swal2-center-start>.swal2-popup{grid-row:2;align-self:center}.swal2-container.swal2-center>.swal2-popup{grid-column:2;grid-row:2;align-self:center;justify-self:center}.swal2-container.swal2-center-end>.swal2-popup,.swal2-container.swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;align-self:center;justify-self:end}.swal2-container.swal2-bottom-left>.swal2-popup,.swal2-container.swal2-bottom-start>.swal2-popup{grid-column:1;grid-row:3;align-self:end}.swal2-container.swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;justify-self:center;align-self:end}.swal2-container.swal2-bottom-end>.swal2-popup,.swal2-container.swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;align-self:end;justify-self:end}.swal2-container.swal2-grow-fullscreen>.swal2-popup,.swal2-container.swal2-grow-row>.swal2-popup{grid-column:1/4;width:100%}.swal2-container.swal2-grow-column>.swal2-popup,.swal2-container.swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}.swal2-container.swal2-no-transition{transition:none!important}.swal2-popup{display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0,100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}.swal2-popup:focus{outline:0}.swal2-popup.swal2-loading{overflow-y:hidden}.swal2-title{position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}.swal2-actions{display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}.swal2-actions:not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}.swal2-actions:not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0,0,0,.1),rgba(0,0,0,.1))}.swal2-actions:not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0,0,0,.2),rgba(0,0,0,.2))}.swal2-loader{display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;-webkit-animation:swal2-rotate-loading 1.5s linear 0s infinite normal;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 transparent #2778c4 transparent}.swal2-styled{margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px transparent;font-weight:500}.swal2-styled:not([disabled]){cursor:pointer}.swal2-styled.swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}.swal2-styled.swal2-confirm:focus{box-shadow:0 0 0 3px rgba(112,102,224,.5)}.swal2-styled.swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}.swal2-styled.swal2-deny:focus{box-shadow:0 0 0 3px rgba(220,55,65,.5)}.swal2-styled.swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}.swal2-styled.swal2-cancel:focus{box-shadow:0 0 0 3px rgba(110,120,129,.5)}.swal2-styled.swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}.swal2-styled:focus{outline:0}.swal2-styled::-moz-focus-inner{border:0}.swal2-footer{justify-content:center;margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em}.swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto!important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}.swal2-timer-progress-bar{width:100%;height:.25em;background:rgba(0,0,0,.2)}.swal2-image{max-width:100%;margin:2em auto 1em}.swal2-close{z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:0 0;color:#ccc;font-family:serif;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}.swal2-close:hover{transform:none;background:0 0;color:#f27474}.swal2-close:focus{outline:0;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}.swal2-close::-moz-focus-inner{border:0}.swal2-html-container{z-index:1;justify-content:center;margin:1em 1.6em .3em;padding:0;overflow:auto;color:inherit;font-size:1.125em;font-weight:400;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}.swal2-checkbox,.swal2-file,.swal2-input,.swal2-radio,.swal2-select,.swal2-textarea{margin:1em 2em 3px}.swal2-file,.swal2-input,.swal2-textarea{box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:inherit;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px transparent;color:inherit;font-size:1.125em}.swal2-file.swal2-inputerror,.swal2-input.swal2-inputerror,.swal2-textarea.swal2-inputerror{border-color:#f27474!important;box-shadow:0 0 2px #f27474!important}.swal2-file:focus,.swal2-input:focus,.swal2-textarea:focus{border:1px solid #b4dbed;outline:0;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}.swal2-file::-moz-placeholder,.swal2-input::-moz-placeholder,.swal2-textarea::-moz-placeholder{color:#ccc}.swal2-file:-ms-input-placeholder,.swal2-input:-ms-input-placeholder,.swal2-textarea:-ms-input-placeholder{color:#ccc}.swal2-file::placeholder,.swal2-input::placeholder,.swal2-textarea::placeholder{color:#ccc}.swal2-range{margin:1em 2em 3px;background:#fff}.swal2-range input{width:80%}.swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}.swal2-range input,.swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}.swal2-input{height:2.625em;padding:0 .75em}.swal2-file{width:75%;margin-right:auto;margin-left:auto;background:inherit;font-size:1.125em}.swal2-textarea{height:6.75em;padding:.75em}.swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:inherit;color:inherit;font-size:1.125em}.swal2-checkbox,.swal2-radio{align-items:center;justify-content:center;background:#fff;color:inherit}.swal2-checkbox label,.swal2-radio label{margin:0 .6em;font-size:1.125em}.swal2-checkbox input,.swal2-radio input{flex-shrink:0;margin:0 .4em}.swal2-input-label{display:flex;justify-content:center;margin:1em auto 0}.swal2-validation-message{align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}.swal2-validation-message::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}.swal2-icon{position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:.25em solid transparent;border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}.swal2-icon.swal2-error{border-color:#f27474;color:#f27474}.swal2-icon.swal2-error .swal2-x-mark{position:relative;flex-grow:1}.swal2-icon.swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}.swal2-icon.swal2-error.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-error.swal2-icon-show .swal2-x-mark{-webkit-animation:swal2-animate-error-x-mark .5s;animation:swal2-animate-error-x-mark .5s}.swal2-icon.swal2-warning{border-color:#facea8;color:#f8bb86}.swal2-icon.swal2-warning.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-warning.swal2-icon-show .swal2-icon-content{-webkit-animation:swal2-animate-i-mark .5s;animation:swal2-animate-i-mark .5s}.swal2-icon.swal2-info{border-color:#9de0f6;color:#3fc3ee}.swal2-icon.swal2-info.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-info.swal2-icon-show .swal2-icon-content{-webkit-animation:swal2-animate-i-mark .8s;animation:swal2-animate-i-mark .8s}.swal2-icon.swal2-question{border-color:#c9dae1;color:#87adbd}.swal2-icon.swal2-question.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-question.swal2-icon-show .swal2-icon-content{-webkit-animation:swal2-animate-question-mark .8s;animation:swal2-animate-question-mark .8s}.swal2-icon.swal2-success{border-color:#a5dc86;color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;transform:rotate(45deg);border-radius:50%}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}.swal2-icon.swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-.25em;left:-.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}.swal2-icon.swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}.swal2-icon.swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}.swal2-icon.swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-tip{-webkit-animation:swal2-animate-success-line-tip .75s;animation:swal2-animate-success-line-tip .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-long{-webkit-animation:swal2-animate-success-line-long .75s;animation:swal2-animate-success-line-long .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-circular-line-right{-webkit-animation:swal2-rotate-success-circular-line 4.25s ease-in;animation:swal2-rotate-success-circular-line 4.25s ease-in}.swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:inherit;font-weight:600}.swal2-progress-steps li{display:inline-block;position:relative}.swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}.swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}[class^=swal2]{-webkit-tap-highlight-color:transparent}.swal2-show{-webkit-animation:swal2-show .3s;animation:swal2-show .3s}.swal2-hide{-webkit-animation:swal2-hide .15s forwards;animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@-webkit-keyframes swal2-toast-show{0%{transform:translateY(-.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0)}}@keyframes swal2-toast-show{0%{transform:translateY(-.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0)}}@-webkit-keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@-webkit-keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@-webkit-keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@-webkit-keyframes swal2-show{0%{transform:scale(.7)}45%{transform:scale(1.05)}80%{transform:scale(.95)}100%{transform:scale(1)}}@keyframes swal2-show{0%{transform:scale(.7)}45%{transform:scale(1.05)}80%{transform:scale(.95)}100%{transform:scale(1)}}@-webkit-keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(.5);opacity:0}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(.5);opacity:0}}@-webkit-keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@-webkit-keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@-webkit-keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@-webkit-keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(.4);opacity:0}50%{margin-top:1.625em;transform:scale(.4);opacity:0}80%{margin-top:-.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(.4);opacity:0}50%{margin-top:1.625em;transform:scale(.4);opacity:0}80%{margin-top:-.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@-webkit-keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0);opacity:1}}@-webkit-keyframes swal2-rotate-loading{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@keyframes swal2-rotate-loading{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@-webkit-keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@-webkit-keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto!important}body.swal2-no-backdrop .swal2-container{background-color:transparent!important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll!important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static!important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:transparent;pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{top:0;right:auto;bottom:auto;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{top:0;right:0;bottom:auto;left:auto}body.swal2-toast-shown .swal2-container.swal2-top-left,body.swal2-toast-shown .swal2-container.swal2-top-start{top:0;right:auto;bottom:auto;left:0}body.swal2-toast-shown .swal2-container.swal2-center-left,body.swal2-toast-shown .swal2-container.swal2-center-start{top:50%;right:auto;bottom:auto;left:0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{top:50%;right:auto;bottom:auto;left:50%;transform:translate(-50%,-50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{top:50%;right:0;bottom:auto;left:auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-left,body.swal2-toast-shown .swal2-container.swal2-bottom-start{top:auto;right:auto;bottom:0;left:0}body.swal2-toast-shown .swal2-container.swal2-bottom{top:auto;right:auto;bottom:0;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{top:auto;right:0;bottom:0;left:auto}')},13891:function(e){self,e.exports=(()=>{"use strict";var e,t={};return e=t,Object.defineProperty(e,"__esModule",{value:!0}),e.FitAddon=void 0,e.FitAddon=class{constructor(){}activate(e){this._terminal=e}dispose(){}fit(){const e=this.proposeDimensions();e&&this._terminal&&!isNaN(e.cols)&&!isNaN(e.rows)&&(this._terminal.rows===e.rows&&this._terminal.cols===e.cols||(this._terminal._core._renderService.clear(),this._terminal.resize(e.cols,e.rows)))}proposeDimensions(){if(!this._terminal||!this._terminal.element||!this._terminal.element.parentElement)return;const e=this._terminal._core,t=e._renderService.dimensions;if(0===t.css.cell.width||0===t.css.cell.height)return;const i=0===this._terminal.options.scrollback?0:e.viewport.scrollBarWidth,n=window.getComputedStyle(this._terminal.element.parentElement),o=parseInt(n.getPropertyValue("height")),r=Math.max(0,parseInt(n.getPropertyValue("width"))),s=window.getComputedStyle(this._terminal.element),a=o-(parseInt(s.getPropertyValue("padding-top"))+parseInt(s.getPropertyValue("padding-bottom"))),l=r-(parseInt(s.getPropertyValue("padding-right"))+parseInt(s.getPropertyValue("padding-left")))-i;return{cols:Math.max(2,Math.floor(l/t.css.cell.width)),rows:Math.max(1,Math.floor(a/t.css.cell.height))}}},t})()},92217:function(e){self,e.exports=(()=>{"use strict";var e={4567:function(e,t,i){var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__param||function(e,t){return function(i,n){t(i,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.AccessibilityManager=void 0;const r=i(9042),s=i(6114),a=i(9924),l=i(844),c=i(5596),h=i(4725),u=i(3656);let d=t.AccessibilityManager=class extends l.Disposable{constructor(e,t){super(),this._terminal=e,this._renderService=t,this._liveRegionLineCount=0,this._charsToConsume=[],this._charsToAnnounce="",this._accessibilityContainer=document.createElement("div"),this._accessibilityContainer.classList.add("xterm-accessibility"),this._rowContainer=document.createElement("div"),this._rowContainer.setAttribute("role","list"),this._rowContainer.classList.add("xterm-accessibility-tree"),this._rowElements=[];for(let i=0;i<this._terminal.rows;i++)this._rowElements[i]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[i]);if(this._topBoundaryFocusListener=e=>this._handleBoundaryFocus(e,0),this._bottomBoundaryFocusListener=e=>this._handleBoundaryFocus(e,1),this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions(),this._accessibilityContainer.appendChild(this._rowContainer),this._liveRegion=document.createElement("div"),this._liveRegion.classList.add("live-region"),this._liveRegion.setAttribute("aria-live","assertive"),this._accessibilityContainer.appendChild(this._liveRegion),this._liveRegionDebouncer=this.register(new a.TimeBasedDebouncer(this._renderRows.bind(this))),!this._terminal.element)throw new Error("Cannot enable accessibility before Terminal.open");this._terminal.element.insertAdjacentElement("afterbegin",this._accessibilityContainer),this.register(this._terminal.onResize(e=>this._handleResize(e.rows))),this.register(this._terminal.onRender(e=>this._refreshRows(e.start,e.end))),this.register(this._terminal.onScroll(()=>this._refreshRows())),this.register(this._terminal.onA11yChar(e=>this._handleChar(e))),this.register(this._terminal.onLineFeed(()=>this._handleChar("\n"))),this.register(this._terminal.onA11yTab(e=>this._handleTab(e))),this.register(this._terminal.onKey(e=>this._handleKey(e.key))),this.register(this._terminal.onBlur(()=>this._clearLiveRegion())),this.register(this._renderService.onDimensionsChange(()=>this._refreshRowsDimensions())),this._screenDprMonitor=new c.ScreenDprMonitor(window),this.register(this._screenDprMonitor),this._screenDprMonitor.setListener(()=>this._refreshRowsDimensions()),this.register((0,u.addDisposableDomListener)(window,"resize",()=>this._refreshRowsDimensions())),this._refreshRows(),this.register((0,l.toDisposable)(()=>{this._accessibilityContainer.remove(),this._rowElements.length=0}))}_handleTab(e){for(let t=0;t<e;t++)this._handleChar(" ")}_handleChar(e){this._liveRegionLineCount<21&&(this._charsToConsume.length>0?this._charsToConsume.shift()!==e&&(this._charsToAnnounce+=e):this._charsToAnnounce+=e,"\n"===e&&(this._liveRegionLineCount++,21===this._liveRegionLineCount&&(this._liveRegion.textContent+=r.tooMuchOutput)),s.isMac&&this._liveRegion.textContent&&this._liveRegion.textContent.length>0&&!this._liveRegion.parentNode&&setTimeout(()=>{this._accessibilityContainer.appendChild(this._liveRegion)},0))}_clearLiveRegion(){this._liveRegion.textContent="",this._liveRegionLineCount=0,s.isMac&&this._liveRegion.remove()}_handleKey(e){this._clearLiveRegion(),/\p{Control}/u.test(e)||this._charsToConsume.push(e)}_refreshRows(e,t){this._liveRegionDebouncer.refresh(e,t,this._terminal.rows)}_renderRows(e,t){const i=this._terminal.buffer,n=i.lines.length.toString();for(let o=e;o<=t;o++){const e=i.translateBufferLineToString(i.ydisp+o,!0),t=(i.ydisp+o+1).toString(),r=this._rowElements[o];r&&(0===e.length?r.innerText="\xa0":r.textContent=e,r.setAttribute("aria-posinset",t),r.setAttribute("aria-setsize",n))}this._announceCharacters()}_announceCharacters(){0!==this._charsToAnnounce.length&&(this._liveRegion.textContent+=this._charsToAnnounce,this._charsToAnnounce="")}_handleBoundaryFocus(e,t){const i=e.target,n=this._rowElements[0===t?1:this._rowElements.length-2];if(i.getAttribute("aria-posinset")===(0===t?"1":`${this._terminal.buffer.lines.length}`)||e.relatedTarget!==n)return;let o,r;if(0===t?(o=i,r=this._rowElements.pop(),this._rowContainer.removeChild(r)):(o=this._rowElements.shift(),r=i,this._rowContainer.removeChild(o)),o.removeEventListener("focus",this._topBoundaryFocusListener),r.removeEventListener("focus",this._bottomBoundaryFocusListener),0===t){const e=this._createAccessibilityTreeNode();this._rowElements.unshift(e),this._rowContainer.insertAdjacentElement("afterbegin",e)}else{const e=this._createAccessibilityTreeNode();this._rowElements.push(e),this._rowContainer.appendChild(e)}this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._terminal.scrollLines(0===t?-1:1),this._rowElements[0===t?1:this._rowElements.length-2].focus(),e.preventDefault(),e.stopImmediatePropagation()}_handleResize(e){this._rowElements[this._rowElements.length-1].removeEventListener("focus",this._bottomBoundaryFocusListener);for(let t=this._rowContainer.children.length;t<this._terminal.rows;t++)this._rowElements[t]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[t]);for(;this._rowElements.length>e;)this._rowContainer.removeChild(this._rowElements.pop());this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions()}_createAccessibilityTreeNode(){const e=document.createElement("div");return e.setAttribute("role","listitem"),e.tabIndex=-1,this._refreshRowDimensions(e),e}_refreshRowsDimensions(){if(this._renderService.dimensions.css.cell.height){this._accessibilityContainer.style.width=`${this._renderService.dimensions.css.canvas.width}px`,this._rowElements.length!==this._terminal.rows&&this._handleResize(this._terminal.rows);for(let e=0;e<this._terminal.rows;e++)this._refreshRowDimensions(this._rowElements[e])}}_refreshRowDimensions(e){e.style.height=`${this._renderService.dimensions.css.cell.height}px`}};t.AccessibilityManager=d=n([o(1,h.IRenderService)],d)},3614:(e,t)=>{function i(e){return e.replace(/\r?\n/g,"\r")}function n(e,t){return t?"\x1b[200~"+e+"\x1b[201~":e}function o(e,t,o,r){e=n(e=i(e),o.decPrivateModes.bracketedPasteMode&&!0!==r.rawOptions.ignoreBracketedPasteMode),o.triggerDataEvent(e,!0),t.value=""}function r(e,t,i){const n=i.getBoundingClientRect(),o=e.clientX-n.left-10,r=e.clientY-n.top-10;t.style.width="20px",t.style.height="20px",t.style.left=`${o}px`,t.style.top=`${r}px`,t.style.zIndex="1000",t.focus()}Object.defineProperty(t,"__esModule",{value:!0}),t.rightClickHandler=t.moveTextAreaUnderMouseCursor=t.paste=t.handlePasteEvent=t.copyHandler=t.bracketTextForPaste=t.prepareTextForTerminal=void 0,t.prepareTextForTerminal=i,t.bracketTextForPaste=n,t.copyHandler=function(e,t){e.clipboardData&&e.clipboardData.setData("text/plain",t.selectionText),e.preventDefault()},t.handlePasteEvent=function(e,t,i,n){e.stopPropagation(),e.clipboardData&&o(e.clipboardData.getData("text/plain"),t,i,n)},t.paste=o,t.moveTextAreaUnderMouseCursor=r,t.rightClickHandler=function(e,t,i,n,o){r(e,t,i),o&&n.rightClickSelect(e),t.value=n.selectionText,t.select()}},7239:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ColorContrastCache=void 0;const n=i(1505);t.ColorContrastCache=class{constructor(){this._color=new n.TwoKeyMap,this._css=new n.TwoKeyMap}setCss(e,t,i){this._css.set(e,t,i)}getCss(e,t){return this._css.get(e,t)}setColor(e,t,i){this._color.set(e,t,i)}getColor(e,t){return this._color.get(e,t)}clear(){this._color.clear(),this._css.clear()}}},3656:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.addDisposableDomListener=void 0,t.addDisposableDomListener=function(e,t,i,n){e.addEventListener(t,i,n);let o=!1;return{dispose:()=>{o||(o=!0,e.removeEventListener(t,i,n))}}}},6465:function(e,t,i){var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__param||function(e,t){return function(i,n){t(i,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.Linkifier2=void 0;const r=i(3656),s=i(8460),a=i(844),l=i(2585);let c=t.Linkifier2=class extends a.Disposable{get currentLink(){return this._currentLink}constructor(e){super(),this._bufferService=e,this._linkProviders=[],this._linkCacheDisposables=[],this._isMouseOut=!0,this._wasResized=!1,this._activeLine=-1,this._onShowLinkUnderline=this.register(new s.EventEmitter),this.onShowLinkUnderline=this._onShowLinkUnderline.event,this._onHideLinkUnderline=this.register(new s.EventEmitter),this.onHideLinkUnderline=this._onHideLinkUnderline.event,this.register((0,a.getDisposeArrayDisposable)(this._linkCacheDisposables)),this.register((0,a.toDisposable)(()=>{this._lastMouseEvent=void 0})),this.register(this._bufferService.onResize(()=>{this._clearCurrentLink(),this._wasResized=!0}))}registerLinkProvider(e){return this._linkProviders.push(e),{dispose:()=>{const t=this._linkProviders.indexOf(e);-1!==t&&this._linkProviders.splice(t,1)}}}attachToDom(e,t,i){this._element=e,this._mouseService=t,this._renderService=i,this.register((0,r.addDisposableDomListener)(this._element,"mouseleave",()=>{this._isMouseOut=!0,this._clearCurrentLink()})),this.register((0,r.addDisposableDomListener)(this._element,"mousemove",this._handleMouseMove.bind(this))),this.register((0,r.addDisposableDomListener)(this._element,"mousedown",this._handleMouseDown.bind(this))),this.register((0,r.addDisposableDomListener)(this._element,"mouseup",this._handleMouseUp.bind(this)))}_handleMouseMove(e){if(this._lastMouseEvent=e,!this._element||!this._mouseService)return;const t=this._positionFromMouseEvent(e,this._element,this._mouseService);if(!t)return;this._isMouseOut=!1;const i=e.composedPath();for(let n=0;n<i.length;n++){const e=i[n];if(e.classList.contains("xterm"))break;if(e.classList.contains("xterm-hover"))return}this._lastBufferCell&&t.x===this._lastBufferCell.x&&t.y===this._lastBufferCell.y||(this._handleHover(t),this._lastBufferCell=t)}_handleHover(e){if(this._activeLine!==e.y||this._wasResized)return this._clearCurrentLink(),this._askForLink(e,!1),void(this._wasResized=!1);this._currentLink&&this._linkAtPosition(this._currentLink.link,e)||(this._clearCurrentLink(),this._askForLink(e,!0))}_askForLink(e,t){var i,n;this._activeProviderReplies&&t||(null===(i=this._activeProviderReplies)||void 0===i||i.forEach(e=>{null==e||e.forEach(e=>{e.link.dispose&&e.link.dispose()})}),this._activeProviderReplies=new Map,this._activeLine=e.y);let o=!1;for(const[r,s]of this._linkProviders.entries())t?(null===(n=this._activeProviderReplies)||void 0===n?void 0:n.get(r))&&(o=this._checkLinkProviderResult(r,e,o)):s.provideLinks(e.y,t=>{var i,n;if(this._isMouseOut)return;const s=null==t?void 0:t.map(e=>({link:e}));null===(i=this._activeProviderReplies)||void 0===i||i.set(r,s),o=this._checkLinkProviderResult(r,e,o),(null===(n=this._activeProviderReplies)||void 0===n?void 0:n.size)===this._linkProviders.length&&this._removeIntersectingLinks(e.y,this._activeProviderReplies)})}_removeIntersectingLinks(e,t){const i=new Set;for(let n=0;n<t.size;n++){const o=t.get(n);if(o)for(let t=0;t<o.length;t++){const n=o[t],r=n.link.range.end.y>e?this._bufferService.cols:n.link.range.end.x;for(let s=n.link.range.start.y<e?0:n.link.range.start.x;s<=r;s++){if(i.has(s)){o.splice(t--,1);break}i.add(s)}}}}_checkLinkProviderResult(e,t,i){var n;if(!this._activeProviderReplies)return i;const o=this._activeProviderReplies.get(e);let r=!1;for(let s=0;s<e;s++)this._activeProviderReplies.has(s)&&!this._activeProviderReplies.get(s)||(r=!0);if(!r&&o){const e=o.find(e=>this._linkAtPosition(e.link,t));e&&(i=!0,this._handleNewLink(e))}if(this._activeProviderReplies.size===this._linkProviders.length&&!i)for(let s=0;s<this._activeProviderReplies.size;s++){const e=null===(n=this._activeProviderReplies.get(s))||void 0===n?void 0:n.find(e=>this._linkAtPosition(e.link,t));if(e){i=!0,this._handleNewLink(e);break}}return i}_handleMouseDown(){this._mouseDownLink=this._currentLink}_handleMouseUp(e){if(!this._element||!this._mouseService||!this._currentLink)return;const t=this._positionFromMouseEvent(e,this._element,this._mouseService);t&&this._mouseDownLink===this._currentLink&&this._linkAtPosition(this._currentLink.link,t)&&this._currentLink.link.activate(e,this._currentLink.link.text)}_clearCurrentLink(e,t){this._element&&this._currentLink&&this._lastMouseEvent&&(!e||!t||this._currentLink.link.range.start.y>=e&&this._currentLink.link.range.end.y<=t)&&(this._linkLeave(this._element,this._currentLink.link,this._lastMouseEvent),this._currentLink=void 0,(0,a.disposeArray)(this._linkCacheDisposables))}_handleNewLink(e){if(!this._element||!this._lastMouseEvent||!this._mouseService)return;const t=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);t&&this._linkAtPosition(e.link,t)&&(this._currentLink=e,this._currentLink.state={decorations:{underline:void 0===e.link.decorations||e.link.decorations.underline,pointerCursor:void 0===e.link.decorations||e.link.decorations.pointerCursor},isHovered:!0},this._linkHover(this._element,e.link,this._lastMouseEvent),e.link.decorations={},Object.defineProperties(e.link.decorations,{pointerCursor:{get:()=>{var e,t;return null===(t=null===(e=this._currentLink)||void 0===e?void 0:e.state)||void 0===t?void 0:t.decorations.pointerCursor},set:e=>{var t,i;(null===(t=this._currentLink)||void 0===t?void 0:t.state)&&this._currentLink.state.decorations.pointerCursor!==e&&(this._currentLink.state.decorations.pointerCursor=e,this._currentLink.state.isHovered&&(null===(i=this._element)||void 0===i||i.classList.toggle("xterm-cursor-pointer",e)))}},underline:{get:()=>{var e,t;return null===(t=null===(e=this._currentLink)||void 0===e?void 0:e.state)||void 0===t?void 0:t.decorations.underline},set:t=>{var i,n,o;(null===(i=this._currentLink)||void 0===i?void 0:i.state)&&(null===(o=null===(n=this._currentLink)||void 0===n?void 0:n.state)||void 0===o?void 0:o.decorations.underline)!==t&&(this._currentLink.state.decorations.underline=t,this._currentLink.state.isHovered&&this._fireUnderlineEvent(e.link,t))}}}),this._renderService&&this._linkCacheDisposables.push(this._renderService.onRenderedViewportChange(e=>{if(!this._currentLink)return;const t=0===e.start?0:e.start+1+this._bufferService.buffer.ydisp,i=this._bufferService.buffer.ydisp+1+e.end;if(this._currentLink.link.range.start.y>=t&&this._currentLink.link.range.end.y<=i&&(this._clearCurrentLink(t,i),this._lastMouseEvent&&this._element)){const e=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);e&&this._askForLink(e,!1)}})))}_linkHover(e,t,i){var n;(null===(n=this._currentLink)||void 0===n?void 0:n.state)&&(this._currentLink.state.isHovered=!0,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(t,!0),this._currentLink.state.decorations.pointerCursor&&e.classList.add("xterm-cursor-pointer")),t.hover&&t.hover(i,t.text)}_fireUnderlineEvent(e,t){const i=e.range,n=this._bufferService.buffer.ydisp,o=this._createLinkUnderlineEvent(i.start.x-1,i.start.y-n-1,i.end.x,i.end.y-n-1,void 0);(t?this._onShowLinkUnderline:this._onHideLinkUnderline).fire(o)}_linkLeave(e,t,i){var n;(null===(n=this._currentLink)||void 0===n?void 0:n.state)&&(this._currentLink.state.isHovered=!1,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(t,!1),this._currentLink.state.decorations.pointerCursor&&e.classList.remove("xterm-cursor-pointer")),t.leave&&t.leave(i,t.text)}_linkAtPosition(e,t){const i=t.y*this._bufferService.cols+t.x;return e.range.start.y*this._bufferService.cols+e.range.start.x<=i&&i<=e.range.end.y*this._bufferService.cols+e.range.end.x}_positionFromMouseEvent(e,t,i){const n=i.getCoords(e,t,this._bufferService.cols,this._bufferService.rows);if(n)return{x:n[0],y:n[1]+this._bufferService.buffer.ydisp}}_createLinkUnderlineEvent(e,t,i,n,o){return{x1:e,y1:t,x2:i,y2:n,cols:this._bufferService.cols,fg:o}}};t.Linkifier2=c=n([o(0,l.IBufferService)],c)},9042:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.tooMuchOutput=t.promptLabel=void 0,t.promptLabel="Terminal input",t.tooMuchOutput="Too much output to announce, navigate to rows manually to read"},3730:function(e,t,i){var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__param||function(e,t){return function(i,n){t(i,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.OscLinkProvider=void 0;const r=i(511),s=i(2585);let a=t.OscLinkProvider=class{constructor(e,t,i){this._bufferService=e,this._optionsService=t,this._oscLinkService=i}provideLinks(e,t){var i;const n=this._bufferService.buffer.lines.get(e-1);if(!n)return void t(void 0);const o=[],s=this._optionsService.rawOptions.linkHandler,a=new r.CellData,c=n.getTrimmedLength();let h=-1,u=-1,d=!1;for(let r=0;r<c;r++)if(-1!==u||n.hasContent(r)){if(n.loadCell(r,a),a.hasExtendedAttrs()&&a.extended.urlId){if(-1===u){u=r,h=a.extended.urlId;continue}d=a.extended.urlId!==h}else-1!==u&&(d=!0);if(d||-1!==u&&r===c-1){const t=null===(i=this._oscLinkService.getLinkData(h))||void 0===i?void 0:i.uri;if(t){const i={start:{x:u+1,y:e},end:{x:r+(d||r!==c-1?0:1),y:e}};let n=!1;if(!(null==s?void 0:s.allowNonHttpProtocols))try{const e=new URL(t);["http:","https:"].includes(e.protocol)||(n=!0)}catch(p){n=!0}n||o.push({text:t,range:i,activate:(e,t)=>s?s.activate(e,t,i):l(0,t),hover:(e,t)=>{var n;return null===(n=null==s?void 0:s.hover)||void 0===n?void 0:n.call(s,e,t,i)},leave:(e,t)=>{var n;return null===(n=null==s?void 0:s.leave)||void 0===n?void 0:n.call(s,e,t,i)}})}d=!1,a.hasExtendedAttrs()&&a.extended.urlId?(u=r,h=a.extended.urlId):(u=-1,h=-1)}}t(o)}};function l(e,t){if(confirm(`Do you want to navigate to ${t}?\n\nWARNING: This link could potentially be dangerous`)){const e=window.open();if(e){try{e.opener=null}catch(i){}e.location.href=t}else console.warn("Opening link blocked as opener could not be cleared")}}t.OscLinkProvider=a=n([o(0,s.IBufferService),o(1,s.IOptionsService),o(2,s.IOscLinkService)],a)},6193:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.RenderDebouncer=void 0,t.RenderDebouncer=class{constructor(e,t){this._parentWindow=e,this._renderCallback=t,this._refreshCallbacks=[]}dispose(){this._animationFrame&&(this._parentWindow.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)}addRefreshCallback(e){return this._refreshCallbacks.push(e),this._animationFrame||(this._animationFrame=this._parentWindow.requestAnimationFrame(()=>this._innerRefresh())),this._animationFrame}refresh(e,t,i){this._rowCount=i,e=void 0!==e?e:0,t=void 0!==t?t:this._rowCount-1,this._rowStart=void 0!==this._rowStart?Math.min(this._rowStart,e):e,this._rowEnd=void 0!==this._rowEnd?Math.max(this._rowEnd,t):t,this._animationFrame||(this._animationFrame=this._parentWindow.requestAnimationFrame(()=>this._innerRefresh()))}_innerRefresh(){if(this._animationFrame=void 0,void 0===this._rowStart||void 0===this._rowEnd||void 0===this._rowCount)return void this._runRefreshCallbacks();const e=Math.max(this._rowStart,0),t=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(e,t),this._runRefreshCallbacks()}_runRefreshCallbacks(){for(const e of this._refreshCallbacks)e(0);this._refreshCallbacks=[]}}},5596:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ScreenDprMonitor=void 0;const n=i(844);t.ScreenDprMonitor=class extends n.Disposable{constructor(e){super(),this._parentWindow=e,this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this.register((0,n.toDisposable)(()=>{this.clearListener()}))}setListener(e){this._listener&&this.clearListener(),this._listener=e,this._outerListener=()=>{this._listener&&(this._listener(this._parentWindow.devicePixelRatio,this._currentDevicePixelRatio),this._updateDpr())},this._updateDpr()}_updateDpr(){var e;this._outerListener&&(null===(e=this._resolutionMediaMatchList)||void 0===e||e.removeListener(this._outerListener),this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this._resolutionMediaMatchList=this._parentWindow.matchMedia(`screen and (resolution: ${this._parentWindow.devicePixelRatio}dppx)`),this._resolutionMediaMatchList.addListener(this._outerListener))}clearListener(){this._resolutionMediaMatchList&&this._listener&&this._outerListener&&(this._resolutionMediaMatchList.removeListener(this._outerListener),this._resolutionMediaMatchList=void 0,this._listener=void 0,this._outerListener=void 0)}}},3236:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Terminal=void 0;const n=i(3614),o=i(3656),r=i(6465),s=i(9042),a=i(3730),l=i(1680),c=i(3107),h=i(5744),u=i(2950),d=i(1296),p=i(428),g=i(4269),f=i(5114),m=i(8934),_=i(3230),v=i(9312),y=i(4725),b=i(6731),w=i(8055),A=i(8969),x=i(8460),T=i(844),C=i(6114),Z=i(8437),k=i(2584),S=i(7399),E=i(5941),M=i(9074),O=i(2585),I=i(5435),P=i(4567),R="undefined"!=typeof window?window.document:null;t.Terminal=class extends A.CoreTerminal{get onFocus(){return this._onFocus.event}get onBlur(){return this._onBlur.event}get onA11yChar(){return this._onA11yCharEmitter.event}get onA11yTab(){return this._onA11yTabEmitter.event}get onWillOpen(){return this._onWillOpen.event}constructor(e={}){super(e),this.browser=C,this._keyDownHandled=!1,this._keyDownSeen=!1,this._keyPressHandled=!1,this._unprocessedDeadKey=!1,this._accessibilityManager=this.register(new T.MutableDisposable),this._onCursorMove=this.register(new x.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onKey=this.register(new x.EventEmitter),this.onKey=this._onKey.event,this._onRender=this.register(new x.EventEmitter),this.onRender=this._onRender.event,this._onSelectionChange=this.register(new x.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onTitleChange=this.register(new x.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onBell=this.register(new x.EventEmitter),this.onBell=this._onBell.event,this._onFocus=this.register(new x.EventEmitter),this._onBlur=this.register(new x.EventEmitter),this._onA11yCharEmitter=this.register(new x.EventEmitter),this._onA11yTabEmitter=this.register(new x.EventEmitter),this._onWillOpen=this.register(new x.EventEmitter),this._setup(),this.linkifier2=this.register(this._instantiationService.createInstance(r.Linkifier2)),this.linkifier2.registerLinkProvider(this._instantiationService.createInstance(a.OscLinkProvider)),this._decorationService=this._instantiationService.createInstance(M.DecorationService),this._instantiationService.setService(O.IDecorationService,this._decorationService),this.register(this._inputHandler.onRequestBell(()=>this._onBell.fire())),this.register(this._inputHandler.onRequestRefreshRows((e,t)=>this.refresh(e,t))),this.register(this._inputHandler.onRequestSendFocus(()=>this._reportFocus())),this.register(this._inputHandler.onRequestReset(()=>this.reset())),this.register(this._inputHandler.onRequestWindowsOptionsReport(e=>this._reportWindowsOptions(e))),this.register(this._inputHandler.onColor(e=>this._handleColorEvent(e))),this.register((0,x.forwardEvent)(this._inputHandler.onCursorMove,this._onCursorMove)),this.register((0,x.forwardEvent)(this._inputHandler.onTitleChange,this._onTitleChange)),this.register((0,x.forwardEvent)(this._inputHandler.onA11yChar,this._onA11yCharEmitter)),this.register((0,x.forwardEvent)(this._inputHandler.onA11yTab,this._onA11yTabEmitter)),this.register(this._bufferService.onResize(e=>this._afterResize(e.cols,e.rows))),this.register((0,T.toDisposable)(()=>{var e,t;this._customKeyEventHandler=void 0,null===(t=null===(e=this.element)||void 0===e?void 0:e.parentNode)||void 0===t||t.removeChild(this.element)}))}_handleColorEvent(e){if(this._themeService)for(const t of e){let e,i="";switch(t.index){case 256:e="foreground",i="10";break;case 257:e="background",i="11";break;case 258:e="cursor",i="12";break;default:e="ansi",i="4;"+t.index}switch(t.type){case 0:const n=w.color.toColorRGB("ansi"===e?this._themeService.colors.ansi[t.index]:this._themeService.colors[e]);this.coreService.triggerDataEvent(`${k.C0.ESC}]${i};${(0,E.toRgbString)(n)}${k.C1_ESCAPED.ST}`);break;case 1:if("ansi"===e)this._themeService.modifyColors(e=>e.ansi[t.index]=w.rgba.toColor(...t.color));else{const i=e;this._themeService.modifyColors(e=>e[i]=w.rgba.toColor(...t.color))}break;case 2:this._themeService.restoreColor(t.index)}}}_setup(){super._setup(),this._customKeyEventHandler=void 0}get buffer(){return this.buffers.active}focus(){this.textarea&&this.textarea.focus({preventScroll:!0})}_handleScreenReaderModeOptionChange(e){e?!this._accessibilityManager.value&&this._renderService&&(this._accessibilityManager.value=this._instantiationService.createInstance(P.AccessibilityManager,this)):this._accessibilityManager.clear()}_handleTextAreaFocus(e){this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(k.C0.ESC+"[I"),this.updateCursorStyle(e),this.element.classList.add("focus"),this._showCursor(),this._onFocus.fire()}blur(){var e;return null===(e=this.textarea)||void 0===e?void 0:e.blur()}_handleTextAreaBlur(){this.textarea.value="",this.refresh(this.buffer.y,this.buffer.y),this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(k.C0.ESC+"[O"),this.element.classList.remove("focus"),this._onBlur.fire()}_syncTextArea(){if(!this.textarea||!this.buffer.isCursorInViewport||this._compositionHelper.isComposing||!this._renderService)return;const e=this.buffer.lines.get(this.buffer.ybase+this.buffer.y);if(!e)return;const t=Math.min(this.buffer.x,this.cols-1),i=this._renderService.dimensions.css.cell.height,n=e.getWidth(t),o=this._renderService.dimensions.css.cell.width*n,r=this.buffer.y*this._renderService.dimensions.css.cell.height;this.textarea.style.left=t*this._renderService.dimensions.css.cell.width+"px",this.textarea.style.top=r+"px",this.textarea.style.width=o+"px",this.textarea.style.height=i+"px",this.textarea.style.lineHeight=i+"px",this.textarea.style.zIndex="-5"}_initGlobal(){this._bindKeys(),this.register((0,o.addDisposableDomListener)(this.element,"copy",e=>{this.hasSelection()&&(0,n.copyHandler)(e,this._selectionService)}));const e=e=>(0,n.handlePasteEvent)(e,this.textarea,this.coreService,this.optionsService);this.register((0,o.addDisposableDomListener)(this.textarea,"paste",e)),this.register((0,o.addDisposableDomListener)(this.element,"paste",e)),this.register(C.isFirefox?(0,o.addDisposableDomListener)(this.element,"mousedown",e=>{2===e.button&&(0,n.rightClickHandler)(e,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)}):(0,o.addDisposableDomListener)(this.element,"contextmenu",e=>{(0,n.rightClickHandler)(e,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)})),C.isLinux&&this.register((0,o.addDisposableDomListener)(this.element,"auxclick",e=>{1===e.button&&(0,n.moveTextAreaUnderMouseCursor)(e,this.textarea,this.screenElement)}))}_bindKeys(){this.register((0,o.addDisposableDomListener)(this.textarea,"keyup",e=>this._keyUp(e),!0)),this.register((0,o.addDisposableDomListener)(this.textarea,"keydown",e=>this._keyDown(e),!0)),this.register((0,o.addDisposableDomListener)(this.textarea,"keypress",e=>this._keyPress(e),!0)),this.register((0,o.addDisposableDomListener)(this.textarea,"compositionstart",()=>this._compositionHelper.compositionstart())),this.register((0,o.addDisposableDomListener)(this.textarea,"compositionupdate",e=>this._compositionHelper.compositionupdate(e))),this.register((0,o.addDisposableDomListener)(this.textarea,"compositionend",()=>this._compositionHelper.compositionend())),this.register((0,o.addDisposableDomListener)(this.textarea,"input",e=>this._inputEvent(e),!0)),this.register(this.onRender(()=>this._compositionHelper.updateCompositionElements()))}open(e){var t;if(!e)throw new Error("Terminal requires a parent element.");e.isConnected||this._logService.debug("Terminal.open was called on an element that was not attached to the DOM"),this._document=e.ownerDocument,this.element=this._document.createElement("div"),this.element.dir="ltr",this.element.classList.add("terminal"),this.element.classList.add("xterm"),e.appendChild(this.element);const i=R.createDocumentFragment();this._viewportElement=R.createElement("div"),this._viewportElement.classList.add("xterm-viewport"),i.appendChild(this._viewportElement),this._viewportScrollArea=R.createElement("div"),this._viewportScrollArea.classList.add("xterm-scroll-area"),this._viewportElement.appendChild(this._viewportScrollArea),this.screenElement=R.createElement("div"),this.screenElement.classList.add("xterm-screen"),this._helperContainer=R.createElement("div"),this._helperContainer.classList.add("xterm-helpers"),this.screenElement.appendChild(this._helperContainer),i.appendChild(this.screenElement),this.textarea=R.createElement("textarea"),this.textarea.classList.add("xterm-helper-textarea"),this.textarea.setAttribute("aria-label",s.promptLabel),C.isChromeOS||this.textarea.setAttribute("aria-multiline","false"),this.textarea.setAttribute("autocorrect","off"),this.textarea.setAttribute("autocapitalize","off"),this.textarea.setAttribute("spellcheck","false"),this.textarea.tabIndex=0,this._coreBrowserService=this._instantiationService.createInstance(f.CoreBrowserService,this.textarea,null!==(t=this._document.defaultView)&&void 0!==t?t:window),this._instantiationService.setService(y.ICoreBrowserService,this._coreBrowserService),this.register((0,o.addDisposableDomListener)(this.textarea,"focus",e=>this._handleTextAreaFocus(e))),this.register((0,o.addDisposableDomListener)(this.textarea,"blur",()=>this._handleTextAreaBlur())),this._helperContainer.appendChild(this.textarea),this._charSizeService=this._instantiationService.createInstance(p.CharSizeService,this._document,this._helperContainer),this._instantiationService.setService(y.ICharSizeService,this._charSizeService),this._themeService=this._instantiationService.createInstance(b.ThemeService),this._instantiationService.setService(y.IThemeService,this._themeService),this._characterJoinerService=this._instantiationService.createInstance(g.CharacterJoinerService),this._instantiationService.setService(y.ICharacterJoinerService,this._characterJoinerService),this._renderService=this.register(this._instantiationService.createInstance(_.RenderService,this.rows,this.screenElement)),this._instantiationService.setService(y.IRenderService,this._renderService),this.register(this._renderService.onRenderedViewportChange(e=>this._onRender.fire(e))),this.onResize(e=>this._renderService.resize(e.cols,e.rows)),this._compositionView=R.createElement("div"),this._compositionView.classList.add("composition-view"),this._compositionHelper=this._instantiationService.createInstance(u.CompositionHelper,this.textarea,this._compositionView),this._helperContainer.appendChild(this._compositionView),this.element.appendChild(i);try{this._onWillOpen.fire(this.element)}catch(n){}this._renderService.hasRenderer()||this._renderService.setRenderer(this._createRenderer()),this._mouseService=this._instantiationService.createInstance(m.MouseService),this._instantiationService.setService(y.IMouseService,this._mouseService),this.viewport=this._instantiationService.createInstance(l.Viewport,this._viewportElement,this._viewportScrollArea),this.viewport.onRequestScrollLines(e=>this.scrollLines(e.amount,e.suppressScrollEvent,1)),this.register(this._inputHandler.onRequestSyncScrollBar(()=>this.viewport.syncScrollArea())),this.register(this.viewport),this.register(this.onCursorMove(()=>{this._renderService.handleCursorMove(),this._syncTextArea()})),this.register(this.onResize(()=>this._renderService.handleResize(this.cols,this.rows))),this.register(this.onBlur(()=>this._renderService.handleBlur())),this.register(this.onFocus(()=>this._renderService.handleFocus())),this.register(this._renderService.onDimensionsChange(()=>this.viewport.syncScrollArea())),this._selectionService=this.register(this._instantiationService.createInstance(v.SelectionService,this.element,this.screenElement,this.linkifier2)),this._instantiationService.setService(y.ISelectionService,this._selectionService),this.register(this._selectionService.onRequestScrollLines(e=>this.scrollLines(e.amount,e.suppressScrollEvent))),this.register(this._selectionService.onSelectionChange(()=>this._onSelectionChange.fire())),this.register(this._selectionService.onRequestRedraw(e=>this._renderService.handleSelectionChanged(e.start,e.end,e.columnSelectMode))),this.register(this._selectionService.onLinuxMouseSelection(e=>{this.textarea.value=e,this.textarea.focus(),this.textarea.select()})),this.register(this._onScroll.event(e=>{this.viewport.syncScrollArea(),this._selectionService.refresh()})),this.register((0,o.addDisposableDomListener)(this._viewportElement,"scroll",()=>this._selectionService.refresh())),this.linkifier2.attachToDom(this.screenElement,this._mouseService,this._renderService),this.register(this._instantiationService.createInstance(c.BufferDecorationRenderer,this.screenElement)),this.register((0,o.addDisposableDomListener)(this.element,"mousedown",e=>this._selectionService.handleMouseDown(e))),this.coreMouseService.areMouseEventsActive?(this._selectionService.disable(),this.element.classList.add("enable-mouse-events")):this._selectionService.enable(),this.options.screenReaderMode&&(this._accessibilityManager.value=this._instantiationService.createInstance(P.AccessibilityManager,this)),this.register(this.optionsService.onSpecificOptionChange("screenReaderMode",e=>this._handleScreenReaderModeOptionChange(e))),this.options.overviewRulerWidth&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(h.OverviewRulerRenderer,this._viewportElement,this.screenElement))),this.optionsService.onSpecificOptionChange("overviewRulerWidth",e=>{!this._overviewRulerRenderer&&e&&this._viewportElement&&this.screenElement&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(h.OverviewRulerRenderer,this._viewportElement,this.screenElement)))}),this._charSizeService.measure(),this.refresh(0,this.rows-1),this._initGlobal(),this.bindMouse()}_createRenderer(){return this._instantiationService.createInstance(d.DomRenderer,this.element,this.screenElement,this._viewportElement,this.linkifier2)}bindMouse(){const e=this,t=this.element;function i(t){const i=e._mouseService.getMouseReportCoords(t,e.screenElement);if(!i)return!1;let n,o;switch(t.overrideType||t.type){case"mousemove":o=32,void 0===t.buttons?(n=3,void 0!==t.button&&(n=t.button<3?t.button:3)):n=1&t.buttons?0:4&t.buttons?1:2&t.buttons?2:3;break;case"mouseup":o=0,n=t.button<3?t.button:3;break;case"mousedown":o=1,n=t.button<3?t.button:3;break;case"wheel":if(0===e.viewport.getLinesScrolled(t))return!1;o=t.deltaY<0?0:1,n=4;break;default:return!1}return!(void 0===o||void 0===n||n>4)&&e.coreMouseService.triggerMouseEvent({col:i.col,row:i.row,x:i.x,y:i.y,button:n,action:o,ctrl:t.ctrlKey,alt:t.altKey,shift:t.shiftKey})}const n={mouseup:null,wheel:null,mousedrag:null,mousemove:null},r={mouseup:e=>(i(e),e.buttons||(this._document.removeEventListener("mouseup",n.mouseup),n.mousedrag&&this._document.removeEventListener("mousemove",n.mousedrag)),this.cancel(e)),wheel:e=>(i(e),this.cancel(e,!0)),mousedrag:e=>{e.buttons&&i(e)},mousemove:e=>{e.buttons||i(e)}};this.register(this.coreMouseService.onProtocolChange(e=>{e?("debug"===this.optionsService.rawOptions.logLevel&&this._logService.debug("Binding to mouse events:",this.coreMouseService.explainEvents(e)),this.element.classList.add("enable-mouse-events"),this._selectionService.disable()):(this._logService.debug("Unbinding from mouse events."),this.element.classList.remove("enable-mouse-events"),this._selectionService.enable()),8&e?n.mousemove||(t.addEventListener("mousemove",r.mousemove),n.mousemove=r.mousemove):(t.removeEventListener("mousemove",n.mousemove),n.mousemove=null),16&e?n.wheel||(t.addEventListener("wheel",r.wheel,{passive:!1}),n.wheel=r.wheel):(t.removeEventListener("wheel",n.wheel),n.wheel=null),2&e?n.mouseup||(t.addEventListener("mouseup",r.mouseup),n.mouseup=r.mouseup):(this._document.removeEventListener("mouseup",n.mouseup),t.removeEventListener("mouseup",n.mouseup),n.mouseup=null),4&e?n.mousedrag||(n.mousedrag=r.mousedrag):(this._document.removeEventListener("mousemove",n.mousedrag),n.mousedrag=null)})),this.coreMouseService.activeProtocol=this.coreMouseService.activeProtocol,this.register((0,o.addDisposableDomListener)(t,"mousedown",e=>{if(e.preventDefault(),this.focus(),this.coreMouseService.areMouseEventsActive&&!this._selectionService.shouldForceSelection(e))return i(e),n.mouseup&&this._document.addEventListener("mouseup",n.mouseup),n.mousedrag&&this._document.addEventListener("mousemove",n.mousedrag),this.cancel(e)})),this.register((0,o.addDisposableDomListener)(t,"wheel",e=>{if(!n.wheel){if(!this.buffer.hasScrollback){const t=this.viewport.getLinesScrolled(e);if(0===t)return;const i=k.C0.ESC+(this.coreService.decPrivateModes.applicationCursorKeys?"O":"[")+(e.deltaY<0?"A":"B");let n="";for(let e=0;e<Math.abs(t);e++)n+=i;return this.coreService.triggerDataEvent(n,!0),this.cancel(e,!0)}return this.viewport.handleWheel(e)?this.cancel(e):void 0}},{passive:!1})),this.register((0,o.addDisposableDomListener)(t,"touchstart",e=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchStart(e),this.cancel(e)},{passive:!0})),this.register((0,o.addDisposableDomListener)(t,"touchmove",e=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchMove(e)?void 0:this.cancel(e)},{passive:!1}))}refresh(e,t){var i;null===(i=this._renderService)||void 0===i||i.refreshRows(e,t)}updateCursorStyle(e){var t;(null===(t=this._selectionService)||void 0===t?void 0:t.shouldColumnSelect(e))?this.element.classList.add("column-select"):this.element.classList.remove("column-select")}_showCursor(){this.coreService.isCursorInitialized||(this.coreService.isCursorInitialized=!0,this.refresh(this.buffer.y,this.buffer.y))}scrollLines(e,t,i=0){var n;1===i?(super.scrollLines(e,t,i),this.refresh(0,this.rows-1)):null===(n=this.viewport)||void 0===n||n.scrollLines(e)}paste(e){(0,n.paste)(e,this.textarea,this.coreService,this.optionsService)}attachCustomKeyEventHandler(e){this._customKeyEventHandler=e}registerLinkProvider(e){return this.linkifier2.registerLinkProvider(e)}registerCharacterJoiner(e){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");const t=this._characterJoinerService.register(e);return this.refresh(0,this.rows-1),t}deregisterCharacterJoiner(e){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");this._characterJoinerService.deregister(e)&&this.refresh(0,this.rows-1)}get markers(){return this.buffer.markers}registerMarker(e){return this.buffer.addMarker(this.buffer.ybase+this.buffer.y+e)}registerDecoration(e){return this._decorationService.registerDecoration(e)}hasSelection(){return!!this._selectionService&&this._selectionService.hasSelection}select(e,t,i){this._selectionService.setSelection(e,t,i)}getSelection(){return this._selectionService?this._selectionService.selectionText:""}getSelectionPosition(){if(this._selectionService&&this._selectionService.hasSelection)return{start:{x:this._selectionService.selectionStart[0],y:this._selectionService.selectionStart[1]},end:{x:this._selectionService.selectionEnd[0],y:this._selectionService.selectionEnd[1]}}}clearSelection(){var e;null===(e=this._selectionService)||void 0===e||e.clearSelection()}selectAll(){var e;null===(e=this._selectionService)||void 0===e||e.selectAll()}selectLines(e,t){var i;null===(i=this._selectionService)||void 0===i||i.selectLines(e,t)}_keyDown(e){if(this._keyDownHandled=!1,this._keyDownSeen=!0,this._customKeyEventHandler&&!1===this._customKeyEventHandler(e))return!1;const t=this.browser.isMac&&this.options.macOptionIsMeta&&e.altKey;if(!t&&!this._compositionHelper.keydown(e))return this.options.scrollOnUserInput&&this.buffer.ybase!==this.buffer.ydisp&&this.scrollToBottom(),!1;t||"Dead"!==e.key&&"AltGraph"!==e.key||(this._unprocessedDeadKey=!0);const i=(0,S.evaluateKeyboardEvent)(e,this.coreService.decPrivateModes.applicationCursorKeys,this.browser.isMac,this.options.macOptionIsMeta);if(this.updateCursorStyle(e),3===i.type||2===i.type){const t=this.rows-1;return this.scrollLines(2===i.type?-t:t),this.cancel(e,!0)}return 1===i.type&&this.selectAll(),!!this._isThirdLevelShift(this.browser,e)||(i.cancel&&this.cancel(e,!0),!i.key||!!(e.key&&!e.ctrlKey&&!e.altKey&&!e.metaKey&&1===e.key.length&&e.key.charCodeAt(0)>=65&&e.key.charCodeAt(0)<=90)||(this._unprocessedDeadKey?(this._unprocessedDeadKey=!1,!0):(i.key!==k.C0.ETX&&i.key!==k.C0.CR||(this.textarea.value=""),this._onKey.fire({key:i.key,domEvent:e}),this._showCursor(),this.coreService.triggerDataEvent(i.key,!0),!this.optionsService.rawOptions.screenReaderMode||e.altKey||e.ctrlKey?this.cancel(e,!0):void(this._keyDownHandled=!0))))}_isThirdLevelShift(e,t){const i=e.isMac&&!this.options.macOptionIsMeta&&t.altKey&&!t.ctrlKey&&!t.metaKey||e.isWindows&&t.altKey&&t.ctrlKey&&!t.metaKey||e.isWindows&&t.getModifierState("AltGraph");return"keypress"===t.type?i:i&&(!t.keyCode||t.keyCode>47)}_keyUp(e){var t;this._keyDownSeen=!1,this._customKeyEventHandler&&!1===this._customKeyEventHandler(e)||(16===(t=e).keyCode||17===t.keyCode||18===t.keyCode||this.focus(),this.updateCursorStyle(e),this._keyPressHandled=!1)}_keyPress(e){let t;if(this._keyPressHandled=!1,this._keyDownHandled||this._customKeyEventHandler&&!1===this._customKeyEventHandler(e))return!1;if(this.cancel(e),e.charCode)t=e.charCode;else if(null==e.which)t=e.keyCode;else{if(0===e.which||0===e.charCode)return!1;t=e.which}return!(!t||(e.altKey||e.ctrlKey||e.metaKey)&&!this._isThirdLevelShift(this.browser,e)||(t=String.fromCharCode(t),this._onKey.fire({key:t,domEvent:e}),this._showCursor(),this.coreService.triggerDataEvent(t,!0),this._keyPressHandled=!0,this._unprocessedDeadKey=!1,0))}_inputEvent(e){return!(!e.data||"insertText"!==e.inputType||e.composed&&this._keyDownSeen||this.optionsService.rawOptions.screenReaderMode||this._keyPressHandled||(this._unprocessedDeadKey=!1,this.coreService.triggerDataEvent(e.data,!0),this.cancel(e),0))}resize(e,t){e!==this.cols||t!==this.rows?super.resize(e,t):this._charSizeService&&!this._charSizeService.hasValidSize&&this._charSizeService.measure()}_afterResize(e,t){var i,n;null===(i=this._charSizeService)||void 0===i||i.measure(),null===(n=this.viewport)||void 0===n||n.syncScrollArea(!0)}clear(){var e;if(0!==this.buffer.ybase||0!==this.buffer.y){this.buffer.clearAllMarkers(),this.buffer.lines.set(0,this.buffer.lines.get(this.buffer.ybase+this.buffer.y)),this.buffer.lines.length=1,this.buffer.ydisp=0,this.buffer.ybase=0,this.buffer.y=0;for(let e=1;e<this.rows;e++)this.buffer.lines.push(this.buffer.getBlankLine(Z.DEFAULT_ATTR_DATA));this._onScroll.fire({position:this.buffer.ydisp,source:0}),null===(e=this.viewport)||void 0===e||e.reset(),this.refresh(0,this.rows-1)}}reset(){var e,t;this.options.rows=this.rows,this.options.cols=this.cols;const i=this._customKeyEventHandler;this._setup(),super.reset(),null===(e=this._selectionService)||void 0===e||e.reset(),this._decorationService.reset(),null===(t=this.viewport)||void 0===t||t.reset(),this._customKeyEventHandler=i,this.refresh(0,this.rows-1)}clearTextureAtlas(){var e;null===(e=this._renderService)||void 0===e||e.clearTextureAtlas()}_reportFocus(){var e;(null===(e=this.element)||void 0===e?void 0:e.classList.contains("focus"))?this.coreService.triggerDataEvent(k.C0.ESC+"[I"):this.coreService.triggerDataEvent(k.C0.ESC+"[O")}_reportWindowsOptions(e){if(this._renderService)switch(e){case I.WindowsOptionsReportType.GET_WIN_SIZE_PIXELS:const e=this._renderService.dimensions.css.canvas.width.toFixed(0),t=this._renderService.dimensions.css.canvas.height.toFixed(0);this.coreService.triggerDataEvent(`${k.C0.ESC}[4;${t};${e}t`);break;case I.WindowsOptionsReportType.GET_CELL_SIZE_PIXELS:const i=this._renderService.dimensions.css.cell.width.toFixed(0),n=this._renderService.dimensions.css.cell.height.toFixed(0);this.coreService.triggerDataEvent(`${k.C0.ESC}[6;${n};${i}t`)}}cancel(e,t){if(this.options.cancelEvents||t)return e.preventDefault(),e.stopPropagation(),!1}}},9924:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TimeBasedDebouncer=void 0,t.TimeBasedDebouncer=class{constructor(e,t=1e3){this._renderCallback=e,this._debounceThresholdMS=t,this._lastRefreshMs=0,this._additionalRefreshRequested=!1}dispose(){this._refreshTimeoutID&&clearTimeout(this._refreshTimeoutID)}refresh(e,t,i){this._rowCount=i,e=void 0!==e?e:0,t=void 0!==t?t:this._rowCount-1,this._rowStart=void 0!==this._rowStart?Math.min(this._rowStart,e):e,this._rowEnd=void 0!==this._rowEnd?Math.max(this._rowEnd,t):t;const n=Date.now();if(n-this._lastRefreshMs>=this._debounceThresholdMS)this._lastRefreshMs=n,this._innerRefresh();else if(!this._additionalRefreshRequested){const e=this._debounceThresholdMS-(n-this._lastRefreshMs);this._additionalRefreshRequested=!0,this._refreshTimeoutID=window.setTimeout(()=>{this._lastRefreshMs=Date.now(),this._innerRefresh(),this._additionalRefreshRequested=!1,this._refreshTimeoutID=void 0},e)}}_innerRefresh(){if(void 0===this._rowStart||void 0===this._rowEnd||void 0===this._rowCount)return;const e=Math.max(this._rowStart,0),t=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(e,t)}}},1680:function(e,t,i){var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__param||function(e,t){return function(i,n){t(i,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.Viewport=void 0;const r=i(3656),s=i(4725),a=i(8460),l=i(844),c=i(2585);let h=t.Viewport=class extends l.Disposable{constructor(e,t,i,n,o,s,l,c){super(),this._viewportElement=e,this._scrollArea=t,this._bufferService=i,this._optionsService=n,this._charSizeService=o,this._renderService=s,this._coreBrowserService=l,this.scrollBarWidth=0,this._currentRowHeight=0,this._currentDeviceCellHeight=0,this._lastRecordedBufferLength=0,this._lastRecordedViewportHeight=0,this._lastRecordedBufferHeight=0,this._lastTouchY=0,this._lastScrollTop=0,this._wheelPartialScroll=0,this._refreshAnimationFrame=null,this._ignoreNextScrollEvent=!1,this._smoothScrollState={startTime:0,origin:-1,target:-1},this._onRequestScrollLines=this.register(new a.EventEmitter),this.onRequestScrollLines=this._onRequestScrollLines.event,this.scrollBarWidth=this._viewportElement.offsetWidth-this._scrollArea.offsetWidth||15,this.register((0,r.addDisposableDomListener)(this._viewportElement,"scroll",this._handleScroll.bind(this))),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate(e=>this._activeBuffer=e.activeBuffer)),this._renderDimensions=this._renderService.dimensions,this.register(this._renderService.onDimensionsChange(e=>this._renderDimensions=e)),this._handleThemeChange(c.colors),this.register(c.onChangeColors(e=>this._handleThemeChange(e))),this.register(this._optionsService.onSpecificOptionChange("scrollback",()=>this.syncScrollArea())),setTimeout(()=>this.syncScrollArea())}_handleThemeChange(e){this._viewportElement.style.backgroundColor=e.background.css}reset(){this._currentRowHeight=0,this._currentDeviceCellHeight=0,this._lastRecordedBufferLength=0,this._lastRecordedViewportHeight=0,this._lastRecordedBufferHeight=0,this._lastTouchY=0,this._lastScrollTop=0,this._coreBrowserService.window.requestAnimationFrame(()=>this.syncScrollArea())}_refresh(e){if(e)return this._innerRefresh(),void(null!==this._refreshAnimationFrame&&this._coreBrowserService.window.cancelAnimationFrame(this._refreshAnimationFrame));null===this._refreshAnimationFrame&&(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._innerRefresh()))}_innerRefresh(){if(this._charSizeService.height>0){this._currentRowHeight=this._renderService.dimensions.device.cell.height/this._coreBrowserService.dpr,this._currentDeviceCellHeight=this._renderService.dimensions.device.cell.height,this._lastRecordedViewportHeight=this._viewportElement.offsetHeight;const e=Math.round(this._currentRowHeight*this._lastRecordedBufferLength)+(this._lastRecordedViewportHeight-this._renderService.dimensions.css.canvas.height);this._lastRecordedBufferHeight!==e&&(this._lastRecordedBufferHeight=e,this._scrollArea.style.height=this._lastRecordedBufferHeight+"px")}const e=this._bufferService.buffer.ydisp*this._currentRowHeight;this._viewportElement.scrollTop!==e&&(this._ignoreNextScrollEvent=!0,this._viewportElement.scrollTop=e),this._refreshAnimationFrame=null}syncScrollArea(e=!1){if(this._lastRecordedBufferLength!==this._bufferService.buffer.lines.length)return this._lastRecordedBufferLength=this._bufferService.buffer.lines.length,void this._refresh(e);this._lastRecordedViewportHeight===this._renderService.dimensions.css.canvas.height&&this._lastScrollTop===this._activeBuffer.ydisp*this._currentRowHeight&&this._renderDimensions.device.cell.height===this._currentDeviceCellHeight||this._refresh(e)}_handleScroll(e){if(this._lastScrollTop=this._viewportElement.scrollTop,!this._viewportElement.offsetParent)return;if(this._ignoreNextScrollEvent)return this._ignoreNextScrollEvent=!1,void this._onRequestScrollLines.fire({amount:0,suppressScrollEvent:!0});const t=Math.round(this._lastScrollTop/this._currentRowHeight)-this._bufferService.buffer.ydisp;this._onRequestScrollLines.fire({amount:t,suppressScrollEvent:!0})}_smoothScroll(){if(this._isDisposed||-1===this._smoothScrollState.origin||-1===this._smoothScrollState.target)return;const e=this._smoothScrollPercent();this._viewportElement.scrollTop=this._smoothScrollState.origin+Math.round(e*(this._smoothScrollState.target-this._smoothScrollState.origin)),e<1?this._coreBrowserService.window.requestAnimationFrame(()=>this._smoothScroll()):this._clearSmoothScrollState()}_smoothScrollPercent(){return this._optionsService.rawOptions.smoothScrollDuration&&this._smoothScrollState.startTime?Math.max(Math.min((Date.now()-this._smoothScrollState.startTime)/this._optionsService.rawOptions.smoothScrollDuration,1),0):1}_clearSmoothScrollState(){this._smoothScrollState.startTime=0,this._smoothScrollState.origin=-1,this._smoothScrollState.target=-1}_bubbleScroll(e,t){return!(t<0&&0!==this._viewportElement.scrollTop||t>0&&this._viewportElement.scrollTop+this._lastRecordedViewportHeight<this._lastRecordedBufferHeight)||(e.cancelable&&e.preventDefault(),!1)}handleWheel(e){const t=this._getPixelsScrolled(e);return 0!==t&&(this._optionsService.rawOptions.smoothScrollDuration?(this._smoothScrollState.startTime=Date.now(),this._smoothScrollPercent()<1?(this._smoothScrollState.origin=this._viewportElement.scrollTop,-1===this._smoothScrollState.target?this._smoothScrollState.target=this._viewportElement.scrollTop+t:this._smoothScrollState.target+=t,this._smoothScrollState.target=Math.max(Math.min(this._smoothScrollState.target,this._viewportElement.scrollHeight),0),this._smoothScroll()):this._clearSmoothScrollState()):this._viewportElement.scrollTop+=t,this._bubbleScroll(e,t))}scrollLines(e){if(0!==e)if(this._optionsService.rawOptions.smoothScrollDuration){const t=e*this._currentRowHeight;this._smoothScrollState.startTime=Date.now(),this._smoothScrollPercent()<1?(this._smoothScrollState.origin=this._viewportElement.scrollTop,this._smoothScrollState.target=this._smoothScrollState.origin+t,this._smoothScrollState.target=Math.max(Math.min(this._smoothScrollState.target,this._viewportElement.scrollHeight),0),this._smoothScroll()):this._clearSmoothScrollState()}else this._onRequestScrollLines.fire({amount:e,suppressScrollEvent:!1})}_getPixelsScrolled(e){if(0===e.deltaY||e.shiftKey)return 0;let t=this._applyScrollModifier(e.deltaY,e);return e.deltaMode===WheelEvent.DOM_DELTA_LINE?t*=this._currentRowHeight:e.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(t*=this._currentRowHeight*this._bufferService.rows),t}getBufferElements(e,t){var i;let n,o="";const r=[],s=null!=t?t:this._bufferService.buffer.lines.length,a=this._bufferService.buffer.lines;for(let l=e;l<s;l++){const e=a.get(l);if(!e)continue;const t=null===(i=a.get(l+1))||void 0===i?void 0:i.isWrapped;if(o+=e.translateToString(!t),!t||l===a.length-1){const e=document.createElement("div");e.textContent=o,r.push(e),o.length>0&&(n=e),o=""}}return{bufferElements:r,cursorElement:n}}getLinesScrolled(e){if(0===e.deltaY||e.shiftKey)return 0;let t=this._applyScrollModifier(e.deltaY,e);return e.deltaMode===WheelEvent.DOM_DELTA_PIXEL?(t/=this._currentRowHeight+0,this._wheelPartialScroll+=t,t=Math.floor(Math.abs(this._wheelPartialScroll))*(this._wheelPartialScroll>0?1:-1),this._wheelPartialScroll%=1):e.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(t*=this._bufferService.rows),t}_applyScrollModifier(e,t){const i=this._optionsService.rawOptions.fastScrollModifier;return"alt"===i&&t.altKey||"ctrl"===i&&t.ctrlKey||"shift"===i&&t.shiftKey?e*this._optionsService.rawOptions.fastScrollSensitivity*this._optionsService.rawOptions.scrollSensitivity:e*this._optionsService.rawOptions.scrollSensitivity}handleTouchStart(e){this._lastTouchY=e.touches[0].pageY}handleTouchMove(e){const t=this._lastTouchY-e.touches[0].pageY;return this._lastTouchY=e.touches[0].pageY,0!==t&&(this._viewportElement.scrollTop+=t,this._bubbleScroll(e,t))}};t.Viewport=h=n([o(2,c.IBufferService),o(3,c.IOptionsService),o(4,s.ICharSizeService),o(5,s.IRenderService),o(6,s.ICoreBrowserService),o(7,s.IThemeService)],h)},3107:function(e,t,i){var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__param||function(e,t){return function(i,n){t(i,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.BufferDecorationRenderer=void 0;const r=i(3656),s=i(4725),a=i(844),l=i(2585);let c=t.BufferDecorationRenderer=class extends a.Disposable{constructor(e,t,i,n){super(),this._screenElement=e,this._bufferService=t,this._decorationService=i,this._renderService=n,this._decorationElements=new Map,this._altBufferIsActive=!1,this._dimensionsChanged=!1,this._container=document.createElement("div"),this._container.classList.add("xterm-decoration-container"),this._screenElement.appendChild(this._container),this.register(this._renderService.onRenderedViewportChange(()=>this._doRefreshDecorations())),this.register(this._renderService.onDimensionsChange(()=>{this._dimensionsChanged=!0,this._queueRefresh()})),this.register((0,r.addDisposableDomListener)(window,"resize",()=>this._queueRefresh())),this.register(this._bufferService.buffers.onBufferActivate(()=>{this._altBufferIsActive=this._bufferService.buffer===this._bufferService.buffers.alt})),this.register(this._decorationService.onDecorationRegistered(()=>this._queueRefresh())),this.register(this._decorationService.onDecorationRemoved(e=>this._removeDecoration(e))),this.register((0,a.toDisposable)(()=>{this._container.remove(),this._decorationElements.clear()}))}_queueRefresh(){void 0===this._animationFrame&&(this._animationFrame=this._renderService.addRefreshCallback(()=>{this._doRefreshDecorations(),this._animationFrame=void 0}))}_doRefreshDecorations(){for(const e of this._decorationService.decorations)this._renderDecoration(e);this._dimensionsChanged=!1}_renderDecoration(e){this._refreshStyle(e),this._dimensionsChanged&&this._refreshXPosition(e)}_createElement(e){var t,i;const n=document.createElement("div");n.classList.add("xterm-decoration"),n.classList.toggle("xterm-decoration-top-layer","top"===(null===(t=null==e?void 0:e.options)||void 0===t?void 0:t.layer)),n.style.width=`${Math.round((e.options.width||1)*this._renderService.dimensions.css.cell.width)}px`,n.style.height=(e.options.height||1)*this._renderService.dimensions.css.cell.height+"px",n.style.top=(e.marker.line-this._bufferService.buffers.active.ydisp)*this._renderService.dimensions.css.cell.height+"px",n.style.lineHeight=`${this._renderService.dimensions.css.cell.height}px`;const o=null!==(i=e.options.x)&&void 0!==i?i:0;return o&&o>this._bufferService.cols&&(n.style.display="none"),this._refreshXPosition(e,n),n}_refreshStyle(e){const t=e.marker.line-this._bufferService.buffers.active.ydisp;if(t<0||t>=this._bufferService.rows)e.element&&(e.element.style.display="none",e.onRenderEmitter.fire(e.element));else{let i=this._decorationElements.get(e);i||(i=this._createElement(e),e.element=i,this._decorationElements.set(e,i),this._container.appendChild(i),e.onDispose(()=>{this._decorationElements.delete(e),i.remove()})),i.style.top=t*this._renderService.dimensions.css.cell.height+"px",i.style.display=this._altBufferIsActive?"none":"block",e.onRenderEmitter.fire(i)}}_refreshXPosition(e,t=e.element){var i;if(!t)return;const n=null!==(i=e.options.x)&&void 0!==i?i:0;"right"===(e.options.anchor||"left")?t.style.right=n?n*this._renderService.dimensions.css.cell.width+"px":"":t.style.left=n?n*this._renderService.dimensions.css.cell.width+"px":""}_removeDecoration(e){var t;null===(t=this._decorationElements.get(e))||void 0===t||t.remove(),this._decorationElements.delete(e),e.dispose()}};t.BufferDecorationRenderer=c=n([o(1,l.IBufferService),o(2,l.IDecorationService),o(3,s.IRenderService)],c)},5871:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ColorZoneStore=void 0,t.ColorZoneStore=class{constructor(){this._zones=[],this._zonePool=[],this._zonePoolIndex=0,this._linePadding={full:0,left:0,center:0,right:0}}get zones(){return this._zonePool.length=Math.min(this._zonePool.length,this._zones.length),this._zones}clear(){this._zones.length=0,this._zonePoolIndex=0}addDecoration(e){if(e.options.overviewRulerOptions){for(const t of this._zones)if(t.color===e.options.overviewRulerOptions.color&&t.position===e.options.overviewRulerOptions.position){if(this._lineIntersectsZone(t,e.marker.line))return;if(this._lineAdjacentToZone(t,e.marker.line,e.options.overviewRulerOptions.position))return void this._addLineToZone(t,e.marker.line)}if(this._zonePoolIndex<this._zonePool.length)return this._zonePool[this._zonePoolIndex].color=e.options.overviewRulerOptions.color,this._zonePool[this._zonePoolIndex].position=e.options.overviewRulerOptions.position,this._zonePool[this._zonePoolIndex].startBufferLine=e.marker.line,this._zonePool[this._zonePoolIndex].endBufferLine=e.marker.line,void this._zones.push(this._zonePool[this._zonePoolIndex++]);this._zones.push({color:e.options.overviewRulerOptions.color,position:e.options.overviewRulerOptions.position,startBufferLine:e.marker.line,endBufferLine:e.marker.line}),this._zonePool.push(this._zones[this._zones.length-1]),this._zonePoolIndex++}}setPadding(e){this._linePadding=e}_lineIntersectsZone(e,t){return t>=e.startBufferLine&&t<=e.endBufferLine}_lineAdjacentToZone(e,t,i){return t>=e.startBufferLine-this._linePadding[i||"full"]&&t<=e.endBufferLine+this._linePadding[i||"full"]}_addLineToZone(e,t){e.startBufferLine=Math.min(e.startBufferLine,t),e.endBufferLine=Math.max(e.endBufferLine,t)}}},5744:function(e,t,i){var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__param||function(e,t){return function(i,n){t(i,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.OverviewRulerRenderer=void 0;const r=i(5871),s=i(3656),a=i(4725),l=i(844),c=i(2585),h={full:0,left:0,center:0,right:0},u={full:0,left:0,center:0,right:0},d={full:0,left:0,center:0,right:0};let p=t.OverviewRulerRenderer=class extends l.Disposable{get _width(){return this._optionsService.options.overviewRulerWidth||0}constructor(e,t,i,n,o,s,a){var c;super(),this._viewportElement=e,this._screenElement=t,this._bufferService=i,this._decorationService=n,this._renderService=o,this._optionsService=s,this._coreBrowseService=a,this._colorZoneStore=new r.ColorZoneStore,this._shouldUpdateDimensions=!0,this._shouldUpdateAnchor=!0,this._lastKnownBufferLength=0,this._canvas=document.createElement("canvas"),this._canvas.classList.add("xterm-decoration-overview-ruler"),this._refreshCanvasDimensions(),null===(c=this._viewportElement.parentElement)||void 0===c||c.insertBefore(this._canvas,this._viewportElement);const h=this._canvas.getContext("2d");if(!h)throw new Error("Ctx cannot be null");this._ctx=h,this._registerDecorationListeners(),this._registerBufferChangeListeners(),this._registerDimensionChangeListeners(),this.register((0,l.toDisposable)(()=>{var e;null===(e=this._canvas)||void 0===e||e.remove()}))}_registerDecorationListeners(){this.register(this._decorationService.onDecorationRegistered(()=>this._queueRefresh(void 0,!0))),this.register(this._decorationService.onDecorationRemoved(()=>this._queueRefresh(void 0,!0)))}_registerBufferChangeListeners(){this.register(this._renderService.onRenderedViewportChange(()=>this._queueRefresh())),this.register(this._bufferService.buffers.onBufferActivate(()=>{this._canvas.style.display=this._bufferService.buffer===this._bufferService.buffers.alt?"none":"block"})),this.register(this._bufferService.onScroll(()=>{this._lastKnownBufferLength!==this._bufferService.buffers.normal.lines.length&&(this._refreshDrawHeightConstants(),this._refreshColorZonePadding())}))}_registerDimensionChangeListeners(){this.register(this._renderService.onRender(()=>{this._containerHeight&&this._containerHeight===this._screenElement.clientHeight||(this._queueRefresh(!0),this._containerHeight=this._screenElement.clientHeight)})),this.register(this._optionsService.onSpecificOptionChange("overviewRulerWidth",()=>this._queueRefresh(!0))),this.register((0,s.addDisposableDomListener)(this._coreBrowseService.window,"resize",()=>this._queueRefresh(!0))),this._queueRefresh(!0)}_refreshDrawConstants(){const e=Math.floor(this._canvas.width/3),t=Math.ceil(this._canvas.width/3);u.full=this._canvas.width,u.left=e,u.center=t,u.right=e,this._refreshDrawHeightConstants(),d.full=0,d.left=0,d.center=u.left,d.right=u.left+u.center}_refreshDrawHeightConstants(){h.full=Math.round(2*this._coreBrowseService.dpr);const e=Math.round(Math.max(Math.min(this._canvas.height/this._bufferService.buffer.lines.length,12),6)*this._coreBrowseService.dpr);h.left=e,h.center=e,h.right=e}_refreshColorZonePadding(){this._colorZoneStore.setPadding({full:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*h.full),left:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*h.left),center:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*h.center),right:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*h.right)}),this._lastKnownBufferLength=this._bufferService.buffers.normal.lines.length}_refreshCanvasDimensions(){this._canvas.style.width=`${this._width}px`,this._canvas.width=Math.round(this._width*this._coreBrowseService.dpr),this._canvas.style.height=`${this._screenElement.clientHeight}px`,this._canvas.height=Math.round(this._screenElement.clientHeight*this._coreBrowseService.dpr),this._refreshDrawConstants(),this._refreshColorZonePadding()}_refreshDecorations(){this._shouldUpdateDimensions&&this._refreshCanvasDimensions(),this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height),this._colorZoneStore.clear();for(const t of this._decorationService.decorations)this._colorZoneStore.addDecoration(t);this._ctx.lineWidth=1;const e=this._colorZoneStore.zones;for(const t of e)"full"!==t.position&&this._renderColorZone(t);for(const t of e)"full"===t.position&&this._renderColorZone(t);this._shouldUpdateDimensions=!1,this._shouldUpdateAnchor=!1}_renderColorZone(e){this._ctx.fillStyle=e.color,this._ctx.fillRect(d[e.position||"full"],Math.round(e.startBufferLine/this._bufferService.buffers.active.lines.length*(this._canvas.height-1)-h[e.position||"full"]/2),u[e.position||"full"],Math.round((e.endBufferLine-e.startBufferLine)/this._bufferService.buffers.active.lines.length*(this._canvas.height-1)+h[e.position||"full"]))}_queueRefresh(e,t){this._shouldUpdateDimensions=e||this._shouldUpdateDimensions,this._shouldUpdateAnchor=t||this._shouldUpdateAnchor,void 0===this._animationFrame&&(this._animationFrame=this._coreBrowseService.window.requestAnimationFrame(()=>{this._refreshDecorations(),this._animationFrame=void 0}))}};t.OverviewRulerRenderer=p=n([o(2,c.IBufferService),o(3,c.IDecorationService),o(4,a.IRenderService),o(5,c.IOptionsService),o(6,a.ICoreBrowserService)],p)},2950:function(e,t,i){var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__param||function(e,t){return function(i,n){t(i,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.CompositionHelper=void 0;const r=i(4725),s=i(2585),a=i(2584);let l=t.CompositionHelper=class{get isComposing(){return this._isComposing}constructor(e,t,i,n,o,r){this._textarea=e,this._compositionView=t,this._bufferService=i,this._optionsService=n,this._coreService=o,this._renderService=r,this._isComposing=!1,this._isSendingComposition=!1,this._compositionPosition={start:0,end:0},this._dataAlreadySent=""}compositionstart(){this._isComposing=!0,this._compositionPosition.start=this._textarea.value.length,this._compositionView.textContent="",this._dataAlreadySent="",this._compositionView.classList.add("active")}compositionupdate(e){this._compositionView.textContent=e.data,this.updateCompositionElements(),setTimeout(()=>{this._compositionPosition.end=this._textarea.value.length},0)}compositionend(){this._finalizeComposition(!0)}keydown(e){if(this._isComposing||this._isSendingComposition){if(229===e.keyCode||16===e.keyCode||17===e.keyCode||18===e.keyCode)return!1;this._finalizeComposition(!1)}return 229!==e.keyCode||(this._handleAnyTextareaChanges(),!1)}_finalizeComposition(e){if(this._compositionView.classList.remove("active"),this._isComposing=!1,e){const e={start:this._compositionPosition.start,end:this._compositionPosition.end};this._isSendingComposition=!0,setTimeout(()=>{if(this._isSendingComposition){let t;this._isSendingComposition=!1,e.start+=this._dataAlreadySent.length,t=this._isComposing?this._textarea.value.substring(e.start,e.end):this._textarea.value.substring(e.start),t.length>0&&this._coreService.triggerDataEvent(t,!0)}},0)}else{this._isSendingComposition=!1;const e=this._textarea.value.substring(this._compositionPosition.start,this._compositionPosition.end);this._coreService.triggerDataEvent(e,!0)}}_handleAnyTextareaChanges(){const e=this._textarea.value;setTimeout(()=>{if(!this._isComposing){const t=this._textarea.value,i=t.replace(e,"");this._dataAlreadySent=i,t.length>e.length?this._coreService.triggerDataEvent(i,!0):t.length<e.length?this._coreService.triggerDataEvent(`${a.C0.DEL}`,!0):t.length===e.length&&t!==e&&this._coreService.triggerDataEvent(t,!0)}},0)}updateCompositionElements(e){if(this._isComposing){if(this._bufferService.buffer.isCursorInViewport){const e=Math.min(this._bufferService.buffer.x,this._bufferService.cols-1),t=this._renderService.dimensions.css.cell.height,i=this._bufferService.buffer.y*this._renderService.dimensions.css.cell.height,n=e*this._renderService.dimensions.css.cell.width;this._compositionView.style.left=n+"px",this._compositionView.style.top=i+"px",this._compositionView.style.height=t+"px",this._compositionView.style.lineHeight=t+"px",this._compositionView.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._compositionView.style.fontSize=this._optionsService.rawOptions.fontSize+"px";const o=this._compositionView.getBoundingClientRect();this._textarea.style.left=n+"px",this._textarea.style.top=i+"px",this._textarea.style.width=Math.max(o.width,1)+"px",this._textarea.style.height=Math.max(o.height,1)+"px",this._textarea.style.lineHeight=o.height+"px"}e||setTimeout(()=>this.updateCompositionElements(!0),0)}}};t.CompositionHelper=l=n([o(2,s.IBufferService),o(3,s.IOptionsService),o(4,s.ICoreService),o(5,r.IRenderService)],l)},9806:(e,t)=>{function i(e,t,i){const n=i.getBoundingClientRect(),o=e.getComputedStyle(i),r=parseInt(o.getPropertyValue("padding-left")),s=parseInt(o.getPropertyValue("padding-top"));return[t.clientX-n.left-r,t.clientY-n.top-s]}Object.defineProperty(t,"__esModule",{value:!0}),t.getCoords=t.getCoordsRelativeToElement=void 0,t.getCoordsRelativeToElement=i,t.getCoords=function(e,t,n,o,r,s,a,l,c){if(!s)return;const h=i(e,t,n);return h?(h[0]=Math.ceil((h[0]+(c?a/2:0))/a),h[1]=Math.ceil(h[1]/l),h[0]=Math.min(Math.max(h[0],1),o+(c?1:0)),h[1]=Math.min(Math.max(h[1],1),r),h):void 0}},9504:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.moveToCellSequence=void 0;const n=i(2584);function o(e,t,i,n){const o=e-r(e,i),a=t-r(t,i);return c(Math.abs(o-a)-function(e,t,i){let n=0;const o=e-r(e,i),a=t-r(t,i);for(let r=0;r<Math.abs(o-a);r++){const a="A"===s(e,t)?-1:1,l=i.buffer.lines.get(o+a*r);(null==l?void 0:l.isWrapped)&&n++}return n}(e,t,i),l(s(e,t),n))}function r(e,t){let i=0,n=t.buffer.lines.get(e),o=null==n?void 0:n.isWrapped;for(;o&&e>=0&&e<t.rows;)i++,n=t.buffer.lines.get(--e),o=null==n?void 0:n.isWrapped;return i}function s(e,t){return e>t?"A":"B"}function a(e,t,i,n,o,r){let s=e,a=t,l="";for(;s!==i||a!==n;)s+=o?1:-1,o&&s>r.cols-1?(l+=r.buffer.translateBufferLineToString(a,!1,e,s),s=0,e=0,a++):!o&&s<0&&(l+=r.buffer.translateBufferLineToString(a,!1,0,e+1),s=r.cols-1,e=s,a--);return l+r.buffer.translateBufferLineToString(a,!1,e,s)}function l(e,t){return n.C0.ESC+(t?"O":"[")+e}function c(e,t){e=Math.floor(e);let i="";for(let n=0;n<e;n++)i+=t;return i}t.moveToCellSequence=function(e,t,i,n){const s=i.buffer.x,h=i.buffer.y;if(!i.buffer.hasScrollback)return u=s,(0===o(d=h,t,p=i,g=n).length?"":c(a(u,d,u,d-r(d,p),!1,p).length,l("D",g)))+o(h,t,i,n)+function(e,t,i,n,s,h){let u;u=o(t,n,s,h).length>0?n-r(n,s):t;const d=n,p=function(e,t,i,n,s,a){let l;return l=o(i,n,s,a).length>0?n-r(n,s):t,e<i&&l<=n||e>=i&&l<n?"C":"D"}(e,t,i,n,s,h);return c(a(e,u,i,d,"C"===p,s).length,l(p,h))}(s,h,e,t,i,n);var u,d,p,g;let f;if(h===t)return f=s>e?"D":"C",c(Math.abs(s-e),l(f,n));f=h>t?"D":"C";const m=Math.abs(h-t);return c(function(e,t){return t.cols-e}(h>t?e:s,i)+(m-1)*i.cols+1+((h>t?s:e)-1),l(f,n))}},1296:function(e,t,i){var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__param||function(e,t){return function(i,n){t(i,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.DomRenderer=void 0;const r=i(3787),s=i(2550),a=i(2223),l=i(6171),c=i(4725),h=i(8055),u=i(8460),d=i(844),p=i(2585),g="xterm-dom-renderer-owner-",f="xterm-rows",m="xterm-fg-",_="xterm-bg-",v="xterm-focus",y="xterm-selection";let b=1,w=t.DomRenderer=class extends d.Disposable{constructor(e,t,i,n,o,a,c,h,p,m){super(),this._element=e,this._screenElement=t,this._viewportElement=i,this._linkifier2=n,this._charSizeService=a,this._optionsService=c,this._bufferService=h,this._coreBrowserService=p,this._themeService=m,this._terminalClass=b++,this._rowElements=[],this.onRequestRedraw=this.register(new u.EventEmitter).event,this._rowContainer=document.createElement("div"),this._rowContainer.classList.add(f),this._rowContainer.style.lineHeight="normal",this._rowContainer.setAttribute("aria-hidden","true"),this._refreshRowElements(this._bufferService.cols,this._bufferService.rows),this._selectionContainer=document.createElement("div"),this._selectionContainer.classList.add(y),this._selectionContainer.setAttribute("aria-hidden","true"),this.dimensions=(0,l.createRenderDimensions)(),this._updateDimensions(),this.register(this._optionsService.onOptionChange(()=>this._handleOptionsChanged())),this.register(this._themeService.onChangeColors(e=>this._injectCss(e))),this._injectCss(this._themeService.colors),this._rowFactory=o.createInstance(r.DomRendererRowFactory,document),this._element.classList.add(g+this._terminalClass),this._screenElement.appendChild(this._rowContainer),this._screenElement.appendChild(this._selectionContainer),this.register(this._linkifier2.onShowLinkUnderline(e=>this._handleLinkHover(e))),this.register(this._linkifier2.onHideLinkUnderline(e=>this._handleLinkLeave(e))),this.register((0,d.toDisposable)(()=>{this._element.classList.remove(g+this._terminalClass),this._rowContainer.remove(),this._selectionContainer.remove(),this._widthCache.dispose(),this._themeStyleElement.remove(),this._dimensionsStyleElement.remove()})),this._widthCache=new s.WidthCache(document),this._widthCache.setFont(this._optionsService.rawOptions.fontFamily,this._optionsService.rawOptions.fontSize,this._optionsService.rawOptions.fontWeight,this._optionsService.rawOptions.fontWeightBold),this._setDefaultSpacing()}_updateDimensions(){const e=this._coreBrowserService.dpr;this.dimensions.device.char.width=this._charSizeService.width*e,this.dimensions.device.char.height=Math.ceil(this._charSizeService.height*e),this.dimensions.device.cell.width=this.dimensions.device.char.width+Math.round(this._optionsService.rawOptions.letterSpacing),this.dimensions.device.cell.height=Math.floor(this.dimensions.device.char.height*this._optionsService.rawOptions.lineHeight),this.dimensions.device.char.left=0,this.dimensions.device.char.top=0,this.dimensions.device.canvas.width=this.dimensions.device.cell.width*this._bufferService.cols,this.dimensions.device.canvas.height=this.dimensions.device.cell.height*this._bufferService.rows,this.dimensions.css.canvas.width=Math.round(this.dimensions.device.canvas.width/e),this.dimensions.css.canvas.height=Math.round(this.dimensions.device.canvas.height/e),this.dimensions.css.cell.width=this.dimensions.css.canvas.width/this._bufferService.cols,this.dimensions.css.cell.height=this.dimensions.css.canvas.height/this._bufferService.rows;for(const t of this._rowElements)t.style.width=`${this.dimensions.css.canvas.width}px`,t.style.height=`${this.dimensions.css.cell.height}px`,t.style.lineHeight=`${this.dimensions.css.cell.height}px`,t.style.overflow="hidden";this._dimensionsStyleElement||(this._dimensionsStyleElement=document.createElement("style"),this._screenElement.appendChild(this._dimensionsStyleElement)),this._dimensionsStyleElement.textContent=`${this._terminalSelector} .${f} span { display: inline-block; height: 100%; vertical-align: top;}`,this._selectionContainer.style.height=this._viewportElement.style.height,this._screenElement.style.width=`${this.dimensions.css.canvas.width}px`,this._screenElement.style.height=`${this.dimensions.css.canvas.height}px`}_injectCss(e){this._themeStyleElement||(this._themeStyleElement=document.createElement("style"),this._screenElement.appendChild(this._themeStyleElement));let t=`${this._terminalSelector} .${f} { color: ${e.foreground.css}; font-family: ${this._optionsService.rawOptions.fontFamily}; font-size: ${this._optionsService.rawOptions.fontSize}px; font-kerning: none; white-space: pre}`;t+=`${this._terminalSelector} .${f} .xterm-dim { color: ${h.color.multiplyOpacity(e.foreground,.5).css};}`,t+=`${this._terminalSelector} span:not(.xterm-bold) { font-weight: ${this._optionsService.rawOptions.fontWeight};}${this._terminalSelector} span.xterm-bold { font-weight: ${this._optionsService.rawOptions.fontWeightBold};}${this._terminalSelector} span.xterm-italic { font-style: italic;}`,t+="@keyframes blink_box_shadow_"+this._terminalClass+" { 50% {  border-bottom-style: hidden; }}",t+="@keyframes blink_block_"+this._terminalClass+` { 0% {  background-color: ${e.cursor.css};  color: ${e.cursorAccent.css}; } 50% {  background-color: inherit;  color: ${e.cursor.css}; }}`,t+=`${this._terminalSelector} .${f}.${v} .xterm-cursor.xterm-cursor-blink:not(.xterm-cursor-block) { animation: blink_box_shadow_`+this._terminalClass+` 1s step-end infinite;}${this._terminalSelector} .${f}.${v} .xterm-cursor.xterm-cursor-blink.xterm-cursor-block { animation: blink_block_`+this._terminalClass+` 1s step-end infinite;}${this._terminalSelector} .${f} .xterm-cursor.xterm-cursor-block { background-color: ${e.cursor.css}; color: ${e.cursorAccent.css};}${this._terminalSelector} .${f} .xterm-cursor.xterm-cursor-outline { outline: 1px solid ${e.cursor.css}; outline-offset: -1px;}${this._terminalSelector} .${f} .xterm-cursor.xterm-cursor-bar { box-shadow: ${this._optionsService.rawOptions.cursorWidth}px 0 0 ${e.cursor.css} inset;}${this._terminalSelector} .${f} .xterm-cursor.xterm-cursor-underline { border-bottom: 1px ${e.cursor.css}; border-bottom-style: solid; height: calc(100% - 1px);}`,t+=`${this._terminalSelector} .${y} { position: absolute; top: 0; left: 0; z-index: 1; pointer-events: none;}${this._terminalSelector}.focus .${y} div { position: absolute; background-color: ${e.selectionBackgroundOpaque.css};}${this._terminalSelector} .${y} div { position: absolute; background-color: ${e.selectionInactiveBackgroundOpaque.css};}`;for(const[i,n]of e.ansi.entries())t+=`${this._terminalSelector} .${m}${i} { color: ${n.css}; }${this._terminalSelector} .${m}${i}.xterm-dim { color: ${h.color.multiplyOpacity(n,.5).css}; }${this._terminalSelector} .${_}${i} { background-color: ${n.css}; }`;t+=`${this._terminalSelector} .${m}${a.INVERTED_DEFAULT_COLOR} { color: ${h.color.opaque(e.background).css}; }${this._terminalSelector} .${m}${a.INVERTED_DEFAULT_COLOR}.xterm-dim { color: ${h.color.multiplyOpacity(h.color.opaque(e.background),.5).css}; }${this._terminalSelector} .${_}${a.INVERTED_DEFAULT_COLOR} { background-color: ${e.foreground.css}; }`,this._themeStyleElement.textContent=t}_setDefaultSpacing(){const e=this.dimensions.css.cell.width-this._widthCache.get("W",!1,!1);this._rowContainer.style.letterSpacing=`${e}px`,this._rowFactory.defaultSpacing=e}handleDevicePixelRatioChange(){this._updateDimensions(),this._widthCache.clear(),this._setDefaultSpacing()}_refreshRowElements(e,t){for(let i=this._rowElements.length;i<=t;i++){const e=document.createElement("div");this._rowContainer.appendChild(e),this._rowElements.push(e)}for(;this._rowElements.length>t;)this._rowContainer.removeChild(this._rowElements.pop())}handleResize(e,t){this._refreshRowElements(e,t),this._updateDimensions()}handleCharSizeChanged(){this._updateDimensions(),this._widthCache.clear(),this._setDefaultSpacing()}handleBlur(){this._rowContainer.classList.remove(v)}handleFocus(){this._rowContainer.classList.add(v),this.renderRows(this._bufferService.buffer.y,this._bufferService.buffer.y)}handleSelectionChanged(e,t,i){if(this._selectionContainer.replaceChildren(),this._rowFactory.handleSelectionChanged(e,t,i),this.renderRows(0,this._bufferService.rows-1),!e||!t)return;const n=e[1]-this._bufferService.buffer.ydisp,o=t[1]-this._bufferService.buffer.ydisp,r=Math.max(n,0),s=Math.min(o,this._bufferService.rows-1);if(r>=this._bufferService.rows||s<0)return;const a=document.createDocumentFragment();if(i){const i=e[0]>t[0];a.appendChild(this._createSelectionElement(r,i?t[0]:e[0],i?e[0]:t[0],s-r+1))}else a.appendChild(this._createSelectionElement(r,n===r?e[0]:0,r===o?t[0]:this._bufferService.cols)),a.appendChild(this._createSelectionElement(r+1,0,this._bufferService.cols,s-r-1)),r!==s&&a.appendChild(this._createSelectionElement(s,0,o===s?t[0]:this._bufferService.cols));this._selectionContainer.appendChild(a)}_createSelectionElement(e,t,i,n=1){const o=document.createElement("div");return o.style.height=n*this.dimensions.css.cell.height+"px",o.style.top=e*this.dimensions.css.cell.height+"px",o.style.left=t*this.dimensions.css.cell.width+"px",o.style.width=this.dimensions.css.cell.width*(i-t)+"px",o}handleCursorMove(){}_handleOptionsChanged(){this._updateDimensions(),this._injectCss(this._themeService.colors),this._widthCache.setFont(this._optionsService.rawOptions.fontFamily,this._optionsService.rawOptions.fontSize,this._optionsService.rawOptions.fontWeight,this._optionsService.rawOptions.fontWeightBold),this._setDefaultSpacing()}clear(){for(const e of this._rowElements)e.replaceChildren()}renderRows(e,t){const i=this._bufferService.buffer,n=i.ybase+i.y,o=Math.min(i.x,this._bufferService.cols-1),r=this._optionsService.rawOptions.cursorBlink,s=this._optionsService.rawOptions.cursorStyle,a=this._optionsService.rawOptions.cursorInactiveStyle;for(let l=e;l<=t;l++){const e=l+i.ydisp,t=this._rowElements[l],c=i.lines.get(e);if(!t||!c)break;t.replaceChildren(...this._rowFactory.createRow(c,e,e===n,s,a,o,r,this.dimensions.css.cell.width,this._widthCache,-1,-1))}}get _terminalSelector(){return`.${g}${this._terminalClass}`}_handleLinkHover(e){this._setCellUnderline(e.x1,e.x2,e.y1,e.y2,e.cols,!0)}_handleLinkLeave(e){this._setCellUnderline(e.x1,e.x2,e.y1,e.y2,e.cols,!1)}_setCellUnderline(e,t,i,n,o,r){i<0&&(e=0),n<0&&(t=0);const s=this._bufferService.rows-1;i=Math.max(Math.min(i,s),0),n=Math.max(Math.min(n,s),0),o=Math.min(o,this._bufferService.cols);const a=this._bufferService.buffer,l=a.ybase+a.y,c=Math.min(a.x,o-1),h=this._optionsService.rawOptions.cursorBlink,u=this._optionsService.rawOptions.cursorStyle,d=this._optionsService.rawOptions.cursorInactiveStyle;for(let p=i;p<=n;++p){const s=p+a.ydisp,g=this._rowElements[p],f=a.lines.get(s);if(!g||!f)break;g.replaceChildren(...this._rowFactory.createRow(f,s,s===l,u,d,c,h,this.dimensions.css.cell.width,this._widthCache,r?p===i?e:0:-1,r?(p===n?t:o)-1:-1))}}};t.DomRenderer=w=n([o(4,p.IInstantiationService),o(5,c.ICharSizeService),o(6,p.IOptionsService),o(7,p.IBufferService),o(8,c.ICoreBrowserService),o(9,c.IThemeService)],w)},3787:function(e,t,i){var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__param||function(e,t){return function(i,n){t(i,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.DomRendererRowFactory=void 0;const r=i(2223),s=i(643),a=i(511),l=i(2585),c=i(8055),h=i(4725),u=i(4269),d=i(6171),p=i(3734);let g=t.DomRendererRowFactory=class{constructor(e,t,i,n,o,r,s){this._document=e,this._characterJoinerService=t,this._optionsService=i,this._coreBrowserService=n,this._coreService=o,this._decorationService=r,this._themeService=s,this._workCell=new a.CellData,this._columnSelectMode=!1,this.defaultSpacing=0}handleSelectionChanged(e,t,i){this._selectionStart=e,this._selectionEnd=t,this._columnSelectMode=i}createRow(e,t,i,n,o,a,l,h,d,g,m){const _=[],v=this._characterJoinerService.getJoinedCharacters(t),y=this._themeService.colors;let b,w=e.getNoBgTrimmedLength();i&&w<a+1&&(w=a+1);let A=0,x="",T=0,C=0,Z=0,k=!1,S=0,E=!1,M=0;const O=[],I=-1!==g&&-1!==m;for(let P=0;P<w;P++){e.loadCell(P,this._workCell);let w=this._workCell.getWidth();if(0===w)continue;let R=!1,q=P,L=this._workCell;if(v.length>0&&P===v[0][0]){R=!0;const t=v.shift();L=new u.JoinedCellData(this._workCell,e.translateToString(!0,t[0],t[1]),t[1]-t[0]),q=t[1]-1,w=L.getWidth()}const U=this._isCellInSelection(P,t),B=i&&P===a,D=I&&P>=g&&P<=m;let N=!1;this._decorationService.forEachDecorationAtCell(P,t,void 0,e=>{N=!0});let F=L.getChars()||s.WHITESPACE_CELL_CHAR;if(" "===F&&(L.isUnderline()||L.isOverline())&&(F="\xa0"),M=w*h-d.get(F,L.isBold(),L.isItalic()),b){if(A&&(U&&E||!U&&!E&&L.bg===T)&&(U&&E&&y.selectionForeground||L.fg===C)&&L.extended.ext===Z&&D===k&&M===S&&!B&&!R&&!N){x+=F,A++;continue}A&&(b.textContent=x),b=this._document.createElement("span"),A=0,x=""}else b=this._document.createElement("span");if(T=L.bg,C=L.fg,Z=L.extended.ext,k=D,S=M,E=U,R&&a>=P&&a<=q&&(a=P),!this._coreService.isCursorHidden&&B)if(O.push("xterm-cursor"),this._coreBrowserService.isFocused)l&&O.push("xterm-cursor-blink"),O.push("bar"===n?"xterm-cursor-bar":"underline"===n?"xterm-cursor-underline":"xterm-cursor-block");else if(o)switch(o){case"outline":O.push("xterm-cursor-outline");break;case"block":O.push("xterm-cursor-block");break;case"bar":O.push("xterm-cursor-bar");break;case"underline":O.push("xterm-cursor-underline")}if(L.isBold()&&O.push("xterm-bold"),L.isItalic()&&O.push("xterm-italic"),L.isDim()&&O.push("xterm-dim"),x=L.isInvisible()?s.WHITESPACE_CELL_CHAR:L.getChars()||s.WHITESPACE_CELL_CHAR,L.isUnderline()&&(O.push(`xterm-underline-${L.extended.underlineStyle}`)," "===x&&(x="\xa0"),!L.isUnderlineColorDefault()))if(L.isUnderlineColorRGB())b.style.textDecorationColor=`rgb(${p.AttributeData.toColorRGB(L.getUnderlineColor()).join(",")})`;else{let e=L.getUnderlineColor();this._optionsService.rawOptions.drawBoldTextInBrightColors&&L.isBold()&&e<8&&(e+=8),b.style.textDecorationColor=y.ansi[e].css}L.isOverline()&&(O.push("xterm-overline")," "===x&&(x="\xa0")),L.isStrikethrough()&&O.push("xterm-strikethrough"),D&&(b.style.textDecoration="underline");let H=L.getFgColor(),$=L.getFgColorMode(),z=L.getBgColor(),V=L.getBgColorMode();const K=!!L.isInverse();if(K){const e=H;H=z,z=e;const t=$;$=V,V=t}let W,G,Y,j=!1;switch(this._decorationService.forEachDecorationAtCell(P,t,void 0,e=>{"top"!==e.options.layer&&j||(e.backgroundColorRGB&&(V=50331648,z=e.backgroundColorRGB.rgba>>8&16777215,W=e.backgroundColorRGB),e.foregroundColorRGB&&($=50331648,H=e.foregroundColorRGB.rgba>>8&16777215,G=e.foregroundColorRGB),j="top"===e.options.layer)}),!j&&U&&(W=this._coreBrowserService.isFocused?y.selectionBackgroundOpaque:y.selectionInactiveBackgroundOpaque,z=W.rgba>>8&16777215,V=50331648,j=!0,y.selectionForeground&&($=50331648,H=y.selectionForeground.rgba>>8&16777215,G=y.selectionForeground)),j&&O.push("xterm-decoration-top"),V){case 16777216:case 33554432:Y=y.ansi[z],O.push(`xterm-bg-${z}`);break;case 50331648:Y=c.rgba.toColor(z>>16,z>>8&255,255&z),this._addStyle(b,`background-color:#${f((z>>>0).toString(16),"0",6)}`);break;default:K?(Y=y.foreground,O.push(`xterm-bg-${r.INVERTED_DEFAULT_COLOR}`)):Y=y.background}switch(W||L.isDim()&&(W=c.color.multiplyOpacity(Y,.5)),$){case 16777216:case 33554432:L.isBold()&&H<8&&this._optionsService.rawOptions.drawBoldTextInBrightColors&&(H+=8),this._applyMinimumContrast(b,Y,y.ansi[H],L,W,void 0)||O.push(`xterm-fg-${H}`);break;case 50331648:const e=c.rgba.toColor(H>>16&255,H>>8&255,255&H);this._applyMinimumContrast(b,Y,e,L,W,G)||this._addStyle(b,`color:#${f(H.toString(16),"0",6)}`);break;default:this._applyMinimumContrast(b,Y,y.foreground,L,W,void 0)||K&&O.push(`xterm-fg-${r.INVERTED_DEFAULT_COLOR}`)}O.length&&(b.className=O.join(" "),O.length=0),B||R||N?b.textContent=x:A++,M!==this.defaultSpacing&&(b.style.letterSpacing=`${M}px`),_.push(b),P=q}return b&&A&&(b.textContent=x),_}_applyMinimumContrast(e,t,i,n,o,r){if(1===this._optionsService.rawOptions.minimumContrastRatio||(0,d.excludeFromContrastRatioDemands)(n.getCode()))return!1;const s=this._getContrastCache(n);let a;if(o||r||(a=s.getColor(t.rgba,i.rgba)),void 0===a){const e=this._optionsService.rawOptions.minimumContrastRatio/(n.isDim()?2:1);a=c.color.ensureContrastRatio(o||t,r||i,e),s.setColor((o||t).rgba,(r||i).rgba,null!=a?a:null)}return!!a&&(this._addStyle(e,`color:${a.css}`),!0)}_getContrastCache(e){return e.isDim()?this._themeService.colors.halfContrastCache:this._themeService.colors.contrastCache}_addStyle(e,t){e.setAttribute("style",`${e.getAttribute("style")||""}${t};`)}_isCellInSelection(e,t){const i=this._selectionStart,n=this._selectionEnd;return!(!i||!n)&&(this._columnSelectMode?i[0]<=n[0]?e>=i[0]&&t>=i[1]&&e<n[0]&&t<=n[1]:e<i[0]&&t>=i[1]&&e>=n[0]&&t<=n[1]:t>i[1]&&t<n[1]||i[1]===n[1]&&t===i[1]&&e>=i[0]&&e<n[0]||i[1]<n[1]&&t===n[1]&&e<n[0]||i[1]<n[1]&&t===i[1]&&e>=i[0])}};function f(e,t,i){for(;e.length<i;)e=t+e;return e}t.DomRendererRowFactory=g=n([o(1,h.ICharacterJoinerService),o(2,l.IOptionsService),o(3,h.ICoreBrowserService),o(4,l.ICoreService),o(5,l.IDecorationService),o(6,h.IThemeService)],g)},2550:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.WidthCache=void 0,t.WidthCache=class{constructor(e){this._flat=new Float32Array(256),this._font="",this._fontSize=0,this._weight="normal",this._weightBold="bold",this._measureElements=[],this._container=e.createElement("div"),this._container.style.position="absolute",this._container.style.top="-50000px",this._container.style.width="50000px",this._container.style.whiteSpace="pre",this._container.style.fontKerning="none";const t=e.createElement("span"),i=e.createElement("span");i.style.fontWeight="bold";const n=e.createElement("span");n.style.fontStyle="italic";const o=e.createElement("span");o.style.fontWeight="bold",o.style.fontStyle="italic",this._measureElements=[t,i,n,o],this._container.appendChild(t),this._container.appendChild(i),this._container.appendChild(n),this._container.appendChild(o),e.body.appendChild(this._container),this.clear()}dispose(){this._container.remove(),this._measureElements.length=0,this._holey=void 0}clear(){this._flat.fill(-9999),this._holey=new Map}setFont(e,t,i,n){e===this._font&&t===this._fontSize&&i===this._weight&&n===this._weightBold||(this._font=e,this._fontSize=t,this._weight=i,this._weightBold=n,this._container.style.fontFamily=this._font,this._container.style.fontSize=`${this._fontSize}px`,this._measureElements[0].style.fontWeight=`${i}`,this._measureElements[1].style.fontWeight=`${n}`,this._measureElements[2].style.fontWeight=`${i}`,this._measureElements[3].style.fontWeight=`${n}`,this.clear())}get(e,t,i){let n=0;if(!t&&!i&&1===e.length&&(n=e.charCodeAt(0))<256)return-9999!==this._flat[n]?this._flat[n]:this._flat[n]=this._measure(e,0);let o=e;t&&(o+="B"),i&&(o+="I");let r=this._holey.get(o);if(void 0===r){let n=0;t&&(n|=1),i&&(n|=2),r=this._measure(e,n),this._holey.set(o,r)}return r}_measure(e,t){const i=this._measureElements[t];return i.textContent=e.repeat(32),i.offsetWidth/32}}},2223:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TEXT_BASELINE=t.DIM_OPACITY=t.INVERTED_DEFAULT_COLOR=void 0;const n=i(6114);t.INVERTED_DEFAULT_COLOR=257,t.DIM_OPACITY=.5,t.TEXT_BASELINE=n.isFirefox||n.isLegacyEdge?"bottom":"ideographic"},6171:(e,t)=>{function i(e){return 57508<=e&&e<=57558}Object.defineProperty(t,"__esModule",{value:!0}),t.createRenderDimensions=t.excludeFromContrastRatioDemands=t.isRestrictedPowerlineGlyph=t.isPowerlineGlyph=t.throwIfFalsy=void 0,t.throwIfFalsy=function(e){if(!e)throw new Error("value must not be falsy");return e},t.isPowerlineGlyph=i,t.isRestrictedPowerlineGlyph=function(e){return 57520<=e&&e<=57527},t.excludeFromContrastRatioDemands=function(e){return i(e)||9472<=(t=e)&&t<=9631;var t},t.createRenderDimensions=function(){return{css:{canvas:{width:0,height:0},cell:{width:0,height:0}},device:{canvas:{width:0,height:0},cell:{width:0,height:0},char:{width:0,height:0,left:0,top:0}}}}},456:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SelectionModel=void 0,t.SelectionModel=class{constructor(e){this._bufferService=e,this.isSelectAllActive=!1,this.selectionStartLength=0}clearSelection(){this.selectionStart=void 0,this.selectionEnd=void 0,this.isSelectAllActive=!1,this.selectionStartLength=0}get finalSelectionStart(){return this.isSelectAllActive?[0,0]:this.selectionEnd&&this.selectionStart&&this.areSelectionValuesReversed()?this.selectionEnd:this.selectionStart}get finalSelectionEnd(){if(this.isSelectAllActive)return[this._bufferService.cols,this._bufferService.buffer.ybase+this._bufferService.rows-1];if(this.selectionStart){if(!this.selectionEnd||this.areSelectionValuesReversed()){const e=this.selectionStart[0]+this.selectionStartLength;return e>this._bufferService.cols?e%this._bufferService.cols==0?[this._bufferService.cols,this.selectionStart[1]+Math.floor(e/this._bufferService.cols)-1]:[e%this._bufferService.cols,this.selectionStart[1]+Math.floor(e/this._bufferService.cols)]:[e,this.selectionStart[1]]}if(this.selectionStartLength&&this.selectionEnd[1]===this.selectionStart[1]){const e=this.selectionStart[0]+this.selectionStartLength;return e>this._bufferService.cols?[e%this._bufferService.cols,this.selectionStart[1]+Math.floor(e/this._bufferService.cols)]:[Math.max(e,this.selectionEnd[0]),this.selectionEnd[1]]}return this.selectionEnd}}areSelectionValuesReversed(){const e=this.selectionStart,t=this.selectionEnd;return!(!e||!t)&&(e[1]>t[1]||e[1]===t[1]&&e[0]>t[0])}handleTrim(e){return this.selectionStart&&(this.selectionStart[1]-=e),this.selectionEnd&&(this.selectionEnd[1]-=e),this.selectionEnd&&this.selectionEnd[1]<0?(this.clearSelection(),!0):(this.selectionStart&&this.selectionStart[1]<0&&(this.selectionStart[1]=0),!1)}}},428:function(e,t,i){var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__param||function(e,t){return function(i,n){t(i,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.CharSizeService=void 0;const r=i(2585),s=i(8460),a=i(844);let l=t.CharSizeService=class extends a.Disposable{get hasValidSize(){return this.width>0&&this.height>0}constructor(e,t,i){super(),this._optionsService=i,this.width=0,this.height=0,this._onCharSizeChange=this.register(new s.EventEmitter),this.onCharSizeChange=this._onCharSizeChange.event,this._measureStrategy=new c(e,t,this._optionsService),this.register(this._optionsService.onMultipleOptionChange(["fontFamily","fontSize"],()=>this.measure()))}measure(){const e=this._measureStrategy.measure();e.width===this.width&&e.height===this.height||(this.width=e.width,this.height=e.height,this._onCharSizeChange.fire())}};t.CharSizeService=l=n([o(2,r.IOptionsService)],l);class c{constructor(e,t,i){this._document=e,this._parentElement=t,this._optionsService=i,this._result={width:0,height:0},this._measureElement=this._document.createElement("span"),this._measureElement.classList.add("xterm-char-measure-element"),this._measureElement.textContent="W".repeat(32),this._measureElement.setAttribute("aria-hidden","true"),this._measureElement.style.whiteSpace="pre",this._measureElement.style.fontKerning="none",this._parentElement.appendChild(this._measureElement)}measure(){this._measureElement.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._measureElement.style.fontSize=`${this._optionsService.rawOptions.fontSize}px`;const e={height:Number(this._measureElement.offsetHeight),width:Number(this._measureElement.offsetWidth)};return 0!==e.width&&0!==e.height&&(this._result.width=e.width/32,this._result.height=Math.ceil(e.height)),this._result}}},4269:function(e,t,i){var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__param||function(e,t){return function(i,n){t(i,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.CharacterJoinerService=t.JoinedCellData=void 0;const r=i(3734),s=i(643),a=i(511),l=i(2585);t.JoinedCellData=class extends r.AttributeData{constructor(e,t,i){super(),this.content=0,this.combinedData="",this.fg=e.fg,this.bg=e.bg,this.combinedData=t,this._width=i}isCombined(){return 2097152}getWidth(){return this._width}getChars(){return this.combinedData}getCode(){return 2097151}setFromCharData(e){throw new Error("not implemented")}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}};let c=t.CharacterJoinerService=class e{constructor(e){this._bufferService=e,this._characterJoiners=[],this._nextCharacterJoinerId=0,this._workCell=new a.CellData}register(e){const t={id:this._nextCharacterJoinerId++,handler:e};return this._characterJoiners.push(t),t.id}deregister(e){for(let t=0;t<this._characterJoiners.length;t++)if(this._characterJoiners[t].id===e)return this._characterJoiners.splice(t,1),!0;return!1}getJoinedCharacters(e){if(0===this._characterJoiners.length)return[];const t=this._bufferService.buffer.lines.get(e);if(!t||0===t.length)return[];const i=[],n=t.translateToString(!0);let o=0,r=0,a=0,l=t.getFg(0),c=t.getBg(0);for(let h=0;h<t.getTrimmedLength();h++)if(t.loadCell(h,this._workCell),0!==this._workCell.getWidth()){if(this._workCell.fg!==l||this._workCell.bg!==c){if(h-o>1){const e=this._getJoinedRanges(n,a,r,t,o);for(let t=0;t<e.length;t++)i.push(e[t])}o=h,a=r,l=this._workCell.fg,c=this._workCell.bg}r+=this._workCell.getChars().length||s.WHITESPACE_CELL_CHAR.length}if(this._bufferService.cols-o>1){const e=this._getJoinedRanges(n,a,r,t,o);for(let t=0;t<e.length;t++)i.push(e[t])}return i}_getJoinedRanges(t,i,n,o,r){const s=t.substring(i,n);let a=[];try{a=this._characterJoiners[0].handler(s)}catch(l){console.error(l)}for(let h=1;h<this._characterJoiners.length;h++)try{const t=this._characterJoiners[h].handler(s);for(let i=0;i<t.length;i++)e._mergeRanges(a,t[i])}catch(c){console.error(c)}return this._stringRangesToCellRanges(a,o,r),a}_stringRangesToCellRanges(e,t,i){let n=0,o=!1,r=0,a=e[n];if(a){for(let l=i;l<this._bufferService.cols;l++){const i=t.getWidth(l),c=t.getString(l).length||s.WHITESPACE_CELL_CHAR.length;if(0!==i){if(!o&&a[0]<=r&&(a[0]=l,o=!0),a[1]<=r){if(a[1]=l,a=e[++n],!a)break;a[0]<=r?(a[0]=l,o=!0):o=!1}r+=c}}a&&(a[1]=this._bufferService.cols)}}static _mergeRanges(e,t){let i=!1;for(let n=0;n<e.length;n++){const o=e[n];if(i){if(t[1]<=o[0])return e[n-1][1]=t[1],e;if(t[1]<=o[1])return e[n-1][1]=Math.max(t[1],o[1]),e.splice(n,1),e;e.splice(n,1),n--}else{if(t[1]<=o[0])return e.splice(n,0,t),e;if(t[1]<=o[1])return o[0]=Math.min(t[0],o[0]),e;t[0]<o[1]&&(o[0]=Math.min(t[0],o[0]),i=!0)}}return i?e[e.length-1][1]=t[1]:e.push(t),e}};t.CharacterJoinerService=c=n([o(0,l.IBufferService)],c)},5114:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CoreBrowserService=void 0,t.CoreBrowserService=class{constructor(e,t){this._textarea=e,this.window=t,this._isFocused=!1,this._cachedIsFocused=void 0,this._textarea.addEventListener("focus",()=>this._isFocused=!0),this._textarea.addEventListener("blur",()=>this._isFocused=!1)}get dpr(){return this.window.devicePixelRatio}get isFocused(){return void 0===this._cachedIsFocused&&(this._cachedIsFocused=this._isFocused&&this._textarea.ownerDocument.hasFocus(),queueMicrotask(()=>this._cachedIsFocused=void 0)),this._cachedIsFocused}}},8934:function(e,t,i){var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__param||function(e,t){return function(i,n){t(i,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.MouseService=void 0;const r=i(4725),s=i(9806);let a=t.MouseService=class{constructor(e,t){this._renderService=e,this._charSizeService=t}getCoords(e,t,i,n,o){return(0,s.getCoords)(window,e,t,i,n,this._charSizeService.hasValidSize,this._renderService.dimensions.css.cell.width,this._renderService.dimensions.css.cell.height,o)}getMouseReportCoords(e,t){const i=(0,s.getCoordsRelativeToElement)(window,e,t);if(this._charSizeService.hasValidSize)return i[0]=Math.min(Math.max(i[0],0),this._renderService.dimensions.css.canvas.width-1),i[1]=Math.min(Math.max(i[1],0),this._renderService.dimensions.css.canvas.height-1),{col:Math.floor(i[0]/this._renderService.dimensions.css.cell.width),row:Math.floor(i[1]/this._renderService.dimensions.css.cell.height),x:Math.floor(i[0]),y:Math.floor(i[1])}}};t.MouseService=a=n([o(0,r.IRenderService),o(1,r.ICharSizeService)],a)},3230:function(e,t,i){var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__param||function(e,t){return function(i,n){t(i,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.RenderService=void 0;const r=i(3656),s=i(6193),a=i(5596),l=i(4725),c=i(8460),h=i(844),u=i(7226),d=i(2585);let p=t.RenderService=class extends h.Disposable{get dimensions(){return this._renderer.value.dimensions}constructor(e,t,i,n,o,l,d,p){if(super(),this._rowCount=e,this._charSizeService=n,this._renderer=this.register(new h.MutableDisposable),this._pausedResizeTask=new u.DebouncedIdleTask,this._isPaused=!1,this._needsFullRefresh=!1,this._isNextRenderRedrawOnly=!0,this._needsSelectionRefresh=!1,this._canvasWidth=0,this._canvasHeight=0,this._selectionState={start:void 0,end:void 0,columnSelectMode:!1},this._onDimensionsChange=this.register(new c.EventEmitter),this.onDimensionsChange=this._onDimensionsChange.event,this._onRenderedViewportChange=this.register(new c.EventEmitter),this.onRenderedViewportChange=this._onRenderedViewportChange.event,this._onRender=this.register(new c.EventEmitter),this.onRender=this._onRender.event,this._onRefreshRequest=this.register(new c.EventEmitter),this.onRefreshRequest=this._onRefreshRequest.event,this._renderDebouncer=new s.RenderDebouncer(d.window,(e,t)=>this._renderRows(e,t)),this.register(this._renderDebouncer),this._screenDprMonitor=new a.ScreenDprMonitor(d.window),this._screenDprMonitor.setListener(()=>this.handleDevicePixelRatioChange()),this.register(this._screenDprMonitor),this.register(l.onResize(()=>this._fullRefresh())),this.register(l.buffers.onBufferActivate(()=>{var e;return null===(e=this._renderer.value)||void 0===e?void 0:e.clear()})),this.register(i.onOptionChange(()=>this._handleOptionsChanged())),this.register(this._charSizeService.onCharSizeChange(()=>this.handleCharSizeChanged())),this.register(o.onDecorationRegistered(()=>this._fullRefresh())),this.register(o.onDecorationRemoved(()=>this._fullRefresh())),this.register(i.onMultipleOptionChange(["customGlyphs","drawBoldTextInBrightColors","letterSpacing","lineHeight","fontFamily","fontSize","fontWeight","fontWeightBold","minimumContrastRatio"],()=>{this.clear(),this.handleResize(l.cols,l.rows),this._fullRefresh()})),this.register(i.onMultipleOptionChange(["cursorBlink","cursorStyle"],()=>this.refreshRows(l.buffer.y,l.buffer.y,!0))),this.register((0,r.addDisposableDomListener)(d.window,"resize",()=>this.handleDevicePixelRatioChange())),this.register(p.onChangeColors(()=>this._fullRefresh())),"IntersectionObserver"in d.window){const e=new d.window.IntersectionObserver(e=>this._handleIntersectionChange(e[e.length-1]),{threshold:0});e.observe(t),this.register({dispose:()=>e.disconnect()})}}_handleIntersectionChange(e){this._isPaused=void 0===e.isIntersecting?0===e.intersectionRatio:!e.isIntersecting,this._isPaused||this._charSizeService.hasValidSize||this._charSizeService.measure(),!this._isPaused&&this._needsFullRefresh&&(this._pausedResizeTask.flush(),this.refreshRows(0,this._rowCount-1),this._needsFullRefresh=!1)}refreshRows(e,t,i=!1){this._isPaused?this._needsFullRefresh=!0:(i||(this._isNextRenderRedrawOnly=!1),this._renderDebouncer.refresh(e,t,this._rowCount))}_renderRows(e,t){this._renderer.value&&(e=Math.min(e,this._rowCount-1),t=Math.min(t,this._rowCount-1),this._renderer.value.renderRows(e,t),this._needsSelectionRefresh&&(this._renderer.value.handleSelectionChanged(this._selectionState.start,this._selectionState.end,this._selectionState.columnSelectMode),this._needsSelectionRefresh=!1),this._isNextRenderRedrawOnly||this._onRenderedViewportChange.fire({start:e,end:t}),this._onRender.fire({start:e,end:t}),this._isNextRenderRedrawOnly=!0)}resize(e,t){this._rowCount=t,this._fireOnCanvasResize()}_handleOptionsChanged(){this._renderer.value&&(this.refreshRows(0,this._rowCount-1),this._fireOnCanvasResize())}_fireOnCanvasResize(){this._renderer.value&&(this._renderer.value.dimensions.css.canvas.width===this._canvasWidth&&this._renderer.value.dimensions.css.canvas.height===this._canvasHeight||this._onDimensionsChange.fire(this._renderer.value.dimensions))}hasRenderer(){return!!this._renderer.value}setRenderer(e){this._renderer.value=e,this._renderer.value.onRequestRedraw(e=>this.refreshRows(e.start,e.end,!0)),this._needsSelectionRefresh=!0,this._fullRefresh()}addRefreshCallback(e){return this._renderDebouncer.addRefreshCallback(e)}_fullRefresh(){this._isPaused?this._needsFullRefresh=!0:this.refreshRows(0,this._rowCount-1)}clearTextureAtlas(){var e,t;this._renderer.value&&(null===(t=(e=this._renderer.value).clearTextureAtlas)||void 0===t||t.call(e),this._fullRefresh())}handleDevicePixelRatioChange(){this._charSizeService.measure(),this._renderer.value&&(this._renderer.value.handleDevicePixelRatioChange(),this.refreshRows(0,this._rowCount-1))}handleResize(e,t){this._renderer.value&&(this._isPaused?this._pausedResizeTask.set(()=>this._renderer.value.handleResize(e,t)):this._renderer.value.handleResize(e,t),this._fullRefresh())}handleCharSizeChanged(){var e;null===(e=this._renderer.value)||void 0===e||e.handleCharSizeChanged()}handleBlur(){var e;null===(e=this._renderer.value)||void 0===e||e.handleBlur()}handleFocus(){var e;null===(e=this._renderer.value)||void 0===e||e.handleFocus()}handleSelectionChanged(e,t,i){var n;this._selectionState.start=e,this._selectionState.end=t,this._selectionState.columnSelectMode=i,null===(n=this._renderer.value)||void 0===n||n.handleSelectionChanged(e,t,i)}handleCursorMove(){var e;null===(e=this._renderer.value)||void 0===e||e.handleCursorMove()}clear(){var e;null===(e=this._renderer.value)||void 0===e||e.clear()}};t.RenderService=p=n([o(2,d.IOptionsService),o(3,l.ICharSizeService),o(4,d.IDecorationService),o(5,d.IBufferService),o(6,l.ICoreBrowserService),o(7,l.IThemeService)],p)},9312:function(e,t,i){var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__param||function(e,t){return function(i,n){t(i,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.SelectionService=void 0;const r=i(9806),s=i(9504),a=i(456),l=i(4725),c=i(8460),h=i(844),u=i(6114),d=i(4841),p=i(511),g=i(2585),f=String.fromCharCode(160),m=new RegExp(f,"g");let _=t.SelectionService=class extends h.Disposable{constructor(e,t,i,n,o,r,s,l,u){super(),this._element=e,this._screenElement=t,this._linkifier=i,this._bufferService=n,this._coreService=o,this._mouseService=r,this._optionsService=s,this._renderService=l,this._coreBrowserService=u,this._dragScrollAmount=0,this._enabled=!0,this._workCell=new p.CellData,this._mouseDownTimeStamp=0,this._oldHasSelection=!1,this._oldSelectionStart=void 0,this._oldSelectionEnd=void 0,this._onLinuxMouseSelection=this.register(new c.EventEmitter),this.onLinuxMouseSelection=this._onLinuxMouseSelection.event,this._onRedrawRequest=this.register(new c.EventEmitter),this.onRequestRedraw=this._onRedrawRequest.event,this._onSelectionChange=this.register(new c.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onRequestScrollLines=this.register(new c.EventEmitter),this.onRequestScrollLines=this._onRequestScrollLines.event,this._mouseMoveListener=e=>this._handleMouseMove(e),this._mouseUpListener=e=>this._handleMouseUp(e),this._coreService.onUserInput(()=>{this.hasSelection&&this.clearSelection()}),this._trimListener=this._bufferService.buffer.lines.onTrim(e=>this._handleTrim(e)),this.register(this._bufferService.buffers.onBufferActivate(e=>this._handleBufferActivate(e))),this.enable(),this._model=new a.SelectionModel(this._bufferService),this._activeSelectionMode=0,this.register((0,h.toDisposable)(()=>{this._removeMouseDownListeners()}))}reset(){this.clearSelection()}disable(){this.clearSelection(),this._enabled=!1}enable(){this._enabled=!0}get selectionStart(){return this._model.finalSelectionStart}get selectionEnd(){return this._model.finalSelectionEnd}get hasSelection(){const e=this._model.finalSelectionStart,t=this._model.finalSelectionEnd;return!(!e||!t||e[0]===t[0]&&e[1]===t[1])}get selectionText(){const e=this._model.finalSelectionStart,t=this._model.finalSelectionEnd;if(!e||!t)return"";const i=this._bufferService.buffer,n=[];if(3===this._activeSelectionMode){if(e[0]===t[0])return"";const o=e[0]<t[0]?e[0]:t[0],r=e[0]<t[0]?t[0]:e[0];for(let s=e[1];s<=t[1];s++){const e=i.translateBufferLineToString(s,!0,o,r);n.push(e)}}else{n.push(i.translateBufferLineToString(e[1],!0,e[0],e[1]===t[1]?t[0]:void 0));for(let o=e[1]+1;o<=t[1]-1;o++){const e=i.lines.get(o),t=i.translateBufferLineToString(o,!0);(null==e?void 0:e.isWrapped)?n[n.length-1]+=t:n.push(t)}if(e[1]!==t[1]){const e=i.lines.get(t[1]),o=i.translateBufferLineToString(t[1],!0,0,t[0]);e&&e.isWrapped?n[n.length-1]+=o:n.push(o)}}return n.map(e=>e.replace(m," ")).join(u.isWindows?"\r\n":"\n")}clearSelection(){this._model.clearSelection(),this._removeMouseDownListeners(),this.refresh(),this._onSelectionChange.fire()}refresh(e){this._refreshAnimationFrame||(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._refresh())),u.isLinux&&e&&this.selectionText.length&&this._onLinuxMouseSelection.fire(this.selectionText)}_refresh(){this._refreshAnimationFrame=void 0,this._onRedrawRequest.fire({start:this._model.finalSelectionStart,end:this._model.finalSelectionEnd,columnSelectMode:3===this._activeSelectionMode})}_isClickInSelection(e){const t=this._getMouseBufferCoords(e),i=this._model.finalSelectionStart,n=this._model.finalSelectionEnd;return!!(i&&n&&t)&&this._areCoordsInSelection(t,i,n)}isCellInSelection(e,t){const i=this._model.finalSelectionStart,n=this._model.finalSelectionEnd;return!(!i||!n)&&this._areCoordsInSelection([e,t],i,n)}_areCoordsInSelection(e,t,i){return e[1]>t[1]&&e[1]<i[1]||t[1]===i[1]&&e[1]===t[1]&&e[0]>=t[0]&&e[0]<i[0]||t[1]<i[1]&&e[1]===i[1]&&e[0]<i[0]||t[1]<i[1]&&e[1]===t[1]&&e[0]>=t[0]}_selectWordAtCursor(e,t){var i,n;const o=null===(n=null===(i=this._linkifier.currentLink)||void 0===i?void 0:i.link)||void 0===n?void 0:n.range;if(o)return this._model.selectionStart=[o.start.x-1,o.start.y-1],this._model.selectionStartLength=(0,d.getRangeLength)(o,this._bufferService.cols),this._model.selectionEnd=void 0,!0;const r=this._getMouseBufferCoords(e);return!!r&&(this._selectWordAt(r,t),this._model.selectionEnd=void 0,!0)}selectAll(){this._model.isSelectAllActive=!0,this.refresh(),this._onSelectionChange.fire()}selectLines(e,t){this._model.clearSelection(),e=Math.max(e,0),t=Math.min(t,this._bufferService.buffer.lines.length-1),this._model.selectionStart=[0,e],this._model.selectionEnd=[this._bufferService.cols,t],this.refresh(),this._onSelectionChange.fire()}_handleTrim(e){this._model.handleTrim(e)&&this.refresh()}_getMouseBufferCoords(e){const t=this._mouseService.getCoords(e,this._screenElement,this._bufferService.cols,this._bufferService.rows,!0);if(t)return t[0]--,t[1]--,t[1]+=this._bufferService.buffer.ydisp,t}_getMouseEventScrollAmount(e){let t=(0,r.getCoordsRelativeToElement)(this._coreBrowserService.window,e,this._screenElement)[1];const i=this._renderService.dimensions.css.canvas.height;return t>=0&&t<=i?0:(t>i&&(t-=i),t=Math.min(Math.max(t,-50),50),t/=50,t/Math.abs(t)+Math.round(14*t))}shouldForceSelection(e){return u.isMac?e.altKey&&this._optionsService.rawOptions.macOptionClickForcesSelection:e.shiftKey}handleMouseDown(e){if(this._mouseDownTimeStamp=e.timeStamp,(2!==e.button||!this.hasSelection)&&0===e.button){if(!this._enabled){if(!this.shouldForceSelection(e))return;e.stopPropagation()}e.preventDefault(),this._dragScrollAmount=0,this._enabled&&e.shiftKey?this._handleIncrementalClick(e):1===e.detail?this._handleSingleClick(e):2===e.detail?this._handleDoubleClick(e):3===e.detail&&this._handleTripleClick(e),this._addMouseDownListeners(),this.refresh(!0)}}_addMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.addEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.addEventListener("mouseup",this._mouseUpListener)),this._dragScrollIntervalTimer=this._coreBrowserService.window.setInterval(()=>this._dragScroll(),50)}_removeMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.removeEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.removeEventListener("mouseup",this._mouseUpListener)),this._coreBrowserService.window.clearInterval(this._dragScrollIntervalTimer),this._dragScrollIntervalTimer=void 0}_handleIncrementalClick(e){this._model.selectionStart&&(this._model.selectionEnd=this._getMouseBufferCoords(e))}_handleSingleClick(e){if(this._model.selectionStartLength=0,this._model.isSelectAllActive=!1,this._activeSelectionMode=this.shouldColumnSelect(e)?3:0,this._model.selectionStart=this._getMouseBufferCoords(e),!this._model.selectionStart)return;this._model.selectionEnd=void 0;const t=this._bufferService.buffer.lines.get(this._model.selectionStart[1]);t&&t.length!==this._model.selectionStart[0]&&0===t.hasWidth(this._model.selectionStart[0])&&this._model.selectionStart[0]++}_handleDoubleClick(e){this._selectWordAtCursor(e,!0)&&(this._activeSelectionMode=1)}_handleTripleClick(e){const t=this._getMouseBufferCoords(e);t&&(this._activeSelectionMode=2,this._selectLineAt(t[1]))}shouldColumnSelect(e){return e.altKey&&!(u.isMac&&this._optionsService.rawOptions.macOptionClickForcesSelection)}_handleMouseMove(e){if(e.stopImmediatePropagation(),!this._model.selectionStart)return;const t=this._model.selectionEnd?[this._model.selectionEnd[0],this._model.selectionEnd[1]]:null;if(this._model.selectionEnd=this._getMouseBufferCoords(e),!this._model.selectionEnd)return void this.refresh(!0);2===this._activeSelectionMode?this._model.selectionEnd[0]=this._model.selectionEnd[1]<this._model.selectionStart[1]?0:this._bufferService.cols:1===this._activeSelectionMode&&this._selectToWordAt(this._model.selectionEnd),this._dragScrollAmount=this._getMouseEventScrollAmount(e),3!==this._activeSelectionMode&&(this._dragScrollAmount>0?this._model.selectionEnd[0]=this._bufferService.cols:this._dragScrollAmount<0&&(this._model.selectionEnd[0]=0));const i=this._bufferService.buffer;if(this._model.selectionEnd[1]<i.lines.length){const e=i.lines.get(this._model.selectionEnd[1]);e&&0===e.hasWidth(this._model.selectionEnd[0])&&this._model.selectionEnd[0]++}t&&t[0]===this._model.selectionEnd[0]&&t[1]===this._model.selectionEnd[1]||this.refresh(!0)}_dragScroll(){if(this._model.selectionEnd&&this._model.selectionStart&&this._dragScrollAmount){this._onRequestScrollLines.fire({amount:this._dragScrollAmount,suppressScrollEvent:!1});const e=this._bufferService.buffer;this._dragScrollAmount>0?(3!==this._activeSelectionMode&&(this._model.selectionEnd[0]=this._bufferService.cols),this._model.selectionEnd[1]=Math.min(e.ydisp+this._bufferService.rows,e.lines.length-1)):(3!==this._activeSelectionMode&&(this._model.selectionEnd[0]=0),this._model.selectionEnd[1]=e.ydisp),this.refresh()}}_handleMouseUp(e){const t=e.timeStamp-this._mouseDownTimeStamp;if(this._removeMouseDownListeners(),this.selectionText.length<=1&&t<500&&e.altKey&&this._optionsService.rawOptions.altClickMovesCursor){if(this._bufferService.buffer.ybase===this._bufferService.buffer.ydisp){const t=this._mouseService.getCoords(e,this._element,this._bufferService.cols,this._bufferService.rows,!1);if(t&&void 0!==t[0]&&void 0!==t[1]){const e=(0,s.moveToCellSequence)(t[0]-1,t[1]-1,this._bufferService,this._coreService.decPrivateModes.applicationCursorKeys);this._coreService.triggerDataEvent(e,!0)}}}else this._fireEventIfSelectionChanged()}_fireEventIfSelectionChanged(){const e=this._model.finalSelectionStart,t=this._model.finalSelectionEnd,i=!(!e||!t||e[0]===t[0]&&e[1]===t[1]);i?e&&t&&(this._oldSelectionStart&&this._oldSelectionEnd&&e[0]===this._oldSelectionStart[0]&&e[1]===this._oldSelectionStart[1]&&t[0]===this._oldSelectionEnd[0]&&t[1]===this._oldSelectionEnd[1]||this._fireOnSelectionChange(e,t,i)):this._oldHasSelection&&this._fireOnSelectionChange(e,t,i)}_fireOnSelectionChange(e,t,i){this._oldSelectionStart=e,this._oldSelectionEnd=t,this._oldHasSelection=i,this._onSelectionChange.fire()}_handleBufferActivate(e){this.clearSelection(),this._trimListener.dispose(),this._trimListener=e.activeBuffer.lines.onTrim(e=>this._handleTrim(e))}_convertViewportColToCharacterIndex(e,t){let i=t;for(let n=0;t>=n;n++){const o=e.loadCell(n,this._workCell).getChars().length;0===this._workCell.getWidth()?i--:o>1&&t!==n&&(i+=o-1)}return i}setSelection(e,t,i){this._model.clearSelection(),this._removeMouseDownListeners(),this._model.selectionStart=[e,t],this._model.selectionStartLength=i,this.refresh(),this._fireEventIfSelectionChanged()}rightClickSelect(e){this._isClickInSelection(e)||(this._selectWordAtCursor(e,!1)&&this.refresh(!0),this._fireEventIfSelectionChanged())}_getWordAt(e,t,i=!0,n=!0){if(e[0]>=this._bufferService.cols)return;const o=this._bufferService.buffer,r=o.lines.get(e[1]);if(!r)return;const s=o.translateBufferLineToString(e[1],!1);let a=this._convertViewportColToCharacterIndex(r,e[0]),l=a;const c=e[0]-a;let h=0,u=0,d=0,p=0;if(" "===s.charAt(a)){for(;a>0&&" "===s.charAt(a-1);)a--;for(;l<s.length&&" "===s.charAt(l+1);)l++}else{let t=e[0],i=e[0];0===r.getWidth(t)&&(h++,t--),2===r.getWidth(i)&&(u++,i++);const n=r.getString(i).length;for(n>1&&(p+=n-1,l+=n-1);t>0&&a>0&&!this._isCharWordSeparator(r.loadCell(t-1,this._workCell));){r.loadCell(t-1,this._workCell);const e=this._workCell.getChars().length;0===this._workCell.getWidth()?(h++,t--):e>1&&(d+=e-1,a-=e-1),a--,t--}for(;i<r.length&&l+1<s.length&&!this._isCharWordSeparator(r.loadCell(i+1,this._workCell));){r.loadCell(i+1,this._workCell);const e=this._workCell.getChars().length;2===this._workCell.getWidth()?(u++,i++):e>1&&(p+=e-1,l+=e-1),l++,i++}}l++;let g=a+c-h+d,f=Math.min(this._bufferService.cols,l-a+h+u-d-p);if(t||""!==s.slice(a,l).trim()){if(i&&0===g&&32!==r.getCodePoint(0)){const t=o.lines.get(e[1]-1);if(t&&r.isWrapped&&32!==t.getCodePoint(this._bufferService.cols-1)){const t=this._getWordAt([this._bufferService.cols-1,e[1]-1],!1,!0,!1);if(t){const e=this._bufferService.cols-t.start;g-=e,f+=e}}}if(n&&g+f===this._bufferService.cols&&32!==r.getCodePoint(this._bufferService.cols-1)){const t=o.lines.get(e[1]+1);if((null==t?void 0:t.isWrapped)&&32!==t.getCodePoint(0)){const t=this._getWordAt([0,e[1]+1],!1,!1,!0);t&&(f+=t.length)}}return{start:g,length:f}}}_selectWordAt(e,t){const i=this._getWordAt(e,t);if(i){for(;i.start<0;)i.start+=this._bufferService.cols,e[1]--;this._model.selectionStart=[i.start,e[1]],this._model.selectionStartLength=i.length}}_selectToWordAt(e){const t=this._getWordAt(e,!0);if(t){let i=e[1];for(;t.start<0;)t.start+=this._bufferService.cols,i--;if(!this._model.areSelectionValuesReversed())for(;t.start+t.length>this._bufferService.cols;)t.length-=this._bufferService.cols,i++;this._model.selectionEnd=[this._model.areSelectionValuesReversed()?t.start:t.start+t.length,i]}}_isCharWordSeparator(e){return 0!==e.getWidth()&&this._optionsService.rawOptions.wordSeparator.indexOf(e.getChars())>=0}_selectLineAt(e){const t=this._bufferService.buffer.getWrappedRangeForLine(e),i={start:{x:0,y:t.first},end:{x:this._bufferService.cols-1,y:t.last}};this._model.selectionStart=[0,t.first],this._model.selectionEnd=void 0,this._model.selectionStartLength=(0,d.getRangeLength)(i,this._bufferService.cols)}};t.SelectionService=_=n([o(3,g.IBufferService),o(4,g.ICoreService),o(5,l.IMouseService),o(6,g.IOptionsService),o(7,l.IRenderService),o(8,l.ICoreBrowserService)],_)},4725:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.IThemeService=t.ICharacterJoinerService=t.ISelectionService=t.IRenderService=t.IMouseService=t.ICoreBrowserService=t.ICharSizeService=void 0;const n=i(8343);t.ICharSizeService=(0,n.createDecorator)("CharSizeService"),t.ICoreBrowserService=(0,n.createDecorator)("CoreBrowserService"),t.IMouseService=(0,n.createDecorator)("MouseService"),t.IRenderService=(0,n.createDecorator)("RenderService"),t.ISelectionService=(0,n.createDecorator)("SelectionService"),t.ICharacterJoinerService=(0,n.createDecorator)("CharacterJoinerService"),t.IThemeService=(0,n.createDecorator)("ThemeService")},6731:function(e,t,i){var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__param||function(e,t){return function(i,n){t(i,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.ThemeService=t.DEFAULT_ANSI_COLORS=void 0;const r=i(7239),s=i(8055),a=i(8460),l=i(844),c=i(2585),h=s.css.toColor("#ffffff"),u=s.css.toColor("#000000"),d=s.css.toColor("#ffffff"),p=s.css.toColor("#000000"),g={css:"rgba(255, 255, 255, 0.3)",rgba:4294967117};t.DEFAULT_ANSI_COLORS=Object.freeze((()=>{const e=[s.css.toColor("#2e3436"),s.css.toColor("#cc0000"),s.css.toColor("#4e9a06"),s.css.toColor("#c4a000"),s.css.toColor("#3465a4"),s.css.toColor("#75507b"),s.css.toColor("#06989a"),s.css.toColor("#d3d7cf"),s.css.toColor("#555753"),s.css.toColor("#ef2929"),s.css.toColor("#8ae234"),s.css.toColor("#fce94f"),s.css.toColor("#729fcf"),s.css.toColor("#ad7fa8"),s.css.toColor("#34e2e2"),s.css.toColor("#eeeeec")],t=[0,95,135,175,215,255];for(let i=0;i<216;i++){const n=t[i/36%6|0],o=t[i/6%6|0],r=t[i%6];e.push({css:s.channels.toCss(n,o,r),rgba:s.channels.toRgba(n,o,r)})}for(let i=0;i<24;i++){const t=8+10*i;e.push({css:s.channels.toCss(t,t,t),rgba:s.channels.toRgba(t,t,t)})}return e})());let f=t.ThemeService=class extends l.Disposable{get colors(){return this._colors}constructor(e){super(),this._optionsService=e,this._contrastCache=new r.ColorContrastCache,this._halfContrastCache=new r.ColorContrastCache,this._onChangeColors=this.register(new a.EventEmitter),this.onChangeColors=this._onChangeColors.event,this._colors={foreground:h,background:u,cursor:d,cursorAccent:p,selectionForeground:void 0,selectionBackgroundTransparent:g,selectionBackgroundOpaque:s.color.blend(u,g),selectionInactiveBackgroundTransparent:g,selectionInactiveBackgroundOpaque:s.color.blend(u,g),ansi:t.DEFAULT_ANSI_COLORS.slice(),contrastCache:this._contrastCache,halfContrastCache:this._halfContrastCache},this._updateRestoreColors(),this._setTheme(this._optionsService.rawOptions.theme),this.register(this._optionsService.onSpecificOptionChange("minimumContrastRatio",()=>this._contrastCache.clear())),this.register(this._optionsService.onSpecificOptionChange("theme",()=>this._setTheme(this._optionsService.rawOptions.theme)))}_setTheme(e={}){const i=this._colors;if(i.foreground=m(e.foreground,h),i.background=m(e.background,u),i.cursor=m(e.cursor,d),i.cursorAccent=m(e.cursorAccent,p),i.selectionBackgroundTransparent=m(e.selectionBackground,g),i.selectionBackgroundOpaque=s.color.blend(i.background,i.selectionBackgroundTransparent),i.selectionInactiveBackgroundTransparent=m(e.selectionInactiveBackground,i.selectionBackgroundTransparent),i.selectionInactiveBackgroundOpaque=s.color.blend(i.background,i.selectionInactiveBackgroundTransparent),i.selectionForeground=e.selectionForeground?m(e.selectionForeground,s.NULL_COLOR):void 0,i.selectionForeground===s.NULL_COLOR&&(i.selectionForeground=void 0),s.color.isOpaque(i.selectionBackgroundTransparent)&&(i.selectionBackgroundTransparent=s.color.opacity(i.selectionBackgroundTransparent,.3)),s.color.isOpaque(i.selectionInactiveBackgroundTransparent)&&(i.selectionInactiveBackgroundTransparent=s.color.opacity(i.selectionInactiveBackgroundTransparent,.3)),i.ansi=t.DEFAULT_ANSI_COLORS.slice(),i.ansi[0]=m(e.black,t.DEFAULT_ANSI_COLORS[0]),i.ansi[1]=m(e.red,t.DEFAULT_ANSI_COLORS[1]),i.ansi[2]=m(e.green,t.DEFAULT_ANSI_COLORS[2]),i.ansi[3]=m(e.yellow,t.DEFAULT_ANSI_COLORS[3]),i.ansi[4]=m(e.blue,t.DEFAULT_ANSI_COLORS[4]),i.ansi[5]=m(e.magenta,t.DEFAULT_ANSI_COLORS[5]),i.ansi[6]=m(e.cyan,t.DEFAULT_ANSI_COLORS[6]),i.ansi[7]=m(e.white,t.DEFAULT_ANSI_COLORS[7]),i.ansi[8]=m(e.brightBlack,t.DEFAULT_ANSI_COLORS[8]),i.ansi[9]=m(e.brightRed,t.DEFAULT_ANSI_COLORS[9]),i.ansi[10]=m(e.brightGreen,t.DEFAULT_ANSI_COLORS[10]),i.ansi[11]=m(e.brightYellow,t.DEFAULT_ANSI_COLORS[11]),i.ansi[12]=m(e.brightBlue,t.DEFAULT_ANSI_COLORS[12]),i.ansi[13]=m(e.brightMagenta,t.DEFAULT_ANSI_COLORS[13]),i.ansi[14]=m(e.brightCyan,t.DEFAULT_ANSI_COLORS[14]),i.ansi[15]=m(e.brightWhite,t.DEFAULT_ANSI_COLORS[15]),e.extendedAnsi){const n=Math.min(i.ansi.length-16,e.extendedAnsi.length);for(let o=0;o<n;o++)i.ansi[o+16]=m(e.extendedAnsi[o],t.DEFAULT_ANSI_COLORS[o+16])}this._contrastCache.clear(),this._halfContrastCache.clear(),this._updateRestoreColors(),this._onChangeColors.fire(this.colors)}restoreColor(e){this._restoreColor(e),this._onChangeColors.fire(this.colors)}_restoreColor(e){if(void 0!==e)switch(e){case 256:this._colors.foreground=this._restoreColors.foreground;break;case 257:this._colors.background=this._restoreColors.background;break;case 258:this._colors.cursor=this._restoreColors.cursor;break;default:this._colors.ansi[e]=this._restoreColors.ansi[e]}else for(let t=0;t<this._restoreColors.ansi.length;++t)this._colors.ansi[t]=this._restoreColors.ansi[t]}modifyColors(e){e(this._colors),this._onChangeColors.fire(this.colors)}_updateRestoreColors(){this._restoreColors={foreground:this._colors.foreground,background:this._colors.background,cursor:this._colors.cursor,ansi:this._colors.ansi.slice()}}};function m(e,t){if(void 0!==e)try{return s.css.toColor(e)}catch(i){}return t}t.ThemeService=f=n([o(0,c.IOptionsService)],f)},6349:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CircularList=void 0;const n=i(8460),o=i(844);t.CircularList=class extends o.Disposable{constructor(e){super(),this._maxLength=e,this.onDeleteEmitter=this.register(new n.EventEmitter),this.onDelete=this.onDeleteEmitter.event,this.onInsertEmitter=this.register(new n.EventEmitter),this.onInsert=this.onInsertEmitter.event,this.onTrimEmitter=this.register(new n.EventEmitter),this.onTrim=this.onTrimEmitter.event,this._array=new Array(this._maxLength),this._startIndex=0,this._length=0}get maxLength(){return this._maxLength}set maxLength(e){if(this._maxLength===e)return;const t=new Array(e);for(let i=0;i<Math.min(e,this.length);i++)t[i]=this._array[this._getCyclicIndex(i)];this._array=t,this._maxLength=e,this._startIndex=0}get length(){return this._length}set length(e){if(e>this._length)for(let t=this._length;t<e;t++)this._array[t]=void 0;this._length=e}get(e){return this._array[this._getCyclicIndex(e)]}set(e,t){this._array[this._getCyclicIndex(e)]=t}push(e){this._array[this._getCyclicIndex(this._length)]=e,this._length===this._maxLength?(this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1)):this._length++}recycle(){if(this._length!==this._maxLength)throw new Error("Can only recycle when the buffer is full");return this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1),this._array[this._getCyclicIndex(this._length-1)]}get isFull(){return this._length===this._maxLength}pop(){return this._array[this._getCyclicIndex(this._length---1)]}splice(e,t,...i){if(t){for(let i=e;i<this._length-t;i++)this._array[this._getCyclicIndex(i)]=this._array[this._getCyclicIndex(i+t)];this._length-=t,this.onDeleteEmitter.fire({index:e,amount:t})}for(let n=this._length-1;n>=e;n--)this._array[this._getCyclicIndex(n+i.length)]=this._array[this._getCyclicIndex(n)];for(let n=0;n<i.length;n++)this._array[this._getCyclicIndex(e+n)]=i[n];if(i.length&&this.onInsertEmitter.fire({index:e,amount:i.length}),this._length+i.length>this._maxLength){const e=this._length+i.length-this._maxLength;this._startIndex+=e,this._length=this._maxLength,this.onTrimEmitter.fire(e)}else this._length+=i.length}trimStart(e){e>this._length&&(e=this._length),this._startIndex+=e,this._length-=e,this.onTrimEmitter.fire(e)}shiftElements(e,t,i){if(!(t<=0)){if(e<0||e>=this._length)throw new Error("start argument out of range");if(e+i<0)throw new Error("Cannot shift elements in list beyond index 0");if(i>0){for(let o=t-1;o>=0;o--)this.set(e+o+i,this.get(e+o));const n=e+t+i-this._length;if(n>0)for(this._length+=n;this._length>this._maxLength;)this._length--,this._startIndex++,this.onTrimEmitter.fire(1)}else for(let n=0;n<t;n++)this.set(e+n+i,this.get(e+n))}}_getCyclicIndex(e){return(this._startIndex+e)%this._maxLength}}},1439:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.clone=void 0,t.clone=function e(t,i=5){if("object"!=typeof t)return t;const n=Array.isArray(t)?[]:{};for(const o in t)n[o]=i<=1?t[o]:t[o]&&e(t[o],i-1);return n}},8055:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.contrastRatio=t.toPaddedHex=t.rgba=t.rgb=t.css=t.color=t.channels=t.NULL_COLOR=void 0;const n=i(6114);let o=0,r=0,s=0,a=0;var l,c,h,u,d,p;function g(e){const t=e.toString(16);return t.length<2?"0"+t:t}function f(e,t){return e<t?(t+.05)/(e+.05):(e+.05)/(t+.05)}t.NULL_COLOR={css:"#00000000",rgba:0},(p=l||(t.channels=l={})).toCss=function(e,t,i,n){return void 0!==n?`#${g(e)}${g(t)}${g(i)}${g(n)}`:`#${g(e)}${g(t)}${g(i)}`},p.toRgba=function(e,t,i,n=255){return(e<<24|t<<16|i<<8|n)>>>0},function(e){function t(e,t){return a=Math.round(255*t),[o,r,s]=d.toChannels(e.rgba),{css:l.toCss(o,r,s,a),rgba:l.toRgba(o,r,s,a)}}e.blend=function(e,t){if(a=(255&t.rgba)/255,1===a)return{css:t.css,rgba:t.rgba};const i=t.rgba>>16&255,n=t.rgba>>8&255,c=e.rgba>>24&255,h=e.rgba>>16&255,u=e.rgba>>8&255;return o=c+Math.round(((t.rgba>>24&255)-c)*a),r=h+Math.round((i-h)*a),s=u+Math.round((n-u)*a),{css:l.toCss(o,r,s),rgba:l.toRgba(o,r,s)}},e.isOpaque=function(e){return 255==(255&e.rgba)},e.ensureContrastRatio=function(e,t,i){const n=d.ensureContrastRatio(e.rgba,t.rgba,i);if(n)return d.toColor(n>>24&255,n>>16&255,n>>8&255)},e.opaque=function(e){const t=(255|e.rgba)>>>0;return[o,r,s]=d.toChannels(t),{css:l.toCss(o,r,s),rgba:t}},e.opacity=t,e.multiplyOpacity=function(e,i){return a=255&e.rgba,t(e,a*i/255)},e.toColorRGB=function(e){return[e.rgba>>24&255,e.rgba>>16&255,e.rgba>>8&255]}}(c||(t.color=c={})),function(e){let t,i;if(!n.isNode){const e=document.createElement("canvas");e.width=1,e.height=1;const n=e.getContext("2d",{willReadFrequently:!0});n&&(t=n,t.globalCompositeOperation="copy",i=t.createLinearGradient(0,0,1,1))}e.toColor=function(e){if(e.match(/#[\da-f]{3,8}/i))switch(e.length){case 4:return o=parseInt(e.slice(1,2).repeat(2),16),r=parseInt(e.slice(2,3).repeat(2),16),s=parseInt(e.slice(3,4).repeat(2),16),d.toColor(o,r,s);case 5:return o=parseInt(e.slice(1,2).repeat(2),16),r=parseInt(e.slice(2,3).repeat(2),16),s=parseInt(e.slice(3,4).repeat(2),16),a=parseInt(e.slice(4,5).repeat(2),16),d.toColor(o,r,s,a);case 7:return{css:e,rgba:(parseInt(e.slice(1),16)<<8|255)>>>0};case 9:return{css:e,rgba:parseInt(e.slice(1),16)>>>0}}const n=e.match(/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(,\s*(0|1|\d?\.(\d+))\s*)?\)/);if(n)return o=parseInt(n[1]),r=parseInt(n[2]),s=parseInt(n[3]),a=Math.round(255*(void 0===n[5]?1:parseFloat(n[5]))),d.toColor(o,r,s,a);if(!t||!i)throw new Error("css.toColor: Unsupported css format");if(t.fillStyle=i,t.fillStyle=e,"string"!=typeof t.fillStyle)throw new Error("css.toColor: Unsupported css format");if(t.fillRect(0,0,1,1),[o,r,s,a]=t.getImageData(0,0,1,1).data,255!==a)throw new Error("css.toColor: Unsupported css format");return{rgba:l.toRgba(o,r,s,a),css:e}}}(h||(t.css=h={})),function(e){function t(e,t,i){const n=e/255,o=t/255,r=i/255;return.2126*(n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4))+.7152*(o<=.03928?o/12.92:Math.pow((o+.055)/1.055,2.4))+.0722*(r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4))}e.relativeLuminance=function(e){return t(e>>16&255,e>>8&255,255&e)},e.relativeLuminance2=t}(u||(t.rgb=u={})),function(e){function t(e,t,i){const n=e>>24&255,o=e>>16&255,r=e>>8&255;let s=t>>24&255,a=t>>16&255,l=t>>8&255,c=f(u.relativeLuminance2(s,a,l),u.relativeLuminance2(n,o,r));for(;c<i&&(s>0||a>0||l>0);)s-=Math.max(0,Math.ceil(.1*s)),a-=Math.max(0,Math.ceil(.1*a)),l-=Math.max(0,Math.ceil(.1*l)),c=f(u.relativeLuminance2(s,a,l),u.relativeLuminance2(n,o,r));return(s<<24|a<<16|l<<8|255)>>>0}function i(e,t,i){const n=e>>24&255,o=e>>16&255,r=e>>8&255;let s=t>>24&255,a=t>>16&255,l=t>>8&255,c=f(u.relativeLuminance2(s,a,l),u.relativeLuminance2(n,o,r));for(;c<i&&(s<255||a<255||l<255);)s=Math.min(255,s+Math.ceil(.1*(255-s))),a=Math.min(255,a+Math.ceil(.1*(255-a))),l=Math.min(255,l+Math.ceil(.1*(255-l))),c=f(u.relativeLuminance2(s,a,l),u.relativeLuminance2(n,o,r));return(s<<24|a<<16|l<<8|255)>>>0}e.ensureContrastRatio=function(e,n,o){const r=u.relativeLuminance(e>>8),s=u.relativeLuminance(n>>8);if(f(r,s)<o){if(s<r){const s=t(e,n,o),a=f(r,u.relativeLuminance(s>>8));if(a<o){const t=i(e,n,o);return a>f(r,u.relativeLuminance(t>>8))?s:t}return s}const a=i(e,n,o),l=f(r,u.relativeLuminance(a>>8));if(l<o){const i=t(e,n,o);return l>f(r,u.relativeLuminance(i>>8))?a:i}return a}},e.reduceLuminance=t,e.increaseLuminance=i,e.toChannels=function(e){return[e>>24&255,e>>16&255,e>>8&255,255&e]},e.toColor=function(e,t,i,n){return{css:l.toCss(e,t,i,n),rgba:l.toRgba(e,t,i,n)}}}(d||(t.rgba=d={})),t.toPaddedHex=g,t.contrastRatio=f},8969:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CoreTerminal=void 0;const n=i(844),o=i(2585),r=i(4348),s=i(7866),a=i(744),l=i(7302),c=i(6975),h=i(8460),u=i(1753),d=i(1480),p=i(7994),g=i(9282),f=i(5435),m=i(5981),_=i(2660);let v=!1;t.CoreTerminal=class extends n.Disposable{get onScroll(){return this._onScrollApi||(this._onScrollApi=this.register(new h.EventEmitter),this._onScroll.event(e=>{var t;null===(t=this._onScrollApi)||void 0===t||t.fire(e.position)})),this._onScrollApi.event}get cols(){return this._bufferService.cols}get rows(){return this._bufferService.rows}get buffers(){return this._bufferService.buffers}get options(){return this.optionsService.options}set options(e){for(const t in e)this.optionsService.options[t]=e[t]}constructor(e){super(),this._windowsWrappingHeuristics=this.register(new n.MutableDisposable),this._onBinary=this.register(new h.EventEmitter),this.onBinary=this._onBinary.event,this._onData=this.register(new h.EventEmitter),this.onData=this._onData.event,this._onLineFeed=this.register(new h.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onResize=this.register(new h.EventEmitter),this.onResize=this._onResize.event,this._onWriteParsed=this.register(new h.EventEmitter),this.onWriteParsed=this._onWriteParsed.event,this._onScroll=this.register(new h.EventEmitter),this._instantiationService=new r.InstantiationService,this.optionsService=this.register(new l.OptionsService(e)),this._instantiationService.setService(o.IOptionsService,this.optionsService),this._bufferService=this.register(this._instantiationService.createInstance(a.BufferService)),this._instantiationService.setService(o.IBufferService,this._bufferService),this._logService=this.register(this._instantiationService.createInstance(s.LogService)),this._instantiationService.setService(o.ILogService,this._logService),this.coreService=this.register(this._instantiationService.createInstance(c.CoreService)),this._instantiationService.setService(o.ICoreService,this.coreService),this.coreMouseService=this.register(this._instantiationService.createInstance(u.CoreMouseService)),this._instantiationService.setService(o.ICoreMouseService,this.coreMouseService),this.unicodeService=this.register(this._instantiationService.createInstance(d.UnicodeService)),this._instantiationService.setService(o.IUnicodeService,this.unicodeService),this._charsetService=this._instantiationService.createInstance(p.CharsetService),this._instantiationService.setService(o.ICharsetService,this._charsetService),this._oscLinkService=this._instantiationService.createInstance(_.OscLinkService),this._instantiationService.setService(o.IOscLinkService,this._oscLinkService),this._inputHandler=this.register(new f.InputHandler(this._bufferService,this._charsetService,this.coreService,this._logService,this.optionsService,this._oscLinkService,this.coreMouseService,this.unicodeService)),this.register((0,h.forwardEvent)(this._inputHandler.onLineFeed,this._onLineFeed)),this.register(this._inputHandler),this.register((0,h.forwardEvent)(this._bufferService.onResize,this._onResize)),this.register((0,h.forwardEvent)(this.coreService.onData,this._onData)),this.register((0,h.forwardEvent)(this.coreService.onBinary,this._onBinary)),this.register(this.coreService.onRequestScrollToBottom(()=>this.scrollToBottom())),this.register(this.coreService.onUserInput(()=>this._writeBuffer.handleUserInput())),this.register(this.optionsService.onMultipleOptionChange(["windowsMode","windowsPty"],()=>this._handleWindowsPtyOptionChange())),this.register(this._bufferService.onScroll(e=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)})),this.register(this._inputHandler.onScroll(e=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)})),this._writeBuffer=this.register(new m.WriteBuffer((e,t)=>this._inputHandler.parse(e,t))),this.register((0,h.forwardEvent)(this._writeBuffer.onWriteParsed,this._onWriteParsed))}write(e,t){this._writeBuffer.write(e,t)}writeSync(e,t){this._logService.logLevel<=o.LogLevelEnum.WARN&&!v&&(this._logService.warn("writeSync is unreliable and will be removed soon."),v=!0),this._writeBuffer.writeSync(e,t)}resize(e,t){isNaN(e)||isNaN(t)||(e=Math.max(e,a.MINIMUM_COLS),t=Math.max(t,a.MINIMUM_ROWS),this._bufferService.resize(e,t))}scroll(e,t=!1){this._bufferService.scroll(e,t)}scrollLines(e,t,i){this._bufferService.scrollLines(e,t,i)}scrollPages(e){this.scrollLines(e*(this.rows-1))}scrollToTop(){this.scrollLines(-this._bufferService.buffer.ydisp)}scrollToBottom(){this.scrollLines(this._bufferService.buffer.ybase-this._bufferService.buffer.ydisp)}scrollToLine(e){const t=e-this._bufferService.buffer.ydisp;0!==t&&this.scrollLines(t)}registerEscHandler(e,t){return this._inputHandler.registerEscHandler(e,t)}registerDcsHandler(e,t){return this._inputHandler.registerDcsHandler(e,t)}registerCsiHandler(e,t){return this._inputHandler.registerCsiHandler(e,t)}registerOscHandler(e,t){return this._inputHandler.registerOscHandler(e,t)}_setup(){this._handleWindowsPtyOptionChange()}reset(){this._inputHandler.reset(),this._bufferService.reset(),this._charsetService.reset(),this.coreService.reset(),this.coreMouseService.reset()}_handleWindowsPtyOptionChange(){let e=!1;const t=this.optionsService.rawOptions.windowsPty;t&&void 0!==t.buildNumber&&void 0!==t.buildNumber?e="conpty"===t.backend&&t.buildNumber<21376:this.optionsService.rawOptions.windowsMode&&(e=!0),e?this._enableWindowsWrappingHeuristics():this._windowsWrappingHeuristics.clear()}_enableWindowsWrappingHeuristics(){if(!this._windowsWrappingHeuristics.value){const e=[];e.push(this.onLineFeed(g.updateWindowsModeWrappedState.bind(null,this._bufferService))),e.push(this.registerCsiHandler({final:"H"},()=>((0,g.updateWindowsModeWrappedState)(this._bufferService),!1))),this._windowsWrappingHeuristics.value=(0,n.toDisposable)(()=>{for(const t of e)t.dispose()})}}}},8460:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.forwardEvent=t.EventEmitter=void 0,t.EventEmitter=class{constructor(){this._listeners=[],this._disposed=!1}get event(){return this._event||(this._event=e=>(this._listeners.push(e),{dispose:()=>{if(!this._disposed)for(let t=0;t<this._listeners.length;t++)if(this._listeners[t]===e)return void this._listeners.splice(t,1)}})),this._event}fire(e,t){const i=[];for(let n=0;n<this._listeners.length;n++)i.push(this._listeners[n]);for(let n=0;n<i.length;n++)i[n].call(void 0,e,t)}dispose(){this.clearListeners(),this._disposed=!0}clearListeners(){this._listeners&&(this._listeners.length=0)}},t.forwardEvent=function(e,t){return e(e=>t.fire(e))}},5435:function(e,t,i){var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__param||function(e,t){return function(i,n){t(i,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.InputHandler=t.WindowsOptionsReportType=void 0;const r=i(2584),s=i(7116),a=i(2015),l=i(844),c=i(482),h=i(8437),u=i(8460),d=i(643),p=i(511),g=i(3734),f=i(2585),m=i(6242),_=i(6351),v=i(5941),y={"(":0,")":1,"*":2,"+":3,"-":1,".":2},b=131072;function w(e,t){if(e>24)return t.setWinLines||!1;switch(e){case 1:return!!t.restoreWin;case 2:return!!t.minimizeWin;case 3:return!!t.setWinPosition;case 4:return!!t.setWinSizePixels;case 5:return!!t.raiseWin;case 6:return!!t.lowerWin;case 7:return!!t.refreshWin;case 8:return!!t.setWinSizeChars;case 9:return!!t.maximizeWin;case 10:return!!t.fullscreenWin;case 11:return!!t.getWinState;case 13:return!!t.getWinPosition;case 14:return!!t.getWinSizePixels;case 15:return!!t.getScreenSizePixels;case 16:return!!t.getCellSizePixels;case 18:return!!t.getWinSizeChars;case 19:return!!t.getScreenSizeChars;case 20:return!!t.getIconTitle;case 21:return!!t.getWinTitle;case 22:return!!t.pushTitle;case 23:return!!t.popTitle;case 24:return!!t.setWinLines}return!1}var A,x;(x=A||(t.WindowsOptionsReportType=A={}))[x.GET_WIN_SIZE_PIXELS=0]="GET_WIN_SIZE_PIXELS",x[x.GET_CELL_SIZE_PIXELS=1]="GET_CELL_SIZE_PIXELS";let T=0;t.InputHandler=class extends l.Disposable{getAttrData(){return this._curAttrData}constructor(e,t,i,n,o,l,d,g,f=new a.EscapeSequenceParser){super(),this._bufferService=e,this._charsetService=t,this._coreService=i,this._logService=n,this._optionsService=o,this._oscLinkService=l,this._coreMouseService=d,this._unicodeService=g,this._parser=f,this._parseBuffer=new Uint32Array(4096),this._stringDecoder=new c.StringToUtf32,this._utf8Decoder=new c.Utf8ToUtf32,this._workCell=new p.CellData,this._windowTitle="",this._iconName="",this._windowTitleStack=[],this._iconNameStack=[],this._curAttrData=h.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=h.DEFAULT_ATTR_DATA.clone(),this._onRequestBell=this.register(new u.EventEmitter),this.onRequestBell=this._onRequestBell.event,this._onRequestRefreshRows=this.register(new u.EventEmitter),this.onRequestRefreshRows=this._onRequestRefreshRows.event,this._onRequestReset=this.register(new u.EventEmitter),this.onRequestReset=this._onRequestReset.event,this._onRequestSendFocus=this.register(new u.EventEmitter),this.onRequestSendFocus=this._onRequestSendFocus.event,this._onRequestSyncScrollBar=this.register(new u.EventEmitter),this.onRequestSyncScrollBar=this._onRequestSyncScrollBar.event,this._onRequestWindowsOptionsReport=this.register(new u.EventEmitter),this.onRequestWindowsOptionsReport=this._onRequestWindowsOptionsReport.event,this._onA11yChar=this.register(new u.EventEmitter),this.onA11yChar=this._onA11yChar.event,this._onA11yTab=this.register(new u.EventEmitter),this.onA11yTab=this._onA11yTab.event,this._onCursorMove=this.register(new u.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onLineFeed=this.register(new u.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onScroll=this.register(new u.EventEmitter),this.onScroll=this._onScroll.event,this._onTitleChange=this.register(new u.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onColor=this.register(new u.EventEmitter),this.onColor=this._onColor.event,this._parseStack={paused:!1,cursorStartX:0,cursorStartY:0,decodedLength:0,position:0},this._specialColors=[256,257,258],this.register(this._parser),this._dirtyRowTracker=new C(this._bufferService),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate(e=>this._activeBuffer=e.activeBuffer)),this._parser.setCsiHandlerFallback((e,t)=>{this._logService.debug("Unknown CSI code: ",{identifier:this._parser.identToString(e),params:t.toArray()})}),this._parser.setEscHandlerFallback(e=>{this._logService.debug("Unknown ESC code: ",{identifier:this._parser.identToString(e)})}),this._parser.setExecuteHandlerFallback(e=>{this._logService.debug("Unknown EXECUTE code: ",{code:e})}),this._parser.setOscHandlerFallback((e,t,i)=>{this._logService.debug("Unknown OSC code: ",{identifier:e,action:t,data:i})}),this._parser.setDcsHandlerFallback((e,t,i)=>{"HOOK"===t&&(i=i.toArray()),this._logService.debug("Unknown DCS code: ",{identifier:this._parser.identToString(e),action:t,payload:i})}),this._parser.setPrintHandler((e,t,i)=>this.print(e,t,i)),this._parser.registerCsiHandler({final:"@"},e=>this.insertChars(e)),this._parser.registerCsiHandler({intermediates:" ",final:"@"},e=>this.scrollLeft(e)),this._parser.registerCsiHandler({final:"A"},e=>this.cursorUp(e)),this._parser.registerCsiHandler({intermediates:" ",final:"A"},e=>this.scrollRight(e)),this._parser.registerCsiHandler({final:"B"},e=>this.cursorDown(e)),this._parser.registerCsiHandler({final:"C"},e=>this.cursorForward(e)),this._parser.registerCsiHandler({final:"D"},e=>this.cursorBackward(e)),this._parser.registerCsiHandler({final:"E"},e=>this.cursorNextLine(e)),this._parser.registerCsiHandler({final:"F"},e=>this.cursorPrecedingLine(e)),this._parser.registerCsiHandler({final:"G"},e=>this.cursorCharAbsolute(e)),this._parser.registerCsiHandler({final:"H"},e=>this.cursorPosition(e)),this._parser.registerCsiHandler({final:"I"},e=>this.cursorForwardTab(e)),this._parser.registerCsiHandler({final:"J"},e=>this.eraseInDisplay(e,!1)),this._parser.registerCsiHandler({prefix:"?",final:"J"},e=>this.eraseInDisplay(e,!0)),this._parser.registerCsiHandler({final:"K"},e=>this.eraseInLine(e,!1)),this._parser.registerCsiHandler({prefix:"?",final:"K"},e=>this.eraseInLine(e,!0)),this._parser.registerCsiHandler({final:"L"},e=>this.insertLines(e)),this._parser.registerCsiHandler({final:"M"},e=>this.deleteLines(e)),this._parser.registerCsiHandler({final:"P"},e=>this.deleteChars(e)),this._parser.registerCsiHandler({final:"S"},e=>this.scrollUp(e)),this._parser.registerCsiHandler({final:"T"},e=>this.scrollDown(e)),this._parser.registerCsiHandler({final:"X"},e=>this.eraseChars(e)),this._parser.registerCsiHandler({final:"Z"},e=>this.cursorBackwardTab(e)),this._parser.registerCsiHandler({final:"`"},e=>this.charPosAbsolute(e)),this._parser.registerCsiHandler({final:"a"},e=>this.hPositionRelative(e)),this._parser.registerCsiHandler({final:"b"},e=>this.repeatPrecedingCharacter(e)),this._parser.registerCsiHandler({final:"c"},e=>this.sendDeviceAttributesPrimary(e)),this._parser.registerCsiHandler({prefix:">",final:"c"},e=>this.sendDeviceAttributesSecondary(e)),this._parser.registerCsiHandler({final:"d"},e=>this.linePosAbsolute(e)),this._parser.registerCsiHandler({final:"e"},e=>this.vPositionRelative(e)),this._parser.registerCsiHandler({final:"f"},e=>this.hVPosition(e)),this._parser.registerCsiHandler({final:"g"},e=>this.tabClear(e)),this._parser.registerCsiHandler({final:"h"},e=>this.setMode(e)),this._parser.registerCsiHandler({prefix:"?",final:"h"},e=>this.setModePrivate(e)),this._parser.registerCsiHandler({final:"l"},e=>this.resetMode(e)),this._parser.registerCsiHandler({prefix:"?",final:"l"},e=>this.resetModePrivate(e)),this._parser.registerCsiHandler({final:"m"},e=>this.charAttributes(e)),this._parser.registerCsiHandler({final:"n"},e=>this.deviceStatus(e)),this._parser.registerCsiHandler({prefix:"?",final:"n"},e=>this.deviceStatusPrivate(e)),this._parser.registerCsiHandler({intermediates:"!",final:"p"},e=>this.softReset(e)),this._parser.registerCsiHandler({intermediates:" ",final:"q"},e=>this.setCursorStyle(e)),this._parser.registerCsiHandler({final:"r"},e=>this.setScrollRegion(e)),this._parser.registerCsiHandler({final:"s"},e=>this.saveCursor(e)),this._parser.registerCsiHandler({final:"t"},e=>this.windowOptions(e)),this._parser.registerCsiHandler({final:"u"},e=>this.restoreCursor(e)),this._parser.registerCsiHandler({intermediates:"'",final:"}"},e=>this.insertColumns(e)),this._parser.registerCsiHandler({intermediates:"'",final:"~"},e=>this.deleteColumns(e)),this._parser.registerCsiHandler({intermediates:'"',final:"q"},e=>this.selectProtected(e)),this._parser.registerCsiHandler({intermediates:"$",final:"p"},e=>this.requestMode(e,!0)),this._parser.registerCsiHandler({prefix:"?",intermediates:"$",final:"p"},e=>this.requestMode(e,!1)),this._parser.setExecuteHandler(r.C0.BEL,()=>this.bell()),this._parser.setExecuteHandler(r.C0.LF,()=>this.lineFeed()),this._parser.setExecuteHandler(r.C0.VT,()=>this.lineFeed()),this._parser.setExecuteHandler(r.C0.FF,()=>this.lineFeed()),this._parser.setExecuteHandler(r.C0.CR,()=>this.carriageReturn()),this._parser.setExecuteHandler(r.C0.BS,()=>this.backspace()),this._parser.setExecuteHandler(r.C0.HT,()=>this.tab()),this._parser.setExecuteHandler(r.C0.SO,()=>this.shiftOut()),this._parser.setExecuteHandler(r.C0.SI,()=>this.shiftIn()),this._parser.setExecuteHandler(r.C1.IND,()=>this.index()),this._parser.setExecuteHandler(r.C1.NEL,()=>this.nextLine()),this._parser.setExecuteHandler(r.C1.HTS,()=>this.tabSet()),this._parser.registerOscHandler(0,new m.OscHandler(e=>(this.setTitle(e),this.setIconName(e),!0))),this._parser.registerOscHandler(1,new m.OscHandler(e=>this.setIconName(e))),this._parser.registerOscHandler(2,new m.OscHandler(e=>this.setTitle(e))),this._parser.registerOscHandler(4,new m.OscHandler(e=>this.setOrReportIndexedColor(e))),this._parser.registerOscHandler(8,new m.OscHandler(e=>this.setHyperlink(e))),this._parser.registerOscHandler(10,new m.OscHandler(e=>this.setOrReportFgColor(e))),this._parser.registerOscHandler(11,new m.OscHandler(e=>this.setOrReportBgColor(e))),this._parser.registerOscHandler(12,new m.OscHandler(e=>this.setOrReportCursorColor(e))),this._parser.registerOscHandler(104,new m.OscHandler(e=>this.restoreIndexedColor(e))),this._parser.registerOscHandler(110,new m.OscHandler(e=>this.restoreFgColor(e))),this._parser.registerOscHandler(111,new m.OscHandler(e=>this.restoreBgColor(e))),this._parser.registerOscHandler(112,new m.OscHandler(e=>this.restoreCursorColor(e))),this._parser.registerEscHandler({final:"7"},()=>this.saveCursor()),this._parser.registerEscHandler({final:"8"},()=>this.restoreCursor()),this._parser.registerEscHandler({final:"D"},()=>this.index()),this._parser.registerEscHandler({final:"E"},()=>this.nextLine()),this._parser.registerEscHandler({final:"H"},()=>this.tabSet()),this._parser.registerEscHandler({final:"M"},()=>this.reverseIndex()),this._parser.registerEscHandler({final:"="},()=>this.keypadApplicationMode()),this._parser.registerEscHandler({final:">"},()=>this.keypadNumericMode()),this._parser.registerEscHandler({final:"c"},()=>this.fullReset()),this._parser.registerEscHandler({final:"n"},()=>this.setgLevel(2)),this._parser.registerEscHandler({final:"o"},()=>this.setgLevel(3)),this._parser.registerEscHandler({final:"|"},()=>this.setgLevel(3)),this._parser.registerEscHandler({final:"}"},()=>this.setgLevel(2)),this._parser.registerEscHandler({final:"~"},()=>this.setgLevel(1)),this._parser.registerEscHandler({intermediates:"%",final:"@"},()=>this.selectDefaultCharset()),this._parser.registerEscHandler({intermediates:"%",final:"G"},()=>this.selectDefaultCharset());for(const r in s.CHARSETS)this._parser.registerEscHandler({intermediates:"(",final:r},()=>this.selectCharset("("+r)),this._parser.registerEscHandler({intermediates:")",final:r},()=>this.selectCharset(")"+r)),this._parser.registerEscHandler({intermediates:"*",final:r},()=>this.selectCharset("*"+r)),this._parser.registerEscHandler({intermediates:"+",final:r},()=>this.selectCharset("+"+r)),this._parser.registerEscHandler({intermediates:"-",final:r},()=>this.selectCharset("-"+r)),this._parser.registerEscHandler({intermediates:".",final:r},()=>this.selectCharset("."+r)),this._parser.registerEscHandler({intermediates:"/",final:r},()=>this.selectCharset("/"+r));this._parser.registerEscHandler({intermediates:"#",final:"8"},()=>this.screenAlignmentPattern()),this._parser.setErrorHandler(e=>(this._logService.error("Parsing error: ",e),e)),this._parser.registerDcsHandler({intermediates:"$",final:"q"},new _.DcsHandler((e,t)=>this.requestStatusString(e,t)))}_preserveStack(e,t,i,n){this._parseStack.paused=!0,this._parseStack.cursorStartX=e,this._parseStack.cursorStartY=t,this._parseStack.decodedLength=i,this._parseStack.position=n}_logSlowResolvingAsync(e){this._logService.logLevel<=f.LogLevelEnum.WARN&&Promise.race([e,new Promise((e,t)=>setTimeout(()=>t("#SLOW_TIMEOUT"),5e3))]).catch(e=>{if("#SLOW_TIMEOUT"!==e)throw e;console.warn("async parser handler taking longer than 5000 ms")})}_getCurrentLinkId(){return this._curAttrData.extended.urlId}parse(e,t){let i,n=this._activeBuffer.x,o=this._activeBuffer.y,r=0;const s=this._parseStack.paused;if(s){if(i=this._parser.parse(this._parseBuffer,this._parseStack.decodedLength,t))return this._logSlowResolvingAsync(i),i;n=this._parseStack.cursorStartX,o=this._parseStack.cursorStartY,this._parseStack.paused=!1,e.length>b&&(r=this._parseStack.position+b)}if(this._logService.logLevel<=f.LogLevelEnum.DEBUG&&this._logService.debug("parsing data"+("string"==typeof e?` "${e}"`:` "${Array.prototype.map.call(e,e=>String.fromCharCode(e)).join("")}"`),"string"==typeof e?e.split("").map(e=>e.charCodeAt(0)):e),this._parseBuffer.length<e.length&&this._parseBuffer.length<b&&(this._parseBuffer=new Uint32Array(Math.min(e.length,b))),s||this._dirtyRowTracker.clearRange(),e.length>b)for(let a=r;a<e.length;a+=b){const t=a+b<e.length?a+b:e.length,r="string"==typeof e?this._stringDecoder.decode(e.substring(a,t),this._parseBuffer):this._utf8Decoder.decode(e.subarray(a,t),this._parseBuffer);if(i=this._parser.parse(this._parseBuffer,r))return this._preserveStack(n,o,r,a),this._logSlowResolvingAsync(i),i}else if(!s){const t="string"==typeof e?this._stringDecoder.decode(e,this._parseBuffer):this._utf8Decoder.decode(e,this._parseBuffer);if(i=this._parser.parse(this._parseBuffer,t))return this._preserveStack(n,o,t,0),this._logSlowResolvingAsync(i),i}this._activeBuffer.x===n&&this._activeBuffer.y===o||this._onCursorMove.fire(),this._onRequestRefreshRows.fire(this._dirtyRowTracker.start,this._dirtyRowTracker.end)}print(e,t,i){let n,o;const r=this._charsetService.charset,s=this._optionsService.rawOptions.screenReaderMode,a=this._bufferService.cols,l=this._coreService.decPrivateModes.wraparound,h=this._coreService.modes.insertMode,u=this._curAttrData;let p=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._activeBuffer.x&&i-t>0&&2===p.getWidth(this._activeBuffer.x-1)&&p.setCellFromCodePoint(this._activeBuffer.x-1,0,1,u.fg,u.bg,u.extended);for(let g=t;g<i;++g){if(n=e[g],o=this._unicodeService.wcwidth(n),n<127&&r){const e=r[String.fromCharCode(n)];e&&(n=e.charCodeAt(0))}if(s&&this._onA11yChar.fire((0,c.stringFromCodePoint)(n)),this._getCurrentLinkId()&&this._oscLinkService.addLineToLink(this._getCurrentLinkId(),this._activeBuffer.ybase+this._activeBuffer.y),o||!this._activeBuffer.x){if(this._activeBuffer.x+o-1>=a)if(l){for(;this._activeBuffer.x<a;)p.setCellFromCodePoint(this._activeBuffer.x++,0,1,u.fg,u.bg,u.extended);this._activeBuffer.x=0,this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData(),!0)):(this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!0),p=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y)}else if(this._activeBuffer.x=a-1,2===o)continue;if(h&&(p.insertCells(this._activeBuffer.x,o,this._activeBuffer.getNullCell(u),u),2===p.getWidth(a-1)&&p.setCellFromCodePoint(a-1,d.NULL_CELL_CODE,d.NULL_CELL_WIDTH,u.fg,u.bg,u.extended)),p.setCellFromCodePoint(this._activeBuffer.x++,n,o,u.fg,u.bg,u.extended),o>0)for(;--o;)p.setCellFromCodePoint(this._activeBuffer.x++,0,0,u.fg,u.bg,u.extended)}else p.getWidth(this._activeBuffer.x-1)?p.addCodepointToCell(this._activeBuffer.x-1,n):p.addCodepointToCell(this._activeBuffer.x-2,n)}i-t>0&&(p.loadCell(this._activeBuffer.x-1,this._workCell),this._parser.precedingCodepoint=2===this._workCell.getWidth()||this._workCell.getCode()>65535?0:this._workCell.isCombined()?this._workCell.getChars().charCodeAt(0):this._workCell.content),this._activeBuffer.x<a&&i-t>0&&0===p.getWidth(this._activeBuffer.x)&&!p.hasContent(this._activeBuffer.x)&&p.setCellFromCodePoint(this._activeBuffer.x,0,1,u.fg,u.bg,u.extended),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}registerCsiHandler(e,t){return this._parser.registerCsiHandler(e,"t"!==e.final||e.prefix||e.intermediates?t:e=>!w(e.params[0],this._optionsService.rawOptions.windowOptions)||t(e))}registerDcsHandler(e,t){return this._parser.registerDcsHandler(e,new _.DcsHandler(t))}registerEscHandler(e,t){return this._parser.registerEscHandler(e,t)}registerOscHandler(e,t){return this._parser.registerOscHandler(e,new m.OscHandler(t))}bell(){return this._onRequestBell.fire(),!0}lineFeed(){return this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._optionsService.rawOptions.convertEol&&(this._activeBuffer.x=0),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows?this._activeBuffer.y=this._bufferService.rows-1:this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.x>=this._bufferService.cols&&this._activeBuffer.x--,this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._onLineFeed.fire(),!0}carriageReturn(){return this._activeBuffer.x=0,!0}backspace(){var e;if(!this._coreService.decPrivateModes.reverseWraparound)return this._restrictCursor(),this._activeBuffer.x>0&&this._activeBuffer.x--,!0;if(this._restrictCursor(this._bufferService.cols),this._activeBuffer.x>0)this._activeBuffer.x--;else if(0===this._activeBuffer.x&&this._activeBuffer.y>this._activeBuffer.scrollTop&&this._activeBuffer.y<=this._activeBuffer.scrollBottom&&(null===(e=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y))||void 0===e?void 0:e.isWrapped)){this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.y--,this._activeBuffer.x=this._bufferService.cols-1;const e=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);e.hasWidth(this._activeBuffer.x)&&!e.hasContent(this._activeBuffer.x)&&this._activeBuffer.x--}return this._restrictCursor(),!0}tab(){if(this._activeBuffer.x>=this._bufferService.cols)return!0;const e=this._activeBuffer.x;return this._activeBuffer.x=this._activeBuffer.nextStop(),this._optionsService.rawOptions.screenReaderMode&&this._onA11yTab.fire(this._activeBuffer.x-e),!0}shiftOut(){return this._charsetService.setgLevel(1),!0}shiftIn(){return this._charsetService.setgLevel(0),!0}_restrictCursor(e=this._bufferService.cols-1){this._activeBuffer.x=Math.min(e,Math.max(0,this._activeBuffer.x)),this._activeBuffer.y=this._coreService.decPrivateModes.origin?Math.min(this._activeBuffer.scrollBottom,Math.max(this._activeBuffer.scrollTop,this._activeBuffer.y)):Math.min(this._bufferService.rows-1,Math.max(0,this._activeBuffer.y)),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_setCursor(e,t){this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._coreService.decPrivateModes.origin?(this._activeBuffer.x=e,this._activeBuffer.y=this._activeBuffer.scrollTop+t):(this._activeBuffer.x=e,this._activeBuffer.y=t),this._restrictCursor(),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_moveCursor(e,t){this._restrictCursor(),this._setCursor(this._activeBuffer.x+e,this._activeBuffer.y+t)}cursorUp(e){const t=this._activeBuffer.y-this._activeBuffer.scrollTop;return this._moveCursor(0,t>=0?-Math.min(t,e.params[0]||1):-(e.params[0]||1)),!0}cursorDown(e){const t=this._activeBuffer.scrollBottom-this._activeBuffer.y;return this._moveCursor(0,t>=0?Math.min(t,e.params[0]||1):e.params[0]||1),!0}cursorForward(e){return this._moveCursor(e.params[0]||1,0),!0}cursorBackward(e){return this._moveCursor(-(e.params[0]||1),0),!0}cursorNextLine(e){return this.cursorDown(e),this._activeBuffer.x=0,!0}cursorPrecedingLine(e){return this.cursorUp(e),this._activeBuffer.x=0,!0}cursorCharAbsolute(e){return this._setCursor((e.params[0]||1)-1,this._activeBuffer.y),!0}cursorPosition(e){return this._setCursor(e.length>=2?(e.params[1]||1)-1:0,(e.params[0]||1)-1),!0}charPosAbsolute(e){return this._setCursor((e.params[0]||1)-1,this._activeBuffer.y),!0}hPositionRelative(e){return this._moveCursor(e.params[0]||1,0),!0}linePosAbsolute(e){return this._setCursor(this._activeBuffer.x,(e.params[0]||1)-1),!0}vPositionRelative(e){return this._moveCursor(0,e.params[0]||1),!0}hVPosition(e){return this.cursorPosition(e),!0}tabClear(e){const t=e.params[0];return 0===t?delete this._activeBuffer.tabs[this._activeBuffer.x]:3===t&&(this._activeBuffer.tabs={}),!0}cursorForwardTab(e){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let t=e.params[0]||1;for(;t--;)this._activeBuffer.x=this._activeBuffer.nextStop();return!0}cursorBackwardTab(e){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let t=e.params[0]||1;for(;t--;)this._activeBuffer.x=this._activeBuffer.prevStop();return!0}selectProtected(e){const t=e.params[0];return 1===t&&(this._curAttrData.bg|=536870912),2!==t&&0!==t||(this._curAttrData.bg&=-536870913),!0}_eraseInBufferLine(e,t,i,n=!1,o=!1){const r=this._activeBuffer.lines.get(this._activeBuffer.ybase+e);r.replaceCells(t,i,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData(),o),n&&(r.isWrapped=!1)}_resetBufferLine(e,t=!1){const i=this._activeBuffer.lines.get(this._activeBuffer.ybase+e);i&&(i.fill(this._activeBuffer.getNullCell(this._eraseAttrData()),t),this._bufferService.buffer.clearMarkers(this._activeBuffer.ybase+e),i.isWrapped=!1)}eraseInDisplay(e,t=!1){let i;switch(this._restrictCursor(this._bufferService.cols),e.params[0]){case 0:for(i=this._activeBuffer.y,this._dirtyRowTracker.markDirty(i),this._eraseInBufferLine(i++,this._activeBuffer.x,this._bufferService.cols,0===this._activeBuffer.x,t);i<this._bufferService.rows;i++)this._resetBufferLine(i,t);this._dirtyRowTracker.markDirty(i);break;case 1:for(i=this._activeBuffer.y,this._dirtyRowTracker.markDirty(i),this._eraseInBufferLine(i,0,this._activeBuffer.x+1,!0,t),this._activeBuffer.x+1>=this._bufferService.cols&&(this._activeBuffer.lines.get(i+1).isWrapped=!1);i--;)this._resetBufferLine(i,t);this._dirtyRowTracker.markDirty(0);break;case 2:for(i=this._bufferService.rows,this._dirtyRowTracker.markDirty(i-1);i--;)this._resetBufferLine(i,t);this._dirtyRowTracker.markDirty(0);break;case 3:const e=this._activeBuffer.lines.length-this._bufferService.rows;e>0&&(this._activeBuffer.lines.trimStart(e),this._activeBuffer.ybase=Math.max(this._activeBuffer.ybase-e,0),this._activeBuffer.ydisp=Math.max(this._activeBuffer.ydisp-e,0),this._onScroll.fire(0))}return!0}eraseInLine(e,t=!1){switch(this._restrictCursor(this._bufferService.cols),e.params[0]){case 0:this._eraseInBufferLine(this._activeBuffer.y,this._activeBuffer.x,this._bufferService.cols,0===this._activeBuffer.x,t);break;case 1:this._eraseInBufferLine(this._activeBuffer.y,0,this._activeBuffer.x+1,!1,t);break;case 2:this._eraseInBufferLine(this._activeBuffer.y,0,this._bufferService.cols,!0,t)}return this._dirtyRowTracker.markDirty(this._activeBuffer.y),!0}insertLines(e){this._restrictCursor();let t=e.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const i=this._activeBuffer.ybase+this._activeBuffer.y,n=this._bufferService.rows-1+this._activeBuffer.ybase-(this._bufferService.rows-1-this._activeBuffer.scrollBottom)+1;for(;t--;)this._activeBuffer.lines.splice(n-1,1),this._activeBuffer.lines.splice(i,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}deleteLines(e){this._restrictCursor();let t=e.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const i=this._activeBuffer.ybase+this._activeBuffer.y;let n;for(n=this._bufferService.rows-1-this._activeBuffer.scrollBottom,n=this._bufferService.rows-1+this._activeBuffer.ybase-n;t--;)this._activeBuffer.lines.splice(i,1),this._activeBuffer.lines.splice(n,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}insertChars(e){this._restrictCursor();const t=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return t&&(t.insertCells(this._activeBuffer.x,e.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}deleteChars(e){this._restrictCursor();const t=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return t&&(t.deleteCells(this._activeBuffer.x,e.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}scrollUp(e){let t=e.params[0]||1;for(;t--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollDown(e){let t=e.params[0]||1;for(;t--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,0,this._activeBuffer.getBlankLine(h.DEFAULT_ATTR_DATA));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollLeft(e){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const t=e.params[0]||1;for(let i=this._activeBuffer.scrollTop;i<=this._activeBuffer.scrollBottom;++i){const e=this._activeBuffer.lines.get(this._activeBuffer.ybase+i);e.deleteCells(0,t,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),e.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollRight(e){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const t=e.params[0]||1;for(let i=this._activeBuffer.scrollTop;i<=this._activeBuffer.scrollBottom;++i){const e=this._activeBuffer.lines.get(this._activeBuffer.ybase+i);e.insertCells(0,t,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),e.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}insertColumns(e){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const t=e.params[0]||1;for(let i=this._activeBuffer.scrollTop;i<=this._activeBuffer.scrollBottom;++i){const e=this._activeBuffer.lines.get(this._activeBuffer.ybase+i);e.insertCells(this._activeBuffer.x,t,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),e.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}deleteColumns(e){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const t=e.params[0]||1;for(let i=this._activeBuffer.scrollTop;i<=this._activeBuffer.scrollBottom;++i){const e=this._activeBuffer.lines.get(this._activeBuffer.ybase+i);e.deleteCells(this._activeBuffer.x,t,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),e.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}eraseChars(e){this._restrictCursor();const t=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return t&&(t.replaceCells(this._activeBuffer.x,this._activeBuffer.x+(e.params[0]||1),this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}repeatPrecedingCharacter(e){if(!this._parser.precedingCodepoint)return!0;const t=e.params[0]||1,i=new Uint32Array(t);for(let n=0;n<t;++n)i[n]=this._parser.precedingCodepoint;return this.print(i,0,i.length),!0}sendDeviceAttributesPrimary(e){return e.params[0]>0||(this._is("xterm")||this._is("rxvt-unicode")||this._is("screen")?this._coreService.triggerDataEvent(r.C0.ESC+"[?1;2c"):this._is("linux")&&this._coreService.triggerDataEvent(r.C0.ESC+"[?6c")),!0}sendDeviceAttributesSecondary(e){return e.params[0]>0||(this._is("xterm")?this._coreService.triggerDataEvent(r.C0.ESC+"[>0;276;0c"):this._is("rxvt-unicode")?this._coreService.triggerDataEvent(r.C0.ESC+"[>85;95;0c"):this._is("linux")?this._coreService.triggerDataEvent(e.params[0]+"c"):this._is("screen")&&this._coreService.triggerDataEvent(r.C0.ESC+"[>83;40003;0c")),!0}_is(e){return 0===(this._optionsService.rawOptions.termName+"").indexOf(e)}setMode(e){for(let t=0;t<e.length;t++)switch(e.params[t]){case 4:this._coreService.modes.insertMode=!0;break;case 20:this._optionsService.options.convertEol=!0}return!0}setModePrivate(e){for(let t=0;t<e.length;t++)switch(e.params[t]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!0;break;case 2:this._charsetService.setgCharset(0,s.DEFAULT_CHARSET),this._charsetService.setgCharset(1,s.DEFAULT_CHARSET),this._charsetService.setgCharset(2,s.DEFAULT_CHARSET),this._charsetService.setgCharset(3,s.DEFAULT_CHARSET);break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(132,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!0,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!0;break;case 12:this._optionsService.options.cursorBlink=!0;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!0;break;case 66:this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire();break;case 9:this._coreMouseService.activeProtocol="X10";break;case 1e3:this._coreMouseService.activeProtocol="VT200";break;case 1002:this._coreMouseService.activeProtocol="DRAG";break;case 1003:this._coreMouseService.activeProtocol="ANY";break;case 1004:this._coreService.decPrivateModes.sendFocus=!0,this._onRequestSendFocus.fire();break;case 1005:this._logService.debug("DECSET 1005 not supported (see #2507)");break;case 1006:this._coreMouseService.activeEncoding="SGR";break;case 1015:this._logService.debug("DECSET 1015 not supported (see #2507)");break;case 1016:this._coreMouseService.activeEncoding="SGR_PIXELS";break;case 25:this._coreService.isCursorHidden=!1;break;case 1048:this.saveCursor();break;case 1049:this.saveCursor();case 47:case 1047:this._bufferService.buffers.activateAltBuffer(this._eraseAttrData()),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!0}return!0}resetMode(e){for(let t=0;t<e.length;t++)switch(e.params[t]){case 4:this._coreService.modes.insertMode=!1;break;case 20:this._optionsService.options.convertEol=!1}return!0}resetModePrivate(e){for(let t=0;t<e.length;t++)switch(e.params[t]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!1;break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(80,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!1,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!1;break;case 12:this._optionsService.options.cursorBlink=!1;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!1;break;case 66:this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire();break;case 9:case 1e3:case 1002:case 1003:this._coreMouseService.activeProtocol="NONE";break;case 1004:this._coreService.decPrivateModes.sendFocus=!1;break;case 1005:this._logService.debug("DECRST 1005 not supported (see #2507)");break;case 1006:case 1016:this._coreMouseService.activeEncoding="DEFAULT";break;case 1015:this._logService.debug("DECRST 1015 not supported (see #2507)");break;case 25:this._coreService.isCursorHidden=!0;break;case 1048:this.restoreCursor();break;case 1049:case 47:case 1047:this._bufferService.buffers.activateNormalBuffer(),1049===e.params[t]&&this.restoreCursor(),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!1}return!0}requestMode(e,t){const i=this._coreService.decPrivateModes,{activeProtocol:n,activeEncoding:o}=this._coreMouseService,s=this._coreService,{buffers:a,cols:l}=this._bufferService,{active:c,alt:h}=a,u=this._optionsService.rawOptions,d=e=>e?1:2,p=e.params[0];return g=p,f=t?2===p?4:4===p?d(s.modes.insertMode):12===p?3:20===p?d(u.convertEol):0:1===p?d(i.applicationCursorKeys):3===p?u.windowOptions.setWinLines?80===l?2:132===l?1:0:0:6===p?d(i.origin):7===p?d(i.wraparound):8===p?3:9===p?d("X10"===n):12===p?d(u.cursorBlink):25===p?d(!s.isCursorHidden):45===p?d(i.reverseWraparound):66===p?d(i.applicationKeypad):67===p?4:1e3===p?d("VT200"===n):1002===p?d("DRAG"===n):1003===p?d("ANY"===n):1004===p?d(i.sendFocus):1005===p?4:1006===p?d("SGR"===o):1015===p?4:1016===p?d("SGR_PIXELS"===o):1048===p?1:47===p||1047===p||1049===p?d(c===h):2004===p?d(i.bracketedPasteMode):0,s.triggerDataEvent(`${r.C0.ESC}[${t?"":"?"}${g};${f}$y`),!0;var g,f}_updateAttrColor(e,t,i,n,o){return 2===t?(e|=50331648,e&=-16777216,e|=g.AttributeData.fromColorRGB([i,n,o])):5===t&&(e&=-50331904,e|=33554432|255&i),e}_extractColor(e,t,i){const n=[0,0,-1,0,0,0];let o=0,r=0;do{if(n[r+o]=e.params[t+r],e.hasSubParams(t+r)){const i=e.getSubParams(t+r);let s=0;do{5===n[1]&&(o=1),n[r+s+1+o]=i[s]}while(++s<i.length&&s+r+1+o<n.length);break}if(5===n[1]&&r+o>=2||2===n[1]&&r+o>=5)break;n[1]&&(o=1)}while(++r+t<e.length&&r+o<n.length);for(let s=2;s<n.length;++s)-1===n[s]&&(n[s]=0);switch(n[0]){case 38:i.fg=this._updateAttrColor(i.fg,n[1],n[3],n[4],n[5]);break;case 48:i.bg=this._updateAttrColor(i.bg,n[1],n[3],n[4],n[5]);break;case 58:i.extended=i.extended.clone(),i.extended.underlineColor=this._updateAttrColor(i.extended.underlineColor,n[1],n[3],n[4],n[5])}return r}_processUnderline(e,t){t.extended=t.extended.clone(),(!~e||e>5)&&(e=1),t.extended.underlineStyle=e,t.fg|=268435456,0===e&&(t.fg&=-268435457),t.updateExtended()}_processSGR0(e){e.fg=h.DEFAULT_ATTR_DATA.fg,e.bg=h.DEFAULT_ATTR_DATA.bg,e.extended=e.extended.clone(),e.extended.underlineStyle=0,e.extended.underlineColor&=-67108864,e.updateExtended()}charAttributes(e){if(1===e.length&&0===e.params[0])return this._processSGR0(this._curAttrData),!0;const t=e.length;let i;const n=this._curAttrData;for(let o=0;o<t;o++)i=e.params[o],i>=30&&i<=37?(n.fg&=-50331904,n.fg|=16777216|i-30):i>=40&&i<=47?(n.bg&=-50331904,n.bg|=16777216|i-40):i>=90&&i<=97?(n.fg&=-50331904,n.fg|=16777224|i-90):i>=100&&i<=107?(n.bg&=-50331904,n.bg|=16777224|i-100):0===i?this._processSGR0(n):1===i?n.fg|=134217728:3===i?n.bg|=67108864:4===i?(n.fg|=268435456,this._processUnderline(e.hasSubParams(o)?e.getSubParams(o)[0]:1,n)):5===i?n.fg|=536870912:7===i?n.fg|=67108864:8===i?n.fg|=1073741824:9===i?n.fg|=2147483648:2===i?n.bg|=134217728:21===i?this._processUnderline(2,n):22===i?(n.fg&=-134217729,n.bg&=-134217729):23===i?n.bg&=-67108865:24===i?(n.fg&=-268435457,this._processUnderline(0,n)):25===i?n.fg&=-536870913:27===i?n.fg&=-67108865:28===i?n.fg&=-1073741825:29===i?n.fg&=2147483647:39===i?(n.fg&=-67108864,n.fg|=16777215&h.DEFAULT_ATTR_DATA.fg):49===i?(n.bg&=-67108864,n.bg|=16777215&h.DEFAULT_ATTR_DATA.bg):38===i||48===i||58===i?o+=this._extractColor(e,o,n):53===i?n.bg|=1073741824:55===i?n.bg&=-1073741825:59===i?(n.extended=n.extended.clone(),n.extended.underlineColor=-1,n.updateExtended()):100===i?(n.fg&=-67108864,n.fg|=16777215&h.DEFAULT_ATTR_DATA.fg,n.bg&=-67108864,n.bg|=16777215&h.DEFAULT_ATTR_DATA.bg):this._logService.debug("Unknown SGR attribute: %d.",i);return!0}deviceStatus(e){switch(e.params[0]){case 5:this._coreService.triggerDataEvent(`${r.C0.ESC}[0n`);break;case 6:this._coreService.triggerDataEvent(`${r.C0.ESC}[${this._activeBuffer.y+1};${this._activeBuffer.x+1}R`)}return!0}deviceStatusPrivate(e){return 6===e.params[0]&&this._coreService.triggerDataEvent(`${r.C0.ESC}[?${this._activeBuffer.y+1};${this._activeBuffer.x+1}R`),!0}softReset(e){return this._coreService.isCursorHidden=!1,this._onRequestSyncScrollBar.fire(),this._activeBuffer.scrollTop=0,this._activeBuffer.scrollBottom=this._bufferService.rows-1,this._curAttrData=h.DEFAULT_ATTR_DATA.clone(),this._coreService.reset(),this._charsetService.reset(),this._activeBuffer.savedX=0,this._activeBuffer.savedY=this._activeBuffer.ybase,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,this._coreService.decPrivateModes.origin=!1,!0}setCursorStyle(e){const t=e.params[0]||1;switch(t){case 1:case 2:this._optionsService.options.cursorStyle="block";break;case 3:case 4:this._optionsService.options.cursorStyle="underline";break;case 5:case 6:this._optionsService.options.cursorStyle="bar"}return this._optionsService.options.cursorBlink=t%2==1,!0}setScrollRegion(e){const t=e.params[0]||1;let i;return(e.length<2||(i=e.params[1])>this._bufferService.rows||0===i)&&(i=this._bufferService.rows),i>t&&(this._activeBuffer.scrollTop=t-1,this._activeBuffer.scrollBottom=i-1,this._setCursor(0,0)),!0}windowOptions(e){if(!w(e.params[0],this._optionsService.rawOptions.windowOptions))return!0;const t=e.length>1?e.params[1]:0;switch(e.params[0]){case 14:2!==t&&this._onRequestWindowsOptionsReport.fire(A.GET_WIN_SIZE_PIXELS);break;case 16:this._onRequestWindowsOptionsReport.fire(A.GET_CELL_SIZE_PIXELS);break;case 18:this._bufferService&&this._coreService.triggerDataEvent(`${r.C0.ESC}[8;${this._bufferService.rows};${this._bufferService.cols}t`);break;case 22:0!==t&&2!==t||(this._windowTitleStack.push(this._windowTitle),this._windowTitleStack.length>10&&this._windowTitleStack.shift()),0!==t&&1!==t||(this._iconNameStack.push(this._iconName),this._iconNameStack.length>10&&this._iconNameStack.shift());break;case 23:0!==t&&2!==t||this._windowTitleStack.length&&this.setTitle(this._windowTitleStack.pop()),0!==t&&1!==t||this._iconNameStack.length&&this.setIconName(this._iconNameStack.pop())}return!0}saveCursor(e){return this._activeBuffer.savedX=this._activeBuffer.x,this._activeBuffer.savedY=this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,!0}restoreCursor(e){return this._activeBuffer.x=this._activeBuffer.savedX||0,this._activeBuffer.y=Math.max(this._activeBuffer.savedY-this._activeBuffer.ybase,0),this._curAttrData.fg=this._activeBuffer.savedCurAttrData.fg,this._curAttrData.bg=this._activeBuffer.savedCurAttrData.bg,this._charsetService.charset=this._savedCharset,this._activeBuffer.savedCharset&&(this._charsetService.charset=this._activeBuffer.savedCharset),this._restrictCursor(),!0}setTitle(e){return this._windowTitle=e,this._onTitleChange.fire(e),!0}setIconName(e){return this._iconName=e,!0}setOrReportIndexedColor(e){const t=[],i=e.split(";");for(;i.length>1;){const e=i.shift(),n=i.shift();if(/^\d+$/.exec(e)){const i=parseInt(e);if(Z(i))if("?"===n)t.push({type:0,index:i});else{const e=(0,v.parseColor)(n);e&&t.push({type:1,index:i,color:e})}}}return t.length&&this._onColor.fire(t),!0}setHyperlink(e){const t=e.split(";");return!(t.length<2)&&(t[1]?this._createHyperlink(t[0],t[1]):!t[0]&&this._finishHyperlink())}_createHyperlink(e,t){this._getCurrentLinkId()&&this._finishHyperlink();const i=e.split(":");let n;const o=i.findIndex(e=>e.startsWith("id="));return-1!==o&&(n=i[o].slice(3)||void 0),this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=this._oscLinkService.registerLink({id:n,uri:t}),this._curAttrData.updateExtended(),!0}_finishHyperlink(){return this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=0,this._curAttrData.updateExtended(),!0}_setOrReportSpecialColor(e,t){const i=e.split(";");for(let n=0;n<i.length&&!(t>=this._specialColors.length);++n,++t)if("?"===i[n])this._onColor.fire([{type:0,index:this._specialColors[t]}]);else{const e=(0,v.parseColor)(i[n]);e&&this._onColor.fire([{type:1,index:this._specialColors[t],color:e}])}return!0}setOrReportFgColor(e){return this._setOrReportSpecialColor(e,0)}setOrReportBgColor(e){return this._setOrReportSpecialColor(e,1)}setOrReportCursorColor(e){return this._setOrReportSpecialColor(e,2)}restoreIndexedColor(e){if(!e)return this._onColor.fire([{type:2}]),!0;const t=[],i=e.split(";");for(let n=0;n<i.length;++n)if(/^\d+$/.exec(i[n])){const e=parseInt(i[n]);Z(e)&&t.push({type:2,index:e})}return t.length&&this._onColor.fire(t),!0}restoreFgColor(e){return this._onColor.fire([{type:2,index:256}]),!0}restoreBgColor(e){return this._onColor.fire([{type:2,index:257}]),!0}restoreCursorColor(e){return this._onColor.fire([{type:2,index:258}]),!0}nextLine(){return this._activeBuffer.x=0,this.index(),!0}keypadApplicationMode(){return this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire(),!0}keypadNumericMode(){return this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire(),!0}selectDefaultCharset(){return this._charsetService.setgLevel(0),this._charsetService.setgCharset(0,s.DEFAULT_CHARSET),!0}selectCharset(e){return 2!==e.length?(this.selectDefaultCharset(),!0):("/"===e[0]||this._charsetService.setgCharset(y[e[0]],s.CHARSETS[e[1]]||s.DEFAULT_CHARSET),!0)}index(){return this._restrictCursor(),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._restrictCursor(),!0}tabSet(){return this._activeBuffer.tabs[this._activeBuffer.x]=!0,!0}reverseIndex(){return this._restrictCursor(),this._activeBuffer.y===this._activeBuffer.scrollTop?(this._activeBuffer.lines.shiftElements(this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.scrollBottom-this._activeBuffer.scrollTop,1),this._activeBuffer.lines.set(this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.getBlankLine(this._eraseAttrData())),this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom)):(this._activeBuffer.y--,this._restrictCursor()),!0}fullReset(){return this._parser.reset(),this._onRequestReset.fire(),!0}reset(){this._curAttrData=h.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=h.DEFAULT_ATTR_DATA.clone()}_eraseAttrData(){return this._eraseAttrDataInternal.bg&=-67108864,this._eraseAttrDataInternal.bg|=67108863&this._curAttrData.bg,this._eraseAttrDataInternal}setgLevel(e){return this._charsetService.setgLevel(e),!0}screenAlignmentPattern(){const e=new p.CellData;e.content=1<<22|"E".charCodeAt(0),e.fg=this._curAttrData.fg,e.bg=this._curAttrData.bg,this._setCursor(0,0);for(let t=0;t<this._bufferService.rows;++t){const i=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y+t);i&&(i.fill(e),i.isWrapped=!1)}return this._dirtyRowTracker.markAllDirty(),this._setCursor(0,0),!0}requestStatusString(e,t){const i=this._bufferService.buffer,n=this._optionsService.rawOptions;return(e=>(this._coreService.triggerDataEvent(`${r.C0.ESC}${e}${r.C0.ESC}\\`),!0))('"q'===e?`P1$r${this._curAttrData.isProtected()?1:0}"q`:'"p'===e?'P1$r61;1"p':"r"===e?`P1$r${i.scrollTop+1};${i.scrollBottom+1}r`:"m"===e?"P1$r0m":" q"===e?`P1$r${{block:2,underline:4,bar:6}[n.cursorStyle]-(n.cursorBlink?1:0)} q`:"P0$r")}markRangeDirty(e,t){this._dirtyRowTracker.markRangeDirty(e,t)}};let C=class{constructor(e){this._bufferService=e,this.clearRange()}clearRange(){this.start=this._bufferService.buffer.y,this.end=this._bufferService.buffer.y}markDirty(e){e<this.start?this.start=e:e>this.end&&(this.end=e)}markRangeDirty(e,t){e>t&&(T=e,e=t,t=T),e<this.start&&(this.start=e),t>this.end&&(this.end=t)}markAllDirty(){this.markRangeDirty(0,this._bufferService.rows-1)}};function Z(e){return 0<=e&&e<256}C=n([o(0,f.IBufferService)],C)},844:(e,t)=>{function i(e){for(const t of e)t.dispose();e.length=0}Object.defineProperty(t,"__esModule",{value:!0}),t.getDisposeArrayDisposable=t.disposeArray=t.toDisposable=t.MutableDisposable=t.Disposable=void 0,t.Disposable=class{constructor(){this._disposables=[],this._isDisposed=!1}dispose(){this._isDisposed=!0;for(const e of this._disposables)e.dispose();this._disposables.length=0}register(e){return this._disposables.push(e),e}unregister(e){const t=this._disposables.indexOf(e);-1!==t&&this._disposables.splice(t,1)}},t.MutableDisposable=class{constructor(){this._isDisposed=!1}get value(){return this._isDisposed?void 0:this._value}set value(e){var t;this._isDisposed||e===this._value||(null===(t=this._value)||void 0===t||t.dispose(),this._value=e)}clear(){this.value=void 0}dispose(){var e;this._isDisposed=!0,null===(e=this._value)||void 0===e||e.dispose(),this._value=void 0}},t.toDisposable=function(e){return{dispose:e}},t.disposeArray=i,t.getDisposeArrayDisposable=function(e){return{dispose:()=>i(e)}}},1505:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FourKeyMap=t.TwoKeyMap=void 0;class i{constructor(){this._data={}}set(e,t,i){this._data[e]||(this._data[e]={}),this._data[e][t]=i}get(e,t){return this._data[e]?this._data[e][t]:void 0}clear(){this._data={}}}t.TwoKeyMap=i,t.FourKeyMap=class{constructor(){this._data=new i}set(e,t,n,o,r){this._data.get(e,t)||this._data.set(e,t,new i),this._data.get(e,t).set(n,o,r)}get(e,t,i,n){var o;return null===(o=this._data.get(e,t))||void 0===o?void 0:o.get(i,n)}clear(){this._data.clear()}}},6114:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isChromeOS=t.isLinux=t.isWindows=t.isIphone=t.isIpad=t.isMac=t.getSafariVersion=t.isSafari=t.isLegacyEdge=t.isFirefox=t.isNode=void 0,t.isNode="undefined"==typeof navigator;const i=t.isNode?"node":navigator.userAgent,n=t.isNode?"node":navigator.platform;t.isFirefox=i.includes("Firefox"),t.isLegacyEdge=i.includes("Edge"),t.isSafari=/^((?!chrome|android).)*safari/i.test(i),t.getSafariVersion=function(){if(!t.isSafari)return 0;const e=i.match(/Version\/(\d+)/);return null===e||e.length<2?0:parseInt(e[1])},t.isMac=["Macintosh","MacIntel","MacPPC","Mac68K"].includes(n),t.isIpad="iPad"===n,t.isIphone="iPhone"===n,t.isWindows=["Windows","Win16","Win32","WinCE"].includes(n),t.isLinux=n.indexOf("Linux")>=0,t.isChromeOS=/\bCrOS\b/.test(i)},6106:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SortedList=void 0;let i=0;t.SortedList=class{constructor(e){this._getKey=e,this._array=[]}clear(){this._array.length=0}insert(e){0!==this._array.length?(i=this._search(this._getKey(e)),this._array.splice(i,0,e)):this._array.push(e)}delete(e){if(0===this._array.length)return!1;const t=this._getKey(e);if(void 0===t||(i=this._search(t),-1===i)||this._getKey(this._array[i])!==t)return!1;do{if(this._array[i]===e)return this._array.splice(i,1),!0}while(++i<this._array.length&&this._getKey(this._array[i])===t);return!1}*getKeyIterator(e){if(0!==this._array.length&&(i=this._search(e),!(i<0||i>=this._array.length)&&this._getKey(this._array[i])===e))do{yield this._array[i]}while(++i<this._array.length&&this._getKey(this._array[i])===e)}forEachByKey(e,t){if(0!==this._array.length&&(i=this._search(e),!(i<0||i>=this._array.length)&&this._getKey(this._array[i])===e))do{t(this._array[i])}while(++i<this._array.length&&this._getKey(this._array[i])===e)}values(){return[...this._array].values()}_search(e){let t=0,i=this._array.length-1;for(;i>=t;){let n=t+i>>1;const o=this._getKey(this._array[n]);if(o>e)i=n-1;else{if(!(o<e)){for(;n>0&&this._getKey(this._array[n-1])===e;)n--;return n}t=n+1}}return t}}},7226:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DebouncedIdleTask=t.IdleTaskQueue=t.PriorityTaskQueue=void 0;const n=i(6114);class o{constructor(){this._tasks=[],this._i=0}enqueue(e){this._tasks.push(e),this._start()}flush(){for(;this._i<this._tasks.length;)this._tasks[this._i]()||this._i++;this.clear()}clear(){this._idleCallback&&(this._cancelCallback(this._idleCallback),this._idleCallback=void 0),this._i=0,this._tasks.length=0}_start(){this._idleCallback||(this._idleCallback=this._requestCallback(this._process.bind(this)))}_process(e){this._idleCallback=void 0;let t=0,i=0,n=e.timeRemaining(),o=0;for(;this._i<this._tasks.length;){if(t=Date.now(),this._tasks[this._i]()||this._i++,t=Math.max(1,Date.now()-t),i=Math.max(t,i),o=e.timeRemaining(),1.5*i>o)return n-t<-20&&console.warn(`task queue exceeded allotted deadline by ${Math.abs(Math.round(n-t))}ms`),void this._start();n=o}this.clear()}}class r extends o{_requestCallback(e){return setTimeout(()=>e(this._createDeadline(16)))}_cancelCallback(e){clearTimeout(e)}_createDeadline(e){const t=Date.now()+e;return{timeRemaining:()=>Math.max(0,t-Date.now())}}}t.PriorityTaskQueue=r,t.IdleTaskQueue=!n.isNode&&"requestIdleCallback"in window?class extends o{_requestCallback(e){return requestIdleCallback(e)}_cancelCallback(e){cancelIdleCallback(e)}}:r,t.DebouncedIdleTask=class{constructor(){this._queue=new t.IdleTaskQueue}set(e){this._queue.clear(),this._queue.enqueue(e)}flush(){this._queue.flush()}}},9282:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.updateWindowsModeWrappedState=void 0;const n=i(643);t.updateWindowsModeWrappedState=function(e){const t=e.buffer.lines.get(e.buffer.ybase+e.buffer.y-1),i=null==t?void 0:t.get(e.cols-1),o=e.buffer.lines.get(e.buffer.ybase+e.buffer.y);o&&i&&(o.isWrapped=i[n.CHAR_DATA_CODE_INDEX]!==n.NULL_CELL_CODE&&i[n.CHAR_DATA_CODE_INDEX]!==n.WHITESPACE_CELL_CODE)}},3734:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ExtendedAttrs=t.AttributeData=void 0;class i{constructor(){this.fg=0,this.bg=0,this.extended=new n}static toColorRGB(e){return[e>>>16&255,e>>>8&255,255&e]}static fromColorRGB(e){return(255&e[0])<<16|(255&e[1])<<8|255&e[2]}clone(){const e=new i;return e.fg=this.fg,e.bg=this.bg,e.extended=this.extended.clone(),e}isInverse(){return 67108864&this.fg}isBold(){return 134217728&this.fg}isUnderline(){return this.hasExtendedAttrs()&&0!==this.extended.underlineStyle?1:268435456&this.fg}isBlink(){return 536870912&this.fg}isInvisible(){return 1073741824&this.fg}isItalic(){return 67108864&this.bg}isDim(){return 134217728&this.bg}isStrikethrough(){return 2147483648&this.fg}isProtected(){return 536870912&this.bg}isOverline(){return 1073741824&this.bg}getFgColorMode(){return 50331648&this.fg}getBgColorMode(){return 50331648&this.bg}isFgRGB(){return 50331648==(50331648&this.fg)}isBgRGB(){return 50331648==(50331648&this.bg)}isFgPalette(){return 16777216==(50331648&this.fg)||33554432==(50331648&this.fg)}isBgPalette(){return 16777216==(50331648&this.bg)||33554432==(50331648&this.bg)}isFgDefault(){return 0==(50331648&this.fg)}isBgDefault(){return 0==(50331648&this.bg)}isAttributeDefault(){return 0===this.fg&&0===this.bg}getFgColor(){switch(50331648&this.fg){case 16777216:case 33554432:return 255&this.fg;case 50331648:return 16777215&this.fg;default:return-1}}getBgColor(){switch(50331648&this.bg){case 16777216:case 33554432:return 255&this.bg;case 50331648:return 16777215&this.bg;default:return-1}}hasExtendedAttrs(){return 268435456&this.bg}updateExtended(){this.extended.isEmpty()?this.bg&=-268435457:this.bg|=268435456}getUnderlineColor(){if(268435456&this.bg&&~this.extended.underlineColor)switch(50331648&this.extended.underlineColor){case 16777216:case 33554432:return 255&this.extended.underlineColor;case 50331648:return 16777215&this.extended.underlineColor;default:return this.getFgColor()}return this.getFgColor()}getUnderlineColorMode(){return 268435456&this.bg&&~this.extended.underlineColor?50331648&this.extended.underlineColor:this.getFgColorMode()}isUnderlineColorRGB(){return 268435456&this.bg&&~this.extended.underlineColor?50331648==(50331648&this.extended.underlineColor):this.isFgRGB()}isUnderlineColorPalette(){return 268435456&this.bg&&~this.extended.underlineColor?16777216==(50331648&this.extended.underlineColor)||33554432==(50331648&this.extended.underlineColor):this.isFgPalette()}isUnderlineColorDefault(){return 268435456&this.bg&&~this.extended.underlineColor?0==(50331648&this.extended.underlineColor):this.isFgDefault()}getUnderlineStyle(){return 268435456&this.fg?268435456&this.bg?this.extended.underlineStyle:1:0}}t.AttributeData=i;class n{get ext(){return this._urlId?-469762049&this._ext|this.underlineStyle<<26:this._ext}set ext(e){this._ext=e}get underlineStyle(){return this._urlId?5:(469762048&this._ext)>>26}set underlineStyle(e){this._ext&=-469762049,this._ext|=e<<26&469762048}get underlineColor(){return 67108863&this._ext}set underlineColor(e){this._ext&=-67108864,this._ext|=67108863&e}get urlId(){return this._urlId}set urlId(e){this._urlId=e}constructor(e=0,t=0){this._ext=0,this._urlId=0,this._ext=e,this._urlId=t}clone(){return new n(this._ext,this._urlId)}isEmpty(){return 0===this.underlineStyle&&0===this._urlId}}t.ExtendedAttrs=n},9092:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Buffer=t.MAX_BUFFER_SIZE=void 0;const n=i(6349),o=i(7226),r=i(3734),s=i(8437),a=i(4634),l=i(511),c=i(643),h=i(4863),u=i(7116);t.MAX_BUFFER_SIZE=4294967295,t.Buffer=class{constructor(e,t,i){this._hasScrollback=e,this._optionsService=t,this._bufferService=i,this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.tabs={},this.savedY=0,this.savedX=0,this.savedCurAttrData=s.DEFAULT_ATTR_DATA.clone(),this.savedCharset=u.DEFAULT_CHARSET,this.markers=[],this._nullCell=l.CellData.fromCharData([0,c.NULL_CELL_CHAR,c.NULL_CELL_WIDTH,c.NULL_CELL_CODE]),this._whitespaceCell=l.CellData.fromCharData([0,c.WHITESPACE_CELL_CHAR,c.WHITESPACE_CELL_WIDTH,c.WHITESPACE_CELL_CODE]),this._isClearing=!1,this._memoryCleanupQueue=new o.IdleTaskQueue,this._memoryCleanupPosition=0,this._cols=this._bufferService.cols,this._rows=this._bufferService.rows,this.lines=new n.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}getNullCell(e){return e?(this._nullCell.fg=e.fg,this._nullCell.bg=e.bg,this._nullCell.extended=e.extended):(this._nullCell.fg=0,this._nullCell.bg=0,this._nullCell.extended=new r.ExtendedAttrs),this._nullCell}getWhitespaceCell(e){return e?(this._whitespaceCell.fg=e.fg,this._whitespaceCell.bg=e.bg,this._whitespaceCell.extended=e.extended):(this._whitespaceCell.fg=0,this._whitespaceCell.bg=0,this._whitespaceCell.extended=new r.ExtendedAttrs),this._whitespaceCell}getBlankLine(e,t){return new s.BufferLine(this._bufferService.cols,this.getNullCell(e),t)}get hasScrollback(){return this._hasScrollback&&this.lines.maxLength>this._rows}get isCursorInViewport(){const e=this.ybase+this.y-this.ydisp;return e>=0&&e<this._rows}_getCorrectBufferLength(e){if(!this._hasScrollback)return e;const i=e+this._optionsService.rawOptions.scrollback;return i>t.MAX_BUFFER_SIZE?t.MAX_BUFFER_SIZE:i}fillViewportRows(e){if(0===this.lines.length){void 0===e&&(e=s.DEFAULT_ATTR_DATA);let t=this._rows;for(;t--;)this.lines.push(this.getBlankLine(e))}}clear(){this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.lines=new n.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}resize(e,t){const i=this.getNullCell(s.DEFAULT_ATTR_DATA);let n=0;const o=this._getCorrectBufferLength(t);if(o>this.lines.maxLength&&(this.lines.maxLength=o),this.lines.length>0){if(this._cols<e)for(let t=0;t<this.lines.length;t++)n+=+this.lines.get(t).resize(e,i);let r=0;if(this._rows<t)for(let n=this._rows;n<t;n++)this.lines.length<t+this.ybase&&(this._optionsService.rawOptions.windowsMode||void 0!==this._optionsService.rawOptions.windowsPty.backend||void 0!==this._optionsService.rawOptions.windowsPty.buildNumber?this.lines.push(new s.BufferLine(e,i)):this.ybase>0&&this.lines.length<=this.ybase+this.y+r+1?(this.ybase--,r++,this.ydisp>0&&this.ydisp--):this.lines.push(new s.BufferLine(e,i)));else for(let e=this._rows;e>t;e--)this.lines.length>t+this.ybase&&(this.lines.length>this.ybase+this.y+1?this.lines.pop():(this.ybase++,this.ydisp++));if(o<this.lines.maxLength){const e=this.lines.length-o;e>0&&(this.lines.trimStart(e),this.ybase=Math.max(this.ybase-e,0),this.ydisp=Math.max(this.ydisp-e,0),this.savedY=Math.max(this.savedY-e,0)),this.lines.maxLength=o}this.x=Math.min(this.x,e-1),this.y=Math.min(this.y,t-1),r&&(this.y+=r),this.savedX=Math.min(this.savedX,e-1),this.scrollTop=0}if(this.scrollBottom=t-1,this._isReflowEnabled&&(this._reflow(e,t),this._cols>e))for(let r=0;r<this.lines.length;r++)n+=+this.lines.get(r).resize(e,i);this._cols=e,this._rows=t,this._memoryCleanupQueue.clear(),n>.1*this.lines.length&&(this._memoryCleanupPosition=0,this._memoryCleanupQueue.enqueue(()=>this._batchedMemoryCleanup()))}_batchedMemoryCleanup(){let e=!0;this._memoryCleanupPosition>=this.lines.length&&(this._memoryCleanupPosition=0,e=!1);let t=0;for(;this._memoryCleanupPosition<this.lines.length;)if(t+=this.lines.get(this._memoryCleanupPosition++).cleanupMemory(),t>100)return!0;return e}get _isReflowEnabled(){const e=this._optionsService.rawOptions.windowsPty;return e&&e.buildNumber?this._hasScrollback&&"conpty"===e.backend&&e.buildNumber>=21376:this._hasScrollback&&!this._optionsService.rawOptions.windowsMode}_reflow(e,t){this._cols!==e&&(e>this._cols?this._reflowLarger(e,t):this._reflowSmaller(e,t))}_reflowLarger(e,t){const i=(0,a.reflowLargerGetLinesToRemove)(this.lines,this._cols,e,this.ybase+this.y,this.getNullCell(s.DEFAULT_ATTR_DATA));if(i.length>0){const n=(0,a.reflowLargerCreateNewLayout)(this.lines,i);(0,a.reflowLargerApplyNewLayout)(this.lines,n.layout),this._reflowLargerAdjustViewport(e,t,n.countRemoved)}}_reflowLargerAdjustViewport(e,t,i){const n=this.getNullCell(s.DEFAULT_ATTR_DATA);let o=i;for(;o-- >0;)0===this.ybase?(this.y>0&&this.y--,this.lines.length<t&&this.lines.push(new s.BufferLine(e,n))):(this.ydisp===this.ybase&&this.ydisp--,this.ybase--);this.savedY=Math.max(this.savedY-i,0)}_reflowSmaller(e,t){const i=this.getNullCell(s.DEFAULT_ATTR_DATA),n=[];let o=0;for(let r=this.lines.length-1;r>=0;r--){let l=this.lines.get(r);if(!l||!l.isWrapped&&l.getTrimmedLength()<=e)continue;const c=[l];for(;l.isWrapped&&r>0;)l=this.lines.get(--r),c.unshift(l);const h=this.ybase+this.y;if(h>=r&&h<r+c.length)continue;const u=c[c.length-1].getTrimmedLength(),d=(0,a.reflowSmallerGetNewLineLengths)(c,this._cols,e),p=d.length-c.length;let g;g=0===this.ybase&&this.y!==this.lines.length-1?Math.max(0,this.y-this.lines.maxLength+p):Math.max(0,this.lines.length-this.lines.maxLength+p);const f=[];for(let e=0;e<p;e++){const e=this.getBlankLine(s.DEFAULT_ATTR_DATA,!0);f.push(e)}f.length>0&&(n.push({start:r+c.length+o,newLines:f}),o+=f.length),c.push(...f);let m=d.length-1,_=d[m];0===_&&(m--,_=d[m]);let v=c.length-p-1,y=u;for(;v>=0;){const e=Math.min(y,_);if(void 0===c[m])break;if(c[m].copyCellsFrom(c[v],y-e,_-e,e,!0),_-=e,0===_&&(m--,_=d[m]),y-=e,0===y){v--;const e=Math.max(v,0);y=(0,a.getWrappedLineTrimmedLength)(c,e,this._cols)}}for(let t=0;t<c.length;t++)d[t]<e&&c[t].setCell(d[t],i);let b=p-g;for(;b-- >0;)0===this.ybase?this.y<t-1?(this.y++,this.lines.pop()):(this.ybase++,this.ydisp++):this.ybase<Math.min(this.lines.maxLength,this.lines.length+o)-t&&(this.ybase===this.ydisp&&this.ydisp++,this.ybase++);this.savedY=Math.min(this.savedY+p,this.ybase+t-1)}if(n.length>0){const e=[],t=[];for(let n=0;n<this.lines.length;n++)t.push(this.lines.get(n));const i=this.lines.length;let r=i-1,s=0,a=n[s];this.lines.length=Math.min(this.lines.maxLength,this.lines.length+o);let l=0;for(let u=Math.min(this.lines.maxLength-1,i+o-1);u>=0;u--)if(a&&a.start>r+l){for(let e=a.newLines.length-1;e>=0;e--)this.lines.set(u--,a.newLines[e]);u++,e.push({index:r+1,amount:a.newLines.length}),l+=a.newLines.length,a=n[++s]}else this.lines.set(u,t[r--]);let c=0;for(let n=e.length-1;n>=0;n--)e[n].index+=c,this.lines.onInsertEmitter.fire(e[n]),c+=e[n].amount;const h=Math.max(0,i+o-this.lines.maxLength);h>0&&this.lines.onTrimEmitter.fire(h)}}translateBufferLineToString(e,t,i=0,n){const o=this.lines.get(e);return o?o.translateToString(t,i,n):""}getWrappedRangeForLine(e){let t=e,i=e;for(;t>0&&this.lines.get(t).isWrapped;)t--;for(;i+1<this.lines.length&&this.lines.get(i+1).isWrapped;)i++;return{first:t,last:i}}setupTabStops(e){for(null!=e?this.tabs[e]||(e=this.prevStop(e)):(this.tabs={},e=0);e<this._cols;e+=this._optionsService.rawOptions.tabStopWidth)this.tabs[e]=!0}prevStop(e){for(null==e&&(e=this.x);!this.tabs[--e]&&e>0;);return e>=this._cols?this._cols-1:e<0?0:e}nextStop(e){for(null==e&&(e=this.x);!this.tabs[++e]&&e<this._cols;);return e>=this._cols?this._cols-1:e<0?0:e}clearMarkers(e){this._isClearing=!0;for(let t=0;t<this.markers.length;t++)this.markers[t].line===e&&(this.markers[t].dispose(),this.markers.splice(t--,1));this._isClearing=!1}clearAllMarkers(){this._isClearing=!0;for(let e=0;e<this.markers.length;e++)this.markers[e].dispose(),this.markers.splice(e--,1);this._isClearing=!1}addMarker(e){const t=new h.Marker(e);return this.markers.push(t),t.register(this.lines.onTrim(e=>{t.line-=e,t.line<0&&t.dispose()})),t.register(this.lines.onInsert(e=>{t.line>=e.index&&(t.line+=e.amount)})),t.register(this.lines.onDelete(e=>{t.line>=e.index&&t.line<e.index+e.amount&&t.dispose(),t.line>e.index&&(t.line-=e.amount)})),t.register(t.onDispose(()=>this._removeMarker(t))),t}_removeMarker(e){this._isClearing||this.markers.splice(this.markers.indexOf(e),1)}}},8437:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BufferLine=t.DEFAULT_ATTR_DATA=void 0;const n=i(3734),o=i(511),r=i(643),s=i(482);t.DEFAULT_ATTR_DATA=Object.freeze(new n.AttributeData);let a=0;class l{constructor(e,t,i=!1){this.isWrapped=i,this._combined={},this._extendedAttrs={},this._data=new Uint32Array(3*e);const n=t||o.CellData.fromCharData([0,r.NULL_CELL_CHAR,r.NULL_CELL_WIDTH,r.NULL_CELL_CODE]);for(let o=0;o<e;++o)this.setCell(o,n);this.length=e}get(e){const t=this._data[3*e+0],i=2097151&t;return[this._data[3*e+1],2097152&t?this._combined[e]:i?(0,s.stringFromCodePoint)(i):"",t>>22,2097152&t?this._combined[e].charCodeAt(this._combined[e].length-1):i]}set(e,t){this._data[3*e+1]=t[r.CHAR_DATA_ATTR_INDEX],t[r.CHAR_DATA_CHAR_INDEX].length>1?(this._combined[e]=t[1],this._data[3*e+0]=2097152|e|t[r.CHAR_DATA_WIDTH_INDEX]<<22):this._data[3*e+0]=t[r.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|t[r.CHAR_DATA_WIDTH_INDEX]<<22}getWidth(e){return this._data[3*e+0]>>22}hasWidth(e){return 12582912&this._data[3*e+0]}getFg(e){return this._data[3*e+1]}getBg(e){return this._data[3*e+2]}hasContent(e){return 4194303&this._data[3*e+0]}getCodePoint(e){const t=this._data[3*e+0];return 2097152&t?this._combined[e].charCodeAt(this._combined[e].length-1):2097151&t}isCombined(e){return 2097152&this._data[3*e+0]}getString(e){const t=this._data[3*e+0];return 2097152&t?this._combined[e]:2097151&t?(0,s.stringFromCodePoint)(2097151&t):""}isProtected(e){return 536870912&this._data[3*e+2]}loadCell(e,t){return a=3*e,t.content=this._data[a+0],t.fg=this._data[a+1],t.bg=this._data[a+2],2097152&t.content&&(t.combinedData=this._combined[e]),268435456&t.bg&&(t.extended=this._extendedAttrs[e]),t}setCell(e,t){2097152&t.content&&(this._combined[e]=t.combinedData),268435456&t.bg&&(this._extendedAttrs[e]=t.extended),this._data[3*e+0]=t.content,this._data[3*e+1]=t.fg,this._data[3*e+2]=t.bg}setCellFromCodePoint(e,t,i,n,o,r){268435456&o&&(this._extendedAttrs[e]=r),this._data[3*e+0]=t|i<<22,this._data[3*e+1]=n,this._data[3*e+2]=o}addCodepointToCell(e,t){let i=this._data[3*e+0];2097152&i?this._combined[e]+=(0,s.stringFromCodePoint)(t):(2097151&i?(this._combined[e]=(0,s.stringFromCodePoint)(2097151&i)+(0,s.stringFromCodePoint)(t),i&=-2097152,i|=2097152):i=t|1<<22,this._data[3*e+0]=i)}insertCells(e,t,i,r){if((e%=this.length)&&2===this.getWidth(e-1)&&this.setCellFromCodePoint(e-1,0,1,(null==r?void 0:r.fg)||0,(null==r?void 0:r.bg)||0,(null==r?void 0:r.extended)||new n.ExtendedAttrs),t<this.length-e){const n=new o.CellData;for(let i=this.length-e-t-1;i>=0;--i)this.setCell(e+t+i,this.loadCell(e+i,n));for(let o=0;o<t;++o)this.setCell(e+o,i)}else for(let n=e;n<this.length;++n)this.setCell(n,i);2===this.getWidth(this.length-1)&&this.setCellFromCodePoint(this.length-1,0,1,(null==r?void 0:r.fg)||0,(null==r?void 0:r.bg)||0,(null==r?void 0:r.extended)||new n.ExtendedAttrs)}deleteCells(e,t,i,r){if(t<this.length-(e%=this.length)){const n=new o.CellData;for(let i=0;i<this.length-e-t;++i)this.setCell(e+i,this.loadCell(e+t+i,n));for(let e=this.length-t;e<this.length;++e)this.setCell(e,i)}else for(let n=e;n<this.length;++n)this.setCell(n,i);e&&2===this.getWidth(e-1)&&this.setCellFromCodePoint(e-1,0,1,(null==r?void 0:r.fg)||0,(null==r?void 0:r.bg)||0,(null==r?void 0:r.extended)||new n.ExtendedAttrs),0!==this.getWidth(e)||this.hasContent(e)||this.setCellFromCodePoint(e,0,1,(null==r?void 0:r.fg)||0,(null==r?void 0:r.bg)||0,(null==r?void 0:r.extended)||new n.ExtendedAttrs)}replaceCells(e,t,i,o,r=!1){if(r)for(e&&2===this.getWidth(e-1)&&!this.isProtected(e-1)&&this.setCellFromCodePoint(e-1,0,1,(null==o?void 0:o.fg)||0,(null==o?void 0:o.bg)||0,(null==o?void 0:o.extended)||new n.ExtendedAttrs),t<this.length&&2===this.getWidth(t-1)&&!this.isProtected(t)&&this.setCellFromCodePoint(t,0,1,(null==o?void 0:o.fg)||0,(null==o?void 0:o.bg)||0,(null==o?void 0:o.extended)||new n.ExtendedAttrs);e<t&&e<this.length;)this.isProtected(e)||this.setCell(e,i),e++;else for(e&&2===this.getWidth(e-1)&&this.setCellFromCodePoint(e-1,0,1,(null==o?void 0:o.fg)||0,(null==o?void 0:o.bg)||0,(null==o?void 0:o.extended)||new n.ExtendedAttrs),t<this.length&&2===this.getWidth(t-1)&&this.setCellFromCodePoint(t,0,1,(null==o?void 0:o.fg)||0,(null==o?void 0:o.bg)||0,(null==o?void 0:o.extended)||new n.ExtendedAttrs);e<t&&e<this.length;)this.setCell(e++,i)}resize(e,t){if(e===this.length)return 4*this._data.length*2<this._data.buffer.byteLength;const i=3*e;if(e>this.length){if(this._data.buffer.byteLength>=4*i)this._data=new Uint32Array(this._data.buffer,0,i);else{const e=new Uint32Array(i);e.set(this._data),this._data=e}for(let i=this.length;i<e;++i)this.setCell(i,t)}else{this._data=this._data.subarray(0,i);const t=Object.keys(this._combined);for(let i=0;i<t.length;i++){const n=parseInt(t[i],10);n>=e&&delete this._combined[n]}const n=Object.keys(this._extendedAttrs);for(let i=0;i<n.length;i++){const t=parseInt(n[i],10);t>=e&&delete this._extendedAttrs[t]}}return this.length=e,4*i*2<this._data.buffer.byteLength}cleanupMemory(){if(4*this._data.length*2<this._data.buffer.byteLength){const e=new Uint32Array(this._data.length);return e.set(this._data),this._data=e,1}return 0}fill(e,t=!1){if(t)for(let i=0;i<this.length;++i)this.isProtected(i)||this.setCell(i,e);else{this._combined={},this._extendedAttrs={};for(let t=0;t<this.length;++t)this.setCell(t,e)}}copyFrom(e){this.length!==e.length?this._data=new Uint32Array(e._data):this._data.set(e._data),this.length=e.length,this._combined={};for(const t in e._combined)this._combined[t]=e._combined[t];this._extendedAttrs={};for(const t in e._extendedAttrs)this._extendedAttrs[t]=e._extendedAttrs[t];this.isWrapped=e.isWrapped}clone(){const e=new l(0);e._data=new Uint32Array(this._data),e.length=this.length;for(const t in this._combined)e._combined[t]=this._combined[t];for(const t in this._extendedAttrs)e._extendedAttrs[t]=this._extendedAttrs[t];return e.isWrapped=this.isWrapped,e}getTrimmedLength(){for(let e=this.length-1;e>=0;--e)if(4194303&this._data[3*e+0])return e+(this._data[3*e+0]>>22);return 0}getNoBgTrimmedLength(){for(let e=this.length-1;e>=0;--e)if(4194303&this._data[3*e+0]||50331648&this._data[3*e+2])return e+(this._data[3*e+0]>>22);return 0}copyCellsFrom(e,t,i,n,o){const r=e._data;if(o)for(let a=n-1;a>=0;a--){for(let e=0;e<3;e++)this._data[3*(i+a)+e]=r[3*(t+a)+e];268435456&r[3*(t+a)+2]&&(this._extendedAttrs[i+a]=e._extendedAttrs[t+a])}else for(let a=0;a<n;a++){for(let e=0;e<3;e++)this._data[3*(i+a)+e]=r[3*(t+a)+e];268435456&r[3*(t+a)+2]&&(this._extendedAttrs[i+a]=e._extendedAttrs[t+a])}const s=Object.keys(e._combined);for(let a=0;a<s.length;a++){const n=parseInt(s[a],10);n>=t&&(this._combined[n-t+i]=e._combined[n])}}translateToString(e=!1,t=0,i=this.length){e&&(i=Math.min(i,this.getTrimmedLength()));let n="";for(;t<i;){const e=this._data[3*t+0],i=2097151&e;n+=2097152&e?this._combined[t]:i?(0,s.stringFromCodePoint)(i):r.WHITESPACE_CELL_CHAR,t+=e>>22||1}return n}}t.BufferLine=l},4841:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getRangeLength=void 0,t.getRangeLength=function(e,t){if(e.start.y>e.end.y)throw new Error(`Buffer range end (${e.end.x}, ${e.end.y}) cannot be before start (${e.start.x}, ${e.start.y})`);return t*(e.end.y-e.start.y)+(e.end.x-e.start.x+1)}},4634:(e,t)=>{function i(e,t,i){if(t===e.length-1)return e[t].getTrimmedLength();const n=!e[t].hasContent(i-1)&&1===e[t].getWidth(i-1),o=2===e[t+1].getWidth(0);return n&&o?i-1:i}Object.defineProperty(t,"__esModule",{value:!0}),t.getWrappedLineTrimmedLength=t.reflowSmallerGetNewLineLengths=t.reflowLargerApplyNewLayout=t.reflowLargerCreateNewLayout=t.reflowLargerGetLinesToRemove=void 0,t.reflowLargerGetLinesToRemove=function(e,t,n,o,r){const s=[];for(let a=0;a<e.length-1;a++){let l=a,c=e.get(++l);if(!c.isWrapped)continue;const h=[e.get(a)];for(;l<e.length&&c.isWrapped;)h.push(c),c=e.get(++l);if(o>=a&&o<l){a+=h.length-1;continue}let u=0,d=i(h,u,t),p=1,g=0;for(;p<h.length;){const e=i(h,p,t),o=Math.min(e-g,n-d);h[u].copyCellsFrom(h[p],g,d,o,!1),d+=o,d===n&&(u++,d=0),g+=o,g===e&&(p++,g=0),0===d&&0!==u&&2===h[u-1].getWidth(n-1)&&(h[u].copyCellsFrom(h[u-1],n-1,d++,1,!1),h[u-1].setCell(n-1,r))}h[u].replaceCells(d,n,r);let f=0;for(let e=h.length-1;e>0&&(e>u||0===h[e].getTrimmedLength());e--)f++;f>0&&(s.push(a+h.length-f),s.push(f)),a+=h.length-1}return s},t.reflowLargerCreateNewLayout=function(e,t){const i=[];let n=0,o=t[n],r=0;for(let s=0;s<e.length;s++)if(o===s){const i=t[++n];e.onDeleteEmitter.fire({index:s-r,amount:i}),s+=i-1,r+=i,o=t[++n]}else i.push(s);return{layout:i,countRemoved:r}},t.reflowLargerApplyNewLayout=function(e,t){const i=[];for(let n=0;n<t.length;n++)i.push(e.get(t[n]));for(let n=0;n<i.length;n++)e.set(n,i[n]);e.length=t.length},t.reflowSmallerGetNewLineLengths=function(e,t,n){const o=[],r=e.map((n,o)=>i(e,o,t)).reduce((e,t)=>e+t);let s=0,a=0,l=0;for(;l<r;){if(r-l<n){o.push(r-l);break}s+=n;const c=i(e,a,t);s>c&&(s-=c,a++);const h=2===e[a].getWidth(s-1);h&&s--;const u=h?n-1:n;o.push(u),l+=u}return o},t.getWrappedLineTrimmedLength=i},5295:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BufferSet=void 0;const n=i(8460),o=i(844),r=i(9092);t.BufferSet=class extends o.Disposable{constructor(e,t){super(),this._optionsService=e,this._bufferService=t,this._onBufferActivate=this.register(new n.EventEmitter),this.onBufferActivate=this._onBufferActivate.event,this.reset(),this.register(this._optionsService.onSpecificOptionChange("scrollback",()=>this.resize(this._bufferService.cols,this._bufferService.rows))),this.register(this._optionsService.onSpecificOptionChange("tabStopWidth",()=>this.setupTabStops()))}reset(){this._normal=new r.Buffer(!0,this._optionsService,this._bufferService),this._normal.fillViewportRows(),this._alt=new r.Buffer(!1,this._optionsService,this._bufferService),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}),this.setupTabStops()}get alt(){return this._alt}get active(){return this._activeBuffer}get normal(){return this._normal}activateNormalBuffer(){this._activeBuffer!==this._normal&&(this._normal.x=this._alt.x,this._normal.y=this._alt.y,this._alt.clearAllMarkers(),this._alt.clear(),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}))}activateAltBuffer(e){this._activeBuffer!==this._alt&&(this._alt.fillViewportRows(e),this._alt.x=this._normal.x,this._alt.y=this._normal.y,this._activeBuffer=this._alt,this._onBufferActivate.fire({activeBuffer:this._alt,inactiveBuffer:this._normal}))}resize(e,t){this._normal.resize(e,t),this._alt.resize(e,t),this.setupTabStops(e)}setupTabStops(e){this._normal.setupTabStops(e),this._alt.setupTabStops(e)}}},511:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CellData=void 0;const n=i(482),o=i(643),r=i(3734);class s extends r.AttributeData{constructor(){super(...arguments),this.content=0,this.fg=0,this.bg=0,this.extended=new r.ExtendedAttrs,this.combinedData=""}static fromCharData(e){const t=new s;return t.setFromCharData(e),t}isCombined(){return 2097152&this.content}getWidth(){return this.content>>22}getChars(){return 2097152&this.content?this.combinedData:2097151&this.content?(0,n.stringFromCodePoint)(2097151&this.content):""}getCode(){return this.isCombined()?this.combinedData.charCodeAt(this.combinedData.length-1):2097151&this.content}setFromCharData(e){this.fg=e[o.CHAR_DATA_ATTR_INDEX],this.bg=0;let t=!1;if(e[o.CHAR_DATA_CHAR_INDEX].length>2)t=!0;else if(2===e[o.CHAR_DATA_CHAR_INDEX].length){const i=e[o.CHAR_DATA_CHAR_INDEX].charCodeAt(0);if(55296<=i&&i<=56319){const n=e[o.CHAR_DATA_CHAR_INDEX].charCodeAt(1);56320<=n&&n<=57343?this.content=1024*(i-55296)+n-56320+65536|e[o.CHAR_DATA_WIDTH_INDEX]<<22:t=!0}else t=!0}else this.content=e[o.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|e[o.CHAR_DATA_WIDTH_INDEX]<<22;t&&(this.combinedData=e[o.CHAR_DATA_CHAR_INDEX],this.content=2097152|e[o.CHAR_DATA_WIDTH_INDEX]<<22)}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}t.CellData=s},643:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.WHITESPACE_CELL_CODE=t.WHITESPACE_CELL_WIDTH=t.WHITESPACE_CELL_CHAR=t.NULL_CELL_CODE=t.NULL_CELL_WIDTH=t.NULL_CELL_CHAR=t.CHAR_DATA_CODE_INDEX=t.CHAR_DATA_WIDTH_INDEX=t.CHAR_DATA_CHAR_INDEX=t.CHAR_DATA_ATTR_INDEX=t.DEFAULT_EXT=t.DEFAULT_ATTR=t.DEFAULT_COLOR=void 0,t.DEFAULT_COLOR=0,t.DEFAULT_ATTR=256|t.DEFAULT_COLOR<<9,t.DEFAULT_EXT=0,t.CHAR_DATA_ATTR_INDEX=0,t.CHAR_DATA_CHAR_INDEX=1,t.CHAR_DATA_WIDTH_INDEX=2,t.CHAR_DATA_CODE_INDEX=3,t.NULL_CELL_CHAR="",t.NULL_CELL_WIDTH=1,t.NULL_CELL_CODE=0,t.WHITESPACE_CELL_CHAR=" ",t.WHITESPACE_CELL_WIDTH=1,t.WHITESPACE_CELL_CODE=32},4863:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Marker=void 0;const n=i(8460),o=i(844);class r{get id(){return this._id}constructor(e){this.line=e,this.isDisposed=!1,this._disposables=[],this._id=r._nextId++,this._onDispose=this.register(new n.EventEmitter),this.onDispose=this._onDispose.event}dispose(){this.isDisposed||(this.isDisposed=!0,this.line=-1,this._onDispose.fire(),(0,o.disposeArray)(this._disposables),this._disposables.length=0)}register(e){return this._disposables.push(e),e}}t.Marker=r,r._nextId=1},7116:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_CHARSET=t.CHARSETS=void 0,t.CHARSETS={},t.DEFAULT_CHARSET=t.CHARSETS.B,t.CHARSETS[0]={"`":"\u25c6",a:"\u2592",b:"\u2409",c:"\u240c",d:"\u240d",e:"\u240a",f:"\xb0",g:"\xb1",h:"\u2424",i:"\u240b",j:"\u2518",k:"\u2510",l:"\u250c",m:"\u2514",n:"\u253c",o:"\u23ba",p:"\u23bb",q:"\u2500",r:"\u23bc",s:"\u23bd",t:"\u251c",u:"\u2524",v:"\u2534",w:"\u252c",x:"\u2502",y:"\u2264",z:"\u2265","{":"\u03c0","|":"\u2260","}":"\xa3","~":"\xb7"},t.CHARSETS.A={"#":"\xa3"},t.CHARSETS.B=void 0,t.CHARSETS[4]={"#":"\xa3","@":"\xbe","[":"ij","\\":"\xbd","]":"|","{":"\xa8","|":"f","}":"\xbc","~":"\xb4"},t.CHARSETS.C=t.CHARSETS[5]={"[":"\xc4","\\":"\xd6","]":"\xc5","^":"\xdc","`":"\xe9","{":"\xe4","|":"\xf6","}":"\xe5","~":"\xfc"},t.CHARSETS.R={"#":"\xa3","@":"\xe0","[":"\xb0","\\":"\xe7","]":"\xa7","{":"\xe9","|":"\xf9","}":"\xe8","~":"\xa8"},t.CHARSETS.Q={"@":"\xe0","[":"\xe2","\\":"\xe7","]":"\xea","^":"\xee","`":"\xf4","{":"\xe9","|":"\xf9","}":"\xe8","~":"\xfb"},t.CHARSETS.K={"@":"\xa7","[":"\xc4","\\":"\xd6","]":"\xdc","{":"\xe4","|":"\xf6","}":"\xfc","~":"\xdf"},t.CHARSETS.Y={"#":"\xa3","@":"\xa7","[":"\xb0","\\":"\xe7","]":"\xe9","`":"\xf9","{":"\xe0","|":"\xf2","}":"\xe8","~":"\xec"},t.CHARSETS.E=t.CHARSETS[6]={"@":"\xc4","[":"\xc6","\\":"\xd8","]":"\xc5","^":"\xdc","`":"\xe4","{":"\xe6","|":"\xf8","}":"\xe5","~":"\xfc"},t.CHARSETS.Z={"#":"\xa3","@":"\xa7","[":"\xa1","\\":"\xd1","]":"\xbf","{":"\xb0","|":"\xf1","}":"\xe7"},t.CHARSETS.H=t.CHARSETS[7]={"@":"\xc9","[":"\xc4","\\":"\xd6","]":"\xc5","^":"\xdc","`":"\xe9","{":"\xe4","|":"\xf6","}":"\xe5","~":"\xfc"},t.CHARSETS["="]={"#":"\xf9","@":"\xe0","[":"\xe9","\\":"\xe7","]":"\xea","^":"\xee",_:"\xe8","`":"\xf4","{":"\xe4","|":"\xf6","}":"\xfc","~":"\xfb"}},2584:(e,t)=>{var i,n,o,r;Object.defineProperty(t,"__esModule",{value:!0}),t.C1_ESCAPED=t.C1=t.C0=void 0,(r=i||(t.C0=i={})).NUL="\0",r.SOH="\x01",r.STX="\x02",r.ETX="\x03",r.EOT="\x04",r.ENQ="\x05",r.ACK="\x06",r.BEL="\x07",r.BS="\b",r.HT="\t",r.LF="\n",r.VT="\v",r.FF="\f",r.CR="\r",r.SO="\x0e",r.SI="\x0f",r.DLE="\x10",r.DC1="\x11",r.DC2="\x12",r.DC3="\x13",r.DC4="\x14",r.NAK="\x15",r.SYN="\x16",r.ETB="\x17",r.CAN="\x18",r.EM="\x19",r.SUB="\x1a",r.ESC="\x1b",r.FS="\x1c",r.GS="\x1d",r.RS="\x1e",r.US="\x1f",r.SP=" ",r.DEL="\x7f",function(e){e.PAD="\x80",e.HOP="\x81",e.BPH="\x82",e.NBH="\x83",e.IND="\x84",e.NEL="\x85",e.SSA="\x86",e.ESA="\x87",e.HTS="\x88",e.HTJ="\x89",e.VTS="\x8a",e.PLD="\x8b",e.PLU="\x8c",e.RI="\x8d",e.SS2="\x8e",e.SS3="\x8f",e.DCS="\x90",e.PU1="\x91",e.PU2="\x92",e.STS="\x93",e.CCH="\x94",e.MW="\x95",e.SPA="\x96",e.EPA="\x97",e.SOS="\x98",e.SGCI="\x99",e.SCI="\x9a",e.CSI="\x9b",e.ST="\x9c",e.OSC="\x9d",e.PM="\x9e",e.APC="\x9f"}(n||(t.C1=n={})),function(e){e.ST=`${i.ESC}\\`}(o||(t.C1_ESCAPED=o={}))},7399:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.evaluateKeyboardEvent=void 0;const n=i(2584),o={48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],186:[";",":"],187:["=","+"],188:[",","<"],189:["-","_"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"']};t.evaluateKeyboardEvent=function(e,t,i,r){const s={type:0,cancel:!1,key:void 0},a=(e.shiftKey?1:0)|(e.altKey?2:0)|(e.ctrlKey?4:0)|(e.metaKey?8:0);switch(e.keyCode){case 0:"UIKeyInputUpArrow"===e.key?s.key=t?n.C0.ESC+"OA":n.C0.ESC+"[A":"UIKeyInputLeftArrow"===e.key?s.key=t?n.C0.ESC+"OD":n.C0.ESC+"[D":"UIKeyInputRightArrow"===e.key?s.key=t?n.C0.ESC+"OC":n.C0.ESC+"[C":"UIKeyInputDownArrow"===e.key&&(s.key=t?n.C0.ESC+"OB":n.C0.ESC+"[B");break;case 8:if(e.altKey){s.key=n.C0.ESC+n.C0.DEL;break}s.key=n.C0.DEL;break;case 9:if(e.shiftKey){s.key=n.C0.ESC+"[Z";break}s.key=n.C0.HT,s.cancel=!0;break;case 13:s.key=e.altKey?n.C0.ESC+n.C0.CR:n.C0.CR,s.cancel=!0;break;case 27:s.key=n.C0.ESC,e.altKey&&(s.key=n.C0.ESC+n.C0.ESC),s.cancel=!0;break;case 37:if(e.metaKey)break;a?(s.key=n.C0.ESC+"[1;"+(a+1)+"D",s.key===n.C0.ESC+"[1;3D"&&(s.key=n.C0.ESC+(i?"b":"[1;5D"))):s.key=t?n.C0.ESC+"OD":n.C0.ESC+"[D";break;case 39:if(e.metaKey)break;a?(s.key=n.C0.ESC+"[1;"+(a+1)+"C",s.key===n.C0.ESC+"[1;3C"&&(s.key=n.C0.ESC+(i?"f":"[1;5C"))):s.key=t?n.C0.ESC+"OC":n.C0.ESC+"[C";break;case 38:if(e.metaKey)break;a?(s.key=n.C0.ESC+"[1;"+(a+1)+"A",i||s.key!==n.C0.ESC+"[1;3A"||(s.key=n.C0.ESC+"[1;5A")):s.key=t?n.C0.ESC+"OA":n.C0.ESC+"[A";break;case 40:if(e.metaKey)break;a?(s.key=n.C0.ESC+"[1;"+(a+1)+"B",i||s.key!==n.C0.ESC+"[1;3B"||(s.key=n.C0.ESC+"[1;5B")):s.key=t?n.C0.ESC+"OB":n.C0.ESC+"[B";break;case 45:e.shiftKey||e.ctrlKey||(s.key=n.C0.ESC+"[2~");break;case 46:s.key=a?n.C0.ESC+"[3;"+(a+1)+"~":n.C0.ESC+"[3~";break;case 36:s.key=a?n.C0.ESC+"[1;"+(a+1)+"H":t?n.C0.ESC+"OH":n.C0.ESC+"[H";break;case 35:s.key=a?n.C0.ESC+"[1;"+(a+1)+"F":t?n.C0.ESC+"OF":n.C0.ESC+"[F";break;case 33:e.shiftKey?s.type=2:s.key=e.ctrlKey?n.C0.ESC+"[5;"+(a+1)+"~":n.C0.ESC+"[5~";break;case 34:e.shiftKey?s.type=3:s.key=e.ctrlKey?n.C0.ESC+"[6;"+(a+1)+"~":n.C0.ESC+"[6~";break;case 112:s.key=a?n.C0.ESC+"[1;"+(a+1)+"P":n.C0.ESC+"OP";break;case 113:s.key=a?n.C0.ESC+"[1;"+(a+1)+"Q":n.C0.ESC+"OQ";break;case 114:s.key=a?n.C0.ESC+"[1;"+(a+1)+"R":n.C0.ESC+"OR";break;case 115:s.key=a?n.C0.ESC+"[1;"+(a+1)+"S":n.C0.ESC+"OS";break;case 116:s.key=a?n.C0.ESC+"[15;"+(a+1)+"~":n.C0.ESC+"[15~";break;case 117:s.key=a?n.C0.ESC+"[17;"+(a+1)+"~":n.C0.ESC+"[17~";break;case 118:s.key=a?n.C0.ESC+"[18;"+(a+1)+"~":n.C0.ESC+"[18~";break;case 119:s.key=a?n.C0.ESC+"[19;"+(a+1)+"~":n.C0.ESC+"[19~";break;case 120:s.key=a?n.C0.ESC+"[20;"+(a+1)+"~":n.C0.ESC+"[20~";break;case 121:s.key=a?n.C0.ESC+"[21;"+(a+1)+"~":n.C0.ESC+"[21~";break;case 122:s.key=a?n.C0.ESC+"[23;"+(a+1)+"~":n.C0.ESC+"[23~";break;case 123:s.key=a?n.C0.ESC+"[24;"+(a+1)+"~":n.C0.ESC+"[24~";break;default:if(!e.ctrlKey||e.shiftKey||e.altKey||e.metaKey)if(i&&!r||!e.altKey||e.metaKey)!i||e.altKey||e.ctrlKey||e.shiftKey||!e.metaKey?e.key&&!e.ctrlKey&&!e.altKey&&!e.metaKey&&e.keyCode>=48&&1===e.key.length?s.key=e.key:e.key&&e.ctrlKey&&("_"===e.key&&(s.key=n.C0.US),"@"===e.key&&(s.key=n.C0.NUL)):65===e.keyCode&&(s.type=1);else{const t=o[e.keyCode],i=null==t?void 0:t[e.shiftKey?1:0];if(i)s.key=n.C0.ESC+i;else if(e.keyCode>=65&&e.keyCode<=90){let t=String.fromCharCode(e.ctrlKey?e.keyCode-64:e.keyCode+32);e.shiftKey&&(t=t.toUpperCase()),s.key=n.C0.ESC+t}else if(32===e.keyCode)s.key=n.C0.ESC+(e.ctrlKey?n.C0.NUL:" ");else if("Dead"===e.key&&e.code.startsWith("Key")){let t=e.code.slice(3,4);e.shiftKey||(t=t.toLowerCase()),s.key=n.C0.ESC+t,s.cancel=!0}}else e.keyCode>=65&&e.keyCode<=90?s.key=String.fromCharCode(e.keyCode-64):32===e.keyCode?s.key=n.C0.NUL:e.keyCode>=51&&e.keyCode<=55?s.key=String.fromCharCode(e.keyCode-51+27):56===e.keyCode?s.key=n.C0.DEL:219===e.keyCode?s.key=n.C0.ESC:220===e.keyCode?s.key=n.C0.FS:221===e.keyCode&&(s.key=n.C0.GS)}return s}},482:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Utf8ToUtf32=t.StringToUtf32=t.utf32ToString=t.stringFromCodePoint=void 0,t.stringFromCodePoint=function(e){return e>65535?(e-=65536,String.fromCharCode(55296+(e>>10))+String.fromCharCode(e%1024+56320)):String.fromCharCode(e)},t.utf32ToString=function(e,t=0,i=e.length){let n="";for(let o=t;o<i;++o){let t=e[o];t>65535?(t-=65536,n+=String.fromCharCode(55296+(t>>10))+String.fromCharCode(t%1024+56320)):n+=String.fromCharCode(t)}return n},t.StringToUtf32=class{constructor(){this._interim=0}clear(){this._interim=0}decode(e,t){const i=e.length;if(!i)return 0;let n=0,o=0;if(this._interim){const i=e.charCodeAt(o++);56320<=i&&i<=57343?t[n++]=1024*(this._interim-55296)+i-56320+65536:(t[n++]=this._interim,t[n++]=i),this._interim=0}for(let r=o;r<i;++r){const o=e.charCodeAt(r);if(55296<=o&&o<=56319){if(++r>=i)return this._interim=o,n;const s=e.charCodeAt(r);56320<=s&&s<=57343?t[n++]=1024*(o-55296)+s-56320+65536:(t[n++]=o,t[n++]=s)}else 65279!==o&&(t[n++]=o)}return n}},t.Utf8ToUtf32=class{constructor(){this.interim=new Uint8Array(3)}clear(){this.interim.fill(0)}decode(e,t){const i=e.length;if(!i)return 0;let n,o,r,s,a=0,l=0,c=0;if(this.interim[0]){let n=!1,o=this.interim[0];o&=192==(224&o)?31:224==(240&o)?15:7;let r,s=0;for(;(r=63&this.interim[++s])&&s<4;)o<<=6,o|=r;const l=192==(224&this.interim[0])?2:224==(240&this.interim[0])?3:4,h=l-s;for(;c<h;){if(c>=i)return 0;if(r=e[c++],128!=(192&r)){c--,n=!0;break}this.interim[s++]=r,o<<=6,o|=63&r}n||(2===l?o<128?c--:t[a++]=o:3===l?o<2048||o>=55296&&o<=57343||65279===o||(t[a++]=o):o<65536||o>1114111||(t[a++]=o)),this.interim.fill(0)}const h=i-4;let u=c;for(;u<i;){for(;!(!(u<h)||128&(n=e[u])||128&(o=e[u+1])||128&(r=e[u+2])||128&(s=e[u+3]));)t[a++]=n,t[a++]=o,t[a++]=r,t[a++]=s,u+=4;if(n=e[u++],n<128)t[a++]=n;else if(192==(224&n)){if(u>=i)return this.interim[0]=n,a;if(o=e[u++],128!=(192&o)){u--;continue}if(l=(31&n)<<6|63&o,l<128){u--;continue}t[a++]=l}else if(224==(240&n)){if(u>=i)return this.interim[0]=n,a;if(o=e[u++],128!=(192&o)){u--;continue}if(u>=i)return this.interim[0]=n,this.interim[1]=o,a;if(r=e[u++],128!=(192&r)){u--;continue}if(l=(15&n)<<12|(63&o)<<6|63&r,l<2048||l>=55296&&l<=57343||65279===l)continue;t[a++]=l}else if(240==(248&n)){if(u>=i)return this.interim[0]=n,a;if(o=e[u++],128!=(192&o)){u--;continue}if(u>=i)return this.interim[0]=n,this.interim[1]=o,a;if(r=e[u++],128!=(192&r)){u--;continue}if(u>=i)return this.interim[0]=n,this.interim[1]=o,this.interim[2]=r,a;if(s=e[u++],128!=(192&s)){u--;continue}if(l=(7&n)<<18|(63&o)<<12|(63&r)<<6|63&s,l<65536||l>1114111)continue;t[a++]=l}}return a}}},225:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.UnicodeV6=void 0;const i=[[768,879],[1155,1158],[1160,1161],[1425,1469],[1471,1471],[1473,1474],[1476,1477],[1479,1479],[1536,1539],[1552,1557],[1611,1630],[1648,1648],[1750,1764],[1767,1768],[1770,1773],[1807,1807],[1809,1809],[1840,1866],[1958,1968],[2027,2035],[2305,2306],[2364,2364],[2369,2376],[2381,2381],[2385,2388],[2402,2403],[2433,2433],[2492,2492],[2497,2500],[2509,2509],[2530,2531],[2561,2562],[2620,2620],[2625,2626],[2631,2632],[2635,2637],[2672,2673],[2689,2690],[2748,2748],[2753,2757],[2759,2760],[2765,2765],[2786,2787],[2817,2817],[2876,2876],[2879,2879],[2881,2883],[2893,2893],[2902,2902],[2946,2946],[3008,3008],[3021,3021],[3134,3136],[3142,3144],[3146,3149],[3157,3158],[3260,3260],[3263,3263],[3270,3270],[3276,3277],[3298,3299],[3393,3395],[3405,3405],[3530,3530],[3538,3540],[3542,3542],[3633,3633],[3636,3642],[3655,3662],[3761,3761],[3764,3769],[3771,3772],[3784,3789],[3864,3865],[3893,3893],[3895,3895],[3897,3897],[3953,3966],[3968,3972],[3974,3975],[3984,3991],[3993,4028],[4038,4038],[4141,4144],[4146,4146],[4150,4151],[4153,4153],[4184,4185],[4448,4607],[4959,4959],[5906,5908],[5938,5940],[5970,5971],[6002,6003],[6068,6069],[6071,6077],[6086,6086],[6089,6099],[6109,6109],[6155,6157],[6313,6313],[6432,6434],[6439,6440],[6450,6450],[6457,6459],[6679,6680],[6912,6915],[6964,6964],[6966,6970],[6972,6972],[6978,6978],[7019,7027],[7616,7626],[7678,7679],[8203,8207],[8234,8238],[8288,8291],[8298,8303],[8400,8431],[12330,12335],[12441,12442],[43014,43014],[43019,43019],[43045,43046],[64286,64286],[65024,65039],[65056,65059],[65279,65279],[65529,65531]],n=[[68097,68099],[68101,68102],[68108,68111],[68152,68154],[68159,68159],[119143,119145],[119155,119170],[119173,119179],[119210,119213],[119362,119364],[917505,917505],[917536,917631],[917760,917999]];let o;t.UnicodeV6=class{constructor(){if(this.version="6",!o){o=new Uint8Array(65536),o.fill(1),o[0]=0,o.fill(0,1,32),o.fill(0,127,160),o.fill(2,4352,4448),o[9001]=2,o[9002]=2,o.fill(2,11904,42192),o[12351]=1,o.fill(2,44032,55204),o.fill(2,63744,64256),o.fill(2,65040,65050),o.fill(2,65072,65136),o.fill(2,65280,65377),o.fill(2,65504,65511);for(let e=0;e<i.length;++e)o.fill(0,i[e][0],i[e][1]+1)}}wcwidth(e){return e<32?0:e<127?1:e<65536?o[e]:function(e,t){let i,n=0,o=t.length-1;if(e<t[0][0]||e>t[o][1])return!1;for(;o>=n;)if(i=n+o>>1,e>t[i][1])n=i+1;else{if(!(e<t[i][0]))return!0;o=i-1}return!1}(e,n)?0:e>=131072&&e<=196605||e>=196608&&e<=262141?2:1}}},5981:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.WriteBuffer=void 0;const n=i(8460),o=i(844);t.WriteBuffer=class extends o.Disposable{constructor(e){super(),this._action=e,this._writeBuffer=[],this._callbacks=[],this._pendingData=0,this._bufferOffset=0,this._isSyncWriting=!1,this._syncCalls=0,this._didUserInput=!1,this._onWriteParsed=this.register(new n.EventEmitter),this.onWriteParsed=this._onWriteParsed.event}handleUserInput(){this._didUserInput=!0}writeSync(e,t){if(void 0!==t&&this._syncCalls>t)return void(this._syncCalls=0);if(this._pendingData+=e.length,this._writeBuffer.push(e),this._callbacks.push(void 0),this._syncCalls++,this._isSyncWriting)return;let i;for(this._isSyncWriting=!0;i=this._writeBuffer.shift();){this._action(i);const e=this._callbacks.shift();e&&e()}this._pendingData=0,this._bufferOffset=2147483647,this._isSyncWriting=!1,this._syncCalls=0}write(e,t){if(this._pendingData>5e7)throw new Error("write data discarded, use flow control to avoid losing data");if(!this._writeBuffer.length){if(this._bufferOffset=0,this._didUserInput)return this._didUserInput=!1,this._pendingData+=e.length,this._writeBuffer.push(e),this._callbacks.push(t),void this._innerWrite();setTimeout(()=>this._innerWrite())}this._pendingData+=e.length,this._writeBuffer.push(e),this._callbacks.push(t)}_innerWrite(e=0,t=!0){const i=e||Date.now();for(;this._writeBuffer.length>this._bufferOffset;){const e=this._writeBuffer[this._bufferOffset],n=this._action(e,t);if(n){const e=e=>Date.now()-i>=12?setTimeout(()=>this._innerWrite(0,e)):this._innerWrite(i,e);return void n.catch(e=>(queueMicrotask(()=>{throw e}),Promise.resolve(!1))).then(e)}const o=this._callbacks[this._bufferOffset];if(o&&o(),this._bufferOffset++,this._pendingData-=e.length,Date.now()-i>=12)break}this._writeBuffer.length>this._bufferOffset?(this._bufferOffset>50&&(this._writeBuffer=this._writeBuffer.slice(this._bufferOffset),this._callbacks=this._callbacks.slice(this._bufferOffset),this._bufferOffset=0),setTimeout(()=>this._innerWrite())):(this._writeBuffer.length=0,this._callbacks.length=0,this._pendingData=0,this._bufferOffset=0),this._onWriteParsed.fire()}}},5941:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.toRgbString=t.parseColor=void 0;const i=/^([\da-f])\/([\da-f])\/([\da-f])$|^([\da-f]{2})\/([\da-f]{2})\/([\da-f]{2})$|^([\da-f]{3})\/([\da-f]{3})\/([\da-f]{3})$|^([\da-f]{4})\/([\da-f]{4})\/([\da-f]{4})$/,n=/^[\da-f]+$/;function o(e,t){const i=e.toString(16),n=i.length<2?"0"+i:i;switch(t){case 4:return i[0];case 8:return n;case 12:return(n+n).slice(0,3);default:return n+n}}t.parseColor=function(e){if(!e)return;let t=e.toLowerCase();if(0===t.indexOf("rgb:")){t=t.slice(4);const e=i.exec(t);if(e){const t=e[1]?15:e[4]?255:e[7]?4095:65535;return[Math.round(parseInt(e[1]||e[4]||e[7]||e[10],16)/t*255),Math.round(parseInt(e[2]||e[5]||e[8]||e[11],16)/t*255),Math.round(parseInt(e[3]||e[6]||e[9]||e[12],16)/t*255)]}}else if(0===t.indexOf("#")&&(t=t.slice(1),n.exec(t)&&[3,6,9,12].includes(t.length))){const e=t.length/3,i=[0,0,0];for(let n=0;n<3;++n){const o=parseInt(t.slice(e*n,e*n+e),16);i[n]=1===e?o<<4:2===e?o:3===e?o>>4:o>>8}return i}},t.toRgbString=function(e,t=16){const[i,n,r]=e;return`rgb:${o(i,t)}/${o(n,t)}/${o(r,t)}`}},5770:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PAYLOAD_LIMIT=void 0,t.PAYLOAD_LIMIT=1e7},6351:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DcsHandler=t.DcsParser=void 0;const n=i(482),o=i(8742),r=i(5770),s=[];t.DcsParser=class{constructor(){this._handlers=Object.create(null),this._active=s,this._ident=0,this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=s}registerHandler(e,t){void 0===this._handlers[e]&&(this._handlers[e]=[]);const i=this._handlers[e];return i.push(t),{dispose:()=>{const e=i.indexOf(t);-1!==e&&i.splice(e,1)}}}clearHandler(e){this._handlers[e]&&delete this._handlers[e]}setHandlerFallback(e){this._handlerFb=e}reset(){if(this._active.length)for(let e=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;e>=0;--e)this._active[e].unhook(!1);this._stack.paused=!1,this._active=s,this._ident=0}hook(e,t){if(this.reset(),this._ident=e,this._active=this._handlers[e]||s,this._active.length)for(let i=this._active.length-1;i>=0;i--)this._active[i].hook(t);else this._handlerFb(this._ident,"HOOK",t)}put(e,t,i){if(this._active.length)for(let n=this._active.length-1;n>=0;n--)this._active[n].put(e,t,i);else this._handlerFb(this._ident,"PUT",(0,n.utf32ToString)(e,t,i))}unhook(e,t=!0){if(this._active.length){let i=!1,n=this._active.length-1,o=!1;if(this._stack.paused&&(n=this._stack.loopPosition-1,i=t,o=this._stack.fallThrough,this._stack.paused=!1),!o&&!1===i){for(;n>=0&&(i=this._active[n].unhook(e),!0!==i);n--)if(i instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=n,this._stack.fallThrough=!1,i;n--}for(;n>=0;n--)if(i=this._active[n].unhook(!1),i instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=n,this._stack.fallThrough=!0,i}else this._handlerFb(this._ident,"UNHOOK",e);this._active=s,this._ident=0}};const a=new o.Params;a.addParam(0),t.DcsHandler=class{constructor(e){this._handler=e,this._data="",this._params=a,this._hitLimit=!1}hook(e){this._params=e.length>1||e.params[0]?e.clone():a,this._data="",this._hitLimit=!1}put(e,t,i){this._hitLimit||(this._data+=(0,n.utf32ToString)(e,t,i),this._data.length>r.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}unhook(e){let t=!1;if(this._hitLimit)t=!1;else if(e&&(t=this._handler(this._data,this._params),t instanceof Promise))return t.then(e=>(this._params=a,this._data="",this._hitLimit=!1,e));return this._params=a,this._data="",this._hitLimit=!1,t}}},2015:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.EscapeSequenceParser=t.VT500_TRANSITION_TABLE=t.TransitionTable=void 0;const n=i(844),o=i(8742),r=i(6242),s=i(6351);class a{constructor(e){this.table=new Uint8Array(e)}setDefault(e,t){this.table.fill(e<<4|t)}add(e,t,i,n){this.table[t<<8|e]=i<<4|n}addMany(e,t,i,n){for(let o=0;o<e.length;o++)this.table[t<<8|e[o]]=i<<4|n}}t.TransitionTable=a;const l=160;t.VT500_TRANSITION_TABLE=function(){const e=new a(4095),t=Array.apply(null,Array(256)).map((e,t)=>t),i=(e,i)=>t.slice(e,i),n=i(32,127),o=i(0,24);o.push(25),o.push.apply(o,i(28,32));const r=i(0,14);let s;for(s in e.setDefault(1,0),e.addMany(n,0,2,0),r)e.addMany([24,26,153,154],s,3,0),e.addMany(i(128,144),s,3,0),e.addMany(i(144,152),s,3,0),e.add(156,s,0,0),e.add(27,s,11,1),e.add(157,s,4,8),e.addMany([152,158,159],s,0,7),e.add(155,s,11,3),e.add(144,s,11,9);return e.addMany(o,0,3,0),e.addMany(o,1,3,1),e.add(127,1,0,1),e.addMany(o,8,0,8),e.addMany(o,3,3,3),e.add(127,3,0,3),e.addMany(o,4,3,4),e.add(127,4,0,4),e.addMany(o,6,3,6),e.addMany(o,5,3,5),e.add(127,5,0,5),e.addMany(o,2,3,2),e.add(127,2,0,2),e.add(93,1,4,8),e.addMany(n,8,5,8),e.add(127,8,5,8),e.addMany([156,27,24,26,7],8,6,0),e.addMany(i(28,32),8,0,8),e.addMany([88,94,95],1,0,7),e.addMany(n,7,0,7),e.addMany(o,7,0,7),e.add(156,7,0,0),e.add(127,7,0,7),e.add(91,1,11,3),e.addMany(i(64,127),3,7,0),e.addMany(i(48,60),3,8,4),e.addMany([60,61,62,63],3,9,4),e.addMany(i(48,60),4,8,4),e.addMany(i(64,127),4,7,0),e.addMany([60,61,62,63],4,0,6),e.addMany(i(32,64),6,0,6),e.add(127,6,0,6),e.addMany(i(64,127),6,0,0),e.addMany(i(32,48),3,9,5),e.addMany(i(32,48),5,9,5),e.addMany(i(48,64),5,0,6),e.addMany(i(64,127),5,7,0),e.addMany(i(32,48),4,9,5),e.addMany(i(32,48),1,9,2),e.addMany(i(32,48),2,9,2),e.addMany(i(48,127),2,10,0),e.addMany(i(48,80),1,10,0),e.addMany(i(81,88),1,10,0),e.addMany([89,90,92],1,10,0),e.addMany(i(96,127),1,10,0),e.add(80,1,11,9),e.addMany(o,9,0,9),e.add(127,9,0,9),e.addMany(i(28,32),9,0,9),e.addMany(i(32,48),9,9,12),e.addMany(i(48,60),9,8,10),e.addMany([60,61,62,63],9,9,10),e.addMany(o,11,0,11),e.addMany(i(32,128),11,0,11),e.addMany(i(28,32),11,0,11),e.addMany(o,10,0,10),e.add(127,10,0,10),e.addMany(i(28,32),10,0,10),e.addMany(i(48,60),10,8,10),e.addMany([60,61,62,63],10,0,11),e.addMany(i(32,48),10,9,12),e.addMany(o,12,0,12),e.add(127,12,0,12),e.addMany(i(28,32),12,0,12),e.addMany(i(32,48),12,9,12),e.addMany(i(48,64),12,0,11),e.addMany(i(64,127),12,12,13),e.addMany(i(64,127),10,12,13),e.addMany(i(64,127),9,12,13),e.addMany(o,13,13,13),e.addMany(n,13,13,13),e.add(127,13,0,13),e.addMany([27,156,24,26],13,14,0),e.add(l,0,2,0),e.add(l,8,5,8),e.add(l,6,0,6),e.add(l,11,0,11),e.add(l,13,13,13),e}(),t.EscapeSequenceParser=class extends n.Disposable{constructor(e=t.VT500_TRANSITION_TABLE){super(),this._transitions=e,this._parseStack={state:0,handlers:[],handlerPos:0,transition:0,chunkPos:0},this.initialState=0,this.currentState=this.initialState,this._params=new o.Params,this._params.addParam(0),this._collect=0,this.precedingCodepoint=0,this._printHandlerFb=(e,t,i)=>{},this._executeHandlerFb=e=>{},this._csiHandlerFb=(e,t)=>{},this._escHandlerFb=e=>{},this._errorHandlerFb=e=>e,this._printHandler=this._printHandlerFb,this._executeHandlers=Object.create(null),this._csiHandlers=Object.create(null),this._escHandlers=Object.create(null),this.register((0,n.toDisposable)(()=>{this._csiHandlers=Object.create(null),this._executeHandlers=Object.create(null),this._escHandlers=Object.create(null)})),this._oscParser=this.register(new r.OscParser),this._dcsParser=this.register(new s.DcsParser),this._errorHandler=this._errorHandlerFb,this.registerEscHandler({final:"\\"},()=>!0)}_identifier(e,t=[64,126]){let i=0;if(e.prefix){if(e.prefix.length>1)throw new Error("only one byte as prefix supported");if(i=e.prefix.charCodeAt(0),i&&60>i||i>63)throw new Error("prefix must be in range 0x3c .. 0x3f")}if(e.intermediates){if(e.intermediates.length>2)throw new Error("only two bytes as intermediates are supported");for(let t=0;t<e.intermediates.length;++t){const n=e.intermediates.charCodeAt(t);if(32>n||n>47)throw new Error("intermediate must be in range 0x20 .. 0x2f");i<<=8,i|=n}}if(1!==e.final.length)throw new Error("final must be a single byte");const n=e.final.charCodeAt(0);if(t[0]>n||n>t[1])throw new Error(`final must be in range ${t[0]} .. ${t[1]}`);return i<<=8,i|=n,i}identToString(e){const t=[];for(;e;)t.push(String.fromCharCode(255&e)),e>>=8;return t.reverse().join("")}setPrintHandler(e){this._printHandler=e}clearPrintHandler(){this._printHandler=this._printHandlerFb}registerEscHandler(e,t){const i=this._identifier(e,[48,126]);void 0===this._escHandlers[i]&&(this._escHandlers[i]=[]);const n=this._escHandlers[i];return n.push(t),{dispose:()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}}clearEscHandler(e){this._escHandlers[this._identifier(e,[48,126])]&&delete this._escHandlers[this._identifier(e,[48,126])]}setEscHandlerFallback(e){this._escHandlerFb=e}setExecuteHandler(e,t){this._executeHandlers[e.charCodeAt(0)]=t}clearExecuteHandler(e){this._executeHandlers[e.charCodeAt(0)]&&delete this._executeHandlers[e.charCodeAt(0)]}setExecuteHandlerFallback(e){this._executeHandlerFb=e}registerCsiHandler(e,t){const i=this._identifier(e);void 0===this._csiHandlers[i]&&(this._csiHandlers[i]=[]);const n=this._csiHandlers[i];return n.push(t),{dispose:()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}}clearCsiHandler(e){this._csiHandlers[this._identifier(e)]&&delete this._csiHandlers[this._identifier(e)]}setCsiHandlerFallback(e){this._csiHandlerFb=e}registerDcsHandler(e,t){return this._dcsParser.registerHandler(this._identifier(e),t)}clearDcsHandler(e){this._dcsParser.clearHandler(this._identifier(e))}setDcsHandlerFallback(e){this._dcsParser.setHandlerFallback(e)}registerOscHandler(e,t){return this._oscParser.registerHandler(e,t)}clearOscHandler(e){this._oscParser.clearHandler(e)}setOscHandlerFallback(e){this._oscParser.setHandlerFallback(e)}setErrorHandler(e){this._errorHandler=e}clearErrorHandler(){this._errorHandler=this._errorHandlerFb}reset(){this.currentState=this.initialState,this._oscParser.reset(),this._dcsParser.reset(),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0,0!==this._parseStack.state&&(this._parseStack.state=2,this._parseStack.handlers=[])}_preserveStack(e,t,i,n,o){this._parseStack.state=e,this._parseStack.handlers=t,this._parseStack.handlerPos=i,this._parseStack.transition=n,this._parseStack.chunkPos=o}parse(e,t,i){let n,o=0,r=0,s=0;if(this._parseStack.state)if(2===this._parseStack.state)this._parseStack.state=0,s=this._parseStack.chunkPos+1;else{if(void 0===i||1===this._parseStack.state)throw this._parseStack.state=1,new Error("improper continuation due to previous async handler, giving up parsing");const t=this._parseStack.handlers;let r=this._parseStack.handlerPos-1;switch(this._parseStack.state){case 3:if(!1===i&&r>-1)for(;r>=0&&(n=t[r](this._params),!0!==n);r--)if(n instanceof Promise)return this._parseStack.handlerPos=r,n;this._parseStack.handlers=[];break;case 4:if(!1===i&&r>-1)for(;r>=0&&(n=t[r](),!0!==n);r--)if(n instanceof Promise)return this._parseStack.handlerPos=r,n;this._parseStack.handlers=[];break;case 6:if(o=e[this._parseStack.chunkPos],n=this._dcsParser.unhook(24!==o&&26!==o,i),n)return n;27===o&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0;break;case 5:if(o=e[this._parseStack.chunkPos],n=this._oscParser.end(24!==o&&26!==o,i),n)return n;27===o&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0}this._parseStack.state=0,s=this._parseStack.chunkPos+1,this.precedingCodepoint=0,this.currentState=15&this._parseStack.transition}for(let a=s;a<t;++a){switch(o=e[a],r=this._transitions.table[this.currentState<<8|(o<160?o:l)],r>>4){case 2:for(let n=a+1;;++n){if(n>=t||(o=e[n])<32||o>126&&o<l){this._printHandler(e,a,n),a=n-1;break}if(++n>=t||(o=e[n])<32||o>126&&o<l){this._printHandler(e,a,n),a=n-1;break}if(++n>=t||(o=e[n])<32||o>126&&o<l){this._printHandler(e,a,n),a=n-1;break}if(++n>=t||(o=e[n])<32||o>126&&o<l){this._printHandler(e,a,n),a=n-1;break}}break;case 3:this._executeHandlers[o]?this._executeHandlers[o]():this._executeHandlerFb(o),this.precedingCodepoint=0;break;case 0:break;case 1:if(this._errorHandler({position:a,code:o,currentState:this.currentState,collect:this._collect,params:this._params,abort:!1}).abort)return;break;case 7:const i=this._csiHandlers[this._collect<<8|o];let s=i?i.length-1:-1;for(;s>=0&&(n=i[s](this._params),!0!==n);s--)if(n instanceof Promise)return this._preserveStack(3,i,s,r,a),n;s<0&&this._csiHandlerFb(this._collect<<8|o,this._params),this.precedingCodepoint=0;break;case 8:do{switch(o){case 59:this._params.addParam(0);break;case 58:this._params.addSubParam(-1);break;default:this._params.addDigit(o-48)}}while(++a<t&&(o=e[a])>47&&o<60);a--;break;case 9:this._collect<<=8,this._collect|=o;break;case 10:const c=this._escHandlers[this._collect<<8|o];let h=c?c.length-1:-1;for(;h>=0&&(n=c[h](),!0!==n);h--)if(n instanceof Promise)return this._preserveStack(4,c,h,r,a),n;h<0&&this._escHandlerFb(this._collect<<8|o),this.precedingCodepoint=0;break;case 11:this._params.reset(),this._params.addParam(0),this._collect=0;break;case 12:this._dcsParser.hook(this._collect<<8|o,this._params);break;case 13:for(let n=a+1;;++n)if(n>=t||24===(o=e[n])||26===o||27===o||o>127&&o<l){this._dcsParser.put(e,a,n),a=n-1;break}break;case 14:if(n=this._dcsParser.unhook(24!==o&&26!==o),n)return this._preserveStack(6,[],0,r,a),n;27===o&&(r|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0;break;case 4:this._oscParser.start();break;case 5:for(let n=a+1;;n++)if(n>=t||(o=e[n])<32||o>127&&o<l){this._oscParser.put(e,a,n),a=n-1;break}break;case 6:if(n=this._oscParser.end(24!==o&&26!==o),n)return this._preserveStack(5,[],0,r,a),n;27===o&&(r|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0}this.currentState=15&r}}}},6242:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.OscHandler=t.OscParser=void 0;const n=i(5770),o=i(482),r=[];t.OscParser=class{constructor(){this._state=0,this._active=r,this._id=-1,this._handlers=Object.create(null),this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}registerHandler(e,t){void 0===this._handlers[e]&&(this._handlers[e]=[]);const i=this._handlers[e];return i.push(t),{dispose:()=>{const e=i.indexOf(t);-1!==e&&i.splice(e,1)}}}clearHandler(e){this._handlers[e]&&delete this._handlers[e]}setHandlerFallback(e){this._handlerFb=e}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=r}reset(){if(2===this._state)for(let e=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;e>=0;--e)this._active[e].end(!1);this._stack.paused=!1,this._active=r,this._id=-1,this._state=0}_start(){if(this._active=this._handlers[this._id]||r,this._active.length)for(let e=this._active.length-1;e>=0;e--)this._active[e].start();else this._handlerFb(this._id,"START")}_put(e,t,i){if(this._active.length)for(let n=this._active.length-1;n>=0;n--)this._active[n].put(e,t,i);else this._handlerFb(this._id,"PUT",(0,o.utf32ToString)(e,t,i))}start(){this.reset(),this._state=1}put(e,t,i){if(3!==this._state){if(1===this._state)for(;t<i;){const i=e[t++];if(59===i){this._state=2,this._start();break}if(i<48||57<i)return void(this._state=3);-1===this._id&&(this._id=0),this._id=10*this._id+i-48}2===this._state&&i-t>0&&this._put(e,t,i)}}end(e,t=!0){if(0!==this._state){if(3!==this._state)if(1===this._state&&this._start(),this._active.length){let i=!1,n=this._active.length-1,o=!1;if(this._stack.paused&&(n=this._stack.loopPosition-1,i=t,o=this._stack.fallThrough,this._stack.paused=!1),!o&&!1===i){for(;n>=0&&(i=this._active[n].end(e),!0!==i);n--)if(i instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=n,this._stack.fallThrough=!1,i;n--}for(;n>=0;n--)if(i=this._active[n].end(!1),i instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=n,this._stack.fallThrough=!0,i}else this._handlerFb(this._id,"END",e);this._active=r,this._id=-1,this._state=0}}},t.OscHandler=class{constructor(e){this._handler=e,this._data="",this._hitLimit=!1}start(){this._data="",this._hitLimit=!1}put(e,t,i){this._hitLimit||(this._data+=(0,o.utf32ToString)(e,t,i),this._data.length>n.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}end(e){let t=!1;if(this._hitLimit)t=!1;else if(e&&(t=this._handler(this._data),t instanceof Promise))return t.then(e=>(this._data="",this._hitLimit=!1,e));return this._data="",this._hitLimit=!1,t}}},8742:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Params=void 0;const i=2147483647;class n{static fromArray(e){const t=new n;if(!e.length)return t;for(let i=Array.isArray(e[0])?1:0;i<e.length;++i){const n=e[i];if(Array.isArray(n))for(let e=0;e<n.length;++e)t.addSubParam(n[e]);else t.addParam(n)}return t}constructor(e=32,t=32){if(this.maxLength=e,this.maxSubParamsLength=t,t>256)throw new Error("maxSubParamsLength must not be greater than 256");this.params=new Int32Array(e),this.length=0,this._subParams=new Int32Array(t),this._subParamsLength=0,this._subParamsIdx=new Uint16Array(e),this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}clone(){const e=new n(this.maxLength,this.maxSubParamsLength);return e.params.set(this.params),e.length=this.length,e._subParams.set(this._subParams),e._subParamsLength=this._subParamsLength,e._subParamsIdx.set(this._subParamsIdx),e._rejectDigits=this._rejectDigits,e._rejectSubDigits=this._rejectSubDigits,e._digitIsSub=this._digitIsSub,e}toArray(){const e=[];for(let t=0;t<this.length;++t){e.push(this.params[t]);const i=this._subParamsIdx[t]>>8,n=255&this._subParamsIdx[t];n-i>0&&e.push(Array.prototype.slice.call(this._subParams,i,n))}return e}reset(){this.length=0,this._subParamsLength=0,this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}addParam(e){if(this._digitIsSub=!1,this.length>=this.maxLength)this._rejectDigits=!0;else{if(e<-1)throw new Error("values lesser than -1 are not allowed");this._subParamsIdx[this.length]=this._subParamsLength<<8|this._subParamsLength,this.params[this.length++]=e>i?i:e}}addSubParam(e){if(this._digitIsSub=!0,this.length)if(this._rejectDigits||this._subParamsLength>=this.maxSubParamsLength)this._rejectSubDigits=!0;else{if(e<-1)throw new Error("values lesser than -1 are not allowed");this._subParams[this._subParamsLength++]=e>i?i:e,this._subParamsIdx[this.length-1]++}}hasSubParams(e){return(255&this._subParamsIdx[e])-(this._subParamsIdx[e]>>8)>0}getSubParams(e){const t=this._subParamsIdx[e]>>8,i=255&this._subParamsIdx[e];return i-t>0?this._subParams.subarray(t,i):null}getSubParamsAll(){const e={};for(let t=0;t<this.length;++t){const i=this._subParamsIdx[t]>>8,n=255&this._subParamsIdx[t];n-i>0&&(e[t]=this._subParams.slice(i,n))}return e}addDigit(e){let t;if(this._rejectDigits||!(t=this._digitIsSub?this._subParamsLength:this.length)||this._digitIsSub&&this._rejectSubDigits)return;const n=this._digitIsSub?this._subParams:this.params,o=n[t-1];n[t-1]=~o?Math.min(10*o+e,i):e}}t.Params=n},5741:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AddonManager=void 0,t.AddonManager=class{constructor(){this._addons=[]}dispose(){for(let e=this._addons.length-1;e>=0;e--)this._addons[e].instance.dispose()}loadAddon(e,t){const i={instance:t,dispose:t.dispose,isDisposed:!1};this._addons.push(i),t.dispose=()=>this._wrappedAddonDispose(i),t.activate(e)}_wrappedAddonDispose(e){if(e.isDisposed)return;let t=-1;for(let i=0;i<this._addons.length;i++)if(this._addons[i]===e){t=i;break}if(-1===t)throw new Error("Could not dispose an addon that has not been loaded");e.isDisposed=!0,e.dispose.apply(e.instance),this._addons.splice(t,1)}}},8771:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BufferApiView=void 0;const n=i(3785),o=i(511);t.BufferApiView=class{constructor(e,t){this._buffer=e,this.type=t}init(e){return this._buffer=e,this}get cursorY(){return this._buffer.y}get cursorX(){return this._buffer.x}get viewportY(){return this._buffer.ydisp}get baseY(){return this._buffer.ybase}get length(){return this._buffer.lines.length}getLine(e){const t=this._buffer.lines.get(e);if(t)return new n.BufferLineApiView(t)}getNullCell(){return new o.CellData}}},3785:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BufferLineApiView=void 0;const n=i(511);t.BufferLineApiView=class{constructor(e){this._line=e}get isWrapped(){return this._line.isWrapped}get length(){return this._line.length}getCell(e,t){if(!(e<0||e>=this._line.length))return t?(this._line.loadCell(e,t),t):this._line.loadCell(e,new n.CellData)}translateToString(e,t,i){return this._line.translateToString(e,t,i)}}},8285:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BufferNamespaceApi=void 0;const n=i(8771),o=i(8460),r=i(844);t.BufferNamespaceApi=class extends r.Disposable{constructor(e){super(),this._core=e,this._onBufferChange=this.register(new o.EventEmitter),this.onBufferChange=this._onBufferChange.event,this._normal=new n.BufferApiView(this._core.buffers.normal,"normal"),this._alternate=new n.BufferApiView(this._core.buffers.alt,"alternate"),this._core.buffers.onBufferActivate(()=>this._onBufferChange.fire(this.active))}get active(){if(this._core.buffers.active===this._core.buffers.normal)return this.normal;if(this._core.buffers.active===this._core.buffers.alt)return this.alternate;throw new Error("Active buffer is neither normal nor alternate")}get normal(){return this._normal.init(this._core.buffers.normal)}get alternate(){return this._alternate.init(this._core.buffers.alt)}}},7975:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ParserApi=void 0,t.ParserApi=class{constructor(e){this._core=e}registerCsiHandler(e,t){return this._core.registerCsiHandler(e,e=>t(e.toArray()))}addCsiHandler(e,t){return this.registerCsiHandler(e,t)}registerDcsHandler(e,t){return this._core.registerDcsHandler(e,(e,i)=>t(e,i.toArray()))}addDcsHandler(e,t){return this.registerDcsHandler(e,t)}registerEscHandler(e,t){return this._core.registerEscHandler(e,t)}addEscHandler(e,t){return this.registerEscHandler(e,t)}registerOscHandler(e,t){return this._core.registerOscHandler(e,t)}addOscHandler(e,t){return this.registerOscHandler(e,t)}}},7090:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.UnicodeApi=void 0,t.UnicodeApi=class{constructor(e){this._core=e}register(e){this._core.unicodeService.register(e)}get versions(){return this._core.unicodeService.versions}get activeVersion(){return this._core.unicodeService.activeVersion}set activeVersion(e){this._core.unicodeService.activeVersion=e}}},744:function(e,t,i){var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__param||function(e,t){return function(i,n){t(i,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.BufferService=t.MINIMUM_ROWS=t.MINIMUM_COLS=void 0;const r=i(8460),s=i(844),a=i(5295),l=i(2585);t.MINIMUM_COLS=2,t.MINIMUM_ROWS=1;let c=t.BufferService=class extends s.Disposable{get buffer(){return this.buffers.active}constructor(e){super(),this.isUserScrolling=!1,this._onResize=this.register(new r.EventEmitter),this.onResize=this._onResize.event,this._onScroll=this.register(new r.EventEmitter),this.onScroll=this._onScroll.event,this.cols=Math.max(e.rawOptions.cols||0,t.MINIMUM_COLS),this.rows=Math.max(e.rawOptions.rows||0,t.MINIMUM_ROWS),this.buffers=this.register(new a.BufferSet(e,this))}resize(e,t){this.cols=e,this.rows=t,this.buffers.resize(e,t),this._onResize.fire({cols:e,rows:t})}reset(){this.buffers.reset(),this.isUserScrolling=!1}scroll(e,t=!1){const i=this.buffer;let n;n=this._cachedBlankLine,n&&n.length===this.cols&&n.getFg(0)===e.fg&&n.getBg(0)===e.bg||(n=i.getBlankLine(e,t),this._cachedBlankLine=n),n.isWrapped=t;const o=i.ybase+i.scrollTop,r=i.ybase+i.scrollBottom;if(0===i.scrollTop){const e=i.lines.isFull;r===i.lines.length-1?e?i.lines.recycle().copyFrom(n):i.lines.push(n.clone()):i.lines.splice(r+1,0,n.clone()),e?this.isUserScrolling&&(i.ydisp=Math.max(i.ydisp-1,0)):(i.ybase++,this.isUserScrolling||i.ydisp++)}else i.lines.shiftElements(o+1,r-o+1-1,-1),i.lines.set(r,n.clone());this.isUserScrolling||(i.ydisp=i.ybase),this._onScroll.fire(i.ydisp)}scrollLines(e,t,i){const n=this.buffer;if(e<0){if(0===n.ydisp)return;this.isUserScrolling=!0}else e+n.ydisp>=n.ybase&&(this.isUserScrolling=!1);const o=n.ydisp;n.ydisp=Math.max(Math.min(n.ydisp+e,n.ybase),0),o!==n.ydisp&&(t||this._onScroll.fire(n.ydisp))}};t.BufferService=c=n([o(0,l.IOptionsService)],c)},7994:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CharsetService=void 0,t.CharsetService=class{constructor(){this.glevel=0,this._charsets=[]}reset(){this.charset=void 0,this._charsets=[],this.glevel=0}setgLevel(e){this.glevel=e,this.charset=this._charsets[e]}setgCharset(e,t){this._charsets[e]=t,this.glevel===e&&(this.charset=t)}}},1753:function(e,t,i){var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__param||function(e,t){return function(i,n){t(i,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.CoreMouseService=void 0;const r=i(2585),s=i(8460),a=i(844),l={NONE:{events:0,restrict:()=>!1},X10:{events:1,restrict:e=>4!==e.button&&1===e.action&&(e.ctrl=!1,e.alt=!1,e.shift=!1,!0)},VT200:{events:19,restrict:e=>32!==e.action},DRAG:{events:23,restrict:e=>32!==e.action||3!==e.button},ANY:{events:31,restrict:e=>!0}};function c(e,t){let i=(e.ctrl?16:0)|(e.shift?4:0)|(e.alt?8:0);return 4===e.button?(i|=64,i|=e.action):(i|=3&e.button,4&e.button&&(i|=64),8&e.button&&(i|=128),32===e.action?i|=32:0!==e.action||t||(i|=3)),i}const h=String.fromCharCode,u={DEFAULT:e=>{const t=[c(e,!1)+32,e.col+32,e.row+32];return t[0]>255||t[1]>255||t[2]>255?"":`\x1b[M${h(t[0])}${h(t[1])}${h(t[2])}`},SGR:e=>{const t=0===e.action&&4!==e.button?"m":"M";return`\x1b[<${c(e,!0)};${e.col};${e.row}${t}`},SGR_PIXELS:e=>{const t=0===e.action&&4!==e.button?"m":"M";return`\x1b[<${c(e,!0)};${e.x};${e.y}${t}`}};let d=t.CoreMouseService=class extends a.Disposable{constructor(e,t){super(),this._bufferService=e,this._coreService=t,this._protocols={},this._encodings={},this._activeProtocol="",this._activeEncoding="",this._lastEvent=null,this._onProtocolChange=this.register(new s.EventEmitter),this.onProtocolChange=this._onProtocolChange.event;for(const i of Object.keys(l))this.addProtocol(i,l[i]);for(const i of Object.keys(u))this.addEncoding(i,u[i]);this.reset()}addProtocol(e,t){this._protocols[e]=t}addEncoding(e,t){this._encodings[e]=t}get activeProtocol(){return this._activeProtocol}get areMouseEventsActive(){return 0!==this._protocols[this._activeProtocol].events}set activeProtocol(e){if(!this._protocols[e])throw new Error(`unknown protocol "${e}"`);this._activeProtocol=e,this._onProtocolChange.fire(this._protocols[e].events)}get activeEncoding(){return this._activeEncoding}set activeEncoding(e){if(!this._encodings[e])throw new Error(`unknown encoding "${e}"`);this._activeEncoding=e}reset(){this.activeProtocol="NONE",this.activeEncoding="DEFAULT",this._lastEvent=null}triggerMouseEvent(e){if(e.col<0||e.col>=this._bufferService.cols||e.row<0||e.row>=this._bufferService.rows||4===e.button&&32===e.action||3===e.button&&32!==e.action||4!==e.button&&(2===e.action||3===e.action)||(e.col++,e.row++,32===e.action&&this._lastEvent&&this._equalEvents(this._lastEvent,e,"SGR_PIXELS"===this._activeEncoding))||!this._protocols[this._activeProtocol].restrict(e))return!1;const t=this._encodings[this._activeEncoding](e);return t&&("DEFAULT"===this._activeEncoding?this._coreService.triggerBinaryEvent(t):this._coreService.triggerDataEvent(t,!0)),this._lastEvent=e,!0}explainEvents(e){return{down:!!(1&e),up:!!(2&e),drag:!!(4&e),move:!!(8&e),wheel:!!(16&e)}}_equalEvents(e,t,i){if(i){if(e.x!==t.x||e.y!==t.y)return!1}else if(e.col!==t.col||e.row!==t.row)return!1;return e.button===t.button&&e.action===t.action&&e.ctrl===t.ctrl&&e.alt===t.alt&&e.shift===t.shift}};t.CoreMouseService=d=n([o(0,r.IBufferService),o(1,r.ICoreService)],d)},6975:function(e,t,i){var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__param||function(e,t){return function(i,n){t(i,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.CoreService=void 0;const r=i(1439),s=i(8460),a=i(844),l=i(2585),c=Object.freeze({insertMode:!1}),h=Object.freeze({applicationCursorKeys:!1,applicationKeypad:!1,bracketedPasteMode:!1,origin:!1,reverseWraparound:!1,sendFocus:!1,wraparound:!0});let u=t.CoreService=class extends a.Disposable{constructor(e,t,i){super(),this._bufferService=e,this._logService=t,this._optionsService=i,this.isCursorInitialized=!1,this.isCursorHidden=!1,this._onData=this.register(new s.EventEmitter),this.onData=this._onData.event,this._onUserInput=this.register(new s.EventEmitter),this.onUserInput=this._onUserInput.event,this._onBinary=this.register(new s.EventEmitter),this.onBinary=this._onBinary.event,this._onRequestScrollToBottom=this.register(new s.EventEmitter),this.onRequestScrollToBottom=this._onRequestScrollToBottom.event,this.modes=(0,r.clone)(c),this.decPrivateModes=(0,r.clone)(h)}reset(){this.modes=(0,r.clone)(c),this.decPrivateModes=(0,r.clone)(h)}triggerDataEvent(e,t=!1){if(this._optionsService.rawOptions.disableStdin)return;const i=this._bufferService.buffer;t&&this._optionsService.rawOptions.scrollOnUserInput&&i.ybase!==i.ydisp&&this._onRequestScrollToBottom.fire(),t&&this._onUserInput.fire(),this._logService.debug(`sending data "${e}"`,()=>e.split("").map(e=>e.charCodeAt(0))),this._onData.fire(e)}triggerBinaryEvent(e){this._optionsService.rawOptions.disableStdin||(this._logService.debug(`sending binary "${e}"`,()=>e.split("").map(e=>e.charCodeAt(0))),this._onBinary.fire(e))}};t.CoreService=u=n([o(0,l.IBufferService),o(1,l.ILogService),o(2,l.IOptionsService)],u)},9074:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DecorationService=void 0;const n=i(8055),o=i(8460),r=i(844),s=i(6106);let a=0,l=0;t.DecorationService=class extends r.Disposable{get decorations(){return this._decorations.values()}constructor(){super(),this._decorations=new s.SortedList(e=>null==e?void 0:e.marker.line),this._onDecorationRegistered=this.register(new o.EventEmitter),this.onDecorationRegistered=this._onDecorationRegistered.event,this._onDecorationRemoved=this.register(new o.EventEmitter),this.onDecorationRemoved=this._onDecorationRemoved.event,this.register((0,r.toDisposable)(()=>this.reset()))}registerDecoration(e){if(e.marker.isDisposed)return;const t=new c(e);if(t){const e=t.marker.onDispose(()=>t.dispose());t.onDispose(()=>{t&&(this._decorations.delete(t)&&this._onDecorationRemoved.fire(t),e.dispose())}),this._decorations.insert(t),this._onDecorationRegistered.fire(t)}return t}reset(){for(const e of this._decorations.values())e.dispose();this._decorations.clear()}*getDecorationsAtCell(e,t,i){var n,o,r;let s=0,a=0;for(const l of this._decorations.getKeyIterator(t))s=null!==(n=l.options.x)&&void 0!==n?n:0,a=s+(null!==(o=l.options.width)&&void 0!==o?o:1),e>=s&&e<a&&(!i||(null!==(r=l.options.layer)&&void 0!==r?r:"bottom")===i)&&(yield l)}forEachDecorationAtCell(e,t,i,n){this._decorations.forEachByKey(t,t=>{var o,r,s;a=null!==(o=t.options.x)&&void 0!==o?o:0,l=a+(null!==(r=t.options.width)&&void 0!==r?r:1),e>=a&&e<l&&(!i||(null!==(s=t.options.layer)&&void 0!==s?s:"bottom")===i)&&n(t)})}};class c extends r.Disposable{get isDisposed(){return this._isDisposed}get backgroundColorRGB(){return null===this._cachedBg&&(this._cachedBg=this.options.backgroundColor?n.css.toColor(this.options.backgroundColor):void 0),this._cachedBg}get foregroundColorRGB(){return null===this._cachedFg&&(this._cachedFg=this.options.foregroundColor?n.css.toColor(this.options.foregroundColor):void 0),this._cachedFg}constructor(e){super(),this.options=e,this.onRenderEmitter=this.register(new o.EventEmitter),this.onRender=this.onRenderEmitter.event,this._onDispose=this.register(new o.EventEmitter),this.onDispose=this._onDispose.event,this._cachedBg=null,this._cachedFg=null,this.marker=e.marker,this.options.overviewRulerOptions&&!this.options.overviewRulerOptions.position&&(this.options.overviewRulerOptions.position="full")}dispose(){this._onDispose.fire(),super.dispose()}}},4348:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.InstantiationService=t.ServiceCollection=void 0;const n=i(2585),o=i(8343);class r{constructor(...e){this._entries=new Map;for(const[t,i]of e)this.set(t,i)}set(e,t){const i=this._entries.get(e);return this._entries.set(e,t),i}forEach(e){for(const[t,i]of this._entries.entries())e(t,i)}has(e){return this._entries.has(e)}get(e){return this._entries.get(e)}}t.ServiceCollection=r,t.InstantiationService=class{constructor(){this._services=new r,this._services.set(n.IInstantiationService,this)}setService(e,t){this._services.set(e,t)}getService(e){return this._services.get(e)}createInstance(e,...t){const i=(0,o.getServiceDependencies)(e).sort((e,t)=>e.index-t.index),n=[];for(const o of i){const t=this._services.get(o.id);if(!t)throw new Error(`[createInstance] ${e.name} depends on UNKNOWN service ${o.id}.`);n.push(t)}const r=i.length>0?i[0].index:t.length;if(t.length!==r)throw new Error(`[createInstance] First service dependency of ${e.name} at position ${r+1} conflicts with ${t.length} static arguments`);return new e(...[...t,...n])}}},7866:function(e,t,i){var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__param||function(e,t){return function(i,n){t(i,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.traceCall=t.setTraceLogger=t.LogService=void 0;const r=i(844),s=i(2585),a={trace:s.LogLevelEnum.TRACE,debug:s.LogLevelEnum.DEBUG,info:s.LogLevelEnum.INFO,warn:s.LogLevelEnum.WARN,error:s.LogLevelEnum.ERROR,off:s.LogLevelEnum.OFF};let l,c=t.LogService=class extends r.Disposable{get logLevel(){return this._logLevel}constructor(e){super(),this._optionsService=e,this._logLevel=s.LogLevelEnum.OFF,this._updateLogLevel(),this.register(this._optionsService.onSpecificOptionChange("logLevel",()=>this._updateLogLevel())),l=this}_updateLogLevel(){this._logLevel=a[this._optionsService.rawOptions.logLevel]}_evalLazyOptionalParams(e){for(let t=0;t<e.length;t++)"function"==typeof e[t]&&(e[t]=e[t]())}_log(e,t,i){this._evalLazyOptionalParams(i),e.call(console,(this._optionsService.options.logger?"":"xterm.js: ")+t,...i)}trace(e,...t){var i,n;this._logLevel<=s.LogLevelEnum.TRACE&&this._log(null!==(n=null===(i=this._optionsService.options.logger)||void 0===i?void 0:i.trace.bind(this._optionsService.options.logger))&&void 0!==n?n:console.log,e,t)}debug(e,...t){var i,n;this._logLevel<=s.LogLevelEnum.DEBUG&&this._log(null!==(n=null===(i=this._optionsService.options.logger)||void 0===i?void 0:i.debug.bind(this._optionsService.options.logger))&&void 0!==n?n:console.log,e,t)}info(e,...t){var i,n;this._logLevel<=s.LogLevelEnum.INFO&&this._log(null!==(n=null===(i=this._optionsService.options.logger)||void 0===i?void 0:i.info.bind(this._optionsService.options.logger))&&void 0!==n?n:console.info,e,t)}warn(e,...t){var i,n;this._logLevel<=s.LogLevelEnum.WARN&&this._log(null!==(n=null===(i=this._optionsService.options.logger)||void 0===i?void 0:i.warn.bind(this._optionsService.options.logger))&&void 0!==n?n:console.warn,e,t)}error(e,...t){var i,n;this._logLevel<=s.LogLevelEnum.ERROR&&this._log(null!==(n=null===(i=this._optionsService.options.logger)||void 0===i?void 0:i.error.bind(this._optionsService.options.logger))&&void 0!==n?n:console.error,e,t)}};t.LogService=c=n([o(0,s.IOptionsService)],c),t.setTraceLogger=function(e){l=e},t.traceCall=function(e,t,i){if("function"!=typeof i.value)throw new Error("not supported");const n=i.value;i.value=function(...e){if(l.logLevel!==s.LogLevelEnum.TRACE)return n.apply(this,e);l.trace(`GlyphRenderer#${n.name}(${e.map(e=>JSON.stringify(e)).join(", ")})`);const t=n.apply(this,e);return l.trace(`GlyphRenderer#${n.name} return`,t),t}}},7302:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.OptionsService=t.DEFAULT_OPTIONS=void 0;const n=i(8460),o=i(844),r=i(6114);t.DEFAULT_OPTIONS={cols:80,rows:24,cursorBlink:!1,cursorStyle:"block",cursorWidth:1,cursorInactiveStyle:"outline",customGlyphs:!0,drawBoldTextInBrightColors:!0,fastScrollModifier:"alt",fastScrollSensitivity:5,fontFamily:"courier-new, courier, monospace",fontSize:15,fontWeight:"normal",fontWeightBold:"bold",ignoreBracketedPasteMode:!1,lineHeight:1,letterSpacing:0,linkHandler:null,logLevel:"info",logger:null,scrollback:1e3,scrollOnUserInput:!0,scrollSensitivity:1,screenReaderMode:!1,smoothScrollDuration:0,macOptionIsMeta:!1,macOptionClickForcesSelection:!1,minimumContrastRatio:1,disableStdin:!1,allowProposedApi:!1,allowTransparency:!1,tabStopWidth:8,theme:{},rightClickSelectsWord:r.isMac,windowOptions:{},windowsMode:!1,windowsPty:{},wordSeparator:" ()[]{}',\"`",altClickMovesCursor:!0,convertEol:!1,termName:"xterm",cancelEvents:!1,overviewRulerWidth:0};const s=["normal","bold","100","200","300","400","500","600","700","800","900"];t.OptionsService=class extends o.Disposable{constructor(e){super(),this._onOptionChange=this.register(new n.EventEmitter),this.onOptionChange=this._onOptionChange.event;const i=Object.assign({},t.DEFAULT_OPTIONS);for(const t in e)if(t in i)try{i[t]=this._sanitizeAndValidateOption(t,e[t])}catch(o){console.error(o)}this.rawOptions=i,this.options=Object.assign({},i),this._setupOptions()}onSpecificOptionChange(e,t){return this.onOptionChange(i=>{i===e&&t(this.rawOptions[e])})}onMultipleOptionChange(e,t){return this.onOptionChange(i=>{-1!==e.indexOf(i)&&t()})}_setupOptions(){const e=e=>{if(!(e in t.DEFAULT_OPTIONS))throw new Error(`No option with key "${e}"`);return this.rawOptions[e]},i=(e,i)=>{if(!(e in t.DEFAULT_OPTIONS))throw new Error(`No option with key "${e}"`);i=this._sanitizeAndValidateOption(e,i),this.rawOptions[e]!==i&&(this.rawOptions[e]=i,this._onOptionChange.fire(e))};for(const t in this.rawOptions){const n={get:e.bind(this,t),set:i.bind(this,t)};Object.defineProperty(this.options,t,n)}}_sanitizeAndValidateOption(e,i){switch(e){case"cursorStyle":if(i||(i=t.DEFAULT_OPTIONS[e]),"block"!==(n=i)&&"underline"!==n&&"bar"!==n)throw new Error(`"${i}" is not a valid value for ${e}`);break;case"wordSeparator":i||(i=t.DEFAULT_OPTIONS[e]);break;case"fontWeight":case"fontWeightBold":if("number"==typeof i&&1<=i&&i<=1e3)break;i=s.includes(i)?i:t.DEFAULT_OPTIONS[e];break;case"cursorWidth":i=Math.floor(i);case"lineHeight":case"tabStopWidth":if(i<1)throw new Error(`${e} cannot be less than 1, value: ${i}`);break;case"minimumContrastRatio":i=Math.max(1,Math.min(21,Math.round(10*i)/10));break;case"scrollback":if((i=Math.min(i,4294967295))<0)throw new Error(`${e} cannot be less than 0, value: ${i}`);break;case"fastScrollSensitivity":case"scrollSensitivity":if(i<=0)throw new Error(`${e} cannot be less than or equal to 0, value: ${i}`);break;case"rows":case"cols":if(!i&&0!==i)throw new Error(`${e} must be numeric, value: ${i}`);break;case"windowsPty":i=null!=i?i:{}}var n;return i}}},2660:function(e,t,i){var n=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,i,s):o(t,i))||s);return r>3&&s&&Object.defineProperty(t,i,s),s},o=this&&this.__param||function(e,t){return function(i,n){t(i,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.OscLinkService=void 0;const r=i(2585);let s=t.OscLinkService=class{constructor(e){this._bufferService=e,this._nextId=1,this._entriesWithId=new Map,this._dataByLinkId=new Map}registerLink(e){const t=this._bufferService.buffer;if(void 0===e.id){const i=t.addMarker(t.ybase+t.y),n={data:e,id:this._nextId++,lines:[i]};return i.onDispose(()=>this._removeMarkerFromLink(n,i)),this._dataByLinkId.set(n.id,n),n.id}const i=e,n=this._getEntryIdKey(i),o=this._entriesWithId.get(n);if(o)return this.addLineToLink(o.id,t.ybase+t.y),o.id;const r=t.addMarker(t.ybase+t.y),s={id:this._nextId++,key:this._getEntryIdKey(i),data:i,lines:[r]};return r.onDispose(()=>this._removeMarkerFromLink(s,r)),this._entriesWithId.set(s.key,s),this._dataByLinkId.set(s.id,s),s.id}addLineToLink(e,t){const i=this._dataByLinkId.get(e);if(i&&i.lines.every(e=>e.line!==t)){const e=this._bufferService.buffer.addMarker(t);i.lines.push(e),e.onDispose(()=>this._removeMarkerFromLink(i,e))}}getLinkData(e){var t;return null===(t=this._dataByLinkId.get(e))||void 0===t?void 0:t.data}_getEntryIdKey(e){return`${e.id};;${e.uri}`}_removeMarkerFromLink(e,t){const i=e.lines.indexOf(t);-1!==i&&(e.lines.splice(i,1),0===e.lines.length&&(void 0!==e.data.id&&this._entriesWithId.delete(e.key),this._dataByLinkId.delete(e.id)))}};t.OscLinkService=s=n([o(0,r.IBufferService)],s)},8343:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createDecorator=t.getServiceDependencies=t.serviceRegistry=void 0;const i="di$target",n="di$dependencies";t.serviceRegistry=new Map,t.getServiceDependencies=function(e){return e[n]||[]},t.createDecorator=function(e){if(t.serviceRegistry.has(e))return t.serviceRegistry.get(e);const o=function(e,t,r){if(3!==arguments.length)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");var s,a,l;s=o,l=r,(a=e)[i]===a?a[n].push({id:s,index:l}):(a[n]=[{id:s,index:l}],a[i]=a)};return o.toString=()=>e,t.serviceRegistry.set(e,o),o}},2585:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.IDecorationService=t.IUnicodeService=t.IOscLinkService=t.IOptionsService=t.ILogService=t.LogLevelEnum=t.IInstantiationService=t.ICharsetService=t.ICoreService=t.ICoreMouseService=t.IBufferService=void 0;const n=i(8343);var o,r;t.IBufferService=(0,n.createDecorator)("BufferService"),t.ICoreMouseService=(0,n.createDecorator)("CoreMouseService"),t.ICoreService=(0,n.createDecorator)("CoreService"),t.ICharsetService=(0,n.createDecorator)("CharsetService"),t.IInstantiationService=(0,n.createDecorator)("InstantiationService"),(r=o||(t.LogLevelEnum=o={}))[r.TRACE=0]="TRACE",r[r.DEBUG=1]="DEBUG",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.OFF=5]="OFF",t.ILogService=(0,n.createDecorator)("LogService"),t.IOptionsService=(0,n.createDecorator)("OptionsService"),t.IOscLinkService=(0,n.createDecorator)("OscLinkService"),t.IUnicodeService=(0,n.createDecorator)("UnicodeService"),t.IDecorationService=(0,n.createDecorator)("DecorationService")},1480:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.UnicodeService=void 0;const n=i(8460),o=i(225);t.UnicodeService=class{constructor(){this._providers=Object.create(null),this._active="",this._onChange=new n.EventEmitter,this.onChange=this._onChange.event;const e=new o.UnicodeV6;this.register(e),this._active=e.version,this._activeProvider=e}dispose(){this._onChange.dispose()}get versions(){return Object.keys(this._providers)}get activeVersion(){return this._active}set activeVersion(e){if(!this._providers[e])throw new Error(`unknown Unicode version "${e}"`);this._active=e,this._activeProvider=this._providers[e],this._onChange.fire(e)}register(e){this._providers[e.version]=e}wcwidth(e){return this._activeProvider.wcwidth(e)}getStringCellWidth(e){let t=0;const i=e.length;for(let n=0;n<i;++n){let o=e.charCodeAt(n);if(55296<=o&&o<=56319){if(++n>=i)return t+this.wcwidth(o);const r=e.charCodeAt(n);56320<=r&&r<=57343?o=1024*(o-55296)+r-56320+65536:t+=this.wcwidth(r)}t+=this.wcwidth(o)}return t}}}},t={};function i(n){var o=t[n];if(void 0!==o)return o.exports;var r=t[n]={exports:{}};return e[n].call(r.exports,r,r.exports,i),r.exports}var n={};return(()=>{var e=n;Object.defineProperty(e,"__esModule",{value:!0}),e.Terminal=void 0;const t=i(9042),o=i(3236),r=i(844),s=i(5741),a=i(8285),l=i(7975),c=i(7090),h=["cols","rows"];e.Terminal=class extends r.Disposable{constructor(e){super(),this._core=this.register(new o.Terminal(e)),this._addonManager=this.register(new s.AddonManager),this._publicOptions=Object.assign({},this._core.options);const t=e=>this._core.options[e],i=(e,t)=>{this._checkReadonlyOptions(e),this._core.options[e]=t};for(const n in this._core.options){const e={get:t.bind(this,n),set:i.bind(this,n)};Object.defineProperty(this._publicOptions,n,e)}}_checkReadonlyOptions(e){if(h.includes(e))throw new Error(`Option "${e}" can only be set in the constructor`)}_checkProposedApi(){if(!this._core.optionsService.rawOptions.allowProposedApi)throw new Error("You must set the allowProposedApi option to true to use proposed API")}get onBell(){return this._core.onBell}get onBinary(){return this._core.onBinary}get onCursorMove(){return this._core.onCursorMove}get onData(){return this._core.onData}get onKey(){return this._core.onKey}get onLineFeed(){return this._core.onLineFeed}get onRender(){return this._core.onRender}get onResize(){return this._core.onResize}get onScroll(){return this._core.onScroll}get onSelectionChange(){return this._core.onSelectionChange}get onTitleChange(){return this._core.onTitleChange}get onWriteParsed(){return this._core.onWriteParsed}get element(){return this._core.element}get parser(){return this._parser||(this._parser=new l.ParserApi(this._core)),this._parser}get unicode(){return this._checkProposedApi(),new c.UnicodeApi(this._core)}get textarea(){return this._core.textarea}get rows(){return this._core.rows}get cols(){return this._core.cols}get buffer(){return this._buffer||(this._buffer=this.register(new a.BufferNamespaceApi(this._core))),this._buffer}get markers(){return this._checkProposedApi(),this._core.markers}get modes(){const e=this._core.coreService.decPrivateModes;let t="none";switch(this._core.coreMouseService.activeProtocol){case"X10":t="x10";break;case"VT200":t="vt200";break;case"DRAG":t="drag";break;case"ANY":t="any"}return{applicationCursorKeysMode:e.applicationCursorKeys,applicationKeypadMode:e.applicationKeypad,bracketedPasteMode:e.bracketedPasteMode,insertMode:this._core.coreService.modes.insertMode,mouseTrackingMode:t,originMode:e.origin,reverseWraparoundMode:e.reverseWraparound,sendFocusMode:e.sendFocus,wraparoundMode:e.wraparound}}get options(){return this._publicOptions}set options(e){for(const t in e)this._publicOptions[t]=e[t]}blur(){this._core.blur()}focus(){this._core.focus()}resize(e,t){this._verifyIntegers(e,t),this._core.resize(e,t)}open(e){this._core.open(e)}attachCustomKeyEventHandler(e){this._core.attachCustomKeyEventHandler(e)}registerLinkProvider(e){return this._core.registerLinkProvider(e)}registerCharacterJoiner(e){return this._checkProposedApi(),this._core.registerCharacterJoiner(e)}deregisterCharacterJoiner(e){this._checkProposedApi(),this._core.deregisterCharacterJoiner(e)}registerMarker(e=0){return this._verifyIntegers(e),this._core.registerMarker(e)}registerDecoration(e){var t,i,n;return this._checkProposedApi(),this._verifyPositiveIntegers(null!==(t=e.x)&&void 0!==t?t:0,null!==(i=e.width)&&void 0!==i?i:0,null!==(n=e.height)&&void 0!==n?n:0),this._core.registerDecoration(e)}hasSelection(){return this._core.hasSelection()}select(e,t,i){this._verifyIntegers(e,t,i),this._core.select(e,t,i)}getSelection(){return this._core.getSelection()}getSelectionPosition(){return this._core.getSelectionPosition()}clearSelection(){this._core.clearSelection()}selectAll(){this._core.selectAll()}selectLines(e,t){this._verifyIntegers(e,t),this._core.selectLines(e,t)}dispose(){super.dispose()}scrollLines(e){this._verifyIntegers(e),this._core.scrollLines(e)}scrollPages(e){this._verifyIntegers(e),this._core.scrollPages(e)}scrollToTop(){this._core.scrollToTop()}scrollToBottom(){this._core.scrollToBottom()}scrollToLine(e){this._verifyIntegers(e),this._core.scrollToLine(e)}clear(){this._core.clear()}write(e,t){this._core.write(e,t)}writeln(e,t){this._core.write(e),this._core.write("\r\n",t)}paste(e){this._core.paste(e)}refresh(e,t){this._verifyIntegers(e,t),this._core.refresh(e,t)}reset(){this._core.reset()}clearTextureAtlas(){this._core.clearTextureAtlas()}loadAddon(e){this._addonManager.loadAddon(this,e)}static get strings(){return t}_verifyIntegers(...e){for(const t of e)if(t===1/0||isNaN(t)||t%1!=0)throw new Error("This API only accepts integers")}_verifyPositiveIntegers(...e){for(const t of e)if(t&&(t===1/0||isNaN(t)||t%1!=0||t<0))throw new Error("This API only accepts positive integers")}}})(),n})()},25370:function(e,t,i){var n=i(56037);!function(){for(var e in n){if(null==n||!n.hasOwnProperty(e)||"default"===e||"__esModule"===e)return;t[e]=n[e]}}();var o=i(38274);(function(){for(var e in o){if(null==o||!o.hasOwnProperty(e)||"default"===e||"__esModule"===e)return;t[e]=o[e]}})(),i(79100),i(41338)},61386:function(e,t,i){var n=i(77606),o=i(62361),r=i(19358),s=i(72204),a=i(40628),l=function(e){r.call(this,e),o.call(this,e),s.call(this,e),this.id=e.id||n()};l.prototype={type:"element",name:"",__zr:null,ignore:!1,clipPath:null,isGroup:!1,drift:function(e,t){switch(this.draggable){case"horizontal":t=0;break;case"vertical":e=0}var i=this.transform;i||(i=this.transform=[1,0,0,1,0,0]),i[4]+=e,i[5]+=t,this.decomposeTransform(),this.dirty(!1)},beforeUpdate:function(){},afterUpdate:function(){},update:function(){this.updateTransform()},traverse:function(e,t){},attrKV:function(e,t){if("position"===e||"scale"===e||"origin"===e){if(t){var i=this[e];i||(i=this[e]=[]),i[0]=t[0],i[1]=t[1]}}else this[e]=t},hide:function(){this.ignore=!0,this.__zr&&this.__zr.refresh()},show:function(){this.ignore=!1,this.__zr&&this.__zr.refresh()},attr:function(e,t){if("string"==typeof e)this.attrKV(e,t);else if(a.isObject(e))for(var i in e)e.hasOwnProperty(i)&&this.attrKV(i,e[i]);return this.dirty(!1),this},setClipPath:function(e){var t=this.__zr;t&&e.addSelfToZr(t),this.clipPath&&this.clipPath!==e&&this.removeClipPath(),this.clipPath=e,e.__zr=t,e.__clipTarget=this,this.dirty(!1)},removeClipPath:function(){var e=this.clipPath;e&&(e.__zr&&e.removeSelfFromZr(e.__zr),e.__zr=null,e.__clipTarget=null,this.clipPath=null,this.dirty(!1))},addSelfToZr:function(e){this.__zr=e;var t=this.animators;if(t)for(var i=0;i<t.length;i++)e.animation.addAnimator(t[i]);this.clipPath&&this.clipPath.addSelfToZr(e)},removeSelfFromZr:function(e){this.__zr=null;var t=this.animators;if(t)for(var i=0;i<t.length;i++)e.animation.removeAnimator(t[i]);this.clipPath&&this.clipPath.removeSelfFromZr(e)}},a.mixin(l,s),a.mixin(l,r),a.mixin(l,o),e.exports=l},65391:function(e,t,i){var n=i(40628),o=i(98221),r=i(62565),s=i(62361),a=i(91170),l=i(75759),c="silent";function h(){a.stop(this.event)}function u(){}u.prototype.dispose=function(){};var d=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],p=function(e,t,i,n){s.call(this),this.storage=e,this.painter=t,this.painterRoot=n,i=i||new u,this.proxy=null,this._hovered={},r.call(this),this.setHandlerProxy(i)};function g(e,t,i){if(e[e.rectHover?"rectContain":"contain"](t,i)){for(var n,o=e;o;){if(o.clipPath&&!o.clipPath.contain(t,i))return!1;o.silent&&(n=!0),o=o.parent}return!n||c}return!1}function f(e,t,i){var n=e.painter;return t<0||t>n.getWidth()||i<0||i>n.getHeight()}p.prototype={constructor:p,setHandlerProxy:function(e){this.proxy&&this.proxy.dispose(),e&&(n.each(d,function(t){e.on&&e.on(t,this[t],this)},this),e.handler=this),this.proxy=e},mousemove:function(e){var t=e.zrX,i=e.zrY,n=f(this,t,i),o=this._hovered,r=o.target;r&&!r.__zr&&(r=(o=this.findHover(o.x,o.y)).target);var s=this._hovered=n?{x:t,y:i}:this.findHover(t,i),a=s.target,l=this.proxy;l.setCursor&&l.setCursor(a?a.cursor:"default"),r&&a!==r&&this.dispatchToElement(o,"mouseout",e),this.dispatchToElement(s,"mousemove",e),a&&a!==r&&this.dispatchToElement(s,"mouseover",e)},mouseout:function(e){var t=e.zrEventControl,i=e.zrIsToLocalDOM;"only_globalout"!==t&&this.dispatchToElement(this._hovered,"mouseout",e),"no_globalout"!==t&&!i&&this.trigger("globalout",{type:"globalout",event:e})},resize:function(e){this._hovered={}},dispatch:function(e,t){var i=this[e];i&&i.call(this,t)},dispose:function(){this.proxy.dispose(),this.storage=this.proxy=this.painter=null},setCursorStyle:function(e){var t=this.proxy;t.setCursor&&t.setCursor(e)},dispatchToElement:function(e,t,i){var n=(e=e||{}).target;if(!n||!n.silent){for(var o="on"+t,r=function(e,t,i){return{type:e,event:i,target:t.target,topTarget:t.topTarget,cancelBubble:!1,offsetX:i.zrX,offsetY:i.zrY,gestureEvent:i.gestureEvent,pinchX:i.pinchX,pinchY:i.pinchY,pinchScale:i.pinchScale,wheelDelta:i.zrDelta,zrByTouch:i.zrByTouch,which:i.which,stop:h}}(t,e,i);n&&(n[o]&&(r.cancelBubble=n[o].call(n,r)),n.trigger(t,r),n=n.parent,!r.cancelBubble););r.cancelBubble||(this.trigger(t,r),this.painter&&this.painter.eachOtherLayer(function(e){"function"==typeof e[o]&&e[o].call(e,r),e.trigger&&e.trigger(t,r)}))}},findHover:function(e,t,i){for(var n=this.storage.getDisplayList(),o={x:e,y:t},r=n.length-1;r>=0;r--){var s;if(n[r]!==i&&!n[r].ignore&&(s=g(n[r],e,t))&&(!o.topTarget&&(o.topTarget=n[r]),s!==c)){o.target=n[r];break}}return o},processGesture:function(e,t){this._gestureMgr||(this._gestureMgr=new l);var i=this._gestureMgr;"start"===t&&i.clear();var n=i.recognize(e,this.findHover(e.zrX,e.zrY,null).target,this.proxy.dom);if("end"===t&&i.clear(),n){var o=n.type;e.gestureEvent=o,this.dispatchToElement({target:n.target},o,n.event)}}},n.each(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(e){p.prototype[e]=function(t){var i,n,r=t.zrX,s=t.zrY,a=f(this,r,s);if(("mouseup"!==e||!a)&&(n=(i=this.findHover(r,s)).target),"mousedown"===e)this._downEl=n,this._downPoint=[t.zrX,t.zrY],this._upEl=n;else if("mouseup"===e)this._upEl=n;else if("click"===e){if(this._downEl!==this._upEl||!this._downPoint||o.dist(this._downPoint,[t.zrX,t.zrY])>4)return;this._downPoint=null}this.dispatchToElement(i,e,t)}}),n.mixin(p,s),n.mixin(p,r),e.exports=p},99514:function(e,t,i){var n=i(40628),o=i(26704).devicePixelRatio,r=i(63554),s=i(84182);function a(){return!1}function l(e,t,i){var o=n.createCanvas(),r=t.getWidth(),s=t.getHeight(),a=o.style;return a&&(a.position="absolute",a.left=0,a.top=0,a.width=r+"px",a.height=s+"px",o.setAttribute("data-zr-dom-id",e)),o.width=r*i,o.height=s*i,o}var c=function(e,t,i){var r;i=i||o,"string"==typeof e?r=l(e,t,i):n.isObject(e)&&(e=(r=e).id),this.id=e,this.dom=r;var s=r.style;s&&(r.onselectstart=a,s["-webkit-user-select"]="none",s["user-select"]="none",s["-webkit-touch-callout"]="none",s["-webkit-tap-highlight-color"]="rgba(0,0,0,0)",s.padding=0,s.margin=0,s["border-width"]=0),this.domBack=null,this.ctxBack=null,this.painter=t,this.config=null,this.clearColor=0,this.motionBlur=!1,this.lastFrameAlpha=.7,this.dpr=i};c.prototype={constructor:c,__dirty:!0,__used:!1,__drawIndex:0,__startIndex:0,__endIndex:0,incremental:!1,getElementCount:function(){return this.__endIndex-this.__startIndex},initContext:function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},createBackBuffer:function(){var e=this.dpr;this.domBack=l("back-"+this.id,this.painter,e),this.ctxBack=this.domBack.getContext("2d"),1!==e&&this.ctxBack.scale(e,e)},resize:function(e,t){var i=this.dpr,n=this.dom,o=n.style,r=this.domBack;o&&(o.width=e+"px",o.height=t+"px"),n.width=e*i,n.height=t*i,r&&(r.width=e*i,r.height=t*i,1!==i&&this.ctxBack.scale(i,i))},clear:function(e,t){var i,n=this.dom,o=this.ctx,a=n.width,l=n.height,c=(t=t||this.clearColor,this.motionBlur&&!e),h=this.lastFrameAlpha,u=this.dpr;if(c&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(n,0,0,a/u,l/u)),o.clearRect(0,0,a,l),t&&"transparent"!==t&&(t.colorStops?(i=t.__canvasGradient||r.getGradient(o,t,{x:0,y:0,width:a,height:l}),t.__canvasGradient=i):t.image&&(i=s.prototype.getCanvasPattern.call(t,o)),o.save(),o.fillStyle=i||t,o.fillRect(0,0,a,l),o.restore()),c){var d=this.domBack;o.save(),o.globalAlpha=h,o.drawImage(d,0,0,a,l),o.restore()}}},e.exports=c},38169:function(e,t,i){var n=i(26704).devicePixelRatio,o=i(40628),r=i(80848),s=i(87021),a=i(69995),l=i(99514),c=i(82036),h=i(26766),u=i(10169),d=1e5,p=314159,g=.01;function f(e){return parseInt(e,10)}var m=new s(0,0,0,0),_=new s(0,0,0,0),v=function(e,t,i){this.type="canvas";var r=!e.nodeName||"CANVAS"===e.nodeName.toUpperCase();this._opts=i=o.extend({},i||{}),this.dpr=i.devicePixelRatio||n,this._singleCanvas=r,this.root=e;var s=e.style;s&&(s["-webkit-tap-highlight-color"]="transparent",s["-webkit-user-select"]=s["user-select"]=s["-webkit-touch-callout"]="none",e.innerHTML=""),this.storage=t;var a=this._zlevelList=[],c=this._layers={};if(this._layerConfig={},this._needsManuallyCompositing=!1,r){var h=e.width,u=e.height;null!=i.width&&(h=i.width),null!=i.height&&(u=i.height),this.dpr=i.devicePixelRatio||1,e.width=h*this.dpr,e.height=u*this.dpr,this._width=h,this._height=u;var d=new l(e,this,this.dpr);d.__builtin__=!0,d.initContext(),c[p]=d,d.zlevel=p,a.push(p),this._domRoot=e}else{this._width=this._getSize(0),this._height=this._getSize(1);var g=this._domRoot=function(e,t){var i=document.createElement("div");return i.style.cssText=["position:relative","width:"+e+"px","height:"+t+"px","padding:0","margin:0","border-width:0"].join(";")+";",i}(this._width,this._height);e.appendChild(g)}this._hoverlayer=null,this._hoverElements=[]};v.prototype={constructor:v,getType:function(){return"canvas"},isSingleCanvas:function(){return this._singleCanvas},getViewportRoot:function(){return this._domRoot},getViewportRootOffset:function(){var e=this.getViewportRoot();if(e)return{offsetLeft:e.offsetLeft||0,offsetTop:e.offsetTop||0}},refresh:function(e){var t=this.storage.getDisplayList(!0),i=this._zlevelList;this._redrawId=Math.random(),this._paintList(t,e,this._redrawId);for(var n=0;n<i.length;n++){var o=this._layers[i[n]];!o.__builtin__&&o.refresh&&o.refresh(0===n?this._backgroundColor:null)}return this.refreshHover(),this},addHover:function(e,t){if(!e.__hoverMir){var i=new e.constructor({style:e.style,shape:e.shape,z:e.z,z2:e.z2,silent:e.silent});return i.__from=e,e.__hoverMir=i,t&&i.setStyle(t),this._hoverElements.push(i),i}},removeHover:function(e){var t=this._hoverElements,i=o.indexOf(t,e.__hoverMir);i>=0&&t.splice(i,1),e.__hoverMir=null},clearHover:function(e){for(var t=this._hoverElements,i=0;i<t.length;i++){var n=t[i].__from;n&&(n.__hoverMir=null)}t.length=0},refreshHover:function(){var e=this._hoverElements,t=e.length,i=this._hoverlayer;if(i&&i.clear(),t){a(e,this.storage.displayableSortFunc),i||(i=this._hoverlayer=this.getLayer(d));var n={};i.ctx.save();for(var o=0;o<t;){var r=e[o],s=r.__from;s&&s.__zr?(o++,s.invisible||(r.transform=s.transform,r.invTransform=s.invTransform,r.__clipPaths=s.__clipPaths,this._doPaintEl(r,i,!0,n))):(e.splice(o,1),s.__hoverMir=null,t--)}i.ctx.restore()}},getHoverLayer:function(){return this.getLayer(d)},_paintList:function(e,t,i){if(this._redrawId===i){t=t||!1,this._updateLayerStatus(e);var n=this._doPaintList(e,t);if(this._needsManuallyCompositing&&this._compositeManually(),!n){var o=this;c(function(){o._paintList(e,t,i)})}}},_compositeManually:function(){var e=this.getLayer(p).ctx,t=this._domRoot.width,i=this._domRoot.height;e.clearRect(0,0,t,i),this.eachBuiltinLayer(function(n){n.virtual&&e.drawImage(n.dom,0,0,t,i)})},_doPaintList:function(e,t){for(var i=[],n=0;n<this._zlevelList.length;n++)(a=this._layers[this._zlevelList[n]]).__builtin__&&a!==this._hoverlayer&&(a.__dirty||t)&&i.push(a);for(var r=!0,s=0;s<i.length;s++){var a,l=(a=i[s]).ctx,c={};l.save();var h=t?a.__startIndex:a.__drawIndex,d=!t&&a.incremental&&Date.now,p=d&&Date.now(),g=a.zlevel===this._zlevelList[0]?this._backgroundColor:null;if(a.__startIndex===a.__endIndex)a.clear(!1,g);else if(h===a.__startIndex){var f=e[h];(!f.incremental||!f.notClear||t)&&a.clear(!1,g)}-1===h&&(console.error("For some unknown reason. drawIndex is -1"),h=a.__startIndex);for(var m=h;m<a.__endIndex;m++){var _=e[m];if(this._doPaintEl(_,a,t,c),_.__dirty=_.__dirtyText=!1,d&&Date.now()-p>15)break}a.__drawIndex=m,a.__drawIndex<a.__endIndex&&(r=!1),c.prevElClipPaths&&l.restore(),l.restore()}return u.wxa&&o.each(this._layers,function(e){e&&e.ctx&&e.ctx.draw&&e.ctx.draw()}),r},_doPaintEl:function(e,t,i,n){var o=t.ctx,r=e.transform;if((t.__dirty||i)&&!e.invisible&&0!==e.style.opacity&&(!r||r[0]||r[3])&&(!e.culling||!function(e,t,i){return m.copy(e.getBoundingRect()),e.transform&&m.applyTransform(e.transform),_.width=t,_.height=i,!m.intersect(_)}(e,this._width,this._height))){var s=e.__clipPaths,a=n.prevElClipPaths;(!a||function(e,t){if(e===t)return!1;if(!e||!t||e.length!==t.length)return!0;for(var i=0;i<e.length;i++)if(e[i]!==t[i])return!0;return!1}(s,a))&&(a&&(o.restore(),n.prevElClipPaths=null,n.prevEl=null),s&&(o.save(),function(e,t){for(var i=0;i<e.length;i++){var n=e[i];n.setTransform(t),t.beginPath(),n.buildPath(t,n.shape),t.clip(),n.restoreTransform(t)}}(s,o),n.prevElClipPaths=s)),e.beforeBrush&&e.beforeBrush(o),e.brush(o,n.prevEl||null),n.prevEl=e,e.afterBrush&&e.afterBrush(o)}},getLayer:function(e,t){this._singleCanvas&&!this._needsManuallyCompositing&&(e=p);var i=this._layers[e];return i||((i=new l("zr_"+e,this,this.dpr)).zlevel=e,i.__builtin__=!0,this._layerConfig[e]?o.merge(i,this._layerConfig[e],!0):this._layerConfig[e-g]&&o.merge(i,this._layerConfig[e-g],!0),t&&(i.virtual=t),this.insertLayer(e,i),i.initContext()),i},insertLayer:function(e,t){var i=this._layers,n=this._zlevelList,o=n.length,s=null,a=-1,l=this._domRoot;if(i[e])r("ZLevel "+e+" has been used already");else if(function(e){return!(!e||!e.__builtin__&&("function"!=typeof e.resize||"function"!=typeof e.refresh))}(t)){if(o>0&&e>n[0]){for(a=0;a<o-1&&!(n[a]<e&&n[a+1]>e);a++);s=i[n[a]]}if(n.splice(a+1,0,e),i[e]=t,!t.virtual)if(s){var c=s.dom;c.nextSibling?l.insertBefore(t.dom,c.nextSibling):l.appendChild(t.dom)}else l.firstChild?l.insertBefore(t.dom,l.firstChild):l.appendChild(t.dom)}else r("Layer of zlevel "+e+" is not valid")},eachLayer:function(e,t){var i,n,o=this._zlevelList;for(n=0;n<o.length;n++)e.call(t,this._layers[i=o[n]],i)},eachBuiltinLayer:function(e,t){var i,n,o,r=this._zlevelList;for(o=0;o<r.length;o++)(i=this._layers[n=r[o]]).__builtin__&&e.call(t,i,n)},eachOtherLayer:function(e,t){var i,n,o,r=this._zlevelList;for(o=0;o<r.length;o++)(i=this._layers[n=r[o]]).__builtin__||e.call(t,i,n)},getLayers:function(){return this._layers},_updateLayerStatus:function(e){function t(e){o&&(o.__endIndex!==e&&(o.__dirty=!0),o.__endIndex=e)}if(this.eachBuiltinLayer(function(e,t){e.__dirty=e.__used=!1}),this._singleCanvas)for(var i=1;i<e.length;i++)if((a=e[i]).zlevel!==e[i-1].zlevel||a.incremental){this._needsManuallyCompositing=!0;break}var n,o=null,s=0;for(i=0;i<e.length;i++){var a,l,c=(a=e[i]).zlevel;n!==c&&(n=c,s=0),a.incremental?((l=this.getLayer(c+.001,this._needsManuallyCompositing)).incremental=!0,s=1):l=this.getLayer(c+(s>0?g:0),this._needsManuallyCompositing),l.__builtin__||r("ZLevel "+c+" has been used by unkown layer "+l.id),l!==o&&(l.__used=!0,l.__startIndex!==i&&(l.__dirty=!0),l.__startIndex=i,l.__drawIndex=l.incremental?-1:i,t(i),o=l),a.__dirty&&(l.__dirty=!0,l.incremental&&l.__drawIndex<0&&(l.__drawIndex=i))}t(i),this.eachBuiltinLayer(function(e,t){!e.__used&&e.getElementCount()>0&&(e.__dirty=!0,e.__startIndex=e.__endIndex=e.__drawIndex=0),e.__dirty&&e.__drawIndex<0&&(e.__drawIndex=e.__startIndex)})},clear:function(){return this.eachBuiltinLayer(this._clearLayer),this},_clearLayer:function(e){e.clear()},setBackgroundColor:function(e){this._backgroundColor=e},configLayer:function(e,t){if(t){var i=this._layerConfig;i[e]?o.merge(i[e],t,!0):i[e]=t;for(var n=0;n<this._zlevelList.length;n++){var r=this._zlevelList[n];r!==e&&r!==e+g||o.merge(this._layers[r],i[e],!0)}}},delLayer:function(e){var t=this._layers,i=this._zlevelList,n=t[e];!n||(n.dom.parentNode.removeChild(n.dom),delete t[e],i.splice(o.indexOf(i,e),1))},resize:function(e,t){if(this._domRoot.style){var i=this._domRoot;i.style.display="none";var n=this._opts;if(null!=e&&(n.width=e),null!=t&&(n.height=t),e=this._getSize(0),t=this._getSize(1),i.style.display="",this._width!==e||t!==this._height){for(var r in i.style.width=e+"px",i.style.height=t+"px",this._layers)this._layers.hasOwnProperty(r)&&this._layers[r].resize(e,t);o.each(this._progressiveLayers,function(i){i.resize(e,t)}),this.refresh(!0)}this._width=e,this._height=t}else{if(null==e||null==t)return;this._width=e,this._height=t,this.getLayer(p).resize(e,t)}return this},clearLayer:function(e){var t=this._layers[e];t&&t.clear()},dispose:function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},getRenderedCanvas:function(e){if(this._singleCanvas&&!this._compositeManually)return this._layers[p].dom;var t=new l("image",this,(e=e||{}).pixelRatio||this.dpr);if(t.initContext(),t.clear(!1,e.backgroundColor||this._backgroundColor),e.pixelRatio<=this.dpr){this.refresh();var i=t.dom.width,n=t.dom.height,o=t.ctx;this.eachLayer(function(e){e.__builtin__?o.drawImage(e.dom,0,0,i,n):e.renderToCanvas&&(t.ctx.save(),e.renderToCanvas(t.ctx),t.ctx.restore())})}else for(var r={},s=this.storage.getDisplayList(!0),a=0;a<s.length;a++)this._doPaintEl(s[a],t,!0,r);return t.dom},getWidth:function(){return this._width},getHeight:function(){return this._height},_getSize:function(e){var t=this._opts,i=["width","height"][e],n=["clientWidth","clientHeight"][e],o=["paddingLeft","paddingTop"][e],r=["paddingRight","paddingBottom"][e];if(null!=t[i]&&"auto"!==t[i])return parseFloat(t[i]);var s=this.root,a=document.defaultView.getComputedStyle(s);return(s[n]||f(a[i])||f(s.style[i]))-(f(a[o])||0)-(f(a[r])||0)|0},pathToImage:function(e,t){t=t||this.dpr;var i=document.createElement("canvas"),n=i.getContext("2d"),o=e.getBoundingRect(),r=e.style,s=r.shadowBlur*t,a=r.shadowOffsetX*t,l=r.shadowOffsetY*t,c=r.hasStroke()?r.lineWidth:0,u=Math.max(c/2,-a+s),d=Math.max(c/2,a+s),p=Math.max(c/2,-l+s),g=Math.max(c/2,l+s),f=o.width+u+d,m=o.height+p+g;i.width=f*t,i.height=m*t,n.scale(t,t),n.clearRect(0,0,f,m),n.dpr=t;var _={position:e.position,rotation:e.rotation,scale:e.scale};e.position=[u-o.x,p-o.y],e.rotation=0,e.scale=[1,1],e.updateTransform(),e&&e.brush(n);var v=new h({style:{x:0,y:0,image:i}});return null!=_.position&&(v.position=e.position=_.position),null!=_.rotation&&(v.rotation=e.rotation=_.rotation),null!=_.scale&&(v.scale=e.scale=_.scale),v}},e.exports=v},51009:function(e,t,i){var n=i(40628),o=i(10169),r=i(1805),s=i(69995);function a(e,t){return e.zlevel===t.zlevel?e.z===t.z?e.z2-t.z2:e.z-t.z:e.zlevel-t.zlevel}var l=function(){this._roots=[],this._displayList=[],this._displayListLen=0};l.prototype={constructor:l,traverse:function(e,t){for(var i=0;i<this._roots.length;i++)this._roots[i].traverse(e,t)},getDisplayList:function(e,t){return t=t||!1,e&&this.updateDisplayList(t),this._displayList},updateDisplayList:function(e){this._displayListLen=0;for(var t=this._roots,i=this._displayList,n=0,r=t.length;n<r;n++)this._updateAndAddDisplayable(t[n],null,e);i.length=this._displayListLen,o.canvasSupported&&s(i,a)},_updateAndAddDisplayable:function(e,t,i){if(!e.ignore||i){e.beforeUpdate(),e.__dirty&&e.update(),e.afterUpdate();var n=e.clipPath;if(n){t=t?t.slice():[];for(var o=n,r=e;o;)o.parent=r,o.updateTransform(),t.push(o),r=o,o=o.clipPath}if(e.isGroup){for(var s=e._children,a=0;a<s.length;a++){var l=s[a];e.__dirty&&(l.__dirty=!0),this._updateAndAddDisplayable(l,t,i)}e.__dirty=!1}else e.__clipPaths=t,this._displayList[this._displayListLen++]=e}},addRoot:function(e){e.__storage!==this&&(e instanceof r&&e.addChildrenToStorage(this),this.addToStorage(e),this._roots.push(e))},delRoot:function(e){if(null==e){for(var t=0;t<this._roots.length;t++){var i=this._roots[t];i instanceof r&&i.delChildrenFromStorage(this)}return this._roots=[],this._displayList=[],void(this._displayListLen=0)}if(e instanceof Array){t=0;for(var o=e.length;t<o;t++)this.delRoot(e[t])}else{var s=n.indexOf(this._roots,e);s>=0&&(this.delFromStorage(e),this._roots.splice(s,1),e instanceof r&&e.delChildrenFromStorage(this))}},addToStorage:function(e){return e&&(e.__storage=this,e.dirty(!1)),this},delFromStorage:function(e){return e&&(e.__storage=null),this},dispose:function(){this._renderList=this._roots=null},displayableSortFunc:a},e.exports=l},65322:function(e,t,i){var n=i(40628),o=i(91170).Dispatcher,r=i(82036),s=i(27310),a=function(e){this.stage=(e=e||{}).stage||{},this.onframe=e.onframe||function(){},this._clips=[],this._running=!1,this._paused=!1,o.call(this)};a.prototype={constructor:a,addClip:function(e){this._clips.push(e)},addAnimator:function(e){e.animation=this;for(var t=e.getClips(),i=0;i<t.length;i++)this.addClip(t[i])},removeClip:function(e){var t=n.indexOf(this._clips,e);t>=0&&this._clips.splice(t,1)},removeAnimator:function(e){for(var t=e.getClips(),i=0;i<t.length;i++)this.removeClip(t[i]);e.animation=null},_update:function(){for(var e=(new Date).getTime()-this._pausedTime,t=e-this._time,i=this._clips,n=i.length,o=[],r=[],s=0;s<n;s++){var a=i[s],l=a.step(e,t);l&&(o.push(l),r.push(a))}for(s=0;s<n;)i[s]._needsRemove?(i[s]=i[n-1],i.pop(),n--):s++;for(n=o.length,s=0;s<n;s++)r[s].fire(o[s]);this._time=e,this.onframe(t),this.trigger("frame",t),this.stage.update&&this.stage.update()},_startLoop:function(){var e=this;this._running=!0,r(function t(){e._running&&(r(t),!e._paused&&e._update())})},start:function(){this._time=(new Date).getTime(),this._pausedTime=0,this._startLoop()},stop:function(){this._running=!1},pause:function(){this._paused||(this._pauseStart=(new Date).getTime(),this._paused=!0)},resume:function(){this._paused&&(this._pausedTime+=(new Date).getTime()-this._pauseStart,this._paused=!1)},clear:function(){this._clips=[]},isFinished:function(){return!this._clips.length},animate:function(e,t){var i=new s(e,(t=t||{}).loop,t.getter,t.setter);return this.addAnimator(i),i}},n.mixin(a,o),e.exports=a},27310:function(e,t,i){var n=i(31102),o=i(10312),r=i(40628).isArrayLike,s=Array.prototype.slice;function a(e,t){return e[t]}function l(e,t,i){e[t]=i}function c(e,t,i){return(t-e)*i+e}function h(e,t,i){return i>.5?t:e}function u(e,t,i,n,o){var r=e.length;if(1===o)for(var s=0;s<r;s++)n[s]=c(e[s],t[s],i);else{var a=r&&e[0].length;for(s=0;s<r;s++)for(var l=0;l<a;l++)n[s][l]=c(e[s][l],t[s][l],i)}}function d(e,t,i){var n=e.length,o=t.length;if(n!==o)if(n>o)e.length=o;else for(var r=n;r<o;r++)e.push(1===i?t[r]:s.call(t[r]));var a=e[0]&&e[0].length;for(r=0;r<e.length;r++)if(1===i)isNaN(e[r])&&(e[r]=t[r]);else for(var l=0;l<a;l++)isNaN(e[r][l])&&(e[r][l]=t[r][l])}function p(e,t,i){if(e===t)return!0;var n=e.length;if(n!==t.length)return!1;if(1===i){for(var o=0;o<n;o++)if(e[o]!==t[o])return!1}else{var r=e[0].length;for(o=0;o<n;o++)for(var s=0;s<r;s++)if(e[o][s]!==t[o][s])return!1}return!0}function g(e,t,i,n,o,r,s,a,l){var c=e.length;if(1===l)for(var h=0;h<c;h++)a[h]=f(e[h],t[h],i[h],n[h],o,r,s);else{var u=e[0].length;for(h=0;h<c;h++)for(var d=0;d<u;d++)a[h][d]=f(e[h][d],t[h][d],i[h][d],n[h][d],o,r,s)}}function f(e,t,i,n,o,r,s){var a=.5*(i-e),l=.5*(n-t);return(2*(t-i)+a+l)*s+(-3*(t-i)-2*a-l)*r+a*o+t}function m(e){if(r(e)){var t=e.length;if(r(e[0])){for(var i=[],n=0;n<t;n++)i.push(s.call(e[n]));return i}return s.call(e)}return e}function _(e){return e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.floor(e[2]),"rgba("+e.join(",")+")"}function v(e,t,i,s,a,l){var m=e._getter,v=e._setter,y="spline"===t,b=s.length;if(b){var w,A=r(s[0].value),x=!1,T=!1,C=A?function(e){var t=e[e.length-1].value;return r(t&&t[0])?2:1}(s):0;s.sort(function(e,t){return e.time-t.time}),w=s[b-1].time;for(var Z=[],k=[],S=s[0].value,E=!0,M=0;M<b;M++){Z.push(s[M].time/w);var O=s[M].value;if(A&&p(O,S,C)||!A&&O===S||(E=!1),S=O,"string"==typeof O){var I=o.parse(O);I?(O=I,x=!0):T=!0}k.push(O)}if(l||!E){var P=k[b-1];for(M=0;M<b-1;M++)A?d(k[M],P,C):isNaN(k[M])&&!isNaN(P)&&!T&&!x&&(k[M]=P);A&&d(m(e._target,a),P,C);var R,q,L,U,B,D=0,N=0;if(x)var F=[0,0,0,0];var H=new n({target:e._target,life:w,loop:e._loop,delay:e._delay,onframe:function(e,t){var i;if(t<0)i=0;else if(t<N){for(i=Math.min(D+1,b-1);i>=0&&!(Z[i]<=t);i--);i=Math.min(i,b-2)}else{for(i=D;i<b&&!(Z[i]>t);i++);i=Math.min(i-1,b-2)}D=i,N=t;var n=Z[i+1]-Z[i];if(0!==n)if(R=(t-Z[i])/n,y)if(L=k[i],q=k[0===i?i:i-1],U=k[i>b-2?b-1:i+1],B=k[i>b-3?b-1:i+2],A)g(q,L,U,B,R,R*R,R*R*R,m(e,a),C);else{if(x)o=g(q,L,U,B,R,R*R,R*R*R,F,1),o=_(F);else{if(T)return h(L,U,R);o=f(q,L,U,B,R,R*R,R*R*R)}v(e,a,o)}else if(A)u(k[i],k[i+1],R,m(e,a),C);else{var o;if(x)u(k[i],k[i+1],R,F,1),o=_(F);else{if(T)return h(k[i],k[i+1],R);o=c(k[i],k[i+1],R)}v(e,a,o)}},ondestroy:i});return t&&"spline"!==t&&(H.easing=t),H}}}var y=function(e,t,i,n){this._tracks={},this._target=e,this._loop=t||!1,this._getter=i||a,this._setter=n||l,this._clipCount=0,this._delay=0,this._doneList=[],this._onframeList=[],this._clipList=[]};y.prototype={when:function(e,t){var i=this._tracks;for(var n in t)if(t.hasOwnProperty(n)){if(!i[n]){i[n]=[];var o=this._getter(this._target,n);if(null==o)continue;0!==e&&i[n].push({time:0,value:m(o)})}i[n].push({time:e,value:t[n]})}return this},during:function(e){return this._onframeList.push(e),this},pause:function(){for(var e=0;e<this._clipList.length;e++)this._clipList[e].pause();this._paused=!0},resume:function(){for(var e=0;e<this._clipList.length;e++)this._clipList[e].resume();this._paused=!1},isPaused:function(){return!!this._paused},_doneCallback:function(){this._tracks={},this._clipList.length=0;for(var e=this._doneList,t=e.length,i=0;i<t;i++)e[i].call(this)},start:function(e,t){var i,n=this,o=0,r=function(){--o||n._doneCallback()};for(var s in this._tracks)if(this._tracks.hasOwnProperty(s)){var a=v(this,e,r,this._tracks[s],s,t);a&&(this._clipList.push(a),o++,this.animation&&this.animation.addClip(a),i=a)}if(i){var l=i.onframe;i.onframe=function(e,t){l(e,t);for(var i=0;i<n._onframeList.length;i++)n._onframeList[i](e,t)}}return o||this._doneCallback(),this},stop:function(e){for(var t=this._clipList,i=this.animation,n=0;n<t.length;n++){var o=t[n];e&&o.onframe(this._target,1),i&&i.removeClip(o)}t.length=0},delay:function(e){return this._delay=e,this},done:function(e){return e&&this._doneList.push(e),this},getClips:function(){return this._clipList}},e.exports=y},31102:function(e,t,i){var n=i(27290);function o(e){this._target=e.target,this._life=e.life||1e3,this._delay=e.delay||0,this._initialized=!1,this.loop=null!=e.loop&&e.loop,this.gap=e.gap||0,this.easing=e.easing||"Linear",this.onframe=e.onframe,this.ondestroy=e.ondestroy,this.onrestart=e.onrestart,this._pausedTime=0,this._paused=!1}o.prototype={constructor:o,step:function(e,t){if(this._initialized||(this._startTime=e+this._delay,this._initialized=!0),this._paused)this._pausedTime+=t;else{var i=(e-this._startTime-this._pausedTime)/this._life;if(!(i<0)){i=Math.min(i,1);var o=this.easing,r="string"==typeof o?n[o]:o,s="function"==typeof r?r(i):i;return this.fire("frame",s),1===i?this.loop?(this.restart(e),"restart"):(this._needsRemove=!0,"destroy"):null}}},restart:function(e){this._startTime=e-(e-this._startTime-this._pausedTime)%this._life+this.gap,this._pausedTime=0,this._needsRemove=!1},fire:function(e,t){this[e="on"+e]&&this[e](this._target,t)},pause:function(){this._paused=!0},resume:function(){this._paused=!1}},e.exports=o},27290:function(e){var t={linear:function(e){return e},quadraticIn:function(e){return e*e},quadraticOut:function(e){return e*(2-e)},quadraticInOut:function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)},cubicIn:function(e){return e*e*e},cubicOut:function(e){return--e*e*e+1},cubicInOut:function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)},quarticIn:function(e){return e*e*e*e},quarticOut:function(e){return 1- --e*e*e*e},quarticInOut:function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)},quinticIn:function(e){return e*e*e*e*e},quinticOut:function(e){return--e*e*e*e*e+1},quinticInOut:function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)},sinusoidalIn:function(e){return 1-Math.cos(e*Math.PI/2)},sinusoidalOut:function(e){return Math.sin(e*Math.PI/2)},sinusoidalInOut:function(e){return.5*(1-Math.cos(Math.PI*e))},exponentialIn:function(e){return 0===e?0:Math.pow(1024,e-1)},exponentialOut:function(e){return 1===e?1:1-Math.pow(2,-10*e)},exponentialInOut:function(e){return 0===e?0:1===e?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(2-Math.pow(2,-10*(e-1)))},circularIn:function(e){return 1-Math.sqrt(1-e*e)},circularOut:function(e){return Math.sqrt(1- --e*e)},circularInOut:function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},elasticIn:function(e){var t,i=.1;return 0===e?0:1===e?1:(!i||i<1?(i=1,t=.1):t=.4*Math.asin(1/i)/(2*Math.PI),-i*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/.4))},elasticOut:function(e){var t,i=.1;return 0===e?0:1===e?1:(!i||i<1?(i=1,t=.1):t=.4*Math.asin(1/i)/(2*Math.PI),i*Math.pow(2,-10*e)*Math.sin((e-t)*(2*Math.PI)/.4)+1)},elasticInOut:function(e){var t,i=.1;return 0===e?0:1===e?1:(!i||i<1?(i=1,t=.1):t=.4*Math.asin(1/i)/(2*Math.PI),(e*=2)<1?i*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/.4)*-.5:i*Math.pow(2,-10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/.4)*.5+1)},backIn:function(e){var t=1.70158;return e*e*((t+1)*e-t)},backOut:function(e){var t=1.70158;return--e*e*((t+1)*e+t)+1},backInOut:function(e){var t=2.5949095;return(e*=2)<1?e*e*((t+1)*e-t)*.5:.5*((e-=2)*e*((t+1)*e+t)+2)},bounceIn:function(e){return 1-t.bounceOut(1-e)},bounceOut:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},bounceInOut:function(e){return e<.5?.5*t.bounceIn(2*e):.5*t.bounceOut(2*e-1)+.5}};e.exports=t},82036:function(e){var t="undefined"!=typeof window&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(e){setTimeout(e,16)};e.exports=t},26704:function(e,t){var i=1;"undefined"!=typeof window&&(i=Math.max(window.devicePixelRatio||1,1));var n=i;t.debugMode=0,t.devicePixelRatio=n},40030:function(e,t,i){var n=i(73416).normalizeRadian,o=2*Math.PI;t.containStroke=function(e,t,i,r,s,a,l,c,h){if(0===l)return!1;var u=l;c-=e,h-=t;var d=Math.sqrt(c*c+h*h);if(d-u>i||d+u<i)return!1;if(Math.abs(r-s)%o<1e-4)return!0;if(a){var p=r;r=n(s),s=n(p)}else r=n(r),s=n(s);r>s&&(s+=o);var g=Math.atan2(h,c);return g<0&&(g+=o),g>=r&&g<=s||g+o>=r&&g+o<=s}},40467:function(e,t,i){var n=i(49969);t.containStroke=function(e,t,i,o,r,s,a,l,c,h,u){if(0===c)return!1;var d=c;return!(u>t+d&&u>o+d&&u>s+d&&u>l+d||u<t-d&&u<o-d&&u<s-d&&u<l-d||h>e+d&&h>i+d&&h>r+d&&h>a+d||h<e-d&&h<i-d&&h<r-d&&h<a-d)&&n.cubicProjectPoint(e,t,i,o,r,s,a,l,h,u,null)<=d/2}},34443:function(e,t){t.containStroke=function(e,t,i,n,o,r,s){if(0===o)return!1;var a,l=o;if(s>t+l&&s>n+l||s<t-l&&s<n-l||r>e+l&&r>i+l||r<e-l&&r<i-l)return!1;if(e===i)return Math.abs(r-e)<=l/2;var c=(a=(t-n)/(e-i))*r-s+(e*n-i*t)/(e-i);return c*c/(a*a+1)<=l/2*l/2}},77034:function(e,t,i){var n=i(17349),o=i(34443),r=i(40467),s=i(97014),a=i(40030),l=i(73416).normalizeRadian,c=i(49969),h=i(57703),u=n.CMD,d=2*Math.PI,p=[-1,-1,-1],g=[-1,-1];function f(){var e=g[0];g[0]=g[1],g[1]=e}function m(e,t,i,n,o,r,s,a,l,h){if(h>t&&h>n&&h>r&&h>a||h<t&&h<n&&h<r&&h<a)return 0;var u=c.cubicRootAt(t,n,r,a,h,p);if(0===u)return 0;for(var d,m,_=0,v=-1,y=0;y<u;y++){var b=p[y],w=0===b||1===b?.5:1;c.cubicAt(e,i,o,s,b)<l||(v<0&&(v=c.cubicExtrema(t,n,r,a,g),g[1]<g[0]&&v>1&&f(),d=c.cubicAt(t,n,r,a,g[0]),v>1&&(m=c.cubicAt(t,n,r,a,g[1]))),_+=2===v?b<g[0]?d<t?w:-w:b<g[1]?m<d?w:-w:a<m?w:-w:b<g[0]?d<t?w:-w:a<d?w:-w)}return _}function _(e,t,i,n,o,r,s,a){if(a>t&&a>n&&a>r||a<t&&a<n&&a<r)return 0;var l=c.quadraticRootAt(t,n,r,a,p);if(0===l)return 0;var h=c.quadraticExtremum(t,n,r);if(h>=0&&h<=1){for(var u=0,d=c.quadraticAt(t,n,r,h),g=0;g<l;g++){var f=0===p[g]||1===p[g]?.5:1;c.quadraticAt(e,i,o,p[g])<s||(u+=p[g]<h?d<t?f:-f:r<d?f:-f)}return u}return f=0===p[0]||1===p[0]?.5:1,c.quadraticAt(e,i,o,p[0])<s?0:r<t?f:-f}function v(e,t,i,n,o,r,s,a){if((a-=t)>i||a<-i)return 0;var c=Math.sqrt(i*i-a*a);p[0]=-c,p[1]=c;var h=Math.abs(n-o);if(h<1e-4)return 0;if(h%d<1e-4){n=0,o=d;var u=r?1:-1;return s>=p[0]+e&&s<=p[1]+e?u:0}r?(c=n,n=l(o),o=l(c)):(n=l(n),o=l(o)),n>o&&(o+=d);for(var g=0,f=0;f<2;f++){var m=p[f];if(m+e>s){var _=Math.atan2(a,m);u=r?1:-1,_<0&&(_=d+_),(_>=n&&_<=o||_+d>=n&&_+d<=o)&&(_>Math.PI/2&&_<1.5*Math.PI&&(u=-u),g+=u)}}return g}function y(e,t,i,n,l){for(var c=0,d=0,p=0,g=0,f=0,y=0;y<e.length;){var b=e[y++];switch(b===u.M&&y>1&&(i||(c+=h(d,p,g,f,n,l))),1===y&&(g=d=e[y],f=p=e[y+1]),b){case u.M:d=g=e[y++],p=f=e[y++];break;case u.L:if(i){if(o.containStroke(d,p,e[y],e[y+1],t,n,l))return!0}else c+=h(d,p,e[y],e[y+1],n,l)||0;d=e[y++],p=e[y++];break;case u.C:if(i){if(r.containStroke(d,p,e[y++],e[y++],e[y++],e[y++],e[y],e[y+1],t,n,l))return!0}else c+=m(d,p,e[y++],e[y++],e[y++],e[y++],e[y],e[y+1],n,l)||0;d=e[y++],p=e[y++];break;case u.Q:if(i){if(s.containStroke(d,p,e[y++],e[y++],e[y],e[y+1],t,n,l))return!0}else c+=_(d,p,e[y++],e[y++],e[y],e[y+1],n,l)||0;d=e[y++],p=e[y++];break;case u.A:var w=e[y++],A=e[y++],x=e[y++],T=e[y++],C=e[y++],Z=e[y++];y+=1;var k=1-e[y++],S=Math.cos(C)*x+w,E=Math.sin(C)*T+A;y>1?c+=h(d,p,S,E,n,l):(g=S,f=E);var M=(n-w)*T/x+w;if(i){if(a.containStroke(w,A,T,C,C+Z,k,t,M,l))return!0}else c+=v(w,A,T,C,C+Z,k,M,l);d=Math.cos(C+Z)*x+w,p=Math.sin(C+Z)*T+A;break;case u.R:if(g=d=e[y++],f=p=e[y++],S=g+e[y++],E=f+e[y++],i){if(o.containStroke(g,f,S,f,t,n,l)||o.containStroke(S,f,S,E,t,n,l)||o.containStroke(S,E,g,E,t,n,l)||o.containStroke(g,E,g,f,t,n,l))return!0}else c+=h(S,f,S,E,n,l),c+=h(g,E,g,f,n,l);break;case u.Z:if(i){if(o.containStroke(d,p,g,f,t,n,l))return!0}else c+=h(d,p,g,f,n,l);d=g,p=f}}return!i&&!function(e,t){return Math.abs(e-t)<1e-4}(p,f)&&(c+=h(d,p,g,f,n,l)||0),0!==c}t.contain=function(e,t,i){return y(e,0,!1,t,i)},t.containStroke=function(e,t,i,n){return y(e,t,!0,i,n)}},91995:function(e,t,i){var n=i(57703);function o(e,t){return Math.abs(e-t)<1e-8}t.contain=function(e,t,i){var r=0,s=e[0];if(!s)return!1;for(var a=1;a<e.length;a++){var l=e[a];r+=n(s[0],s[1],l[0],l[1],t,i),s=l}var c=e[0];return(!o(s[0],c[0])||!o(s[1],c[1]))&&(r+=n(s[0],s[1],c[0],c[1],t,i)),0!==r}},97014:function(e,t,i){var n=i(49969).quadraticProjectPoint;t.containStroke=function(e,t,i,o,r,s,a,l,c){if(0===a)return!1;var h=a;return!(c>t+h&&c>o+h&&c>s+h||c<t-h&&c<o-h&&c<s-h||l>e+h&&l>i+h&&l>r+h||l<e-h&&l<i-h&&l<r-h)&&n(e,t,i,o,r,s,l,c,null)<=h/2}},71790:function(e,t,i){var n=i(87021),o=i(36790),r=i(40628),s=r.getContext,a=r.extend,l=r.retrieve2,c=r.retrieve3,h=r.trim,u={},d=0,p=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g,g="12px sans-serif",f={};function m(e,t){var i=e+":"+(t=t||g);if(u[i])return u[i];for(var n=(e+"").split("\n"),o=0,r=0,s=n.length;r<s;r++)o=Math.max(C(n[r],t).width,o);return d>5e3&&(d=0,u={}),d++,u[i]=o,o}function _(e,t,i){return"right"===i?e-=t:"center"===i&&(e-=t/2),e}function v(e,t,i){return"middle"===i?e-=t/2:"bottom"===i&&(e-=t),e}function y(e,t,i){var n=t.textDistance,o=i.x,r=i.y;n=n||0;var s=i.height,a=i.width,l=s/2,c="left",h="top";switch(t.textPosition){case"left":o-=n,r+=l,c="right",h="middle";break;case"right":o+=n+a,r+=l,h="middle";break;case"top":o+=a/2,r-=n,c="center",h="bottom";break;case"bottom":o+=a/2,r+=s+n,c="center";break;case"inside":o+=a/2,r+=l,c="center",h="middle";break;case"insideLeft":o+=n,r+=l,h="middle";break;case"insideRight":o+=a-n,r+=l,c="right",h="middle";break;case"insideTop":o+=a/2,r+=n,c="center";break;case"insideBottom":o+=a/2,r+=s-n,c="center",h="bottom";break;case"insideTopLeft":o+=n,r+=n;break;case"insideTopRight":o+=a-n,r+=n,c="right";break;case"insideBottomLeft":o+=n,r+=s-n,h="bottom";break;case"insideBottomRight":o+=a-n,r+=s-n,c="right",h="bottom"}return(e=e||{}).x=o,e.y=r,e.textAlign=c,e.textVerticalAlign=h,e}function b(e,t,i,n,o){if(!t)return"";var r=(e+"").split("\n");o=w(t,i,n,o);for(var s=0,a=r.length;s<a;s++)r[s]=A(r[s],o);return r.join("\n")}function w(e,t,i,n){(n=a({},n)).font=t,i=l(i,"..."),n.maxIterations=l(n.maxIterations,2);var o=n.minChar=l(n.minChar,0);n.cnCharWidth=m("\u56fd",t);var r=n.ascCharWidth=m("a",t);n.placeholder=l(n.placeholder,"");for(var s=e=Math.max(0,e-1),c=0;c<o&&s>=r;c++)s-=r;var h=m(i,t);return h>s&&(i="",h=0),s=e-h,n.ellipsis=i,n.ellipsisWidth=h,n.contentWidth=s,n.containerWidth=e,n}function A(e,t){var i=t.containerWidth,n=t.font,o=t.contentWidth;if(!i)return"";var r=m(e,n);if(r<=i)return e;for(var s=0;;s++){if(r<=o||s>=t.maxIterations){e+=t.ellipsis;break}var a=0===s?x(e,o,t.ascCharWidth,t.cnCharWidth):r>0?Math.floor(e.length*o/r):0;r=m(e=e.substr(0,a),n)}return""===e&&(e=t.placeholder),e}function x(e,t,i,n){for(var o=0,r=0,s=e.length;r<s&&o<t;r++){var a=e.charCodeAt(r);o+=0<=a&&a<=127?i:n}return r}function T(e){return m("\u56fd",e)}function C(e,t){return f.measureText(e,t)}function Z(e,t,i,n,o){null!=e&&(e+="");var r=l(n,T(t)),s=e?e.split("\n"):[],a=s.length*r,c=a,h=!0;if(i&&(c+=i[0]+i[2]),e&&o){h=!1;var u=o.outerHeight,d=o.outerWidth;if(null!=u&&c>u)e="",s=[];else if(null!=d)for(var p=w(d-(i?i[1]+i[3]:0),t,o.ellipsis,{minChar:o.minChar,placeholder:o.placeholder}),g=0,f=s.length;g<f;g++)s[g]=A(s[g],p)}return{lines:s,height:a,outerHeight:c,lineHeight:r,canCacheByTextString:h}}function k(e,t){var i={lines:[],width:0,height:0};if(null!=e&&(e+=""),!e)return i;for(var n,r=p.lastIndex=0;null!=(n=p.exec(e));){var s=n.index;s>r&&S(i,e.substring(r,s)),S(i,n[2],n[1]),r=p.lastIndex}r<e.length&&S(i,e.substring(r,e.length));var a=i.lines,h=0,u=0,d=[],g=t.textPadding,f=t.truncate,_=f&&f.outerWidth,v=f&&f.outerHeight;g&&(null!=_&&(_-=g[1]+g[3]),null!=v&&(v-=g[0]+g[2]));for(var y=0;y<a.length;y++){for(var w=a[y],A=0,x=0,C=0;C<w.tokens.length;C++){var Z=(U=w.tokens[C]).styleName&&t.rich[U.styleName]||{},k=U.textPadding=Z.textPadding,E=U.font=Z.font||t.font,M=U.textHeight=l(Z.textHeight,T(E));if(k&&(M+=k[0]+k[2]),U.height=M,U.lineHeight=c(Z.textLineHeight,t.textLineHeight,M),U.textAlign=Z&&Z.textAlign||t.textAlign,U.textVerticalAlign=Z&&Z.textVerticalAlign||"middle",null!=v&&h+U.lineHeight>v)return{lines:[],width:0,height:0};U.textWidth=m(U.text,E);var O=Z.textWidth,I=null==O||"auto"===O;if("string"==typeof O&&"%"===O.charAt(O.length-1))U.percentWidth=O,d.push(U),O=0;else{if(I){O=U.textWidth;var P=Z.textBackgroundColor,R=P&&P.image;R&&(R=o.findExistImage(R),o.isImageReady(R)&&(O=Math.max(O,R.width*M/R.height)))}var q=k?k[1]+k[3]:0;O+=q;var L=null!=_?_-x:null;null!=L&&L<O&&(!I||L<q?(U.text="",U.textWidth=O=0):(U.text=b(U.text,L-q,E,f.ellipsis,{minChar:f.minChar}),U.textWidth=m(U.text,E),O=U.textWidth+q))}x+=U.width=O,Z&&(A=Math.max(A,U.lineHeight))}w.width=x,w.lineHeight=A,h+=A,u=Math.max(u,x)}for(i.outerWidth=i.width=l(t.textWidth,u),i.outerHeight=i.height=l(t.textHeight,h),g&&(i.outerWidth+=g[1]+g[3],i.outerHeight+=g[0]+g[2]),y=0;y<d.length;y++){var U;(U=d[y]).width=parseInt(U.percentWidth,10)/100*u}return i}function S(e,t,i){for(var n=""===t,o=t.split("\n"),r=e.lines,s=0;s<o.length;s++){var a=o[s],l={styleName:i,text:a,isLineHolder:!a&&!n};if(s)r.push({tokens:[l]});else{var c=(r[r.length-1]||(r[0]={tokens:[]})).tokens,h=c.length;1===h&&c[0].isLineHolder?c[0]=l:(a||!h||n)&&c.push(l)}}}f.measureText=function(e,t){var i=s();return i.font=t||g,i.measureText(e)},t.DEFAULT_FONT=g,t.$override=function(e,t){f[e]=t},t.getWidth=m,t.getBoundingRect=function(e,t,i,o,r,s,a,l){return a?function(e,t,i,o,r,s,a,l){var c=k(e,{rich:a,truncate:l,font:t,textAlign:i,textPadding:r,textLineHeight:s}),h=c.outerWidth,u=c.outerHeight,d=_(0,h,i),p=v(0,u,o);return new n(d,p,h,u)}(e,t,i,o,r,s,a,l):function(e,t,i,o,r,s,a){var l=Z(e,t,r,s,a),c=m(e,t);r&&(c+=r[1]+r[3]);var h=l.outerHeight,u=_(0,c,i),d=v(0,h,o),p=new n(u,d,c,h);return p.lineHeight=l.lineHeight,p}(e,t,i,o,r,s,l)},t.adjustTextX=_,t.adjustTextY=v,t.calculateTextPosition=y,t.adjustTextPositionOnRect=function(e,t,i){return y({},{textPosition:e,textDistance:i},t)},t.truncateText=b,t.getLineHeight=T,t.measureText=C,t.parsePlainText=Z,t.parseRichText=k,t.makeFont=function(e){var t=(e.fontSize||e.fontFamily)&&[e.fontStyle,e.fontWeight,(e.fontSize||12)+"px",e.fontFamily||"sans-serif"].join(" ");return t&&h(t)||e.textFont||e.font}},73416:function(e,t){var i=2*Math.PI;t.normalizeRadian=function(e){return(e%=i)<0&&(e+=i),e}},57703:function(e){e.exports=function(e,t,i,n,o,r){if(r>t&&r>n||r<t&&r<n||n===t)return 0;var s=n<t?1:-1,a=(r-t)/(n-t);(1===a||0===a)&&(s=n<t?.5:-.5);var l=a*(i-e)+e;return l===o?1/0:l>o?s:0}},1805:function(e,t,i){var n=i(40628),o=i(61386),r=i(87021),s=function(e){for(var t in o.call(this,e=e||{}),e)e.hasOwnProperty(t)&&(this[t]=e[t]);this._children=[],this.__storage=null,this.__dirty=!0};s.prototype={constructor:s,isGroup:!0,type:"group",silent:!1,children:function(){return this._children.slice()},childAt:function(e){return this._children[e]},childOfName:function(e){for(var t=this._children,i=0;i<t.length;i++)if(t[i].name===e)return t[i]},childCount:function(){return this._children.length},add:function(e){return e&&e!==this&&e.parent!==this&&(this._children.push(e),this._doAdd(e)),this},addBefore:function(e,t){if(e&&e!==this&&e.parent!==this&&t&&t.parent===this){var i=this._children,n=i.indexOf(t);n>=0&&(i.splice(n,0,e),this._doAdd(e))}return this},_doAdd:function(e){e.parent&&e.parent.remove(e),e.parent=this;var t=this.__storage,i=this.__zr;t&&t!==e.__storage&&(t.addToStorage(e),e instanceof s&&e.addChildrenToStorage(t)),i&&i.refresh()},remove:function(e){var t=this.__zr,i=this.__storage,o=this._children,r=n.indexOf(o,e);return r<0||(o.splice(r,1),e.parent=null,i&&(i.delFromStorage(e),e instanceof s&&e.delChildrenFromStorage(i)),t&&t.refresh()),this},removeAll:function(){var e,t,i=this._children,n=this.__storage;for(t=0;t<i.length;t++)e=i[t],n&&(n.delFromStorage(e),e instanceof s&&e.delChildrenFromStorage(n)),e.parent=null;return i.length=0,this},eachChild:function(e,t){for(var i=this._children,n=0;n<i.length;n++)e.call(t,i[n],n);return this},traverse:function(e,t){for(var i=0;i<this._children.length;i++){var n=this._children[i];e.call(t,n),"group"===n.type&&n.traverse(e,t)}return this},addChildrenToStorage:function(e){for(var t=0;t<this._children.length;t++){var i=this._children[t];e.addToStorage(i),i instanceof s&&i.addChildrenToStorage(e)}},delChildrenFromStorage:function(e){for(var t=0;t<this._children.length;t++){var i=this._children[t];e.delFromStorage(i),i instanceof s&&i.delChildrenFromStorage(e)}},dirty:function(){return this.__dirty=!0,this.__zr&&this.__zr.refresh(),this},getBoundingRect:function(e){for(var t=null,i=new r(0,0,0,0),n=e||this._children,o=[],s=0;s<n.length;s++){var a=n[s];if(!a.ignore&&!a.invisible){var l=a.getBoundingRect(),c=a.getLocalTransform(o);c?(i.copy(l),i.applyTransform(c),(t=t||i.clone()).union(i)):(t=t||l.clone()).union(l)}}return t||i}},n.inherits(s,o),e.exports=s},87021:function(e,t,i){var n,o,r,s,a=i(98221),l=i(3481),c=a.applyTransform,h=Math.min,u=Math.max;function d(e,t,i,n){i<0&&(e+=i,i=-i),n<0&&(t+=n,n=-n),this.x=e,this.y=t,this.width=i,this.height=n}d.prototype={constructor:d,union:function(e){var t=h(e.x,this.x),i=h(e.y,this.y);this.width=u(e.x+e.width,this.x+this.width)-t,this.height=u(e.y+e.height,this.y+this.height)-i,this.x=t,this.y=i},applyTransform:(n=[],o=[],r=[],s=[],function(e){if(e){n[0]=r[0]=this.x,n[1]=s[1]=this.y,o[0]=s[0]=this.x+this.width,o[1]=r[1]=this.y+this.height,c(n,n,e),c(o,o,e),c(r,r,e),c(s,s,e),this.x=h(n[0],o[0],r[0],s[0]),this.y=h(n[1],o[1],r[1],s[1]);var t=u(n[0],o[0],r[0],s[0]),i=u(n[1],o[1],r[1],s[1]);this.width=t-this.x,this.height=i-this.y}}),calculateTransform:function(e){var t=this,i=e.width/t.width,n=e.height/t.height,o=l.create();return l.translate(o,o,[-t.x,-t.y]),l.scale(o,o,[i,n]),l.translate(o,o,[e.x,e.y]),o},intersect:function(e){if(!e)return!1;e instanceof d||(e=d.create(e));var t=this;return!(t.x+t.width<e.x||e.x+e.width<t.x||t.y+t.height<e.y||e.y+e.height<t.y)},contain:function(e,t){var i=this;return e>=i.x&&e<=i.x+i.width&&t>=i.y&&t<=i.y+i.height},clone:function(){return new d(this.x,this.y,this.width,this.height)},copy:function(e){this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height},plain:function(){return{x:this.x,y:this.y,width:this.width,height:this.height}}},d.create=function(e){return new d(e.x,e.y,e.width,e.height)},e.exports=d},75759:function(e,t,i){var n=i(91170),o=function(){this._track=[]};function r(e){var t=e[1][0]-e[0][0],i=e[1][1]-e[0][1];return Math.sqrt(t*t+i*i)}o.prototype={constructor:o,recognize:function(e,t,i){return this._doTrack(e,t,i),this._recognize(e)},clear:function(){return this._track.length=0,this},_doTrack:function(e,t,i){var o=e.touches;if(o){for(var r={points:[],touches:[],target:t,event:e},s=0,a=o.length;s<a;s++){var l=o[s],c=n.clientToLocal(i,l,{});r.points.push([c.zrX,c.zrY]),r.touches.push(l)}this._track.push(r)}},_recognize:function(e){for(var t in s)if(s.hasOwnProperty(t)){var i=s[t](this._track,e);if(i)return i}}};var s={pinch:function(e,t){var i=e.length;if(i){var n=(e[i-1]||{}).points,o=(e[i-2]||{}).points||n;if(o&&o.length>1&&n&&n.length>1){var s=r(n)/r(o);!isFinite(s)&&(s=1),t.pinchScale=s;var a=function(e){return[(e[0][0]+e[1][0])/2,(e[0][1]+e[1][1])/2]}(n);return t.pinchX=a[0],t.pinchY=a[1],{type:"pinch",target:e[0].target,event:t}}}}};e.exports=o},67148:function(e){var t=function(){this.head=null,this.tail=null,this._len=0},i=t.prototype;i.insert=function(e){var t=new n(e);return this.insertEntry(t),t},i.insertEntry=function(e){this.head?(this.tail.next=e,e.prev=this.tail,e.next=null,this.tail=e):this.head=this.tail=e,this._len++},i.remove=function(e){var t=e.prev,i=e.next;t?t.next=i:this.head=i,i?i.prev=t:this.tail=t,e.next=e.prev=null,this._len--},i.len=function(){return this._len},i.clear=function(){this.head=this.tail=null,this._len=0};var n=function(e){this.value=e},o=function(e){this._list=new t,this._map={},this._maxSize=e||10,this._lastRemovedEntry=null},r=o.prototype;r.put=function(e,t){var i=this._list,o=this._map,r=null;if(null==o[e]){var s=i.len(),a=this._lastRemovedEntry;if(s>=this._maxSize&&s>0){var l=i.head;i.remove(l),delete o[l.key],r=l.value,this._lastRemovedEntry=l}a?a.value=t:a=new n(t),a.key=e,i.insertEntry(a),o[e]=a}return r},r.get=function(e){var t=this._map[e],i=this._list;if(null!=t)return t!==i.tail&&(i.remove(t),i.insertEntry(t)),t.value},r.clear=function(){this._list.clear(),this._map={}},e.exports=o},17349:function(e,t,i){var n=i(49969),o=i(98221),r=i(99110),s=i(87021),a=i(26704).devicePixelRatio,l={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},c=[],h=[],u=[],d=[],p=Math.min,g=Math.max,f=Math.cos,m=Math.sin,_=Math.sqrt,v=Math.abs,y="undefined"!=typeof Float32Array,b=function(e){this._saveData=!e,this._saveData&&(this.data=[]),this._ctx=null};b.prototype={constructor:b,_xi:0,_yi:0,_x0:0,_y0:0,_ux:0,_uy:0,_len:0,_lineDash:null,_dashOffset:0,_dashIdx:0,_dashSum:0,setScale:function(e,t,i){this._ux=v((i=i||0)/a/e)||0,this._uy=v(i/a/t)||0},getContext:function(){return this._ctx},beginPath:function(e){return this._ctx=e,e&&e.beginPath(),e&&(this.dpr=e.dpr),this._saveData&&(this._len=0),this._lineDash&&(this._lineDash=null,this._dashOffset=0),this},moveTo:function(e,t){return this.addData(l.M,e,t),this._ctx&&this._ctx.moveTo(e,t),this._x0=e,this._y0=t,this._xi=e,this._yi=t,this},lineTo:function(e,t){var i=v(e-this._xi)>this._ux||v(t-this._yi)>this._uy||this._len<5;return this.addData(l.L,e,t),this._ctx&&i&&(this._needsDash()?this._dashedLineTo(e,t):this._ctx.lineTo(e,t)),i&&(this._xi=e,this._yi=t),this},bezierCurveTo:function(e,t,i,n,o,r){return this.addData(l.C,e,t,i,n,o,r),this._ctx&&(this._needsDash()?this._dashedBezierTo(e,t,i,n,o,r):this._ctx.bezierCurveTo(e,t,i,n,o,r)),this._xi=o,this._yi=r,this},quadraticCurveTo:function(e,t,i,n){return this.addData(l.Q,e,t,i,n),this._ctx&&(this._needsDash()?this._dashedQuadraticTo(e,t,i,n):this._ctx.quadraticCurveTo(e,t,i,n)),this._xi=i,this._yi=n,this},arc:function(e,t,i,n,o,r){return this.addData(l.A,e,t,i,i,n,o-n,0,r?0:1),this._ctx&&this._ctx.arc(e,t,i,n,o,r),this._xi=f(o)*i+e,this._yi=m(o)*i+t,this},arcTo:function(e,t,i,n,o){return this._ctx&&this._ctx.arcTo(e,t,i,n,o),this},rect:function(e,t,i,n){return this._ctx&&this._ctx.rect(e,t,i,n),this.addData(l.R,e,t,i,n),this},closePath:function(){this.addData(l.Z);var e=this._ctx,t=this._x0,i=this._y0;return e&&(this._needsDash()&&this._dashedLineTo(t,i),e.closePath()),this._xi=t,this._yi=i,this},fill:function(e){e&&e.fill(),this.toStatic()},stroke:function(e){e&&e.stroke(),this.toStatic()},setLineDash:function(e){if(e instanceof Array){this._lineDash=e,this._dashIdx=0;for(var t=0,i=0;i<e.length;i++)t+=e[i];this._dashSum=t}return this},setLineDashOffset:function(e){return this._dashOffset=e,this},len:function(){return this._len},setData:function(e){var t=e.length;(!this.data||this.data.length!==t)&&y&&(this.data=new Float32Array(t));for(var i=0;i<t;i++)this.data[i]=e[i];this._len=t},appendPath:function(e){e instanceof Array||(e=[e]);for(var t=e.length,i=0,n=this._len,o=0;o<t;o++)i+=e[o].len();for(y&&this.data instanceof Float32Array&&(this.data=new Float32Array(n+i)),o=0;o<t;o++)for(var r=e[o].data,s=0;s<r.length;s++)this.data[n++]=r[s];this._len=n},addData:function(e){if(this._saveData){var t=this.data;this._len+arguments.length>t.length&&(this._expandData(),t=this.data);for(var i=0;i<arguments.length;i++)t[this._len++]=arguments[i];this._prevCmd=e}},_expandData:function(){if(!(this.data instanceof Array)){for(var e=[],t=0;t<this._len;t++)e[t]=this.data[t];this.data=e}},_needsDash:function(){return this._lineDash},_dashedLineTo:function(e,t){var i,n,o=this._dashSum,r=this._dashOffset,s=this._lineDash,a=this._ctx,l=this._xi,c=this._yi,h=e-l,u=t-c,d=_(h*h+u*u),f=l,m=c,v=s.length;for(r<0&&(r=o+r),f-=(r%=o)*(h/=d),m-=r*(u/=d);h>0&&f<=e||h<0&&f>=e||0===h&&(u>0&&m<=t||u<0&&m>=t);)f+=h*(i=s[n=this._dashIdx]),m+=u*i,this._dashIdx=(n+1)%v,!(h>0&&f<l||h<0&&f>l||u>0&&m<c||u<0&&m>c)&&a[n%2?"moveTo":"lineTo"](h>=0?p(f,e):g(f,e),u>=0?p(m,t):g(m,t));this._dashOffset=-_((h=f-e)*h+(u=m-t)*u)},_dashedBezierTo:function(e,t,i,o,r,s){var a,l,c,h,u,d=this._dashSum,p=this._dashOffset,g=this._lineDash,f=this._ctx,m=this._xi,v=this._yi,y=n.cubicAt,b=0,w=this._dashIdx,A=g.length,x=0;for(p<0&&(p=d+p),p%=d,a=0;a<1;a+=.1)l=y(m,e,i,r,a+.1)-y(m,e,i,r,a),c=y(v,t,o,s,a+.1)-y(v,t,o,s,a),b+=_(l*l+c*c);for(;w<A&&!((x+=g[w])>p);w++);for(a=(x-p)/b;a<=1;)h=y(m,e,i,r,a),u=y(v,t,o,s,a),w%2?f.moveTo(h,u):f.lineTo(h,u),a+=g[w]/b,w=(w+1)%A;w%2!=0&&f.lineTo(r,s),this._dashOffset=-_((l=r-h)*l+(c=s-u)*c)},_dashedQuadraticTo:function(e,t,i,n){var o=i,r=n;i=(i+2*e)/3,n=(n+2*t)/3,this._dashedBezierTo(e=(this._xi+2*e)/3,t=(this._yi+2*t)/3,i,n,o,r)},toStatic:function(){var e=this.data;e instanceof Array&&(e.length=this._len,y&&(this.data=new Float32Array(e)))},getBoundingRect:function(){c[0]=c[1]=u[0]=u[1]=Number.MAX_VALUE,h[0]=h[1]=d[0]=d[1]=-Number.MAX_VALUE;for(var e=this.data,t=0,i=0,n=0,a=0,p=0;p<e.length;){var g=e[p++];switch(1===p&&(n=t=e[p],a=i=e[p+1]),g){case l.M:t=n=e[p++],i=a=e[p++],u[0]=n,u[1]=a,d[0]=n,d[1]=a;break;case l.L:r.fromLine(t,i,e[p],e[p+1],u,d),t=e[p++],i=e[p++];break;case l.C:r.fromCubic(t,i,e[p++],e[p++],e[p++],e[p++],e[p],e[p+1],u,d),t=e[p++],i=e[p++];break;case l.Q:r.fromQuadratic(t,i,e[p++],e[p++],e[p],e[p+1],u,d),t=e[p++],i=e[p++];break;case l.A:var _=e[p++],v=e[p++],y=e[p++],b=e[p++],w=e[p++],A=e[p++]+w;p+=1;var x=1-e[p++];1===p&&(n=f(w)*y+_,a=m(w)*b+v),r.fromArc(_,v,y,b,w,A,x,u,d),t=f(A)*y+_,i=m(A)*b+v;break;case l.R:n=t=e[p++],a=i=e[p++];var T=e[p++],C=e[p++];r.fromLine(n,a,n+T,a+C,u,d);break;case l.Z:t=n,i=a}o.min(c,c,u),o.max(h,h,d)}return 0===p&&(c[0]=c[1]=h[0]=h[1]=0),new s(c[0],c[1],h[0]-c[0],h[1]-c[1])},rebuildPath:function(e){for(var t,i,n,o,r,s,a=this.data,c=this._ux,h=this._uy,u=this._len,d=0;d<u;){var p=a[d++];switch(1===d&&(t=n=a[d],i=o=a[d+1]),p){case l.M:t=n=a[d++],i=o=a[d++],e.moveTo(n,o);break;case l.L:r=a[d++],s=a[d++],(v(r-n)>c||v(s-o)>h||d===u-1)&&(e.lineTo(r,s),n=r,o=s);break;case l.C:e.bezierCurveTo(a[d++],a[d++],a[d++],a[d++],a[d++],a[d++]),n=a[d-2],o=a[d-1];break;case l.Q:e.quadraticCurveTo(a[d++],a[d++],a[d++],a[d++]),n=a[d-2],o=a[d-1];break;case l.A:var g=a[d++],_=a[d++],y=a[d++],b=a[d++],w=a[d++],A=a[d++],x=a[d++],T=a[d++],C=y>b?y:b,Z=y>b?1:y/b,k=y>b?b/y:1,S=w+A;Math.abs(y-b)>.001?(e.translate(g,_),e.rotate(x),e.scale(Z,k),e.arc(0,0,C,w,S,1-T),e.scale(1/Z,1/k),e.rotate(-x),e.translate(-g,-_)):e.arc(g,_,C,w,S,1-T),1===d&&(t=f(w)*y+g,i=m(w)*b+_),n=f(S)*y+g,o=m(S)*b+_;break;case l.R:t=n=a[d],i=o=a[d+1],e.rect(a[d++],a[d++],a[d++],a[d++]);break;case l.Z:e.closePath(),n=t,o=i}}}},b.CMD=l,e.exports=b},11200:function(e){function t(){}function i(e,t,i,n){for(var o=0,r=t.length,s=0,a=0;o<r;o++){var l=t[o];if(l.removed){for(var c=[],h=a;h<a+l.count;h++)c.push(h);l.indices=c,a+=l.count}else{for(c=[],h=s;h<s+l.count;h++)c.push(h);l.indices=c,s+=l.count,l.added||(a+=l.count)}}return t}function n(e){return{newPos:e.newPos,components:e.components.slice(0)}}t.prototype={diff:function(e,t,o){o||(o=function(e,t){return e===t}),this.equals=o;var r=this;e=e.slice();var s=(t=t.slice()).length,a=e.length,l=1,c=s+a,h=[{newPos:-1,components:[]}],u=this.extractCommon(h[0],t,e,0);if(h[0].newPos+1>=s&&u+1>=a){for(var d=[],p=0;p<t.length;p++)d.push(p);return[{indices:d,count:t.length}]}function g(){for(var o=-1*l;o<=l;o+=2){var c,u=h[o-1],d=h[o+1],p=(d?d.newPos:0)-o;u&&(h[o-1]=void 0);var g=u&&u.newPos+1<s,f=d&&0<=p&&p<a;if(g||f){if(!g||f&&u.newPos<d.newPos?(c=n(d),r.pushComponent(c.components,void 0,!0)):((c=u).newPos++,r.pushComponent(c.components,!0,void 0)),p=r.extractCommon(c,t,e,o),c.newPos+1>=s&&p+1>=a)return i(0,c.components);h[o]=c}else h[o]=void 0}l++}for(;l<=c;){var f=g();if(f)return f}},pushComponent:function(e,t,i){var n=e[e.length-1];n&&n.added===t&&n.removed===i?e[e.length-1]={count:n.count+1,added:t,removed:i}:e.push({count:1,added:t,removed:i})},extractCommon:function(e,t,i,n){for(var o=t.length,r=i.length,s=e.newPos,a=s-n,l=0;s+1<o&&a+1<r&&this.equals(t[s+1],i[a+1]);)s++,a++,l++;return l&&e.components.push({count:l}),e.newPos=s,a},tokenize:function(e){return e.slice()},join:function(e){return e.slice()}};var o=new t;e.exports=function(e,t,i){return o.diff(e,t,i)}},99110:function(e,t,i){var n=i(98221),o=i(49969),r=Math.min,s=Math.max,a=Math.sin,l=Math.cos,c=2*Math.PI,h=n.create(),u=n.create(),d=n.create(),p=[],g=[];t.fromPoints=function(e,t,i){if(0!==e.length){var n,o=e[0],a=o[0],l=o[0],c=o[1],h=o[1];for(n=1;n<e.length;n++)a=r(a,(o=e[n])[0]),l=s(l,o[0]),c=r(c,o[1]),h=s(h,o[1]);t[0]=a,t[1]=c,i[0]=l,i[1]=h}},t.fromLine=function(e,t,i,n,o,a){o[0]=r(e,i),o[1]=r(t,n),a[0]=s(e,i),a[1]=s(t,n)},t.fromCubic=function(e,t,i,n,a,l,c,h,u,d){var f,m=o.cubicExtrema,_=o.cubicAt,v=m(e,i,a,c,p);for(u[0]=1/0,u[1]=1/0,d[0]=-1/0,d[1]=-1/0,f=0;f<v;f++){var y=_(e,i,a,c,p[f]);u[0]=r(y,u[0]),d[0]=s(y,d[0])}for(v=m(t,n,l,h,g),f=0;f<v;f++){var b=_(t,n,l,h,g[f]);u[1]=r(b,u[1]),d[1]=s(b,d[1])}u[0]=r(e,u[0]),d[0]=s(e,d[0]),u[0]=r(c,u[0]),d[0]=s(c,d[0]),u[1]=r(t,u[1]),d[1]=s(t,d[1]),u[1]=r(h,u[1]),d[1]=s(h,d[1])},t.fromQuadratic=function(e,t,i,n,a,l,c,h){var u=o.quadraticExtremum,d=o.quadraticAt,p=s(r(u(e,i,a),1),0),g=s(r(u(t,n,l),1),0),f=d(e,i,a,p),m=d(t,n,l,g);c[0]=r(e,a,f),c[1]=r(t,l,m),h[0]=s(e,a,f),h[1]=s(t,l,m)},t.fromArc=function(e,t,i,o,r,s,p,g,f){var m=n.min,_=n.max,v=Math.abs(r-s);if(v%c<1e-4&&v>1e-4)return g[0]=e-i,g[1]=t-o,f[0]=e+i,void(f[1]=t+o);if(h[0]=l(r)*i+e,h[1]=a(r)*o+t,u[0]=l(s)*i+e,u[1]=a(s)*o+t,m(g,h,u),_(f,h,u),(r%=c)<0&&(r+=c),(s%=c)<0&&(s+=c),r>s&&!p?s+=c:r<s&&p&&(r+=c),p){var y=s;s=r,r=y}for(var b=0;b<s;b+=Math.PI/2)b>r&&(d[0]=l(b)*i+e,d[1]=a(b)*o+t,m(g,d,g),_(f,d,f))}},49969:function(e,t,i){var n=i(98221),o=n.create,r=n.distSquare,s=Math.pow,a=Math.sqrt,l=1e-8,c=1e-4,h=a(3),u=1/3,d=o(),p=o(),g=o();function f(e){return e>-l&&e<l}function m(e){return e>l||e<-l}function _(e,t,i,n,o){var r=1-o;return r*r*(r*e+3*o*t)+o*o*(o*n+3*r*i)}function v(e,t,i,n){var o=1-n;return o*(o*e+2*n*t)+n*n*i}t.cubicAt=_,t.cubicDerivativeAt=function(e,t,i,n,o){var r=1-o;return 3*(((t-e)*r+2*(i-t)*o)*r+(n-i)*o*o)},t.cubicRootAt=function(e,t,i,n,o,r){var l=n+3*(t-i)-e,c=3*(i-2*t+e),d=3*(t-e),p=e-o,g=c*c-3*l*d,m=c*d-9*l*p,_=d*d-3*c*p,v=0;if(f(g)&&f(m))f(c)?r[0]=0:(E=-d/c)>=0&&E<=1&&(r[v++]=E);else{var y=m*m-4*g*_;if(f(y)){var b=m/g,w=-b/2;(E=-c/l+b)>=0&&E<=1&&(r[v++]=E),w>=0&&w<=1&&(r[v++]=w)}else if(y>0){var A=a(y),x=g*c+1.5*l*(-m+A),T=g*c+1.5*l*(-m-A);(E=(-c-((x=x<0?-s(-x,u):s(x,u))+(T=T<0?-s(-T,u):s(T,u))))/(3*l))>=0&&E<=1&&(r[v++]=E)}else{var C=(2*g*c-3*l*m)/(2*a(g*g*g)),Z=Math.acos(C)/3,k=a(g),S=Math.cos(Z),E=(-c-2*k*S)/(3*l),M=(w=(-c+k*(S+h*Math.sin(Z)))/(3*l),(-c+k*(S-h*Math.sin(Z)))/(3*l));E>=0&&E<=1&&(r[v++]=E),w>=0&&w<=1&&(r[v++]=w),M>=0&&M<=1&&(r[v++]=M)}}return v},t.cubicExtrema=function(e,t,i,n,o){var r=6*i-12*t+6*e,s=9*t+3*n-3*e-9*i,l=3*t-3*e,c=0;if(f(s))m(r)&&(u=-l/r)>=0&&u<=1&&(o[c++]=u);else{var h=r*r-4*s*l;if(f(h))o[0]=-r/(2*s);else if(h>0){var u,d=a(h),p=(-r-d)/(2*s);(u=(-r+d)/(2*s))>=0&&u<=1&&(o[c++]=u),p>=0&&p<=1&&(o[c++]=p)}}return c},t.cubicSubdivide=function(e,t,i,n,o,r){var s=(t-e)*o+e,a=(i-t)*o+t,l=(n-i)*o+i,c=(a-s)*o+s,h=(l-a)*o+a,u=(h-c)*o+c;r[0]=e,r[1]=s,r[2]=c,r[3]=u,r[4]=u,r[5]=h,r[6]=l,r[7]=n},t.cubicProjectPoint=function(e,t,i,n,o,s,l,h,u,f,m){var v,y,b,w,A,x=.005,T=1/0;d[0]=u,d[1]=f;for(var C=0;C<1;C+=.05)p[0]=_(e,i,o,l,C),p[1]=_(t,n,s,h,C),(w=r(d,p))<T&&(v=C,T=w);T=1/0;for(var Z=0;Z<32&&!(x<c);Z++)b=v+x,p[0]=_(e,i,o,l,y=v-x),p[1]=_(t,n,s,h,y),w=r(p,d),y>=0&&w<T?(v=y,T=w):(g[0]=_(e,i,o,l,b),g[1]=_(t,n,s,h,b),A=r(g,d),b<=1&&A<T?(v=b,T=A):x*=.5);return m&&(m[0]=_(e,i,o,l,v),m[1]=_(t,n,s,h,v)),a(T)},t.quadraticAt=v,t.quadraticDerivativeAt=function(e,t,i,n){return 2*((1-n)*(t-e)+n*(i-t))},t.quadraticRootAt=function(e,t,i,n,o){var r=e-2*t+i,s=2*(t-e),l=e-n,c=0;if(f(r))m(s)&&(u=-l/s)>=0&&u<=1&&(o[c++]=u);else{var h=s*s-4*r*l;if(f(h))(u=-s/(2*r))>=0&&u<=1&&(o[c++]=u);else if(h>0){var u,d=a(h),p=(-s-d)/(2*r);(u=(-s+d)/(2*r))>=0&&u<=1&&(o[c++]=u),p>=0&&p<=1&&(o[c++]=p)}}return c},t.quadraticExtremum=function(e,t,i){var n=e+i-2*t;return 0===n?.5:(e-t)/n},t.quadraticSubdivide=function(e,t,i,n,o){var r=(t-e)*n+e,s=(i-t)*n+t,a=(s-r)*n+r;o[0]=e,o[1]=r,o[2]=a,o[3]=a,o[4]=s,o[5]=i},t.quadraticProjectPoint=function(e,t,i,n,o,s,l,h,u){var f,m=.005,_=1/0;d[0]=l,d[1]=h;for(var y=0;y<1;y+=.05)p[0]=v(e,i,o,y),p[1]=v(t,n,s,y),(x=r(d,p))<_&&(f=y,_=x);_=1/0;for(var b=0;b<32&&!(m<c);b++){var w=f-m,A=f+m;p[0]=v(e,i,o,w),p[1]=v(t,n,s,w);var x=r(p,d);if(w>=0&&x<_)f=w,_=x;else{g[0]=v(e,i,o,A),g[1]=v(t,n,s,A);var T=r(g,d);A<=1&&T<_?(f=A,_=T):m*=.5}}return u&&(u[0]=v(e,i,o,f),u[1]=v(t,n,s,f)),a(_)}},31086:function(e,t,i){var n=i(10169),o=i(80374).buildTransformer,r="___zrEVENTSAVED",s=[];function a(e,t,i,s,a){if(t.getBoundingClientRect&&n.domSupported&&!l(t)){var c=t[r]||(t[r]={}),h=function(e,t,i){for(var n=i?"invTrans":"trans",r=t[n],s=t.srcCoords,a=!0,l=[],c=[],h=0;h<4;h++){var u=e[h].getBoundingClientRect(),d=2*h,p=u.left,g=u.top;l.push(p,g),a=a&&s&&p===s[d]&&g===s[d+1],c.push(e[h].offsetLeft,e[h].offsetTop)}return a&&r?r:(t.srcCoords=l,t[n]=i?o(c,l):o(l,c))}(function(e,t){var i=t.markers;if(i)return i;i=t.markers=[];for(var n=["left","right"],o=["top","bottom"],r=0;r<4;r++){var s=document.createElement("div"),a=r%2,l=(r>>1)%2;s.style.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",n[a]+":0",o[l]+":0",n[1-a]+":auto",o[1-l]+":auto",""].join("!important;"),e.appendChild(s),i.push(s)}return i}(t,c),c,a);if(h)return h(e,i,s),!0}return!1}function l(e){return"CANVAS"===e.nodeName.toUpperCase()}t.transformLocalCoord=function(e,t,i,n,o){return a(s,t,n,o,!0)&&a(e,i,s[0],s[1])},t.transformCoordWithViewport=a,t.isCanvasEl=l},10169:function(e){var t,i,n,o,r,s,a={};"object"==typeof wx&&"function"==typeof wx.getSystemInfoSync?a={browser:{},os:{},node:!1,wxa:!0,canvasSupported:!0,svgSupported:!1,touchEventsSupported:!0,domSupported:!1}:"undefined"==typeof document&&"undefined"!=typeof self?a={browser:{},os:{},node:!1,worker:!0,canvasSupported:!0,domSupported:!1}:"undefined"==typeof navigator?a={browser:{},os:{},node:!0,worker:!1,canvasSupported:!0,svgSupported:!0,domSupported:!1}:(i={},n=(t=navigator.userAgent).match(/Firefox\/([\d.]+)/),o=t.match(/MSIE\s([\d.]+)/)||t.match(/Trident\/.+?rv:(([\d.]+))/),r=t.match(/Edge\/([\d.]+)/),s=/micromessenger/i.test(t),n&&(i.firefox=!0,i.version=n[1]),o&&(i.ie=!0,i.version=o[1]),r&&(i.edge=!0,i.version=r[1]),s&&(i.weChat=!0),a={browser:i,os:{},node:!1,canvasSupported:!!document.createElement("canvas").getContext,svgSupported:"undefined"!=typeof SVGRect,touchEventsSupported:"ontouchstart"in window&&!i.ie&&!i.edge,pointerEventsSupported:"onpointerdown"in window&&(i.edge||i.ie&&i.version>=11),domSupported:"undefined"!=typeof document}),e.exports=a},91170:function(e,t,i){var n=i(62361);t.Dispatcher=n;var o=i(10169),r=i(31086),s=r.isCanvasEl,a=r.transformCoordWithViewport,l="undefined"!=typeof window&&!!window.addEventListener,c=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,h=[];function u(e,t,i,n){return i=i||{},n||!o.canvasSupported?d(e,t,i):o.browser.firefox&&null!=t.layerX&&t.layerX!==t.offsetX?(i.zrX=t.layerX,i.zrY=t.layerY):null!=t.offsetX?(i.zrX=t.offsetX,i.zrY=t.offsetY):d(e,t,i),i}function d(e,t,i){if(o.domSupported&&e.getBoundingClientRect){var n=t.clientX,r=t.clientY;if(s(e)){var l=e.getBoundingClientRect();return i.zrX=n-l.left,void(i.zrY=r-l.top)}if(a(h,e,n,r))return i.zrX=h[0],void(i.zrY=h[1])}i.zrX=i.zrY=0}function p(e){return e||window.event}var g=l?function(e){e.preventDefault(),e.stopPropagation(),e.cancelBubble=!0}:function(e){e.returnValue=!1,e.cancelBubble=!0};t.clientToLocal=u,t.getNativeEvent=p,t.normalizeEvent=function(e,t,i){if(null!=(t=p(t)).zrX)return t;var n=t.type;if(n&&n.indexOf("touch")>=0){var o="touchend"!==n?t.targetTouches[0]:t.changedTouches[0];o&&u(e,o,t,i)}else u(e,t,t,i),t.zrDelta=t.wheelDelta?t.wheelDelta/120:-(t.detail||0)/3;var r=t.button;return null==t.which&&void 0!==r&&c.test(t.type)&&(t.which=1&r?1:2&r?3:4&r?2:0),t},t.addEventListener=function(e,t,i,n){l?e.addEventListener(t,i,n):e.attachEvent("on"+t,i)},t.removeEventListener=function(e,t,i,n){l?e.removeEventListener(t,i,n):e.detachEvent("on"+t,i)},t.stop=g,t.isMiddleOrRightButtonOnMouseUpDown=function(e){return 2===e.which||3===e.which},t.notLeftMouse=function(e){return e.which>1}},80374:function(e,t){var i=Math.log(2);function n(e,t,o,r,s,a){var l=r+"-"+s,c=e.length;if(a.hasOwnProperty(l))return a[l];if(1===t){var h=Math.round(Math.log((1<<c)-1&~s)/i);return e[o][h]}for(var u=r|1<<o,d=o+1;r&1<<d;)d++;for(var p=0,g=0,f=0;g<c;g++){var m=1<<g;m&s||(p+=(f%2?-1:1)*e[o][g]*n(e,t-1,d,u,s|m,a),f++)}return a[l]=p,p}t.buildTransformer=function(e,t){var i=[[e[0],e[1],1,0,0,0,-t[0]*e[0],-t[0]*e[1]],[0,0,0,e[0],e[1],1,-t[1]*e[0],-t[1]*e[1]],[e[2],e[3],1,0,0,0,-t[2]*e[2],-t[2]*e[3]],[0,0,0,e[2],e[3],1,-t[3]*e[2],-t[3]*e[3]],[e[4],e[5],1,0,0,0,-t[4]*e[4],-t[4]*e[5]],[0,0,0,e[4],e[5],1,-t[5]*e[4],-t[5]*e[5]],[e[6],e[7],1,0,0,0,-t[6]*e[6],-t[6]*e[7]],[0,0,0,e[6],e[7],1,-t[7]*e[6],-t[7]*e[7]]],o={},r=n(i,8,0,0,0,o);if(0!==r){for(var s=[],a=0;a<8;a++)for(var l=0;l<8;l++)null==s[l]&&(s[l]=0),s[l]+=((a+l)%2?-1:1)*n(i,7,0===a?1:0,1<<a,1<<l,o)/r*t[a];return function(e,t,i){var n=t*s[6]+i*s[7]+1;e[0]=(t*s[0]+i*s[1]+s[2])/n,e[1]=(t*s[3]+i*s[4]+s[5])/n}}}},77606:function(e){var t=2311;e.exports=function(){return t++}},80848:function(e,t,i){var n=function(){};1===i(26704).debugMode&&(n=console.error),e.exports=n},3481:function(e,t){var i="undefined"==typeof Float32Array?Array:Float32Array;function n(){var e=new i(6);return o(e),e}function o(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e}function r(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}t.create=n,t.identity=o,t.copy=r,t.mul=function(e,t,i){var n=t[1]*i[0]+t[3]*i[1],o=t[0]*i[2]+t[2]*i[3],r=t[1]*i[2]+t[3]*i[3],s=t[0]*i[4]+t[2]*i[5]+t[4],a=t[1]*i[4]+t[3]*i[5]+t[5];return e[0]=t[0]*i[0]+t[2]*i[1],e[1]=n,e[2]=o,e[3]=r,e[4]=s,e[5]=a,e},t.translate=function(e,t,i){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4]+i[0],e[5]=t[5]+i[1],e},t.rotate=function(e,t,i){var n=t[0],o=t[2],r=t[4],s=t[1],a=t[3],l=t[5],c=Math.sin(i),h=Math.cos(i);return e[0]=n*h+s*c,e[1]=-n*c+s*h,e[2]=o*h+a*c,e[3]=-o*c+h*a,e[4]=h*r+c*l,e[5]=h*l-c*r,e},t.scale=function(e,t,i){var n=i[0],o=i[1];return e[0]=t[0]*n,e[1]=t[1]*o,e[2]=t[2]*n,e[3]=t[3]*o,e[4]=t[4]*n,e[5]=t[5]*o,e},t.invert=function(e,t){var i=t[0],n=t[2],o=t[4],r=t[1],s=t[3],a=t[5],l=i*s-r*n;return l?(e[0]=s*(l=1/l),e[1]=-r*l,e[2]=-n*l,e[3]=i*l,e[4]=(n*a-s*o)*l,e[5]=(r*o-i*a)*l,e):null},t.clone=function(e){var t=n();return r(t,e),t}},69995:function(e){function t(e,t,i,n){var o=t+1;if(o===i)return 1;if(n(e[o++],e[t])<0){for(;o<i&&n(e[o],e[o-1])<0;)o++;!function(e,t,i){for(i--;t<i;){var n=e[t];e[t++]=e[i],e[i--]=n}}(e,t,o)}else for(;o<i&&n(e[o],e[o-1])>=0;)o++;return o-t}function i(e,t,i,n,o){for(n===t&&n++;n<i;n++){for(var r,s=e[n],a=t,l=n;a<l;)o(s,e[r=a+l>>>1])<0?l=r:a=r+1;var c=n-a;switch(c){case 3:e[a+3]=e[a+2];case 2:e[a+2]=e[a+1];case 1:e[a+1]=e[a];break;default:for(;c>0;)e[a+c]=e[a+c-1],c--}e[a]=s}}function n(e,t,i,n,o,r){var s=0,a=0,l=1;if(r(e,t[i+o])>0){for(a=n-o;l<a&&r(e,t[i+o+l])>0;)s=l,(l=1+(l<<1))<=0&&(l=a);l>a&&(l=a),s+=o,l+=o}else{for(a=o+1;l<a&&r(e,t[i+o-l])<=0;)s=l,(l=1+(l<<1))<=0&&(l=a);l>a&&(l=a);var c=s;s=o-l,l=o-c}for(s++;s<l;){var h=s+(l-s>>>1);r(e,t[i+h])>0?s=h+1:l=h}return l}function o(e,t,i,n,o,r){var s=0,a=0,l=1;if(r(e,t[i+o])<0){for(a=o+1;l<a&&r(e,t[i+o-l])<0;)s=l,(l=1+(l<<1))<=0&&(l=a);l>a&&(l=a);var c=s;s=o-l,l=o-c}else{for(a=n-o;l<a&&r(e,t[i+o+l])>=0;)s=l,(l=1+(l<<1))<=0&&(l=a);l>a&&(l=a),s+=o,l+=o}for(s++;s<l;){var h=s+(l-s>>>1);r(e,t[i+h])<0?l=h:s=h+1}return l}function r(e,t){var i,r,s=7,a=0;var l=[];function c(c){var h=i[c],u=r[c],d=i[c+1],p=r[c+1];r[c]=u+p,c===a-3&&(i[c+1]=i[c+2],r[c+1]=r[c+2]),a--;var g=o(e[d],e,h,u,0,t);h+=g,0!=(u-=g)&&0!==(p=n(e[h+u-1],e,d,p,p-1,t))&&(u<=p?function(i,r,a,c){var h=0;for(h=0;h<r;h++)l[h]=e[i+h];var u=0,d=a,p=i;if(e[p++]=e[d++],0!=--c)if(1!==r){for(var g,f,m,_=s;;){g=0,f=0,m=!1;do{if(t(e[d],l[u])<0){if(e[p++]=e[d++],f++,g=0,0==--c){m=!0;break}}else if(e[p++]=l[u++],g++,f=0,1==--r){m=!0;break}}while((g|f)<_);if(m)break;do{if(0!==(g=o(e[d],l,u,r,0,t))){for(h=0;h<g;h++)e[p+h]=l[u+h];if(p+=g,u+=g,(r-=g)<=1){m=!0;break}}if(e[p++]=e[d++],0==--c){m=!0;break}if(0!==(f=n(l[u],e,d,c,0,t))){for(h=0;h<f;h++)e[p+h]=e[d+h];if(p+=f,d+=f,0==(c-=f)){m=!0;break}}if(e[p++]=l[u++],1==--r){m=!0;break}_--}while(g>=7||f>=7);if(m)break;_<0&&(_=0),_+=2}if((s=_)<1&&(s=1),1===r){for(h=0;h<c;h++)e[p+h]=e[d+h];e[p+c]=l[u]}else{if(0===r)throw new Error;for(h=0;h<r;h++)e[p+h]=l[u+h]}}else{for(h=0;h<c;h++)e[p+h]=e[d+h];e[p+c]=l[u]}else for(h=0;h<r;h++)e[p+h]=l[u+h]}(h,u,d,p):function(i,r,a,c){var h=0;for(h=0;h<c;h++)l[h]=e[a+h];var u=i+r-1,d=c-1,p=a+c-1,g=0,f=0;if(e[p--]=e[u--],0!=--r)if(1!==c){for(var m=s;;){var _=0,v=0,y=!1;do{if(t(l[d],e[u])<0){if(e[p--]=e[u--],_++,v=0,0==--r){y=!0;break}}else if(e[p--]=l[d--],v++,_=0,1==--c){y=!0;break}}while((_|v)<m);if(y)break;do{if(0!=(_=r-o(l[d],e,i,r,r-1,t))){for(r-=_,f=1+(p-=_),g=1+(u-=_),h=_-1;h>=0;h--)e[f+h]=e[g+h];if(0===r){y=!0;break}}if(e[p--]=l[d--],1==--c){y=!0;break}if(0!=(v=c-n(e[u],l,0,c,c-1,t))){for(c-=v,f=1+(p-=v),g=1+(d-=v),h=0;h<v;h++)e[f+h]=l[g+h];if(c<=1){y=!0;break}}if(e[p--]=e[u--],0==--r){y=!0;break}m--}while(_>=7||v>=7);if(y)break;m<0&&(m=0),m+=2}if((s=m)<1&&(s=1),1===c){for(f=1+(p-=r),g=1+(u-=r),h=r-1;h>=0;h--)e[f+h]=e[g+h];e[p]=l[d]}else{if(0===c)throw new Error;for(g=p-(c-1),h=0;h<c;h++)e[g+h]=l[h]}}else{for(f=1+(p-=r),g=1+(u-=r),h=r-1;h>=0;h--)e[f+h]=e[g+h];e[p]=l[d]}else for(g=p-(c-1),h=0;h<c;h++)e[g+h]=l[h]}(h,u,d,p))}i=[],r=[],this.mergeRuns=function(){for(;a>1;){var e=a-2;if(e>=1&&r[e-1]<=r[e]+r[e+1]||e>=2&&r[e-2]<=r[e]+r[e-1])r[e-1]<r[e+1]&&e--;else if(r[e]>r[e+1])break;c(e)}},this.forceMergeRuns=function(){for(;a>1;){var e=a-2;e>0&&r[e-1]<r[e+1]&&e--,c(e)}},this.pushRun=function(e,t){i[a]=e,r[a]=t,a+=1}}e.exports=function(e,n,o,s){o||(o=0),s||(s=e.length);var a=s-o;if(!(a<2)){var l=0;if(a<32)return void i(e,o,s,o+(l=t(e,o,s,n)),n);var c=new r(e,n),h=function(e){for(var t=0;e>=32;)t|=1&e,e>>=1;return e+t}(a);do{if((l=t(e,o,s,n))<h){var u=a;u>h&&(u=h),i(e,o,o+u,o+l,n),l=u}c.pushRun(o,l),c.mergeRuns(),a-=l,o+=l}while(0!==a);c.forceMergeRuns()}}},40628:function(e,t){var i={"[object Function]":1,"[object RegExp]":1,"[object Date]":1,"[object Error]":1,"[object CanvasGradient]":1,"[object CanvasPattern]":1,"[object Image]":1,"[object Canvas]":1},n={"[object Int8Array]":1,"[object Uint8Array]":1,"[object Uint8ClampedArray]":1,"[object Int16Array]":1,"[object Uint16Array]":1,"[object Int32Array]":1,"[object Uint32Array]":1,"[object Float32Array]":1,"[object Float64Array]":1},o=Object.prototype.toString,r=Array.prototype,s=r.forEach,a=r.filter,l=r.slice,c=r.map,h=r.reduce,u={};function d(e){if(null==e||"object"!=typeof e)return e;var t=e,r=o.call(e);if("[object Array]"===r){if(!T(e)){t=[];for(var s=0,a=e.length;s<a;s++)t[s]=d(e[s])}}else if(n[r]){if(!T(e)){var l=e.constructor;if(e.constructor.from)t=l.from(e);else for(t=new l(e.length),s=0,a=e.length;s<a;s++)t[s]=d(e[s])}}else if(!i[r]&&!T(e)&&!A(e))for(var c in t={},e)e.hasOwnProperty(c)&&(t[c]=d(e[c]));return t}function p(e,t,i){if(!b(t)||!b(e))return i?d(t):e;for(var n in t)if(t.hasOwnProperty(n)){var o=e[n],r=t[n];!b(r)||!b(o)||y(r)||y(o)||A(r)||A(o)||w(r)||w(o)||T(r)||T(o)?(i||!(n in e))&&(e[n]=d(t[n])):p(o,r,i)}return e}function g(e,t,i){for(var n in t)t.hasOwnProperty(n)&&(i?null!=t[n]:null==e[n])&&(e[n]=t[n]);return e}var f,m=function(){return u.createCanvas()};function _(e,t,i){if(e&&t)if(e.forEach&&e.forEach===s)e.forEach(t,i);else if(e.length===+e.length)for(var n=0,o=e.length;n<o;n++)t.call(i,e[n],n,e);else for(var r in e)e.hasOwnProperty(r)&&t.call(i,e[r],r,e)}function v(e,t){var i=l.call(arguments,2);return function(){return e.apply(t,i.concat(l.call(arguments)))}}function y(e){return"[object Array]"===o.call(e)}function b(e){var t=typeof e;return"function"===t||!!e&&"object"===t}function w(e){return!!i[o.call(e)]}function A(e){return"object"==typeof e&&"number"==typeof e.nodeType&&"object"==typeof e.ownerDocument}u.createCanvas=function(){return document.createElement("canvas")};var x="__ec_primitive__";function T(e){return e[x]}function C(e){var t=y(e);this.data={};var i=this;function n(e,n){t?i.set(e,n):i.set(n,e)}e instanceof C?e.each(n):e&&_(e,n)}C.prototype={constructor:C,get:function(e){return this.data.hasOwnProperty(e)?this.data[e]:null},set:function(e,t){return this.data[e]=t},each:function(e,t){for(var i in void 0!==t&&(e=v(e,t)),this.data)this.data.hasOwnProperty(i)&&e(this.data[i],i)},removeKey:function(e){delete this.data[e]}},t.$override=function(e,t){"createCanvas"===e&&(f=null),u[e]=t},t.clone=d,t.merge=p,t.mergeAll=function(e,t){for(var i=e[0],n=1,o=e.length;n<o;n++)i=p(i,e[n],t);return i},t.extend=function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return e},t.defaults=g,t.createCanvas=m,t.getContext=function(){return f||(f=m().getContext("2d")),f},t.indexOf=function(e,t){if(e){if(e.indexOf)return e.indexOf(t);for(var i=0,n=e.length;i<n;i++)if(e[i]===t)return i}return-1},t.inherits=function(e,t){var i=e.prototype;function n(){}for(var o in n.prototype=t.prototype,e.prototype=new n,i)i.hasOwnProperty(o)&&(e.prototype[o]=i[o]);e.prototype.constructor=e,e.superClass=t},t.mixin=function(e,t,i){g(e="prototype"in e?e.prototype:e,t="prototype"in t?t.prototype:t,i)},t.isArrayLike=function(e){if(e)return"string"!=typeof e&&"number"==typeof e.length},t.each=_,t.map=function(e,t,i){if(e&&t){if(e.map&&e.map===c)return e.map(t,i);for(var n=[],o=0,r=e.length;o<r;o++)n.push(t.call(i,e[o],o,e));return n}},t.reduce=function(e,t,i,n){if(e&&t){if(e.reduce&&e.reduce===h)return e.reduce(t,i,n);for(var o=0,r=e.length;o<r;o++)i=t.call(n,i,e[o],o,e);return i}},t.filter=function(e,t,i){if(e&&t){if(e.filter&&e.filter===a)return e.filter(t,i);for(var n=[],o=0,r=e.length;o<r;o++)t.call(i,e[o],o,e)&&n.push(e[o]);return n}},t.find=function(e,t,i){if(e&&t)for(var n=0,o=e.length;n<o;n++)if(t.call(i,e[n],n,e))return e[n]},t.bind=v,t.curry=function(e){var t=l.call(arguments,1);return function(){return e.apply(this,t.concat(l.call(arguments)))}},t.isArray=y,t.isFunction=function(e){return"function"==typeof e},t.isString=function(e){return"[object String]"===o.call(e)},t.isObject=b,t.isBuiltInObject=w,t.isTypedArray=function(e){return!!n[o.call(e)]},t.isDom=A,t.eqNaN=function(e){return e!=e},t.retrieve=function(e){for(var t=0,i=arguments.length;t<i;t++)if(null!=arguments[t])return arguments[t]},t.retrieve2=function(e,t){return null!=e?e:t},t.retrieve3=function(e,t,i){return null!=e?e:null!=t?t:i},t.slice=function(){return Function.call.apply(l,arguments)},t.normalizeCssArray=function(e){if("number"==typeof e)return[e,e,e,e];var t=e.length;return 2===t?[e[0],e[1],e[0],e[1]]:3===t?[e[0],e[1],e[2],e[1]]:e},t.assert=function(e,t){if(!e)throw new Error(t)},t.trim=function(e){return null==e?null:"function"==typeof e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},t.setAsPrimitive=function(e){e[x]=!0},t.isPrimitive=T,t.createHashMap=function(e){return new C(e)},t.concatArray=function(e,t){for(var i=new e.constructor(e.length+t.length),n=0;n<e.length;n++)i[n]=e[n];var o=e.length;for(n=0;n<t.length;n++)i[n+o]=t[n];return i},t.noop=function(){}},98221:function(e,t){var i="undefined"==typeof Float32Array?Array:Float32Array;function n(e){return Math.sqrt(r(e))}var o=n;function r(e){return e[0]*e[0]+e[1]*e[1]}var s=r;function a(e,t){return Math.sqrt((e[0]-t[0])*(e[0]-t[0])+(e[1]-t[1])*(e[1]-t[1]))}var l=a;function c(e,t){return(e[0]-t[0])*(e[0]-t[0])+(e[1]-t[1])*(e[1]-t[1])}var h=c;t.create=function(e,t){var n=new i(2);return null==e&&(e=0),null==t&&(t=0),n[0]=e,n[1]=t,n},t.copy=function(e,t){return e[0]=t[0],e[1]=t[1],e},t.clone=function(e){var t=new i(2);return t[0]=e[0],t[1]=e[1],t},t.set=function(e,t,i){return e[0]=t,e[1]=i,e},t.add=function(e,t,i){return e[0]=t[0]+i[0],e[1]=t[1]+i[1],e},t.scaleAndAdd=function(e,t,i,n){return e[0]=t[0]+i[0]*n,e[1]=t[1]+i[1]*n,e},t.sub=function(e,t,i){return e[0]=t[0]-i[0],e[1]=t[1]-i[1],e},t.len=n,t.length=o,t.lenSquare=r,t.lengthSquare=s,t.mul=function(e,t,i){return e[0]=t[0]*i[0],e[1]=t[1]*i[1],e},t.div=function(e,t,i){return e[0]=t[0]/i[0],e[1]=t[1]/i[1],e},t.dot=function(e,t){return e[0]*t[0]+e[1]*t[1]},t.scale=function(e,t,i){return e[0]=t[0]*i,e[1]=t[1]*i,e},t.normalize=function(e,t){var i=n(t);return 0===i?(e[0]=0,e[1]=0):(e[0]=t[0]/i,e[1]=t[1]/i),e},t.distance=a,t.dist=l,t.distanceSquare=c,t.distSquare=h,t.negate=function(e,t){return e[0]=-t[0],e[1]=-t[1],e},t.lerp=function(e,t,i,n){return e[0]=t[0]+n*(i[0]-t[0]),e[1]=t[1]+n*(i[1]-t[1]),e},t.applyTransform=function(e,t,i){var n=t[0],o=t[1];return e[0]=i[0]*n+i[2]*o+i[4],e[1]=i[1]*n+i[3]*o+i[5],e},t.min=function(e,t,i){return e[0]=Math.min(t[0],i[0]),e[1]=Math.min(t[1],i[1]),e},t.max=function(e,t,i){return e[0]=Math.max(t[0],i[0]),e[1]=Math.max(t[1],i[1]),e}},36055:function(e,t,i){var n,o,r=i(91170),s=r.addEventListener,a=r.removeEventListener,l=r.normalizeEvent,c=r.getNativeEvent,h=i(40628),u=i(62361),d=i(10169),p=d.domSupported,g=(o={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},{mouse:n=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],touch:["touchstart","touchend","touchmove"],pointer:h.map(n,function(e){var t=e.replace("mouse","pointer");return o.hasOwnProperty(t)?t:e})}),f=["mousemove","mouseup"],m=["pointermove","pointerup"];function _(e){return"mousewheel"===e&&d.browser.firefox?"DOMMouseScroll":e}function v(e){var t=e.pointerType;return"pen"===t||"touch"===t}function y(e){e&&(e.zrByTouch=!0)}function b(e,t){for(var i=t,n=!1;i&&9!==i.nodeType&&!(n=i.domBelongToZr||i!==t&&i===e.painterRoot);)i=i.parentNode;return n}function w(e,t){this.type=t.type,this.target=this.currentTarget=e.dom,this.pointerType=t.pointerType,this.clientX=t.clientX,this.clientY=t.clientY}var A=w.prototype;A.stopPropagation=A.stopImmediatePropagation=A.preventDefault=h.noop;var x={mousedown:function(e){e=l(this.dom,e),this._mayPointerCapture=[e.zrX,e.zrY],this.trigger("mousedown",e)},mousemove:function(e){e=l(this.dom,e);var t=this._mayPointerCapture;t&&(e.zrX!==t[0]||e.zrY!==t[1])&&k(this,!0),this.trigger("mousemove",e)},mouseup:function(e){e=l(this.dom,e),k(this,!1),this.trigger("mouseup",e)},mouseout:function(e){e=l(this.dom,e),this._pointerCapturing&&(e.zrEventControl="no_globalout"),e.zrIsToLocalDOM=b(this,e.toElement||e.relatedTarget),this.trigger("mouseout",e)},touchstart:function(e){y(e=l(this.dom,e)),this._lastTouchMoment=new Date,this.handler.processGesture(e,"start"),x.mousemove.call(this,e),x.mousedown.call(this,e)},touchmove:function(e){y(e=l(this.dom,e)),this.handler.processGesture(e,"change"),x.mousemove.call(this,e)},touchend:function(e){y(e=l(this.dom,e)),this.handler.processGesture(e,"end"),x.mouseup.call(this,e),+new Date-this._lastTouchMoment<300&&x.click.call(this,e)},pointerdown:function(e){x.mousedown.call(this,e)},pointermove:function(e){v(e)||x.mousemove.call(this,e)},pointerup:function(e){x.mouseup.call(this,e)},pointerout:function(e){v(e)||x.mouseout.call(this,e)}};h.each(["click","mousewheel","dblclick","contextmenu"],function(e){x[e]=function(t){t=l(this.dom,t),this.trigger(e,t)}});var T={pointermove:function(e){v(e)||T.mousemove.call(this,e)},pointerup:function(e){T.mouseup.call(this,e)},mousemove:function(e){this.trigger("mousemove",e)},mouseup:function(e){var t=this._pointerCapturing;k(this,!1),this.trigger("mouseup",e),t&&(e.zrEventControl="only_globalout",this.trigger("mouseout",e))}};function C(e,t,i,n){e.mounted[t]=i,e.listenerOpts[t]=n,s(e.domTarget,_(t),i,n)}function Z(e){var t=e.mounted;for(var i in t)t.hasOwnProperty(i)&&a(e.domTarget,_(i),t[i],e.listenerOpts[i]);e.mounted={}}function k(e,t){if(e._mayPointerCapture=null,p&&e._pointerCapturing^t){e._pointerCapturing=t;var i=e._globalHandlerScope;t?function(e,t){function i(i){C(t,i,function(n){n=c(n),b(e,n.target)||(n=function(e,t){return l(e.dom,new w(e,t),!0)}(e,n),t.domHandlers[i].call(e,n))},{capture:!0})}d.pointerEventsSupported?h.each(m,i):d.touchEventsSupported||h.each(f,i)}(e,i):Z(i)}}function S(e,t){this.domTarget=e,this.domHandlers=t,this.mounted={},this.listenerOpts={},this.touchTimer=null,this.touching=!1}function E(e,t){u.call(this),this.dom=e,this.painterRoot=t,this._localHandlerScope=new S(e,x),p&&(this._globalHandlerScope=new S(document,T)),this._pointerCapturing=!1,this._mayPointerCapture=null,function(e,t){var i=t.domHandlers;d.pointerEventsSupported?h.each(g.pointer,function(n){C(t,n,function(t){i[n].call(e,t)})}):(d.touchEventsSupported&&h.each(g.touch,function(n){C(t,n,function(o){i[n].call(e,o),function(e){e.touching=!0,null!=e.touchTimer&&(clearTimeout(e.touchTimer),e.touchTimer=null),e.touchTimer=setTimeout(function(){e.touching=!1,e.touchTimer=null},700)}(t)})}),h.each(g.mouse,function(n){C(t,n,function(o){o=c(o),t.touching||i[n].call(e,o)})}))}(this,this._localHandlerScope)}var M=E.prototype;M.dispose=function(){Z(this._localHandlerScope),p&&Z(this._globalHandlerScope)},M.setCursor=function(e){this.dom.style&&(this.dom.style.cursor=e||"default")},h.mixin(E,u),e.exports=E},38274:function(e,t,i){var n=i(40628);t.util=n;var o=i(3481);t.matrix=o;var r=i(98221);t.vector=r;var s=i(10312);t.color=s;var a=i(38532);t.path=a;var l=i(9641);t.parseSVG=l.parseSVG;var c=i(1805);t.Group=c;var h=i(1419);t.Path=h;var u=i(26766);t.Image=u;var d=i(41115);t.CompoundPath=d;var p=i(48208);t.Text=p;var g=i(33520);t.IncrementalDisplayable=g;var f=i(38234);t.Arc=f;var m=i(56146);t.BezierCurve=m;var _=i(69359);t.Circle=_;var v=i(26874);t.Droplet=v;var y=i(36743);t.Ellipse=y;var b=i(78944);t.Heart=b;var w=i(75545);t.Isogon=w;var A=i(4110);t.Line=A;var x=i(33186);t.Polygon=x;var T=i(37834);t.Polyline=T;var C=i(87145);t.Rect=C;var Z=i(90495);t.Ring=Z;var k=i(10137);t.Rose=k;var S=i(14699);t.Sector=S;var E=i(93350);t.Star=E;var M=i(24397);t.Trochoid=M;var O=i(45910);t.LinearGradient=O;var I=i(90641);t.RadialGradient=I;var P=i(84182);t.Pattern=P;var R=i(87021);t.BoundingRect=R},41115:function(e,t,i){var n=i(1419),o=n.extend({type:"compound",shape:{paths:null},_updatePathDirty:function(){for(var e=this.__dirtyPath,t=this.shape.paths,i=0;i<t.length;i++)e=e||t[i].__dirtyPath;this.__dirtyPath=e,this.__dirty=this.__dirty||e},beforeBrush:function(){this._updatePathDirty();for(var e=this.shape.paths||[],t=this.getGlobalScale(),i=0;i<e.length;i++)e[i].path||e[i].createPathProxy(),e[i].path.setScale(t[0],t[1],e[i].segmentIgnoreThreshold)},buildPath:function(e,t){for(var i=t.paths||[],n=0;n<i.length;n++)i[n].buildPath(e,i[n].shape,!0)},afterBrush:function(){for(var e=this.shape.paths||[],t=0;t<e.length;t++)e[t].__dirtyPath=!1},getBoundingRect:function(){return this._updatePathDirty(),n.prototype.getBoundingRect.call(this)}});e.exports=o},99563:function(e,t,i){var n=i(40628),o=i(63554),r=i(61386),s=i(56868);function a(e){for(var t in r.call(this,e=e||{}),e)e.hasOwnProperty(t)&&"style"!==t&&(this[t]=e[t]);this.style=new o(e.style,this),this._rect=null,this.__clipPaths=null}a.prototype={constructor:a,type:"displayable",__dirty:!0,invisible:!1,z:0,z2:0,zlevel:0,draggable:!1,dragging:!1,silent:!1,culling:!1,cursor:"pointer",rectHover:!1,progressive:!1,incremental:!1,globalScaleRatio:1,beforeBrush:function(e){},afterBrush:function(e){},brush:function(e,t){},getBoundingRect:function(){},contain:function(e,t){return this.rectContain(e,t)},traverse:function(e,t){e.call(t,this)},rectContain:function(e,t){var i=this.transformCoordToLocal(e,t);return this.getBoundingRect().contain(i[0],i[1])},dirty:function(){this.__dirty=this.__dirtyText=!0,this._rect=null,this.__zr&&this.__zr.refresh()},animateStyle:function(e){return this.animate("style",e)},attrKV:function(e,t){"style"!==e?r.prototype.attrKV.call(this,e,t):this.style.set(t)},setStyle:function(e,t){return this.style.set(e,t),this.dirty(!1),this},useStyle:function(e){return this.style=new o(e,this),this.dirty(!1),this},calculateTextPosition:null},n.inherits(a,r),n.mixin(a,s),e.exports=a},89660:function(e){var t=function(e){this.colorStops=e||[]};t.prototype={constructor:t,addColorStop:function(e,t){this.colorStops.push({offset:e,color:t})}},e.exports=t},26766:function(e,t,i){var n=i(99563),o=i(87021),r=i(40628),s=i(36790);function a(e){n.call(this,e)}a.prototype={constructor:a,type:"image",brush:function(e,t){var i=this.style,n=i.image;i.bind(e,this,t);var o=this._image=s.createOrUpdateImage(n,this._image,this,this.onload);if(o&&s.isImageReady(o)){var r=i.x||0,a=i.y||0,l=i.width,c=i.height,h=o.width/o.height;if(null==l&&null!=c?l=c*h:null==c&&null!=l?c=l/h:null==l&&null==c&&(l=o.width,c=o.height),this.setTransform(e),i.sWidth&&i.sHeight)e.drawImage(o,u=i.sx||0,d=i.sy||0,i.sWidth,i.sHeight,r,a,l,c);else if(i.sx&&i.sy){var u,d;e.drawImage(o,u=i.sx,d=i.sy,l-u,c-d,r,a,l,c)}else e.drawImage(o,r,a,l,c);null!=i.text&&(this.restoreTransform(e),this.drawRectText(e,this.getBoundingRect()))}},getBoundingRect:function(){var e=this.style;return this._rect||(this._rect=new o(e.x||0,e.y||0,e.width||0,e.height||0)),this._rect}},r.inherits(a,n),e.exports=a},33520:function(e,t,i){var n=i(40628).inherits,o=i(99563),r=i(87021);function s(e){o.call(this,e),this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.notClear=!0}s.prototype.incremental=!0,s.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.dirty(),this.notClear=!1},s.prototype.addDisplayable=function(e,t){t?this._temporaryDisplayables.push(e):this._displayables.push(e),this.dirty()},s.prototype.addDisplayables=function(e,t){t=t||!1;for(var i=0;i<e.length;i++)this.addDisplayable(e[i],t)},s.prototype.eachPendingDisplayable=function(e){for(var t=this._cursor;t<this._displayables.length;t++)e&&e(this._displayables[t]);for(t=0;t<this._temporaryDisplayables.length;t++)e&&e(this._temporaryDisplayables[t])},s.prototype.update=function(){this.updateTransform();for(var e=this._cursor;e<this._displayables.length;e++)(t=this._displayables[e]).parent=this,t.update(),t.parent=null;for(e=0;e<this._temporaryDisplayables.length;e++){var t;(t=this._temporaryDisplayables[e]).parent=this,t.update(),t.parent=null}},s.prototype.brush=function(e,t){for(var i=this._cursor;i<this._displayables.length;i++)(n=this._displayables[i]).beforeBrush&&n.beforeBrush(e),n.brush(e,i===this._cursor?null:this._displayables[i-1]),n.afterBrush&&n.afterBrush(e);for(this._cursor=i,i=0;i<this._temporaryDisplayables.length;i++){var n;(n=this._temporaryDisplayables[i]).beforeBrush&&n.beforeBrush(e),n.brush(e,0===i?null:this._temporaryDisplayables[i-1]),n.afterBrush&&n.afterBrush(e)}this._temporaryDisplayables=[],this.notClear=!0};var a=[];s.prototype.getBoundingRect=function(){if(!this._rect){for(var e=new r(1/0,1/0,-1/0,-1/0),t=0;t<this._displayables.length;t++){var i=this._displayables[t],n=i.getBoundingRect().clone();i.needLocalTransform()&&n.applyTransform(i.getLocalTransform(a)),e.union(n)}this._rect=e}return this._rect},s.prototype.contain=function(e,t){var i=this.transformCoordToLocal(e,t);if(this.getBoundingRect().contain(i[0],i[1]))for(var n=0;n<this._displayables.length;n++)if(this._displayables[n].contain(e,t))return!0;return!1},n(s,o),e.exports=s},45910:function(e,t,i){var n=i(40628),o=i(89660),r=function(e,t,i,n,r,s){this.x=null==e?0:e,this.y=null==t?0:t,this.x2=null==i?1:i,this.y2=null==n?0:n,this.type="linear",this.global=s||!1,o.call(this,r)};r.prototype={constructor:r},n.inherits(r,o),e.exports=r},1419:function(e,t,i){var n=i(99563),o=i(40628),r=i(17349),s=i(77034),a=i(84182).prototype.getCanvasPattern,l=Math.abs,c=new r(!0);function h(e){n.call(this,e),this.path=null}h.prototype={constructor:h,type:"path",__dirtyPath:!0,strokeContainThreshold:5,segmentIgnoreThreshold:0,subPixelOptimize:!1,brush:function(e,t){var i,n=this.style,o=this.path||c,r=n.hasStroke(),s=n.hasFill(),l=n.fill,h=n.stroke,u=s&&!!l.colorStops,d=r&&!!h.colorStops,p=s&&!!l.image,g=r&&!!h.image;n.bind(e,this,t),this.setTransform(e),this.__dirty&&(u&&(i=i||this.getBoundingRect(),this._fillGradient=n.getGradient(e,l,i)),d&&(i=i||this.getBoundingRect(),this._strokeGradient=n.getGradient(e,h,i))),u?e.fillStyle=this._fillGradient:p&&(e.fillStyle=a.call(l,e)),d?e.strokeStyle=this._strokeGradient:g&&(e.strokeStyle=a.call(h,e));var f=n.lineDash,m=n.lineDashOffset,_=!!e.setLineDash,v=this.getGlobalScale();if(o.setScale(v[0],v[1],this.segmentIgnoreThreshold),this.__dirtyPath||f&&!_&&r?(o.beginPath(e),f&&!_&&(o.setLineDash(f),o.setLineDashOffset(m)),this.buildPath(o,this.shape,!1),this.path&&(this.__dirtyPath=!1)):(e.beginPath(),this.path.rebuildPath(e)),s)if(null!=n.fillOpacity){var y=e.globalAlpha;e.globalAlpha=n.fillOpacity*n.opacity,o.fill(e),e.globalAlpha=y}else o.fill(e);f&&_&&(e.setLineDash(f),e.lineDashOffset=m),r&&(null!=n.strokeOpacity?(y=e.globalAlpha,e.globalAlpha=n.strokeOpacity*n.opacity,o.stroke(e),e.globalAlpha=y):o.stroke(e)),f&&_&&e.setLineDash([]),null!=n.text&&(this.restoreTransform(e),this.drawRectText(e,this.getBoundingRect()))},buildPath:function(e,t,i){},createPathProxy:function(){this.path=new r},getBoundingRect:function(){var e=this._rect,t=this.style,i=!e;if(i){var n=this.path;n||(n=this.path=new r),this.__dirtyPath&&(n.beginPath(),this.buildPath(n,this.shape,!1)),e=n.getBoundingRect()}if(this._rect=e,t.hasStroke()){var o=this._rectWithStroke||(this._rectWithStroke=e.clone());if(this.__dirty||i){o.copy(e);var s=t.lineWidth,a=t.strokeNoScale?this.getLineScale():1;t.hasFill()||(s=Math.max(s,this.strokeContainThreshold||4)),a>1e-10&&(o.width+=s/a,o.height+=s/a,o.x-=s/a/2,o.y-=s/a/2)}return o}return e},contain:function(e,t){var i=this.transformCoordToLocal(e,t),n=this.getBoundingRect(),o=this.style;if(n.contain(e=i[0],t=i[1])){var r=this.path.data;if(o.hasStroke()){var a=o.lineWidth,l=o.strokeNoScale?this.getLineScale():1;if(l>1e-10&&(o.hasFill()||(a=Math.max(a,this.strokeContainThreshold)),s.containStroke(r,a/l,e,t)))return!0}if(o.hasFill())return s.contain(r,e,t)}return!1},dirty:function(e){null==e&&(e=!0),e&&(this.__dirtyPath=e,this._rect=null),this.__dirty=this.__dirtyText=!0,this.__zr&&this.__zr.refresh(),this.__clipTarget&&this.__clipTarget.dirty()},animateShape:function(e){return this.animate("shape",e)},attrKV:function(e,t){"shape"===e?(this.setShape(t),this.__dirtyPath=!0,this._rect=null):n.prototype.attrKV.call(this,e,t)},setShape:function(e,t){var i=this.shape;if(i){if(o.isObject(e))for(var n in e)e.hasOwnProperty(n)&&(i[n]=e[n]);else i[e]=t;this.dirty(!0)}return this},getLineScale:function(){var e=this.transform;return e&&l(e[0]-1)>1e-10&&l(e[3]-1)>1e-10?Math.sqrt(l(e[0]*e[3]-e[2]*e[1])):1}},h.extend=function(e){var t=function(t){h.call(this,t),e.style&&this.style.extendFrom(e.style,!1);var i=e.shape;if(i){this.shape=this.shape||{};var n=this.shape;for(var o in i)!n.hasOwnProperty(o)&&i.hasOwnProperty(o)&&(n[o]=i[o])}e.init&&e.init.call(this,t)};for(var i in o.inherits(t,h),e)"style"!==i&&"shape"!==i&&(t.prototype[i]=e[i]);return t},o.inherits(h,n),e.exports=h},84182:function(e){var t=function(e,t){this.image=e,this.repeat=t,this.type="pattern"};t.prototype.getCanvasPattern=function(e){return e.createPattern(this.image,this.repeat||"repeat")},e.exports=t},90641:function(e,t,i){var n=i(40628),o=i(89660),r=function(e,t,i,n,r){this.x=null==e?.5:e,this.y=null==t?.5:t,this.r=null==i?.5:i,this.type="radial",this.global=r||!1,o.call(this,n)};r.prototype={constructor:r},n.inherits(r,o),e.exports=r},63554:function(e,t,i){var n=i(24981),o=i(74519).ContextCachedBy,r=[["shadowBlur",0],["shadowOffsetX",0],["shadowOffsetY",0],["shadowColor","#000"],["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]],s=function(e){this.extendFrom(e,!1)};function a(e,t,i){var n=null==t.x?0:t.x,o=null==t.x2?1:t.x2,r=null==t.y?0:t.y,s=null==t.y2?0:t.y2;return t.global||(n=n*i.width+i.x,o=o*i.width+i.x,r=r*i.height+i.y,s=s*i.height+i.y),n=isNaN(n)?0:n,o=isNaN(o)?1:o,r=isNaN(r)?0:r,s=isNaN(s)?0:s,e.createLinearGradient(n,r,o,s)}function l(e,t,i){var n=i.width,o=i.height,r=Math.min(n,o),s=null==t.x?.5:t.x,a=null==t.y?.5:t.y,l=null==t.r?.5:t.r;return t.global||(s=s*n+i.x,a=a*o+i.y,l*=r),e.createRadialGradient(s,a,0,s,a,l)}for(var c=s.prototype={constructor:s,fill:"#000",stroke:null,opacity:1,fillOpacity:null,strokeOpacity:null,lineDash:null,lineDashOffset:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,lineWidth:1,strokeNoScale:!1,text:null,font:null,textFont:null,fontStyle:null,fontWeight:null,fontSize:null,fontFamily:null,textTag:null,textFill:"#000",textStroke:null,textWidth:null,textHeight:null,textStrokeWidth:0,textLineHeight:null,textPosition:"inside",textRect:null,textOffset:null,textAlign:null,textVerticalAlign:null,textDistance:5,textShadowColor:"transparent",textShadowBlur:0,textShadowOffsetX:0,textShadowOffsetY:0,textBoxShadowColor:"transparent",textBoxShadowBlur:0,textBoxShadowOffsetX:0,textBoxShadowOffsetY:0,transformText:!1,textRotation:0,textOrigin:null,textBackgroundColor:null,textBorderColor:null,textBorderWidth:0,textBorderRadius:0,textPadding:null,rich:null,truncate:null,blend:null,bind:function(e,t,i){var s=this,a=i&&i.style,l=!a||e.__attrCachedBy!==o.STYLE_BIND;e.__attrCachedBy=o.STYLE_BIND;for(var c=0;c<r.length;c++){var h=r[c],u=h[0];(l||s[u]!==a[u])&&(e[u]=n(e,u,s[u]||h[1]))}(l||s.fill!==a.fill)&&(e.fillStyle=s.fill),(l||s.stroke!==a.stroke)&&(e.strokeStyle=s.stroke),(l||s.opacity!==a.opacity)&&(e.globalAlpha=null==s.opacity?1:s.opacity),(l||s.blend!==a.blend)&&(e.globalCompositeOperation=s.blend||"source-over"),this.hasStroke()&&(e.lineWidth=s.lineWidth/(this.strokeNoScale&&t&&t.getLineScale?t.getLineScale():1))},hasFill:function(){var e=this.fill;return null!=e&&"none"!==e},hasStroke:function(){var e=this.stroke;return null!=e&&"none"!==e&&this.lineWidth>0},extendFrom:function(e,t){if(e)for(var i in e)e.hasOwnProperty(i)&&(!0===t||(!1===t?!this.hasOwnProperty(i):null!=e[i]))&&(this[i]=e[i])},set:function(e,t){"string"==typeof e?this[e]=t:this.extendFrom(e,!0)},clone:function(){var e=new this.constructor;return e.extendFrom(this,!0),e},getGradient:function(e,t,i){for(var n=("radial"===t.type?l:a)(e,t,i),o=t.colorStops,r=0;r<o.length;r++)n.addColorStop(o[r].offset,o[r].color);return n}},h=0;h<r.length;h++){var u=r[h];u[0]in c||(c[u[0]]=u[1])}s.getGradient=c.getGradient,e.exports=s},48208:function(e,t,i){var n=i(99563),o=i(40628),r=i(71790),s=i(28767),a=i(74519).ContextCachedBy,l=function(e){n.call(this,e)};l.prototype={constructor:l,type:"text",brush:function(e,t){var i=this.style;this.__dirty&&s.normalizeTextStyle(i,!0),i.fill=i.stroke=i.shadowBlur=i.shadowColor=i.shadowOffsetX=i.shadowOffsetY=null;var n=i.text;null!=n&&(n+=""),s.needDrawText(n,i)?(this.setTransform(e),s.renderText(this,e,n,i,null,t),this.restoreTransform(e)):e.__attrCachedBy=a.NONE},getBoundingRect:function(){var e=this.style;if(this.__dirty&&s.normalizeTextStyle(e,!0),!this._rect){var t=e.text;null!=t?t+="":t="";var i=r.getBoundingRect(e.text+"",e.font,e.textAlign,e.textVerticalAlign,e.textPadding,e.textLineHeight,e.rich);if(i.x+=e.x||0,i.y+=e.y||0,s.getStroke(e.textStroke,e.textStrokeWidth)){var n=e.textStrokeWidth;i.x-=n/2,i.y-=n/2,i.width+=n,i.height+=n}this._rect=i}return this._rect}},o.inherits(l,n),e.exports=l},74519:function(e,t){t.ContextCachedBy={NONE:0,STYLE_BIND:1,PLAIN_TEXT:2},t.WILL_BE_RESTORED=9},11326:function(e,t,i){var n=i(10169),o=[["shadowBlur",0],["shadowColor","#000"],["shadowOffsetX",0],["shadowOffsetY",0]];e.exports=function(e){return n.browser.ie&&n.browser.version>=11?function(){var t,i=this.__clipPaths,n=this.style;if(i)for(var r=0;r<i.length;r++){var s=i[r],a=s&&s.shape,l=s&&s.type;if(a&&("sector"===l&&a.startAngle===a.endAngle||"rect"===l&&(!a.width||!a.height))){for(var c=0;c<o.length;c++)o[c][2]=n[o[c][0]],n[o[c][0]]=o[c][1];t=!0;break}}if(e.apply(this,arguments),t)for(c=0;c<o.length;c++)n[o[c][0]]=o[c][2]}:e}},24981:function(e){var t={shadowBlur:1,shadowOffsetX:1,shadowOffsetY:1,textShadowBlur:1,textShadowOffsetX:1,textShadowOffsetY:1,textBoxShadowBlur:1,textBoxShadowOffsetX:1,textBoxShadowOffsetY:1};e.exports=function(e,i,n){return t.hasOwnProperty(i)?n*=e.dpr:n}},36790:function(e,t,i){var n=new(i(67148))(50);function o(){var e=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var t=0;t<e.pending.length;t++){var i=e.pending[t],n=i.cb;n&&n(this,i.cbPayload),i.hostEl.dirty()}e.pending.length=0}function r(e){return e&&e.width&&e.height}t.findExistImage=function(e){if("string"==typeof e){var t=n.get(e);return t&&t.image}return e},t.createOrUpdateImage=function(e,t,i,s,a){if(e){if("string"==typeof e){if(t&&t.__zrImageSrc===e||!i)return t;var l=n.get(e),c={hostEl:i,cb:s,cbPayload:a};return l?!r(t=l.image)&&l.pending.push(c):((t=new Image).onload=t.onerror=o,n.put(e,t.__cachedImgObj={image:t,pending:[c]}),t.src=t.__zrImageSrc=e),t}return e}return t},t.isImageReady=r},47538:function(e,t,i){var n=i(63142),o=i(73194);t.buildPath=function(e,t,i){var r=t.points,s=t.smooth;if(r&&r.length>=2){if(s&&"spline"!==s){var a=o(r,s,i,t.smoothConstraint);e.moveTo(r[0][0],r[0][1]);for(var l=r.length,c=0;c<(i?l:l-1);c++){var h=a[2*c],u=a[2*c+1],d=r[(c+1)%l];e.bezierCurveTo(h[0],h[1],u[0],u[1],d[0],d[1])}}else{"spline"===s&&(r=n(r,i)),e.moveTo(r[0][0],r[0][1]),c=1;for(var p=r.length;c<p;c++)e.lineTo(r[c][0],r[c][1])}i&&e.closePath()}}},80931:function(e,t){t.buildPath=function(e,t){var i,n,o,r,s,a=t.x,l=t.y,c=t.width,h=t.height,u=t.r;c<0&&(a+=c,c=-c),h<0&&(l+=h,h=-h),"number"==typeof u?i=n=o=r=u:u instanceof Array?1===u.length?i=n=o=r=u[0]:2===u.length?(i=o=u[0],n=r=u[1]):3===u.length?(i=u[0],n=r=u[1],o=u[2]):(i=u[0],n=u[1],o=u[2],r=u[3]):i=n=o=r=0,i+n>c&&(i*=c/(s=i+n),n*=c/s),o+r>c&&(o*=c/(s=o+r),r*=c/s),n+o>h&&(n*=h/(s=n+o),o*=h/s),i+r>h&&(i*=h/(s=i+r),r*=h/s),e.moveTo(a+i,l),e.lineTo(a+c-n,l),0!==n&&e.arc(a+c-n,l+n,n,-Math.PI/2,0),e.lineTo(a+c,l+h-o),0!==o&&e.arc(a+c-o,l+h-o,o,0,Math.PI/2),e.lineTo(a+r,l+h),0!==r&&e.arc(a+r,l+h-r,r,Math.PI/2,Math.PI),e.lineTo(a,l+i),0!==i&&e.arc(a+i,l+i,i,Math.PI,1.5*Math.PI)}},73194:function(e,t,i){var n=i(98221),o=n.min,r=n.max,s=n.scale,a=n.distance,l=n.add,c=n.clone,h=n.sub;e.exports=function(e,t,i,n){var u,d,p,g,f=[],m=[],_=[],v=[];if(n){p=[1/0,1/0],g=[-1/0,-1/0];for(var y=0,b=e.length;y<b;y++)o(p,p,e[y]),r(g,g,e[y]);o(p,p,n[0]),r(g,g,n[1])}for(y=0,b=e.length;y<b;y++){var w=e[y];if(i)u=e[y?y-1:b-1],d=e[(y+1)%b];else{if(0===y||y===b-1){f.push(c(e[y]));continue}u=e[y-1],d=e[y+1]}h(m,d,u),s(m,m,t);var A=a(w,u),x=a(w,d),T=A+x;0!==T&&(A/=T,x/=T),s(_,m,-A),s(v,m,x);var C=l([],w,_),Z=l([],w,v);n&&(r(C,C,p),o(C,C,g),r(Z,Z,p),o(Z,Z,g)),f.push(C),f.push(Z)}return i&&f.push(f.shift()),f}},63142:function(e,t,i){var n=i(98221).distance;function o(e,t,i,n,o,r,s){var a=.5*(i-e),l=.5*(n-t);return(2*(t-i)+a+l)*s+(-3*(t-i)-2*a-l)*r+a*o+t}e.exports=function(e,t){for(var i=e.length,r=[],s=0,a=1;a<i;a++)s+=n(e[a-1],e[a]);var l=s/2;for(l=l<i?i:l,a=0;a<l;a++){var c,h,u,d=a/(l-1)*(t?i:i-1),p=Math.floor(d),g=d-p,f=e[p%i];t?(c=e[(p-1+i)%i],h=e[(p+1)%i],u=e[(p+2)%i]):(c=e[0===p?p:p-1],h=e[p>i-2?i-1:p+1],u=e[p>i-3?i-1:p+2]);var m=g*g,_=g*m;r.push([o(c[0],f[0],h[0],u[0],g,m,_),o(c[1],f[1],h[1],u[1],g,m,_)])}return r}},85333:function(e,t){var i=Math.round;function n(e,t,n){if(!t)return e;var o=i(2*e);return(o+i(t))%2==0?o/2:(o+(n?1:-1))/2}t.subPixelOptimizeLine=function(e,t,o){if(t){var r=t.x1,s=t.x2,a=t.y1,l=t.y2;e.x1=r,e.x2=s,e.y1=a,e.y2=l;var c=o&&o.lineWidth;!c||(i(2*r)===i(2*s)&&(e.x1=e.x2=n(r,c,!0)),i(2*a)===i(2*l)&&(e.y1=e.y2=n(a,c,!0)))}},t.subPixelOptimizeRect=function(e,t,i){if(t){var o=t.x,r=t.y,s=t.width,a=t.height;e.x=o,e.y=r,e.width=s,e.height=a;var l=i&&i.lineWidth;!l||(e.x=n(o,l,!0),e.y=n(r,l,!0),e.width=Math.max(n(o+s,l,!1)-e.x,0===s?0:1),e.height=Math.max(n(r+a,l,!1)-e.y,0===a?0:1))}},t.subPixelOptimize=n},28767:function(e,t,i){var n=i(40628),o=n.retrieve2,r=n.retrieve3,s=n.each,a=n.normalizeCssArray,l=n.isString,c=n.isObject,h=i(71790),u=i(80931),d=i(36790),p=i(24981),g=i(74519),f=g.ContextCachedBy,m=g.WILL_BE_RESTORED,_=h.DEFAULT_FONT,v={left:1,right:1,center:1},y={top:1,bottom:1,middle:1},b=[["textShadowBlur","shadowBlur",0],["textShadowOffsetX","shadowOffsetX",0],["textShadowOffsetY","shadowOffsetY",0],["textShadowColor","shadowColor","transparent"]],w={},A={};function x(e){if(e){e.font=h.makeFont(e);var t=e.textAlign;"middle"===t&&(t="center"),e.textAlign=null==t||v[t]?t:"left";var i=e.textVerticalAlign||e.textBaseline;"center"===i&&(i="middle"),e.textVerticalAlign=null==i||y[i]?i:"top",e.textPadding&&(e.textPadding=a(e.textPadding))}}function T(e,t,i,n,o){if(i&&t.textRotation){var r=t.textOrigin;"center"===r?(n=i.width/2+i.x,o=i.height/2+i.y):r&&(n=r[0]+i.x,o=r[1]+i.y),e.translate(n,o),e.rotate(-t.textRotation),e.translate(-n,-o)}}function C(e,t,i,n,s,a,l,c){var h=n.rich[i.styleName]||{};h.text=i.text;var u=i.textVerticalAlign,d=a+s/2;"top"===u?d=a+i.height/2:"bottom"===u&&(d=a+s-i.height/2),!i.isLineHolder&&Z(h)&&k(e,t,h,"right"===c?l-i.width:"center"===c?l-i.width/2:l,d-i.height/2,i.width,i.height);var p=i.textPadding;p&&(l=R(l,c,p),d-=i.height/2-p[2]-i.textHeight/2),M(t,"shadowBlur",r(h.textShadowBlur,n.textShadowBlur,0)),M(t,"shadowColor",h.textShadowColor||n.textShadowColor||"transparent"),M(t,"shadowOffsetX",r(h.textShadowOffsetX,n.textShadowOffsetX,0)),M(t,"shadowOffsetY",r(h.textShadowOffsetY,n.textShadowOffsetY,0)),M(t,"textAlign",c),M(t,"textBaseline","middle"),M(t,"font",i.font||_);var g=O(h.textStroke||n.textStroke,m),f=I(h.textFill||n.textFill),m=o(h.textStrokeWidth,n.textStrokeWidth);g&&(M(t,"lineWidth",m),M(t,"strokeStyle",g),t.strokeText(i.text,l,d)),f&&(M(t,"fillStyle",f),t.fillText(i.text,l,d))}function Z(e){return!!(e.textBackgroundColor||e.textBorderWidth&&e.textBorderColor)}function k(e,t,i,n,o,r,s){var a=i.textBackgroundColor,h=i.textBorderWidth,p=i.textBorderColor,g=l(a);if(M(t,"shadowBlur",i.textBoxShadowBlur||0),M(t,"shadowColor",i.textBoxShadowColor||"transparent"),M(t,"shadowOffsetX",i.textBoxShadowOffsetX||0),M(t,"shadowOffsetY",i.textBoxShadowOffsetY||0),g||h&&p){t.beginPath();var f=i.textBorderRadius;f?u.buildPath(t,{x:n,y:o,width:r,height:s,r:f}):t.rect(n,o,r,s),t.closePath()}if(g)if(M(t,"fillStyle",a),null!=i.fillOpacity){var m=t.globalAlpha;t.globalAlpha=i.fillOpacity*i.opacity,t.fill(),t.globalAlpha=m}else t.fill();else if(c(a)){var _=a.image;(_=d.createOrUpdateImage(_,null,e,S,a))&&d.isImageReady(_)&&t.drawImage(_,n,o,r,s)}h&&p&&(M(t,"lineWidth",h),M(t,"strokeStyle",p),null!=i.strokeOpacity?(m=t.globalAlpha,t.globalAlpha=i.strokeOpacity*i.opacity,t.stroke(),t.globalAlpha=m):t.stroke())}function S(e,t){t.image=e}function E(e,t,i,n){var o=i.x||0,r=i.y||0,s=i.textAlign,a=i.textVerticalAlign;if(n){var l=i.textPosition;if(l instanceof Array)o=n.x+P(l[0],n.width),r=n.y+P(l[1],n.height);else{var c=t&&t.calculateTextPosition?t.calculateTextPosition(w,i,n):h.calculateTextPosition(w,i,n);o=c.x,r=c.y,s=s||c.textAlign,a=a||c.textVerticalAlign}var u=i.textOffset;u&&(o+=u[0],r+=u[1])}return(e=e||{}).baseX=o,e.baseY=r,e.textAlign=s,e.textVerticalAlign=a,e}function M(e,t,i){return e[t]=p(e,t,i),e[t]}function O(e,t){return null==e||t<=0||"transparent"===e||"none"===e?null:e.image||e.colorStops?"#000":e}function I(e){return null==e||"none"===e?null:e.image||e.colorStops?"#000":e}function P(e,t){return"string"==typeof e?e.lastIndexOf("%")>=0?parseFloat(e)/100*t:parseFloat(e):e}function R(e,t,i){return"right"===t?e-i[1]:"center"===t?e+i[3]/2-i[1]/2:e+i[3]}t.normalizeTextStyle=function(e){return x(e),s(e.rich,x),e},t.renderText=function(e,t,i,n,o,r){n.rich?function(e,t,i,n,o,r){r!==m&&(t.__attrCachedBy=f.NONE);var s=e.__textCotentBlock;(!s||e.__dirtyText)&&(s=e.__textCotentBlock=h.parseRichText(i,n)),function(e,t,i,n,o){var r=i.width,s=i.outerWidth,a=i.outerHeight,l=n.textPadding,c=E(A,e,n,o),u=c.baseX,d=c.baseY,p=c.textAlign,g=c.textVerticalAlign;T(t,n,o,u,d);var f=h.adjustTextX(u,s,p),m=h.adjustTextY(d,a,g),_=f,v=m;l&&(_+=l[3],v+=l[0]);var y=_+r;Z(n)&&k(e,t,n,f,m,s,a);for(var b=0;b<i.lines.length;b++){for(var w,x=i.lines[b],S=x.tokens,M=S.length,O=x.lineHeight,I=x.width,P=0,R=_,q=y,L=M-1;P<M&&(!(w=S[P]).textAlign||"left"===w.textAlign);)C(e,t,w,n,O,v,R,"left"),I-=w.width,R+=w.width,P++;for(;L>=0&&"right"===(w=S[L]).textAlign;)C(e,t,w,n,O,v,q,"right"),I-=w.width,q-=w.width,L--;for(R+=(r-(R-_)-(y-q)-I)/2;P<=L;)C(e,t,w=S[P],n,O,v,R+w.width/2,"center"),R+=w.width,P++;v+=O}}(e,t,s,n,o)}(e,t,i,n,o,r):function(e,t,i,n,o,r){"use strict";var s,a=Z(n),l=!1,c=t.__attrCachedBy===f.PLAIN_TEXT;r!==m?(r&&(s=r.style,l=!a&&c&&s),t.__attrCachedBy=a?f.NONE:f.PLAIN_TEXT):c&&(t.__attrCachedBy=f.NONE);var u=n.font||_;(!l||u!==(s.font||_))&&(t.font=u);var d=e.__computedFont;e.__styleFont!==u&&(e.__styleFont=u,d=e.__computedFont=t.font);var g=n.textPadding,v=e.__textCotentBlock;(!v||e.__dirtyText)&&(v=e.__textCotentBlock=h.parsePlainText(i,d,g,n.textLineHeight,n.truncate));var y=v.outerHeight,w=v.lines,x=v.lineHeight,C=E(A,e,n,o),S=C.baseX,M=C.baseY,P=C.textAlign||"left",q=C.textVerticalAlign;T(t,n,o,S,M);var L=h.adjustTextY(M,y,q),U=S,B=L;if(a||g){var D=h.getWidth(i,d);g&&(D+=g[1]+g[3]);var N=h.adjustTextX(S,D,P);a&&k(e,t,n,N,L,D,y),g&&(U=R(S,P,g),B+=g[0])}t.textAlign=P,t.textBaseline="middle",t.globalAlpha=n.opacity||1;for(var F=0;F<b.length;F++){var H=b[F],$=H[0],z=H[1],V=n[$];(!l||V!==s[$])&&(t[z]=p(t,z,V||H[2]))}B+=x/2;var K=n.textStrokeWidth,W=!l||K!==(l?s.textStrokeWidth:null),G=!l||W||n.textStroke!==s.textStroke,Y=O(n.textStroke,K),j=I(n.textFill);if(Y&&(W&&(t.lineWidth=K),G&&(t.strokeStyle=Y)),j&&(!l||n.textFill!==s.textFill)&&(t.fillStyle=j),1===w.length)Y&&t.strokeText(w[0],U,B),j&&t.fillText(w[0],U,B);else for(F=0;F<w.length;F++)Y&&t.strokeText(w[F],U,B),j&&t.fillText(w[F],U,B),B+=x}(e,t,i,n,o,r)},t.getBoxPosition=E,t.getStroke=O,t.getFill=I,t.parsePercent=P,t.needDrawText=function(e,t){return null!=e&&(e||t.textBackgroundColor||t.textBorderWidth&&t.textBorderColor||t.textPadding)}},56868:function(e,t,i){var n=i(28767),o=i(87021),r=i(74519).WILL_BE_RESTORED,s=new o,a=function(){};a.prototype={constructor:a,drawRectText:function(e,t){var i=this.style;t=i.textRect||t,this.__dirty&&n.normalizeTextStyle(i,!0);var o=i.text;if(null!=o&&(o+=""),n.needDrawText(o,i)){e.save();var a=this.transform;i.transformText?this.setTransform(e):a&&(s.copy(t),s.applyTransform(a),t=s),n.renderText(this,e,o,i,t,r),e.restore()}}},e.exports=a},38234:function(e,t,i){var n=i(1419).extend({type:"arc",shape:{cx:0,cy:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},style:{stroke:"#000",fill:null},buildPath:function(e,t){var i=t.cx,n=t.cy,o=Math.max(t.r,0),r=t.startAngle,s=t.endAngle,a=t.clockwise,l=Math.cos(r),c=Math.sin(r);e.moveTo(l*o+i,c*o+n),e.arc(i,n,o,r,s,!a)}});e.exports=n},56146:function(e,t,i){var n=i(1419),o=i(98221),r=i(49969),s=r.quadraticSubdivide,a=r.cubicSubdivide,l=r.quadraticAt,c=r.cubicAt,h=r.quadraticDerivativeAt,u=r.cubicDerivativeAt,d=[];function p(e,t,i){return null===e.cpx2||null===e.cpy2?[(i?u:c)(e.x1,e.cpx1,e.cpx2,e.x2,t),(i?u:c)(e.y1,e.cpy1,e.cpy2,e.y2,t)]:[(i?h:l)(e.x1,e.cpx1,e.x2,t),(i?h:l)(e.y1,e.cpy1,e.y2,t)]}var g=n.extend({type:"bezier-curve",shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(e,t){var i=t.x1,n=t.y1,o=t.x2,r=t.y2,l=t.cpx1,c=t.cpy1,h=t.cpx2,u=t.cpy2,p=t.percent;0!==p&&(e.moveTo(i,n),null==h||null==u?(p<1&&(s(i,l,o,p,d),l=d[1],o=d[2],s(n,c,r,p,d),c=d[1],r=d[2]),e.quadraticCurveTo(l,c,o,r)):(p<1&&(a(i,l,h,o,p,d),l=d[1],h=d[2],o=d[3],a(n,c,u,r,p,d),c=d[1],u=d[2],r=d[3]),e.bezierCurveTo(l,c,h,u,o,r)))},pointAt:function(e){return p(this.shape,e,!1)},tangentAt:function(e){var t=p(this.shape,e,!0);return o.normalize(t,t)}});e.exports=g},69359:function(e,t,i){var n=i(1419).extend({type:"circle",shape:{cx:0,cy:0,r:0},buildPath:function(e,t,i){i&&e.moveTo(t.cx+t.r,t.cy),e.arc(t.cx,t.cy,t.r,0,2*Math.PI,!0)}});e.exports=n},26874:function(e,t,i){var n=i(1419).extend({type:"droplet",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(e,t){var i=t.cx,n=t.cy,o=t.width,r=t.height;e.moveTo(i,n+o),e.bezierCurveTo(i+o,n+o,i+3*o/2,n-o/3,i,n-r),e.bezierCurveTo(i-3*o/2,n-o/3,i-o,n+o,i,n+o),e.closePath()}});e.exports=n},36743:function(e,t,i){var n=i(1419).extend({type:"ellipse",shape:{cx:0,cy:0,rx:0,ry:0},buildPath:function(e,t){var i=.5522848,n=t.cx,o=t.cy,r=t.rx,s=t.ry,a=r*i,l=s*i;e.moveTo(n-r,o),e.bezierCurveTo(n-r,o-l,n-a,o-s,n,o-s),e.bezierCurveTo(n+a,o-s,n+r,o-l,n+r,o),e.bezierCurveTo(n+r,o+l,n+a,o+s,n,o+s),e.bezierCurveTo(n-a,o+s,n-r,o+l,n-r,o),e.closePath()}});e.exports=n},78944:function(e,t,i){var n=i(1419).extend({type:"heart",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(e,t){var i=t.cx,n=t.cy,o=t.width,r=t.height;e.moveTo(i,n),e.bezierCurveTo(i+o/2,n-2*r/3,i+2*o,n+r/3,i,n+r),e.bezierCurveTo(i-2*o,n+r/3,i-o/2,n-2*r/3,i,n)}});e.exports=n},75545:function(e,t,i){var n=i(1419),o=Math.PI,r=Math.sin,s=Math.cos,a=n.extend({type:"isogon",shape:{x:0,y:0,r:0,n:0},buildPath:function(e,t){var i=t.n;if(i&&!(i<2)){var n=t.x,a=t.y,l=t.r,c=2*o/i,h=-o/2;e.moveTo(n+l*s(h),a+l*r(h));for(var u=0,d=i-1;u<d;u++)e.lineTo(n+l*s(h+=c),a+l*r(h));e.closePath()}}});e.exports=a},4110:function(e,t,i){var n=i(1419),o=i(85333).subPixelOptimizeLine,r={},s=n.extend({type:"line",shape:{x1:0,y1:0,x2:0,y2:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(e,t){var i,n,s,a;this.subPixelOptimize?(o(r,t,this.style),i=r.x1,n=r.y1,s=r.x2,a=r.y2):(i=t.x1,n=t.y1,s=t.x2,a=t.y2);var l=t.percent;0!==l&&(e.moveTo(i,n),l<1&&(s=i*(1-l)+s*l,a=n*(1-l)+a*l),e.lineTo(s,a))},pointAt:function(e){var t=this.shape;return[t.x1*(1-e)+t.x2*e,t.y1*(1-e)+t.y2*e]}});e.exports=s},33186:function(e,t,i){var n=i(1419),o=i(47538),r=n.extend({type:"polygon",shape:{points:null,smooth:!1,smoothConstraint:null},buildPath:function(e,t){o.buildPath(e,t,!0)}});e.exports=r},37834:function(e,t,i){var n=i(1419),o=i(47538),r=n.extend({type:"polyline",shape:{points:null,smooth:!1,smoothConstraint:null},style:{stroke:"#000",fill:null},buildPath:function(e,t){o.buildPath(e,t,!1)}});e.exports=r},87145:function(e,t,i){var n=i(1419),o=i(80931),r=i(85333).subPixelOptimizeRect,s={},a=n.extend({type:"rect",shape:{r:0,x:0,y:0,width:0,height:0},buildPath:function(e,t){var i,n,a,l;this.subPixelOptimize?(r(s,t,this.style),i=s.x,n=s.y,a=s.width,l=s.height,s.r=t.r,t=s):(i=t.x,n=t.y,a=t.width,l=t.height),t.r?o.buildPath(e,t):e.rect(i,n,a,l),e.closePath()}});e.exports=a},90495:function(e,t,i){var n=i(1419).extend({type:"ring",shape:{cx:0,cy:0,r:0,r0:0},buildPath:function(e,t){var i=t.cx,n=t.cy,o=2*Math.PI;e.moveTo(i+t.r,n),e.arc(i,n,t.r,0,o,!1),e.moveTo(i+t.r0,n),e.arc(i,n,t.r0,0,o,!0)}});e.exports=n},10137:function(e,t,i){var n=i(1419),o=Math.sin,r=Math.cos,s=Math.PI/180,a=n.extend({type:"rose",shape:{cx:0,cy:0,r:[],k:0,n:1},style:{stroke:"#000",fill:null},buildPath:function(e,t){var i,n,a,l=t.r,c=t.k,h=t.n,u=t.cx,d=t.cy;e.moveTo(u,d);for(var p=0,g=l.length;p<g;p++){a=l[p];for(var f=0;f<=360*h;f++)i=a*o(c/h*f%360*s)*r(f*s)+u,n=a*o(c/h*f%360*s)*o(f*s)+d,e.lineTo(i,n)}}});e.exports=a},14699:function(e,t,i){var n=i(1419),o=i(11326),r=n.extend({type:"sector",shape:{cx:0,cy:0,r0:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},brush:o(n.prototype.brush),buildPath:function(e,t){var i=t.cx,n=t.cy,o=Math.max(t.r0||0,0),r=Math.max(t.r,0),s=t.startAngle,a=t.endAngle,l=t.clockwise,c=Math.cos(s),h=Math.sin(s);e.moveTo(c*o+i,h*o+n),e.lineTo(c*r+i,h*r+n),e.arc(i,n,r,s,a,!l),e.lineTo(Math.cos(a)*o+i,Math.sin(a)*o+n),0!==o&&e.arc(i,n,o,a,s,l),e.closePath()}});e.exports=r},93350:function(e,t,i){var n=i(1419),o=Math.PI,r=Math.cos,s=Math.sin,a=n.extend({type:"star",shape:{cx:0,cy:0,n:3,r0:null,r:0},buildPath:function(e,t){var i=t.n;if(i&&!(i<2)){var n=t.cx,a=t.cy,l=t.r,c=t.r0;null==c&&(c=i>4?l*r(2*o/i)/r(o/i):l/3);var h=o/i,u=-o/2,d=n+l*r(u),p=a+l*s(u);u+=h,e.moveTo(d,p);for(var g,f=0,m=2*i-1;f<m;f++)e.lineTo(n+(g=f%2==0?c:l)*r(u),a+g*s(u)),u+=h;e.closePath()}}});e.exports=a},24397:function(e,t,i){var n=i(1419),o=Math.cos,r=Math.sin,s=n.extend({type:"trochoid",shape:{cx:0,cy:0,r:0,r0:0,d:0,location:"out"},style:{stroke:"#000",fill:null},buildPath:function(e,t){var i,n,s,a,l=t.r,c=t.r0,h=t.d,u=t.cx,d=t.cy,p="out"===t.location?1:-1;if(!(t.location&&l<=c)){var g,f=0,m=1;i=(l+p*c)*o(0)-p*h*o(0)+u,n=(l+p*c)*r(0)-h*r(0)+d,e.moveTo(i,n);do{f++}while(c*f%(l+p*c)!=0);do{g=Math.PI/180*m,s=(l+p*c)*o(g)-p*h*o((l/c+p)*g)+u,a=(l+p*c)*r(g)-h*r((l/c+p)*g)+d,e.lineTo(s,a),m++}while(m<=c*f/(l+p*c)*360)}}});e.exports=s},72204:function(e,t,i){var n=i(27310),o=i(80848),r=i(40628),s=r.isString,a=r.isFunction,l=r.isObject,c=r.isArrayLike,h=r.indexOf,u=function(){this.animators=[]};function d(e,t,i,n,o,r,l,c){s(n)?(r=o,o=n,n=0):a(o)?(r=o,o="linear",n=0):a(n)?(r=n,n=0):a(i)?(r=i,i=500):i||(i=500),e.stopAnimation(),p(e,"",e,t,i,n,c);var h=e.animators.slice(),u=h.length;function d(){--u||r&&r()}u||r&&r();for(var g=0;g<h.length;g++)h[g].done(d).start(o,l)}function p(e,t,i,n,o,r,s){var a={},h=0;for(var u in n)!n.hasOwnProperty(u)||(null!=i[u]?l(n[u])&&!c(n[u])?p(e,t?t+"."+u:u,i[u],n[u],o,r,s):(s?(a[u]=i[u],g(e,t,u,n[u])):a[u]=n[u],h++):null!=n[u]&&!s&&g(e,t,u,n[u]));h>0&&e.animate(t,!1).when(null==o?500:o,a).delay(r||0)}function g(e,t,i,n){if(t){var o={};o[t]={},o[t][i]=n,e.attr(o)}else e.attr(i,n)}u.prototype={constructor:u,animate:function(e,t){var i,r=!1,s=this,a=this.__zr;if(e){var l=e.split("."),c=s;r="shape"===l[0];for(var u=0,d=l.length;u<d;u++)!c||(c=c[l[u]]);c&&(i=c)}else i=s;if(i){var p=s.animators,g=new n(i,t);return g.during(function(e){s.dirty(r)}).done(function(){p.splice(h(p,g),1)}),p.push(g),a&&a.animation.addAnimator(g),g}o('Property "'+e+'" is not existed in element '+s.id)},stopAnimation:function(e){for(var t=this.animators,i=t.length,n=0;n<i;n++)t[n].stop(e);return t.length=0,this},animateTo:function(e,t,i,n,o,r){d(this,e,t,i,n,o,r)},animateFrom:function(e,t,i,n,o,r){d(this,e,t,i,n,o,r,!0)}},e.exports=u},62565:function(e){function t(){this.on("mousedown",this._dragStart,this),this.on("mousemove",this._drag,this),this.on("mouseup",this._dragEnd,this)}function i(e,t){return{target:e,topTarget:t&&t.topTarget}}t.prototype={constructor:t,_dragStart:function(e){for(var t=e.target;t&&!t.draggable;)t=t.parent;t&&(this._draggingTarget=t,t.dragging=!0,this._x=e.offsetX,this._y=e.offsetY,this.dispatchToElement(i(t,e),"dragstart",e.event))},_drag:function(e){var t=this._draggingTarget;if(t){var n=e.offsetX,o=e.offsetY,r=n-this._x,s=o-this._y;this._x=n,this._y=o,t.drift(r,s,e),this.dispatchToElement(i(t,e),"drag",e.event);var a=this.findHover(n,o,t).target,l=this._dropTarget;this._dropTarget=a,t!==a&&(l&&a!==l&&this.dispatchToElement(i(l,e),"dragleave",e.event),a&&a!==l&&this.dispatchToElement(i(a,e),"dragenter",e.event))}},_dragEnd:function(e){var t=this._draggingTarget;t&&(t.dragging=!1),this.dispatchToElement(i(t,e),"dragend",e.event),this._dropTarget&&this.dispatchToElement(i(this._dropTarget,e),"drop",e.event),this._draggingTarget=null,this._dropTarget=null}},e.exports=t},62361:function(e){var t=Array.prototype.slice,i=function(e){this._$handlers={},this._$eventProcessor=e};function n(e,t,i,n,o,r){var s=e._$handlers;if("function"==typeof i&&(o=n,n=i,i=null),!n||!t)return e;i=function(e,t){var i=e._$eventProcessor;return null!=t&&i&&i.normalizeQuery&&(t=i.normalizeQuery(t)),t}(e,i),s[t]||(s[t]=[]);for(var a=0;a<s[t].length;a++)if(s[t][a].h===n)return e;var l={h:n,one:r,query:i,ctx:o||e,callAtLast:n.zrEventfulCallAtLast},c=s[t].length-1,h=s[t][c];return h&&h.callAtLast?s[t].splice(c,0,l):s[t].push(l),e}i.prototype={constructor:i,one:function(e,t,i,o){return n(this,e,t,i,o,!0)},on:function(e,t,i,o){return n(this,e,t,i,o,!1)},isSilent:function(e){var t=this._$handlers;return!t[e]||!t[e].length},off:function(e,t){var i=this._$handlers;if(!e)return this._$handlers={},this;if(t){if(i[e]){for(var n=[],o=0,r=i[e].length;o<r;o++)i[e][o].h!==t&&n.push(i[e][o]);i[e]=n}i[e]&&0===i[e].length&&delete i[e]}else delete i[e];return this},trigger:function(e){var i=this._$handlers[e],n=this._$eventProcessor;if(i){var o=arguments,r=o.length;r>3&&(o=t.call(o,1));for(var s=i.length,a=0;a<s;){var l=i[a];if(n&&n.filter&&null!=l.query&&!n.filter(e,l.query))a++;else{switch(r){case 1:l.h.call(l.ctx);break;case 2:l.h.call(l.ctx,o[1]);break;case 3:l.h.call(l.ctx,o[1],o[2]);break;default:l.h.apply(l.ctx,o)}l.one?(i.splice(a,1),s--):a++}}}return n&&n.afterTrigger&&n.afterTrigger(e),this},triggerWithContext:function(e){var i=this._$handlers[e],n=this._$eventProcessor;if(i){var o=arguments,r=o.length;r>4&&(o=t.call(o,1,o.length-1));for(var s=o[o.length-1],a=i.length,l=0;l<a;){var c=i[l];if(n&&n.filter&&null!=c.query&&!n.filter(e,c.query))l++;else{switch(r){case 1:c.h.call(s);break;case 2:c.h.call(s,o[1]);break;case 3:c.h.call(s,o[1],o[2]);break;default:c.h.apply(s,o)}c.one?(i.splice(l,1),a--):l++}}}return n&&n.afterTrigger&&n.afterTrigger(e),this}},e.exports=i},19358:function(e,t,i){var n=i(3481),o=i(98221),r=n.identity,s=5e-5;function a(e){return e>s||e<-s}var l=function(e){(e=e||{}).position||(this.position=[0,0]),null==e.rotation&&(this.rotation=0),e.scale||(this.scale=[1,1]),this.origin=this.origin||null},c=l.prototype;c.transform=null,c.needLocalTransform=function(){return a(this.rotation)||a(this.position[0])||a(this.position[1])||a(this.scale[0]-1)||a(this.scale[1]-1)};var h=[];c.updateTransform=function(){var e=this.parent,t=e&&e.transform,i=this.needLocalTransform(),o=this.transform;if(i||t){o=o||n.create(),i?this.getLocalTransform(o):r(o),t&&(i?n.mul(o,e.transform,o):n.copy(o,e.transform)),this.transform=o;var s=this.globalScaleRatio;if(null!=s&&1!==s){this.getGlobalScale(h);var a=h[0]<0?-1:1,l=h[1]<0?-1:1,c=((h[0]-a)*s+a)/h[0]||0,u=((h[1]-l)*s+l)/h[1]||0;o[0]*=c,o[1]*=c,o[2]*=u,o[3]*=u}this.invTransform=this.invTransform||n.create(),n.invert(this.invTransform,o)}else o&&r(o)},c.getLocalTransform=function(e){return l.getLocalTransform(this,e)},c.setTransform=function(e){var t=this.transform,i=e.dpr||1;t?e.setTransform(i*t[0],i*t[1],i*t[2],i*t[3],i*t[4],i*t[5]):e.setTransform(i,0,0,i,0,0)},c.restoreTransform=function(e){var t=e.dpr||1;e.setTransform(t,0,0,t,0,0)};var u=[],d=n.create();c.setLocalTransform=function(e){if(e){var t=e[0]*e[0]+e[1]*e[1],i=e[2]*e[2]+e[3]*e[3],n=this.position,o=this.scale;a(t-1)&&(t=Math.sqrt(t)),a(i-1)&&(i=Math.sqrt(i)),e[0]<0&&(t=-t),e[3]<0&&(i=-i),n[0]=e[4],n[1]=e[5],o[0]=t,o[1]=i,this.rotation=Math.atan2(-e[1]/i,e[0]/t)}},c.decomposeTransform=function(){if(this.transform){var e=this.parent,t=this.transform;e&&e.transform&&(n.mul(u,e.invTransform,t),t=u);var i=this.origin;i&&(i[0]||i[1])&&(d[4]=i[0],d[5]=i[1],n.mul(u,t,d),u[4]-=i[0],u[5]-=i[1],t=u),this.setLocalTransform(t)}},c.getGlobalScale=function(e){var t=this.transform;return e=e||[],t?(e[0]=Math.sqrt(t[0]*t[0]+t[1]*t[1]),e[1]=Math.sqrt(t[2]*t[2]+t[3]*t[3]),t[0]<0&&(e[0]=-e[0]),t[3]<0&&(e[1]=-e[1]),e):(e[0]=1,e[1]=1,e)},c.transformCoordToLocal=function(e,t){var i=[e,t],n=this.invTransform;return n&&o.applyTransform(i,i,n),i},c.transformCoordToGlobal=function(e,t){var i=[e,t],n=this.transform;return n&&o.applyTransform(i,i,n),i},l.getLocalTransform=function(e,t){r(t=t||[]);var i=e.origin,o=e.scale||[1,1],s=e.rotation||0,a=e.position||[0,0];return i&&(t[4]-=i[0],t[5]-=i[1]),n.scale(t,t,o),s&&n.rotate(t,t,s),i&&(t[4]+=i[0],t[5]+=i[1]),t[4]+=a[0],t[5]+=a[1],t},e.exports=l},80619:function(e,t,i){var n=i(47953).createElement,o=i(40628),r=i(80848),s=i(1419),a=i(26766),l=i(48208),c=i(11200),h=i(4452),u=i(93656),d=i(38333),p=i(58610),g=p.path,f=p.image,m=p.text;function _(e){return parseInt(e,10)}function v(e){return e instanceof s?g:e instanceof a?f:e instanceof l?m:g}function y(e,t){return t&&e&&t.parentNode!==e}function b(e,t,i){if(y(e,t)&&i){var n=i.nextSibling;n?e.insertBefore(t,n):e.appendChild(t)}}function w(e,t){if(y(e,t)){var i=e.firstChild;i?e.insertBefore(t,i):e.appendChild(t)}}function A(e,t){t&&e&&t.parentNode===e&&e.removeChild(t)}function x(e){return e.__textSvgEl}function T(e){return e.__svgEl}var C=function(e,t,i,r){this.root=e,this.storage=t,this._opts=i=o.extend({},i||{});var s=n("svg");s.setAttribute("xmlns","http://www.w3.org/2000/svg"),s.setAttribute("version","1.1"),s.setAttribute("baseProfile","full"),s.style.cssText="user-select:none;position:absolute;left:0;top:0;";var a=n("g");s.appendChild(a);var l=n("g");s.appendChild(l),this.gradientManager=new h(r,l),this.clipPathManager=new u(r,l),this.shadowManager=new d(r,l);var c=document.createElement("div");c.style.cssText="overflow:hidden;position:relative",this._svgDom=s,this._svgRoot=l,this._backgroundRoot=a,this._viewport=c,e.appendChild(c),c.appendChild(s),this.resize(i.width,i.height),this._visibleList=[]};C.prototype={constructor:C,getType:function(){return"svg"},getViewportRoot:function(){return this._viewport},getSvgDom:function(){return this._svgDom},getSvgRoot:function(){return this._svgRoot},getViewportRootOffset:function(){var e=this.getViewportRoot();if(e)return{offsetLeft:e.offsetLeft||0,offsetTop:e.offsetTop||0}},refresh:function(){var e=this.storage.getDisplayList(!0);this._paintList(e)},setBackgroundColor:function(e){this._backgroundRoot&&this._backgroundNode&&this._backgroundRoot.removeChild(this._backgroundNode);var t=n("rect");t.setAttribute("width",this.getWidth()),t.setAttribute("height",this.getHeight()),t.setAttribute("x",0),t.setAttribute("y",0),t.setAttribute("id",0),t.style.fill=e,this._backgroundRoot.appendChild(t),this._backgroundNode=t},_paintList:function(e){this.gradientManager.markAllUnused(),this.clipPathManager.markAllUnused(),this.shadowManager.markAllUnused();var t,i=this._svgRoot,n=this._visibleList,o=e.length,r=[];for(t=0;t<o;t++){var s=v(g=e[t]),a=T(g)||x(g);g.invisible||(g.__dirty&&(s&&s.brush(g),this.clipPathManager.update(g),g.style&&(this.gradientManager.update(g.style.fill),this.gradientManager.update(g.style.stroke),this.shadowManager.update(a,g)),g.__dirty=!1),r.push(g))}var l,h=c(n,r);for(t=0;t<h.length;t++)if((p=h[t]).removed)for(var u=0;u<p.count;u++){a=T(g=n[p.indices[u]]);var d=x(g);A(i,a),A(i,d)}for(t=0;t<h.length;t++){var p;if((p=h[t]).added)for(u=0;u<p.count;u++)a=T(g=r[p.indices[u]]),d=x(g),l?b(i,a,l):w(i,a),a?b(i,d,a):l?b(i,d,l):w(i,d),b(i,d,a),l=d||a||l,this.gradientManager.addWithoutUpdate(a||d,g),this.shadowManager.addWithoutUpdate(a||d,g),this.clipPathManager.markUsed(g);else if(!p.removed)for(u=0;u<p.count;u++){var g;a=T(g=r[p.indices[u]]),d=x(g),a=T(g),d=x(g),this.gradientManager.markUsed(g),this.gradientManager.addWithoutUpdate(a||d,g),this.shadowManager.markUsed(g),this.shadowManager.addWithoutUpdate(a||d,g),this.clipPathManager.markUsed(g),d&&b(i,d,a),l=a||d||l}}this.gradientManager.removeUnused(),this.clipPathManager.removeUnused(),this.shadowManager.removeUnused(),this._visibleList=r},_getDefs:function(e){var t,i=this._svgDom;return 0===(t=i.getElementsByTagName("defs")).length?e?((t=i.insertBefore(n("defs"),i.firstChild)).contains||(t.contains=function(e){var i=t.children;if(!i)return!1;for(var n=i.length-1;n>=0;--n)if(i[n]===e)return!0;return!1}),t):null:t[0]},resize:function(e,t){var i=this._viewport;i.style.display="none";var n=this._opts;if(null!=e&&(n.width=e),null!=t&&(n.height=t),e=this._getSize(0),t=this._getSize(1),i.style.display="",this._width!==e||this._height!==t){this._width=e,this._height=t;var o=i.style;o.width=e+"px",o.height=t+"px";var r=this._svgDom;r.setAttribute("width",e),r.setAttribute("height",t)}this._backgroundNode&&(this._backgroundNode.setAttribute("width",e),this._backgroundNode.setAttribute("height",t))},getWidth:function(){return this._width},getHeight:function(){return this._height},_getSize:function(e){var t=this._opts,i=["width","height"][e],n=["clientWidth","clientHeight"][e],o=["paddingLeft","paddingTop"][e],r=["paddingRight","paddingBottom"][e];if(null!=t[i]&&"auto"!==t[i])return parseFloat(t[i]);var s=this.root,a=document.defaultView.getComputedStyle(s);return(s[n]||_(a[i])||_(s.style[i]))-(_(a[o])||0)-(_(a[r])||0)|0},dispose:function(){this.root.innerHTML="",this._svgRoot=this._backgroundRoot=this._svgDom=this._backgroundNode=this._viewport=this.storage=null},clear:function(){this._viewport&&this.root.removeChild(this._viewport)},toDataURL:function(){return this.refresh(),"data:image/svg+xml;charset=UTF-8,"+encodeURIComponent(this._svgDom.outerHTML.replace(/></g,">\n\r<"))}},o.each(["getLayer","insertLayer","eachLayer","eachBuiltinLayer","eachOtherLayer","getLayers","modLayer","delLayer","clearLayer","pathToImage"],function(e){C.prototype[e]=function(e){return function(){r('In SVG mode painter not support method "'+e+'"')}}(e)}),e.exports=C},47953:function(e,t){t.createElement=function(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}},58610:function(e,t,i){var n=i(47953).createElement,o=i(17349),r=i(87021),s=i(3481),a=i(71790),l=i(28767),c=i(48208),h=o.CMD,u=Array.prototype.join,d="none",p=Math.round,g=Math.sin,f=Math.cos,m=Math.PI,_=2*Math.PI,v=180/m,y=1e-4;function b(e){return p(1e4*e)/1e4}function w(e){return e<y&&e>-y}function A(e,t){t&&x(e,"transform","matrix("+u.call(t,",")+")")}function x(e,t,i){(!i||"linear"!==i.type&&"radial"!==i.type)&&e.setAttribute(t,i)}function T(e,t,i,n){if(function(e,t){var i=t?e.textFill:e.fill;return null!=i&&i!==d}(t,i)){var o=i?t.textFill:t.fill;x(e,"fill",o="transparent"===o?d:o),x(e,"fill-opacity",null!=t.fillOpacity?t.fillOpacity*t.opacity:t.opacity)}else x(e,"fill",d);if(function(e,t){var i=t?e.textStroke:e.stroke;return null!=i&&i!==d}(t,i)){var r=i?t.textStroke:t.stroke;x(e,"stroke",r="transparent"===r?d:r),x(e,"stroke-width",(i?t.textStrokeWidth:t.lineWidth)/(!i&&t.strokeNoScale?n.getLineScale():1)),x(e,"paint-order",i?"stroke":"fill"),x(e,"stroke-opacity",null!=t.strokeOpacity?t.strokeOpacity:t.opacity),t.lineDash?(x(e,"stroke-dasharray",t.lineDash.join(",")),x(e,"stroke-dashoffset",p(t.lineDashOffset||0))):x(e,"stroke-dasharray",""),t.lineCap&&x(e,"stroke-linecap",t.lineCap),t.lineJoin&&x(e,"stroke-linejoin",t.lineJoin),t.miterLimit&&x(e,"stroke-miterlimit",t.miterLimit)}else x(e,"stroke",d)}var C={brush:function(e){var t=e.style,i=e.__svgEl;i||(i=n("path"),e.__svgEl=i),e.path||e.createPathProxy();var o=e.path;if(e.__dirtyPath){o.beginPath(),o.subPixelOptimize=!1,e.buildPath(o,e.shape),e.__dirtyPath=!1;var r=function(e){for(var t=[],i=e.data,n=e.len(),o=0;o<n;){var r="",s=0;switch(i[o++]){case h.M:r="M",s=2;break;case h.L:r="L",s=2;break;case h.Q:r="Q",s=4;break;case h.C:r="C",s=6;break;case h.A:var a=i[o++],l=i[o++],c=i[o++],u=i[o++],d=i[o++],y=i[o++],A=i[o++],x=i[o++],T=Math.abs(y),C=w(T-_)||(x?y>=_:-y>=_),Z=y>0?y%_:y%_+_,k=!1;k=!!C||!w(T)&&Z>=m==!!x;var S=b(a+c*f(d)),E=b(l+u*g(d));C&&(y=x?_-1e-4:1e-4-_,k=!0,9===o&&t.push("M",S,E));var M=b(a+c*f(d+y)),O=b(l+u*g(d+y));t.push("A",b(c),b(u),p(A*v),+k,+x,M,O);break;case h.Z:r="Z";break;case h.R:M=b(i[o++]),O=b(i[o++]);var I=b(i[o++]),P=b(i[o++]);t.push("M",M,O,"L",M+I,O,"L",M+I,O+P,"L",M,O+P,"L",M,O)}r&&t.push(r);for(var R=0;R<s;R++)t.push(b(i[o++]))}return t.join(" ")}(o);r.indexOf("NaN")<0&&x(i,"d",r)}T(i,t,!1,e),A(i,e.transform),null!=t.text?I(e,e.getBoundingRect()):R(e)}},Z={brush:function(e){var t=e.style,i=t.image;if(i instanceof HTMLImageElement&&(i=i.src),i){var o=t.x||0,r=t.y||0,s=t.width,a=t.height,l=e.__svgEl;l||(l=n("image"),e.__svgEl=l),i!==e.__imageSrc&&(function(e,t,i){e.setAttributeNS("http://www.w3.org/1999/xlink","href",i)}(l,0,i),e.__imageSrc=i),x(l,"width",s),x(l,"height",a),x(l,"x",o),x(l,"y",r),A(l,e.transform),null!=t.text?I(e,e.getBoundingRect()):R(e)}}},k={},S=new r,E={},M=[],O={left:"start",right:"end",center:"middle",middle:"middle"},I=function(e,t){var i=e.style,o=e.transform,r=e instanceof c||i.transformText;e.__dirty&&l.normalizeTextStyle(i,!0);var h=i.text;if(null!=h&&(h+=""),l.needDrawText(h,i)){null==h&&(h=""),!r&&o&&(S.copy(t),S.applyTransform(o),t=S);var u=e.__textSvgEl;u||(u=n("text"),e.__textSvgEl=u);var d=u.style,p=i.font||a.DEFAULT_FONT,g=u.__computedFont;p!==u.__styleFont&&(d.font=u.__styleFont=p,g=u.__computedFont=d.font);var f=i.textPadding,m=e.__textCotentBlock;(!m||e.__dirtyText)&&(m=e.__textCotentBlock=a.parsePlainText(h,g,f,i.textLineHeight,i.truncate));var _=m.outerHeight,v=m.lineHeight;l.getBoxPosition(E,e,i,t);var y=E.baseX,b=E.baseY,w=E.textAlign||"left",x=E.textVerticalAlign;!function(e,t,i,n,o,r,a){s.identity(M),t&&i&&s.copy(M,i);var l=n.textRotation;if(o&&l){var c=n.textOrigin;"center"===c?(r=o.width/2+o.x,a=o.height/2+o.y):c&&(r=c[0]+o.x,a=c[1]+o.y),M[4]-=r,M[5]-=a,s.rotate(M,M,l),M[4]+=r,M[5]+=a}A(e,M)}(u,r,o,i,t,y,b);var C=y,Z=a.adjustTextY(b,_,x);f&&(C=function(e,t,i){return"right"===t?e-i[1]:"center"===t?e+i[3]/2-i[1]/2:e+i[3]}(y,w,f),Z+=f[0]),Z+=v/2,T(u,i,!0,e);var k=m.canCacheByTextString,O=e.__tspanList||(e.__tspanList=[]),I=O.length;if(k&&e.__canCacheByTextString&&e.__text===h){if(e.__dirtyText&&I)for(var R=0;R<I;++R)P(O[R],w,C,Z+R*v)}else{e.__text=h,e.__canCacheByTextString=k;var q=m.lines,L=q.length;for(R=0;R<L;R++){var U=O[R],B=q[R];U?U.__zrText!==B&&(U.innerHTML="",U.appendChild(document.createTextNode(B))):(U=O[R]=n("tspan"),u.appendChild(U),U.appendChild(document.createTextNode(B))),P(U,w,C,Z+R*v)}if(I>L){for(;R<I;R++)u.removeChild(O[R]);O.length=L}}}};function P(e,t,i,n){x(e,"dominant-baseline","middle"),x(e,"text-anchor",O[t]),x(e,"x",i),x(e,"y",n)}function R(e){e&&e.__textSvgEl&&(e.__textSvgEl.parentNode&&e.__textSvgEl.parentNode.removeChild(e.__textSvgEl),e.__textSvgEl=null,e.__tspanList=[],e.__text=null)}k.drawRectText=I,k.brush=function(e){null!=e.style.text?I(e,!1):R(e)},t.path=C,t.image=Z,t.text=k},93656:function(e,t,i){var n=i(54023),o=i(40628),r=i(3481);function s(e,t){n.call(this,e,t,"clipPath","__clippath_in_use__")}o.inherits(s,n),s.prototype.update=function(e){var t=this.getSvgElement(e);t&&this.updateDom(t,e.__clipPaths,!1);var i=this.getTextSvgElement(e);i&&this.updateDom(i,e.__clipPaths,!0),this.markUsed(e)},s.prototype.updateDom=function(e,t,i){if(t&&t.length>0){var n,o,s=this.getDefs(!0),a=t[0],l=i?"_textDom":"_dom";a[l]?(o=a[l].getAttribute("id"),s.contains(n=a[l])||s.appendChild(n)):(o="zr"+this._zrId+"-clip-"+this.nextId,++this.nextId,(n=this.createElement("clipPath")).setAttribute("id",o),s.appendChild(n),a[l]=n);var c=this.getSvgProxy(a);if(a.transform&&a.parent.invTransform&&!i){var h=Array.prototype.slice.call(a.transform);r.mul(a.transform,a.parent.invTransform,a.transform),c.brush(a),a.transform=h}else c.brush(a);var u=this.getSvgElement(a);n.innerHTML="",n.appendChild(u.cloneNode()),e.setAttribute("clip-path","url(#"+o+")"),t.length>1&&this.updateDom(n,t.slice(1),i)}else e&&e.setAttribute("clip-path","none")},s.prototype.markUsed=function(e){var t=this;e.__clipPaths&&o.each(e.__clipPaths,function(e){e._dom&&n.prototype.markUsed.call(t,e._dom),e._textDom&&n.prototype.markUsed.call(t,e._textDom)})},e.exports=s},54023:function(e,t,i){var n=i(47953).createElement,o=i(40628),r=i(1419),s=i(26766),a=i(48208),l=i(58610),c=l.path,h=l.image,u=l.text;function d(e,t,i,n,o){this._zrId=e,this._svgRoot=t,this._tagNames="string"==typeof i?[i]:i,this._markLabel=n,this._domName=o||"_dom",this.nextId=0}d.prototype.createElement=n,d.prototype.getDefs=function(e){var t=this._svgRoot,i=this._svgRoot.getElementsByTagName("defs");return 0===i.length?e?((i=t.insertBefore(this.createElement("defs"),t.firstChild)).contains||(i.contains=function(e){var t=i.children;if(!t)return!1;for(var n=t.length-1;n>=0;--n)if(t[n]===e)return!0;return!1}),i):null:i[0]},d.prototype.update=function(e,t){if(e){var i=this.getDefs(!1);if(e[this._domName]&&i.contains(e[this._domName]))"function"==typeof t&&t(e);else{var n=this.add(e);n&&(e[this._domName]=n)}}},d.prototype.addDom=function(e){this.getDefs(!0).appendChild(e)},d.prototype.removeDom=function(e){var t=this.getDefs(!1);t&&e[this._domName]&&(t.removeChild(e[this._domName]),e[this._domName]=null)},d.prototype.getDoms=function(){var e=this.getDefs(!1);if(!e)return[];var t=[];return o.each(this._tagNames,function(i){var n=e.getElementsByTagName(i);t=t.concat([].slice.call(n))}),t},d.prototype.markAllUnused=function(){var e=this.getDoms(),t=this;o.each(e,function(e){e[t._markLabel]="0"})},d.prototype.markUsed=function(e){e&&(e[this._markLabel]="1")},d.prototype.removeUnused=function(){var e=this.getDefs(!1);if(e){var t=this.getDoms(),i=this;o.each(t,function(t){"1"!==t[i._markLabel]&&e.removeChild(t)})}},d.prototype.getSvgProxy=function(e){return e instanceof r?c:e instanceof s?h:e instanceof a?u:c},d.prototype.getTextSvgElement=function(e){return e.__textSvgEl},d.prototype.getSvgElement=function(e){return e.__svgEl},e.exports=d},4452:function(e,t,i){var n=i(54023),o=i(40628),r=i(80848),s=i(10312);function a(e,t){n.call(this,e,t,["linearGradient","radialGradient"],"__gradient_in_use__")}o.inherits(a,n),a.prototype.addWithoutUpdate=function(e,t){if(t&&t.style){var i=this;o.each(["fill","stroke"],function(n){if(t.style[n]&&("linear"===t.style[n].type||"radial"===t.style[n].type)){var o,r=t.style[n],s=i.getDefs(!0);r._dom?(o=r._dom,s.contains(r._dom)||i.addDom(o)):o=i.add(r),i.markUsed(t);var a=o.getAttribute("id");e.setAttribute(n,"url(#"+a+")")}})}},a.prototype.add=function(e){var t;if("linear"===e.type)t=this.createElement("linearGradient");else{if("radial"!==e.type)return r("Illegal gradient type."),null;t=this.createElement("radialGradient")}return e.id=e.id||this.nextId++,t.setAttribute("id","zr"+this._zrId+"-gradient-"+e.id),this.updateDom(e,t),this.addDom(t),t},a.prototype.update=function(e){var t=this;n.prototype.update.call(this,e,function(){var i=e.type,n=e._dom.tagName;"linear"===i&&"linearGradient"===n||"radial"===i&&"radialGradient"===n?t.updateDom(e,e._dom):(t.removeDom(e),t.add(e))})},a.prototype.updateDom=function(e,t){if("linear"===e.type)t.setAttribute("x1",e.x),t.setAttribute("y1",e.y),t.setAttribute("x2",e.x2),t.setAttribute("y2",e.y2);else{if("radial"!==e.type)return void r("Illegal gradient type.");t.setAttribute("cx",e.x),t.setAttribute("cy",e.y),t.setAttribute("r",e.r)}t.setAttribute("gradientUnits",e.global?"userSpaceOnUse":"objectBoundingBox"),t.innerHTML="";for(var i=e.colorStops,n=0,o=i.length;n<o;++n){var a=this.createElement("stop");a.setAttribute("offset",100*i[n].offset+"%");var l=i[n].color;if(l.indexOf("rgba")>-1){var c=s.parse(l)[3],h=s.toHex(l);a.setAttribute("stop-color","#"+h),a.setAttribute("stop-opacity",c)}else a.setAttribute("stop-color",i[n].color);t.appendChild(a)}e._dom=t},a.prototype.markUsed=function(e){if(e.style){var t=e.style.fill;t&&t._dom&&n.prototype.markUsed.call(this,t._dom),(t=e.style.stroke)&&t._dom&&n.prototype.markUsed.call(this,t._dom)}},e.exports=a},38333:function(e,t,i){var n=i(54023);function o(e,t){n.call(this,e,t,["filter"],"__filter_in_use__","_shadowDom")}function r(e){return e&&(e.shadowBlur||e.shadowOffsetX||e.shadowOffsetY||e.textShadowBlur||e.textShadowOffsetX||e.textShadowOffsetY)}i(40628).inherits(o,n),o.prototype.addWithoutUpdate=function(e,t){if(t&&r(t.style)){var i;t._shadowDom?(i=t._shadowDom,this.getDefs(!0).contains(t._shadowDom)||this.addDom(i)):i=this.add(t),this.markUsed(t);var n=i.getAttribute("id");e.style.filter="url(#"+n+")"}},o.prototype.add=function(e){var t=this.createElement("filter");return e._shadowDomId=e._shadowDomId||this.nextId++,t.setAttribute("id","zr"+this._zrId+"-shadow-"+e._shadowDomId),this.updateDom(e,t),this.addDom(t),t},o.prototype.update=function(e,t){if(r(t.style)){var i=this;n.prototype.update.call(this,t,function(){i.updateDom(t,t._shadowDom)})}else this.remove(e,t)},o.prototype.remove=function(e,t){null!=t._shadowDomId&&(this.removeDom(e),e.style.filter="")},o.prototype.updateDom=function(e,t){var i=t.getElementsByTagName("feDropShadow");i=0===i.length?this.createElement("feDropShadow"):i[0];var n,o,r,s,a=e.style,l=e.scale&&e.scale[0]||1,c=e.scale&&e.scale[1]||1;if(a.shadowBlur||a.shadowOffsetX||a.shadowOffsetY)n=a.shadowOffsetX||0,o=a.shadowOffsetY||0,r=a.shadowBlur,s=a.shadowColor;else{if(!a.textShadowBlur)return void this.removeDom(t,a);n=a.textShadowOffsetX||0,o=a.textShadowOffsetY||0,r=a.textShadowBlur,s=a.textShadowColor}i.setAttribute("dx",n/l),i.setAttribute("dy",o/c),i.setAttribute("flood-color",s),i.setAttribute("stdDeviation",r/2/l+" "+r/2/c),t.setAttribute("x","-100%"),t.setAttribute("y","-100%"),t.setAttribute("width",Math.ceil(r/2*200)+"%"),t.setAttribute("height",Math.ceil(r/2*200)+"%"),t.appendChild(i),e._shadowDom=t},o.prototype.markUsed=function(e){e._shadowDom&&n.prototype.markUsed.call(this,e._shadowDom)},e.exports=o},79100:function(e,t,i){i(58610),(0,i(56037).registerPainter)("svg",i(80619))},10312:function(e,t,i){var n=i(67148),o={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function r(e){return(e=Math.round(e))<0?0:e>255?255:e}function s(e){return e<0?0:e>1?1:e}function a(e){return e.length&&"%"===e.charAt(e.length-1)?r(parseFloat(e)/100*255):r(parseInt(e,10))}function l(e){return e.length&&"%"===e.charAt(e.length-1)?s(parseFloat(e)/100):s(parseFloat(e))}function c(e,t,i){return i<0?i+=1:i>1&&(i-=1),6*i<1?e+(t-e)*i*6:2*i<1?t:3*i<2?e+(t-e)*(2/3-i)*6:e}function h(e,t,i){return e+(t-e)*i}function u(e,t,i,n,o){return e[0]=t,e[1]=i,e[2]=n,e[3]=o,e}function d(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}var p=new n(20),g=null;function f(e,t){g&&d(g,t),g=p.put(e,g||t.slice())}function m(e,t){if(e){t=t||[];var i=p.get(e);if(i)return d(t,i);var n,r=(e+="").replace(/ /g,"").toLowerCase();if(r in o)return d(t,o[r]),f(e,t),t;if("#"===r.charAt(0))return 4===r.length?(n=parseInt(r.substr(1),16))>=0&&n<=4095?(u(t,(3840&n)>>4|(3840&n)>>8,240&n|(240&n)>>4,15&n|(15&n)<<4,1),f(e,t),t):void u(t,0,0,0,1):7===r.length?(n=parseInt(r.substr(1),16))>=0&&n<=16777215?(u(t,(16711680&n)>>16,(65280&n)>>8,255&n,1),f(e,t),t):void u(t,0,0,0,1):void 0;var s=r.indexOf("("),c=r.indexOf(")");if(-1!==s&&c+1===r.length){var h=r.substr(0,s),g=r.substr(s+1,c-(s+1)).split(","),m=1;switch(h){case"rgba":if(4!==g.length)return void u(t,0,0,0,1);m=l(g.pop());case"rgb":return 3!==g.length?void u(t,0,0,0,1):(u(t,a(g[0]),a(g[1]),a(g[2]),m),f(e,t),t);case"hsla":return 4!==g.length?void u(t,0,0,0,1):(g[3]=l(g[3]),_(g,t),f(e,t),t);case"hsl":return 3!==g.length?void u(t,0,0,0,1):(_(g,t),f(e,t),t);default:return}}u(t,0,0,0,1)}}function _(e,t){var i=(parseFloat(e[0])%360+360)%360/360,n=l(e[1]),o=l(e[2]),s=o<=.5?o*(n+1):o+n-o*n,a=2*o-s;return u(t=t||[],r(255*c(a,s,i+1/3)),r(255*c(a,s,i)),r(255*c(a,s,i-1/3)),1),4===e.length&&(t[3]=e[3]),t}function v(e,t,i){if(t&&t.length&&e>=0&&e<=1){i=i||[];var n=e*(t.length-1),o=Math.floor(n),a=Math.ceil(n),l=t[o],c=t[a],u=n-o;return i[0]=r(h(l[0],c[0],u)),i[1]=r(h(l[1],c[1],u)),i[2]=r(h(l[2],c[2],u)),i[3]=s(h(l[3],c[3],u)),i}}var y=v;function b(e,t,i){if(t&&t.length&&e>=0&&e<=1){var n=e*(t.length-1),o=Math.floor(n),a=Math.ceil(n),l=m(t[o]),c=m(t[a]),u=n-o,d=A([r(h(l[0],c[0],u)),r(h(l[1],c[1],u)),r(h(l[2],c[2],u)),s(h(l[3],c[3],u))],"rgba");return i?{color:d,leftIndex:o,rightIndex:a,value:n}:d}}var w=b;function A(e,t){if(e&&e.length){var i=e[0]+","+e[1]+","+e[2];return("rgba"===t||"hsva"===t||"hsla"===t)&&(i+=","+e[3]),t+"("+i+")"}}t.parse=m,t.lift=function(e,t){var i=m(e);if(i){for(var n=0;n<3;n++)i[n]=t<0?i[n]*(1-t)|0:(255-i[n])*t+i[n]|0,i[n]>255?i[n]=255:e[n]<0&&(i[n]=0);return A(i,4===i.length?"rgba":"rgb")}},t.toHex=function(e){var t=m(e);if(t)return((1<<24)+(t[0]<<16)+(t[1]<<8)+ +t[2]).toString(16).slice(1)},t.fastLerp=v,t.fastMapToColor=y,t.lerp=b,t.mapToColor=w,t.modifyHSL=function(e,t,i,n){if(e=m(e))return e=function(e){if(e){var t,i,n=e[0]/255,o=e[1]/255,r=e[2]/255,s=Math.min(n,o,r),a=Math.max(n,o,r),l=a-s,c=(a+s)/2;if(0===l)t=0,i=0;else{i=c<.5?l/(a+s):l/(2-a-s);var h=((a-n)/6+l/2)/l,u=((a-o)/6+l/2)/l,d=((a-r)/6+l/2)/l;n===a?t=d-u:o===a?t=1/3+h-d:r===a&&(t=2/3+u-h),t<0&&(t+=1),t>1&&(t-=1)}var p=[360*t,i,c];return null!=e[3]&&p.push(e[3]),p}}(e),null!=t&&(e[0]=function(e){return(e=Math.round(e))<0?0:e>360?360:e}(t)),null!=i&&(e[1]=l(i)),null!=n&&(e[2]=l(n)),A(_(e),"rgba")},t.modifyAlpha=function(e,t){if((e=m(e))&&null!=t)return e[3]=s(t),A(e,"rgba")},t.stringify=A},9641:function(e,t,i){var n=i(1805),o=i(26766),r=i(48208),s=i(69359),a=i(87145),l=i(36743),c=i(4110),h=i(1419),u=i(33186),d=i(37834),p=i(45910),g=i(63554),f=i(3481),m=i(38532).createFromString,_=i(40628),v=_.isString,y=_.extend,b=_.defaults,w=_.trim,A=_.each,x=/[\s,]+/;function T(e){for(v(e)&&(e=(new DOMParser).parseFromString(e,"text/xml")),9===e.nodeType&&(e=e.firstChild);"svg"!==e.nodeName.toLowerCase()||1!==e.nodeType;)e=e.nextSibling;return e}function C(){this._defs={},this._root=null,this._isDefine=!1,this._isText=!1}C.prototype.parse=function(e,t){t=t||{};var i=T(e);if(!i)throw new Error("Illegal svg");var o=new n;this._root=o;var r,s,l=i.getAttribute("viewBox")||"",c=parseFloat(i.getAttribute("width")||t.width),h=parseFloat(i.getAttribute("height")||t.height);isNaN(c)&&(c=null),isNaN(h)&&(h=null),O(i,o,null,!0);for(var u=i.firstChild;u;)this._parseNode(u,o),u=u.nextSibling;if(l){var d=w(l).split(x);d.length>=4&&(r={x:parseFloat(d[0]||0),y:parseFloat(d[1]||0),width:parseFloat(d[2]),height:parseFloat(d[3])})}if(r&&null!=c&&null!=h&&(s=L(r,c,h),!t.ignoreViewBox)){var p=o;(o=new n).add(p),p.scale=s.scale.slice(),p.position=s.position.slice()}return!t.ignoreRootClip&&null!=c&&null!=h&&o.setClipPath(new a({shape:{x:0,y:0,width:c,height:h}})),{root:o,width:c,height:h,viewBoxRect:r,viewBoxTransform:s}},C.prototype._parseNode=function(e,t){var i,n,o=e.nodeName.toLowerCase();if("defs"===o?this._isDefine=!0:"text"===o&&(this._isText=!0),this._isDefine){if(n=k[o]){var r=n.call(this,e),s=e.getAttribute("id");s&&(this._defs[s]=r)}}else(n=Z[o])&&(i=n.call(this,e,t),t.add(i));for(var a=e.firstChild;a;)1===a.nodeType&&this._parseNode(a,i),3===a.nodeType&&this._isText&&this._parseText(a,i),a=a.nextSibling;"defs"===o?this._isDefine=!1:"text"===o&&(this._isText=!1)},C.prototype._parseText=function(e,t){if(1===e.nodeType){var i=e.getAttribute("dx")||0,n=e.getAttribute("dy")||0;this._textX+=parseFloat(i),this._textY+=parseFloat(n)}var o=new r({style:{text:e.textContent,transformText:!0},position:[this._textX||0,this._textY||0]});S(t,o),O(e,o,this._defs);var s=o.style.fontSize;s&&s<9&&(o.style.fontSize=9,o.scale=o.scale||[1,1],o.scale[0]*=s/9,o.scale[1]*=s/9);var a=o.getBoundingRect();return this._textX+=a.width,t.add(o),o};var Z={g:function(e,t){var i=new n;return S(t,i),O(e,i,this._defs),i},rect:function(e,t){var i=new a;return S(t,i),O(e,i,this._defs),i.setShape({x:parseFloat(e.getAttribute("x")||0),y:parseFloat(e.getAttribute("y")||0),width:parseFloat(e.getAttribute("width")||0),height:parseFloat(e.getAttribute("height")||0)}),i},circle:function(e,t){var i=new s;return S(t,i),O(e,i,this._defs),i.setShape({cx:parseFloat(e.getAttribute("cx")||0),cy:parseFloat(e.getAttribute("cy")||0),r:parseFloat(e.getAttribute("r")||0)}),i},line:function(e,t){var i=new c;return S(t,i),O(e,i,this._defs),i.setShape({x1:parseFloat(e.getAttribute("x1")||0),y1:parseFloat(e.getAttribute("y1")||0),x2:parseFloat(e.getAttribute("x2")||0),y2:parseFloat(e.getAttribute("y2")||0)}),i},ellipse:function(e,t){var i=new l;return S(t,i),O(e,i,this._defs),i.setShape({cx:parseFloat(e.getAttribute("cx")||0),cy:parseFloat(e.getAttribute("cy")||0),rx:parseFloat(e.getAttribute("rx")||0),ry:parseFloat(e.getAttribute("ry")||0)}),i},polygon:function(e,t){var i=e.getAttribute("points");i&&(i=E(i));var n=new u({shape:{points:i||[]}});return S(t,n),O(e,n,this._defs),n},polyline:function(e,t){var i=new h;S(t,i),O(e,i,this._defs);var n=e.getAttribute("points");return n&&(n=E(n)),new d({shape:{points:n||[]}})},image:function(e,t){var i=new o;return S(t,i),O(e,i,this._defs),i.setStyle({image:e.getAttribute("xlink:href"),x:e.getAttribute("x"),y:e.getAttribute("y"),width:e.getAttribute("width"),height:e.getAttribute("height")}),i},text:function(e,t){var i=e.getAttribute("x")||0,o=e.getAttribute("y")||0,r=e.getAttribute("dx")||0,s=e.getAttribute("dy")||0;this._textX=parseFloat(i)+parseFloat(r),this._textY=parseFloat(o)+parseFloat(s);var a=new n;return S(t,a),O(e,a,this._defs),a},tspan:function(e,t){var i=e.getAttribute("x"),o=e.getAttribute("y");null!=i&&(this._textX=parseFloat(i)),null!=o&&(this._textY=parseFloat(o));var r=e.getAttribute("dx")||0,s=e.getAttribute("dy")||0,a=new n;return S(t,a),O(e,a,this._defs),this._textX+=r,this._textY+=s,a},path:function(e,t){var i=e.getAttribute("d")||"",n=m(i);return S(t,n),O(e,n,this._defs),n}},k={lineargradient:function(e){var t=parseInt(e.getAttribute("x1")||0,10),i=parseInt(e.getAttribute("y1")||0,10),n=parseInt(e.getAttribute("x2")||10,10),o=parseInt(e.getAttribute("y2")||0,10),r=new p(t,i,n,o);return function(e,t){for(var i=e.firstChild;i;){if(1===i.nodeType){var n=i.getAttribute("offset");n=n.indexOf("%")>0?parseInt(n,10)/100:n?parseFloat(n):0;var o=i.getAttribute("stop-color")||"#000000";t.addColorStop(n,o)}i=i.nextSibling}}(e,r),r},radialgradient:function(e){}};function S(e,t){e&&e.__inheritedStyle&&(t.__inheritedStyle||(t.__inheritedStyle={}),b(t.__inheritedStyle,e.__inheritedStyle))}function E(e){for(var t=w(e).split(x),i=[],n=0;n<t.length;n+=2){var o=parseFloat(t[n]),r=parseFloat(t[n+1]);i.push([o,r])}return i}var M={fill:"fill",stroke:"stroke","stroke-width":"lineWidth",opacity:"opacity","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","text-align":"textAlign","alignment-baseline":"textBaseline"};function O(e,t,i,n){var o=t.__inheritedStyle||{},r="text"===t.type;if(1===e.nodeType&&(function(e,t){var i=e.getAttribute("transform");if(i){i=i.replace(/,/g," ");var n=null,o=[];i.replace(R,function(e,t,i){o.push(t,i)});for(var r=o.length-1;r>0;r-=2){var s=o[r],a=o[r-1];switch(n=n||f.create(),a){case"translate":s=w(s).split(x),f.translate(n,n,[parseFloat(s[0]),parseFloat(s[1]||0)]);break;case"scale":s=w(s).split(x),f.scale(n,n,[parseFloat(s[0]),parseFloat(s[1]||s[0])]);break;case"rotate":s=w(s).split(x),f.rotate(n,n,parseFloat(s[0]));break;case"skew":s=w(s).split(x),console.warn("Skew transform is not supported yet");break;case"matrix":s=w(s).split(x),n[0]=parseFloat(s[0]),n[1]=parseFloat(s[1]),n[2]=parseFloat(s[2]),n[3]=parseFloat(s[3]),n[4]=parseFloat(s[4]),n[5]=parseFloat(s[5])}}t.setLocalTransform(n)}}(e,t),y(o,function(e){var t=e.getAttribute("style"),i={};if(!t)return i;var n,o={};for(q.lastIndex=0;null!=(n=q.exec(t));)o[n[1]]=n[2];for(var r in M)M.hasOwnProperty(r)&&null!=o[r]&&(i[M[r]]=o[r]);return i}(e)),!n))for(var s in M)if(M.hasOwnProperty(s)){var a=e.getAttribute(s);null!=a&&(o[M[s]]=a)}var l=r?"textFill":"fill",c=r?"textStroke":"stroke";t.style=t.style||new g;var h=t.style;null!=o.fill&&h.set(l,P(o.fill,i)),null!=o.stroke&&h.set(c,P(o.stroke,i)),A(["lineWidth","opacity","fillOpacity","strokeOpacity","miterLimit","fontSize"],function(e){null!=o[e]&&h.set("lineWidth"===e&&r?"textStrokeWidth":e,parseFloat(o[e]))}),(!o.textBaseline||"auto"===o.textBaseline)&&(o.textBaseline="alphabetic"),"alphabetic"===o.textBaseline&&(o.textBaseline="bottom"),"start"===o.textAlign&&(o.textAlign="left"),"end"===o.textAlign&&(o.textAlign="right"),A(["lineDashOffset","lineCap","lineJoin","fontWeight","fontFamily","fontStyle","textAlign","textBaseline"],function(e){null!=o[e]&&h.set(e,o[e])}),o.lineDash&&(t.style.lineDash=w(o.lineDash).split(x)),h[c]&&"none"!==h[c]&&(t[c]=!0),t.__inheritedStyle=o}var I=/url\(\s*#(.*?)\)/;function P(e,t){var i=t&&e&&e.match(I);return i?t[w(i[1])]:e}var R=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.e,]*)\)/g,q=/([^\s:;]+)\s*:\s*([^:;]+)/g;function L(e,t,i){var n=Math.min(t/e.width,i/e.height);return{scale:[n,n],position:[-(e.x+e.width/2)*n+t/2,-(e.y+e.height/2)*n+i/2]}}t.parseXML=T,t.makeViewBoxTransform=L,t.parseSVG=function(e,t){return(new C).parse(e,t)}},38532:function(e,t,i){var n=i(1419),o=i(17349),r=i(89818),s=Math.sqrt,a=Math.sin,l=Math.cos,c=Math.PI,h=function(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])},u=function(e,t){return(e[0]*t[0]+e[1]*t[1])/(h(e)*h(t))},d=function(e,t){return(e[0]*t[1]<e[1]*t[0]?-1:1)*Math.acos(u(e,t))};function p(e,t,i,n,o,r,h,p,g,f,m){var _=g*(c/180),v=l(_)*(e-i)/2+a(_)*(t-n)/2,y=-1*a(_)*(e-i)/2+l(_)*(t-n)/2,b=v*v/(h*h)+y*y/(p*p);b>1&&(h*=s(b),p*=s(b));var w=(o===r?-1:1)*s((h*h*(p*p)-h*h*(y*y)-p*p*(v*v))/(h*h*(y*y)+p*p*(v*v)))||0,A=w*h*y/p,x=w*-p*v/h,T=(e+i)/2+l(_)*A-a(_)*x,C=(t+n)/2+a(_)*A+l(_)*x,Z=d([1,0],[(v-A)/h,(y-x)/p]),k=[(v-A)/h,(y-x)/p],S=[(-1*v-A)/h,(-1*y-x)/p],E=d(k,S);u(k,S)<=-1&&(E=c),u(k,S)>=1&&(E=0),0===r&&E>0&&(E-=2*c),1===r&&E<0&&(E+=2*c),m.addData(f,T,C,h,p,Z,E,_,r)}var g=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/gi,f=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function m(e,t){var i=function(e){if(!e)return new o;for(var t,i=0,n=0,r=i,s=n,a=new o,l=o.CMD,c=e.match(g),h=0;h<c.length;h++){for(var u,d=c[h],m=d.charAt(0),_=d.match(f)||[],v=_.length,y=0;y<v;y++)_[y]=parseFloat(_[y]);for(var b=0;b<v;){var w,A,x,T,C,Z,k,S=i,E=n;switch(m){case"l":i+=_[b++],n+=_[b++],a.addData(u=l.L,i,n);break;case"L":i=_[b++],n=_[b++],a.addData(u=l.L,i,n);break;case"m":i+=_[b++],n+=_[b++],a.addData(u=l.M,i,n),r=i,s=n,m="l";break;case"M":i=_[b++],n=_[b++],a.addData(u=l.M,i,n),r=i,s=n,m="L";break;case"h":i+=_[b++],a.addData(u=l.L,i,n);break;case"H":i=_[b++],a.addData(u=l.L,i,n);break;case"v":n+=_[b++],a.addData(u=l.L,i,n);break;case"V":n=_[b++],a.addData(u=l.L,i,n);break;case"C":a.addData(u=l.C,_[b++],_[b++],_[b++],_[b++],_[b++],_[b++]),i=_[b-2],n=_[b-1];break;case"c":a.addData(u=l.C,_[b++]+i,_[b++]+n,_[b++]+i,_[b++]+n,_[b++]+i,_[b++]+n),i+=_[b-2],n+=_[b-1];break;case"S":w=i,A=n;var M=a.len(),O=a.data;t===l.C&&(w+=i-O[M-4],A+=n-O[M-3]),S=_[b++],E=_[b++],i=_[b++],n=_[b++],a.addData(u=l.C,w,A,S,E,i,n);break;case"s":w=i,A=n,M=a.len(),O=a.data,t===l.C&&(w+=i-O[M-4],A+=n-O[M-3]),S=i+_[b++],E=n+_[b++],i+=_[b++],n+=_[b++],a.addData(u=l.C,w,A,S,E,i,n);break;case"Q":S=_[b++],E=_[b++],i=_[b++],n=_[b++],a.addData(u=l.Q,S,E,i,n);break;case"q":S=_[b++]+i,E=_[b++]+n,i+=_[b++],n+=_[b++],a.addData(u=l.Q,S,E,i,n);break;case"T":w=i,A=n,M=a.len(),O=a.data,t===l.Q&&(w+=i-O[M-4],A+=n-O[M-3]),i=_[b++],n=_[b++],a.addData(u=l.Q,w,A,i,n);break;case"t":w=i,A=n,M=a.len(),O=a.data,t===l.Q&&(w+=i-O[M-4],A+=n-O[M-3]),i+=_[b++],n+=_[b++],a.addData(u=l.Q,w,A,i,n);break;case"A":x=_[b++],T=_[b++],C=_[b++],Z=_[b++],k=_[b++],p(S=i,E=n,i=_[b++],n=_[b++],Z,k,x,T,C,u=l.A,a);break;case"a":x=_[b++],T=_[b++],C=_[b++],Z=_[b++],k=_[b++],p(S=i,E=n,i+=_[b++],n+=_[b++],Z,k,x,T,C,u=l.A,a)}}("z"===m||"Z"===m)&&(a.addData(u=l.Z),i=r,n=s),t=u}return a.toStatic(),a}(e);return(t=t||{}).buildPath=function(e){var t;e.setData?(e.setData(i.data),(t=e.getContext())&&e.rebuildPath(t)):i.rebuildPath(t=e)},t.applyTransform=function(e){r(i,e),this.dirty(!0)},t}t.createFromString=function(e,t){return new n(m(e,t))},t.extendFromString=function(e,t){return n.extend(m(e,t))},t.mergePath=function(e,t){for(var i=[],o=e.length,r=0;r<o;r++){var s=e[r];s.path||s.createPathProxy(),s.__dirtyPath&&s.buildPath(s.path,s.shape,!0),i.push(s.path)}var a=new n(t);return a.createPathProxy(),a.buildPath=function(e){e.appendPath(i);var t=e.getContext();t&&e.rebuildPath(t)},a}},89818:function(e,t,i){var n=i(17349),o=i(98221).applyTransform,r=n.CMD,s=[[],[],[]],a=Math.sqrt,l=Math.atan2;e.exports=function(e,t){var i,n,c,h,u,d=e.data,p=r.M,g=r.C,f=r.L,m=r.R,_=r.A,v=r.Q;for(c=0,h=0;c<d.length;){switch(i=d[c++],h=c,n=0,i){case p:case f:n=1;break;case g:n=3;break;case v:n=2;break;case _:var y=t[4],b=t[5],w=a(t[0]*t[0]+t[1]*t[1]),A=a(t[2]*t[2]+t[3]*t[3]),x=l(-t[1]/A,t[0]/w);d[c]*=w,d[c++]+=y,d[c]*=A,d[c++]+=b,d[c++]*=w,d[c++]*=A,d[c++]+=x,d[c++]+=x,h=c+=2;break;case m:T[0]=d[c++],T[1]=d[c++],o(T,T,t),d[h++]=T[0],d[h++]=T[1],T[0]+=d[c++],T[1]+=d[c++],o(T,T,t),d[h++]=T[0],d[h++]=T[1]}for(u=0;u<n;u++){var T;(T=s[u])[0]=d[c++],T[1]=d[c++],o(T,T,t),d[h++]=T[0],d[h++]=T[1]}}}},20017:function(e,t,i){var n=i(80848),o=i(16457),r=i(40628).each;function s(e){return parseInt(e,10)}function a(e,t){o.initVML(),this.root=e,this.storage=t;var i=document.createElement("div"),n=document.createElement("div");i.style.cssText="display:inline-block;overflow:hidden;position:relative;width:300px;height:150px;",n.style.cssText="position:absolute;left:0;top:0;",e.appendChild(i),this._vmlRoot=n,this._vmlViewport=i,this.resize();var r=t.delFromStorage,s=t.addToStorage;t.delFromStorage=function(e){r.call(t,e),e&&e.onRemove&&e.onRemove(n)},t.addToStorage=function(e){e.onAdd&&e.onAdd(n),s.call(t,e)},this._firstPaint=!0}a.prototype={constructor:a,getType:function(){return"vml"},getViewportRoot:function(){return this._vmlViewport},getViewportRootOffset:function(){var e=this.getViewportRoot();if(e)return{offsetLeft:e.offsetLeft||0,offsetTop:e.offsetTop||0}},refresh:function(){var e=this.storage.getDisplayList(!0,!0);this._paintList(e)},_paintList:function(e){for(var t=this._vmlRoot,i=0;i<e.length;i++){var n=e[i];n.invisible||n.ignore?(n.__alreadyNotVisible||n.onRemove(t),n.__alreadyNotVisible=!0):(n.__alreadyNotVisible&&n.onAdd(t),n.__alreadyNotVisible=!1,n.__dirty&&(n.beforeBrush&&n.beforeBrush(),(n.brushVML||n.brush).call(n,t),n.afterBrush&&n.afterBrush())),n.__dirty=!1}this._firstPaint&&(this._vmlViewport.appendChild(t),this._firstPaint=!1)},resize:function(e,t){if(e=null==e?this._getWidth():e,t=null==t?this._getHeight():t,this._width!==e||this._height!==t){this._width=e,this._height=t;var i=this._vmlViewport.style;i.width=e+"px",i.height=t+"px"}},dispose:function(){this.root.innerHTML="",this._vmlRoot=this._vmlViewport=this.storage=null},getWidth:function(){return this._width},getHeight:function(){return this._height},clear:function(){this._vmlViewport&&this.root.removeChild(this._vmlViewport)},_getWidth:function(){var e=this.root,t=e.currentStyle;return(e.clientWidth||s(t.width))-s(t.paddingLeft)-s(t.paddingRight)|0},_getHeight:function(){var e=this.root,t=e.currentStyle;return(e.clientHeight||s(t.height))-s(t.paddingTop)-s(t.paddingBottom)|0}},r(["getLayer","insertLayer","eachLayer","eachBuiltinLayer","eachOtherLayer","getLayers","modLayer","delLayer","clearLayer","toDataURL","pathToImage"],function(e){a.prototype[e]=function(e){return function(){n('In IE8.0 VML mode painter not support method "'+e+'"')}}(e)}),e.exports=a},16457:function(e,t,i){var n,o=i(10169),r="urn:schemas-microsoft-com:vml",s="undefined"==typeof window?null:window,a=!1,l=s&&s.document;if(l&&!o.canvasSupported)try{!l.namespaces.zrvml&&l.namespaces.add("zrvml",r),n=function(e){return l.createElement("<zrvml:"+e+' class="zrvml">')}}catch(c){n=function(e){return l.createElement("<"+e+' xmlns="'+r+'" class="zrvml">')}}t.doc=l,t.createNode=function(e){return n(e)},t.initVML=function(){if(!a&&l){a=!0;var e=l.styleSheets;e.length<31?l.createStyleSheet().addRule(".zrvml","behavior:url(#default#VML)"):e[0].addRule(".zrvml","behavior:url(#default#VML)")}}},41055:function(e,t,i){var n=i(10169),o=i(98221).applyTransform,r=i(87021),s=i(10312),a=i(71790),l=i(28767),c=i(56868),h=i(99563),u=i(26766),d=i(48208),p=i(1419),g=i(17349),f=i(89660),m=i(16457),_=g.CMD,v=Math.round,y=Math.sqrt,b=Math.abs,w=Math.cos,A=Math.sin,x=Math.max;if(!n.canvasSupported){var T=",",C="progid:DXImageTransform.Microsoft",Z=21600,k=Z/2,S=function(e){e.style.cssText="position:absolute;left:0;top:0;width:1px;height:1px;",e.coordsize=Z+","+Z,e.coordorigin="0,0"},E=function(e,t,i){return"rgb("+[e,t,i].join(",")+")"},M=function(e,t){t&&e&&t.parentNode!==e&&e.appendChild(t)},O=function(e,t){t&&e&&t.parentNode===e&&e.removeChild(t)},I=function(e,t,i){return 1e5*(parseFloat(e)||0)+1e3*(parseFloat(t)||0)+i},P=l.parsePercent,R=function(e,t,i){var n=s.parse(t);i=+i,isNaN(i)&&(i=1),n&&(e.color=E(n[0],n[1],n[2]),e.opacity=i*n[3])},q=function(e){var t=s.parse(e);return[E(t[0],t[1],t[2]),t[3]]},L=function(e,t,i,n){var r="fill"===t,s=e.getElementsByTagName(t)[0];null!=i[t]&&"none"!==i[t]&&(r||!r&&i.lineWidth)?(e[r?"filled":"stroked"]="true",i[t]instanceof f&&O(e,s),s||(s=m.createNode(t)),r?function(e,t,i){var n=t.fill;if(null!=n)if(n instanceof f){var r,s=0,a=[0,0],l=0,c=1,h=i.getBoundingRect(),u=h.width,d=h.height;if("linear"===n.type){r="gradient";var p=[n.x*u,n.y*d],g=[n.x2*u,n.y2*d];(m=i.transform)&&(o(p,p,m),o(g,g,m)),(s=180*Math.atan2(g[0]-p[0],g[1]-p[1])/Math.PI)<0&&(s+=360),s<1e-6&&(s=0)}else{r="gradientradial";var m,_=i.scale,v=u,y=d;a=[((p=[n.x*u,n.y*d])[0]-h.x)/v,(p[1]-h.y)/y],(m=i.transform)&&o(p,p,m);var b=x(v/=_[0]*Z,y/=_[1]*Z);c=2*n.r/b-(l=0/b)}var w=n.colorStops.slice();w.sort(function(e,t){return e.offset-t.offset});for(var A=w.length,T=[],C=[],k=0;k<A;k++){var S=w[k],E=q(S.color);C.push(S.offset*c+l+" "+E[0]),(0===k||k===A-1)&&T.push(E)}if(A>=2){var M=T[0][0],O=T[1][0],I=T[0][1]*t.opacity,P=T[1][1]*t.opacity;e.type=r,e.method="none",e.focus="100%",e.angle=s,e.color=M,e.color2=O,e.colors=C.join(","),e.opacity=P,e.opacity2=I}"radial"===r&&(e.focusposition=a.join(","))}else R(e,n,t.opacity)}(s,i,n):function(e,t){t.lineDash&&(e.dashstyle=t.lineDash.join(" ")),null!=t.stroke&&!(t.stroke instanceof f)&&R(e,t.stroke,t.opacity)}(s,i),M(e,s)):(e[r?"filled":"stroked"]="false",O(e,s))},U=[[],[],[]];p.prototype.brushVML=function(e){var t=this.style,i=this._vmlEl;i||(i=m.createNode("shape"),S(i),this._vmlEl=i),L(i,"fill",t,this),L(i,"stroke",t,this);var n=this.transform,r=null!=n,s=i.getElementsByTagName("stroke")[0];if(s){var a=t.lineWidth;r&&!t.strokeNoScale&&(a*=y(b(n[0]*n[3]-n[1]*n[2]))),s.weight=a+"px"}var l=this.path||(this.path=new g);this.__dirtyPath&&(l.beginPath(),l.subPixelOptimize=!1,this.buildPath(l,this.shape),l.toStatic(),this.__dirtyPath=!1),i.path=function(e,t){var i,n,r,s,a,l,c=_.M,h=_.C,u=_.L,d=_.A,p=_.Q,g=[],f=e.data,m=e.len();for(s=0;s<m;){switch(n="",i=0,r=f[s++]){case c:n=" m ",i=1,a=f[s++],l=f[s++],U[0][0]=a,U[0][1]=l;break;case u:n=" l ",i=1,a=f[s++],l=f[s++],U[0][0]=a,U[0][1]=l;break;case p:case h:n=" c ",i=3;var b,x,C=f[s++],S=f[s++],E=f[s++],M=f[s++];r===p?(b=E,x=M,E=(E+2*C)/3,M=(M+2*S)/3,C=(a+2*C)/3,S=(l+2*S)/3):(b=f[s++],x=f[s++]),U[0][0]=C,U[0][1]=S,U[1][0]=E,U[1][1]=M,U[2][0]=b,U[2][1]=x,a=b,l=x;break;case d:var O=0,I=0,P=1,R=1,q=0;t&&(O=t[4],I=t[5],P=y(t[0]*t[0]+t[1]*t[1]),R=y(t[2]*t[2]+t[3]*t[3]),q=Math.atan2(-t[1]/R,t[0]/P));var L=f[s++],B=f[s++],D=f[s++],N=f[s++],F=f[s++]+q,H=f[s++]+F+q;s++;var $=f[s++],z=L+w(F)*D,V=B+A(F)*N,K=(C=L+w(H)*D,S=B+A(H)*N,$?" wa ":" at ");Math.abs(z-C)<1e-4&&(Math.abs(H-F)>.01?$&&(z+=270/Z):Math.abs(V-B)<1e-4?$&&z<L||!$&&z>L?S-=270/Z:S+=270/Z:$&&V<B||!$&&V>B?C+=270/Z:C-=270/Z),g.push(K,v(((L-D)*P+O)*Z-k),T,v(((B-N)*R+I)*Z-k),T,v(((L+D)*P+O)*Z-k),T,v(((B+N)*R+I)*Z-k),T,v((z*P+O)*Z-k),T,v((V*R+I)*Z-k),T,v((C*P+O)*Z-k),T,v((S*R+I)*Z-k)),a=C,l=S;break;case _.R:var W=U[0],G=U[1];W[0]=f[s++],W[1]=f[s++],G[0]=W[0]+f[s++],G[1]=W[1]+f[s++],t&&(o(W,W,t),o(G,G,t)),W[0]=v(W[0]*Z-k),G[0]=v(G[0]*Z-k),W[1]=v(W[1]*Z-k),G[1]=v(G[1]*Z-k),g.push(" m ",W[0],T,W[1]," l ",G[0],T,W[1]," l ",G[0],T,G[1]," l ",W[0],T,G[1]);break;case _.Z:g.push(" x ")}if(i>0){g.push(n);for(var Y=0;Y<i;Y++){var j=U[Y];t&&o(j,j,t),g.push(v(j[0]*Z-k),T,v(j[1]*Z-k),Y<i-1?T:"")}}}return g.join("")}(l,this.transform),i.style.zIndex=I(this.zlevel,this.z,this.z2),M(e,i),null!=t.text?this.drawRectText(e,this.getBoundingRect()):this.removeRectText(e)},p.prototype.onRemove=function(e){O(e,this._vmlEl),this.removeRectText(e)},p.prototype.onAdd=function(e){M(e,this._vmlEl),this.appendRectText(e)},u.prototype.brushVML=function(e){var t,i,n=this.style,r=n.image;if(function(e){return"object"==typeof e&&e.tagName&&"IMG"===e.tagName.toUpperCase()}(r)){var s=r.src;if(s===this._imageSrc)t=this._imageWidth,i=this._imageHeight;else{var a=r.runtimeStyle,l=a.width,c=a.height;a.width="auto",a.height="auto",t=r.width,i=r.height,a.width=l,a.height=c,this._imageSrc=s,this._imageWidth=t,this._imageHeight=i}r=s}else r===this._imageSrc&&(t=this._imageWidth,i=this._imageHeight);if(r){var h=n.x||0,u=n.y||0,d=n.width,p=n.height,g=n.sWidth,f=n.sHeight,_=n.sx||0,b=n.sy||0,w=g&&f,A=this._vmlEl;A||(A=m.doc.createElement("div"),S(A),this._vmlEl=A);var Z,k=A.style,E=!1,O=1,P=1;if(this.transform&&(O=y((Z=this.transform)[0]*Z[0]+Z[1]*Z[1]),P=y(Z[2]*Z[2]+Z[3]*Z[3]),E=Z[1]||Z[2]),E){var R=[h,u],q=[h+d,u],L=[h,u+p],U=[h+d,u+p];o(R,R,Z),o(q,q,Z),o(L,L,Z),o(U,U,Z);var B=x(R[0],q[0],L[0],U[0]),D=x(R[1],q[1],L[1],U[1]),N=[];N.push("M11=",Z[0]/O,T,"M12=",Z[2]/P,T,"M21=",Z[1]/O,T,"M22=",Z[3]/P,T,"Dx=",v(h*O+Z[4]),T,"Dy=",v(u*P+Z[5])),k.padding="0 "+v(B)+"px "+v(D)+"px 0",k.filter=C+".Matrix("+N.join("")+", SizingMethod=clip)"}else Z&&(h=h*O+Z[4],u=u*P+Z[5]),k.filter="",k.left=v(h)+"px",k.top=v(u)+"px";var F=this._imageEl,H=this._cropEl;F||(F=m.doc.createElement("div"),this._imageEl=F);var $=F.style;if(w){if(t&&i)$.width=v(O*t*d/g)+"px",$.height=v(P*i*p/f)+"px";else{var z=new Image,V=this;z.onload=function(){z.onload=null,i=z.height,$.width=v(O*(t=z.width)*d/g)+"px",$.height=v(P*i*p/f)+"px",V._imageWidth=t,V._imageHeight=i,V._imageSrc=r},z.src=r}H||((H=m.doc.createElement("div")).style.overflow="hidden",this._cropEl=H);var K=H.style;K.width=v((d+_*d/g)*O),K.height=v((p+b*p/f)*P),K.filter=C+".Matrix(Dx="+-_*d/g*O+",Dy="+-b*p/f*P+")",H.parentNode||A.appendChild(H),F.parentNode!==H&&H.appendChild(F)}else $.width=v(O*d)+"px",$.height=v(P*p)+"px",A.appendChild(F),H&&H.parentNode&&(A.removeChild(H),this._cropEl=null);var W="",G=n.opacity;G<1&&(W+=".Alpha(opacity="+v(100*G)+") "),$.filter=W+=C+".AlphaImageLoader(src="+r+", SizingMethod=scale)",A.style.zIndex=I(this.zlevel,this.z,this.z2),M(e,A),null!=n.text&&this.drawRectText(e,this.getBoundingRect())}},u.prototype.onRemove=function(e){O(e,this._vmlEl),this._vmlEl=null,this._cropEl=null,this._imageEl=null,this.removeRectText(e)},u.prototype.onAdd=function(e){M(e,this._vmlEl),this.appendRectText(e)};var B,D="normal",N={},F=0,H=document.createElement("div");a.$override("measureText",function(e,t){var i=m.doc;B||((B=i.createElement("div")).style.cssText="position:absolute;top:-20000px;left:0;padding:0;margin:0;border:none;white-space:pre;",m.doc.body.appendChild(B));try{B.style.font=t}catch(n){}return B.innerHTML="",B.appendChild(i.createTextNode(e)),{width:B.offsetWidth}});for(var $=new r,z=function(e,t,i,n){var r=this.style;this.__dirty&&l.normalizeTextStyle(r,!0);var s=r.text;if(null!=s&&(s+=""),s){if(r.rich){var c=a.parseRichText(s,r);s=[];for(var h=0;h<c.lines.length;h++){for(var u=c.lines[h].tokens,d=[],p=0;p<u.length;p++)d.push(u[p].text);s.push(d.join(""))}s=s.join("\n")}var g,f,_=r.textAlign,y=r.textVerticalAlign,b=function(e){var t=N[e];if(!t){F>100&&(F=0,N={});var i,n=H.style;try{n.font=e,i=n.fontFamily.split(",")[0]}catch(r){}t={style:n.fontStyle||D,variant:n.fontVariant||D,weight:n.fontWeight||D,size:0|parseFloat(n.fontSize||12),family:i||"Microsoft YaHei"},N[e]=t,F++}return t}(r.font),w=b.style+" "+b.variant+" "+b.weight+" "+b.size+'px "'+b.family+'"';i=i||a.getBoundingRect(s,w,_,y,r.textPadding,r.textLineHeight);var A=this.transform;if(A&&!n&&($.copy(t),$.applyTransform(A),t=$),n)g=t.x,f=t.y;else{var x=r.textPosition;if(x instanceof Array)g=t.x+P(x[0],t.width),f=t.y+P(x[1],t.height),_=_||"left";else{var C=this.calculateTextPosition?this.calculateTextPosition({},r,t):a.calculateTextPosition({},r,t);g=C.x,f=C.y,_=_||C.textAlign,y=y||C.textVerticalAlign}}g=a.adjustTextX(g,i.width,_),f=a.adjustTextY(f,i.height,y),f+=i.height/2;var Z,k,E,O=m.createNode,R=this._textVmlEl;R?k=(Z=(E=R.firstChild).nextSibling).nextSibling:(R=O("line"),Z=O("path"),k=O("textpath"),E=O("skew"),k.style["v-text-align"]="left",S(R),Z.textpathok=!0,k.on=!0,R.from="0 0",R.to="1000 0.05",M(R,E),M(R,Z),M(R,k),this._textVmlEl=R);var q=[g,f],U=R.style;A&&n?(o(q,q,A),E.on=!0,E.matrix=A[0].toFixed(3)+T+A[2].toFixed(3)+T+A[1].toFixed(3)+T+A[3].toFixed(3)+",0,0",E.offset=(v(q[0])||0)+","+(v(q[1])||0),E.origin="0 0",U.left="0px",U.top="0px"):(E.on=!1,U.left=v(g)+"px",U.top=v(f)+"px"),k.string=function(e){return String(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;")}(s);try{k.style.font=w}catch(B){}L(R,"fill",{fill:r.textFill,opacity:r.opacity},this),L(R,"stroke",{stroke:r.textStroke,opacity:r.opacity,lineDash:r.lineDash||null},this),R.style.zIndex=I(this.zlevel,this.z,this.z2),M(e,R)}},V=function(e){O(e,this._textVmlEl),this._textVmlEl=null},K=function(e){M(e,this._textVmlEl)},W=[c,h,u,p,d],G=0;G<W.length;G++){var Y=W[G].prototype;Y.drawRectText=z,Y.removeRectText=V,Y.appendRectText=K}d.prototype.brushVML=function(e){var t=this.style;null!=t.text?this.drawRectText(e,{x:t.x||0,y:t.y||0,width:0,height:0},this.getBoundingRect(),!0):this.removeRectText(e)},d.prototype.onRemove=function(e){this.removeRectText(e)},d.prototype.onAdd=function(e){this.appendRectText(e)}}},41338:function(e,t,i){i(41055),(0,i(56037).registerPainter)("vml",i(20017))},56037:function(e,t,i){var n=i(77606),o=i(10169),r=i(40628),s=i(65391),a=i(51009),l=i(38169),c=i(65322),h=i(36055),u=!o.canvasSupported,d={canvas:l},p={},g=function(e,t,i){i=i||{},this.dom=t,this.id=e;var n=this,l=new a,p=i.renderer;if(u){if(!d.vml)throw new Error("You need to require 'zrender/vml/vml' to support IE8");p="vml"}else(!p||!d[p])&&(p="canvas");var g=new d[p](t,l,i,e);this.storage=l,this.painter=g;var f=o.node||o.worker?null:new h(g.getViewportRoot(),g.root);this.handler=new s(l,g,f,g.root),this.animation=new c({stage:{update:r.bind(this.flush,this)}}),this.animation.start();var m=l.delFromStorage,_=l.addToStorage;l.delFromStorage=function(e){m.call(l,e),e&&e.removeSelfFromZr(n)},l.addToStorage=function(e){_.call(l,e),e.addSelfToZr(n)}};g.prototype={constructor:g,getId:function(){return this.id},add:function(e){this.storage.addRoot(e),this._needsRefresh=!0},remove:function(e){this.storage.delRoot(e),this._needsRefresh=!0},configLayer:function(e,t){this.painter.configLayer&&this.painter.configLayer(e,t),this._needsRefresh=!0},setBackgroundColor:function(e){this.painter.setBackgroundColor&&this.painter.setBackgroundColor(e),this._needsRefresh=!0},refreshImmediately:function(){this._needsRefresh=this._needsRefreshHover=!1,this.painter.refresh(),this._needsRefresh=this._needsRefreshHover=!1},refresh:function(){this._needsRefresh=!0},flush:function(){var e;this._needsRefresh&&(e=!0,this.refreshImmediately()),this._needsRefreshHover&&(e=!0,this.refreshHoverImmediately()),e&&this.trigger("rendered")},addHover:function(e,t){if(this.painter.addHover){var i=this.painter.addHover(e,t);return this.refreshHover(),i}},removeHover:function(e){this.painter.removeHover&&(this.painter.removeHover(e),this.refreshHover())},clearHover:function(){this.painter.clearHover&&(this.painter.clearHover(),this.refreshHover())},refreshHover:function(){this._needsRefreshHover=!0},refreshHoverImmediately:function(){this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.refreshHover()},resize:function(e){this.painter.resize((e=e||{}).width,e.height),this.handler.resize()},clearAnimation:function(){this.animation.clear()},getWidth:function(){return this.painter.getWidth()},getHeight:function(){return this.painter.getHeight()},pathToImage:function(e,t){return this.painter.pathToImage(e,t)},setCursorStyle:function(e){this.handler.setCursorStyle(e)},findHover:function(e,t){return this.handler.findHover(e,t)},on:function(e,t,i){this.handler.on(e,t,i)},off:function(e,t){this.handler.off(e,t)},trigger:function(e,t){this.handler.trigger(e,t)},clear:function(){this.storage.delRoot(),this.painter.clear()},dispose:function(){this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,delete p[this.id]}},t.version="4.3.2",t.init=function(e,t){var i=new g(n(),e,t);return p[i.id]=i,i},t.dispose=function(e){if(e)e.dispose();else{for(var t in p)p.hasOwnProperty(t)&&p[t].dispose();p={}}return this},t.getInstance=function(e){return p[e]},t.registerPainter=function(e,t){d[e]=t}},54569:function(e,t,i){"use strict";i.d(t,{y1:function(){return r},bZ:function(){return a},vJ:function(){return o},mT:function(){return s}});var n=i(17238);const o=(0,n.X$)("dropdownAnim",[(0,n.SB)("show",(0,n.oB)({height:"*"})),(0,n.SB)("hide",(0,n.oB)({height:0})),(0,n.eR)("show <=> hide",(0,n.jt)(".25s ease"))]),r=(0,n.X$)("alertAnim",[(0,n.SB)("show",(0,n.oB)({right:0,opacity:1,visibility:"visible"})),(0,n.SB)("hide",(0,n.oB)({right:-500,opacity:0,visibility:"hidden"})),(0,n.eR)("show <=> hide",(0,n.jt)(".25s ease"))]),s=((0,n.X$)("settin_doc",[(0,n.SB)("show",(0,n.oB)({height:"*"})),(0,n.SB)("hide",(0,n.oB)({height:0})),(0,n.eR)("show <=> hide",(0,n.jt)(".25s ease"))]),(0,n.X$)("settin_img",[(0,n.SB)("show",(0,n.oB)({transform:"rotate(0deg)"})),(0,n.SB)("hide",(0,n.oB)({transform:"rotate(-90deg)"})),(0,n.eR)("show <=> hide",(0,n.jt)(".2s ease"))]),(0,n.X$)("video_anima",[(0,n.SB)("show",(0,n.oB)({height:"*"})),(0,n.SB)("hide",(0,n.oB)({height:0})),(0,n.eR)("show <=> hide",(0,n.jt)(".25s ease"))])),a=(0,n.X$)("message_anima",[(0,n.SB)("show",(0,n.oB)({right:"10px",width:"100vw",display:"block"})),(0,n.SB)("hide",(0,n.oB)({right:"-50vw",width:"10vw",display:"none"})),(0,n.eR)("show <=> hide",(0,n.jt)(".5s ease"))])},59741:function(e,t,i){"use strict";i.d(t,{t:function(){return n}});let n={kind:"categoryToolbox",contents:[{kind:"category",name:"%{BKY_EVENT}",colour:"%{BKY_BASIC_HUE}",custom:"EVENT",toolboxitemid:"event"},{kind:"category",name:"%{BKY_UI}",colour:"%{BKY_COMPONENT_HUE}",toolboxitemid:"ui",contents:window.Blockly.M5Toolbox.uiToolbox},{kind:"category",name:"%{BKY_HARDWARES}",colour:"%{BKY_PINS_HUE}",toolboxitemid:"hardwares",contents:window.Blockly.M5Toolbox.hardwaresToolbox},{kind:"category",name:"%{BKY_BASE}",colour:"%{BKY_TEXTS_HUE}",toolboxitemid:"base",contents:window.Blockly.M5Toolbox.baseToolbox},{kind:"category",name:"%{BKY_UNITS}",colour:"%{BKY_PINS_HUE}",toolboxitemid:"units",contents:window.Blockly.M5Toolbox.unitsToolbox},{kind:"category",name:"%{BKY_STAMPS}",colour:"%{BKY_STAMPS_HUE}",toolboxitemid:"stamps",contents:window.Blockly.M5Toolbox.stampsToolbox},{kind:"category",name:"%{BKY_MODULES}",colour:"%{BKY_MOTOR_HUE}",toolboxitemid:"modules",contents:window.Blockly.M5Toolbox.modulesToolbox},{kind:"category",name:"%{BKY_HAT}",colour:"%{BKY_HAT_HUE}",toolboxitemid:"hat",contents:window.Blockly.M5Toolbox.hatToolbox},{kind:"category",name:"%{BKY_IOTCLOUD}",colour:"%{BKY_TIMER_HUE}",toolboxitemid:"iotcloud",contents:window.Blockly.M5Toolbox.iotcloudToolbox},{kind:"sep",gap:"64"},{kind:"category",name:"%{BKY_REMOTE}+",colour:"%{BKY_DAC_HUE}",custom:"REMOTEPLUS",contents:window.Blockly.M5Toolbox.remotePlusToolbox,toolboxitemid:"remoteplus"},{kind:"category",name:"%{BKY_EZDATA}",colour:"%{BKY_EZDATA_HUE}",custom:"EZDATA",toolboxitemid:"ezdata"},{kind:"sep",gap:"64"},{kind:"category",name:"%{BKY_MEDIATRANS}",colour:"%{BKY_UART_HUE}",toolboxitemid:"mediatrans",contents:window.Blockly.M5Toolbox.mediatransToolbox},{kind:"sep",gap:"64",toolboxitemid:"mediatransSep"},{kind:"category",name:"%{BKY_VARIABLES}",colour:"%{BKY_VARIABLES_HUE}",custom:"VARIABLE",toolboxitemid:"variable",cssConfig:{icon:"blocklyTreeIconVar"}},{kind:"category",name:"%{BKY_MATH}",colour:"%{BKY_MATH_HUE}",toolboxitemid:"math",cssConfig:{icon:"blocklyTreeIconMath"},contents:window.Blockly.M5Toolbox.mathToolbox},{kind:"category",name:"%{BKY_LOOPS}",colour:"%{BKY_LOOPS_HUE}",toolboxitemid:"loops",cssConfig:{icon:"blocklyTreeIconLoop"},contents:window.Blockly.M5Toolbox.loopToolbox},{kind:"category",name:"%{BKY_LOGIC}",colour:"%{BKY_LOGIC_HUE}",toolboxitemid:"logic",cssConfig:{icon:"blocklyTreeIconLogic"},contents:window.Blockly.M5Toolbox.logicToolbox},{kind:"category",name:"%{BKY_GRAPHIC}",colour:"%{BKY_LCD_HUE}",custom:"GRAPHIC",toolboxitemid:"graphic",cssConfig:{icon:"blocklyTreeIconGraphic"}},{kind:"category",name:"%{BKY_EMOJI}",colour:"%{BKY_EMOJI_HUE}",custom:"EMOJI",toolboxitemid:"emoji",cssConfig:{icon:"blocklyTreeIconEmoji"}},{kind:"category",name:"%{BKY_TIMER}",colour:"%{BKY_TIMER_HUE}",toolboxitemid:"timer",cssConfig:{icon:"blocklyTreeIconTimer"},contents:window.Blockly.M5Toolbox.timerToolbox},{kind:"category",name:"%{BKY_FUNCTIONS}",colour:"%{BKY_FUNCTION_HUE}",toolboxitemid:"functions",custom:"PROCEDURE",cssConfig:{icon:"blocklyTreeIconFunction"}},{kind:"category",name:"%{BKY_TEXT}",colour:"%{BKY_TEXTS_HUE}",toolboxitemid:"text",cssConfig:{icon:"blocklyTreeIconText"},contents:window.Blockly.M5Toolbox.textToolbox},{kind:"category",name:"%{BKY_LISTS}",colour:"%{BKY_LISTS_HUE}",toolboxitemid:"lists",cssConfig:{icon:"blocklyTreeIconLists"},contents:window.Blockly.M5Toolbox.listToolbox},{kind:"category",name:"%{BKY_MAP}",colour:"%{BKY_MAP_HUE}",toolboxitemid:"map",cssConfig:{icon:"blocklyTreeIconMap"},contents:window.Blockly.M5Toolbox.mapToolbox},{kind:"category",name:"%{BKY_JSON}",colour:"%{BKY_JSON_HUE}",toolboxitemid:"json",cssConfig:{icon:"blocklyTreeIconJSON"},custom:"JSON"},{kind:"category",name:"%{BKY_BYTE_ARRAY}",colour:"%{BKY_BYTE_ARRAY_HUE}",toolboxitemid:"bytearray",custom:"BYTE_ARRAY",cssConfig:{icon:"blocklyTreeIconByteArray"}},{kind:"sep",gap:"64"},{kind:"category",name:"%{BKY_ADVANCED}",colour:"%{BKY_ADVANCED_HUE}",toolboxitemid:"advanced",contents:window.Blockly.M5Toolbox.advancedToolbox},{kind:"sep",gap:"64"},{kind:"category",name:"%{BKY_THIRDPARTY}",colour:"%{BKY_PINS_HUE}",toolboxitemid:"thirdparty",contents:window.Blockly.M5Toolbox.thirdpartyToolbox},{kind:"sep",gap:"64",toolboxitemid:"thirdpartySep"},{kind:"category",name:"%{BKY_REMOTE}",colour:"%{BKY_REMOTE_HUE}",contents:window.Blockly.M5Toolbox.remoteToolbox,toolboxitemid:"remote"},{kind:"sep",gap:"64"},{kind:"category",name:"%{BKY_CUSTOM}",colour:"%{BKY_CUSTOM_HUE}",toolboxitemid:"custom",contents:window.Blockly.M5Toolbox.customToolbox}]}},99155:function(e,t,i){"use strict";i.d(t,{G:function(){return se}});var n=i(54569),o=i(67302),r=i(71320),s=i(88259),a=i.n(s),l=i(50402),c=i(92340),h=i(37716),u=i(20138),d=i(81780),p=i(40342),g=i(54120),f=i(99742),m=i(64762),_=i(90665);class v{constructor(){this.isCache=!1,this.chunks=""}transform(e,t){this.isCache&&(this.chunks+=e),t.enqueue(e)}startCache(){this.chunks="",this.isCache=!0}stopCache(){this.isCache=!1}getChunks(){return this.chunks}getChunksPromise(e){this.chunks="",this.isCache=!0;let t=new RegExp(`${e}`);return new Promise((i,n)=>{this.timer=setInterval(()=>{let o=0;(/Error/.test(this.chunks)||/(rst:)[\s\S]*(APIKEY:)/.test(this.chunks))&&(clearInterval(this.timer),n(),this.isCache=!1),t.test(this.chunks)&&(o++,new RegExp(`${e}[\\s\\S\\[\\]]*(>>>)`).test(this.chunks)&&o++),o>1&&(clearInterval(this.timer),i(this.chunks),this.isCache=!1)},30)})}getReadFileFlag(){let e=this.chunks.match(/(\]\r\n\[)/g);return e?e.length+1:1}flush(e){}}var y=i(38583),b=i(76246);const w=["term"],A=["term_box"],x=["progress_bar"];function T(e,t){1&e&&(h.O4$(),h.TgZ(0,"svg",28),h._UZ(1,"path",29),h.qZA())}function C(e,t){1&e&&(h.O4$(),h.TgZ(0,"svg",30),h._UZ(1,"path",31),h.qZA())}function Z(e,t){if(1&e){const e=h.EpF();h.ynx(0),h.TgZ(1,"span",4),h.NdJ("click",function(){return h.CHM(e),h.oxw().runCode()}),h.O4$(),h.TgZ(2,"svg",32),h._UZ(3,"path",33),h.qZA(),h.qZA(),h.kcU(),h.TgZ(4,"span",34),h.NdJ("click",function(){return h.CHM(e),h.oxw().downloadCodeEvent()}),h.O4$(),h.TgZ(5,"svg",35),h._UZ(6,"path",36),h._UZ(7,"path",37),h._UZ(8,"path",38),h.qZA(),h.qZA(),h.kcU(),h.TgZ(9,"span",34),h.NdJ("click",function(){return h.CHM(e),h.oxw().clearTerm()}),h.O4$(),h.TgZ(10,"svg",39),h._UZ(11,"path",40),h.qZA(),h.qZA(),h.kcU(),h._UZ(12,"span",41),h.TgZ(13,"div",42),h.TgZ(14,"span",43),h.NdJ("click",function(){return h.CHM(e),h.oxw().selectFile()}),h._UZ(15,"input",44),h.O4$(),h.TgZ(16,"svg",45),h._UZ(17,"path",46),h._UZ(18,"path",47),h.qZA(),h.kcU(),h.TgZ(19,"span",48),h._uU(20,"Select"),h.qZA(),h.qZA(),h.TgZ(21,"span",49),h.NdJ("click",function(){return h.CHM(e),h.oxw().sendFileToDevice()}),h.O4$(),h.TgZ(22,"svg",50),h._UZ(23,"path",51),h._UZ(24,"path",52),h._UZ(25,"path",53),h._UZ(26,"path",54),h.TgZ(27,"g"),h.TgZ(28,"g"),h._UZ(29,"path",55),h.qZA(),h.qZA(),h.qZA(),h.kcU(),h.TgZ(30,"span",48),h._uU(31,"Send"),h.qZA(),h.qZA(),h.qZA(),h._UZ(32,"span",56),h.TgZ(33,"div",57),h.TgZ(34,"span",43),h.NdJ("click",function(){return h.CHM(e),h.oxw().openFolderDialog()}),h.O4$(),h.TgZ(35,"svg",50),h._UZ(36,"path",51),h._UZ(37,"path",58),h._UZ(38,"path",59),h._UZ(39,"path",60),h._UZ(40,"path",55),h.qZA(),h.kcU(),h.TgZ(41,"span",48),h._uU(42,"Get"),h.qZA(),h.qZA(),h.qZA(),h.BQk()}if(2&e){const e=h.oxw();h.xp6(1),h.ekj("lock",e.isLock),h.xp6(3),h.ekj("lock",e.isLock),h.xp6(5),h.ekj("lock",e.isLock),h.xp6(5),h.ekj("lock",e.isLock),h.xp6(7),h.ekj("lock",e.isLock),h.xp6(11),h.ekj("hidden",e.col<75),h.xp6(1),h.ekj("hidden",e.col<75),h.xp6(1),h.ekj("lock",e.isLock)}}function k(e,t){if(1&e&&(h.TgZ(0,"div",61),h.TgZ(1,"div"),h._uU(2,"Selected File:"),h.qZA(),h.TgZ(3,"div",62),h._uU(4),h.qZA(),h.TgZ(5,"div",63),h._uU(6),h.qZA(),h.TgZ(7,"div",64),h._uU(8),h.qZA(),h.qZA()),2&e){const e=h.oxw();h.xp6(4),h.Oqu(e.fileName),h.xp6(2),h.Oqu(e.fileBytes),h.xp6(2),h.Oqu(e.fileMsg)}}function S(e,t){1&e&&(h.TgZ(0,"div",67),h._uU(1,"Please try again or reconnect!"),h.qZA())}function E(e,t){if(1&e&&(h.TgZ(0,"div",65),h.TgZ(1,"div"),h._uU(2),h.YNc(3,S,2,0,"div",66),h.qZA(),h.qZA()),2&e){const e=h.oxw();h.xp6(2),h.hij(" ",e.errorMsg," "),h.xp6(1),h.Q6J("ngIf",e.showReconnectMsg)}}function M(e,t){if(1&e&&(h.TgZ(0,"div",68),h.TgZ(1,"div"),h._uU(2),h.qZA(),h.qZA()),2&e){const e=h.oxw();h.xp6(2),h.hij(" ",e.successMsg," ")}}function O(e,t){if(1&e){const e=h.EpF();h.TgZ(0,"span",79),h.TgZ(1,"span"),h._uU(2,"/"),h.qZA(),h.TgZ(3,"span",80),h.NdJ("click",function(){const t=h.CHM(e).$implicit;return h.oxw(2).openFolder(t)}),h._uU(4),h.qZA(),h.qZA()}if(2&e){const e=t.$implicit;h.xp6(4),h.Oqu(e)}}function I(e,t){1&e&&(h.O4$(),h.TgZ(0,"svg",87),h._UZ(1,"path",88),h._UZ(2,"path",89),h.qZA())}function P(e,t){1&e&&(h.O4$(),h.TgZ(0,"svg",90),h._UZ(1,"path",91),h._UZ(2,"path",92),h._UZ(3,"path",93),h.qZA())}function R(e,t){if(1&e){const e=h.EpF();h.TgZ(0,"span",94),h.NdJ("click",function(){h.CHM(e);const t=h.oxw().$implicit;return h.oxw(2).getFile(t.name)}),h._uU(1,"Get File"),h.qZA()}}function q(e,t){if(1&e){const e=h.EpF();h.TgZ(0,"div",81),h.TgZ(1,"div",82),h.NdJ("dblclick",function(){const t=h.CHM(e).$implicit;return h.oxw(2).openFolder(t.name,t.type)}),h.TgZ(2,"span",83),h.YNc(3,I,3,0,"svg",84),h.YNc(4,P,4,0,"svg",85),h.qZA(),h.TgZ(5,"span"),h._uU(6),h.qZA(),h.qZA(),h.TgZ(7,"span",76),h._uU(8),h.qZA(),h.YNc(9,R,2,0,"span",86),h.qZA()}if(2&e){const e=t.$implicit;h.xp6(3),h.Q6J("ngIf","directory"===e.type),h.xp6(1),h.Q6J("ngIf","directory"!==e.type),h.xp6(2),h.hij("",e.name," "),h.xp6(2),h.hij(" ","directory"!==e.type?e.size:""," "),h.xp6(1),h.Q6J("ngIf","directory"!==e.type)}}function L(e,t){if(1&e){const e=h.EpF();h.TgZ(0,"div",69),h.TgZ(1,"div",70),h.TgZ(2,"span",14),h.NdJ("click",function(){return h.CHM(e),h.oxw().closeFolderDialog()}),h.O4$(),h.TgZ(3,"svg",71),h._UZ(4,"path",72),h.qZA(),h.qZA(),h.kcU(),h.TgZ(5,"div",73),h.YNc(6,O,5,1,"span",74),h.qZA(),h.TgZ(7,"div",75),h.TgZ(8,"span",62),h._uU(9,"Name"),h.qZA(),h.TgZ(10,"span",76),h._uU(11,"Size(bytes)"),h.qZA(),h.qZA(),h.TgZ(12,"div",77),h.YNc(13,q,10,5,"div",78),h.qZA(),h.qZA(),h.qZA()}if(2&e){const e=h.oxw();h.xp6(6),h.Q6J("ngForOf",e.currentPath),h.xp6(7),h.Q6J("ngForOf",e.currentDirectory)}}let U=(()=>{class e{constructor(e,t,i,n){this.codeEditorSrv=e,this.terminalSrv=t,this.globalOperatorSrv=i,this.storeSrv=n,this.isLock=!1,this.isConnected=!1,this.isError=!1,this.showReconnectMsg=!1,this.showProgress=!1,this.showDirectory=!1,this.allDirectory={},this.currentPath=[],this.currentPosX=0,this.currentPosY=0,this.transformX=0,this.transformY=0,this.col=94,this.row=24,this.form=new _.cw({col:new _.NI(this.col),row:new _.NI(this.row)}),this.sendFile=null,this.successMsg="",this.errorMsg="",this.timerList=[]}ngOnInit(){if(!("serial"in navigator))return a().fire({icon:"error",html:'<div>Web Serial API is not supported! <div> We recommend that you use <span style="color:red;">the Chrome browser</span>.</div></div>',confirmButtonColor:window.Blockly.Msg.SWAL_PRIMARY_HUE,allowOutsideClick:!1}),void this.closeWin()}ngAfterViewInit(){document.querySelectorAll(".resize-handle").forEach(e=>{e.style.display="none"}),this.updateWin(),this.term.keyEventInput.subscribe(e=>{const t=e.domEvent,i=t.ctrlKey||t.metaKey;"Backspace"===t.code?this.term.underlying.buffer.active.cursorX>4&&this.serialWrite(e.key):i&&"KeyV"===t.code?navigator.clipboard.readText().then(e=>{this.serialWrite(e)}).catch(e=>{}):this.serialWrite(e.key)})}handleMoveTerminal(e){let t=e.target.className;if("string"!=typeof t||["terminal-header","terminal-header-title"].indexOf(t)<0)return;this.currentPosX=e.clientX,this.currentPosY=e.clientY;let i=document.defaultView.getComputedStyle(this.term_box.nativeElement).transform.replace("matrix","").replace("(","").replace(")","").split(",");this.transformX=parseInt(i[4])||0,this.transformY=parseInt(i[5])||0;let n=this.handleMoveWindow.bind(this),o=()=>{document.body.removeEventListener("mousemove",n),document.body.removeEventListener("mouseup",o)};document.body.addEventListener("mousemove",n),document.body.addEventListener("mouseup",o)}handleMoveWindow(e){this.term_box.nativeElement.style.transform=`translate(${e.clientX-this.currentPosX+this.transformX}px, ${e.clientY-this.currentPosY+this.transformY}px)`}closeWin(){this.port&&this.closeSerial(),this.terminalSrv.destroy()}hiddenWin(){this.terminalSrv.ref.location.nativeElement.style.transform="translate(-100%, -100%)"}updateWin(){var e;let t=this.term.stylesForDiv,i=document.getElementsByClassName("terminal-header")[0].getClientRects()[0].height||36;if(!t||!this.term_box)return;let n=this.term_box.nativeElement;n.style.width=t.width||n.style.width,n.style.height=`${1*(null===(e=t.height)||void 0===e?void 0:e.replace("px",""))+i}px`||n.style.height}setCol(e){let t=e.target.value;!/^[0-9]+$/gi.test(t)||t<80||(this.col=t,this.term.setCols(this.col),this.updateWin())}setRow(e){let t=e.target.value;!/^[0-9]+$/gi.test(t)||t<6||(this.row=t,this.term.setRows(this.row),this.updateWin())}formBlur(){this.form.patchValue({col:this.col,row:this.row})}clearTerm(){this.term.underlying.clear()}handleConnect(){this.port?this.closeSerial():this.handlePort()}closeSerial(){return(0,m.mG)(this,void 0,void 0,function*(){this.isLock&&(clearInterval(this.transformer.timer),clearInterval(this.writeTimer),clearInterval(this.readFlagTimer),this.clearTimerList()),this.reader.cancel(),yield this.readableStreamClosed.catch(()=>{}),this.writer.close(),yield this.writableStreamClosed,yield this.port.close(),this.term.write("\n\b\b\b\b\b\b\x1b[31mDisconnected from Serial Port\x1b[m\r\n"),this.initData()})}initData(){this.port=void 0,this.isConnected=!1,this.isLock=!1,this.isError=!1,this.showProgress=!1,this.showDirectory=!1,this.showReconnectMsg=!1,this.sendFile=null,this.fileName=void 0,this.fileBytes=void 0,this.fileMsg=void 0,this.getFileName=void 0,this.errorMsg="",this.writeFlag=void 0,this.allDirectory={},this.currentDirectory=void 0,this.currentPath=[]}handlePort(){return(0,m.mG)(this,void 0,void 0,function*(){if(yield navigator.serial.requestPort({}).then(e=>{this.port=e}).catch(e=>{this.term.write(`\x1b[31m${e.toString()}\x1b[m\r\n`),this.isConnected=!1,this.port=void 0}),this.port&&(yield this.port.open({baudRate:115200}).then(()=>{this.isConnected=!0,this.term.write("\x1b[32mConnected to Serial Port!\x1b[m\r\n")}).catch(e=>{this.term.write(`\x1b[31m${e.toString()}\x1b[m\r\n`),this.isConnected=!1,this.port=void 0})),this.isConnected){const e=new TextEncoderStream;this.writableStreamClosed=e.readable.pipeTo(this.port.writable),this.writer=e.writable.getWriter();const t=new TextDecoderStream;this.readableStreamClosed=this.port.readable.pipeTo(t.writable),this.transformer=new v;let i=new TransformStream(this.transformer);this.reader=t.readable.pipeThrough(i).getReader(),this.readSerial()}})}serialWrite(e){return(0,m.mG)(this,void 0,void 0,function*(){yield this.writer.write(e)})}readSerial(){return(0,m.mG)(this,void 0,void 0,function*(){let e=this;try{for(;;){const{value:t,done:i}=yield this.reader.read();if(t&&(this.isLock||e.term.write(t)),i){this.reader.releaseLock();break}}}catch(t){this.errorMsg=t,this.showReconnectMsg=!0}})}beforeWriteToDevice(e){this.transformer.startCache();try{this.serialWrite("\x03"),this.writeTimer=setInterval(()=>{let t=this.transformer.getChunks();/>>>/.test(t)?(this.transformer.stopCache(),clearInterval(this.writeTimer),e()):this.serialWrite("\x03")},100)}catch(t){console.log(t),this.transformer.stopCache(),clearInterval(this.writeTimer)}}runCode(){if(this.isLock)return;this.isLock=!0,"blockly"===this.globalOperatorSrv.mode.value&&this.codeEditorSrv.updateWorkspaceValue();let e=this.codeEditorSrv.workspace.getValue();e=e.replace(/\n{2,}/g,"\n"),this.errorMsg="",this.showReconnectMsg=!1,this.sendFile=null,this.transformer.startCache(),this.beforeWriteToDevice(()=>{this.serialWrite("\x03"),this.serialWrite("gc.collect()\r"),this.serialWrite("\x05");let t=e.split("\n");for(let e=0;e<t.length;e++)this.serialWrite(t[e]+"\r"),e===t.length-1&&(this.serialWrite("\x04"),this.isLock=!1,setTimeout(()=>{this.serialWrite("\x03\x03")},100))})}downloadCodeEvent(){if(!/^[a-z0-9-_]*$/gi.test(this.storeSrv.projectName.value))return this.errorMsg="Please enter a project name using only A-Z, a-z, 0-9, _-",this.successMsg="",this.transformer.stopCache(),void setTimeout(()=>{this.serialWrite("\x03\x03"),this.isLock=!1,this.showProgress=!1,this.isError=!1},200);this.globalOperatorSrv.getCodeLock().subscribe(e=>{!e&&"blockly"===this.globalOperatorSrv.mode.value&&this.codeEditorSrv.updateWorkspaceValue()});let e=this.globalOperatorSrv.saveM5F(),t=this.codeEditorSrv.workspace.getValue(),i=this.storeSrv.projectName.value,n="apps/"+this.storeSrv.projectName.value+".py",o=`blocks/${i}.m5f`;console.log(i),console.log(n),t=t.replace(/\n{2,}/g,"\n"),this.errorMsg="",this.successMsg="",this.showReconnectMsg=!1,this.sendFile=null,this.isLock=!0,this.showProgress=!0,this.setProgressBar(0),this.string2ArrayBuffer(JSON.stringify(e),e=>{let i=new Uint8Array(e);this.beforeWriteToDevice(()=>{this.serialWrite("import gc\r"),this.serialWrite("gc.collect()\r"),this.serialWrite("_fh = open('"+o+"', 'wb')\r"),this.transformer.startCache(),this.fileWritePromise(i).then(e=>{this.string2ArrayBuffer(t,e=>{let t=new Uint8Array(e);this.serialWrite("_fh = open('"+n+"', 'wb')\r"),this.fileWritePromise(t).then(e=>{this.setProgressBar(99),this.serialWrite("_fh.flush()\r"),this.serialWrite("_fh.close()\r"),this.serialWrite("del _fh\r"),this.serialWrite("gc.collect()\r"),this.serialWrite("import deviceCfg\r"),this.serialWrite("from utils import filecp\r"),this.serialWrite(`filecp('${n}', 'main.py')\r`),this.serialWrite("deviceCfg.set_device_mode(2)\r"),this.serialWrite("\x04"),this.setSuccessMsg("Download the program completed!"),setTimeout(()=>{this.isLock=!1,this.showProgress=!1},400)},e=>{this.errorMsg="Failed to download.",this.successMsg="",this.showReconnectMsg=!0,this.transformer.stopCache(),setTimeout(()=>{this.serialWrite("\x03\x03"),this.isLock=!1,this.showProgress=!1,this.isError=!1},200)})})},e=>{this.errorMsg="Failed to download.",this.successMsg="",this.showReconnectMsg=!0,this.transformer.stopCache(),setTimeout(()=>{this.serialWrite("\x03\x03"),this.isLock=!1,this.showProgress=!1,this.isError=!1},200)})})})}string2ArrayBuffer(e,t){let i=new Blob([e]),n=new FileReader;n.readAsArrayBuffer(i),n.onload=e=>(0,m.mG)(this,void 0,void 0,function*(){e.target&&t(e.target.result)})}selectFile(){let e=document.getElementById("__terminalAddFile");e.click(),e.onchange=e=>{this.sendFile=null,this.fileName="",this.fileBytes="",0!==e.target.files.length?(this.errorMsg="",this.showReconnectMsg=!1,this.sendFile=e.target.files[0],this.fileName=this.sendFile.name,this.fileBytes=`${this.sendFile.size} bytes`,this.fileMsg="",e.target.value=""):e.target.value=""}}sendFileToDevice(){if(this.isLock)return;if(!this.sendFile)return this.errorMsg="Please select a file first!",void(this.showReconnectMsg=!1);this.showProgress=!0,this.setProgressBar(0),this.isLock=!0;let e=this.sendFile,t=new FileReader;t.readAsArrayBuffer(e),this.errorMsg="",this.showReconnectMsg=!1,this.fileMsg="Sending...",t.onload=t=>(0,m.mG)(this,void 0,void 0,function*(){let i=new Uint8Array(t.target.result);this.serialWrite("\x03"),this.serialWrite("\x03"),this.serialWrite("gc.collect()\r"),this.serialWrite("_fh = open('"+e.name+"', 'wb')\r"),this.transformer.startCache(),this.fileWritePromise(i).then(e=>{this.setProgressBar(99),this.serialWrite("_fh.flush()\r"),this.serialWrite("_fh.close()\r"),this.serialWrite("del _fh\r"),this.serialWrite("gc.collect()\r"),this.fileMsg="Sending the file completed!",this.setProgressBar(100),this.transformer.stopCache(),setTimeout(()=>{this.isLock=!1,this.showProgress=!1},200)},e=>{this.errorMsg="Failed to send file.",this.showReconnectMsg=!0,this.transformer.stopCache(),setTimeout(()=>{this.serialWrite("\x03\x03"),this.isLock=!1,this.showProgress=!1,this.isError=!1},200)})})}fileWritePromise(e){return new Promise((t,i)=>{this.writeFlag=-1;e:for(let n=0;n<e.length;n+=50){let o="_fh.write(bytes([";for(let t=0;t<50&&n+t<e.length;t++)o+=e[n+t]+",";o+="]))\r";let r=setTimeout(()=>{if(this.serialWrite(o),this.writeFlag=n,e.length>50){let t=96/Math.ceil(e.length/50)*(n/50);this.setProgressBar(t)}let r=this.transformer.getChunks();(/Error/i.test(r)||/(rst:)[\s\S]*(APIKEY:)/.test(r))&&(this.isError=!0,i(!0),this.clearTimerList()),this.writeFlag+50>=e.length&&(this.setProgressBar(96),t(!0))},n/50*100);if(this.timerList.push(r),this.isError)break e}})}openFolderDialog(){this.getFolderDirectory(),this.showDirectory=!0}closeFolderDialog(){this.showDirectory&&clearInterval(this.transformer.timer),this.showDirectory=!1,this.isLock=!1}getFolderDirectory(){this.sendFile=null,this.isLock=!0,this.errorMsg="",this.showReconnectMsg=!1,this.isError=!1,this.beforeWriteToDevice(()=>this.getFolederFromSerial())}getFolederFromSerial(e){let t="";if(e){let i=this.currentPath.slice(1);i.push(e),t=`'${i.join("/")}'`}this.serialWrite(`for f in os.ilistdir(${t}):\r`),this.serialWrite("print(f)\r"),this.serialWrite("\r\r\r"),this.transformer.getChunksPromise("(print\\(f\\))").then(t=>{let i=this.handleFolederData(t);if(e){let t=this.currentPath.join("_")+"_"+e;this.allDirectory[t]=i,this.currentDirectory=i,this.currentPath.push(e)}else this.allDirectory.flash=i,this.currentDirectory=i,this.currentPath=["flash"]},e=>{this.errorMsg="Device is busy, please wait and try again!",this.showReconnectMsg=!1})}handleFolederData(e){let t=[],i=/\..*/g,n=e.replace(/[\S\s]*print\(f\)/,"");n=n.replace(/\.\.\./g,""),n=n.replace(/>>>/g,"").trim();let o=n.split("\r\n");for(let r=0;r<o.length;r++){const e=o[r].replace(/^\(/,"").replace(/\)$/,"").trim();if(!e)return;let n=e.split(",");n.splice(2,1);for(let t=0;t<n.length;t++)n[t]=n[t].replace(/^'/,"").replace(/'$/,"").trim();let s="file";if("16384"===n[1])s="directory";else{let e=n[0].match(i);s=e?e[0].replace(/\./,""):"file"}t.push({name:n[0],type:s,size:n[2]})}return t.sort((e,t)=>{var i=e.type.toUpperCase(),n=t.type.toUpperCase();return i<n?-1:i>n?1:0}),t}openFolder(e,t){if(this.errorMsg="",this.showReconnectMsg=!1,!t){let t=this.currentPath.indexOf(e),i=this.currentPath.slice(0,t+1),n=i.join("_");return this.currentDirectory=this.allDirectory[n],void(this.currentPath=i)}"directory"===t&&this.getFolederFromSerial(e)}getFile(e){let t=this.currentPath.filter(e=>"flash"!==e),i=e;t.length>=1&&(i=t.join("/")+"/"+e),this.getFileName=e,this.closeFolderDialog(),this.getFileFromDevice(i)}getFileFromDevice(e){this.isLock||(this.sendFile=null,this.isLock=!0,this.errorMsg="",this.showReconnectMsg=!1,this.isError=!1,this.showProgress=!0,this.setProgressBar(0),this.serialWrite("\x03\x03\x03"),this.serialWrite(`os.stat('${e}')\r`),this.transformer.getChunksPromise("(os\\.stat)").then(t=>{let i=t.trim().replace(/[^0-9,]*/g,"").split(",")[6];this.setProgressBar(1),0===Number(i)?(this.saveFile(""),setTimeout(()=>{this.isLock=!1,this.showProgress=!1},200)):this.fileReadFromSerial(i,e)},e=>{setTimeout(()=>{this.serialWrite("\x03\x03"),this.isLock=!1,this.showProgress=!1},200),this.errorMsg="Failed to get file, please check file name!",this.showReconnectMsg=!1}))}fileReadFromSerial(e,t){this.serialWrite("\x03\x03"),this.serialWrite("gc.collect()\r"),this.serialWrite(`with open('${t}', 'rb') as _f:\r`),this.serialWrite("while True:\r"),this.serialWrite("_a = _f.read(4096)\r"),this.serialWrite("if not _a:\r"),this.serialWrite("break\r"),this.serialWrite("\b\r"),this.serialWrite("_b = []\r"),this.serialWrite("for c in _a:\r"),this.serialWrite("_b.append(c)\r"),this.serialWrite("\b\r"),this.serialWrite("print(_b)\r"),this.serialWrite("gc.collect()\r"),this.serialWrite("\b\r"),this.serialWrite("_f.close()\r"),this.serialWrite("\r\r\r\x03"),this.setProgressBar(2),this.readFlagTimer=setInterval(()=>{let t=this.transformer.getReadFileFlag(),i=Math.ceil(Number(e)/4096);this.setProgressBar(t<i?92/i*t:94)},50),this.transformer.getChunksPromise("(_f\\.close)").then(e=>{clearInterval(this.readFlagTimer),this.setProgressBar(96);let t=e.replace(/^[\s\S]*(_f\.close\(\)\r\n)/,"");t?(t=t.replace(/(\]\r\n\[)/g,","),t=t.trim().replace(/[^0-9,]*/g,""),this.saveFile(t)):(this.errorMsg="Failed to get file, please check file name!",this.showReconnectMsg=!1),setTimeout(()=>{this.isLock=!1,this.showProgress=!1},200)},e=>{this.errorMsg="Failed to get file.",this.showReconnectMsg=!0,clearInterval(this.readFlagTimer),setTimeout(()=>{this.isLock=!1,this.showProgress=!1},200)})}saveFile(e){this.setProgressBar(98);let t=e.split(","),i=[];for(var n=0;n<t.length;n++)i.push(Number(t[n]));let o=new Uint8Array(i);this.setProgressBar(100),window.doSave(o,"text/latex",this.getFileName),this.getFileName=void 0}setProgressBar(e){this.progress_bar.nativeElement.style.width=`${e}%`}clearTimerList(){for(let e=0;e<this.timerList.length;e++)clearTimeout(this.timerList[e]);this.timerList=[]}setSuccessMsg(e){e&&(this.successMsg=e,setTimeout(()=>{this.successMsg=""},4e3))}}return e.\u0275fac=function(t){return new(t||e)(h.Y36(u.hN),h.Y36(D),h.Y36(u.t0),h.Y36(u.d6))},e.\u0275cmp=h.Xpm({type:e,selectors:[["app-terminal-window"]],viewQuery:function(e,t){if(1&e&&(h.Gf(w,7),h.Gf(A,7),h.Gf(x,7)),2&e){let e;h.iGM(e=h.CRH())&&(t.term=e.first),h.iGM(e=h.CRH())&&(t.term_box=e.first),h.iGM(e=h.CRH())&&(t.progress_bar=e.first)}},decls:35,vars:17,consts:[[1,"terminal-window-wrapper"],["term_box",""],[1,"terminal-header",3,"mousedown"],[1,"terminal-header-title"],[1,"common-btn",3,"click"],["t","1656051901585","class","icon","viewBox","0 0 1024 1024","version","1.1","xmlns","http://www.w3.org/2000/svg","p-id","14888","width","200","height","200",4,"ngIf"],["t","1656051908845","class","icon","viewBox","0 0 1024 1024","version","1.1","xmlns","http://www.w3.org/2000/svg","p-id","15090","width","200","height","200",4,"ngIf"],[4,"ngIf"],[1,"terminal-option",3,"formGroup"],["type","number","formControlName","row",3,"value","change","blur"],["type","number","formControlName","col",3,"value","change","blur"],[1,"hidden-btn",3,"click"],["t","1656413190522","viewBox","0 0 1024 1024","version","1.1","xmlns","http://www.w3.org/2000/svg","p-id","2240","width","200","height","200",1,"icon"],["d","M65.23884 456.152041 958.760137 456.152041l0 111.695918L65.23884 567.847959 65.23884 456.152041z","p-id","2241","fill","#ffffff"],[1,"close-btn",3,"click"],["src","../../../assets/images/cancel.png","alt","CLOSE",1,"cancel"],["class","terminal-file-info",4,"ngIf"],["class","terminal-error-msg",4,"ngIf"],["class","terminal-success-msg",4,"ngIf"],[1,"terminal-body"],["class","terminal-folder-wrapper",4,"ngIf"],[1,"terminal-progress-wrapper"],[1,"progress-desc"],[1,"progress-box"],[1,"progress-bar"],["progress_bar",""],["id","m5-term",3,"rows","cols","draggable"],["term",""],["t","1656051901585","viewBox","0 0 1024 1024","version","1.1","xmlns","http://www.w3.org/2000/svg","p-id","14888","width","200","height","200",1,"icon"],["d","M653.224 370.782c119.494 119.618 117.854 311.396 0.72 429.18-0.22 0.24-0.48 0.5-0.72 0.74l-134.4 134.4c-118.54 118.54-311.398 118.524-429.92 0-118.54-118.52-118.54-311.4 0-429.92l74.212-74.212c19.68-19.68 53.572-6.6 54.588 21.212 1.296 35.444 7.652 71.054 19.38 105.442 3.972 11.644 1.134 24.524-7.566 33.224l-26.174 26.174c-56.052 56.052-57.81 147.32-2.31 203.92 56.048 57.158 148.172 57.498 204.65 1.02l134.4-134.38c56.382-56.382 56.146-147.514 0-203.66-7.402-7.388-14.858-13.128-20.682-17.138a32.074 32.074 0 0 1-13.894-25.212c-0.792-21.134 6.696-42.912 23.396-59.612l42.108-42.11c11.042-11.042 28.364-12.398 41.168-3.462a304.964 304.964 0 0 1 41.044 34.394zM935.094 88.898c-118.522-118.524-311.38-118.54-429.92 0l-134.4 134.4c-0.24 0.24-0.5 0.5-0.72 0.74-117.132 117.784-118.774 309.562 0.72 429.18a304.908 304.908 0 0 0 41.042 34.392c12.804 8.936 30.128 7.578 41.168-3.462l42.108-42.11c16.7-16.7 24.188-38.478 23.396-59.612a32.074 32.074 0 0 0-13.894-25.212c-5.824-4.01-13.28-9.75-20.682-17.138-56.146-56.146-56.382-147.278 0-203.66l134.4-134.38c56.478-56.478 148.6-56.138 204.65 1.02 55.5 56.6 53.744 147.868-2.31 203.92l-26.174 26.174c-8.7 8.7-11.538 21.58-7.566 33.224 11.728 34.388 18.084 69.998 19.38 105.442 1.018 27.812 34.908 40.892 54.588 21.212l74.212-74.212c118.542-118.518 118.542-311.398 0.002-429.918z","fill","#ffffff","p-id","14889"],["t","1656051908845","viewBox","0 0 1024 1024","version","1.1","xmlns","http://www.w3.org/2000/svg","p-id","15090","width","200","height","200",1,"icon"],["d","M608.16328 811.815036c9.371954 9.371954 9.371954 24.56788 0 33.941834l-89.347563 89.347564c-118.525421 118.523421-311.38448 118.531421-429.919901 0-118.527421-118.529421-118.527421-311.39048 0-429.917901l89.349564-89.349563c9.371954-9.371954 24.56788-9.371954 33.941834 0l79.195613 79.195613c9.371954 9.371954 9.371954 24.56788 0 33.941834l-89.349563 89.347564c-56.143726 56.145726-56.143726 147.49928 0 203.645005 56.143726 56.143726 147.49928 56.145726 203.647005 0l89.347564-89.347563c9.371954-9.371954 24.56788-9.371954 33.941834 0l79.193613 79.195613z m-113.135447-520.429459c9.371954 9.371954 24.56788 9.371954 33.941834 0l89.347564-89.347564c56.143726-56.149726 147.49928-56.145726 203.647006 0 56.143726 56.145726 56.143726 147.49928 0 203.645006l-89.349564 89.347564c-9.371954 9.371954-9.371954 24.56788 0 33.941834l79.195613 79.195613c9.371954 9.371954 24.56788 9.371954 33.941834 0l89.349564-89.349563c118.529421-118.529421 118.529421-311.38848 0-429.917901-118.531421-118.527421-311.38848-118.527421-429.919901 0l-89.347563 89.347564c-9.371954 9.371954-9.371954 24.56788 0 33.941834l79.193613 79.195613z m469.653707 718.556492l45.253779-45.253779c18.745908-18.745908 18.745908-49.13776 0-67.881669L127.195629 14.062931c-18.745908-18.745908-49.13776-18.745908-67.881669 0L14.058181 59.31871c-18.745908 18.745908-18.745908 49.13776 0 67.881669l882.74169 882.74169c18.745908 18.743908 49.13776 18.743908 67.881669 0z","fill","#ffffff","p-id","15091"],["t","1638867307047","viewBox","0 0 1024 1024","version","1.1","xmlns","http://www.w3.org/2000/svg","p-id","4644",0,"xmlns","xlink","http://www.w3.org/1999/xlink","width","200","height","200",1,"icon"],["d","M870.2 466.333333l-618.666667-373.28a53.333333 53.333333 0 0 0-80.866666 45.666667v746.56a53.206667 53.206667 0 0 0 80.886666 45.666667l618.666667-373.28a53.333333 53.333333 0 0 0 0-91.333334z","fill","#ffffff","p-id","4645"],[1,"common-btn","clear",3,"click"],["_ngcontent-iqb-c71","","version","1.2","baseProfile","tiny-ps","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 51 51","width","200","height","200",1,"ng-tns-c71-0"],["_ngcontent-iqb-c71","","fill","#ffffff","id","Layer copy","fill-rule","evenodd","d","M46.8 9C49.11 9 51 10.89 51 13.2L51 46.8C51 49.11 49.11 51 46.8 51L13.2 51C10.89 51 9 49.11 9 46.8L9 33.6C10.47 34.44 12.06 35.09 13.75 35.5L13.75 40.7L46.25 40.7L46.25 16.92L35.97 16.92C35.8 14.05 34.96 11.35 33.6 9L46.8 9ZM36.34 45.03L36.34 48.26C36.34 48.46 36.51 48.63 36.71 48.63L42.31 48.63C42.51 48.63 42.68 48.46 42.68 48.26L42.68 45.03C42.68 44.83 42.51 44.66 42.31 44.66L36.71 44.66C36.51 44.66 36.34 44.83 36.34 45.03ZM26.83 45.03L26.83 48.26C26.83 48.46 26.99 48.63 27.2 48.63L32.8 48.63C33.01 48.63 33.17 48.46 33.17 48.26L33.17 45.03C33.17 44.83 33.01 44.66 32.8 44.66L27.2 44.66C26.99 44.66 26.83 44.83 26.83 45.03ZM17.33 45.03L17.33 48.26C17.33 48.46 17.49 48.63 17.69 48.63L23.3 48.63C23.5 48.63 23.67 48.46 23.67 48.26L23.67 45.03C23.67 44.83 23.5 44.66 23.3 44.66L17.69 44.66C17.49 44.66 17.33 44.83 17.33 45.03Z",1,"shp0","ng-tns-c71-0"],["_ngcontent-iqb-c71","","fill","#ffffff","id","\u56fe\u5c42 1","fill-rule","evenodd","d","M18.09 35.99C8.14 36.05 0.05 28.04 0 18.09C-0.05 8.14 7.95 0.05 17.9 0C27.85 -0.05 35.94 7.95 35.99 17.9C36.05 27.85 28.04 35.94 18.09 35.99ZM32.56 18.01C32.54 9.99 26.04 3.52 18.02 3.54C10 3.56 3.53 10.06 3.55 18.08C3.57 26.1 10.07 32.57 18.09 32.55C26.11 32.53 32.58 26.03 32.56 18.01Z",1,"shp0","ng-tns-c71-0"],["_ngcontent-iqb-c71","","fill","#ffffff","id","Layer","fill-rule","evenodd","d","M16.47 30.24C16.63 30.4 16.81 30.52 17.02 30.6C17.22 30.69 17.44 30.73 17.66 30.73C17.88 30.73 18.09 30.68 18.3 30.6C18.5 30.51 18.68 30.39 18.84 30.23L29.26 19.76C29.57 19.45 29.75 19.02 29.75 18.58C29.74 18.13 29.57 17.71 29.25 17.4C28.94 17.08 28.51 16.91 28.07 16.91C27.63 16.91 27.2 17.09 26.89 17.4L19.32 25.01L19.27 6.79C19.26 6.36 19.07 5.95 18.76 5.65C18.45 5.35 18.03 5.18 17.59 5.18C17.16 5.19 16.74 5.35 16.43 5.66C16.12 5.96 15.94 6.37 15.93 6.8L15.97 25.02L8.36 17.45C8.04 17.14 7.62 16.96 7.18 16.96C6.73 16.96 6.31 17.14 5.99 17.46C5.68 17.77 5.51 18.2 5.51 18.64C5.51 19.08 5.69 19.51 6 19.82L16.47 30.24L16.47 30.24Z",1,"shp1","ng-tns-c71-0"],["xmlns","http://www.w3.org/2000/svg","width","200","height","200","viewBox","0 0 200 200"],["d","M194.4 187.5L181.5 113h4.4c3.5 0 6.3-2.8 6.3-6.3V59.8c0-3.5-2.8-6.3-6.3-6.3h-60V9.1c0-3.5-2.8-6.3-6.3-6.3h-39c-3.5 0-6.3 2.8-6.3 6.3v44.4h-60c-3.5 0-6.3 2.8-6.3 6.3v46.8c0 3.5 2.8 6.3 6.3 6.3h4.4L5.6 187.5c-.1.4-.1.7-.1 1.1 0 3.5 2.8 6.3 6.3 6.3h176.3c.4 0 .7 0 1.1-.1 3.5-.6 5.8-3.9 5.2-7.3zM24.9 70.5h66.3V19.8h17.6v50.7h66.3v25.4H24.9V70.5zM139 177.8v-38c0-1.1-.9-2-2-2h-11.7c-1.1 0-2 .9-2 2v38H76.6v-38c0-1.1-.9-2-2-2H62.9c-1.1 0-2 .9-2 2v38H24.6l11-63.4h128.8l11 63.4H139z","fill","#000000",1,"st0"],[1,"btn-divider","ipad-hide"],[1,"file-send-wrap"],[1,"file-btn",3,"click"],["id","__terminalAddFile","type","file","multiple","false",2,"display","none"],["xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","t","1656646895781","viewBox","0 0 1024 1024","version","1.1","p-id","2735","width","200","height","200",1,"icon"],["d","M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326z m1.8 562H232V136h302v216c0 23.2 18.8 42 42 42h216v494z","p-id","2736","fill","#ffffff"],["d","M544 472c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v108H372c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h108v108c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V644h108c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H544V472z","p-id","2737","fill","#ffffff"],[1,"btn-desc"],[1,"file-btn","send-file-btn",3,"click"],["xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","version","1.1","x","0px","y","0px","viewBox","0 0 200 200"],["d","M115.3,148.9H55.4c-2.8,0-5,2.8-5,6.2s2.2,6.2,5,6.2h59.9c2.8,0,5-2.8,5-6.2S118.1,148.9,115.3,148.9z   M115.3,111.4H55.4c-2.8,0-5,2.8-5,6.2c0,3.5,2.2,6.2,5,6.2h59.9c2.8,0,5-2.8,5-6.2C120.3,114.1,118.1,111.4,115.3,111.4z   M55.4,86.4h29.9c2.8,0,5-2.8,5-6.2c0-3.5-2.2-6.2-5-6.2H55.4c-2.8,0-5,2.8-5,6.2C50.5,83.6,52.7,86.4,55.4,86.4z",1,"st0"],["d","M197.1,132.1c0-4-3.2-7.2-7.2-7.2h-57.3c-4,0-7.2,3.2-7.2,7.2s3.2,7.2,7.2,7.2h57.3  C193.9,139.3,197.1,136.1,197.1,132.1z",1,"st0"],["d","M177.6,154.6l17.4-17.4c2.8-2.8,2.8-7.3,0-10.1c-2.8-2.8-7.3-2.8-10.1,0l-17.4,17.4c-2.8,2.8-2.8,7.3,0,10.1  c1.4,1.4,3.2,2.1,5.1,2.1S176.2,156,177.6,154.6z",1,"st0"],["d","M195,137.2c2.8-2.8,2.8-7.3,0-10.1l-17.4-17.4c-2.8-2.8-7.3-2.8-10.1,0c-2.8,2.8-2.8,7.3,0,10.1l17.4,17.4  c1.4,1.4,3.2,2.1,5.1,2.1S193.6,138.6,195,137.2z",1,"st0"],["d","M154.7,158.7v14.8H45.3V26.6h59v42.2c0,4.5,3.7,8.2,8.2,8.2h42.2v27.8h14.1v-44c0-1.7-0.7-3.3-1.8-4.4l-42-42    c-1.2-1.2-2.8-1.8-4.4-1.8h-83c-3.5,0-6.2,2.8-6.2,6.2v162.5c0,3.5,2.8,6.2,6.2,6.2h125c3.5,0,6.2-2.8,6.2-6.2v-22.6H154.7z     M117.6,26.9l36.8,36.8h-36.8V26.9z",1,"st0"],[1,"btn-divider"],[1,"file-get-wrap"],["d","M125.5,132.1c0-4,3.2-7.2,7.2-7.2H190c4,0,7.2,3.2,7.2,7.2s-3.2,7.2-7.2,7.2h-57.3  C128.7,139.3,125.5,136.1,125.5,132.1z",1,"st0"],["d","M145,154.6l-17.4-17.4c-2.8-2.8-2.8-7.3,0-10.1c2.8-2.8,7.3-2.8,10.1,0l17.4,17.4c2.8,2.8,2.8,7.3,0,10.1  c-1.4,1.4-3.2,2.1-5.1,2.1S146.4,156,145,154.6z",1,"st0"],["d","M127.6,137.2c-2.8-2.8-2.8-7.3,0-10.1l17.4-17.4c2.8-2.8,7.3-2.8,10.1,0c2.8,2.8,2.8,7.3,0,10.1l-17.4,17.4  c-1.4,1.4-3.2,2.1-5.1,2.1S129,138.6,127.6,137.2z",1,"st0"],[1,"terminal-file-info"],[1,"file-name"],[1,"file-bytes"],[1,"file-msg"],[1,"terminal-error-msg"],["class","reconnect-msg",4,"ngIf"],[1,"reconnect-msg"],[1,"terminal-success-msg"],[1,"terminal-folder-wrapper"],[1,"folder-box"],["t","1659075568748","viewBox","0 0 1024 1024","version","1.1","xmlns","http://www.w3.org/2000/svg","p-id","1946","width","200","height","200",1,"icon"],["d","M606.831242 520.060515c0.001007-2.168803-0.104715-4.337605-0.299041-6.499359l368.741734-375.125303c27.44532-27.916536 27.44532-73.131134 0-101.072842-13.711584-13.920007-31.683244-20.917768-49.661953-20.917768-17.974681 0-35.94332 6.997761-49.66598 20.917768L518.067411 401.478167 154.187862 37.503972c-14.052914-14.013646-32.449474-21.05873-50.856103-21.05873-18.403608 0-36.810237 7.045084-50.849055 21.05873-28.106835 28.124958-28.106835 73.649673 0 101.759529L433.187086 520.033329 52.481698 900.822288c-28.106835 28.106835-28.106835 73.624502 0 101.713213 28.092738 28.11791 73.609399 28.11791 101.705158 0l367.220351-367.274722 354.538797 360.676689c27.437265 27.930632 71.889661 27.930632 99.327933 0 27.44532-27.90546 27.44532-73.120059 0-101.036594L606.831242 520.060515z","p-id","1947"],[1,"folder-path"],["class","path-item",4,"ngFor","ngForOf"],[1,"folder-table-title"],[1,"file-size"],[1,"folder-list"],["class","folder-item",4,"ngFor","ngForOf"],[1,"path-item"],[3,"click"],[1,"folder-item"],[1,"file-name",3,"dblclick"],[1,"file-icon"],["t","1659063639288","class","icon","viewBox","0 0 1208 1024","version","1.1","xmlns","http://www.w3.org/2000/svg","p-id","7245","width","200","height","200",4,"ngIf"],["t","1659063721599","class","icon","viewBox","0 0 1024 1024","version","1.1","xmlns","http://www.w3.org/2000/svg","p-id","1119","width","200","height","200",4,"ngIf"],["class","file-operate",3,"click",4,"ngIf"],["t","1659063639288","viewBox","0 0 1208 1024","version","1.1","xmlns","http://www.w3.org/2000/svg","p-id","7245","width","200","height","200",1,"icon"],["d","M132.51584 120.4736h879.4368c33.26976 0 60.2368 26.96704 60.2368 60.23168v409.6c0 33.26976-26.96704 60.2368-60.2368 60.2368H132.51584c-33.26464 0-60.23168-26.96704-60.23168-60.2368v-409.6c0-33.26464 26.96704-60.2368 60.23168-60.2368z","fill","#F9B552","p-id","7246"],["d","M469.8368 0c73.18528 0 132.51584 59.33056 132.51584 132.51584v84.3264h469.8368c73.18528 0 132.51584 59.33568 132.51584 132.52096v542.12096c0 73.18528-59.33056 132.51584-132.51584 132.51584H132.51584A132.51584 132.51584 0 0 1 0 891.48416V349.3632c0-4.03456 0.1792-8.06912 0.54272-12.04736A134.25664 134.25664 0 0 1 0 325.2736V132.51584C0 59.33056 59.33056 0 132.51584 0h337.32096z","fill","#FFCF5C","p-id","7247"],["t","1659063721599","viewBox","0 0 1024 1024","version","1.1","xmlns","http://www.w3.org/2000/svg","p-id","1119","width","200","height","200",1,"icon"],["d","M137.90246 0.00041a48.573421 48.573421 0 0 0-35.589106 15.293433A53.964778 53.964778 0 0 0 87.0404 50.934149V968.345622a48.706541 48.706541 0 0 0 15.272954 35.640306 49.97118 49.97118 0 0 0 35.589106 15.293434h746.336982a48.639981 48.639981 0 0 0 35.589105-15.293434 50.37054 50.37054 0 0 0 15.272954-35.640306V288.717094L646.727857 0.00041H137.90246z","fill","#E5E5E5","p-id","1120"],["d","M935.101501 288.717094h-237.445025c-27.822069-0.6656-50.22718-23.075831-50.928619-50.93374V0.00041l288.373644 288.716684z","fill","#CCCCCC","p-id","1121"],["d","M248.125776 365.184264h220.518312a25.51807 25.51807 0 0 0 24.19199-25.49759 25.51807 25.51807 0 0 0-24.19711-25.50271H248.125776a25.51807 25.51807 0 0 0-24.19711 25.49759 25.51807 25.51807 0 0 0 24.19711 25.49759z m0 169.825212h525.82379a25.44639 25.44639 0 0 0 25.431029-25.46687 25.44639 25.44639 0 0 0-25.431029-25.46687h-525.82379a25.44639 25.44639 0 0 0-25.43103 25.46687 25.44639 25.44639 0 0 0 25.43103 25.46687z m525.82379 118.886352h-525.82379a25.51807 25.51807 0 0 0-24.19711 25.49759 25.51807 25.51807 0 0 0 24.19711 25.50271h525.82379a25.51807 25.51807 0 0 0 24.19711-25.49759 25.51807 25.51807 0 0 0-24.19711-25.49759z","fill","#FFFFFF","p-id","1122"],[1,"file-operate",3,"click"]],template:function(e,t){1&e&&(h.TgZ(0,"div",0,1),h.TgZ(2,"div",2),h.NdJ("mousedown",function(e){return t.handleMoveTerminal(e)}),h.TgZ(3,"span",3),h._uU(4,"Terminal"),h.qZA(),h.TgZ(5,"span",4),h.NdJ("click",function(){return t.handleConnect()}),h.YNc(6,T,2,0,"svg",5),h.YNc(7,C,2,0,"svg",6),h.qZA(),h.YNc(8,Z,43,16,"ng-container",7),h.TgZ(9,"form",8),h.TgZ(10,"span"),h._uU(11," Row "),h.TgZ(12,"input",9),h.NdJ("change",function(e){return t.setRow(e)})("blur",function(){return t.formBlur()}),h.qZA(),h.qZA(),h.TgZ(13,"span"),h._uU(14," Col "),h.TgZ(15,"input",10),h.NdJ("change",function(e){return t.setCol(e)})("blur",function(){return t.formBlur()}),h.qZA(),h.qZA(),h.qZA(),h.TgZ(16,"span",11),h.NdJ("click",function(){return t.hiddenWin()}),h.O4$(),h.TgZ(17,"svg",12),h._UZ(18,"path",13),h.qZA(),h.qZA(),h.kcU(),h.TgZ(19,"span",14),h.NdJ("click",function(){return t.closeWin()}),h._UZ(20,"img",15),h.qZA(),h.qZA(),h.YNc(21,k,9,3,"div",16),h.YNc(22,E,4,2,"div",17),h.YNc(23,M,3,1,"div",18),h.TgZ(24,"div",19),h.YNc(25,L,14,2,"div",20),h.TgZ(26,"div",21),h.TgZ(27,"div"),h.TgZ(28,"div",22),h._uU(29,"Progress:"),h.qZA(),h.TgZ(30,"div",23),h._UZ(31,"div",24,25),h.qZA(),h.qZA(),h.qZA(),h._UZ(33,"ng-terminal",26,27),h.qZA(),h.qZA()),2&e&&(h.xp6(2),h.ekj("shrink",t.col<93),h.xp6(4),h.Q6J("ngIf",!t.isConnected),h.xp6(1),h.Q6J("ngIf",t.isConnected),h.xp6(1),h.Q6J("ngIf",t.isConnected),h.xp6(1),h.Q6J("formGroup",t.form),h.xp6(3),h.Q6J("value",t.row),h.xp6(3),h.Q6J("value",t.col),h.xp6(6),h.Q6J("ngIf",t.sendFile&&!t.errorMsg),h.xp6(1),h.Q6J("ngIf",t.errorMsg),h.xp6(1),h.Q6J("ngIf",t.successMsg),h.xp6(2),h.Q6J("ngIf",t.showDirectory),h.xp6(1),h.ekj("show",t.showProgress),h.xp6(7),h.Q6J("rows",t.row)("cols",t.col)("draggable",!1))},directives:[y.O5,_._Y,_.JL,_.sg,_.wV,_.Fj,_.JJ,_.u,b.Eo,y.sg],styles:[".terminal-window-wrapper[_ngcontent-%COMP%]{position:fixed;display:flex;flex-direction:column;box-sizing:border-box;width:871px;height:454px;max-width:100%;max-height:calc(100% - 68px);top:0;bottom:0;left:0;right:0;margin:auto;border-radius:4px;font-family:Arial}.terminal-window-wrapper[_ngcontent-%COMP%]   .hidden-btn[_ngcontent-%COMP%]{position:absolute;right:45px;padding:5px;border-radius:5px;cursor:pointer}.terminal-window-wrapper[_ngcontent-%COMP%]   .hidden-btn[_ngcontent-%COMP%]:hover{background-color:var(--blockCodeBtnFocus-color)}.terminal-window-wrapper[_ngcontent-%COMP%]   .hidden-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:16px;height:16px}.terminal-window-wrapper[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{position:absolute;right:10px;padding:5px;border-radius:5px;cursor:pointer}.terminal-window-wrapper[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{background-color:var(--blockCodeBtnFocus-color)}.terminal-window-wrapper[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:16px;height:16px}.terminal-header[_ngcontent-%COMP%]   .common-btn[_ngcontent-%COMP%], .terminal-header[_ngcontent-%COMP%]   .file-get-wrap[_ngcontent-%COMP%]   .file-btn[_ngcontent-%COMP%], .terminal-header[_ngcontent-%COMP%]   .file-send-wrap[_ngcontent-%COMP%]   .file-btn[_ngcontent-%COMP%]{width:36px;height:26px;display:flex;align-items:center;justify-content:center;background-color:#eee;border-radius:4px;color:hsl(var(--main-hue),100%,51%);cursor:pointer}.terminal-header[_ngcontent-%COMP%]   .common-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%], .terminal-header[_ngcontent-%COMP%]   .file-get-wrap[_ngcontent-%COMP%]   .file-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%], .terminal-header[_ngcontent-%COMP%]   .file-send-wrap[_ngcontent-%COMP%]   .file-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{fill:hsl(var(--main-hue),100%,51%)}.terminal-header[_ngcontent-%COMP%]   .common-btn[_ngcontent-%COMP%]:hover, .terminal-header[_ngcontent-%COMP%]   .file-get-wrap[_ngcontent-%COMP%]   .file-btn[_ngcontent-%COMP%]:hover, .terminal-header[_ngcontent-%COMP%]   .file-send-wrap[_ngcontent-%COMP%]   .file-btn[_ngcontent-%COMP%]:hover{color:#fff;background-color:hsl(var(--main-hue),100%,61%)}.terminal-header[_ngcontent-%COMP%]   .common-btn[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%], .terminal-header[_ngcontent-%COMP%]   .file-get-wrap[_ngcontent-%COMP%]   .file-btn[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%], .terminal-header[_ngcontent-%COMP%]   .file-send-wrap[_ngcontent-%COMP%]   .file-btn[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{fill:#fff}.terminal-header[_ngcontent-%COMP%]   .file-get-wrap[_ngcontent-%COMP%], .terminal-header[_ngcontent-%COMP%]   .file-send-wrap[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:14px;font-weight:bold}.terminal-header[_ngcontent-%COMP%]   .file-get-wrap[_ngcontent-%COMP%]   .file-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%], .terminal-header[_ngcontent-%COMP%]   .file-send-wrap[_ngcontent-%COMP%]   .file-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:20px;height:20px;margin-right:5px}.terminal-header[_ngcontent-%COMP%]   .common-btn.lock[_ngcontent-%COMP%], .terminal-header[_ngcontent-%COMP%]   .file-get-wrap[_ngcontent-%COMP%]   .file-btn.lock[_ngcontent-%COMP%], .terminal-header[_ngcontent-%COMP%]   .file-send-wrap[_ngcontent-%COMP%]   .file-btn.lock[_ngcontent-%COMP%]{pointer-events:none;color:#888;background-color:#888}.terminal-header[_ngcontent-%COMP%]   .common-btn.lock[_ngcontent-%COMP%]   path[_ngcontent-%COMP%], .terminal-header[_ngcontent-%COMP%]   .file-get-wrap[_ngcontent-%COMP%]   .file-btn.lock[_ngcontent-%COMP%]   path[_ngcontent-%COMP%], .terminal-header[_ngcontent-%COMP%]   .file-send-wrap[_ngcontent-%COMP%]   .file-btn.lock[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{fill:#888}.terminal-header[_ngcontent-%COMP%]{position:relative;width:100%;height:36px;padding:0 10px;background-color:hsl(var(--main-hue),100%,51%);color:#fff;display:flex;flex-shrink:0;align-items:center;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:move}.terminal-header.shrink[_ngcontent-%COMP%]   .file-btn[_ngcontent-%COMP%]{width:36px!important}.terminal-header.shrink[_ngcontent-%COMP%]   .file-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{margin-right:0!important}.terminal-header.shrink[_ngcontent-%COMP%]   .btn-desc[_ngcontent-%COMP%]{display:none}.terminal-header[_ngcontent-%COMP%]   .common-btn[_ngcontent-%COMP%]{margin-left:12px}.terminal-header[_ngcontent-%COMP%]   .common-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:16px;height:16px}.terminal-header[_ngcontent-%COMP%]   .common-btn.clear[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:18px;height:18px}.terminal-header[_ngcontent-%COMP%]   .file-send-wrap[_ngcontent-%COMP%]   .file-btn[_ngcontent-%COMP%]{width:82px}.terminal-header[_ngcontent-%COMP%]   .file-send-wrap[_ngcontent-%COMP%]   .send-file-btn[_ngcontent-%COMP%]{margin-left:6px}.terminal-header[_ngcontent-%COMP%]   .file-get-wrap.hidden[_ngcontent-%COMP%]{display:none}.terminal-header[_ngcontent-%COMP%]   .file-get-wrap[_ngcontent-%COMP%]   .file-btn[_ngcontent-%COMP%]{width:70px}.terminal-header[_ngcontent-%COMP%]   .terminal-option[_ngcontent-%COMP%]{position:absolute;right:80px;cursor:default}.terminal-header[_ngcontent-%COMP%]   .terminal-option[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px;margin-left:5px}.terminal-header[_ngcontent-%COMP%]   .terminal-option[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%]{width:46px;height:20px;border-radius:5px;border:none;padding:0 4px}.terminal-header[_ngcontent-%COMP%]   .btn-divider[_ngcontent-%COMP%]{display:inline-block;width:1px;height:25px;background-color:hsl(var(--main-hue),84%,70%);margin:0 12px;opacity:.5}.terminal-header[_ngcontent-%COMP%]   .btn-divider.hidden[_ngcontent-%COMP%]{display:none}.terminal-file-info[_ngcontent-%COMP%]{position:absolute;top:41px;right:0;min-width:150px;max-height:85px;max-width:100%;max-height:100%;padding:10px;color:#fff;background-color:var(--blockCodeBtn-color);z-index:99}.terminal-file-info[_ngcontent-%COMP%]   .file-name[_ngcontent-%COMP%]{margin-top:10px;margin-bottom:5px}.terminal-file-info[_ngcontent-%COMP%]   .file-msg[_ngcontent-%COMP%]{color:#35ff4a;margin-top:5px}.terminal-error-msg[_ngcontent-%COMP%], .terminal-success-msg[_ngcontent-%COMP%]{position:absolute;top:41px;right:0;min-width:150px;max-height:85px;max-width:100%;max-height:100%;padding:10px;color:#fff;background-color:#ff4e50;z-index:99}.terminal-error-msg[_ngcontent-%COMP%]   .reconnect-msg[_ngcontent-%COMP%], .terminal-success-msg[_ngcontent-%COMP%]   .reconnect-msg[_ngcontent-%COMP%]{margin-top:5px}.terminal-success-msg[_ngcontent-%COMP%]{background-color:#1bbe2b}.terminal-body[_ngcontent-%COMP%]{position:relative;background-color:#000;border-left:1px solid #686868;border-right:1px solid #686868;border-bottom:1px solid #686868}.terminal-progress-wrapper[_ngcontent-%COMP%], .terminal-folder-wrapper[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;align-items:center;justify-content:center;background-color:#343434a8;z-index:5}.terminal-folder-wrapper[_ngcontent-%COMP%]{display:flex}.terminal-folder-wrapper[_ngcontent-%COMP%]   .folder-box[_ngcontent-%COMP%]{position:relative;width:67%;height:74%;margin-top:13px;padding:10px;font-size:16px;background-color:#fff;overflow:hidden}.terminal-folder-wrapper[_ngcontent-%COMP%]   .folder-box[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block}.terminal-folder-wrapper[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{top:5px;right:5px;padding:3px}.terminal-folder-wrapper[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{fill:#fff}.terminal-folder-wrapper[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:15px;height:15px}.terminal-folder-wrapper[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{fill:hsl(var(--main-hue),100%,51%)}.terminal-folder-wrapper[_ngcontent-%COMP%]   .folder-path[_ngcontent-%COMP%]{height:23px;line-height:23px;margin-bottom:5px}.terminal-folder-wrapper[_ngcontent-%COMP%]   .folder-path[_ngcontent-%COMP%]   .path-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:last-child{cursor:pointer}.terminal-folder-wrapper[_ngcontent-%COMP%]   .folder-path[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-right:2px}.terminal-folder-wrapper[_ngcontent-%COMP%]   .folder-table-title[_ngcontent-%COMP%]{width:100%;height:27px;margin-bottom:4px;padding:0 3px;font-size:14px;line-height:27px;border-top:1px solid #cccccc;border-bottom:1px solid #cccccc}.terminal-folder-wrapper[_ngcontent-%COMP%]   .folder-table-title[_ngcontent-%COMP%]   .file-name[_ngcontent-%COMP%]{width:58%;cursor:auto}.terminal-folder-wrapper[_ngcontent-%COMP%]   .folder-list[_ngcontent-%COMP%]{height:80%;overflow-y:scroll}.terminal-folder-wrapper[_ngcontent-%COMP%]   .folder-item[_ngcontent-%COMP%]{padding:5px 0 5px 10px;display:flex;align-items:center}.terminal-folder-wrapper[_ngcontent-%COMP%]   .file-name[_ngcontent-%COMP%]{display:flex;align-items:center;width:62%;margin-right:8px;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer}.terminal-folder-wrapper[_ngcontent-%COMP%]   .file-icon[_ngcontent-%COMP%]{margin-right:5px}.terminal-folder-wrapper[_ngcontent-%COMP%]   .file-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:18px;height:18px}.terminal-folder-wrapper[_ngcontent-%COMP%]   .file-size[_ngcontent-%COMP%]{width:12%;margin-right:8px;-webkit-user-select:none;-moz-user-select:none;user-select:none}.terminal-folder-wrapper[_ngcontent-%COMP%]   .file-operate[_ngcontent-%COMP%]{width:14%;height:20px;font-size:13px;line-height:20px;text-align:center;color:#fff;background-color:hsl(var(--main-hue),100%,51%);border-radius:4px;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer}.terminal-folder-wrapper[_ngcontent-%COMP%]   .file-operate[_ngcontent-%COMP%]:hover{background-color:var(--blockCodeBtnFocus-color)}.terminal-progress-wrapper[_ngcontent-%COMP%]{display:none}.terminal-progress-wrapper.show[_ngcontent-%COMP%]{display:flex}.terminal-progress-wrapper.show[_ngcontent-%COMP%] + #m5-term[_ngcontent-%COMP%]{filter:blur(2px)}.terminal-progress-wrapper[_ngcontent-%COMP%]   .progress-desc[_ngcontent-%COMP%]{font-size:16px;color:#fff;margin-bottom:8px}.terminal-progress-wrapper[_ngcontent-%COMP%]   .progress-box[_ngcontent-%COMP%]{width:360px;padding:4px;background:rgba(0,0,0,.25);border-radius:10px;box-shadow:inset 0 1px 2px #00000040,0 1px #ffffff14}.terminal-progress-wrapper[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{width:1%;background-color:#35ff4a;height:16px;border-radius:7px;background-image:linear-gradient(to bottom,rgba(255,255,255,.3),rgba(255,255,255,.05));transition:.1s linear;transition-property:width,background-color;box-shadow:0 0 1px 1px #00000040,inset 0 1px #ffffff1a}"]}),e})();var B=i(26215);let D=(()=>{class e{constructor(e,t,i){this.appRef=e,this.resolver=t,this.injector=i,this.isShow=new B.X(!1)}open(){if(!this.component){this.component=this.resolver.resolveComponentFactory(U);let e=document.body.appendChild(document.createElement(this.component.selector));this.ref=this.component.create(this.injector,[],e),this.appRef.attachView(this.ref.hostView)}this.isShow.next(!0),this.ref.location.nativeElement.style.display="block",this.ref.location.nativeElement.style.transform="none"}getIsShow(){return this.isShow.asObservable()}destroy(){this.component=null,this.ref.destroy()}}return e.\u0275fac=function(t){return new(t||e)(h.LFG(h.z2F),h.LFG(h._Vd),h.LFG(h.zs3))},e.\u0275prov=h.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var N=i(89628),F=i(9582),H=i(99263);function $(e,t){1&e&&(h.ynx(0),h.TgZ(1,"span",83),h._uU(2,"Alpha"),h.qZA(),h.TgZ(3,"span",84),h._uU(4,"M5Paper"),h.qZA(),h.BQk())}function z(e,t){if(1&e&&(h.TgZ(0,"span",84),h._uU(1),h.qZA()),2&e){const e=h.oxw();h.xp6(1),h.Oqu(e.version)}}function V(e,t){1&e&&(h.O4$(),h.kcU(),h.TgZ(0,"span",85),h._uU(1," New shortcut keys are available! "),h._UZ(2,"img",86),h.qZA())}function K(e,t){if(1&e&&(h.O4$(),h.kcU(),h.TgZ(0,"span",87),h._uU(1),h.ALo(2,"async"),h.qZA()),2&e){const e=h.oxw();h.xp6(1),h.Oqu(h.lcZ(2,1,e.historyNum$))}}function W(e,t){if(1&e){const e=h.EpF();h.TgZ(0,"span",31),h.NdJ("click",function(){return h.CHM(e),h.oxw().saveM5F()}),h._UZ(1,"img",88),h.qZA()}}function G(e,t){if(1&e){const e=h.EpF();h.TgZ(0,"span",31),h.NdJ("click",function(){return h.CHM(e),h.oxw().saveAsM5F()}),h._UZ(1,"img",89),h.qZA()}}function Y(e,t){if(1&e){const e=h.EpF();h.TgZ(0,"div",90),h.TgZ(1,"div",91),h.NdJ("click",function(){return h.CHM(e),h.oxw().openTerminal()}),h.TgZ(2,"span"),h.O4$(),h.TgZ(3,"svg",92),h._UZ(4,"path",93),h._UZ(5,"path",94),h._UZ(6,"path",95),h._UZ(7,"path",96),h.qZA(),h.qZA(),h.kcU(),h.TgZ(8,"span"),h._uU(9,"Terminal (Beta)"),h.qZA(),h.qZA(),h.TgZ(10,"div",97),h.NdJ("click",function(){return h.CHM(e),h.oxw().beforeExecCode(0)}),h.TgZ(11,"span"),h.O4$(),h.TgZ(12,"svg",98),h._UZ(13,"path",99),h.qZA(),h.qZA(),h.kcU(),h.TgZ(14,"span",100),h._uU(15,"Run"),h.qZA(),h.qZA(),h.TgZ(16,"div",101),h.NdJ("click",function(){return h.CHM(e),h.oxw().beforeExecCode(1)}),h.TgZ(17,"span"),h.O4$(),h.TgZ(18,"svg",102),h._UZ(19,"path",103),h._UZ(20,"path",104),h._UZ(21,"path",105),h.qZA(),h.qZA(),h.kcU(),h.TgZ(22,"span",100),h._uU(23),h.ALo(24,"translate"),h.qZA(),h.qZA(),h.qZA()}2&e&&(h.xp6(23),h.Oqu(h.lcZ(24,1,"DOWNLOAD")))}function j(e,t){if(1&e){const e=h.EpF();h.TgZ(0,"li",51),h.NdJ("mousedown",function(){return h.CHM(e),h.oxw().saveM5F()}),h._UZ(1,"img",106),h.TgZ(2,"span"),h._uU(3),h.ALo(4,"translate"),h.qZA(),h.qZA()}2&e&&(h.xp6(3),h.Oqu(h.lcZ(4,1,"SAVE")))}function X(e,t){if(1&e){const e=h.EpF();h.TgZ(0,"div",107),h.NdJ("click",function(t){const i=h.CHM(e).$implicit;return h.oxw().showExampleDetail(t,i)}),h._UZ(1,"img",108),h.TgZ(2,"p",109),h._uU(3),h.qZA(),h.qZA()}if(2&e){const e=t.$implicit,i=h.oxw();h.ekj("visibility",e.type==i.type),h.xp6(1),h.Q6J("src","../../../assets/images/examples/"+e.icon,h.LSH),h.xp6(2),h.Oqu(e.title)}}function J(e,t){1&e&&(h.TgZ(0,"p",110),h._uU(1),h.qZA()),2&e&&(h.xp6(1),h.Oqu("Required : "))}function Q(e,t){if(1&e&&(h.TgZ(0,"p",111),h.TgZ(1,"span"),h._uU(2),h.qZA(),h.TgZ(3,"span",112),h._uU(4),h.qZA(),h.TgZ(5,"span"),h._uU(6),h.qZA(),h.TgZ(7,"span",112),h._uU(8),h.qZA(),h.qZA()),2&e){const e=t.$implicit;h.xp6(2),h.Oqu("Connect the Unit "),h.xp6(2),h.Oqu(e.unit),h.xp6(2),h.Oqu(" to the port "),h.xp6(2),h.Oqu(e.port)}}function ee(e,t){if(1&e&&(h.TgZ(0,"p",111),h._uU(1),h.qZA()),2&e){const e=t.$implicit;h.xp6(1),h.Oqu(e)}}function te(e,t){if(1&e&&(h.TgZ(0,"p",113),h.TgZ(1,"span",114),h._uU(2,"Thanks for "),h.TgZ(3,"span",115),h._uU(4),h.qZA(),h.qZA(),h.qZA()),2&e){const e=h.oxw();h.xp6(4),h.Oqu(null==e.exampleDetail?null:e.exampleDetail.author)}}function ie(e,t){if(1&e&&(h.TgZ(0,"span",123),h._uU(1),h.qZA()),2&e){const e=h.oxw(3);h.xp6(1),h.Oqu(e.copyTip)}}function ne(e,t){if(1&e){const e=h.EpF();h.TgZ(0,"div",119),h._UZ(1,"qrcode",120),h.ALo(2,"async"),h.TgZ(3,"button",121),h.NdJ("click",function(){return h.CHM(e),h.oxw(2).copyQRcodeUrl()}),h._uU(4),h.qZA(),h.YNc(5,ie,2,1,"span",122),h.qZA()}if(2&e){const e=h.oxw(2);h.xp6(1),h.Q6J("qrdata",h.lcZ(2,5,e.remoteKey$))("width",128)("errorCorrectionLevel","M"),h.xp6(3),h.Oqu("Copy Url"),h.xp6(1),h.Q6J("ngIf",""!==e.copyTip)}}function oe(e,t){if(1&e){const e=h.EpF();h.TgZ(0,"div",116),h.TgZ(1,"span",19),h.NdJ("click",function(){return h.CHM(e),h.oxw().showQRCode()}),h._UZ(2,"img",117),h.YNc(3,ne,6,7,"div",118),h.ALo(4,"async"),h.qZA(),h.qZA()}if(2&e){const e=h.oxw();h.xp6(3),h.Q6J("ngIf",""!==h.lcZ(4,1,e.remoteKey$)&&e.isShowQRcode)}}function re(e,t){1&e&&h._UZ(0,"app-loading")}let se=(()=>{class e{constructor(e,t,i,n,r,s,a,l,c,h,u,d,p,g,f,m,_,v,y,b){this.globalOperatorSrv=e,this.uploadSrv=t,this.codeEditorSrv=i,this.codeMakerSrv=n,this.storeSrv=r,this.translate=s,this.blocklyEditorSrv=a,this.zrenderHelperMb=l,this.zenaderHelp=c,this.uiEditorSrv=h,this.loadFileSrv=u,this.loginSrv=d,this.seniorOperatorSrv=p,this.pnpSrv=g,this.screenSimulatorSrv=f,this.m5fHistorySrv=m,this.terminalServiceSrv=_,this.editLocalFileSrv=v,this.route=y,this.guideSrv=b,this.dropdownState="hide",this.loginState="hide",this.userName="",this.completeUserName="",this.avator="",this.m5token="",this.copyTip="",this.exampleVisibility=!1,this.exampleDetail=null,this.isShowQRcode=!1,this.exampleList=o.Qf,this.loddingMode=!1,this.canClick=!1,this.version="",this.stick=!1,this.isBeta=!1,this.type=sessionStorage.getItem("_type")||"core",this.showPrompts=!1,this.shortcutVersion=2,this.isSupportSaveas=!1,this.UIHELP=this.globalOperatorSrv.ismb?this.zrenderHelperMb:this.zenaderHelp,this.historyNum$=this.m5fHistorySrv.getHistoryNum()}ngOnInit(){let e=JSON.parse(localStorage.getItem("shortcut_ver"));this.showPrompts=!e||e!=this.shortcutVersion,this.version=this.storeSrv.VERSION,this.storeSrv.setVersions("Beta"),null===localStorage.getItem("versionModal")&&localStorage.setItem("versionModal",JSON.stringify({display:"show",ver:c.N.version})),document.documentElement.hasAttribute("version")&&document.documentElement.removeAttribute("version"),this.canClick=!0,this.mode$=this.globalOperatorSrv.getMode(),this.storeSrv.getLoginStatus().subscribe(e=>{this.isLogin=e,this.isLogin?(this.m5token=localStorage.getItem(o.k2.TOKEN)?localStorage.getItem(o.k2.TOKEN):sessionStorage.getItem(o.k2.TOKEN),this.getUserInfo()):this.m5token=""}),this.projectName$=this.storeSrv.getProjectName(),this.remoteKey$=this.storeSrv.getRemoteKey(),this.erweima$=this.storeSrv.showerweima(),this.storeSrv.getLoadingMode().subscribe(e=>{this.loddingMode=e}),localStorage.getItem("AllAPIKEY")?localStorage.getItem("AllAPIKEY").length<3&&localStorage.setItem("AllAPIKEY",JSON.stringify([""])):localStorage.setItem("AllAPIKEY",JSON.stringify([""])),this.storeSrv.getType().subscribe(e=>{this.type=e,"stick"===e?this.stick=!0:"core"===e||e===o.__.CORETWO||e===o.__.COREINK||e===o.__.PAPER||e===o.__.TOUGH||e===o.__.M5STATION?this.stick=!1:("stick-C"===e||"stick-C-plus"===e||e===o.__.STICK_C_PLUS2)&&(this.stick=!0)}),this.remakeExampleList();let t=this;if(document.body.addEventListener("keydown",function(e){e.ctrlKey&&"r"===e.key?(t.beforeExecCode(0),e.preventDefault()):e.ctrlKey&&"d"===e.key?(t.beforeExecCode(1),e.preventDefault()):e.ctrlKey&&"b"===e.key?(window.BlocklyEditor.toolbox_.selectRecentlyUsed(),e.preventDefault()):e.altKey&&"q"===e.key&&window.Blockly.Variables.createVariableButtonHandler(window.BlocklyEditor)}),!localStorage.getItem("_uuid")){let e=this.globalOperatorSrv.createUUID();localStorage.setItem("_uuid",e)}window.indexedDB&&this.m5fHistorySrv.createDB(),this.editLocalFileSrv.getIsSupport().subscribe(e=>{this.isSupportSaveas=e})}remakeExampleList(){let e=JSON.parse(JSON.stringify(o.Qf)).filter(e=>"core"===e.type).map(e=>(e.type="fire",e)),t=JSON.parse(JSON.stringify(o.Qf)).filter(e=>"atom"===e.type).map(e=>(e.type="atom-matrix",e));this.exampleList=[].concat(o.Qf,e,t)}version_show(){this.canClick&&(this.canClick=!1,this.openModal(o.eA.VERSION_PANEL),setTimeout(()=>{this.canClick=!0},1e3))}guide_show(){this.guideSrv.open()}openDropdownList(){if(this.globalOperatorSrv.createMessageBox().instance.success(""),"show"===this.dropdownState)return this.dropdownState="hide";this.dropdownState="show"}closeDropdownList(e){this.dropdownState="hide",this.loginState="hide"}onmouseover(){this.isLogin?(this.getUserInfo(),this.loginState="show"):this.loginState="hide"}onmouseleave(){this.loginState="hide"}beforeSetMode(e){this.codeEditorSrv.createWarnSwal(()=>{this.setMode(e)})}setMode(e){this.MODE=e;var t=this;if(e===o.IK.CODE)t.globalOperatorSrv.setMode(e),t.codeEditorSrv.updateWorkspaceValue(),document.getElementsByClassName("blocklyWidgetDiv")[0].style.display="none",window.Blockly.DropDownDiv.hide();else if(t.codeEditorSrv.getWorkspaceValue()==this.codeEditorSrv.workspace.getValue()){t.globalOperatorSrv.setMode(e);let i=setTimeout(()=>{var e=document.createEvent("Event");e.initEvent("resize",!0,!0),window.dispatchEvent(e),clearTimeout(i)})}else{if("blockly"==t.globalOperatorSrv.getMode().source._value)return!1;this.globalOperatorSrv.setUIVisibility(!0),this.globalOperatorSrv.warnSwal("Blockly does not retain your newly created python. Are you sure you want to return it?",function(){t.globalOperatorSrv.setMode(e);let i=setTimeout(()=>{var e=document.createEvent("Event");e.initEvent("resize",!0,!0),window.dispatchEvent(e),clearTimeout(i)})})}}setMBMode(e){this.globalOperatorSrv.setMode(e),this.storeSrv.uieditorMode.next(!0),setTimeout(()=>{this.globalOperatorSrv.setSelectedUnit(null),this.globalOperatorSrv.setSelectedStamp(null),this.globalOperatorSrv.setSelectedComponent(null),this.globalOperatorSrv.setSelectedRemotePlus(null)},1),e===o.IK.CODE&&this.codeEditorSrv.updateWorkspaceValue()}setuieditorMode(e){this.globalOperatorSrv.setMode(e),this.storeSrv.uieditorMode.next(!1)}beforeExecCode(e){let t,i=window.BlocklyEditor.getAllBlocks();i.forEach(e=>{/^(__Tello_)/.test(e.type)&&!e.disabled&&(t="tello.py")});const n=()=>{t?this.loadFileSrv.checkImportFile(t,()=>{this.codeEditorSrv.createWarnSwal(()=>{e?this.downloadCode():this.execCode()})}):this.codeEditorSrv.createWarnSwal(()=>{e?this.downloadCode():this.execCode()})};let r=sessionStorage.getItem("_type");(r===o.__.COREINK||r===o.__.PAPER)&&-1===i.findIndex(e=>"screen_set_show"===e.type&&!e.disabled||"screen_set_paritalshow"===e.type&&!e.disabled)?this.globalOperatorSrv.warnSwal('Lack block "Set screen set show" or "Set screen partial show".',function(){n()}):n()}execCode(){let e="";if(e=this.globalOperatorSrv.mode.value===o.IK.CODE?this.codeEditorSrv.workspace.getValue():this.codeMakerSrv.makeCode(),""===this.storeSrv.apiKey.value)return void this.translate.get("KEY_ISNULL_ERROR").subscribe(e=>{this.globalOperatorSrv.createMessageBox().instance.error(e)});if(window.Blockly.RemoteV2.length>0){for(var t=window.Blockly.RemoteV2,i=[],n=0;n<t.length;n++)i.push({name:t[n].name,type:t[n].type,dataType:t[n].type,bindingKey:t[n].bindingKey});this.uploadSrv.createDashboard(i).subscribe(),this.storeSrv.setRemoteKey(`http://beta.flow-remote.m5stack.com/?d=${window.btoa(this.storeSrv.apiKey.value)}`)}let r=window.BlocklyEditor.getAllBlocks().findIndex(e=>"remote_set_qrcode"===e.type),s=window.BlocklyEditor.getAllBlocks().findIndex(e=>"remoteplus_set_qrcode"===e.type),a=0===window.Blockly.Remotes.length&&-1===r,l=0===window.Blockly.RemotePlus.filter(e=>"__title"!==e.id).length&&-1===s;if(a&&l)this.uploadSrv.execCode(e).subscribe(e=>{let t=(new Date).getTime()-this.uploadSrv.timestamp;this.translate.get("EXECUTCODE_SUCCESS").subscribe(e=>{this.globalOperatorSrv.createMessageBox().instance.success(e+` (${t} ms)`)}),this.m5fHistorySrv.addM5fData()},e=>{this.translate.get("REMOTE_ERROR").subscribe(e=>{this.globalOperatorSrv.createMessageBox().instance.error(e)})});else{let t=l?window.Blockly.Remotes:window.Blockly.RemotePlus,i=[];if(l)for(let e=0;e<t.length;e++)i.push({name:t[e].name,event:t[e].event,type:t[e].type,icon:t[e].icon||null,index:t[e].index,interval:t[e].interval||null,title:t[e].title||null});else for(let e=0;e<t.length;e++)i.push(Object.assign(Object.assign({},t[e]),{dragAndDrop:!1,resizable:!1}));let n=JSON.stringify({id:this.storeSrv.apiKey.value,data:i,version:l?"v1":"v2"});this.uploadSrv.getRemoteKey(n).subscribe(t=>{l?(window.Blockly.REMOTE_KEY=t.data,this.storeSrv.setRemoteKey(`http://${window.location.host}/?remote=${t.data}`)):(window.Blockly.REMOTE_PLUS_KEY=t.data,this.globalOperatorSrv.setRemotePlusUrl(`http://${window.location.host}/remote?id=${t.data}`)),e=this.globalOperatorSrv.mode.value===o.IK.CODE?this.codeEditorSrv.workspace.getValue():this.codeMakerSrv.makeCode(),this.uploadSrv.execCode(e).subscribe(e=>{let t=(new Date).getTime()-this.uploadSrv.timestamp;this.translate.get("EXECUTCODE_SUCCESS").subscribe(e=>{this.globalOperatorSrv.createMessageBox().instance.success(e+` (${t} ms)`)}),this.m5fHistorySrv.addM5fData()},e=>{this.translate.get("APIKRY_ERROR").subscribe(e=>{this.globalOperatorSrv.createMessageBox().instance.error(e)})})})}}openSettingPanel(e){null!==e&&(e.stopPropagation(),e.preventDefault(),this.dropdownState="hide"),this.globalOperatorSrv.createMaskModal(r.g).instance.createDynamicComponent(o.eA.SETTING_PANEL)}openResourceManager(){this.globalOperatorSrv.createMaskModal(r.g).instance.createDynamicComponent(o.eA.RESOURCE_MANAGER)}changeProjectName(e){this.storeSrv.setProjectName(e.target.value)}downloadCode(){if(this.globalOperatorSrv.getCodeLock().subscribe(e=>{!e&&"blockly"===this.globalOperatorSrv.mode.value&&this.codeEditorSrv.updateWorkspaceValue()}),""===this.storeSrv.apiKey.value)return void this.translate.get("KEY_ISNULL_ERROR").subscribe(e=>{this.globalOperatorSrv.createMessageBox().instance.error(e)});if(""===this.storeSrv.projectName.value)return void this.translate.get("NAME_ISNULL_ERROR").subscribe(e=>{this.globalOperatorSrv.createMessageBox().instance.error(e)});if(!/^[a-z0-9-_]*$/gi.test(this.storeSrv.projectName.value))return void a().fire({icon:"warning",text:"Please enter a project name using only A-Z, a-z, 0-9, _-",confirmButtonColor:window.Blockly.Msg.SWAL_DANGER_HUE,confirmButtonText:"OK",allowOutsideClick:!0});let e="";e=this.globalOperatorSrv.mode.value===o.IK.CODE?this.codeEditorSrv.workspace.getValue():this.codeMakerSrv.makeCode(),e=this.espnowCheckCode(e),this.uploadSrv.beforeUploadCode().subscribe(t=>{this.translate.get("UPLOADING_LOADING").subscribe(e=>{this.globalOperatorSrv.createMessageBox().instance.loading(e)}),this.uploadSrv.uploadCode(e).subscribe(e=>{this.uploadSrv.saveBlocklyFile(this.globalOperatorSrv.saveM5F()).subscribe(e=>{let t=(new Date).getTime()-this.uploadSrv.timestamp;this.translate.get("UPLOADING_SUCCESS").subscribe(e=>{this.globalOperatorSrv.createMessageBox().instance.success(e+` (${t} ms)`)}),this.uploadSrv.afterUploadCode().subscribe()},e=>{this.seniorOperatorSrv.requestError(0,e)})},e=>{this.seniorOperatorSrv.requestError(0,e)})})}saveM5F(){this.codeEditorSrv.createWarnSwal(()=>{let e=this.globalOperatorSrv.saveM5F();this.editLocalFileSrv.saveFile(JSON.stringify(e))})}saveAsM5F(){this.codeEditorSrv.createWarnSwal(()=>{let e=this.globalOperatorSrv.saveM5F();this.editLocalFileSrv.saveFileAs(JSON.stringify(e))})}openM5F(){this.codeEditorSrv.createWarnSwal(()=>{this.editLocalFileSrv.openFile((e,t)=>{/(\.m5f)$/i.test(t.name)?(this.uploadSrv.clearUrlSearch(),this.M5F_create([e,t]),this.screenSimulatorSrv.destroy()):a().fire({icon:"warning",text:"This file type is not supported.",confirmButtonColor:window.Blockly.Msg.SWAL_DANGER_HUE,confirmButtonText:"OK",allowOutsideClick:!0})})})}M5F_create(e){var t=e[0],i=e[1]?e[1]:null,n=JSON.parse(t).type?JSON.parse(t).type:"core";this.type!==n&&this.storeSrv.setType(n),sessionStorage.setItem("_type",n);let o=this;try{let e=function(){o.uploadSrv.getDeviceInfo().subscribe(e=>{0===e.code&&e.data[2].length>0&&r.forEach((e,t)=>{setTimeout(()=>{o.loadImg(e)},1e3*t)})},e=>{})};this.pnpSrv.disablePnP();let n=JSON.parse(t);this.globalOperatorSrv.openM5F(n),null!==i&&this.storeSrv.setProjectName(i.name.split(i.name.match(/.m5f/g)[0])[0]);let r=window.Blockly.M5Component.filter(e=>"image"===e.type),s=this.storeSrv.getApikey().source._value,l=localStorage.getItem("_uuid");n.uuid===l&&n.apikey&&""!==n.apikey&&n.apikey!==s?a().fire({icon:"warning",html:`<div>Do you want to use the last saved ApiKey <span style="color:red;">${n.apikey}</span>?</div>`,confirmButtonColor:window.Blockly.Msg.SWAL_PRIMARY_HUE,confirmButtonText:"OK",showCancelButton:!0,allowOutsideClick:!1}).then(t=>{t.isConfirmed&&o.storeSrv.setApikey(n.apikey),e()}):e()}catch(r){console.log(r)}}undo(){this.globalOperatorSrv.undo()}redo(){this.globalOperatorSrv.redo()}showQRCode(){if(""!==this.storeSrv.remoteKey.value)return this.isShowQRcode?this.isShowQRcode=!1:void(this.isShowQRcode=!0);this.translate.get("REMOTE_ERROR").subscribe(e=>{this.globalOperatorSrv.createMessageBox().instance.error(e)})}copyQRcodeUrl(){this.copyTip="Copied",new window.ClipboardJS(".btn-clipboard",{text:(function(){return this.storeSrv.remoteKey.value}).bind(this)});let e=setTimeout(()=>{this.copyTip="",clearTimeout(e)},3e3)}showExample(){if(this.exampleVisibility)return this.exampleDetail=null,void(this.exampleVisibility=!1);this.exampleVisibility=!0}hideExample(){this.exampleDetail=null,this.exampleVisibility=!1}showExampleDetail(e,t){e.stopPropagation(),e.preventDefault(),this.exampleDetail=t}runExample(e){e.stopPropagation(),e.preventDefault(),null!==this.exampleDetail&&this.uploadSrv.jumpExamplesRoute(this.exampleDetail.file)}stopPropagation(e){e.stopPropagation(),e.preventDefault()}openUpdateRecord(e){this.openModal(o.eA.UPDATA_PANEL)}openModal(e){this.globalOperatorSrv.createMaskModal(r.g).instance.createDynamicComponent(e)}new_btn(){const e=()=>{this.codeEditorSrv.createWarnSwal(()=>{window.BlocklyEditor.clear(),this.blocklyEditorSrv.newBlock_init(),this.storeSrv.removeHatList(),this.storeSrv.removeUnitList(),this.globalOperatorSrv.removeRemotePlusList(),this.storeSrv.setProjectName("main"),this.UIHELP.zrenderWorkspace&&(this.UIHELP.screenContainer.removeAll(),this.UIHELP.zrenderWorkspace.refreshImmediately(),this.storeSrv.removeComponentAll(),window.UIEditor.redrawSvg({}),"atom-matrix"==sessionStorage.getItem("_type")&&this.storeSrv.setMatrixArray([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),this.uiEditorSrv.initScene()),this.screenSimulatorSrv.destroy(),window.BlocklyEditor.toolbox_.selectedItem_?window.BlocklyEditor.toolbox_.setSelectedItem(null):window.BlocklyEditor.getFlyout().isVisible_&&window.BlocklyEditor.getFlyout().setVisible(!1)})};a().fire({icon:"warning",text:"Create new project will clear the current workspace. Are you sure you want to create?",showCancelButton:!0,showDenyButton:!0,confirmButtonColor:window.Blockly.Msg.SWAL_PRIMARY_HUE,denyButtonColor:window.Blockly.Msg.SWAL_DANGER_HUE,cancelButtonColor:window.Blockly.Msg.SWAL_GRAY_HUE,confirmButtonText:"Save the file and create",denyButtonText:"Create but don't save",allowOutsideClick:!1}).then(t=>{t.isConfirmed?(this.saveM5F(),e()):t.isDenied&&e()})}loadImg(e){const t=e.imagePath;if("default.jpg"===t||"default.png"===t)return void this.changeToDefaultImgHandler(e);let i=this.storeSrv.deviceInfo.value,n="",o=i.resources.filter(e=>e.filename===t);0===o.length?this.globalOperatorSrv.createMessageBox().instance.error(`${t} does not exist!`):n=o[0].base64,""===n?this.uploadSrv.reloadImg(t).subscribe(n=>{if(0===n.code&&""!==n.data&&"base64"===n.type){let o=n.data.replace("/\n/g","");this.updateImgHandler(e,`data:image/jpg;base64,${o}`),i.resources=i.resources.map(e=>(e.filename===t&&(e.base64=`data:image/jpg;base64,${o}`),e)),this.storeSrv.setDeviceInfo(i)}},e=>{console.log(e)}):this.updateImgHandler(e,n)}updateImgHandler(e,t){let i=sessionStorage.getItem("_type"),n=document.createElement("img");n.onload=()=>{document.body.appendChild(n);let r=n.width-0,s=n.height-0;n.style.display="none",i!=o.__.ATOM_DISPLAY&&((0,l.Ax)(t,e,t=>{this.UIHELP.updateSvg(e,o.pA.IMAGE_PATH,t),this.UIHELP.updateSvg(e,o.pA.IMAGE_WIDTH,r),this.UIHELP.updateSvg(e,o.pA.IMAGE_HEIGHT,s),e.componentSvg.dirty(),e.componentSvg._image.onload=()=>{e.componentSvg.dirty()},e.componentSvg._image.src=e.componentSvg.style.image}),document.body.removeChild(n))},n.src=`${t}`}changeToDefaultImgHandler(e){let t=sessionStorage.getItem("_type"),i=[o.__.CORETWO,o.__.TOUGH].indexOf(t)>-1?"default.png":"default.jpg",n=(0,l.qU)(sessionStorage.getItem("_type")).img;e.setProp(o.pA.IMAGE_PATH,i),(0,l.Ax)(n,e,t=>{this.UIHELP.updateSvg(e,o.pA.IMAGE_PATH,t),e.componentSvg.dirty(),e.componentSvg._image.onload=()=>{e.componentSvg.dirty()},e.componentSvg._image.src=e.componentSvg.style.image})}getUserInfo(){this.storeSrv.getUserInfo().subscribe(e=>{e?(this.avator=e.avator,this.completeUserName=e.userName,this.userName=e.userName&&e.userName.length>10?`${e.userName.slice(0,11)}...`:e.userName):(this.avator=null,this.userName=null)})}ngAfterViewInit(){let e;e=localStorage.getItem(o.k2.TOKEN)?localStorage.getItem(o.k2.TOKEN):sessionStorage.getItem(o.k2.TOKEN),e&&e.length>0?this.loginSrv.query(e).subscribe(t=>{this.m5token=e,200===t.status&&this.getUserInfo()}):this.storeSrv.setLoginStatus(!1);const t=JSON.parse(localStorage.getItem("versionModal")),i=localStorage.getItem("guide")||"false";t.ver!==c.N.version?(localStorage.setItem("versionModal",JSON.stringify({display:"show",ver:c.N.version})),setTimeout(()=>this.openModal(o.eA.VERSION_ENTRY),200)):"show"===t.display?this.route.queryParams.subscribe(e=>{Object.keys(e).includes("examples")||setTimeout(()=>this.openModal(o.eA.VERSION_ENTRY),200)}):"false"===i&&setTimeout(()=>this.guideSrv.setIsOpenGuide(!0),200)}login(){this.isLogin||this.openModal(o.eA.LOGIN_MODAL)}logout(){let e=this;this.globalOperatorSrv.warnSwal("Are you sure you want to logout?",function(){e.loginSrv.logout().subscribe()})}openDevicePlatform(){window.open(`https://devm.m5stack.com/?sid=${this.m5token}`,"_blank")}openBBS(){window.open(`https://forum.m5stack.com/user/${this.completeUserName}`,"_blank")}openEzdataDebugger(){let e=localStorage.getItem("dataToken")||"";e?window.open(`https://ezdata.m5stack.com/debugger/?token=${e}`):window.open("https://ezdata.m5stack.com/debugger/")}espnowCheckCode(e){let t=(e=e.split("\n")).indexOf("wifiCfg.wlan_ap.active(True)");if(t>-1){let i=!1;for(let n=0;n<t;n++)/^(wifiCfg\.autoConnect)/.test(e[n])&&(i=!0);i||e.splice(t,0,"wifiCfg.autoConnect(lcdShow=False)")}return e.join("\n")}openTerminal(){this.terminalServiceSrv.open()}viewHistory(){this.m5fHistorySrv.checkDB()&&this.openModal(o.eA.M5F_HISTORY)}openShortcutList(e){this.showPrompts=!1,localStorage.setItem("shortcut_ver",JSON.stringify(this.shortcutVersion)),!(e.target.classList.value.indexOf("prompts-cancel")>-1)&&this.openModal(o.eA.SHORTCUT_LIST)}}return e.\u0275fac=function(t){return new(t||e)(h.Y36(u.t0),h.Y36(u.C7),h.Y36(u.hN),h.Y36(u.Ax),h.Y36(u.d6),h.Y36(d.sK),h.Y36(p.O),h.Y36(u.j),h.Y36(u._5),h.Y36(u.xs),h.Y36(u.op),h.Y36(g.j),h.Y36(u.VY),h.Y36(u.rR),h.Y36(f.s),h.Y36(u.s9),h.Y36(D),h.Y36(u.iu),h.Y36(N.gz),h.Y36(F.C))},e.\u0275cmp=h.Xpm({type:e,selectors:[["app-header"]],decls:160,vars:79,consts:[["ref","guide",1,"wrapper"],["src","../../../assets/images/flow_logo.png","alt","logo",1,"img--logo"],[1,"txt--version--wrap"],[4,"ngIf","ngIfElse"],["elseTemplate",""],[1,"info--project","ipone_h"],["src","../../../assets/images/file.png","alt","Project",1,"img"],[1,"txt--project"],["spellcheck","false","type","text",1,"input--project",3,"value","input"],[1,"top-nav",3,"click"],[1,"btn","blockly",3,"click"],["src","../../../assets/images/puzzle.png","alt","Blockly"],[1,"btn","code",3,"click"],["src","../../../assets/images/code.png","alt","Python"],[1,"list--btn"],[1,"shortcut-icon",3,"click"],["t","1662100457741","viewBox","0 0 1097 1024","version","1.1","xmlns","http://www.w3.org/2000/svg","p-id","6253","width","200","height","200",1,"icon"],["d","M219.428571 667.428571v54.857143q0 9.142857-9.142857 9.142857h-54.857143q-9.142857 0-9.142857-9.142857v-54.857143q0-9.142857 9.142857-9.142857h54.857143q9.142857 0 9.142857 9.142857z m73.142858-146.285714v54.857143q0 9.142857-9.142858 9.142857H155.428571q-9.142857 0-9.142857-9.142857v-54.857143q0-9.142857 9.142857-9.142857h128q9.142857 0 9.142858 9.142857zM219.428571 374.857143v54.857143q0 9.142857-9.142857 9.142857h-54.857143q-9.142857 0-9.142857-9.142857v-54.857143q0-9.142857 9.142857-9.142857h54.857143q9.142857 0 9.142857 9.142857z m585.142858 292.571428v54.857143q0 9.142857-9.142858 9.142857H301.714286q-9.142857 0-9.142857-9.142857v-54.857143q0-9.142857 9.142857-9.142857h493.714285q9.142857 0 9.142858 9.142857zM438.857143 521.142857v54.857143q0 9.142857-9.142857 9.142857h-54.857143q-9.142857 0-9.142857-9.142857v-54.857143q0-9.142857 9.142857-9.142857h54.857143q9.142857 0 9.142857 9.142857zM365.714286 374.857143v54.857143q0 9.142857-9.142857 9.142857h-54.857143q-9.142857 0-9.142857-9.142857v-54.857143q0-9.142857 9.142857-9.142857h54.857143q9.142857 0 9.142857 9.142857z m219.428571 146.285714v54.857143q0 9.142857-9.142857 9.142857h-54.857143q-9.142857 0-9.142857-9.142857v-54.857143q0-9.142857 9.142857-9.142857h54.857143q9.142857 0 9.142857 9.142857zM512 374.857143v54.857143q0 9.142857-9.142857 9.142857h-54.857143q-9.142857 0-9.142857-9.142857v-54.857143q0-9.142857 9.142857-9.142857h54.857143q9.142857 0 9.142857 9.142857z m219.428571 146.285714v54.857143q0 9.142857-9.142857 9.142857h-54.857143q-9.142857 0-9.142857-9.142857v-54.857143q0-9.142857 9.142857-9.142857h54.857143q9.142857 0 9.142857 9.142857z m219.428572 146.285714v54.857143q0 9.142857-9.142857 9.142857h-54.857143q-9.142857 0-9.142857-9.142857v-54.857143q0-9.142857 9.142857-9.142857h54.857143q9.142857 0 9.142857 9.142857z m-292.571429-292.571428v54.857143q0 9.142857-9.142857 9.142857h-54.857143q-9.142857 0-9.142857-9.142857v-54.857143q0-9.142857 9.142857-9.142857h54.857143q9.142857 0 9.142857 9.142857z m146.285715 0v54.857143q0 9.142857-9.142858 9.142857h-54.857142q-9.142857 0-9.142858-9.142857v-54.857143q0-9.142857 9.142858-9.142857h54.857142q9.142857 0 9.142858 9.142857z m146.285714 0v201.142857q0 9.142857-9.142857 9.142857h-128q-9.142857 0-9.142857-9.142857v-54.857143q0-9.142857 9.142857-9.142857h64V374.857143q0-9.142857 9.142857-9.142857h54.857143q9.142857 0 9.142857 9.142857z m73.142857 429.714286V292.571429H73.142857v512h950.857143z m73.142857-512v512q0 30.285714-21.428571 51.714285T1024 877.714286H73.142857q-30.285714 0-51.714286-21.428572T0 804.571429V292.571429q0-30.285714 21.428571-51.714286T73.142857 219.428571h950.857143q30.285714 0 51.714286 21.428572T1097.142857 292.571429z","p-id","6254","fill","#ffffff"],["class","icon-prompts",4,"ngIf"],[3,"click"],["src","../../../assets/images/cloud_open.png","alt","closeDropdownListOpen Cloud","title","MANAGER"],["src","../../../assets/images/undo.png","alt","Undo","title","Undo (Ctrl+Z)"],["src","../../../assets/images/redo.png","alt","Redo","title","Redo (Ctrl+Shift+Z)"],[1,"btn-divider","ipad-hide"],[1,"history-btn",3,"click"],["xmlns","http://www.w3.org/2000/svg","version","1.2","baseProfile","tiny-ps","viewBox","0 0 1024 1024","width","1024","height","1024"],["id","Layer","fill","#ffffff","d","M792.28 317.06L682.67 426.67L938.67 426.67L938.67 170.67L853.33 256C833.54 229.59 810.74 205.56 785.4 184.4C760.06 163.25 732.35 145.11 702.83 130.35C673.3 115.58 642.16 104.3 610.04 96.72C577.91 89.14 545.01 85.32 512 85.33C276.35 85.33 85.33 276.35 85.33 512C85.33 747.65 276.35 938.67 512 938.67L512 853.33C392.63 853.3 281.94 790.91 220.11 688.8C158.28 586.69 154.29 459.69 209.58 353.9C264.87 248.1 371.42 178.88 490.55 171.35C609.69 163.81 724.1 219.07 792.28 317.06L792.28 317.06Z",1,"shp0"],["id","Layer","fill","#ffffff","d","M554.67 493.99L682.67 622.46L622.34 682.67L469.33 529.24L469.33 341.33L554.67 341.33L554.67 493.99Z",1,"shp0"],["class","historyNum",4,"ngIf"],[1,"ipad-hide",3,"click"],["src","../../../assets/images/new_file.png","alt","New file","title","New file"],[1,"icon","ipad-hide",3,"click"],["src","../../../assets/images/open2.png","alt","Open","title","Open"],["class","icon ipad-hide",3,"click",4,"ngIf"],[1,"btn-divider","ipad-hide","w-hide"],[1,"ipad-hide","w-hide",3,"click"],["src","../../../assets/images/ezdata.png","alt","EzData","title","EzData"],["src","../../../assets/images/example.png","alt","Examples","title","Examples"],[1,"ipad-hide","w-hide"],["href","https://docs.m5stack.com/en/uiflow/uiflow_home_page","target","_blank"],["src","../../../assets/images/doc.png","alt","DOCS","title","DOCS"],["src","../../../assets/images/guide.png","alt","USER_GUIDE","title","User Guide"],[1,"btn--more","mb-show",3,"click","blur","mouseover","mouseleave"],["src","../../../assets/images/moreclass.png","alt","More"],["class","fixed-btn",4,"ngIf"],[1,"login-dropdown",3,"mouseover","mouseleave"],[1,"login-drop-btn",3,"click"],["src","../../../assets/images/home.png","alt",""],["src","../../../assets/images/manage.png","alt",""],["src","../../../assets/images/logout.png","alt","logout"],[1,"dropdown--list",3,"mouseover","mouseleave"],[1,"pc-hide",3,"mousedown"],["src","../../../assets/images/new_file.png","alt","NEW FILE","title","NEW FILE"],["src","../../../assets/images/open.png","alt","Open"],["id","__openM5FBox","type","file","accept",".m5f",2,"display","none"],["class","pc-hide",3,"mousedown",4,"ngIf"],[1,"pc-hide","w-hide",3,"click"],[1,"pc-hide","w-hide",3,"mousedown"],["src","../../../assets/images/example.png","alt","Examples"],[1,"pc-hide","w-hide"],["href","https://docs.m5stack.com/en/uiflow/uiflow_home_page","target","_blank",2,"display","flex"],["src","../../../assets/images/doc.png","alt","DOCS"],["href","https://forum.m5stack.com/category/5/uiflow","target","_blank",2,"display","flex"],["src","../../../assets/images/forum.png","alt","FORUM"],["src","../../../assets/images/link.png","alt","OLD","title",""],[3,"mousedown"],["src","../../../assets/images/update.png","alt","Updata"],["src","../../../assets/images/setting.png","alt","Setting"],[1,"wrapper--example",3,"click"],[1,"title",3,"click"],[1,"example-list",3,"click"],["class","example-item",3,"visibility","click",4,"ngFor","ngForOf"],[1,"example-detail",3,"click"],[1,"txt--title"],[1,"txt--description"],["class","txt--required bolder",4,"ngIf"],["class","txt--required",4,"ngFor","ngForOf"],["class","txt--author",4,"ngIf"],[1,"btn","load",3,"click"],["class","eweima",4,"ngIf"],[1,"float-btn"],["src","../../../assets/images/pro.png","alt","uieditor"],[4,"ngIf"],[1,"txt--version--beta"],[1,"txt--version"],[1,"icon-prompts"],["src","../../../assets/images/cancel.png","alt","CLOSE","title","CLOSE",1,"prompts-cancel"],[1,"historyNum"],["src","../../../assets/images/save2.png","alt","Save","title","Save"],["src","../../../assets/images/saveas2.png","alt","Save as","title","Save as"],[1,"fixed-btn"],[1,"terminal-fixed-btn",3,"click"],["t","1655103051524","viewBox","0 0 1024 1024","version","1.1","xmlns","http://www.w3.org/2000/svg","p-id","2133","width","200","height","200",1,"icon"],["d","M810.666667 1024 213.333333 1024c-119.466667 0-213.333333-93.866667-213.333333-213.333333L0 213.333333c0-119.466667 93.866667-213.333333 213.333333-213.333333l597.333333 0c119.466667 0 213.333333 93.866667 213.333333 213.333333l0 597.333333C1024 930.133333 930.133333 1024 810.666667 1024zM213.333333 85.333333C140.8 85.333333 85.333333 140.8 85.333333 213.333333l0 597.333333c0 72.533333 55.466667 128 128 128l597.333333 0c72.533333 0 128-55.466667 128-128L938.666667 213.333333c0-72.533333-55.466667-128-128-128L213.333333 85.333333z","p-id","2134","fill","#ffffff"],["d","M384 426.666667c-12.8 0-21.333333-4.266667-29.866667-12.8l-128-128c-17.066667-17.066667-17.066667-42.666667 0-59.733333s42.666667-17.066667 59.733333 0l128 128c17.066667 17.066667 17.066667 42.666667 0 59.733333C405.333333 422.4 396.8 426.666667 384 426.666667z","p-id","2135","fill","#ffffff"],["d","M256 554.666667c-12.8 0-21.333333-4.266667-29.866667-12.8-17.066667-17.066667-17.066667-42.666667 0-59.733333l128-128c17.066667-17.066667 42.666667-17.066667 59.733333 0s17.066667 42.666667 0 59.733333l-128 128C277.333333 550.4 268.8 554.666667 256 554.666667z","p-id","2136","fill","#ffffff"],["d","M640 554.666667l-170.666667 0c-25.6 0-42.666667-17.066667-42.666667-42.666667s17.066667-42.666667 42.666667-42.666667l170.666667 0c25.6 0 42.666667 17.066667 42.666667 42.666667S665.6 554.666667 640 554.666667z","p-id","2137","fill","#ffffff"],["title","Run (Ctrl+R)",1,"run-fixed-btn",3,"click"],["t","1638867307047","viewBox","0 0 1024 1024","version","1.1","xmlns","http://www.w3.org/2000/svg","p-id","4644",0,"xmlns","xlink","http://www.w3.org/1999/xlink","width","200","height","200",1,"icon"],["d","M870.2 466.333333l-618.666667-373.28a53.333333 53.333333 0 0 0-80.866666 45.666667v746.56a53.206667 53.206667 0 0 0 80.886666 45.666667l618.666667-373.28a53.333333 53.333333 0 0 0 0-91.333334z","fill","#ffffff","p-id","4645"],[1,"btn-text"],["title","Download (Ctrl+D)",1,"download-fixed-btn",3,"click"],["version","1.2","baseProfile","tiny-ps","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 51 51","width","51","height","51"],["fill","#ffffff","id","Layer copy","fill-rule","evenodd","d","M46.8 9C49.11 9 51 10.89 51 13.2L51 46.8C51 49.11 49.11 51 46.8 51L13.2 51C10.89 51 9 49.11 9 46.8L9 33.6C10.47 34.44 12.06 35.09 13.75 35.5L13.75 40.7L46.25 40.7L46.25 16.92L35.97 16.92C35.8 14.05 34.96 11.35 33.6 9L46.8 9ZM36.34 45.03L36.34 48.26C36.34 48.46 36.51 48.63 36.71 48.63L42.31 48.63C42.51 48.63 42.68 48.46 42.68 48.26L42.68 45.03C42.68 44.83 42.51 44.66 42.31 44.66L36.71 44.66C36.51 44.66 36.34 44.83 36.34 45.03ZM26.83 45.03L26.83 48.26C26.83 48.46 26.99 48.63 27.2 48.63L32.8 48.63C33.01 48.63 33.17 48.46 33.17 48.26L33.17 45.03C33.17 44.83 33.01 44.66 32.8 44.66L27.2 44.66C26.99 44.66 26.83 44.83 26.83 45.03ZM17.33 45.03L17.33 48.26C17.33 48.46 17.49 48.63 17.69 48.63L23.3 48.63C23.5 48.63 23.67 48.46 23.67 48.26L23.67 45.03C23.67 44.83 23.5 44.66 23.3 44.66L17.69 44.66C17.49 44.66 17.33 44.83 17.33 45.03Z",1,"shp0"],["fill","#ffffff","id","\u56fe\u5c42 1","fill-rule","evenodd","d","M18.09 35.99C8.14 36.05 0.05 28.04 0 18.09C-0.05 8.14 7.95 0.05 17.9 0C27.85 -0.05 35.94 7.95 35.99 17.9C36.05 27.85 28.04 35.94 18.09 35.99ZM32.56 18.01C32.54 9.99 26.04 3.52 18.02 3.54C10 3.56 3.53 10.06 3.55 18.08C3.57 26.1 10.07 32.57 18.09 32.55C26.11 32.53 32.58 26.03 32.56 18.01Z",1,"shp0"],["fill","#ffffff","id","Layer","fill-rule","evenodd","d","M16.47 30.24C16.63 30.4 16.81 30.52 17.02 30.6C17.22 30.69 17.44 30.73 17.66 30.73C17.88 30.73 18.09 30.68 18.3 30.6C18.5 30.51 18.68 30.39 18.84 30.23L29.26 19.76C29.57 19.45 29.75 19.02 29.75 18.58C29.74 18.13 29.57 17.71 29.25 17.4C28.94 17.08 28.51 16.91 28.07 16.91C27.63 16.91 27.2 17.09 26.89 17.4L19.32 25.01L19.27 6.79C19.26 6.36 19.07 5.95 18.76 5.65C18.45 5.35 18.03 5.18 17.59 5.18C17.16 5.19 16.74 5.35 16.43 5.66C16.12 5.96 15.94 6.37 15.93 6.8L15.97 25.02L8.36 17.45C8.04 17.14 7.62 16.96 7.18 16.96C6.73 16.96 6.31 17.14 5.99 17.46C5.68 17.77 5.51 18.2 5.51 18.64C5.51 19.08 5.69 19.51 6 19.82L16.47 30.24L16.47 30.24Z",1,"shp1"],["src","../../../assets/images/save.png","alt","Save"],[1,"example-item",3,"click"],["draggable","false","alt","example",3,"src"],[1,"example-title"],[1,"txt--required","bolder"],[1,"txt--required"],[1,"keyword"],[1,"txt--author"],[1,"author-info"],[1,"author"],[1,"eweima"],["src","../../../assets/images/erweima.svg","alt","QRCode"],["class","wrapper--qrcode",4,"ngIf"],[1,"wrapper--qrcode"],[3,"qrdata","width","errorCorrectionLevel"],[1,"btn-clipboard",3,"click"],["class","tip--copy",4,"ngIf"],[1,"tip--copy"]],template:function(e,t){if(1&e&&(h.TgZ(0,"div",0),h._UZ(1,"img",1),h.TgZ(2,"div",2),h.YNc(3,$,5,0,"ng-container",3),h.YNc(4,z,2,1,"ng-template",null,4,h.W1O),h.qZA(),h.TgZ(6,"div",5),h._UZ(7,"img",6),h.TgZ(8,"span",7),h._uU(9),h.ALo(10,"translate"),h.qZA(),h.TgZ(11,"input",8),h.NdJ("input",function(e){return t.changeProjectName(e)}),h.ALo(12,"async"),h.qZA(),h.qZA(),h.TgZ(13,"div",9),h.NdJ("click",function(){return t.hideExample()}),h.TgZ(14,"button",10),h.NdJ("click",function(){return t.beforeSetMode("blockly")}),h.ALo(15,"async"),h._UZ(16,"img",11),h.TgZ(17,"span"),h._uU(18),h.qZA(),h.qZA(),h.TgZ(19,"button",12),h.NdJ("click",function(){return t.beforeSetMode("code")}),h.ALo(20,"async"),h._UZ(21,"img",13),h.TgZ(22,"span"),h._uU(23),h.qZA(),h.qZA(),h.qZA(),h.TgZ(24,"div",14),h.TgZ(25,"span",15),h.NdJ("click",function(e){return t.openShortcutList(e)}),h.O4$(),h.TgZ(26,"svg",16),h._UZ(27,"path",17),h.qZA(),h.YNc(28,V,3,0,"span",18),h.qZA(),h.kcU(),h.TgZ(29,"span",19),h.NdJ("click",function(){return t.openResourceManager()}),h._UZ(30,"img",20),h.qZA(),h.TgZ(31,"span",19),h.NdJ("click",function(){return t.undo()}),h._UZ(32,"img",21),h.qZA(),h.TgZ(33,"span",19),h.NdJ("click",function(){return t.redo()}),h._UZ(34,"img",22),h.qZA(),h._UZ(35,"span",23),h.TgZ(36,"span",24),h.NdJ("click",function(){return t.viewHistory()}),h.O4$(),h.TgZ(37,"svg",25),h._UZ(38,"path",26),h._UZ(39,"path",27),h.qZA(),h.YNc(40,K,3,3,"span",28),h.ALo(41,"async"),h.qZA(),h.kcU(),h.TgZ(42,"span",29),h.NdJ("click",function(){return t.new_btn()}),h._UZ(43,"img",30),h.qZA(),h.TgZ(44,"span",31),h.NdJ("click",function(){return t.openM5F()}),h._UZ(45,"img",32),h.qZA(),h.YNc(46,W,2,0,"span",33),h.YNc(47,G,2,0,"span",33),h._UZ(48,"span",34),h.TgZ(49,"span",35),h.NdJ("click",function(){return t.openEzdataDebugger()}),h._UZ(50,"img",36),h.qZA(),h.TgZ(51,"span",35),h.NdJ("click",function(){return t.showExample()}),h._UZ(52,"img",37),h.qZA(),h.TgZ(53,"span",38),h.TgZ(54,"a",39),h._UZ(55,"img",40),h.qZA(),h.qZA(),h.TgZ(56,"span",35),h.NdJ("click",function(){return t.guide_show()}),h._UZ(57,"img",41),h.qZA(),h.TgZ(58,"button",42),h.NdJ("click",function(){return t.openDropdownList()})("blur",function(e){return t.closeDropdownList(e)})("mouseover",function(){return t.dropdownState="show"})("mouseleave",function(){return t.dropdownState="hide"}),h._UZ(59,"img",43),h.qZA(),h.qZA(),h.YNc(60,Y,25,3,"div",44),h.ALo(61,"async"),h.ALo(62,"async"),h.TgZ(63,"div",45),h.NdJ("mouseover",function(){return t.onmouseover()})("mouseleave",function(){return t.onmouseleave()}),h.TgZ(64,"ul"),h.TgZ(65,"li",46),h.NdJ("click",function(){return t.openBBS()}),h._UZ(66,"img",47),h.TgZ(67,"span"),h._uU(68),h.qZA(),h.qZA(),h.TgZ(69,"li",46),h.NdJ("click",function(){return t.openDevicePlatform()}),h._UZ(70,"img",48),h.TgZ(71,"span"),h._uU(72,"Devices"),h.qZA(),h.qZA(),h.TgZ(73,"li",46),h.NdJ("click",function(){return t.logout()}),h._UZ(74,"img",49),h.TgZ(75,"span"),h._uU(76,"Logout"),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.TgZ(77,"div",50),h.NdJ("mouseover",function(){return t.dropdownState="show"})("mouseleave",function(){return t.dropdownState="hide"}),h.TgZ(78,"ul"),h.TgZ(79,"li",51),h.NdJ("mousedown",function(){return t.new_btn()}),h._UZ(80,"img",52),h.TgZ(81,"span"),h._uU(82,"New Project"),h.qZA(),h.qZA(),h.TgZ(83,"li",51),h.NdJ("mousedown",function(){return t.openM5F()}),h._UZ(84,"img",53),h.TgZ(85,"span"),h._uU(86),h.ALo(87,"translate"),h.qZA(),h._UZ(88,"input",54),h.qZA(),h.YNc(89,j,5,3,"li",55),h.TgZ(90,"li",56),h.NdJ("click",function(){return t.openEzdataDebugger()}),h._UZ(91,"img",36),h.TgZ(92,"span"),h._uU(93,"EzData"),h.qZA(),h.qZA(),h.TgZ(94,"li",57),h.NdJ("mousedown",function(){return t.showExample()}),h._UZ(95,"img",58),h.TgZ(96,"span"),h._uU(97),h.ALo(98,"translate"),h.qZA(),h.qZA(),h.TgZ(99,"li",59),h.TgZ(100,"a",60),h._UZ(101,"img",61),h.TgZ(102,"span"),h._uU(103),h.ALo(104,"translate"),h.qZA(),h.qZA(),h.qZA(),h.TgZ(105,"li",57),h.NdJ("mousedown",function(){return t.guide_show()}),h._UZ(106,"img",41),h.TgZ(107,"span"),h._uU(108,"User Guide"),h.qZA(),h.qZA(),h.TgZ(109,"li"),h.TgZ(110,"a",62),h._UZ(111,"img",63),h.TgZ(112,"span"),h._uU(113),h.ALo(114,"translate"),h.qZA(),h.qZA(),h.qZA(),h.TgZ(115,"li",19),h.NdJ("click",function(){return t.version_show()}),h._UZ(116,"img",64),h.TgZ(117,"span"),h._uU(118,"Version"),h.qZA(),h.qZA(),h.TgZ(119,"li",65),h.NdJ("mousedown",function(e){return t.openUpdateRecord(e)}),h._UZ(120,"img",66),h.TgZ(121,"span"),h._uU(122),h.ALo(123,"translate"),h.qZA(),h.qZA(),h.TgZ(124,"li",65),h.NdJ("mousedown",function(e){return t.openSettingPanel(e)}),h._UZ(125,"img",67),h.TgZ(126,"span"),h._uU(127),h.ALo(128,"translate"),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.TgZ(129,"div",68),h.NdJ("click",function(){return t.hideExample()}),h.TgZ(130,"h1",69),h.NdJ("click",function(e){return t.stopPropagation(e)}),h._uU(131),h.ALo(132,"translate"),h.qZA(),h.TgZ(133,"div",70),h.NdJ("click",function(e){return t.stopPropagation(e)}),h.YNc(134,X,4,4,"div",71),h.qZA(),h.TgZ(135,"div",72),h.NdJ("click",function(e){return t.stopPropagation(e)}),h.TgZ(136,"h1",73),h._uU(137),h.qZA(),h.TgZ(138,"p",74),h._uU(139),h.qZA(),h.YNc(140,J,2,1,"p",75),h.YNc(141,Q,9,4,"p",76),h.YNc(142,ee,2,1,"p",76),h.YNc(143,te,5,1,"p",77),h.TgZ(144,"footer"),h.TgZ(145,"button",78),h.NdJ("click",function(e){return t.runExample(e)}),h._uU(146,"Load"),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.YNc(147,oe,5,3,"div",79),h.ALo(148,"async"),h.TgZ(149,"div",80),h.TgZ(150,"button",10),h.NdJ("click",function(){return t.setuieditorMode("uieditor")}),h.ALo(151,"async"),h._UZ(152,"img",81),h.qZA(),h.TgZ(153,"button",10),h.NdJ("click",function(){return t.setMBMode("blockly")}),h.ALo(154,"async"),h._UZ(155,"img",11),h.qZA(),h.TgZ(156,"button",12),h.NdJ("click",function(){return t.setMBMode("code")}),h.ALo(157,"async"),h._UZ(158,"img",13),h.qZA(),h.qZA(),h.YNc(159,re,1,0,"app-loading",82)),2&e){const e=h.MAs(5);h.xp6(3),h.Q6J("ngIf","paper"===t.type)("ngIfElse",e),h.xp6(6),h.Oqu(h.lcZ(10,43,"PROJECT")),h.xp6(2),h.Q6J("value",h.lcZ(12,45,t.projectName$)),h.xp6(3),h.ekj("active","blockly"===h.lcZ(15,47,t.mode$)),h.xp6(4),h.Oqu("Blockly"),h.xp6(1),h.ekj("active","code"===h.lcZ(20,49,t.mode$)),h.xp6(4),h.Oqu("Python"),h.xp6(5),h.Q6J("ngIf",t.showPrompts),h.xp6(12),h.Q6J("ngIf",h.lcZ(41,51,t.historyNum$)),h.xp6(6),h.Q6J("ngIf",!t.globalOperatorSrv.getIpad()),h.xp6(1),h.Q6J("ngIf",!t.globalOperatorSrv.getIpad()&&t.isSupportSaveas),h.xp6(13),h.Q6J("ngIf","img"!==h.lcZ(61,53,t.mode$)&&"file"!==h.lcZ(62,55,t.mode$)),h.xp6(3),h.Q6J("@dropdownAnim",t.loginState),h.xp6(5),h.Oqu(t.userName),h.xp6(9),h.Q6J("@dropdownAnim",t.dropdownState),h.xp6(9),h.Oqu(h.lcZ(87,57,"OPEN")),h.xp6(3),h.Q6J("ngIf",!t.globalOperatorSrv.getIpad()),h.xp6(8),h.Oqu(h.lcZ(98,59,"EXAMPLE")),h.xp6(6),h.Oqu(h.lcZ(104,61,"DOC")),h.xp6(10),h.Oqu(h.lcZ(114,63,"FORUM")),h.xp6(9),h.Oqu(h.lcZ(123,65,"UPDATA")),h.xp6(5),h.Oqu(h.lcZ(128,67,"SETTING")),h.xp6(2),h.Q6J("@dropdownAnim",t.exampleVisibility?"show":"hide"),h.xp6(2),h.Oqu(h.lcZ(132,69,"Examples")),h.xp6(3),h.Q6J("ngForOf",t.exampleList),h.xp6(1),h.Q6J("@dropdownAnim",null!==t.exampleDetail?"show":"hide"),h.xp6(2),h.Oqu(null==t.exampleDetail?null:t.exampleDetail.title),h.xp6(2),h.Oqu(null==t.exampleDetail?null:t.exampleDetail.description),h.xp6(1),h.Q6J("ngIf",(null==t.exampleDetail?null:t.exampleDetail.required.length)>0),h.xp6(1),h.Q6J("ngForOf",null==t.exampleDetail?null:t.exampleDetail.required),h.xp6(1),h.Q6J("ngForOf",null==t.exampleDetail?null:t.exampleDetail.others),h.xp6(1),h.Q6J("ngIf",null==t.exampleDetail?null:t.exampleDetail.author),h.xp6(4),h.Q6J("ngIf",h.lcZ(148,71,t.erweima$)),h.xp6(3),h.ekj("active","uieditor"===h.lcZ(151,73,t.mode$)),h.xp6(3),h.ekj("active","blockly"===h.lcZ(154,75,t.mode$)),h.xp6(3),h.ekj("active","code"===h.lcZ(157,77,t.mode$)),h.xp6(3),h.Q6J("ngIf",t.loddingMode)}},directives:[y.O5,y.sg,H.Vo],pipes:[d.X$,y.Ov],styles:['.wrapper[_ngcontent-%COMP%]{position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;-webkit-user-drag:none;width:100%;height:48px;background-color:var(--bg-color);padding-left:10px}.img--logo[_ngcontent-%COMP%]{display:block;float:left;height:36px;margin:6px 0}.txt--version--wrap[_ngcontent-%COMP%]{-webkit-user-select:none;-moz-user-select:none;user-select:none;display:flex;float:left;height:41px;margin:3px 0;flex-direction:column;justify-content:flex-end;line-height:16px;padding-left:10px;font-size:14px;font-family:Arial;color:#fff}.txt--version--beta[_ngcontent-%COMP%]{display:block;font-size:20px}.txt--version[_ngcontent-%COMP%]{margin-top:5px;display:block}.info--project[_ngcontent-%COMP%]{position:relative;display:block;float:left;margin:6px 0 6px 20px;height:36px}.info--project[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]{display:block;float:left;height:28px;margin:8px 0 0}.info--project[_ngcontent-%COMP%]   .txt--project[_ngcontent-%COMP%]{-webkit-user-select:none;-moz-user-select:none;user-select:none;display:block;float:left;height:28px;margin:6px 10px 6px 0;line-height:46px;font-size:16px;font-family:Arial;color:#fff;padding-left:4px}.info--project[_ngcontent-%COMP%]   .input--project[_ngcontent-%COMP%]{height:100%;padding-left:10px;font-size:20px;font-family:Arial;color:#fff;background-color:#ffffff80;border-radius:5px;border:none;outline:none}.top-nav[_ngcontent-%COMP%]{position:absolute;top:0;bottom:0;left:0;right:0;margin:6px auto;width:240px;text-align:center}.top-nav[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:120px;height:36px;border:0;outline:none;background-color:var(--blockCodeBtn-color);color:#fff;cursor:pointer}.top-nav[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{-webkit-user-select:none;-moz-user-select:none;user-select:none;-webkit-user-drag:none}.top-nav[_ngcontent-%COMP%]   .btn.blockly[_ngcontent-%COMP%]{border-top-left-radius:30px;border-bottom-left-radius:30px;padding-left:12px}.top-nav[_ngcontent-%COMP%]   .btn.code[_ngcontent-%COMP%]{border-top-right-radius:30px;border-bottom-right-radius:30px;padding-right:12px}.top-nav[_ngcontent-%COMP%]   .btn.focus[_ngcontent-%COMP%]{background-color:var(--blockCodeBtnFocus-color)}.top-nav[_ngcontent-%COMP%]   .btn.blockly[_ngcontent-%COMP%], .top-nav[_ngcontent-%COMP%]   .btn.code[_ngcontent-%COMP%]{transition:.35s all ease}.top-nav[_ngcontent-%COMP%]   .btn.blockly.active[_ngcontent-%COMP%], .top-nav[_ngcontent-%COMP%]   .btn.code.active[_ngcontent-%COMP%]{background-color:var(--blockCodeBtnFocus-color)}.top-nav[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .top-nav[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;float:left;-webkit-user-select:none;-moz-user-select:none;user-select:none;-webkit-user-drag:none}.top-nav[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:28px;height:28px;margin:4px 8px}.top-nav[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:16px;height:36px;line-height:36px}.list--btn[_ngcontent-%COMP%]{position:absolute;right:0px;padding-right:10px;display:flex;align-items:center}.list--btn[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .list--btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{display:block;float:left;width:36px;height:36px;margin:6px 0;padding:4px;cursor:pointer;border-radius:6px;transition:all .25s;-webkit-user-drag:none}.list--btn[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover, .list--btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]:hover{background-color:var(--blockCodeBtnFocus-color)}.list--btn[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:32px;height:auto}.list--btn[_ngcontent-%COMP%]   .history-btn[_ngcontent-%COMP%]{position:relative}.list--btn[_ngcontent-%COMP%]   .historyNum[_ngcontent-%COMP%]{position:absolute;width:21px;bottom:7px;right:-3px;color:#fff;font-size:12px;text-align:center}.list--btn[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{-webkit-user-select:none;-moz-user-select:none;user-select:none;-webkit-user-drag:none}.list--btn[_ngcontent-%COMP%]   .btn--more[_ngcontent-%COMP%]{width:36px;height:36px;margin:6px 0;border:none;background-color:transparent;outline:none}.list--btn[_ngcontent-%COMP%]   .btn--more[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin:0}.new_btn[_ngcontent-%COMP%]{width:36px;height:36px;float:left;margin:6px;color:#fff;line-height:36px;cursor:pointer}.dropdown--list[_ngcontent-%COMP%]{position:absolute;top:48px;right:0;width:160px;background-color:var(--bg-color);overflow:hidden;z-index:888888}.dropdown--list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{width:100%;list-style:none;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;user-select:none;display:flex}.dropdown--list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.pc-hide[_ngcontent-%COMP%]{display:none}.dropdown--list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.w-hide[_ngcontent-%COMP%]{display:none}.dropdown--list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:hover{background-color:var(--blockCodeBtnFocus-color)}.dropdown--list[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:28px;height:28px;margin:6px 8px}.dropdown--list[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:16px;color:#fff;font-family:Arial;display:block;width:65%;line-height:40px;height:40px;overflow:hidden}.dropdown--list[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}.wrapper--example[_ngcontent-%COMP%]{position:absolute;z-index:9999999;width:100%;height:calc(100% - 48px);background-color:#000000c2;overflow:hidden}.wrapper--example[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#fff;font-size:28px;background-color:#444444f5;font-family:Arial,Helvetica,sans-serif;padding:10px 0 10px 10px}.wrapper--example[_ngcontent-%COMP%]   .example-list[_ngcontent-%COMP%]{background-color:#444444f5;padding-bottom:10px;max-height:400px;overflow:auto}.wrapper--example[_ngcontent-%COMP%]   .example-list[_ngcontent-%COMP%]   .example-item[_ngcontent-%COMP%]{display:none;transition:.25s all;border:2px rgba(68,68,68,.96) solid;margin:0 5px;text-align:center}.wrapper--example[_ngcontent-%COMP%]   .example-list[_ngcontent-%COMP%]   .example-item[_ngcontent-%COMP%]:hover{border-radius:8px;border:2px #eee solid}.wrapper--example[_ngcontent-%COMP%]   .example-list[_ngcontent-%COMP%]   .example-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:128px;border-radius:5px;margin:10px;cursor:pointer}.wrapper--example[_ngcontent-%COMP%]   .example-list[_ngcontent-%COMP%]   .example-item[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{text-align:center;color:#fff;font-size:20px;padding:0 0 8px;font-family:Arial,Helvetica,sans-serif}.wrapper--example[_ngcontent-%COMP%]   .example-list[_ngcontent-%COMP%]   .example-item.visibility[_ngcontent-%COMP%]{display:inline-block}.wrapper--example[_ngcontent-%COMP%]   .example-list[_ngcontent-%COMP%]   .example-item[_ngcontent-%COMP%]   .example-title[_ngcontent-%COMP%]{font-size:18px}.wrapper--example[_ngcontent-%COMP%]   .example-detail[_ngcontent-%COMP%]{width:100%;background-color:#202020f5;font-family:Arial,Helvetica,sans-serif;overflow:hidden;color:#fff}.wrapper--example[_ngcontent-%COMP%]   .example-detail[_ngcontent-%COMP%]   .txt--title[_ngcontent-%COMP%]{padding:10px 0 10px 10px}.wrapper--example[_ngcontent-%COMP%]   .example-detail[_ngcontent-%COMP%]   .txt--description[_ngcontent-%COMP%]{padding:10px 0 10px 10px;font-size:22px;color:#eee}.wrapper--example[_ngcontent-%COMP%]   .example-detail[_ngcontent-%COMP%]   .txt--required[_ngcontent-%COMP%]{padding:10px 0 10px 10px;font-size:18px;color:#d9d9d9}.wrapper--example[_ngcontent-%COMP%]   .example-detail[_ngcontent-%COMP%]   .txt--required.bolder[_ngcontent-%COMP%]{font-weight:bolder;color:#e71d36;padding:10px 0 0 10px}.wrapper--example[_ngcontent-%COMP%]   .example-detail[_ngcontent-%COMP%]   .txt--required[_ngcontent-%COMP%]   .keyword[_ngcontent-%COMP%]{color:#e71d36;font-weight:bolder}.wrapper--example[_ngcontent-%COMP%]   .example-detail[_ngcontent-%COMP%]   .txt--author[_ngcontent-%COMP%]{position:relative}.wrapper--example[_ngcontent-%COMP%]   .example-detail[_ngcontent-%COMP%]   .txt--author[_ngcontent-%COMP%]   .author-info[_ngcontent-%COMP%]{position:absolute;right:5%}.wrapper--example[_ngcontent-%COMP%]   .example-detail[_ngcontent-%COMP%]   .txt--author[_ngcontent-%COMP%]   .author-info[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]{font-weight:bolder;color:#e71d36}.wrapper--example[_ngcontent-%COMP%]   .example-detail[_ngcontent-%COMP%]   footer[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{margin:10px;outline:none;border:none;border-radius:6px;background-color:var(--bg-color);color:#fff;padding:8px 12px;cursor:pointer;font-size:24px}.isstick[_ngcontent-%COMP%]{display:none}.eweima[_ngcontent-%COMP%]{position:fixed;top:50%;right:32px;z-index:5;transform:translateY(-50%)}.eweima[_ngcontent-%COMP%]   .wrapper--qrcode[_ngcontent-%COMP%]{position:fixed;right:46px;top:50%;transform:translateY(-50%);background-color:#fffffff5;border-radius:5px;z-index:1099;padding:10px}.eweima[_ngcontent-%COMP%]   .wrapper--qrcode[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{outline:none;border:none;margin-top:6px;padding:4px 12px;font-family:Arial;color:#fff;background-color:orange;border-radius:4px;cursor:pointer}.eweima[_ngcontent-%COMP%]   .wrapper--qrcode[_ngcontent-%COMP%]   .tip--copy[_ngcontent-%COMP%]{font-size:12px;margin-left:4px;color:#3ac569;font-weight:bolder;font-family:Arial,Helvetica,sans-serif}.float-btn[_ngcontent-%COMP%]{display:none}@media only screen and (min-width: 1100px){.float-btn[_ngcontent-%COMP%]{display:block}}@media only screen and (min-height: 320px) and (max-height: 700px){.wrapper[_ngcontent-%COMP%]   .top-nav[_ngcontent-%COMP%]{display:none}.wrapper[_ngcontent-%COMP%]   .dropdown--list[_ngcontent-%COMP%]   li.pc-hide[_ngcontent-%COMP%]{display:none}.wrapper[_ngcontent-%COMP%]   .dropdown--list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;display:block;width:100%;height:100%}.wrapper--example[_ngcontent-%COMP%]   .example-list[_ngcontent-%COMP%]{max-height:80px;overflow-y:scroll;padding-bottom:10px}.wrapper--example[_ngcontent-%COMP%]   .example-list[_ngcontent-%COMP%]   .example-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block;max-width:60px;border-radius:5px;margin:5px;cursor:pointer}.wrapper--example[_ngcontent-%COMP%]   .example-list[_ngcontent-%COMP%]   .example-item[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{display:none}.wrapper--example[_ngcontent-%COMP%]   .example-detail[_ngcontent-%COMP%]{max-height:120px;width:100%;overflow-y:scroll;font-size:12px}.wrapper--example[_ngcontent-%COMP%]   .example-detail[_ngcontent-%COMP%]   .txt--title[_ngcontent-%COMP%]{font-size:16px;padding:5px 0 5px 5px}.wrapper--example[_ngcontent-%COMP%]   .example-detail[_ngcontent-%COMP%]   .txt--description[_ngcontent-%COMP%]{padding:5px 0 5px 5px;font-size:12px}.wrapper--example[_ngcontent-%COMP%]   .example-detail[_ngcontent-%COMP%]   .txt--required[_ngcontent-%COMP%]{padding:5px 0 5px 5px}.wrapper--example[_ngcontent-%COMP%]   .example-detail[_ngcontent-%COMP%]   .txt--required.bolder[_ngcontent-%COMP%]{padding:5px 0 5px 5px}.float-btn[_ngcontent-%COMP%]{position:fixed;display:block;top:48px;right:20px;z-index:1}.float-btn[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{height:36px;border:0;outline:none;background-color:var(--blockCodeBtn-color);color:#fff;border-radius:0 0 50% 50%;cursor:pointer}.float-btn[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{-webkit-user-select:none;-moz-user-select:none;user-select:none;-webkit-user-drag:none}.float-btn[_ngcontent-%COMP%]   .btn.focus[_ngcontent-%COMP%]{background-color:var(--blockCodeBtnFocus-color)}.float-btn[_ngcontent-%COMP%]   .btn.blockly[_ngcontent-%COMP%], .float-btn[_ngcontent-%COMP%]   .btn.code[_ngcontent-%COMP%]{transition:.35s all ease}.float-btn[_ngcontent-%COMP%]   .btn.blockly.active[_ngcontent-%COMP%], .float-btn[_ngcontent-%COMP%]   .btn.code.active[_ngcontent-%COMP%]{background-color:var(--blockCodeBtnFocus-color)}.float-btn[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .float-btn[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;float:left;-webkit-user-select:none;-moz-user-select:none;user-select:none;-webkit-user-drag:none}.float-btn[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:28px;height:28px;margin:4px 8px}.float-btn[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:16px;height:36px;line-height:36px}.eweima[_ngcontent-%COMP%]{position:fixed;top:67px;right:178px}.eweima[_ngcontent-%COMP%]   .wrapper--qrcode[_ngcontent-%COMP%]{position:fixed;top:142px;right:-53px;background-color:#fffffff5;border-radius:5px;z-index:1099;padding:10px}.isstick[_ngcontent-%COMP%]{display:none!important}}@media only screen and (min-width: 1024px){.wrapper[_ngcontent-%COMP%]   .top-nav[_ngcontent-%COMP%]{display:block}.wrapper[_ngcontent-%COMP%]   .dropdown--list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;display:block;width:100%;height:100%}.float-btn[_ngcontent-%COMP%]{display:none}}.alert_position[_ngcontent-%COMP%]{position:fixed;z-index:100;top:38%;right:0;max-width:300px;max-height:300px;background-color:var(--bg-color);border-radius:10px;box-shadow:20px;opacity:.85;overflow:hidden}.ipone_hide[_ngcontent-%COMP%]{display:none}.swal-footer[_ngcontent-%COMP%]{display:flex!important}#login[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:50%}.login-dropdown[_ngcontent-%COMP%]{position:absolute;top:48px;right:428px;width:160px;background-color:var(--bg-color);overflow:hidden;z-index:888888;display:flex;flex-direction:column}.login-dropdown[_ngcontent-%COMP%]   .login-drop-btn[_ngcontent-%COMP%]{width:100%;list-style:none;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;user-select:none;display:flex}.login-dropdown[_ngcontent-%COMP%]   .login-drop-btn.pc-hide[_ngcontent-%COMP%]{display:none}.login-dropdown[_ngcontent-%COMP%]   .login-drop-btn[_ngcontent-%COMP%]:hover{background-color:var(--blockCodeBtnFocus-color)}.login-dropdown[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:28px;height:28px;margin:6px 8px}.login-dropdown[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:16px;color:#fff;font-family:Arial;display:block;width:65%;line-height:40px;height:40px;overflow:hidden}.btn-divider[_ngcontent-%COMP%]{display:inline-block;width:1px;height:25px;background-color:hsl(var(--main-hue),84%,70%);margin:0 12px;opacity:.5}.fixed-btn[_ngcontent-%COMP%]{position:fixed;bottom:55px;right:100px;min-width:136px;z-index:16;display:flex}.terminal-fixed-btn[_ngcontent-%COMP%]{margin-right:20px;padding:0 10px 0 14px;background-color:hsl(calc(var(--main-hue) + 167),100%,62%)}.terminal-fixed-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px!important}.terminal-fixed-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{margin-right:4px!important}.run-fixed-btn[_ngcontent-%COMP%]{margin-right:20px;padding:0 0 0 28px;background-color:hsl(var(--main-hue),100%,61%)}.download-fixed-btn[_ngcontent-%COMP%]{padding:0 10px 0 16px;background-color:var(--bg-color)}.terminal-fixed-btn[_ngcontent-%COMP%], .run-fixed-btn[_ngcontent-%COMP%], .download-fixed-btn[_ngcontent-%COMP%]{display:flex;align-items:center;border-radius:20px;min-width:136px;cursor:pointer}.terminal-fixed-btn[_ngcontent-%COMP%]:hover, .run-fixed-btn[_ngcontent-%COMP%]:hover, .download-fixed-btn[_ngcontent-%COMP%]:hover{background-color:var(--blockCodeBtnFocus-color)}.terminal-fixed-btn[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .terminal-fixed-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%], .run-fixed-btn[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .run-fixed-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%], .download-fixed-btn[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .download-fixed-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:28px;height:28px;margin-right:7px}.terminal-fixed-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .run-fixed-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .download-fixed-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{height:42px;font-size:16px;color:#fff;font-family:Arial;display:flex;justify-content:center;align-items:center;line-height:42px;overflow:hidden}@media only screen and (max-width: 1380px){.w-hide[_ngcontent-%COMP%]{display:none}.login-dropdown[_ngcontent-%COMP%]{right:100px}.dropdown--list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.pc-hide[_ngcontent-%COMP%]{display:none}.dropdown--list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.w-hide[_ngcontent-%COMP%]{display:flex}.shortcut-icon[_ngcontent-%COMP%]   .icon-prompts[_ngcontent-%COMP%]{left:-112px!important}.shortcut-icon[_ngcontent-%COMP%]   .icon-prompts[_ngcontent-%COMP%]:before{left:120px!important}}@media only screen and (max-width: 1180px){.ipad-hide[_ngcontent-%COMP%]{display:none}.login-dropdown[_ngcontent-%COMP%]{right:100px}.dropdown--list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.pc-hide[_ngcontent-%COMP%]{display:flex}.dropdown--list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li.w-hide[_ngcontent-%COMP%]{display:flex}.shortcut-icon[_ngcontent-%COMP%]   .icon-prompts[_ngcontent-%COMP%]{left:-112px!important}.shortcut-icon[_ngcontent-%COMP%]   .icon-prompts[_ngcontent-%COMP%]:before{left:120px!important}}.shortcut-icon[_ngcontent-%COMP%]{position:relative}.shortcut-icon[_ngcontent-%COMP%]   .icon-prompts[_ngcontent-%COMP%]{position:absolute;bottom:-50px;left:-30px;width:290px;height:40px;padding:6px;display:flex;justify-content:center;align-items:center;color:#fff;border-radius:25px;background-color:hsl(calc(var(--main-hue) + 167),100%,62%);z-index:99}.shortcut-icon[_ngcontent-%COMP%]   .icon-prompts[_ngcontent-%COMP%]:before{content:" ";border-bottom:8px solid hsl(calc(var(--main-hue) + 167),100%,62%);border-left:8px solid transparent;border-right:12px solid transparent;position:absolute;top:-8px;left:40px}.shortcut-icon[_ngcontent-%COMP%]   .prompts-cancel[_ngcontent-%COMP%]{margin-left:10px;width:22px;height:22px;border:1px solid #fff;border-radius:50%}.shortcut-icon[_ngcontent-%COMP%]   .prompts-cancel[_ngcontent-%COMP%]:hover{background-color:transparent}@-webkit-keyframes borderDraw{0%{background-color:#00abf5}to{background-color:#ff813d}}@keyframes borderDraw{0%{background-color:#00abf5}to{background-color:#ff813d}}@-webkit-keyframes iconDraw{0%{transform:rotate(14deg)}to{transform:rotate(-14deg)}}@keyframes iconDraw{0%{transform:rotate(14deg)}to{transform:rotate(-14deg)}}'],data:{animation:[n.vJ]}}),e})()},48091:function(e,t,i){"use strict";i.d(t,{p:function(){return r}});var n=i(67302),o=i(37716);let r=(()=>{class e{transform(e,t){switch(e){case n.__.CORE:return"Core";case n.__.FIRE:return"Fire";case n.__.STICK_C:return"StickC";case n.__.STICK_C_PLUS:return"StickC PLUS";case n.__.ATOM:return"ATOM LITE";case n.__.ATOM_MATRIX:return"ATOM MATRIX";case n.__.ATOM_DISPLAY:return"ATOM Display";case n.__.CORETWO:return"Core2";case n.__.COREINK:return"CoreInk";case n.__.PAPER:return"M5Paper";case n.__.PICO:return"M5STAMP-PICO";case n.__.TOUGH:return"TOUGH";case n.__.ATOM_U:return"ATOM U";case n.__.M5STATION:return"M5STATION";case n.__.STICK_C_PLUS2:return"StickC PLUS2";default:return"Core"}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=o.Yjl({name:"alias",type:e,pure:!0}),e})()},65126:function(e,t,i){"use strict";i.d(t,{G:function(){return Z}});var n=i(67302),o=i(54569),r=i(90665),s=i(37716),a=i(61797),l=i(22e3),c=i(8318),h=i(52634),u=i(81780),d=i(40342),p=i(36623),g=i(10215),f=i(99742);const m=["apikeyBox"],_=["huePicker"];function v(e,t){1&e&&(s.TgZ(0,"td"),s._uU(1),s.ALo(2,"translate"),s.qZA()),2&e&&(s.xp6(1),s.Oqu(s.lcZ(2,1,"API_KEY")))}function y(e,t){1&e&&(s.TgZ(0,"td"),s._uU(1),s.ALo(2,"translate"),s.qZA()),2&e&&(s.xp6(1),s.Oqu(s.lcZ(2,1,"MAC_ADDR")))}function b(e,t){if(1&e){const e=s.EpF();s.TgZ(0,"div",44),s.NdJ("click",function(){const t=s.CHM(e).$implicit;return s.oxw().selectapi(t)}),s._uU(1),s.qZA()}if(2&e){const e=t.$implicit;s.xp6(1),s.Oqu(e)}}function w(e,t){if(1&e&&(s.TgZ(0,"option",45),s._uU(1),s.qZA()),2&e){const e=t.$implicit;s.Q6J("value",null==e?null:e.url),s.xp6(1),s.Oqu(e.name)}}function A(e,t){if(1&e&&(s.TgZ(0,"option",45),s._uU(1),s.qZA()),2&e){const e=t.$implicit;s.Q6J("value",null==e?null:e.file),s.xp6(1),s.Oqu(e.name)}}function x(e,t){if(1&e){const e=s.EpF();s.TgZ(0,"li",46),s.TgZ(1,"label",47),s.TgZ(2,"input",48),s.NdJ("change",function(t){return s.CHM(e),s.oxw().handleDevice(t)}),s.qZA(),s._UZ(3,"img",49),s.ALo(4,"alias"),s.qZA(),s.qZA()}if(2&e){const e=t.$implicit,i=s.oxw();s.xp6(1),s.s9C("for",e),s.xp6(1),s.s9C("id",e),s.Q6J("value",e)("checked",e==i.defineType),s.xp6(1),s.s9C("alt",e),s.s9C("title",s.lcZ(4,7,e)),s.Q6J("src","../../../assets/images/device/"+e+".png",s.LSH)}}function T(e,t){if(1&e){const e=s.EpF();s.TgZ(0,"div",50),s.TgZ(1,"video",51),s.NdJ("ended",function(){const t=s.CHM(e).$implicit;return s.oxw().ended(t)})("pause",function(){const t=s.CHM(e).$implicit;return s.oxw().pause(t)})("play",function(){const t=s.CHM(e).$implicit;return s.oxw().paly(t)}),s._uU(2),s.ALo(3,"translate"),s.qZA(),s.TgZ(4,"div",52),s.TgZ(5,"p"),s._uU(6),s.qZA(),s.qZA(),s.qZA()}if(2&e){const e=t.$implicit,i=s.oxw();s.xp6(1),s.s9C("src",e.video,s.LSH),s.s9C("poster",e.poster,s.LSH),s.s9C("controls",i.controls),s.xp6(1),s.hij(" ",s.lcZ(3,6,"VIDEO-ERROR")," "),s.xp6(2),s.Q6J("@video_anima",e.video_hidden?"show":"hide"),s.xp6(2),s.Oqu(e.title)}}const C=[n.__.CORE,n.__.FIRE,n.__.STICK_C,n.__.STICK_C_PLUS,n.__.STICK_C_PLUS2,n.__.ATOM,n.__.ATOM_MATRIX,n.__.CORETWO,n.__.COREINK,n.__.PAPER,n.__.PICO,n.__.TOUGH,n.__.ATOM_U,n.__.ATOM_DISPLAY,n.__.M5STATION];let Z=(()=>{class e{constructor(e,t,i,o,s,a,l,c,h,u){this.globalOperatorSrv=e,this.storeSrv=t,this.codeEditorSrv=i,this.uploadSrv=o,this.translateSrv=s,this.blocklyEditorSrv=a,this.seniorOperatorSrv=l,this.el=c,this.pnpSrv=h,this.screenSimulatorSrv=u,this.languageList=n.bn,this.apiList=n.T5,this.allapikey=localStorage.getItem("AllAPIKEY")?JSON.parse(localStorage.getItem("AllAPIKEY")):[""],this.tempApiKeyList=this.allapikey,this.isMacAddr=!1,this.categoryArr=C,this.dropdownState="hide",this.exampleVisibility=!1,this.exampleDetail=null,this.setting=!1,this.controls="controls",this.inputLimit=8,this.video=[{video:"https://m5stack.oss-cn-shenzhen.aliyuncs.com/video/%E6%95%99%E7%A8%8B/UIFlow%20Tutorials/A3%20-%20UIflow%20Tutorial%201.mp4",poster:"../../../assets/images/uiflow.png",title:"Uiflow Profile",video_hidden:!0},{video:"https://m5stack.oss-cn-shenzhen.aliyuncs.com/video/%E6%95%99%E7%A8%8B/WiFi%20Configuration/A2%20-%20WIFI%20Configuration.mp4",poster:"../../../assets/images/wiff.jpg",title:"Distribution Network",video_hidden:!0},{video:"https://m5stack.oss-cn-shenzhen.aliyuncs.com/video/%E6%95%99%E7%A8%8B/Firmware%20Upgrade/A1%20-%20Firmware%20Upgrade.mp4",poster:"../../../assets/images/firmware.jpg",title:"The Firmware Update",video_hidden:!0},{video:"https://m5stack.oss-cn-shenzhen.aliyuncs.com/video/%E6%95%99%E7%A8%8B/UIFlow%20Desktop-IDE/UIFlow%20Desktop-IDE%20Tutorials.mp4",poster:"../../../assets/images/line.png",title:"The Offline Version",video_hidden:!0}],this.isHueSliderMove=!1,this.hueValue=JSON.parse(localStorage.getItem(n.k2.THEME_HUE))||n.IQ,this.form=new r.cw({language:new r.NI(""),server:new r.NI("")})}ngOnInit(){this.defineType=sessionStorage.getItem("_type")||"core",this.selectedType=this.defineType,this.isMacAddr=this.selectedType===n.__.PICO,this.inputLimit=this.isMacAddr?12:8,this.apikey$=this.storeSrv.getApikey(),localStorage.getItem("new_user")?this.setting=!0:(this.setting=!1,localStorage.setItem("new_user","false")),this.setHueThumb(this.hueValue),this.form=new r.cw({language:new r.NI(this.storeSrv.defaultLanguage),server:new r.NI(this.storeSrv.apiUrl)})}ngAfterViewInit(){this.allapikey=JSON.parse(localStorage.getItem("AllAPIKEY")),this.tempApiKeyList=this.allapikey}beforeOk(e,t,i){let o=this,r=this.globalOperatorSrv.getMode().source._value,s=this.storeSrv.getSelectedFileData().source._value;const a=function(){o.storeSrv.apiKey.value!==e&&(o.storeSrv.setCacheFileData([]),o.storeSrv.setPrimaryFileInfo(null),o.storeSrv.setSecondaryFileInfo({})),o.globalOperatorSrv.setMode(n.IK.CODE),o.ok(e,t,i),o.storeSrv.setSelectedFileData(null),o.codeEditorSrv.updateWorkspaceValue()};r===n.IK.FILE&&s?s.data!==this.codeEditorSrv.workspace.getValue()?this.globalOperatorSrv.saveWarnSwal(1,a):a():o.ok(e,t,i)}ok(e,t,i){let o=`${this.isMacAddr?"MAC":"Apikey"} must be ${this.inputLimit} characters long`;if(this.storeSrv.apiKey.value!==e){if(!/^[A-Fa-f0-9]+$/.test(e))return this.globalOperatorSrv.createMessageBox().instance.error("Invalid apikey"),!1;if(e.length!==this.inputLimit)return this.globalOperatorSrv.createMessageBox().instance.error(o),!1;this.storeSrv.setApikey(e),this.storeSrv.setAllkey(e),this.storeSrv.setAPIUrl(i),this.uploadSrv.getDeviceInfo().subscribe(e=>{},e=>{this.seniorOperatorSrv.requestError(0,e)})}else if(""!==e&&e.length!==this.inputLimit)return this.globalOperatorSrv.createMessageBox().instance.error(o),!1;if(this.storeSrv.defaultLanguage!==t){this.storeSrv.loddingMODE.next(!0);const e=window.Blockly.Xml.workspaceToDom(window.BlocklyEditor),i=window.Blockly.Xml.domToText(e);window.sessionStorage.setItem("xml",i),this.storeSrv.setLanguage(t),this.blocklyEditorSrv.init({language:t,wrapperId:"wrapper_blockly_editor",toolboxId:"wrapper_blockly_toolbox"}),this.translateSrv.use(t),setTimeout(()=>{this.storeSrv.componentList.next(this.storeSrv.componentList.value),this.storeSrv.unitList.next(this.storeSrv.unitList.value),this.storeSrv.hatList.next(this.storeSrv.hatList.value),this.storeSrv.stampList.next(this.storeSrv.stampList.value)},1e3)}this.storeSrv.apiUrl!==i&&(this.storeSrv.setAPIUrl(i),this.uploadSrv.getDeviceInfo().subscribe(e=>{},e=>{this.seniorOperatorSrv.requestError(0,e)})),sessionStorage.getItem("_type")!==this.selectedType&&(this.storeSrv.setType(this.selectedType),localStorage.setItem("_type",this.selectedType),this.uploadSrv.clearUrlSearch(),this.screenSimulatorSrv.destroy(),this.storeSrv.pnpEnable.value&&(this.pnpSrv.disablePnP(),this.pnpSrv.checkDevicePnp(this.selectedType)?this.pnpSrv.enablePnP():this.globalOperatorSrv.errSwal("PnP only support core2"))),window.BlocklyEditor.toolbox_.selectedItem_?window.BlocklyEditor.toolbox_.setSelectedItem(null):window.BlocklyEditor.getFlyout().isVisible_&&window.BlocklyEditor.getFlyout().setVisible(!1),JSON.parse(localStorage.getItem(n.k2.THEME_HUE))!==this.hueValue&&localStorage.setItem(n.k2.THEME_HUE,JSON.stringify(this.hueValue)),this.codeEditorSrv.updateWorkspaceValue(),this.globalOperatorSrv.maskModal.instance.removeMask()}cancel(){this.globalOperatorSrv.setThemeColor(),this.globalOperatorSrv.maskModal.instance.removeMask()}enter(e,t,i,n){if(13===e.keyCode)return this.ok(t,i,n)}convertUpperCase(e){let t=e.target.value.toUpperCase();t=t.trim().substring(0,this.inputLimit),this.apikeyBox.nativeElement.value=t,this.tempApiKeyList=t.length>0?this.allapikey.filter(e=>e.indexOf(t)>-1):this.allapikey}apifocus(){this.show=!0}apiblur(){this.show=!1}selectapi(e){this.apikeyBox.nativeElement.value=e.toUpperCase()}paly(e){e.video_hidden=!1}pause(e){e.video_hidden=!0}ended(e){e.video_hidden=!0}handleDevice(e){this.selectedType=e.target.value,this.isMacAddr=this.selectedType===n.__.PICO,this.inputLimit=this.isMacAddr?12:8}hueSliderStart(e){this.isHueSliderMove=!0,this.setHueValue(e)}hueSliderMove(e){this.isHueSliderMove&&this.setHueValue(e),e.stopPropagation(),e.preventDefault()}hueSliderEnd(e){this.isHueSliderMove=!1}setHueValue(e){let t=e.clientX||e.touches[0].clientX,i=this.huePicker.nativeElement.getElementsByClassName("hue-slider-track")[0],n=this.huePicker.nativeElement.getElementsByClassName("hue-slider-thumb")[0],o=t-i.getBoundingClientRect().x,r=o/i.parentElement.offsetWidth*100,s=(i.offsetWidth+i.offsetLeft-n.offsetWidth/2)/i.parentElement.offsetWidth*100;r>s&&(r=s),r<0&&(r=0),n.style.left=`${r}%`;let a=o/i.offsetWidth*100;a>100&&(a=100),a<0&&(a=0),this.hueValue=Math.round(360*a/100),this.globalOperatorSrv.setThemeColor(this.hueValue)}setHueThumb(e){let t=this.huePicker.nativeElement.getElementsByClassName("hue-slider-track")[0],i=this.huePicker.nativeElement.getElementsByClassName("hue-slider-thumb")[0],n=Math.round(100*e/360);n>100&&(n=100),n<0&&(n=0),i.style.left=n/100*t.offsetWidth/t.parentElement.offsetWidth*100+"%"}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(a.t),s.Y36(l.d),s.Y36(c.h),s.Y36(h.C),s.Y36(u.sK),s.Y36(d.O),s.Y36(p.V),s.Y36(s.SBq),s.Y36(g.r),s.Y36(f.s))},e.\u0275cmp=s.Xpm({type:e,selectors:[["app-setting-panel"]],viewQuery:function(e,t){if(1&e&&(s.Gf(m,5),s.Gf(_,7)),2&e){let e;s.iGM(e=s.CRH())&&(t.apikeyBox=e.first),s.iGM(e=s.CRH())&&(t.huePicker=e.first)}},decls:96,vars:56,consts:[[1,"wrapper--setting-panel"],[1,"setting-panel"],[1,"video"],["href","#video"],[1,"wapper-scroll"],[3,"formGroup"],[3,"mouseleave"],[4,"ngIf"],[1,"apikey"],["spellcheck","false","type","text",1,"td--inputbox",3,"value","keyup","input","focus","blur"],["apikeyBox",""],[1,"input-limit"],[1,"apikey-select"],[3,"click",4,"ngFor","ngForOf"],[1,"td--inputbox",3,"formControlName","value"],["apiurlBox",""],[3,"value",4,"ngFor","ngForOf"],["languageBox",""],["id","device",1,"td--link","device"],[1,"list-device"],["class","item-device",4,"ngFor","ngForOf"],[1,"theme-picker",3,"mouseup","touchend","touchcancel","touchmove","mousemove"],["huePicker",""],[1,"hue-slider-track"],[1,"hue-slider-thumb",3,"mousedown","touchstart"],["id","fiexd",1,"td--link","flexd"],["href","https://m5burner.m5stack.com/app/M5Burner-v3-beta-win-x64.zip",1,"flexd_a"],["src","../../../assets/images/window.png","alt",""],["href","https://m5burner.m5stack.com/app/M5Burner-v3-beta-mac-x64.zip",1,"flexd_a"],["src","../../../assets/images/mac.png","alt",""],[2,"height","30px !important"],[1,"doc",2,"height","30px !important","padding-top","10px !important"],[1,"td--link","dixd_doc",2,"height","30px !important","padding-top","20px !important"],[1,"doc_block"],["target","_blank","href","../../../download/M5GO_User_Manual_cn.pdf"],["target","_blank","href","../../../download/M5GO_User_Manual_en.pdf"],["target","_blank","href","../../../download/M5GO_User_Manual_jp.pdf"],["target","_blank","href","../../../download/M5GO_User_Manual_ru.pdf"],["id","video","name",""],[1,"doc"],[1,"td--link","list_video",2,"padding-top","20px"],["class","video_father",4,"ngFor","ngForOf"],[1,"btn","cancel",3,"click"],[1,"btn","ok",3,"click"],[3,"click"],[3,"value"],[1,"item-device"],[1,"label_device",3,"for"],["type","radio","name","deviceName",1,"device-checkbox",3,"id","value","checked","change"],[1,"device-icon",3,"src","alt","title"],[1,"video_father"],["width","250px","height","200px",3,"src","poster","controls","ended","pause","play"],["appHighlight","",1,"video_explain"]],template:function(e,t){if(1&e){const e=s.EpF();s.TgZ(0,"div",0),s.TgZ(1,"div",1),s.TgZ(2,"header"),s.TgZ(3,"div",2),s.TgZ(4,"p"),s._uU(5),s.ALo(6,"translate"),s.qZA(),s.TgZ(7,"a",3),s._uU(8),s.ALo(9,"translate"),s.qZA(),s.qZA(),s.qZA(),s.TgZ(10,"div",4),s.TgZ(11,"form",5),s.TgZ(12,"table",6),s.NdJ("mouseleave",function(){return t.isHueSliderMove=!1}),s.TgZ(13,"tr"),s.YNc(14,v,3,3,"td",7),s.YNc(15,y,3,3,"td",7),s.TgZ(16,"td",8),s.TgZ(17,"input",9,10),s.NdJ("keyup",function(i){s.CHM(e);const n=s.MAs(18),o=s.MAs(39),r=s.MAs(31);return t.enter(i,n.value,o.value,r.value)})("input",function(e){return t.convertUpperCase(e)})("focus",function(){return t.apifocus()})("blur",function(){return t.apiblur()}),s.ALo(19,"uppercase"),s.ALo(20,"async"),s.qZA(),s.TgZ(21,"span",11),s._uU(22),s.qZA(),s.TgZ(23,"div",12),s.YNc(24,b,2,1,"div",13),s.qZA(),s.qZA(),s.qZA(),s.TgZ(25,"tr"),s.TgZ(26,"td"),s._uU(27),s.ALo(28,"translate"),s.qZA(),s.TgZ(29,"td"),s.TgZ(30,"select",14,15),s.YNc(32,w,2,2,"option",16),s.qZA(),s.qZA(),s.qZA(),s.TgZ(33,"tr"),s.TgZ(34,"td"),s._uU(35),s.ALo(36,"translate"),s.qZA(),s.TgZ(37,"td"),s.TgZ(38,"select",14,17),s.YNc(40,A,2,2,"option",16),s.qZA(),s.qZA(),s.qZA(),s.TgZ(41,"tr"),s.TgZ(42,"td"),s._uU(43),s.ALo(44,"translate"),s.qZA(),s.TgZ(45,"td",18),s.TgZ(46,"ul",19),s.YNc(47,x,5,9,"li",20),s.qZA(),s.qZA(),s.qZA(),s.TgZ(48,"tr"),s.TgZ(49,"td"),s._uU(50),s.ALo(51,"translate"),s.qZA(),s.TgZ(52,"td",21,22),s.NdJ("mouseup",function(e){return t.hueSliderEnd(e)})("touchend",function(e){return t.hueSliderEnd(e)})("touchcancel",function(e){return t.hueSliderEnd(e)})("touchmove",function(e){return t.hueSliderMove(e)})("mousemove",function(e){return t.hueSliderMove(e)}),s._UZ(54,"div",23),s.TgZ(55,"div",24),s.NdJ("mousedown",function(e){return t.hueSliderStart(e)})("touchstart",function(e){return t.hueSliderStart(e)}),s.qZA(),s.qZA(),s.qZA(),s.TgZ(56,"tr"),s.TgZ(57,"td"),s._uU(58),s.ALo(59,"translate"),s.qZA(),s.TgZ(60,"td",25),s.TgZ(61,"a",26),s._UZ(62,"img",27),s.qZA(),s.TgZ(63,"a",28),s._UZ(64,"img",29),s.qZA(),s.qZA(),s.qZA(),s.TgZ(65,"tr",30),s.TgZ(66,"td",31),s._uU(67),s.ALo(68,"translate"),s.qZA(),s.TgZ(69,"td",32),s.TgZ(70,"div",33),s.TgZ(71,"a",34),s.TgZ(72,"span"),s._uU(73,"\u4e2d\u6587"),s.qZA(),s.qZA(),s.TgZ(74,"a",35),s.TgZ(75,"span"),s._uU(76,"English"),s.qZA(),s.qZA(),s.TgZ(77,"a",36),s.TgZ(78,"span"),s._uU(79,"\u65e5\u672c\u8a9e"),s.qZA(),s.qZA(),s.TgZ(80,"a",37),s.TgZ(81,"span"),s._uU(82,"\u0420\u0443\u0441\u0441\u043a\u0438\u0439"),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(83,"tr",38),s.TgZ(84,"td",39),s._uU(85),s.ALo(86,"translate"),s.qZA(),s.TgZ(87,"td",40),s.YNc(88,T,7,8,"div",41),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(89,"footer"),s.TgZ(90,"button",42),s.NdJ("click",function(){return t.cancel()}),s._uU(91),s.ALo(92,"translate"),s.qZA(),s.TgZ(93,"button",43),s.NdJ("click",function(){s.CHM(e);const i=s.MAs(18),n=s.MAs(39),o=s.MAs(31);return t.beforeOk(i.value,n.value,o.value)}),s._uU(94),s.ALo(95,"translate"),s.qZA(),s.qZA(),s.qZA(),s.qZA()}if(2&e){const e=s.MAs(18);s.xp6(5),s.hij("",s.lcZ(6,30,t.setting?"SETTING":"SETTING_first")," "),s.xp6(3),s.hij(" ",s.lcZ(9,32,"VIDEO_GET")," "),s.xp6(3),s.Q6J("formGroup",t.form),s.xp6(3),s.Q6J("ngIf",!t.isMacAddr),s.xp6(1),s.Q6J("ngIf",t.isMacAddr),s.xp6(1),s.ekj("error",e.value.length>0&&e.value.length!==t.inputLimit),s.xp6(1),s.Q6J("value",s.lcZ(19,34,s.lcZ(20,36,t.apikey$))),s.xp6(5),s.AsE("",e.value.length,"/",t.inputLimit,""),s.xp6(1),s.ekj("show",t.show),s.xp6(1),s.Q6J("ngForOf",t.tempApiKeyList),s.xp6(3),s.Oqu(s.lcZ(28,38,"API_SERVER")),s.xp6(3),s.Q6J("formControlName","server")("value",t.storeSrv.apiUrl),s.xp6(2),s.Q6J("ngForOf",t.apiList),s.xp6(3),s.Oqu(s.lcZ(36,40,"LANGUAGE")),s.xp6(3),s.Q6J("formControlName","language")("value",t.storeSrv.defaultLanguage),s.xp6(2),s.Q6J("ngForOf",t.languageList),s.xp6(3),s.Oqu(s.lcZ(44,42,"CATEGORY")),s.xp6(4),s.Q6J("ngForOf",t.categoryArr),s.xp6(3),s.Oqu(s.lcZ(51,44,"THEME")),s.xp6(8),s.Oqu(s.lcZ(59,46,"FIRMWARE")),s.xp6(9),s.hij("",s.lcZ(68,48,"DOCS")," "),s.xp6(18),s.hij("",s.lcZ(86,50,"VIDEO")," "),s.xp6(3),s.Q6J("ngForOf",t.video),s.xp6(3),s.Oqu(s.lcZ(92,52,"CANCEL")),s.xp6(3),s.Oqu(s.lcZ(95,54,"OK"))}},styles:['.wrapper--setting-panel[_ngcontent-%COMP%]{width:100%;height:100%;-webkit-animation:zoomIn .35s ease;animation:zoomIn .35s ease}.setting-panel[_ngcontent-%COMP%]{width:600px;position:relative;top:50%;left:50%;transform:translate(-50%,-50%);background-color:#383838;border-radius:10px}.setting-panel[_ngcontent-%COMP%]   .wapper-scroll[_ngcontent-%COMP%]{height:360px;overflow-y:scroll}header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding:8px 12px;font-size:28px;font-family:Arial;border-bottom:1px solid #555;color:#fff;font-weight:bolder}footer[_ngcontent-%COMP%]{text-align:right;border-top:1px solid #555}footer[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{outline:none;padding:6px 16px;font-size:18px;border:none;border-radius:5px;margin:12px 8px;color:#fff;cursor:pointer;font-weight:bolder}footer[_ngcontent-%COMP%]   .btn.cancel[_ngcontent-%COMP%]{background-color:#ff5f2e}footer[_ngcontent-%COMP%]   .btn.ok[_ngcontent-%COMP%]{background-color:#3ac569}.setting-panel[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{text-align:right;font-size:18px;padding:0 20px 20px;width:100%;color:#fff;font-family:Arial}.setting-panel[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:50px}.setting-panel[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:20px}.setting-panel[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td.td--link[_ngcontent-%COMP%]{text-align:left}.setting-panel[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td.td--link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#00a0c8}.setting-panel[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td.apikey[_ngcontent-%COMP%]{position:relative}.setting-panel[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td.apikey[_ngcontent-%COMP%]   .apikey-select[_ngcontent-%COMP%]{position:absolute;width:100%;color:#000;max-height:0;overflow:hidden;line-height:1.5;text-align:center;background-color:#fff;border-radius:5px;transition:all .3s ease;z-index:99}.setting-panel[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td.apikey[_ngcontent-%COMP%]   .apikey-select.show[_ngcontent-%COMP%]{max-height:300px;overflow-y:auto}.setting-panel[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td.apikey[_ngcontent-%COMP%]   .apikey-select[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:hover{background-color:#eee}.setting-panel[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td.theme[_ngcontent-%COMP%]{display:flex;height:70px;align-items:center;padding:0}.setting-panel[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td.theme[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{flex:1;height:50px;line-height:50px;text-align:center;border-radius:4px;margin:0 5px;transition:all .5s cubic-bezier(.075,.82,.165,1);cursor:pointer}.setting-panel[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td.theme[_ngcontent-%COMP%]   div.clod[_ngcontent-%COMP%]{background-color:#007acc;box-shadow:0 0 10px #007acc}.setting-panel[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td.theme[_ngcontent-%COMP%]   div.warn[_ngcontent-%COMP%]{background-color:#e92;box-shadow:0 0 10px #e92}.setting-panel[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td.theme[_ngcontent-%COMP%]   div.blank[_ngcontent-%COMP%]{background-color:#000200;box-shadow:0 0 10px #000200}.setting-panel[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td.theme[_ngcontent-%COMP%]   div.pink[_ngcontent-%COMP%]{background-color:#ffb1b0;box-shadow:0 0 10px #ffb1b0}.setting-panel[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td.theme[_ngcontent-%COMP%]   div.green[_ngcontent-%COMP%]{background-color:#2fb303;box-shadow:0 0 10px #2fb303}.setting-panel[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td.theme[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.setting-panel[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td.theme-picker[_ngcontent-%COMP%]{height:50px;display:flex;position:relative;align-items:center}.setting-panel[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td.theme-picker[_ngcontent-%COMP%]:hover   .hue-slider-thumb[_ngcontent-%COMP%]:before{visibility:visible}.setting-panel[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td.theme-picker[_ngcontent-%COMP%]   .hue-slider-track[_ngcontent-%COMP%]{height:13px;flex:1;margin:0 10px;background:linear-gradient(to right,#f00 0%,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,#f00 100%);border-radius:5px}.setting-panel[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td.theme-picker[_ngcontent-%COMP%]   .hue-slider-thumb[_ngcontent-%COMP%]{position:absolute;cursor:pointer;transition:all 0s ease;width:20px;height:20px;border-radius:50%;background-color:#fff;box-shadow:#0000005e 0 1px 4px}.setting-panel[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td.theme-picker[_ngcontent-%COMP%]   .hue-slider-thumb[_ngcontent-%COMP%]:before{display:block;content:"";position:absolute;top:-5px;left:-5px;width:30px;height:30px;border-radius:50%;visibility:hidden;background-color:#fff;opacity:.3}.setting-panel[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]{width:45px;height:30px}.setting-panel[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;font-size:20px;border:none;outline:none;padding:4px 8px;border-radius:4px}.setting-panel[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .doc[_ngcontent-%COMP%]{min-height:50px;line-height:50px;display:flex;justify-content:flex-end;align-items:flex-start}.setting-panel[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .flexd[_ngcontent-%COMP%]{width:100%;display:flex;padding:10px 15px}.setting-panel[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .doc[_ngcontent-%COMP%]{position:relative}.setting-panel[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .doc_block[_ngcontent-%COMP%]{min-height:30px;overflow:hidden;padding-left:10px}.setting-panel[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .dixd_doc[_ngcontent-%COMP%]{border-radius:8px;min-height:100px;overflow:hidden}.setting-panel[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .doc_block[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:inline-block;padding:0 10px;height:30px;margin-right:15px;text-align:center;text-decoration:none}.setting-panel[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;height:30px;background-color:#fff;border-radius:5px;outline:none;border:none;font-size:18px;padding-left:6px}@media only screen and (min-width: 320px) and (max-height: 767px){.setting-panel[_ngcontent-%COMP%]{width:70%}.setting-panel[_ngcontent-%COMP%]   .wapper-scroll[_ngcontent-%COMP%]{height:200px;overflow-y:scroll}}#fiexd[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:first-child{display:flex;justify-content:center;align-items:center;margin-right:25px}.flexd_a[_ngcontent-%COMP%]{width:34px;height:34px}#fiexd[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:34px;height:34px}#fiexd_img[_ngcontent-%COMP%]{width:32px;height:40px}.video[_ngcontent-%COMP%]{width:100%;display:flex}.video[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{width:60%}.video[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{width:40%;display:flex;justify-content:center;align-items:center;border-bottom:1px solid #555;color:#fff;font-size:20px;font-family:Arial}.video[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:hover{color:var(--bg-color)}.video_father[_ngcontent-%COMP%]{position:relative;height:230px}.video_father[_ngcontent-%COMP%] > video[_ngcontent-%COMP%]{position:absolute;width:300px;height:200px;top:0;border:1px solid #b4b4b4}.video_explain[_ngcontent-%COMP%]{position:absolute;width:300px;height:140px;top:0;background-color:#282828;background:linear-gradient(to top,rgba(0,0,0,0) 0%,rgba(0,0,0,.2) 5%,rgba(0,0,0,.4) 20%,rgba(0,0,0,.6) 90%);z-index:1;opacity:.9;display:flex;justify-content:center;align-items:center;overflow:hidden}#device[_ngcontent-%COMP%]{padding:10px 12px}#device[_ngcontent-%COMP%]   .list-device[_ngcontent-%COMP%]{width:356px;display:flex;flex-wrap:wrap}#device[_ngcontent-%COMP%]   .list-device[_ngcontent-%COMP%]   .item-device[_ngcontent-%COMP%]{width:48px;height:48px;list-style-type:none;margin-right:19px;margin-bottom:15px;cursor:pointer}#device[_ngcontent-%COMP%]   .list-device[_ngcontent-%COMP%]   .item-device[_ngcontent-%COMP%]:hover{transform:scale(1.1)}#device[_ngcontent-%COMP%]   .list-device[_ngcontent-%COMP%]   .label_device[_ngcontent-%COMP%]{display:flex;justify-content:center}#device[_ngcontent-%COMP%]   .list-device[_ngcontent-%COMP%]   .device-checkbox[_ngcontent-%COMP%]{display:none}#device[_ngcontent-%COMP%]   .list-device[_ngcontent-%COMP%]   .device-checkbox[_ngcontent-%COMP%]:checked + img[_ngcontent-%COMP%]{filter:drop-shadow(0 0 .3rem #007ACC)}#device[_ngcontent-%COMP%]   .list-device[_ngcontent-%COMP%]   .device-icon[_ngcontent-%COMP%]{height:48px;cursor:pointer}.input-limit[_ngcontent-%COMP%]{font-size:18px;position:absolute;top:15px;right:10px;color:#2b2b2b}.error[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:2px red solid!important}.error[_ngcontent-%COMP%]   .input-limit[_ngcontent-%COMP%]{color:red}'],data:{animation:[o.mT]}}),e})()},7637:function(e,t,i){"use strict";i.d(t,{R2:function(){return b},pc:function(){return T},gK:function(){return y},r0:function(){return p},N3:function(){return d},bK:function(){return v},HF:function(){return c},B$:function(){return x},cu:function(){return h},Di:function(){return A},_n:function(){return a},ju:function(){return w},yk:function(){return f},b8:function(){return l},k7:function(){return u},Pi:function(){return m},qU:function(){return _},r3:function(){return s},RQ:function(){return g}});var n=i(50402),o=i(67302);class r{constructor(e){this.id=e.id||n.EN(),this.createTime=e.createTime||Date.now()}checkSettable(e){return!(e===o.pA.ID||e===o.pA.TYPE||e===o.pA.CREATE_TIME)}getProp(e){return this[e]}setProp(e,t){if(this.checkSettable(e)){if(e===o.pA.WIDTH||e===o.pA.HEIGHT||e===o.pA.X||e===o.pA.Y||e===o.pA.X1||e===o.pA.Y1||e===o.pA.X2||e===o.pA.Y2||e===o.pA.X3||e===o.pA.Y3||e===o.pA.RADIUS||e===o.pA.MIN_VALUE||e===o.pA.MAX_VALUE||e===o.pA.LINE_WIDTH||e===o.pA.LAYER||e===o.pA.ROTATION)return this[e]=parseInt(t);if(e===o.pA.VISIBILITY||e===o.pA.IMAGE_INVERT)return this[e]="true"==t;this[e]=t}}transformColorStr(e){return e.replace("#","0x")}checkBoolean(e,t){return void 0!==e?e:t}handleCore2Font(e){let t=e;if((sessionStorage.getItem("_type")===o.__.CORETWO||sessionStorage.getItem("_type")===o.__.TOUGH)&&e){let i=e.split("_")[2];switch(e){case"FONT_MONT_12":case"FONT_MONT_16":case"FONT_MONT_20":case"FONT_MONT_24":case"FONT_MONT_28":case"FONT_MONT_32":case"FONT_MONT_36":case"FONT_MONT_40":t="FONT_MONT_"+(i-2);break;case"FONT_MONT_42":case"FONT_MONT_44":case"FONT_MONT_46":case"FONT_MONT_48":t="FONT_MONT_38"}}return t}}class s extends r{constructor(e){super(e),this.isCoreInk=sessionStorage.getItem("_type")===o.__.COREINK,this.isPaper=sessionStorage.getItem("_type")===o.__.PAPER,this.name="title",this.x=0,this.y=0,this.width=320,this.height=20,this.color=this.isCoreInk||this.isPaper?o.lG.WHITE:"#FFFFFF",this.backgroundColor=this.isCoreInk||this.isPaper?o.lG.BLACK:"#0000FF",this.text="Title",this.componentSvg=null,this.textOffset=3,this.font=o.co.DEFAULT,this.screenType="default",this.type=o.Eq.TITLE,this.name=e.name,this.layer=e.layer,this.x=e.x||0,this.y=e.y||0,this.width=e.width||this.width,this.height=e.height||this.height,this.color=e.color||this.color,this.backgroundColor=e.backgroundColor||this.backgroundColor,this.text=e.text||this.text,this.font=e.font||this.font,this.textOffset=e.textOffset||this.textOffset,this.componentSvg=e.componentSvg||this.componentSvg,this.screenType=e.screenType||this.screenType}getAllProps(){return[{[o.pA.ID]:this.id},{[o.pA.CREATE_TIME]:this.createTime},{[o.pA.TYPE]:this.type},{[o.pA.NAME]:this.name},{[o.pA.COLOR]:this.color},{[o.pA.BACKGROUND_COLOR]:this.backgroundColor},{[o.pA.TEXTOFFSET]:this.textOffset},{[o.pA.TEXT]:this.text},{[o.pA.LAYER]:this.layer}]}transformToCode(){if("default"!==this.screenType)return`${this.name} = M5Title(title="${this.text}", x=${this.textOffset}, fgcolor=${this.transformColorStr(this.color)}, bgcolor=${this.transformColorStr(this.backgroundColor)}, type=hdmi)\n`;if(this.isCoreInk)return`${this.name} = M5Title(title="${this.text}", x=${this.textOffset}, fgcolor=${this.color===o.lG.WHITE?"lcd.WHITE":"lcd.BLACK"}, bgcolor=${this.backgroundColor===o.lG.WHITE?"lcd.WHITE":"lcd.BLACK"})\n`;if(this.isPaper){let e=o.Ly.indexOf(this.color),t=o.Ly.indexOf(this.backgroundColor);return`${this.name} = M5Title(title="${this.text}", x=${this.textOffset}, fgcolor=${e}, bgcolor=${t})\n`}return`${this.name} = M5Title(title="${this.text}", x=${this.textOffset}, fgcolor=${this.transformColorStr(this.color)}, bgcolor=${this.transformColorStr(this.backgroundColor)})\n`}}class a extends r{constructor(e){super(e),this.isCoreTwo=sessionStorage.getItem("_type")===o.__.CORETWO||sessionStorage.getItem("_type")===o.__.TOUGH,this.isPaper=sessionStorage.getItem("_type")===o.__.PAPER,this.name="label",this.x=0,this.y=0,this.color=(0,n.gf)(sessionStorage.getItem("_type")),this.text="Text",this.font=this.isCoreTwo?o.Kk[1]:this.isPaper?o.co.DEJAVUSANS_24PX:o.co.DEFAULT,this.rotation=0,this.componentSvg=null,this.eRetio=1,this.screenType="default",this.type=o.Eq.LABEL,this.name=e.name,this.eRetio=e.eretio,this.layer=e.layer,this.x=Math.floor(e.x)||0,this.y=Math.floor(e.y)||0,this.color=e.color||this.color,this.text=e.text||this.text,this.font=this.handleCore2Font(e.font)||this.font,this.componentSvg=e.componentSvg||null,this.rotation=e.rotation||0,this.screenType=e.screenType||this.screenType}getAllProps(){return this.isCoreTwo?[{[o.pA.ID]:this.id},{[o.pA.CREATE_TIME]:this.createTime},{[o.pA.TYPE]:this.type},{[o.pA.NAME]:this.name},{[o.pA.X]:this.x},{[o.pA.Y]:this.y},{[o.pA.COLOR]:this.color},{[o.pA.TEXT]:this.text},{[o.pA.FONT]:this.font},{[o.pA.LAYER]:this.layer}]:[{[o.pA.ID]:this.id},{[o.pA.CREATE_TIME]:this.createTime},{[o.pA.TYPE]:this.type},{[o.pA.NAME]:this.name},{[o.pA.X]:this.x},{[o.pA.Y]:this.y},{[o.pA.COLOR]:this.color},{[o.pA.TEXT]:this.text},{[o.pA.FONT]:this.font},{[o.pA.ROTATION]:this.rotation},{[o.pA.LAYER]:this.layer}]}transformToCode(){let e="",t=sessionStorage.getItem("_type");if("default"!==this.screenType)return[o.__.CORETWO,o.__.TOUGH].includes(sessionStorage.getItem("_type"))&&[o.co.COMIC,o.co.UBUNTU_C,o.co.FONT_UNICODE].includes(this.font)&&(this.font=o.co.DEFAULT),`${this.name} = M5TextBox(${Math.floor(this.x)}, ${Math.floor(this.y)}, "${this.text}", ${this.font}, ${this.transformColorStr(this.color)}, rotate=${this.rotation}, type=hdmi)\n`;if(this.isCoreTwo)e=`${this.name} = M5Label('${this.text}', x=${this.x}, y=${this.y}, color=${this.transformColorStr(this.color)}, font=${this.font}, parent=None)\n`;else if(t===o.__.COREINK){let t=this.color===o.lG.WHITE?"lcd.WHITE":"lcd.BLACK";e=`${this.name} = M5TextBox(${Math.floor(this.x)}, ${Math.floor(this.y)}, "${this.text}", ${this.font}, ${t}, rotate=${this.rotation})\n`}else if(this.isPaper){let t=o.Ly.indexOf(this.color);e=`${this.name} = M5TextBox(${Math.floor(this.x)}, ${Math.floor(this.y)}, "${this.text}", ${this.font}, ${t}, rotate=${this.rotation})\n`}else e=`${this.name} = M5TextBox(${Math.floor(this.x)}, ${Math.floor(this.y)}, "${this.text}", ${this.font}, ${this.transformColorStr(this.color)}, rotate=${this.rotation})\n`;return e}}class l extends r{constructor(e){super(e),this.name="rectangle",this.x=0,this.y=0,this.width=30,this.height=30,this.borderColor=(0,n.gf)(sessionStorage.getItem("_type")),this.backgroundColor=(0,n.gf)(sessionStorage.getItem("_type")),this.componentSvg=null,this.eRetio=1,this.screenType="default",this.type=o.Eq.RECTANGLE,this.name=e.name,this.eRetio=e.eretio,this.layer=e.layer,this.x=Math.floor(e.x)||0,this.y=Math.floor(e.y)||0,this.width=Math.floor(e.width)||30,this.height=Math.floor(e.height)||30,this.borderColor=e.borderColor||this.borderColor,this.backgroundColor=e.backgroundColor||this.backgroundColor,this.componentSvg=e.componentSvg||null,this.screenType=e.screenType||this.screenType}getAllProps(){return[{[o.pA.ID]:this.id},{[o.pA.CREATE_TIME]:this.createTime},{[o.pA.TYPE]:this.type},{[o.pA.NAME]:this.name},{[o.pA.X]:this.x},{[o.pA.Y]:this.y},{[o.pA.WIDTH]:this.width},{[o.pA.HEIGHT]:this.height},{[o.pA.BORDER_COLOR]:this.borderColor},{[o.pA.BACKGROUND_COLOR]:this.backgroundColor},{[o.pA.LAYER]:this.layer}]}transformToCode(){let e=sessionStorage.getItem("_type");if("default"!==this.screenType)return`${this.name} = M5Rect(${Math.floor(this.x)}, ${Math.floor(this.y)}, ${Math.floor(this.width)}, ${Math.floor(this.height)}, ${this.transformColorStr(this.backgroundColor)}, ${this.transformColorStr(this.borderColor)}, type=hdmi)\n`;if(e===o.__.COREINK){let e=this.backgroundColor===o.lG.WHITE?"lcd.WHITE":"lcd.BLACK",t=this.borderColor===o.lG.WHITE?"lcd.WHITE":"lcd.BLACK";return`${this.name} = M5Rect(${Math.floor(this.x)}, ${Math.floor(this.y)}, ${Math.floor(this.width)}, ${Math.floor(this.height)}, ${e}, ${t})\n`}if(e===o.__.PAPER){let e=o.Ly.indexOf(this.backgroundColor),t=o.Ly.indexOf(this.borderColor);return`${this.name} = M5Rect(${Math.floor(this.x)}, ${Math.floor(this.y)}, ${Math.floor(this.width)}, ${Math.floor(this.height)}, ${e}, ${t})\n`}return`${this.name} = M5Rect(${Math.floor(this.x)}, ${Math.floor(this.y)}, ${Math.floor(this.width)}, ${Math.floor(this.height)}, ${this.transformColorStr(this.backgroundColor)}, ${this.transformColorStr(this.borderColor)})\n`}}class c extends r{constructor(e){super(e),this.name="circle",this.x=0,this.y=0,this.radius=15,this.borderColor=(0,n.gf)(sessionStorage.getItem("_type")),this.backgroundColor=(0,n.gf)(sessionStorage.getItem("_type")),this.componentSvg=null,this.screenType="default",this.type=e.type||o.Eq.CIRCLE,this.name=e.name,this.layer=e.layer,this.x=Math.floor(e.x)||0,this.y=Math.floor(e.y)||0,this.radius=Math.floor(e.radius)||15,this.borderColor=e.borderColor||this.borderColor,this.backgroundColor=e.backgroundColor||this.backgroundColor,this.componentSvg=e.componentSvg||null,this.screenType=e.screenType||this.screenType}getAllProps(){return[{[o.pA.ID]:this.id},{[o.pA.CREATE_TIME]:this.createTime},{[o.pA.TYPE]:this.type},{[o.pA.NAME]:this.name},{[o.pA.X]:this.x},{[o.pA.Y]:this.y},{[o.pA.RADIUS]:this.radius},{[o.pA.BORDER_COLOR]:this.borderColor},{[o.pA.BACKGROUND_COLOR]:this.backgroundColor},{[o.pA.LAYER]:this.layer}]}transformToCode(){let e=sessionStorage.getItem("_type");if("default"!==this.screenType)return`${this.name} = M5Circle(${this.x}, ${this.y}, ${this.radius}, ${this.transformColorStr(this.backgroundColor)}, ${this.transformColorStr(this.borderColor)}, type=hdmi)\n`;if(e===o.__.COREINK)return`${this.name} = M5Circle(${this.x}, ${this.y}, ${this.radius}, ${this.backgroundColor===o.lG.WHITE?"lcd.WHITE":"lcd.BLACK"}, ${this.borderColor===o.lG.WHITE?"lcd.WHITE":"lcd.BLACK"})\n`;if(e===o.__.PAPER){let e=o.Ly.indexOf(this.backgroundColor),t=o.Ly.indexOf(this.borderColor);return`${this.name} = M5Circle(${this.x}, ${this.y}, ${this.radius}, ${e}, ${t})\n`}return`${this.name} = M5Circle(${this.x}, ${this.y}, ${this.radius}, ${this.transformColorStr(this.backgroundColor)}, ${this.transformColorStr(this.borderColor)})\n`}}class h extends r{constructor(e){super(e),this.isCoreTwo=sessionStorage.getItem("_type")===o.__.CORETWO||sessionStorage.getItem("_type")===o.__.TOUGH,this.isCoreInk=sessionStorage.getItem("_type")===o.__.COREINK,this.isPaper=sessionStorage.getItem("_type")===o.__.PAPER,this.name="image",this.x=0,this.y=0,this.imagePath=this.isCoreTwo||this.isPaper?"default.png":"default.jpg",this.visibility=!0,this.imageInvert=!1,this.imageThreshold=128,this.componentSvg=null,this.screenType="default",this.type=o.Eq.IMAGE,this.name=e.name,this.layer=e.layer,this.x=Math.floor(e.x)||this.x,this.y=Math.floor(e.y)||this.y,this.imagePath=e.imagePath||this.imagePath,this.visibility=this.checkBoolean(e.visibility,this.visibility),this.componentSvg=e.componentSvg||this.componentSvg,this.imageInvert=e.imageInvert||this.imageInvert,this.imageThreshold=e.imageThreshold||this.imageThreshold,this.screenType=e.screenType||this.screenType}getAllProps(){return this.isCoreTwo?[{[o.pA.ID]:this.id},{[o.pA.CREATE_TIME]:this.createTime},{[o.pA.TYPE]:this.type},{[o.pA.NAME]:this.name},{[o.pA.X]:this.x},{[o.pA.Y]:this.y},{[o.pA.IMAGE_PATH]:this.imagePath},{[o.pA.LAYER]:this.layer}]:this.isCoreInk?[{[o.pA.ID]:this.id},{[o.pA.CREATE_TIME]:this.createTime},{[o.pA.TYPE]:this.type},{[o.pA.NAME]:this.name},{[o.pA.X]:this.x},{[o.pA.Y]:this.y},{[o.pA.IMAGE_PATH]:this.imagePath},{[o.pA.IMAGE_INVERT]:this.imageInvert},{[o.pA.IMAGE_THRESHOLD]:this.imageThreshold},{[o.pA.VISIBILITY]:this.visibility},{[o.pA.LAYER]:this.layer}]:[{[o.pA.ID]:this.id},{[o.pA.CREATE_TIME]:this.createTime},{[o.pA.TYPE]:this.type},{[o.pA.NAME]:this.name},{[o.pA.X]:this.x},{[o.pA.Y]:this.y},{[o.pA.IMAGE_PATH]:this.imagePath},{[o.pA.VISIBILITY]:this.visibility},{[o.pA.LAYER]:this.layer}]}transformToCode(){let e="";return"default"!==this.screenType?[o.__.CORETWO,o.__.TOUGH].includes(sessionStorage.getItem("_type"))?("default.jpg"===this.imagePath&&(this.imagePath="default.png"),`${this.name} = M5Image(${this.x}, ${this.y}, "res/${this.imagePath}", ${this.visibility?"True":"False"}, type=hdmi)\n`):("default.png"===this.imagePath&&(this.imagePath="default.jpg"),`${this.name} = M5Img(${this.x}, ${this.y}, "res/${this.imagePath}", ${this.visibility?"True":"False"}, type=hdmi)\n`):(e=this.isCoreTwo?`${this.name} = M5Img("res/${this.imagePath}", x=${this.x}, y=${this.y}, parent=None)\n`:this.isCoreInk?`${this.name} = M5Img(${this.x}, ${this.y}, "res/${this.imagePath}",  visible=${this.visibility?"True":"False"}, invert=${this.imageInvert?"True":"False"}, threshold=${this.imageThreshold})\n`:`${this.name} = M5Img(${this.x}, ${this.y}, "res/${this.imagePath}", ${this.visibility?"True":"False"})\n`,e)}}class u extends r{constructor(e){super(e),this.name="screen",this.x=0,this.y=0,this.width=320,this.height=240,this.backgroundColor=sessionStorage.getItem("_type")===o.__.CORETWO||sessionStorage.getItem("_type")===o.__.TOUGH?"#FFFFFF":"#222222",this.backgroundImage="",this.componentSvg=null,this.size=0,this.screenType="default",this.id=e.id||"____screen",this.type=e.type||o.Eq.SCREEN,this.x=e.x||0,this.y=e.y||0,this.width=e.width||320,this.height=e.height||240,this.backgroundColor=e.backgroundColor||this.backgroundColor,this.backgroundImage=e.backgroundImage||"",this.componentSvg=e.componentSvg||null,this.size=e.size||0,this.screenType=e.screenType||this.screenType}getAllProps(){return[{[o.pA.BACKGROUND_COLOR]:this.backgroundColor}]}transformToCode(){return""}}var d=(()=>{return(e=d||(d={}))[e.A=0]="A",e[e.B=1]="B",e[e.C=2]="C",d;var e})();class p extends r{constructor(e){switch(super(e),this.name="button",this.buttonIndex=d.A,this.x=105,this.y=381,this.width=64,this.height=24,this.text="Button",this.visibility=!1,this.componentSvg=null,this.type=o.Eq.BUTTON,this.buttonIndex=e.buttonIndex,this.name=e.name,e.buttonIndex){case d.A:this.id="____buttonA",this.name="ButtonA",this.text=e.text||"ButtonA",this.x=35,this.y=216;break;case d.B:this.id="____buttonB",this.name="ButtonB",this.text=e.text||"ButtonB",this.x=125,this.y=216;break;case d.C:this.id="____buttonC",this.name="ButtonC",this.text=e.text||"ButtonC",this.x=215,this.y=216;break;default:return}this.visibility=e.visibility||!1,this.componentSvg=e.componentSvg||null}getAllProps(){return[]}transformToCode(){let e="";switch(this.name){case"ButtonA":e="btnA";break;case"ButtonB":e="btnB";break;case"ButtonC":e="btnC"}return""}}class g extends r{constructor(e){super(e),this.name="triangle",this.x=0,this.y=0,this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.x3=0,this.y3=0,this.h=30,this.borderColor=(0,n.gf)(sessionStorage.getItem("_type")),this.backgroundColor=(0,n.gf)(sessionStorage.getItem("_type")),this.componentSvg=null,this.screenType="default",this.type=o.Eq.TRIANGLE,this.name=e.name,this.layer=e.layer,this.x=Math.floor(e.x1)||0,this.y=Math.floor(e.y1)||0,this.x1=this.x,this.y1=this.y,this.x2=Math.floor(e.x2)||this.x-this.h,this.y2=Math.floor(e.y2)||this.y+this.h,this.x3=Math.floor(e.x3)||this.x+this.h,this.y3=Math.floor(e.y3)||this.y+this.h,this.borderColor=e.borderColor||this.borderColor,this.backgroundColor=e.backgroundColor||this.backgroundColor,this.componentSvg=e.componentSvg||null,this.screenType=e.screenType||this.screenType}getAllProps(){return[{[o.pA.ID]:this.id},{[o.pA.CREATE_TIME]:this.createTime},{[o.pA.TYPE]:this.type},{[o.pA.NAME]:this.name},{[o.pA.X1]:this.x1},{[o.pA.Y1]:this.y1},{[o.pA.X2]:this.x2},{[o.pA.Y2]:this.y2},{[o.pA.X3]:this.x3},{[o.pA.Y3]:this.y3},{[o.pA.BORDER_COLOR]:this.borderColor},{[o.pA.BACKGROUND_COLOR]:this.backgroundColor},{[o.pA.LAYER]:this.layer}]}transformToCode(){let e=sessionStorage.getItem("_type");if("default"!==this.screenType)return`${this.name} = M5Triangle(${this.x1}, ${this.y1}, ${this.x2}, ${this.y2}, ${this.x3}, ${this.y3}, ${this.transformColorStr(this.backgroundColor)}, ${this.transformColorStr(this.borderColor)}, type=hdmi)\n`;if(e===o.__.COREINK)return`${this.name} = M5Triangle(${this.x1}, ${this.y1}, ${this.x2}, ${this.y2}, ${this.x3}, ${this.y3}, ${this.backgroundColor===o.lG.WHITE?"lcd.WHITE":"lcd.BLACK"}, ${this.borderColor===o.lG.WHITE?"lcd.WHITE":"lcd.BLACK"})\n`;if(e===o.__.PAPER){let e=o.Ly.indexOf(this.backgroundColor),t=o.Ly.indexOf(this.borderColor);return`${this.name} = M5Triangle(${this.x1}, ${this.y1}, ${this.x2}, ${this.y2}, ${this.x3}, ${this.y3}, ${e}, ${t})\n`}return`${this.name} = M5Triangle(${this.x1}, ${this.y1}, ${this.x2}, ${this.y2}, ${this.x3}, ${this.y3}, ${this.transformColorStr(this.backgroundColor)}, ${this.transformColorStr(this.borderColor)})\n`}}class f extends r{constructor(e){super(e),this.isCoreTwo=sessionStorage.getItem("_type")===o.__.CORETWO||sessionStorage.getItem("_type")===o.__.TOUGH,this.name="line",this.x=0,this.y=0,this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.width=50,this.color=(0,n.gf)(sessionStorage.getItem("_type")),this.lineWidth=1,this.componentSvg=null,this.screenType="default",this.type=o.Eq.LINE,this.name=e.name,this.layer=e.layer,this.x=Math.floor(e.x1)||0,this.y=Math.floor(e.y1)||0,this.x1=this.x,this.y1=this.y,this.x2=Math.floor(e.x2)||this.x+this.width,this.y2=Math.floor(e.y2)||this.y,this.lineWidth=Math.floor(e.lineWidth)||this.lineWidth,this.color=e.color||this.color,this.componentSvg=e.componentSvg||null,this.screenType=e.screenType||this.screenType}getAllProps(){return this.isCoreTwo?[{[o.pA.ID]:this.id},{[o.pA.CREATE_TIME]:this.createTime},{[o.pA.TYPE]:this.type},{[o.pA.NAME]:this.name},{[o.pA.X1]:this.x1},{[o.pA.Y1]:this.y1},{[o.pA.X2]:this.x2},{[o.pA.Y2]:this.y2},{[o.pA.LINE_WIDTH]:this.lineWidth},{[o.pA.COLOR]:this.color},{[o.pA.LAYER]:this.layer}]:[{[o.pA.ID]:this.id},{[o.pA.CREATE_TIME]:this.createTime},{[o.pA.TYPE]:this.type},{[o.pA.NAME]:this.name},{[o.pA.X1]:this.x1},{[o.pA.Y1]:this.y1},{[o.pA.X2]:this.x2},{[o.pA.Y2]:this.y2},{[o.pA.COLOR]:this.color},{[o.pA.LAYER]:this.layer}]}transformToCode(){let e="",t=sessionStorage.getItem("_type");if("default"!==this.screenType)return[o.__.CORETWO,o.__.TOUGH].includes(sessionStorage.getItem("_type"))?`${this.name} = M5InLine(M5InLine.PLINE, ${this.x1}, ${this.y1}, ${this.x2}, ${this.y2}, ${this.transformColorStr(this.color)}, type=hdmi)\n`:`${this.name} = M5Line(M5Line.PLINE, ${this.x1}, ${this.y1}, ${this.x2}, ${this.y2}, ${this.transformColorStr(this.color)}, type=hdmi)\n`;if(this.isCoreTwo)e=`${this.name} = M5Line(x1=${this.x1}, y1=${this.y1}, x2=${this.x2}, y2=${this.y2}, color=${this.transformColorStr(this.color)}, width=${this.lineWidth}, parent=None)\n`;else if(t===o.__.COREINK)e=`${this.name} = M5Line(M5Line.PLINE, ${this.x1}, ${this.y1}, ${this.x2}, ${this.y2}, ${this.color===o.lG.WHITE?"lcd.WHITE":"lcd.BLACK"})\n`;else if(t===o.__.PAPER){let t=o.Ly.indexOf(this.color);e=`${this.name} = M5Line(M5Line.PLINE, ${this.x1}, ${this.y1}, ${this.x2}, ${this.y2}, ${t})\n`}else e=`${this.name} = M5Line(M5Line.PLINE, ${this.x1}, ${this.y1}, ${this.x2}, ${this.y2}, ${this.transformColorStr(this.color)})\n`;return e}}class m extends r{constructor(e){super(e),this.name="slider",this.x=0,this.y=0,this.width=70,this.height=12,this.minValue=0,this.maxValue=100,this.backgroundColor="#a0a0a0",this.trackColor="#08A2B0",this.handleColor="#08A2B0",this.componentSvg=null,this.screenType="default",this.type=o.Eq.SLIDER,this.name=e.name,this.layer=e.layer,this.x=Math.floor(e.x)||0,this.y=Math.floor(e.y)||0,this.width=Math.floor(e.width)||this.width,this.height=Math.floor(e.height)||this.height,this.backgroundColor=e.backgroundColor||this.backgroundColor,this.minValue=Math.floor(e.minValue)||this.minValue,this.maxValue=Math.floor(e.maxValue)||this.maxValue,this.trackColor=e.trackColor||this.trackColor,this.componentSvg=e.componentSvg||null,this.screenType=e.screenType||this.screenType}getAllProps(){return[{[o.pA.ID]:this.id},{[o.pA.CREATE_TIME]:this.createTime},{[o.pA.TYPE]:this.type},{[o.pA.X]:this.x},{[o.pA.Y]:this.y},{[o.pA.NAME]:this.name},{[o.pA.WIDTH]:this.width},{[o.pA.HEIGHT]:this.height},{[o.pA.MIN_VALUE]:this.minValue},{[o.pA.MAX_VALUE]:this.maxValue},{[o.pA.TRACK_COLOR]:this.trackColor},{[o.pA.BACKGROUND_COLOR]:this.backgroundColor},{[o.pA.LAYER]:this.layer}]}transformToCode(){return`${this.name} = M5Slider(x=${this.x}, y=${this.y}, w=${this.width}, h=${this.height}, min=${this.minValue}, max=${this.maxValue}, bg_c=${this.transformColorStr(this.backgroundColor)}, color=${this.transformColorStr(this.trackColor)}, parent=None)\n`}}class _ extends r{constructor(e){super(e),this.name="switch",this.x=0,this.y=0,this.width=70,this.height=30,this.color="#FFFFFF",this.selectedColor="#0288FB",this.unselectedColor="#CCCCCC",this.componentSvg=null,this.screenType="default",this.type=o.Eq.SWITCH,this.name=e.name,this.layer=e.layer,this.x=Math.floor(e.x)||this.x,this.y=Math.floor(e.y)||this.y,this.width=Math.floor(e.width)||this.width,this.height=Math.floor(e.height)||this.height,this.unselectedColor=e.unselectedColor||this.unselectedColor,this.selectedColor=e.selectedColor||this.selectedColor,this.componentSvg=e.componentSvg||null,this.screenType=e.screenType||this.screenType}getAllProps(){return[{[o.pA.ID]:this.id},{[o.pA.CREATE_TIME]:this.createTime},{[o.pA.TYPE]:this.type},{[o.pA.NAME]:this.name},{[o.pA.X]:this.x},{[o.pA.Y]:this.y},{[o.pA.WIDTH]:this.width},{[o.pA.HEIGHT]:this.height},{[o.pA.UNSELECTED_COLOR]:this.unselectedColor},{[o.pA.SELECTE_DCOLOR]:this.selectedColor},{[o.pA.LAYER]:this.layer}]}transformToCode(){return`${this.name} = M5Switch(x=${this.x}, y=${this.y}, w=${this.width}, h=${this.height}, bg_c=${this.transformColorStr(this.unselectedColor)}, color=${this.transformColorStr(this.selectedColor)}, parent=None)\n`}}class v extends r{constructor(e){super(e),this.name="checkbox",this.x=0,this.y=0,this.color="#000",this.selectedColor="#000",this.text="Text",this.font=o.Kk[2],this.componentSvg=null,this.screenType="default",this.type=o.Eq.CHECKBOX,this.name=e.name,this.layer=e.layer,this.x=Math.floor(e.x)||0,this.y=Math.floor(e.y)||0,this.text=e.text||this.text,this.font=this.handleCore2Font(e.font)||this.font,this.color=e.color||this.color,this.selectedColor=e.selectedColor||this.selectedColor,this.componentSvg=e.componentSvg||null,this.screenType=e.screenType||this.screenType}getAllProps(){return[{[o.pA.ID]:this.id},{[o.pA.CREATE_TIME]:this.createTime},{[o.pA.TYPE]:this.type},{[o.pA.NAME]:this.name},{[o.pA.X]:this.x},{[o.pA.Y]:this.y},{[o.pA.TEXT]:this.text},{[o.pA.FONT]:this.font},{[o.pA.COLOR]:this.color},{[o.pA.SELECTE_DCOLOR]:this.selectedColor},{[o.pA.LAYER]:this.layer}]}transformToCode(){return`${this.name} = M5Checkbox(text='${this.text}', x=${this.x}, y=${this.y}, text_c=${this.transformColorStr(this.color)}, check_c=${this.transformColorStr(this.selectedColor)}, font=${this.font}, parent=None)\n`}}class y extends r{constructor(e){super(e),this.name="button",this.x=0,this.y=0,this.width=70,this.height=30,this.r=50,this.text="Button",this.font=o.Kk[1],this.color="#000000",this.borderColor="#01a2b1",this.backgroundColor="#FFFFFF",this.componentSvg=null,this.screenType="default",this.type=o.Eq.BUTTON2,this.name=e.name,this.layer=e.layer,this.x=Math.floor(e.x)||0,this.y=Math.floor(e.y)||0,this.width=e.width||this.width,this.height=e.height||this.height,this.text=e.text||this.text,this.font=this.handleCore2Font(e.font)||this.font,this.color=e.color||this.color,this.backgroundColor=e.backgroundColor||this.backgroundColor,this.componentSvg=e.componentSvg||null,this.screenType=e.screenType||this.screenType}getAllProps(){return[{[o.pA.ID]:this.id},{[o.pA.CREATE_TIME]:this.createTime},{[o.pA.TYPE]:this.type},{[o.pA.NAME]:this.name},{[o.pA.X]:this.x},{[o.pA.Y]:this.y},{[o.pA.WIDTH]:this.width},{[o.pA.HEIGHT]:this.height},{[o.pA.TEXT]:this.text},{[o.pA.FONT]:this.font},{[o.pA.COLOR]:this.color},{[o.pA.BACKGROUND_COLOR]:this.backgroundColor},{[o.pA.LAYER]:this.layer}]}transformToCode(){return`${this.name} = M5Btn(text='${this.text}', x=${this.x}, y=${this.y}, w=${this.width}, h=${this.height}, bg_c=${this.transformColorStr(this.backgroundColor)}, text_c=${this.transformColorStr(this.color)}, font=${this.font}, parent=None)\n`}}class b extends r{constructor(e){super(e),this.name="bar",this.x=0,this.y=0,this.width=70,this.height=12,this.minValue=0,this.maxValue=100,this.backgroundColor="#a0a0a0",this.trackColor="#08A2B0",this.componentSvg=null,this.screenType="default",this.type=o.Eq.BAR,this.name=e.name,this.layer=e.layer,this.x=Math.floor(e.x)||0,this.y=Math.floor(e.y)||0,this.width=Math.floor(e.width)||this.width,this.height=Math.floor(e.height)||this.height,this.backgroundColor=e.backgroundColor||this.backgroundColor,this.minValue=Math.floor(e.minValue)||this.minValue,this.maxValue=Math.floor(e.maxValue)||this.maxValue,this.trackColor=e.trackColor||this.trackColor,this.componentSvg=e.componentSvg||null,this.screenType=e.screenType||this.screenType}getAllProps(){return[{[o.pA.ID]:this.id},{[o.pA.CREATE_TIME]:this.createTime},{[o.pA.TYPE]:this.type},{[o.pA.X]:this.x},{[o.pA.Y]:this.y},{[o.pA.NAME]:this.name},{[o.pA.WIDTH]:this.width},{[o.pA.HEIGHT]:this.height},{[o.pA.MIN_VALUE]:this.minValue},{[o.pA.MAX_VALUE]:this.maxValue},{[o.pA.TRACK_COLOR]:this.trackColor},{[o.pA.BACKGROUND_COLOR]:this.backgroundColor},{[o.pA.LAYER]:this.layer}]}transformToCode(){return`${this.name} = M5Bar(x=${this.x}, y=${this.y}, w=${this.width}, h=${this.height}, min=${this.minValue}, max=${this.maxValue}, bg_c=${this.transformColorStr(this.backgroundColor)}, color=${this.transformColorStr(this.trackColor)}, parent=None)\n`}}class w extends r{constructor(e){super(e),this.isCoreTwo=sessionStorage.getItem("_type")===o.__.CORETWO||sessionStorage.getItem("_type")===o.__.TOUGH,this.isPaper=sessionStorage.getItem("_type")===o.__.PAPER,this.name="labelplus",this.x=0,this.y=0,this.color=(0,n.gf)(sessionStorage.getItem("_type")),this.text="Text",this.font=this.isCoreTwo?o.Kk[1]:this.isPaper?o.co.DEJAVUSANS_24PX:o.co.DEFAULT,this.rotation=0,this.componentSvg=null,this.eRetio=1,this.screenType="default",this.url="http://api.m5stack.com/v1",this.timer="True",this.interval=1e3,this.data="",this.errorText="Error",this.errorTextColor=[o.__.COREINK,o.__.PAPER].includes(sessionStorage.getItem("_type"))?(0,n.gf)(sessionStorage.getItem("_type")):"#ff0000",this.jsonKey="None",this.type=o.Eq.LABELPLUS,this.name=e.name,this.eRetio=e.eretio,this.layer=e.layer,this.x=Math.floor(e.x)||0,this.y=Math.floor(e.y)||0,this.color=e.color||this.color,this.text=e.text||this.text,this.font=this.handleCore2Font(e.font)||this.font,this.componentSvg=e.componentSvg||null,this.rotation=e.rotation||0,this.screenType=e.screenType||this.screenType,this.url=e.url||this.url,this.timer=e.timer||this.timer,this.interval=e.interval||this.interval,this.errorText=e.errorText||this.errorText,this.errorTextColor=e.errorTextColor||this.errorTextColor,this.jsonKey=e.jsonKey||this.jsonKey}getAllProps(){return this.isCoreTwo?[{[o.pA.ID]:this.id},{[o.pA.CREATE_TIME]:this.createTime},{[o.pA.TYPE]:this.type},{[o.pA.NAME]:this.name},{[o.pA.X]:this.x},{[o.pA.Y]:this.y},{[o.pA.COLOR]:this.color},{[o.pA.TEXT]:this.text},{[o.pA.FONT]:this.font},{[o.pA.LAYER]:this.layer},{[o.pA.URL]:this.url},{[o.pA.JSONKEY]:this.jsonKey},{[o.pA.UPDATE]:this.timer},{[o.pA.INTERVAL]:this.interval},{[o.pA.ERRORTEXT]:this.errorText},{[o.pA.ERRORTEXTCOLOR]:this.errorTextColor}]:[{[o.pA.ID]:this.id},{[o.pA.CREATE_TIME]:this.createTime},{[o.pA.TYPE]:this.type},{[o.pA.NAME]:this.name},{[o.pA.X]:this.x},{[o.pA.Y]:this.y},{[o.pA.COLOR]:this.color},{[o.pA.TEXT]:this.text},{[o.pA.FONT]:this.font},{[o.pA.ROTATION]:this.rotation},{[o.pA.LAYER]:this.layer},{[o.pA.URL]:this.url},{[o.pA.JSONKEY]:this.jsonKey},{[o.pA.UPDATE]:this.timer},{[o.pA.INTERVAL]:this.interval},{[o.pA.ERRORTEXT]:this.errorText},{[o.pA.ERRORTEXTCOLOR]:this.errorTextColor}]}transformToCode(){let e="",t=sessionStorage.getItem("_type"),i="None";if("None"!==this.jsonKey&&(i=`'${this.jsonKey}'`),"default"!==this.screenType)return`${this.name} = M5LabelPlus(${Math.floor(this.x)}, ${Math.floor(this.y)}, "${this.text}", ${this.font}, ${this.transformColorStr(this.color)}, rotate=${this.rotation}, type=hdmi)\n`;if(this.isCoreTwo)e=`${this.name} = M5LabelPlus('${this.text}', x=${this.x}, y=${this.y}, color=${this.transformColorStr(this.color)}, font=${this.font}, parent=None, url='${this.url}', json=${i}, timer=${this.timer}, interval=${this.interval}, error_msg='${this.errorText}', error_color=${this.transformColorStr(this.errorTextColor)})\n`;else if(t===o.__.COREINK){let t=this.color===o.lG.WHITE?"lcd.WHITE":"lcd.BLACK";e=`${this.name} = M5LabelPlus(${Math.floor(this.x)}, ${Math.floor(this.y)}, "${this.text}", ${this.font}, ${t}, rotate=${this.rotation}, url='${this.url}', json=${i}, timer=${this.timer}, interval=${this.interval}, error_msg='${this.errorText}', error_color=${this.transformColorStr(this.errorTextColor)})\n`}else if(this.isPaper){let t=o.Ly.indexOf(this.color);e=`${this.name} = M5LabelPlus(${Math.floor(this.x)}, ${Math.floor(this.y)}, "${this.text}", ${this.font}, ${t}, rotate=${this.rotation}, url='${this.url}', json=${i}, timer=${this.timer}, interval=${this.interval}, error_msg='${this.errorText}', error_color=${this.transformColorStr(this.errorTextColor)})\n`}else e=`${this.name} = M5LabelPlus(${Math.floor(this.x)}, ${Math.floor(this.y)}, "${this.text}", ${this.font}, ${this.transformColorStr(this.color)}, rotate=${this.rotation}, url='${this.url}', json=${i}, timer=${this.timer}, interval=${this.interval}, error_msg='${this.errorText}', error_color=${this.transformColorStr(this.errorTextColor)})\n`;return e}}class A extends r{constructor(e){super(e),this.isCoreTwo=sessionStorage.getItem("_type")===o.__.CORETWO||sessionStorage.getItem("_type")===o.__.TOUGH,this.isCoreInk=sessionStorage.getItem("_type")===o.__.COREINK,this.isPaper=sessionStorage.getItem("_type")===o.__.PAPER,this.name="imageplus",this.x=0,this.y=0,this.imagePath=this.isCoreTwo||this.isPaper?"default.png":"default.jpg",this.visibility=!0,this.imageInvert=!1,this.imageThreshold=128,this.componentSvg=null,this.screenType="default",this.url="",this.timer="True",this.interval=3e3,this.type=o.Eq.IMAGEPLUS,this.name=e.name,this.layer=e.layer,this.x=Math.floor(e.x)||this.x,this.y=Math.floor(e.y)||this.y,this.imagePath=e.imagePath||this.imagePath,this.visibility=this.checkBoolean(e.visibility,this.visibility),this.componentSvg=e.componentSvg||this.componentSvg,this.imageInvert=e.imageInvert||this.imageInvert,this.imageThreshold=e.imageThreshold||this.imageThreshold,this.screenType=e.screenType||this.screenType,this.url=e.url||this.url,this.timer=e.timer||this.timer,this.interval=e.interval||this.interval}getAllProps(){return this.isCoreTwo?[{[o.pA.ID]:this.id},{[o.pA.CREATE_TIME]:this.createTime},{[o.pA.TYPE]:this.type},{[o.pA.NAME]:this.name},{[o.pA.X]:this.x},{[o.pA.Y]:this.y},{[o.pA.LAYER]:this.layer},{[o.pA.URL]:this.url},{[o.pA.UPDATE]:this.timer},{[o.pA.INTERVAL]:this.interval}]:this.isCoreInk?[{[o.pA.ID]:this.id},{[o.pA.CREATE_TIME]:this.createTime},{[o.pA.TYPE]:this.type},{[o.pA.NAME]:this.name},{[o.pA.X]:this.x},{[o.pA.Y]:this.y},{[o.pA.IMAGE_INVERT]:this.imageInvert},{[o.pA.IMAGE_THRESHOLD]:this.imageThreshold},{[o.pA.LAYER]:this.layer},{[o.pA.URL]:this.url},{[o.pA.UPDATE]:this.timer},{[o.pA.INTERVAL]:this.interval}]:[{[o.pA.ID]:this.id},{[o.pA.CREATE_TIME]:this.createTime},{[o.pA.TYPE]:this.type},{[o.pA.NAME]:this.name},{[o.pA.X]:this.x},{[o.pA.Y]:this.y},{[o.pA.LAYER]:this.layer},{[o.pA.URL]:this.url},{[o.pA.UPDATE]:this.timer},{[o.pA.INTERVAL]:this.interval}]}transformToCode(){let e="";return e=this.isCoreInk?`${this.name} = M5ImagePlus(${this.x}, ${this.y}, url='${this.url}', timer=${this.timer}, interval=${this.interval}, invert=${this.imageInvert?"True":"False"}, threshold=${this.imageThreshold})\n`:`${this.name} = M5ImagePlus(${this.x}, ${this.y}, url='${this.url}', timer=${this.timer}, interval=${this.interval})\n`,e}}class x extends r{constructor(e){super(e),this.isPaper=[o.__.PAPER,o.__.COREINK].includes(sessionStorage.getItem("_type")),this.name="graph",this.x=0,this.y=0,this.width=200,this.height=100,this.samplesNum=40,this.minValue=0,this.maxValue=100,this.chartType="M5ChartGraph.LINE",this.tension=.5,this.segment=5,this.backgroundColor=this.isPaper?o.lG.BLACK:"#0288FB",this.foregroundColor=this.isPaper?o.lG.WHITE:"#FFFFFF",this.componentSvg=null,this.screenType="default",this.type=o.Eq.GRAPH,this.name=e.name,this.layer=e.layer,this.x=Math.floor(e.x)||0,this.y=Math.floor(e.y)||0,this.width=Math.floor(e.width)||this.width,this.height=Math.floor(e.height)||this.height,this.backgroundColor=e.backgroundColor||this.backgroundColor,this.foregroundColor=e.foregroundColor||this.foregroundColor,this.minValue=Math.floor(e.minValue)||this.minValue,this.maxValue=Math.floor(e.maxValue)||this.maxValue,this.samplesNum=Math.floor(e.samplesNum)||this.samplesNum,this.chartType=e.chartType||this.chartType,this.tension=e.tension||this.tension,this.segment=e.segment||this.segment,this.componentSvg=e.componentSvg||null,this.screenType=e.screenType||this.screenType}getAllProps(){return[{[o.pA.ID]:this.id},{[o.pA.CREATE_TIME]:this.createTime},{[o.pA.TYPE]:this.type},{[o.pA.NAME]:this.name},{[o.pA.X]:this.x},{[o.pA.Y]:this.y},{[o.pA.WIDTH]:this.width},{[o.pA.HEIGHT]:this.height},{[o.pA.SAMPLESNUM]:this.samplesNum},{[o.pA.MIN_VALUE]:this.minValue},{[o.pA.MAX_VALUE]:this.maxValue},{[o.pA.CHART_TYPE]:this.chartType},{[o.pA.FG_COLOR]:this.foregroundColor},{[o.pA.BACKGROUND_COLOR]:this.backgroundColor},{[o.pA.TENSION]:this.tension},{[o.pA.SEGMENT]:this.segment},{[o.pA.LAYER]:this.layer}]}transformToCode(){return`${this.name} = M5ChartGraph(${this.x}, ${this.y}, ${this.width}, ${this.height}, ${this.samplesNum}, ${this.minValue}, ${this.maxValue}, ${this.chartType}, ${this.transformColorStr(this.foregroundColor)}, ${this.transformColorStr(this.backgroundColor)}, ${this.tension}, ${this.segment})\n`}}class T extends r{constructor(e){super(e),this.isPaper=[o.__.PAPER,o.__.COREINK].includes(sessionStorage.getItem("_type")),this.name="bar_graph",this.x=0,this.y=0,this.width=200,this.height=50,this.minValue=0,this.maxValue=100,this.chartType="M5BarGraph.HORIZON",this.reversed="False",this.backgroundColor=this.isPaper?o.lG.WHITE:"#FFFFFF",this.foregroundColor=this.isPaper?o.lG.BLACK:"#0288FB",this.componentSvg=null,this.screenType="default",this.type=o.Eq.BARGRAPH,this.name=e.name,this.layer=e.layer,this.x=Math.floor(e.x)||0,this.y=Math.floor(e.y)||0,this.width=Math.floor(e.width)||this.width,this.height=Math.floor(e.height)||this.height,this.backgroundColor=e.backgroundColor||this.backgroundColor,this.foregroundColor=e.foregroundColor||this.foregroundColor,this.minValue=e.minValue||this.minValue,this.chartType=e.chartType||this.chartType,this.reversed=e.reversed||this.reversed,this.componentSvg=e.componentSvg||null,this.screenType=e.screenType||this.screenType}getAllProps(){return[{[o.pA.ID]:this.id},{[o.pA.CREATE_TIME]:this.createTime},{[o.pA.TYPE]:this.type},{[o.pA.NAME]:this.name},{[o.pA.X]:this.x},{[o.pA.Y]:this.y},{[o.pA.WIDTH]:this.width},{[o.pA.HEIGHT]:this.height},{[o.pA.MIN_VALUE]:this.minValue},{[o.pA.MAX_VALUE]:this.maxValue},{[o.pA.CHART_TYPE]:this.chartType},{[o.pA.FG_COLOR]:this.foregroundColor},{[o.pA.BACKGROUND_COLOR]:this.backgroundColor},{[o.pA.REVERSED]:this.reversed},{[o.pA.LAYER]:this.layer}]}transformToCode(){return`${this.name} = M5BarGraph(${this.x}, ${this.y}, ${this.width}, ${this.height}, ${this.minValue}, ${this.maxValue}, ${this.chartType}, ${this.reversed}, ${this.transformColorStr(this.foregroundColor)}, ${this.transformColorStr(this.backgroundColor)})\n`}}},75002:function(e,t,i){"use strict";i.d(t,{v:function(){return n},u:function(){return o}});class n{constructor(e){this.icon="",this.builder=null,this.icon=e.icon,this.builder=e.builder}}class o{constructor(e){this.toolList=[],this.toolList=e}}},49242:function(e,t,i){"use strict";i.d(t,{rV:function(){return r},NG:function(){return s},bt:function(){return a}});var n=i(50402),o=i(67302);class r{constructor(){this.id=(0,n.EN)(),this.createTime=Date.now()}checkPort(){var e="";switch(this.port){case"A":case"B":case"C":case"D":case"E":e=`unit.PORT${this.port}`;break;case"PAHUB":e=`unit.PAHUB${this.new_pb_port}`;break;case o.Kt:e=`(${this.user_port})`;break;default:e=`unit.PORT${this.port}`}return e}}class s{constructor(){this.id=(0,n.EN)(),this.createTime=Date.now()}}class a{constructor(){this.id=(0,n.EN)(),this.createTime=Date.now()}checkPort(){var e="";switch(this.port){case"A":case"B":case"C":case"D":case"E":e=`stamp.PORT${this.port}`;break;case"PAHUB":e=`stamp.PAHUB${this.new_pb_port}`;break;case o.Kt:e=`(${this.user_port})`;break;default:e=`stamp.PORT${this.port}`}return e}}},43858:function(e,t,i){"use strict";i.d(t,{j:function(){return r}});var n=i(49242),o=i(67302);class r extends n.NG{constructor(e){super(),this.type=o.E2.Thermal,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.B,this.default=e.port.default?e.port.default:e.default?e.default:["A","B","C"],this.icon="hat_Thermal.png",this.url=o.xb.SKU+"U062"}getCode(){return`${this.name} = hat.get(hat.MLX90640)\n`}}},75723:function(e,t,i){"use strict";i.d(t,{HEA:function(){return si},NM9:function(){return Ft},lWN:function(){return ai},WcW:function(){return Yt},S09:function(){return Wt},L9i:function(){return mi},UCq:function(){return ri},EFS:function(){return li},Ot6:function(){return ti},fDc:function(){return Ht},RwY:function(){return fi},$zo:function(){return ci},ZsX:function(){return Ut},gKv:function(){return ii},IUz:function(){return ni},fEv:function(){return Gt},nb7:function(){return hi},XUS:function(){return Xt},Xad:function(){return Kt},INP:function(){return ui},DQG:function(){return di},L1x:function(){return Nt},HSK:function(){return Bt},iuM:function(){return Vt},dh5:function(){return oi},cRD:function(){return Jt},iNJ:function(){return Dt},aEg:function(){return gi},IDl:function(){return $t},QWm:function(){return zt},Jxw:function(){return Qt},jL7:function(){return ei.j},VjQ:function(){return pi},XHn:function(){return jt},joN:function(){return yi},n60:function(){return _i},ftu:function(){return vi},bIq:function(){return w},CSw:function(){return dt},_W$:function(){return tt},$pm:function(){return V},zZ$:function(){return A},u5g:function(){return kt},$SM:function(){return ht},MOA:function(){return j},_OS:function(){return z},Tem:function(){return l},g3b:function(){return Le},$0U:function(){return Mt},D6t:function(){return W},ZkP:function(){return Qe},R5s:function(){return x},xts:function(){return De},cPP:function(){return at},TLE:function(){return N},h4X:function(){return pt},kVh:function(){return Ue},e5:function(){return He},$7I:function(){return Ke},nFm:function(){return et},tmb:function(){return T},SzA:function(){return lt},W:function(){return le},gWh:function(){return Lt},KGR:function(){return C},UXo:function(){return Zt},piF:function(){return $e},V3k:function(){return Me},DMh:function(){return Z},H6I:function(){return p},QkU:function(){return ke},ilY:function(){return Je},vOD:function(){return r},oJw:function(){return s},eLT:function(){return a},B8p:function(){return mt},LO2:function(){return _t},nYO:function(){return ct},_rl:function(){return L},gXc:function(){return U},ZcI:function(){return te},fmZ:function(){return ye},AIM:function(){return Se},l4c:function(){return B},HWk:function(){return Xe},stA:function(){return be},mnq:function(){return it},qkD:function(){return vt},HHl:function(){return $},do4:function(){return ze},rwb:function(){return ee},xBd:function(){return st},Hlb:function(){return _},pTD:function(){return k},e9:function(){return Ce},Dy_:function(){return K},IKt:function(){return yt},uCw:function(){return S},dmQ:function(){return fe},Ss0:function(){return u},YSb:function(){return Ze},hK0:function(){return X},DbO:function(){return nt},gA8:function(){return Fe},DNN:function(){return ne},gtA:function(){return oe},xN$:function(){return d},Mi2:function(){return Ne},LIQ:function(){return bt},TWN:function(){return Pt},T9U:function(){return me},sbd:function(){return _e},p_6:function(){return ve},iVb:function(){return E},Qhy:function(){return g},np4:function(){return Ee},YIi:function(){return St},lYl:function(){return gt},pwT:function(){return Tt},YgK:function(){return we},gyN:function(){return pe},ATU:function(){return Ot},BM_:function(){return je},ywi:function(){return ut},rrx:function(){return h},aZe:function(){return M},QIh:function(){return de},mm1:function(){return Q},Ohe:function(){return J},UDw:function(){return Oe},Dt2:function(){return c},GCB:function(){return H},pw4:function(){return F},Gb:function(){return Re},waU:function(){return O},US4:function(){return Ct},LPz:function(){return rt},xLY:function(){return ot},k9y:function(){return P},H7M:function(){return ge},Usw:function(){return At},PV8:function(){return I},VY8:function(){return Ie},KpY:function(){return ae},V2p:function(){return D},vdB:function(){return It},vjW:function(){return Te},JVA:function(){return Ae},TPv:function(){return qe},HSb:function(){return Pe},JGD:function(){return Ge},GHT:function(){return Rt},Rbq:function(){return f},p6x:function(){return ft},Dpk:function(){return xt},t3B:function(){return q},Smv:function(){return G},uGe:function(){return R},yW3:function(){return Ye},vmT:function(){return qt},EkF:function(){return wt},ztu:function(){return b},Gfr:function(){return Be},wKh:function(){return ce},otU:function(){return Ve},UQW:function(){return re},Szs:function(){return v},U7T:function(){return y},UJM:function(){return ie},MW8:function(){return Y},MuL:function(){return se},NpM:function(){return m},ZyP:function(){return Et},h6$:function(){return We},u8U:function(){return he},PBr:function(){return xe},ybB:function(){return ue}});var n=i(49242),o=i(67302);class r extends n.rV{constructor(e){super(),this.type=o.g1.ENV,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.B,this.default=e.port.default?e.port.default:e.default?e.default:["A","B","C"],this.pb_port=e.port.pb_port?e.port.pb_port:e.pb_port?e.pb_port:[0,1,2,3,4,5],this.new_pb_port=e.port.new_pb_port?e.port.new_pb_port:e.new_pb_port?e.new_pb_port:"0",this.user_port=e.user_port?e.user_port:o.E$,this.icon="env.png",this.hasPnP=!0,this.url=o.xb.UNIT+"env"}getCode(){var e=this.checkPort();return`${this.name} = unit.get(unit.ENV, ${e})\n`}}class s extends n.rV{constructor(e){super(),this.hidden=!("Beta"==localStorage.getItem("versions")||null==localStorage.getItem("versions")),this.type=o.g1.ENV2,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.B,this.default=e.port.default?e.port.default:e.default?e.default:["A","B","C"],this.pb_port=e.port.pb_port?e.port.pb_port:e.pb_port?e.pb_port:[0,1,2,3,4,5],this.new_pb_port=e.port.new_pb_port?e.port.new_pb_port:e.new_pb_port?e.new_pb_port:"0",this.user_port=e.user_port?e.user_port:o.E$,this.icon="env2.png",this.hasPnP=!0,this.url=o.xb.SKU+"U001-B"}getCode(){var e=this.checkPort();return`${this.name} = unit.get(unit.ENV2, ${e})\n`}}class a extends n.rV{constructor(e){super(),this.hidden=!("Beta"==localStorage.getItem("versions")||null==localStorage.getItem("versions")),this.type=o.g1.ENV3,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.B,this.default=e.port.default?e.port.default:e.default?e.default:["A","B","C"],this.pb_port=e.port.pb_port?e.port.pb_port:e.pb_port?e.pb_port:[0,1,2,3,4,5],this.new_pb_port=e.port.new_pb_port?e.port.new_pb_port:e.new_pb_port?e.new_pb_port:"0",this.user_port=e.user_port?e.user_port:o.E$,this.icon="env3.png",this.hasPnP=!0,this.url=o.xb.SKU+"U001-C"}getCode(){var e=this.checkPort();return`${this.name} = unit.get(unit.ENV3, ${e})\n`}}class l extends n.rV{constructor(e){super(),this.stickType="stick",this.type=o.g1.ANGLE,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.B,this.default=e.port.default?e.port.default:e.default?e.default:["A","B","C"],this.user_port=e.user_port?e.user_port:o.E$,this.icon="angle.png",this.hasPnP=!0,this.url=o.xb.SKU+"U005"}getCode(){var e=this.checkPort();return`${this.name} = unit.get(unit.ANGLE, ${e})\n`}}class c extends n.rV{constructor(e){super(),this.type=o.g1.PIR,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.B,this.default=e.port.default?e.port.default:e.default?e.default:["A","B","C"],this.user_port=e.user_port?e.user_port:o.E$,this.icon="pir.png",this.url=o.xb.SKU+"U004"}getCode(){var e=this.checkPort();return`${this.name} = unit.get(unit.PIR, ${e})\n`}}class h extends n.rV{constructor(e){super(),this.count=10,this.type=o.g1.NEOPIXEL,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.A,this.count=e.count||10,this.default=e.port.default?e.port.default:e.default?e.default:["A","B","C"],this.user_port=e.user_port?e.user_port:o.E$,this.icon="rgb_led.png",this.url=o.xb.SKU+"A035"}getCode(){var e=this.checkPort();return`${this.name} = unit.get(unit.NEOPIXEL, ${e}, ${this.count})\n`}}class u extends n.rV{constructor(e){super(),this.type=o.g1.JOYSTICK,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.A,this.default=e.port.default?e.port.default:e.default?e.default:["A","B","C"],this.pb_port=e.port.pb_port?e.port.pb_port:e.pb_port?e.pb_port:[0,1,2,3,4,5],this.new_pb_port=e.port.new_pb_port?e.port.new_pb_port:e.new_pb_port?e.new_pb_port:"0",this.user_port=e.user_port?e.user_port:o.E$,this.icon="joystick.png",this.url=o.xb.UNIT+"joystick"}getCode(){var e=this.checkPort();return`${this.name} = unit.get(unit.JOYSTICK, ${e})\n`}}class d extends n.rV{constructor(e){super(),this.stickType="stick",this.type=o.g1.LIGHT,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.B,this.default=e.port.default?e.port.default:e.default?e.default:["A","B","C"],this.user_port=e.user_port?e.user_port:o.E$,this.icon="light.png",this.url=o.xb.SKU+"U021"}getCode(){var e=this.checkPort();return`${this.name} = unit.get(unit.LIGHT, ${e})\n`}}class p extends n.rV{constructor(e){super(),this.stickType="stick",this.type=o.g1.EARTH,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.B,this.default=e.port.default?e.port.default:e.default?e.default:["A","B","C"],this.user_port=e.user_port?e.user_port:o.E$,this.icon="earth.png",this.url=o.xb.SKU+"U019"}getCode(){var e=this.checkPort();return`${this.name} = unit.get(unit.EARTH, ${e})\n`}}class g extends n.rV{constructor(e){super(),this.type=o.g1.MAKEY,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.A,this.default=e.port.default?e.port.default:e.default?e.default:["A","B","C"],this.pb_port=e.port.pb_port?e.port.pb_port:e.pb_port?e.pb_port:[0,1,2,3,4,5],this.new_pb_port=e.port.new_pb_port?e.port.new_pb_port:e.new_pb_port?e.new_pb_port:"0",this.user_port=e.user_port?e.user_port:o.E$,this.icon="makey.png",this.url=o.xb.UNIT+"makey"}getCode(){var e=this.checkPort();return`${this.name} = unit.get(unit.MAKEY, ${e})\n`}}class f extends n.rV{constructor(e){super(),this.type=o.g1.SERVO,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.A,this.default=e.port.default?e.port.default:e.default?e.default:["A","B","C"],this.user_port=e.user_port?e.user_port:o.E$,this.icon="servo.png",this.url=o.xb.SKU+"A076-B"}getCode(){var e=this.checkPort();return`${this.name} = unit.get(unit.SERVO, ${e})\n`}}class m extends n.rV{constructor(e){super(),this.type=o.g1.WEIGH,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.A,this.default=e.port.default?e.port.default:e.default?e.default:["A","B","C"],this.user_port=e.user_port?e.user_port:o.E$,this.icon="weigh.png",this.url=o.xb.SKU+"U030"}getCode(){var e=this.checkPort();return`${this.name} = unit.get(unit.WEIGHT, ${e})\n`}}class _ extends n.rV{constructor(e){super(),this.hidden=!("Beta"==localStorage.getItem("versions")||null==localStorage.getItem("versions")),this.stickNone="stick",this.type=o.g1.HEART,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.A,this.default=e.port.default?e.port.default:e.default?e.default:["A","B","C"],this.user_port=e.user_port?e.user_port:o.E$,this.icon="pulse.png",this.url=o.xb.SKU+"U029"}getCode(){var e=this.checkPort();return`${this.name} = unit.get(unit.HEART, ${e})\n`}}class v extends n.rV{constructor(e){super(),this.hidden=!("Beta"==localStorage.getItem("versions")||null==localStorage.getItem("versions")),this.type=o.g1.V,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.B,this.default=e.port.default?e.port.default:e.default?e.default:["A","B","C"],this.user_port=e.user_port?e.user_port:o.E$,this.icon="unit_V.png",this.url=o.xb.SKU+"U078"}getCode(){var e=this.checkPort();return`${this.name} = unit.get(unit.V_FUNCTION, ${e})\n`}}class y extends n.rV{constructor(e){super(),this.hidden=!("Beta"==localStorage.getItem("versions")||null==localStorage.getItem("versions")),this.type=o.g1.V2,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.C,this.default=e.port.default?e.port.default:e.default?e.default:["A","B","C"],this.user_port=e.user_port?e.user_port:o.E$,this.icon="unit_V2.png",this.url=o.xb.SKU+"U078-D"}getCode(){var e=this.checkPort();return`${this.name} = unit.get(unit.V2_FUNCTION, ${e})\n`}}class b extends n.rV{constructor(e){super(),this.type=o.g1.TRACK,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.A,this.default=e.port.default?e.port.default:e.default?e.default:["A","C"],this.pb_port=e.port.pb_port?e.port.pb_port:e.pb_port?e.pb_port:[0,1,2,3,4,5],this.new_pb_port=e.port.new_pb_port?e.port.new_pb_port:e.new_pb_port?e.new_pb_port:"0",this.user_port=e.user_port?e.user_port:o.E$,this.icon="track.png",this.url=o.xb.UNIT+"trace"}getCode(){var e=this.checkPort();return`${this.name} = unit.get(unit.TRACKER, ${e})\n`}}class w extends n.rV{constructor(e){super(),this.hidden=!0,this.type=o.g1.TPNX,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.B,this.default=e.port.default?e.port.default:e.default?e.default:["A","B","C"],this.user_port=e.user_port?e.user_port:o.E$,this.icon="3.96.png"}getCode(){}}class A extends n.rV{constructor(e){super(),this.type=o.g1.ADC,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.B,this.default=e.port.default?e.port.default:e.default?e.default:["A","B","C"],this.pb_port=e.port.pb_port?e.port.pb_port:e.pb_port?e.pb_port:[0,1,2,3,4,5],this.new_pb_port=e.port.new_pb_port?e.port.new_pb_port:e.new_pb_port?e.new_pb_port:"0",this.user_port=e.user_port?e.user_port:o.E$,this.icon="adc.png",this.url=o.xb.SKU+"U013"}getCode(){var e=this.checkPort();return`${this.name} = unit.get(unit.ADC, ${e})\n`}}class x extends n.rV{constructor(e){super(),this.type=o.g1.BUTTON,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.B,this.default=e.port.default?e.port.default:e.default?e.default:["A","B","C"],this.user_port=e.user_port?e.user_port:o.E$,this.icon="button.png",this.hasPnP=!0,this.url=o.xb.SKU+"U027"}getCode(){var e=this.checkPort();return`${this.name} = unit.get(unit.BUTTON, ${e})\n`}}class T extends n.rV{constructor(e){super(),this.type=o.g1.COLOR,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.A,this.default=e.port.default?e.port.default:e.default?e.default:["A","B","C"],this.pb_port=e.port.pb_port?e.port.pb_port:e.pb_port?e.pb_port:[0,1,2,3,4,5],this.new_pb_port=e.port.new_pb_port?e.port.new_pb_port:e.new_pb_port?e.new_pb_port:"0",this.user_port=e.user_port?e.user_port:o.E$,this.icon="color.png",this.url=o.xb.SKU+"U009"}getCode(){var e=this.checkPort();return`${this.name} = unit.get(unit.COLOR, ${e})\n`}}class C extends n.rV{constructor(e){super(),this.type=o.g1.DAC,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.B,this.default=e.port.default?e.port.default:e.default?e.default:["A","B","C"],this.pb_port=e.port.pb_port?e.port.pb_port:e.pb_port?e.pb_port:[0,1,2,3,4,5],this.new_pb_port=e.port.new_pb_port?e.port.new_pb_port:e.new_pb_port?e.new_pb_port:"0",this.user_port=e.user_port?e.user_port:o.E$,this.icon="dac.png",this.url=o.xb.SKU+"U012"}getCode(){var e=this.checkPort();return`${this.name} = unit.get(unit.DAC, ${e})\n`}}class Z extends n.rV{constructor(e){super(),this.type=o.g1.DUALBUTTON,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.B,this.default=e.port.default?e.port.default:e.default?e.default:["A","B","C"],this.user_port=e.user_port?e.user_port:o.E$,this.icon="dualbutton.png",this.url=o.xb.SKU+"U025"}getCode(){var e=this.checkPort();return`${this.name} = unit.get(unit.DUAL_BUTTON, ${e})\n`}}class k extends n.rV{constructor(e){super(),this.hidden=!0,this.type=o.g1.HUB,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.B,this.default=e.port.default?e.port.default:e.default?e.default:["A","B","C"],this.user_port=e.user_port?e.user_port:o.E$,this.icon="hub.png",this.url=o.xb.UNIT+"hub"}getCode(){}}class S extends n.rV{constructor(e){super(),this.mode="GPIO",this.type=o.g1.IR,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.B,this.modeOption=["GPIO","NEC"],this.mode=e.mode||this.mode,this.default=e.port.default?e.port.default:e.default?e.default:["A","B","C"],this.user_port=e.user_port?e.user_port:o.E$,this.icon="ir.png",this.url=o.xb.SKU+"U002"}getCode(){var e=this.checkPort();return"GPIO"===this.mode?`${this.name} = unit.get(unit.IR, ${e})\n`:`${this.name} = unit.get(unit.IR_${this.mode}, ${e})\n`}}class E extends n.rV{constructor(e){super(),this.hidden=!0,this.type=o.g1.M5CAMEAR,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.B,this.default=e.port.default?e.port.default:e.default?e.default:["A","B","C"],this.user_port=e.user_port?e.user_port:o.E$,this.icon="m5camera.png"}getCode(){}}class M extends n.rV{constructor(e){super(),this.type=o.g1.NCIR,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.B,this.default=e.port.default?e.port.default:e.default?e.default:["A","B","C"],this.pb_port=e.port.pb_port?e.port.pb_port:e.pb_port?e.pb_port:[0,1,2,3,4,5],this.new_pb_port=e.port.new_pb_port?e.port.new_pb_port:e.new_pb_port?e.new_pb_port:"0",this.user_port=e.user_port?e.user_port:o.E$,this.icon="ncir.png",this.url=o.xb.SKU+"U028"}getCode(){var e=this.checkPort();return`${this.name} = unit.get(unit.NCIR, ${e})\n`}}class O extends n.rV{constructor(e){super(),this.hidden=!0,this.type=o.g1.PROTO,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.B,this.default=e.port.default?e.port.default:e.default?e.default:["A","B","C"],this.user_port=e.user_port?e.user_port:o.E$,this.icon="proto.png",this.url=o.xb.UNIT+"proto"}getCode(){}}class I extends n.rV{constructor(e){super(),this.type=o.g1.RELAY,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.B,this.default=e.port.default?e.port.default:e.default?e.default:["A","B","C"],this.user_port=e.user_port?e.user_port:o.E$,this.icon="relay.png",this.url=o.xb.SKU+"U023"}getCode(){var e=this.checkPort();return`${this.name} = unit.get(unit.RELAY, ${e})\n`}}class P extends n.rV{constructor(e){super(),this.type=o.g1.RGB,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.C,this.default=e.port.default?e.port.default:e.default?e.default:["A","B","C"],this.user_port=e.user_port?e.user_port:o.E$,this.icon="rgb.png",this.hasPnP=!0,this.url=o.xb.SKU+"U003"}getCode(){var e=this.checkPort();return`${this.name} = unit.get(unit.RGB, ${e})\n`}}class R extends n.rV{constructor(e){super(),this.typeList=[o.__.FIRE,o.__.CORETWO,o.__.TOUGH],this.hidden=!(this.typeList.indexOf(sessionStorage.getItem("_type"))>-1),this.type=o.g1.THERMAL,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.B,this.default=e.port.default?e.port.default:e.default?e.default:["A","B","C"],this.pb_port=e.port.pb_port?e.port.pb_port:e.pb_port?e.pb_port:[0,1,2,3,4,5],this.new_pb_port=e.port.new_pb_port?e.port.new_pb_port:e.new_pb_port?e.new_pb_port:"0",this.user_port=e.user_port?e.user_port:o.E$,this.icon="thermal.png",this.url=o.xb.UNIT+"thermal"}getCode(){var e=this.checkPort();return`${this.name} = unit.get(unit.THERMAL, ${e})\n`}}class q extends n.rV{constructor(e){super(),this.stickNone="stick",this.type=o.g1.TOF,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.B,this.default=e.port.default?e.port.default:e.default?e.default:["A","B","C"],this.pb_port=e.port.pb_port?e.port.pb_port:e.pb_port?e.pb_port:[0,1,2,3,4,5],this.new_pb_port=e.port.new_pb_port?e.port.new_pb_port:e.new_pb_port?e.new_pb_port:"0",this.user_port=e.user_port?e.user_port:o.E$,this.icon="tof.png",this.url=o.xb.SKU+"U010"}getCode(){var e=this.checkPort();return`${this.name} = unit.get(unit.TOF, ${e})\n`}}class L extends n.rV{constructor(e){super(),this.type=o.g1.EXTIO,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.A,this.default=e.port.default?e.port.default:e.default?e.default:["A","B","C"],this.pb_port=e.port.pb_port?e.port.pb_port:e.pb_port?e.pb_port:[0,1,2,3,4,5],this.new_pb_port=e.port.new_pb_port?e.port.new_pb_port:e.new_pb_port?e.new_pb_port:"0",this.user_port=e.user_port?e.user_port:o.E$,this.icon="extio.png",this.url=o.xb.SKU+"U011"}getCode(){var e=this.checkPort();return`${this.name} = unit.get(unit.EXT_IO, ${e})\n`}}class U extends n.rV{constructor(e){super(),this.type=o.g1.EXTIO2,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.A,this.default=e.port.default?e.port.default:e.default?e.default:["A","B","C"],this.pb_port=e.port.pb_port?e.port.pb_port:e.pb_port?e.pb_port:[0,1,2,3,4,5],this.new_pb_port=e.port.new_pb_port?e.port.new_pb_port:e.new_pb_port?e.new_pb_port:"0",this.user_port=e.user_port?e.user_port:o.E$,this.icon="extio2.png",this.url=o.xb.SKU+"U011-B"}getCode(){var e=this.checkPort();return`${this.name} = unit.get(unit.EXT_IO2, ${e})\n`}}class B extends n.rV{constructor(e){super(),this.type=o.g1.FINGER,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.C,this.default=e.port.default?e.port.default:e.default?e.default:["A","B","C"],this.user_port=e.user_port?e.user_port:o.E$,this.icon="finger.png",this.url=o.xb.SKU+"U008"}getCode(){var e=this.checkPort();return`${this.name} = unit.get(unit.FINGER, ${e})\n`}}class D extends n.rV{constructor(e){super(),this.type=o.g1.RFID,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.B,this.default=e.port.default?e.port.default:e.default?e.default:["A","B","C"],this.pb_port=e.port.pb_port?e.port.pb_port:e.pb_port?e.pb_port:[0,1,2,3,4,5],this.new_pb_port=e.port.new_pb_port?e.port.new_pb_port:e.new_pb_port?e.new_pb_port:"0",this.user_port=e.user_port?e.user_port:o.E$,this.icon="rfid.png",this.url=o.xb.SKU+"U031"}getCode(){var e=this.checkPort();return`${this.name} = unit.get(unit.RFID, ${e})\n`}}class N extends n.rV{constructor(e){super(),this.type=o.g1.CARDKB,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.A,this.default=e.port.default?e.port.default:e.default?e.default:["A","B","C"],this.pb_port=e.port.pb_port?e.port.pb_port:e.pb_port?e.pb_port:[0,1,2,3,4,5],this.new_pb_port=e.port.new_pb_port?e.port.new_pb_port:e.new_pb_port?e.new_pb_port:"0",this.user_port=e.user_port?e.user_port:o.E$,this.icon="cardkb.png",this.url=o.xb.SKU+"U035"}getCode(){var e=this.checkPort();return`${this.name} = unit.get(unit.CARDKB, ${e})\n`}}class F extends n.rV{constructor(e){super(),this.type=o.g1.PBHUB,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.A,this.default=e.port.default?e.port.default:e.default?e.default:["A","B","C"],this.pb_port=e.port.pb_port?e.port.pb_port:e.pb_port?e.pb_port:[0,1,2,3,4,5],this.new_pb_port=e.port.new_pb_port?e.port.new_pb_port:e.new_pb_port?e.new_pb_port:"0",this.user_port=e.user_port?e.user_port:o.E$,this.icon="pb_hub.png",this.url=o.xb.SKU+"U041"}getCode(){var e=this.checkPort();return`${this.name} = unit.get(unit.PBHUB, ${e})\n`}}class H extends n.rV{constructor(e){super(),this.type=o.g1.PAHUB,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.A,this.default=e.port.default?e.port.default:e.default?e.default:["A","B","C"],this.user_port=e.user_port?e.user_port:o.E$,this.icon="pa_hub.png",this.address="0x70",this.url=o.xb.SKU+"U040"}getCode(){var e=this.checkPort();return`${this.name} = unit.get(unit.PAHUB, ${e}, ${this.address})\n`}}class $ extends n.rV{constructor(e){super(),this.type=o.g1.GPS,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.C,this.default=e.port.default?e.port.default:e.default?e.default:["A","B","C"],this.user_port=e.user_port?e.user_port:o.E$,this.icon="unit_gps.png",this.hasPnP=!0,this.url=o.xb.SKU+"U032"}getCode(){var e=this.checkPort();return`${this.name} = unit.get(unit.GPS, ${e})\n`}}class z extends n.rV{constructor(e){super(),this.type=o.g1.ACCEL,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.A,this.default=e.port.default?e.port.default:e.default?e.default:["A","B","C"],this.pb_port=e.port.pb_port?e.port.pb_port:e.pb_port?e.pb_port:[0,1,2,3,4,5],this.new_pb_port=e.port.new_pb_port?e.port.new_pb_port:e.new_pb_port?e.new_pb_port:"0",this.user_port=e.user_port?e.user_port:o.E$,this.icon="accel.png",this.url=o.xb.SKU+"U056"}getCode(){var e=this.checkPort();return`${this.name} = unit.get(unit.ACCEL, ${e})\n`}}class V extends n.rV{constructor(e){super(),this.hidden=!("Beta"==localStorage.getItem("versions")||null==localStorage.getItem("versions")),this.type=o.g1.ACSOCKET,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.B,this.default=e.port.default?e.port.default:e.default?e.default:["A","B","C"],this.user_port=e.user_port?e.user_port:o.E$,this.icon="ac_socket.png",this.url="https://docs.m5stack.com/en/app/ac_socket"}getCode(){var e=this.checkPort();return`${this.name} = unit.get(unit.AC_SOCKET, ${e})\n`}}class K extends n.rV{constructor(e){super(),this.typeList=[o.__.CORE,o.__.ATOM,o.__.ATOM_U,o.__.PICO,o.__.CORETWO,o.__.TOUGH,o.__.M5STATION],this.hidden=!("Beta"==localStorage.getItem("versions")&&this.typeList.indexOf(sessionStorage.getItem("_type"))>-1||null==localStorage.getItem("versions")),this.type=o.g1.IMU,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.A,this.default=e.port.default?e.port.default:e.default?e.default:["A","B","C"],this.pb_port=e.port.pb_port?e.port.pb_port:e.pb_port?e.pb_port:[0,1,2,3,4,5],this.new_pb_port=e.port.new_pb_port?e.port.new_pb_port:e.new_pb_port?e.new_pb_port:"0",this.user_port=e.user_port?e.user_port:o.E$,this.icon="IMU.png",this.url=o.xb.SKU+"U095"}getCode(){var e=this.checkPort();return`${this.name} = unit.get(unit.IMU6886, ${e})\n`}}class W extends n.rV{constructor(e){super(),this.hidden=!("Beta"==localStorage.getItem("versions")||null==localStorage.getItem("versions")),this.type=o.g1.BPS,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.A,this.default=e.port.default?e.port.default:e.default?e.default:["A","B","C"],this.pb_port=e.port.pb_port?e.port.pb_port:e.pb_port?e.pb_port:[0,1,2,3,4,5],this.new_pb_port=e.port.new_pb_port?e.port.new_pb_port:e.new_pb_port?e.new_pb_port:"0",this.user_port=e.user_port?e.user_port:o.E$,this.icon="BPS.png",this.url=o.xb.SKU+"U090"}getCode(){var e=this.checkPort();return`${this.name} = unit.get(unit.BPS, ${e})\n`}}class G extends n.rV{constructor(e){super(),this.hidden=!("Beta"==localStorage.getItem("versions")||null==localStorage.getItem("versions")),this.type=o.g1.TVOC,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.C,this.default=e.port.default?e.port.default:e.default?e.default:["A","B","C"],this.pb_port=e.port.pb_port?e.port.pb_port:e.pb_port?e.pb_port:[0,1,2,3,4,5],this.new_pb_port=e.port.new_pb_port?e.port.new_pb_port:e.new_pb_port?e.new_pb_port:"0",this.user_port=e.user_port?e.user_port:o.E$,this.icon="TVOC.png",this.url=o.xb.SKU+"U088"}getCode(){var e=this.checkPort();return`${this.name} = unit.get(unit.TVOC, ${e})\n`}}class Y extends n.rV{constructor(e){super(),this.hidden=!("Beta"==localStorage.getItem("versions")||null==localStorage.getItem("versions")),this.type=o.g1.VMETER,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.A,this.default=e.port.default?e.port.default:e.default?e.default:["A","B","C"],this.pb_port=e.port.pb_port?e.port.pb_port:e.pb_port?e.pb_port:[0,1,2,3,4,5],this.new_pb_port=e.port.new_pb_port?e.port.new_pb_port:e.new_pb_port?e.new_pb_port:"0",this.user_port=e.user_port?e.user_port:o.E$,this.icon="VMeter.png",this.url=o.xb.SKU+"U087"}getCode(){var e=this.checkPort();return`${this.name} = unit.get(unit.VMETER, ${e})\n`}}class j extends n.rV{constructor(e){super(),this.hidden=!("Beta"==localStorage.getItem("versions")||null==localStorage.getItem("versions")),this.type=o.g1.AMETER,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.A,this.default=e.port.default?e.port.default:e.default?e.default:["A","B","C"],this.pb_port=e.port.pb_port?e.port.pb_port:e.pb_port?e.pb_port:[0,1,2,3,4,5],this.new_pb_port=e.port.new_pb_port?e.port.new_pb_port:e.new_pb_port?e.new_pb_port:"0",this.user_port=e.user_port?e.user_port:o.E$,this.icon="AMeter.png",this.url=o.xb.SKU+"U086"}getCode(){var e=this.checkPort();return`${this.name} = unit.get(unit.AMETER, ${e})\n`}}class X extends n.rV{constructor(e){super(),this.type=o.g1.KMETER,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.A,this.default=e.port.default?e.port.default:e.default?e.default:["A","B","C"],this.pb_port=e.port.pb_port?e.port.pb_port:e.pb_port?e.pb_port:[0,1,2,3,4,5],this.new_pb_port=e.port.new_pb_port?e.port.new_pb_port:e.new_pb_port?e.new_pb_port:"0",this.user_port=e.user_port?e.user_port:o.E$,this.icon="Kmeter.png",this.url=o.xb.SKU+"U133"}getCode(){var e=this.checkPort();return`${this.name} = unit.get(unit.KMETER, ${e})\n`}}class J extends n.rV{constructor(e){super(),this.hidden=!("Beta"==localStorage.getItem("versions")||null==localStorage.getItem("versions")),this.type=o.g1.OP90,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.A,this.default=e.port.default?e.port.default:e.default?e.default:["A","B","C"],this.user_port=e.user_port?e.user_port:o.E$,this.icon="OP90.png",this.url=o.xb.SKU+"U057"}getCode(){var e=this.checkPort();return`${this.name} = unit.get(unit.OP, ${e})\n`}}class Q extends n.rV{constructor(e){super(),this.hidden=!("Beta"==localStorage.getItem("versions")||null==localStorage.getItem("versions")),this.type=o.g1.OP180,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.A,this.default=e.port.default?e.port.default:e.default?e.default:["A","B","C"],this.user_port=e.user_port?e.user_port:o.E$,this.icon="OP180.png",this.url=o.xb.SKU+"U058"}getCode(){var e=this.checkPort();return`${this.name} = unit.get(unit.OP, ${e})\n`}}class ee extends n.rV{constructor(e){super(),this.hidden=!("Beta"==localStorage.getItem("versions")||null==localStorage.getItem("versions")),this.type=o.g1.HALL,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.A,this.default=e.port.default?e.port.default:e.default?e.default:["A","B","C"],this.user_port=e.user_port?e.user_port:o.E$,this.icon="HALL.png",this.url=o.xb.SKU+"U084"}getCode(){var e=this.checkPort();return`${this.name} = unit.get(unit.HALL, ${e})\n`}}class te extends n.rV{constructor(e){super(),this.hidden=!("Beta"==localStorage.getItem("versions")||null==localStorage.getItem("versions")),this.type=o.g1.FAN,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.B,this.default=e.port.default?e.port.default:e.default?e.default:["A","B","C"],this.user_port=e.user_port?e.user_port:o.E$,this.icon="FAN.png",this.url=o.xb.SKU+"U063"}getCode(){var e=this.checkPort();return`${this.name} = unit.get(unit.FAN, ${e})\n`}}class ie extends n.rV{constructor(e){super(),this.hidden=!("Beta"==localStorage.getItem("versions")||null==localStorage.getItem("versions")),this.type=o.g1.VIBRATOR,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.B,this.default=e.port.default?e.port.default:e.default?e.default:["A","B","C"],this.user_port=e.user_port?e.user_port:o.E$,this.icon="Vibrator_Motor.png",this.url=o.xb.SKU+"U059"}getCode(){var e=this.checkPort();return`${this.name} = unit.get(unit.VIBRATOR, ${e})\n`}}class ne extends n.rV{constructor(e){super(),this.hidden=!("Beta"==localStorage.getItem("versions")||null==localStorage.getItem("versions")),this.type=o.g1.LASERRX,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.B,this.default=e.port.default?e.port.default:e.default?e.default:["A","B","C"],this.user_port=e.user_port?e.user_port:o.E$,this.icon="LASER.RX.png",this.url=o.xb.SKU+"U065"}getCode(){var e=this.checkPort();return`${this.name} = unit.get(unit.LASERRX, ${e})\n`}}class oe extends n.rV{constructor(e){super(),this.hidden=!("Beta"==localStorage.getItem("versions")||null==localStorage.getItem("versions")),this.type=o.g1.LASERTX,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.B,this.default=e.port.default?e.port.default:e.default?e.default:["A","B","C"],this.user_port=e.user_port?e.user_port:o.E$,this.icon="LASER.TX.png",this.url=o.xb.SKU+"U066"}getCode(){var e=this.checkPort();return`${this.name} = unit.get(unit.LASERTX, ${e})\n`}}class re extends n.rV{constructor(e){super(),this.hidden=!("Beta"==localStorage.getItem("versions")||null==localStorage.getItem("versions")),this.type=o.g1.ULTRASONIC,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.A,this.default=e.port.default?e.port.default:e.default?e.default:["A","B","C"],this.pb_port=e.port.pb_port?e.port.pb_port:e.pb_port?e.pb_port:[0,1,2,3,4,5],this.new_pb_port=e.port.new_pb_port?e.port.new_pb_port:e.new_pb_port?e.new_pb_port:"0",this.user_port=e.user_port?e.user_port:o.E$,this.icon="Ultrasonic.png",this.url=o.xb.SKU+"U098"}getCode(){var e=this.checkPort();return`${this.name} = unit.get(unit.ULTRASONIC, ${e})\n`}}class se extends n.rV{constructor(e){super(),this.hidden=!("Beta"==localStorage.getItem("versions")||null==localStorage.getItem("versions")),this.type=o.g1.WATERING,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.B,this.default=e.port.default?e.port.default:e.default?e.default:["A","B","C"],this.user_port=e.user_port?e.user_port:o.E$,this.icon="watering.png",this.url=o.xb.SKU+"U101"}getCode(){var e=this.checkPort();return`${this.name} = unit.get(unit.WATERING, ${e})\n`}}class ae extends n.rV{constructor(e){super(),this.hidden=!("Beta"==localStorage.getItem("versions")||null==localStorage.getItem("versions")),this.type=o.g1.RELAY4,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.A,this.default=e.port.default?e.port.default:e.default?e.default:["A","B","C"],this.pb_port=e.port.pb_port?e.port.pb_port:e.pb_port?e.pb_port:[0,1,2,3,4,5],this.new_pb_port=e.port.new_pb_port?e.port.new_pb_port:e.new_pb_port?e.new_pb_port:"0",this.user_port=e.user_port?e.user_port:o.E$,this.icon="relay4.png",this.url=o.xb.SKU+"U097"}getCode(){var e=this.checkPort();return`${this.name} = unit.get(unit.RELAY4, ${e})\n`}}class le extends n.rV{constructor(e){super(),this.type=o.g1.DDS,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.A,this.default=e.port.default?e.port.default:e.default?e.default:["A","B","C"],this.user_port=e.user_port?e.user_port:o.E$,this.pb_port=e.port.pb_port?e.port.pb_port:e.pb_port?e.pb_port:[0,1,2,3,4,5],this.new_pb_port=e.port.new_pb_port?e.port.new_pb_port:e.new_pb_port?e.new_pb_port:"0",this.icon="DDS.png",this.url=o.xb.SKU+"U105"}getCode(){var e=this.checkPort();return`${this.name} = unit.get(unit.DDS, ${e})\n`}}class ce extends n.rV{constructor(e){super(),this.type=o.g1.UHFRFID,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.C,this.default=e.port.default?e.port.default:e.default?e.default:["A","B","C"],this.user_port=e.user_port?e.user_port:o.E$,this.pb_port=e.port.pb_port?e.port.pb_port:e.pb_port?e.pb_port:[0,1,2,3,4,5],this.new_pb_port=e.port.new_pb_port?e.port.new_pb_port:e.new_pb_port?e.new_pb_port:"0",this.icon="UHF-RFID.png",this.url=o.xb.SKU+"U107"}getCode(){var e=this.checkPort();return`${this.name} = unit.get(unit.UHF_RFID, ${e})\n`}}class he extends n.rV{constructor(e){super(),this.typeList=[o.__.CORE,o.__.FIRE,o.__.M5STATION],this.hidden=!(this.typeList.indexOf(sessionStorage.getItem("_type"))>-1),this.type=o.g1.UNITCAM,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.B,this.default=e.port.default?e.port.default:e.default?e.default:["A","B","C"],this.user_port=e.user_port?e.user_port:o.E$,this.icon="unitcam.png",this.url=o.xb.SKU+"U109"}getCode(){var e=this.checkPort();return`${this.name} = unit.get(unit.UNITCAM, ${e})\n`}}class ue extends n.rV{constructor(e){super(),this.typeList=[o.__.CORE,o.__.FIRE,o.__.M5STATION],this.hidden=!(this.typeList.indexOf(sessionStorage.getItem("_type"))>-1),this.type=o.g1.TIMERCAM,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.B,this.default=e.port.default?e.port.default:e.default?e.default:["A","B","C"],this.user_port=e.user_port?e.user_port:o.E$,this.icon="TimerCAM.png",this.url=o.xb.SKU+"U082"}getCode(){var e=this.checkPort();return`${this.name} = unit.get(unit.UNITCAM, ${e})\n`}}class de extends n.rV{constructor(e){super(),this.hidden=!("Beta"==localStorage.getItem("versions")||null==localStorage.getItem("versions")),this.type=o.g1.OLED,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.A,this.default=e.port.default?e.port.default:e.default?e.default:["A","B","C"],this.pb_port=e.port.pb_port?e.port.pb_port:e.pb_port?e.pb_port:[0,1,2,3,4,5],this.new_pb_port=e.port.new_pb_port?e.port.new_pb_port:e.new_pb_port?e.new_pb_port:"0",this.user_port=e.user_port?e.user_port:o.E$,this.icon="oled.png",this.url=o.xb.SKU+"U119"}getCode(){var e=this.checkPort();return`${this.name} = unit.get(unit.OLED, ${e})\n`}}class pe extends n.rV{constructor(e){super(),this.hidden=!("Beta"==localStorage.getItem("versions")||null==localStorage.getItem("versions")),this.type=o.g1.NBIOT,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.A,this.default=e.port.default?e.port.default:e.default?e.default:["A","B","C"],this.user_port=e.user_port?e.user_port:o.E$,this.icon="NB-IoT.png",this.url=o.xb.SKU+"U111"}getCode(){var e=this.checkPort();return`${this.name} = unit.get(unit.NBIOT, ${e})\n`}}class ge extends n.rV{constructor(e){super(),this.hidden=!("Beta"==localStorage.getItem("versions")||null==localStorage.getItem("versions")),this.type=o.g1.RS485,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.C,this.default=e.port.default?e.port.default:e.default?e.default:["A","B","C"],this.user_port=e.user_port?e.user_port:o.E$,this.icon="RS485.png",this.url=o.xb.SKU+"U034"}getCode(){var e=this.checkPort();return`${this.name} = unit.get(unit.RS485, ${e})\n`}}class fe extends n.rV{constructor(e){super(),this.hidden=!("Beta"==localStorage.getItem("versions")||null==localStorage.getItem("versions")),this.type=o.g1.ISO485,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.C,this.default=e.port.default?e.port.default:e.default?e.default:["A","B","C"],this.user_port=e.user_port?e.user_port:o.E$,this.icon="ISO485.png",this.url=o.xb.SKU+"U094"}getCode(){var e=this.checkPort();return`${this.name} = unit.get(unit.ISORS485, ${e})\n`}}class me extends n.rV{constructor(e){super(),this.hidden=!("Beta"==localStorage.getItem("versions")||null==localStorage.getItem("versions")),this.type=o.g1.LORAWAN470,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.C,this.default=e.port.default?e.port.default:e.default?e.default:["A","B","C"],this.user_port=e.user_port?e.user_port:o.E$,this.icon="unit_LoRaWAN470.png",this.url=o.xb.SKU+"U116"}getCode(){var e=this.checkPort();return`${this.name} = unit.get(unit.LoRaWAN, ${e})\n`}}class _e extends n.rV{constructor(e){super(),this.hidden=!("Beta"==localStorage.getItem("versions")||null==localStorage.getItem("versions")),this.type=o.g1.LORAWAN868,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.C,this.default=e.port.default?e.port.default:e.default?e.default:["A","B","C"],this.user_port=e.user_port?e.user_port:o.E$,this.icon="unit_LoRaWAN868.png",this.url=o.xb.SKU+"U117"}getCode(){var e=this.checkPort();return`${this.name} = unit.get(unit.LoRaWAN, ${e})\n`}}class ve extends n.rV{constructor(e){super(),this.hidden=!("Beta"==localStorage.getItem("versions")||null==localStorage.getItem("versions")),this.type=o.g1.LORAWAN915,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.C,this.default=e.port.default?e.port.default:e.default?e.default:["A","B","C"],this.user_port=e.user_port?e.user_port:o.E$,this.icon="unit_LoRaWAN915.png",this.url=o.xb.SKU+"U115"}getCode(){var e=this.checkPort();return`${this.name} = unit.get(unit.LoRaWAN, ${e})\n`}}class ye extends n.rV{constructor(e){super(),this.type=o.g1.FADER,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.B,this.default=e.port.default?e.port.default:e.default?e.default:["A","B","C"],this.user_port=e.user_port?e.user_port:o.E$,this.icon="FADER.png",this.url=o.xb.SKU+"U123"}getCode(){var e=this.checkPort();return`${this.name} = unit.get(unit.FADER, ${e})\n`}}class be extends n.rV{constructor(e){super(),this.hidden=!("Beta"==localStorage.getItem("versions")||null==localStorage.getItem("versions")),this.type=o.g1.GESTURE,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.A,this.default=e.port.default?e.port.default:e.default?e.default:["A","B","C"],this.pb_port=e.port.pb_port?e.port.pb_port:e.pb_port?e.pb_port:[0,1,2,3,4,5],this.new_pb_port=e.port.new_pb_port?e.port.new_pb_port:e.new_pb_port?e.new_pb_port:"0",this.user_port=e.user_port?e.user_port:o.E$,this.icon="gesture.png",this.url=o.xb.SKU+"U127"}getCode(){var e=this.checkPort();return`${this.name} = unit.get(unit.GESTURE, ${e})\n`}}class we extends n.rV{constructor(e){super(),this.type=o.g1.MQTT,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.C,this.default=e.port.default?e.port.default:e.default?e.default:["A","B","C"],this.user_port=e.user_port?e.user_port:o.E$,this.icon="MQTT.png",this.url=o.xb.SKU+"U129"}getCode(){var e=this.checkPort();return`${this.name} = unit.get(unit.MQTT_ETH, 1, ${e})\n`}}class Ae extends n.rV{constructor(e){super(),this.type=o.g1.RTC,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.A,this.default=e.port.default?e.port.default:e.default?e.default:["A","B","C"],this.pb_port=e.port.pb_port?e.port.pb_port:e.pb_port?e.pb_port:[0,1,2,3,4,5],this.new_pb_port=e.port.new_pb_port?e.port.new_pb_port:e.new_pb_port?e.new_pb_port:"0",this.user_port=e.user_port?e.user_port:o.E$,this.icon="RTC.png",this.url=o.xb.SKU+"U126"}getCode(){var e=this.checkPort();return`${this.name} = unit.get(unit.RTC8563, ${e})\n`}}class xe extends n.rV{constructor(e){super(),this.hidden=!("Beta"==localStorage.getItem("versions")||null==localStorage.getItem("versions")),this.type=o.g1.LCD,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.A,this.default=e.port.default?e.port.default:e.default?e.default:["A","B","C"],this.pb_port=e.port.pb_port?e.port.pb_port:e.pb_port?e.pb_port:[0,1,2,3,4,5],this.new_pb_port=e.port.new_pb_port?e.port.new_pb_port:e.new_pb_port?e.new_pb_port:"0",this.user_port=e.user_port?e.user_port:o.E$,this.icon="COLOR LCD.png",this.url=o.xb.SKU+"U120"}getCode(){var e=this.checkPort();return`${this.name} = unit.get(unit.LCD, ${e})\n`}}class Te extends n.rV{constructor(e){super(),this.type=o.g1.ROTARY_ENCODER,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.A,this.default=e.port.default?e.port.default:e.default?e.default:["A","B","C"],this.user_port=e.user_port?e.user_port:o.E$,this.icon="temporary.png"}getCode(){var e=this.checkPort();return`${this.name} = unit.get(unit.ROTARY_ENCODER, ${e})\n`}}class Ce extends n.rV{constructor(e){super(),this.type=o.g1.ID,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.A,this.default=e.port.default?e.port.default:e.default?e.default:["A","B","C"],this.pb_port=e.port.pb_port?e.port.pb_port:e.pb_port?e.pb_port:[0,1,2,3,4,5],this.new_pb_port=e.port.new_pb_port?e.port.new_pb_port:e.new_pb_port?e.new_pb_port:"0",this.user_port=e.user_port?e.user_port:o.E$,this.icon="ID.png",this.url=o.xb.SKU+"U124"}getCode(){var e=this.checkPort();return`${this.name} = unit.get(unit.ID, ${e})\n`}}class Ze extends n.rV{constructor(e){super(),this.type=o.g1.JOYSTICKLED,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.A,this.default=e.port.default?e.port.default:e.default?e.default:["A","B","C"],this.user_port=e.user_port?e.user_port:o.E$,this.icon="temporary.png"}getCode(){var e=this.checkPort();return`${this.name} = unit.get(unit.JOYSTICK_LED, ${e})\n`}}class ke extends n.rV{constructor(e){super(),this.type=o.g1.ENCODER,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.A,this.default=e.port.default?e.port.default:e.default?e.default:["A","B","C"],this.pb_port=e.port.pb_port?e.port.pb_port:e.pb_port?e.pb_port:[0,1,2,3,4,5],this.new_pb_port=e.port.new_pb_port?e.port.new_pb_port:e.new_pb_port?e.new_pb_port:"0",this.user_port=e.user_port?e.user_port:o.E$,this.icon="ENCODER.png",this.url=o.xb.SKU+"U135"}getCode(){var e=this.checkPort();return`${this.name} = unit.get(unit.ENCODER_LED, ${e})\n`}}class Se extends n.rV{constructor(e){super(),this.type=o.g1.FADER8,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.A,this.default=e.port.default?e.port.default:e.default?e.default:["A","B","C"],this.user_port=e.user_port?e.user_port:o.E$,this.icon="temporary.png"}getCode(){var e=this.checkPort();return`${this.name} = unit.get(unit.FADER8, ${e})\n`}}class Ee extends n.rV{constructor(e){super(),this.hidden=!("Beta"==localStorage.getItem("versions")||null==localStorage.getItem("versions")),this.type=o.g1.MIC,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.B,this.default=e.port.default?e.port.default:e.default?e.default:["A","B","C"],this.user_port=e.user_port?e.user_port:o.E$,this.icon="MIC.png",this.url=o.xb.SKU+"U096"}getCode(){var e=this.checkPort();return`${this.name} = unit.get(unit.MICROPHONE_AD, ${e})\n`}}class Me extends n.rV{constructor(e){super(),this.type=o.g1.DLIGHT,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.A,this.default=e.port.default?e.port.default:e.default?e.default:["A","B","C"],this.pb_port=e.port.pb_port?e.port.pb_port:e.pb_port?e.pb_port:[0,1,2,3,4,5],this.new_pb_port=e.port.new_pb_port?e.port.new_pb_port:e.new_pb_port?e.new_pb_port:"0",this.user_port=e.user_port?e.user_port:o.E$,this.icon="DLIGHT.png",this.url=o.xb.SKU+"U136"}getCode(){var e=this.checkPort();return`${this.name} = unit.get(unit.DLIGHT, ${e})\n`}}class Oe extends n.rV{constructor(e){super(),this.typeList=[o.__.CORE,o.__.FIRE,o.__.M5STATION],this.hidden=!(this.typeList.indexOf(sessionStorage.getItem("_type"))>-1),this.type=o.g1.PDM,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.A,this.default=e.port.default?e.port.default:e.default?e.default:["A","B","C"],this.user_port=e.user_port?e.user_port:o.E$,this.icon="PDM.png",this.url=o.xb.SKU+"U089"}getCode(){var e=this.checkPort();return`${this.name} = unit.get(unit.MICROPHONE_I2S, ${e})\n`}}class Ie extends n.rV{constructor(e){super(),this.hidden=!("Beta"==localStorage.getItem("versions")||null==localStorage.getItem("versions")),this.type=o.g1.RELAY2,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.B,this.default=e.port.default?e.port.default:e.default?e.default:["A","B","C"],this.user_port=e.user_port?e.user_port:o.E$,this.icon="relay2.png",this.url=o.xb.SKU+"U131"}getCode(){var e=this.checkPort();return`${this.name} = unit.get(unit.RELAY2, ${e})\n`}}class Pe extends n.rV{constructor(e){super(),this.hidden=!("Beta"==localStorage.getItem("versions")||null==localStorage.getItem("versions")),this.type=o.g1.SSR,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.B,this.default=e.port.default?e.port.default:e.default?e.default:["A","B","C"],this.user_port=e.user_port?e.user_port:o.E$,this.icon="SSR.png",this.url=o.xb.SKU+"U122"}getCode(){var e=this.checkPort();return`${this.name} = unit.get(unit.SSR, ${e})\n`}}class Re extends n.rV{constructor(e){super(),this.type=o.g1.POESP32,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.C,this.default=e.port.default?e.port.default:e.default?e.default:["A","B","C"],this.user_port=e.user_port?e.user_port:o.E$,this.icon="PoESP32.png",this.url=o.xb.SKU+"U138"}getCode(){var e=this.checkPort();return`${this.name} = unit.get(unit.TCP_ETH, 1, ${e})\n`}}class qe extends n.rV{constructor(e){super(),this.type=o.g1.SONICIO,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.B,this.default=e.port.default?e.port.default:e.default?e.default:["A","B","C"],this.user_port=e.user_port?e.user_port:o.E$,this.icon="SONIC_IO.png",this.url=o.xb.SKU+"U098-B2"}getCode(){var e=this.checkPort();return`${this.name} = unit.get(unit.SONIC_IO, ${e})\n`}}class Le extends n.rV{constructor(e){super(),this.type=o.g1.ANGLE8,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.A,this.default=e.port.default?e.port.default:e.default?e.default:["A","B","C"],this.pb_port=e.port.pb_port?e.port.pb_port:e.pb_port?e.pb_port:[0,1,2,3,4,5],this.new_pb_port=e.port.new_pb_port?e.port.new_pb_port:e.new_pb_port?e.new_pb_port:"0",this.user_port=e.user_port?e.user_port:o.E$,this.icon="8ANGLE.png",this.url=o.xb.SKU+"U154"}getCode(){var e=this.checkPort();return`${this.name} = unit.get(unit.ANGLE8, ${e})\n`}}class Ue extends n.rV{constructor(e){super(),this.type=o.g1.CATM,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.C,this.default=e.port.default?e.port.default:e.default?e.default:["A","B","C"],this.user_port=e.user_port?e.user_port:o.E$,this.icon="CAT-M.png",this.url=o.xb.SKU+"U128"}getCode(){var e=this.checkPort();return`${this.name} = unit.get(unit.CATM, ${e})\n`}}class Be extends n.rV{constructor(e){super(),this.type=o.g1.TUBE,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.B,this.default=e.port.default?e.port.default:e.default?e.default:["A","B","C"],this.user_port=e.user_port?e.user_port:o.E$,this.icon="TubePressure.png",this.url=o.xb.SKU+"U130"}getCode(){var e=this.checkPort();return`${this.name} = unit.get(unit.TUBE, ${e})\n`}}class De extends n.rV{constructor(e){super(),this.type=o.g1.BUZZER,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.B,this.default=e.port.default?e.port.default:e.default?e.default:["A","B","C"],this.user_port=e.user_port?e.user_port:o.E$,this.icon="BUZZER.png",this.url=o.xb.SKU+"U132"}getCode(){var e=this.checkPort();return`${this.name} = unit.get(unit.BUZZER, ${e})\n`}}class Ne extends n.rV{constructor(e){super(),this.type=o.g1.LIMIT,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.B,this.default=e.port.default?e.port.default:e.default?e.default:["A","B","C"],this.user_port=e.user_port?e.user_port:o.E$,this.icon="Limit.png",this.url=o.xb.SKU+"U145"}getCode(){var e=this.checkPort();return`${this.name} = unit.get(unit.LIMIT, ${e})\n`}}class Fe extends n.rV{constructor(e){super(),this.type=o.g1.KEY,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.B,this.default=e.port.default?e.port.default:e.default?e.default:["A","B","C"],this.user_port=e.user_port?e.user_port:o.E$,this.icon="key.png",this.url=o.xb.SKU+"U144"}getCode(){var e=this.checkPort();return`${this.name} = unit.get(unit.KEY, ${e})\n`}}class He extends n.rV{constructor(e){super(),this.type=o.g1.CATMGNSS,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.C,this.default=e.port.default?e.port.default:e.default?e.default:["A","B","C"],this.user_port=e.user_port?e.user_port:o.E$,this.icon="GNSS.png",this.url=o.xb.SKU+"U137"}getCode(){var e=this.checkPort();return`${this.name} = unit.get(unit.CATM_GNSS, ${e})\n`}}class $e extends n.rV{constructor(e){super(),this.type=o.g1.DIGICLOCK,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.A,this.default=e.port.default?e.port.default:e.default?e.default:["A","B","C"],this.pb_port=e.port.pb_port?e.port.pb_port:e.pb_port?e.pb_port:[0,1,2,3,4,5],this.new_pb_port=e.port.new_pb_port?e.port.new_pb_port:e.new_pb_port?e.new_pb_port:"0",this.user_port=e.user_port?e.user_port:o.E$,this.icon="DIGI-CLOCK.png",this.url=o.xb.SKU+"U146"}getCode(){var e=this.checkPort();return`${this.name} = unit.get(unit.DIGI_CLOCK, ${e})\n`}}class ze extends n.rV{constructor(e){super(),this.type=o.g1.GROVE2GROVE,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.B,this.default=e.port.default?e.port.default:e.default?e.default:["A","B","C"],this.user_port=e.user_port?e.user_port:o.E$,this.icon="Grove2Grove.png",this.url=o.xb.SKU+"U148"}getCode(){var e=this.checkPort();return`${this.name} = unit.get(unit.GROVE2GROVE, ${e})\n`}}class Ve extends n.rV{constructor(e){super(),this.type=o.g1.UWB,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.C,this.default=e.port.default?e.port.default:e.default?e.default:["A","B","C"],this.user_port=e.user_port?e.user_port:o.E$,this.icon="UWB.png",this.url=o.xb.SKU+"U100"}getCode(){var e=this.checkPort();return`${this.name} = unit.get(unit.UWB, ${e})\n`}}class Ke extends n.rV{constructor(e){super(),this.type=o.g1.CO2,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.A,this.default=e.port.default?e.port.default:e.default?e.default:["A","B","C"],this.pb_port=e.port.pb_port?e.port.pb_port:e.pb_port?e.pb_port:[0,1,2,3,4,5],this.new_pb_port=e.port.new_pb_port?e.port.new_pb_port:e.new_pb_port?e.new_pb_port:"0",this.user_port=e.user_port?e.user_port:o.E$,this.icon="CO2.png",this.url=o.xb.SKU+"U103"}getCode(){var e=this.checkPort();return`${this.name} = unit.get(unit.CO2_SCD40, ${e})\n`}}class We extends n.rV{constructor(e){super(),this.type=o.g1.ZIGBEE,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.C,this.default=e.port.default?e.port.default:e.default?e.default:["A","B","C"],this.user_port=e.user_port?e.user_port:o.E$,this.icon="zigbee.png",this.url=o.xb.SKU+"U110"}getCode(){var e=this.checkPort();return`${this.name} = unit.get(unit.ZIGBEE, ${e})\n`}}class Ge extends n.rV{constructor(e){super(),this.type=o.g1.SCALES,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.A,this.default=e.port.default?e.port.default:e.default?e.default:["A","B","C"],this.pb_port=e.port.pb_port?e.port.pb_port:e.pb_port?e.pb_port:[0,1,2,3,4,5],this.new_pb_port=e.port.new_pb_port?e.port.new_pb_port:e.new_pb_port?e.new_pb_port:"0",this.user_port=e.user_port?e.user_port:o.E$,this.icon="scales.png",this.url=o.xb.SKU+"U108"}getCode(){var e=this.checkPort();return`${this.name} = unit.get(unit.SCALES, ${e})\n`}}class Ye extends n.rV{constructor(e){super(),this.type=o.g1.THERMAL2,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.A,this.default=e.port.default?e.port.default:e.default?e.default:["A","B","C"],this.pb_port=e.port.pb_port?e.port.pb_port:e.pb_port?e.pb_port:[0,1,2,3,4,5],this.new_pb_port=e.port.new_pb_port?e.port.new_pb_port:e.new_pb_port?e.new_pb_port:"0",this.user_port=e.user_port?e.user_port:o.E$,this.icon="thermal2.png",this.url=o.xb.SKU+"U149"}getCode(){var e=this.checkPort();return`${this.name} = unit.get(unit.THERMAL2, ${e})\n`}}class je extends n.rV{constructor(e){super(),this.type=o.g1.NCIR2,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.A,this.default=e.port.default?e.port.default:e.default?e.default:["A","B","C"],this.pb_port=e.port.pb_port?e.port.pb_port:e.pb_port?e.pb_port:[0,1,2,3,4,5],this.new_pb_port=e.port.new_pb_port?e.port.new_pb_port:e.new_pb_port?e.new_pb_port:"0",this.user_port=e.user_port?e.user_port:o.E$,this.icon="ncir2.png",this.url=o.xb.SKU+"U150"}getCode(){var e=this.checkPort();return`${this.name} = unit.get(unit.NCIR2, ${e})\n`}}class Xe extends n.rV{constructor(e){super(),this.type=o.g1.FLASHLIGHT,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.B,this.default=e.port.default?e.port.default:e.default?e.default:["A","B","C"],this.user_port=e.user_port?e.user_port:o.E$,this.icon="flashlight.png",this.url=o.xb.SKU+"U152"}getCode(){var e=this.checkPort();return`${this.name} = unit.get(unit.FLASH_LIGHT, ${e})\n`}}class Je extends n.rV{constructor(e){super(),this.type=o.g1.ENCODER8,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.A,this.default=e.port.default?e.port.default:e.default?e.default:["A","B","C"],this.pb_port=e.port.pb_port?e.port.pb_port:e.pb_port?e.pb_port:[0,1,2,3,4,5],this.new_pb_port=e.port.new_pb_port?e.port.new_pb_port:e.new_pb_port?e.new_pb_port:"0",this.user_port=e.user_port?e.user_port:o.E$,this.icon="8ENCODER.png",this.url=o.xb.SKU+"U153"}getCode(){var e=this.checkPort();return`${this.name} = unit.get(unit.ENCODER8, ${e})\n`}}class Qe extends n.rV{constructor(e){super(),this.hidden=!("Beta"==localStorage.getItem("versions")||null==localStorage.getItem("versions")),this.type=o.g1.BPSQMP,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.A,this.default=e.port.default?e.port.default:e.default?e.default:["A","B","C"],this.pb_port=e.port.pb_port?e.port.pb_port:e.pb_port?e.pb_port:[0,1,2,3,4,5],this.new_pb_port=e.port.new_pb_port?e.port.new_pb_port:e.new_pb_port?e.new_pb_port:"0",this.user_port=e.user_port?e.user_port:o.E$,this.icon="BPS V1.1.png",this.url=o.xb.SKU+"U090-B"}getCode(){var e=this.checkPort();return`${this.name} = unit.get(unit.BPS_QMP, ${e})\n`}}class et extends n.rV{constructor(e){super(),this.type=o.g1.CO2L,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.A,this.default=e.port.default?e.port.default:e.default?e.default:["A","B","C"],this.pb_port=e.port.pb_port?e.port.pb_port:e.pb_port?e.pb_port:[0,1,2,3,4,5],this.new_pb_port=e.port.new_pb_port?e.port.new_pb_port:e.new_pb_port?e.new_pb_port:"0",this.user_port=e.user_port?e.user_port:o.E$,this.icon="CO2L.png",this.url=o.xb.SKU+"U104"}getCode(){var e=this.checkPort();return`${this.name} = unit.get(unit.CO2_SCD41, ${e})\n`}}class tt extends n.rV{constructor(e){super(),this.type=o.g1.ACSSR,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.A,this.default=e.port.default?e.port.default:e.default?e.default:["A","B","C"],this.pb_port=e.port.pb_port?e.port.pb_port:e.pb_port?e.pb_port:[0,1,2,3,4,5],this.new_pb_port=e.port.new_pb_port?e.port.new_pb_port:e.new_pb_port?e.new_pb_port:"0",this.user_port=e.user_port?e.user_port:o.E$,this.icon="ACSSR.png",this.url=o.xb.SKU+"U139"}getCode(){var e=this.checkPort();return`${this.name} = unit.get(unit.AC_SSR, ${e})\n`}}class it extends n.rV{constructor(e){super(),this.type=o.g1.GLASS,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.A,this.default=e.port.default?e.port.default:e.default?e.default:["A","B","C"],this.user_port=e.user_port?e.user_port:o.E$,this.icon="GLASS.png",this.url=o.xb.SKU+"U158"}getCode(){var e=this.checkPort();return`${this.name} = unit.get(unit.GLASS_OLED, ${e})\n`}}class nt extends n.rV{constructor(e){super(),this.type=o.g1.KMETERISO,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.A,this.default=e.port.default?e.port.default:e.default?e.default:["A","B","C"],this.pb_port=e.port.pb_port?e.port.pb_port:e.pb_port?e.pb_port:[0,1,2,3,4,5],this.new_pb_port=e.port.new_pb_port?e.port.new_pb_port:e.new_pb_port?e.new_pb_port:"0",this.user_port=e.user_port?e.user_port:o.E$,this.icon="KMeterISO.png",this.url=o.xb.SKU+"U133-V11"}getCode(){var e=this.checkPort();return`${this.name} = unit.get(unit.KMETER_ISO, ${e})\n`}}class ot extends n.rV{constructor(e){super(),this.type=o.g1.RF433T,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.B,this.default=e.port.default?e.port.default:e.default?e.default:["A","B","C"],this.user_port=e.user_port?e.user_port:o.E$,this.icon="RF433T.png",this.url=o.xb.SKU+"U114"}getCode(){var e=this.checkPort();return`${this.name} = unit.get(unit.RF433TX, ${e})\n`}}class rt extends n.rV{constructor(e){super(),this.type=o.g1.RF433R,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.B,this.default=e.port.default?e.port.default:e.default?e.default:["A","B","C"],this.user_port=e.user_port?e.user_port:o.E$,this.icon="RF433R.png",this.url=o.xb.SKU+"U113"}getCode(){var e=this.checkPort();return`${this.name} = unit.get(unit.RF433RX, ${e})\n`}}class st extends n.rV{constructor(e){super(),this.type=o.g1.HBRIDGE,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.A,this.default=e.port.default?e.port.default:e.default?e.default:["A","B","C"],this.pb_port=e.port.pb_port?e.port.pb_port:e.pb_port?e.pb_port:[0,1,2,3,4,5],this.new_pb_port=e.port.new_pb_port?e.port.new_pb_port:e.new_pb_port?e.new_pb_port:"0",this.user_port=e.user_port?e.user_port:o.E$,this.icon="HBridge.png",this.url=o.xb.SKU+"U160"}getCode(){var e=this.checkPort();return`${this.name} = unit.get(unit.HBRIDGE, ${e})\n`}}class at extends n.rV{constructor(e){super(),this.type=o.g1.CAN,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.C,this.default=e.port.default?e.port.default:e.default?e.default:["A","C"],this.user_port=e.user_port?e.user_port:o.E$,this.icon="CAN.png",this.url=o.xb.SKU+"U085"}getCode(){var e=this.checkPort();return`${this.name} = unit.get(unit.CAN, ${e})\n`}}class lt extends n.rV{constructor(e){super(),this.type=o.g1.DCSSR,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.A,this.default=e.port.default?e.port.default:e.default?e.default:["A","B","C"],this.pb_port=e.port.pb_port?e.port.pb_port:e.pb_port?e.pb_port:[0,1,2,3,4,5],this.new_pb_port=e.port.new_pb_port?e.port.new_pb_port:e.new_pb_port?e.new_pb_port:"0",this.user_port=e.user_port?e.user_port:o.E$,this.icon="DCSSR.jpg",this.url=o.xb.SKU+"U140"}getCode(){var e=this.checkPort();return`${this.name} = unit.get(unit.DC_SSR, ${e})\n`}}class ct extends n.rV{constructor(e){super(),this.type=o.g1.EXTENCODER,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.A,this.default=e.port.default?e.port.default:e.default?e.default:["A","B","C"],this.pb_port=e.port.pb_port?e.port.pb_port:e.pb_port?e.pb_port:[0,1,2,3,4,5],this.new_pb_port=e.port.new_pb_port?e.port.new_pb_port:e.new_pb_port?e.new_pb_port:"0",this.user_port=e.user_port?e.user_port:o.E$,this.icon="ExtEncoder.png",this.url=o.xb.SKU+"U161"}getCode(){var e=this.checkPort();return`${this.name} = unit.get(unit.EXT_ENCODER, ${e})\n`}}class ht extends n.rV{constructor(e){super(),this.type=o.g1.AIN420MA,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.A,this.default=e.port.default?e.port.default:e.default?e.default:["A","B","C"],this.pb_port=e.port.pb_port?e.port.pb_port:e.pb_port?e.pb_port:[0,1,2,3,4,5],this.new_pb_port=e.port.new_pb_port?e.port.new_pb_port:e.new_pb_port?e.new_pb_port:"0",this.user_port=e.user_port?e.user_port:o.E$,this.icon="AIN4-20mA.png",this.url=o.xb.SKU+"U162"}getCode(){var e=this.checkPort();return`${this.name} = unit.get(unit.AIN_420MA, ${e})\n`}}class ut extends n.rV{constructor(e){super(),this.count=70,this.type=o.g1.NECO,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.B,this.count=e.count||70,this.default=e.port.default?e.port.default:e.default?e.default:["A","B","C"],this.user_port=e.user_port?e.user_port:o.E$,this.icon="NECO.png",this.url=o.xb.SKU+"U163"}getCode(){var e=this.checkPort();return`${this.name} = unit.get(unit.NECO, ${e}, ${this.count})\n`}}class dt extends n.rV{constructor(e){super(),this.type=o.g1.ACMEASURE,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.A,this.default=e.port.default?e.port.default:e.default?e.default:["A","B","C"],this.pb_port=e.port.pb_port?e.port.pb_port:e.pb_port?e.pb_port:[0,1,2,3,4,5],this.new_pb_port=e.port.new_pb_port?e.port.new_pb_port:e.new_pb_port?e.new_pb_port:"0",this.user_port=e.user_port?e.user_port:o.E$,this.icon="AC Measure.png",this.url=o.xb.SKU+"U164"}getCode(){var e=this.checkPort();return`${this.name} = unit.get(unit.AC_MEASURE, ${e})\n`}}class pt extends n.rV{constructor(e){super(),this.type=o.g1.CATCH,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.B,this.default=e.port.default?e.port.default:e.default?e.default:["A","B","C"],this.user_port=e.user_port?e.user_port:o.E$,this.icon="CATCH UNIT.png",this.url=o.xb.SKU+"U102"}getCode(){var e=this.checkPort();return`${this.name} = unit.get(unit.CATCH, ${e})\n`}}class gt extends n.rV{constructor(e){super(),this.type=o.g1.MINIOLED,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.A,this.default=e.port.default?e.port.default:e.default?e.default:["A","B","C"],this.user_port=e.user_port?e.user_port:o.E$,this.icon="MiniOLED.png",this.url=o.xb.SKU+"U166"}getCode(){var e=this.checkPort();return`${this.name} = unit.get(unit.MINI_OLED, ${e})\n`}}class ft extends n.rV{constructor(e){super(),this.type=o.g1.SERVOS8,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.A,this.default=e.port.default?e.port.default:e.default?e.default:["A","B","C"],this.pb_port=e.port.pb_port?e.port.pb_port:e.pb_port?e.pb_port:[0,1,2,3,4,5],this.new_pb_port=e.port.new_pb_port?e.port.new_pb_port:e.new_pb_port?e.new_pb_port:"0",this.user_port=e.user_port?e.user_port:o.E$,this.icon="8Servos.png",this.url=o.xb.SKU+"U165"}getCode(){var e=this.checkPort();return`${this.name} = unit.get(unit.SERVOS8, ${e})\n`}}class mt extends n.rV{constructor(e){super(),this.hidden=!("Beta"==localStorage.getItem("versions")||null==localStorage.getItem("versions")),this.type=o.g1.ENV4,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.A,this.default=e.port.default?e.port.default:e.default?e.default:["A","B","C"],this.pb_port=e.port.pb_port?e.port.pb_port:e.pb_port?e.pb_port:[0,1,2,4,4,5],this.new_pb_port=e.port.new_pb_port?e.port.new_pb_port:e.new_pb_port?e.new_pb_port:"0",this.user_port=e.user_port?e.user_port:o.E$,this.icon="env4.png",this.url=o.xb.SKU+"U001-D"}getCode(){var e=this.checkPort();return`${this.name} = unit.get(unit.ENV4, ${e})\n`}}class _t extends n.rV{constructor(e){super(),this.type=o.g1.ENVPRO,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.A,this.default=e.port.default?e.port.default:e.default?e.default:["A","B","C"],this.pb_port=e.port.pb_port?e.port.pb_port:e.pb_port?e.pb_port:[0,1,2,4,4,5],this.new_pb_port=e.port.new_pb_port?e.port.new_pb_port:e.new_pb_port?e.new_pb_port:"0",this.user_port=e.user_port?e.user_port:o.E$,this.icon="env_pro.png",this.url=o.xb.SKU+"U169"}getCode(){var e=this.checkPort();return`${this.name} = unit.get(unit.ENV_PRO, ${e})\n`}}class vt extends n.rV{constructor(e){super(),this.type=o.g1.GLASS2,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.A,this.default=e.port.default?e.port.default:e.default?e.default:["A","B","C"],this.user_port=e.user_port?e.user_port:o.E$,this.icon="GLASS2.png",this.url=o.xb.SKU+"U158-B"}getCode(){var e=this.checkPort();return`${this.name} = unit.get(unit.GLASS2_OLED, ${e})\n`}}class yt extends n.rV{constructor(e){super(),this.type=o.g1.IMUPRO,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.A,this.default=e.port.default?e.port.default:e.default?e.default:["A","B","C"],this.pb_port=e.port.pb_port?e.port.pb_port:e.pb_port?e.pb_port:[0,1,2,3,4,5],this.new_pb_port=e.port.new_pb_port?e.port.new_pb_port:e.new_pb_port?e.new_pb_port:"0",this.user_port=e.user_port?e.user_port:o.E$,this.icon="IMU Pro.png",this.url=o.xb.SKU+"U171"}getCode(){var e=this.checkPort();return`${this.name} = unit.get(unit.IMU_PRO, ${e})\n`}}class bt extends n.rV{constructor(e){super(),this.hidden=!("Beta"==localStorage.getItem("versions")||null==localStorage.getItem("versions")),this.type=o.g1.LORAE220,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.C,this.default=e.port.default?e.port.default:e.default?e.default:["A","B","C"],this.user_port=e.user_port?e.user_port:o.E$,this.icon="LoRaE220.png",this.url=o.xb.SKU+"U170"}getCode(){var e=this.checkPort();return`${this.name} = unit.get(unit.LORA_E220_JP, ${e})\n`}}class wt extends n.rV{constructor(e){super(),this.type=o.g1.TOF4M,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.B,this.default=e.port.default?e.port.default:e.default?e.default:["A","B","C"],this.pb_port=e.port.pb_port?e.port.pb_port:e.pb_port?e.pb_port:[0,1,2,3,4,5],this.new_pb_port=e.port.new_pb_port?e.port.new_pb_port:e.new_pb_port?e.new_pb_port:"0",this.user_port=e.user_port?e.user_port:o.E$,this.icon="ToF4M.png",this.url=o.xb.SKU+"U172"}getCode(){var e=this.checkPort();return`${this.name} = unit.get(unit.TOF4M, ${e})\n`}}class At extends n.rV{constructor(e){super(),this.type=o.g1.REFLECTIVEIR,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.B,this.default=e.port.default?e.port.default:e.default?e.default:["A","B","C"],this.user_port=e.user_port?e.user_port:o.E$,this.icon="ReflectiveIR.png",this.url=o.xb.SKU+"U175"}getCode(){var e=this.checkPort();return`${this.name} = unit.get(unit.REFLECTIVE_IR, ${e})\n`}}class xt extends n.rV{constructor(e){super(),this.type=o.g1.SYNTH,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.C,this.default=e.port.default?e.port.default:e.default?e.default:["A","B","C"],this.user_port=e.user_port?e.user_port:o.E$,this.icon="SYNTH.png",this.url=o.xb.SKU+"U178"}getCode(){var e=this.checkPort();return`${this.name} = unit.get(unit.SYNTH, ${e})\n`}}class Tt extends n.rV{constructor(e){super(),this.type=o.g1.MINISCALE,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.A,this.default=e.port.default?e.port.default:e.default?e.default:["A","B","C"],this.pb_port=e.port.pb_port?e.port.pb_port:e.pb_port?e.pb_port:[0,1,2,3,4,5],this.new_pb_port=e.port.new_pb_port?e.port.new_pb_port:e.new_pb_port?e.new_pb_port:"0",this.user_port=e.user_port?e.user_port:o.E$,this.icon="Unit MiniScales.png",this.url=o.xb.SKU+"U177"}getCode(){var e=this.checkPort();return`${this.name} = unit.get(unit.MINISCALE, ${e})\n`}}class Ct extends n.rV{constructor(e){super(),this.type=o.g1.QRCODE,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.A,this.default=e.port.default?e.port.default:e.default?e.default:["A","B","C"],this.pb_port=e.port.pb_port?e.port.pb_port:e.pb_port?e.pb_port:[0,1,2,3,4,5],this.new_pb_port=e.port.new_pb_port?e.port.new_pb_port:e.new_pb_port?e.new_pb_port:"0",this.user_port=e.user_port?e.user_port:o.E$,this.icon="QRCode.png",this.url=o.xb.SKU+"U173"}getCode(){var e=this.checkPort();return`${this.name} = unit.get(unit.QRCODE, ${e})\n`}}class Zt extends n.rV{constructor(e){super(),this.type=o.g1.DAC2,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.A,this.default=e.port.default?e.port.default:e.default?e.default:["A","B","C"],this.pb_port=e.port.pb_port?e.port.pb_port:e.pb_port?e.pb_port:[0,1,2,3,4,5],this.new_pb_port=e.port.new_pb_port?e.port.new_pb_port:e.new_pb_port?e.new_pb_port:"0",this.user_port=e.user_port?e.user_port:o.E$,this.icon="DAC2 UNIT.png",this.url=o.xb.SKU+"U012-B"}getCode(){var e=this.checkPort();return`${this.name} = unit.get(unit.DAC2, ${e})\n`}}class kt extends n.rV{constructor(e){super(),this.type=o.g1.ADCV11,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.B,this.default=e.port.default?e.port.default:e.default?e.default:["A","B","C"],this.pb_port=e.port.pb_port?e.port.pb_port:e.pb_port?e.pb_port:[0,1,2,3,4,5],this.new_pb_port=e.port.new_pb_port?e.port.new_pb_port:e.new_pb_port?e.new_pb_port:"0",this.user_port=e.user_port?e.user_port:o.E$,this.icon="ADC V1.1.png",this.url=o.xb.SKU+"U013-V11"}getCode(){var e=this.checkPort();return`${this.name} = unit.get(unit.ADCV11, ${e})\n`}}class St extends n.rV{constructor(e){super(),this.type=o.g1.MINICAN,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.C,this.default=e.port.default?e.port.default:e.default?e.default:["A","C"],this.user_port=e.user_port?e.user_port:o.E$,this.icon="MINI CAN.png",this.url=o.xb.SKU+"U179"}getCode(){var e=this.checkPort();return`${this.name} = unit.get(unit.MINI_CAN, ${e})\n`}}class Et extends n.rV{constructor(e){super(),this.type=o.g1.WEIGHTI2C,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.A,this.default=e.port.default?e.port.default:e.default?e.default:["A","B","C"],this.user_port=e.user_port?e.user_port:o.E$,this.icon="WEIGHT I2C.png",this.url=o.xb.SKU+"U180"}getCode(){var e=this.checkPort();return`${this.name} = unit.get(unit.WEIGHT_I2C, ${e})\n`}}class Mt extends n.rV{constructor(e){super(),this.type=o.g1.BLDCDRIVER,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.B,this.default=e.port.default?e.port.default:e.default?e.default:["A","B","C"],this.pb_port=e.port.pb_port?e.port.pb_port:e.pb_port?e.pb_port:[0,1,2,3,4,5],this.new_pb_port=e.port.new_pb_port?e.port.new_pb_port:e.new_pb_port?e.new_pb_port:"0",this.user_port=e.user_port?e.user_port:o.E$,this.icon="BLDC DRIVER.png",this.url=o.xb.SKU+"U181"}getCode(){var e=this.checkPort();return`${this.name} = unit.get(unit.BLDC_DRIVER, ${e})\n`}}class Ot extends n.rV{constructor(e){super(),this.type=o.g1.NBIOT2,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.C,this.default=e.port.default?e.port.default:e.default?e.default:["A","B","C"],this.user_port=e.user_port?e.user_port:o.E$,this.icon="nb-iot2.png",this.url=o.xb.SKU+"U111-B"}getCode(){var e=this.checkPort();return`${this.name} = unit.get(unit.NBIOT2, ${e})\n`}}class It extends n.rV{constructor(e){super(),this.type=o.g1.ROLLER485,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.B,this.default=e.port.default?e.port.default:e.default?e.default:["A","B","C"],this.pb_port=e.port.pb_port?e.port.pb_port:e.pb_port?e.pb_port:[0,1,2,3,4,5],this.new_pb_port=e.port.new_pb_port?e.port.new_pb_port:e.new_pb_port?e.new_pb_port:"0",this.user_port=e.user_port?e.user_port:o.E$,this.icon="Roller485.png",this.url=o.xb.SKU+"U182"}getCode(){var e=this.checkPort();return`${this.name} = unit.get(unit.ROLLER485, ${e})\n`}}class Pt extends n.rV{constructor(e){super(),this.hidden=!("Beta"==localStorage.getItem("versions")||null==localStorage.getItem("versions")),this.type=o.g1.LORAE220433,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.C,this.default=e.port.default?e.port.default:e.default?e.default:["A","B","C"],this.user_port=e.user_port?e.user_port:o.E$,this.icon="LoRaE220-433.png",this.url=o.xb.SKU+"U170-433"}getCode(){var e=this.checkPort();return`${this.name} = unit.get(unit.LORA_E220_433, ${e})\n`}}class Rt extends n.rV{constructor(e){super(),this.type=o.g1.SCROLL,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.A,this.default=e.port.default?e.port.default:e.default?e.default:["A","B","C"],this.pb_port=e.port.pb_port?e.port.pb_port:e.pb_port?e.pb_port:[0,1,2,3,4,5],this.new_pb_port=e.port.new_pb_port?e.port.new_pb_port:e.new_pb_port?e.new_pb_port:"0",this.user_port=e.user_port?e.user_port:o.E$,this.icon="SCROLL.png",this.url=o.xb.SKU+"U186"}getCode(){var e=this.checkPort();return`${this.name} = unit.get(unit.SCROLL, ${e})\n`}}class qt extends n.rV{constructor(e){super(),this.type=o.g1.TMOS,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.A,this.default=e.port.default?e.port.default:e.default?e.default:["A","B","C"],this.pb_port=e.port.pb_port?e.port.pb_port:e.pb_port?e.pb_port:[0,1,2,3,4,5],this.new_pb_port=e.port.new_pb_port?e.port.new_pb_port:e.new_pb_port?e.new_pb_port:"0",this.user_port=e.user_port?e.user_port:o.E$,this.icon="TMOS PIR.png",this.url=o.xb.SKU+"U185"}getCode(){var e=this.checkPort();return`${this.name} = unit.get(unit.TMOS, ${e})\n`}}class Lt extends n.rV{constructor(e){super(),this.type=o.g1.DMX,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.C,this.default=e.port.default?e.port.default:e.default?e.default:["A","B","C"],this.user_port=e.user_port?e.user_port:o.E$,this.icon="DMX.png",this.url=o.xb.SKU+"U183"}getCode(){var e=this.checkPort();return`${this.name} = unit.get(unit.DMX, ${e})\n`}}class Ut extends n.NG{constructor(e){super(),this.type=o.E2.ENV,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.B,this.default=e.port.default?e.port.default:e.default?e.default:["A","B","C"],this.pb_port=e.port.pb_port?e.port.pb_port:e.pb_port?e.pb_port:[0,1,2,3,4,5],this.new_pb_port=e.port.new_pb_port?e.port.new_pb_port:e.new_pb_port?e.new_pb_port:"0",this.icon="hat_ENV.png",this.url=o.xb.HAT+"hat-env"}getCode(){return`${this.name} = hat.get(hat.ENV)\n`}}class Bt extends n.NG{constructor(e){super(),this.type=o.E2.PIR,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.B,this.default=e.port.default?e.port.default:e.default?e.default:["A","B","C"],this.icon="hat_PIR.png",this.url=o.xb.SKU+"U054"}getCode(){return`${this.name} = hat.get(hat.PIR)\n`}}class Dt extends n.NG{constructor(e){super(),this.type=o.E2.SPK,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.B,this.default=e.port.default?e.port.default:e.default?e.default:["A","B","C"],this.icon="hat_SPK.png",this.url=o.xb.SKU+"U055"}getCode(){return`${this.name} = hat.get(hat.SPEAKER)\n`}}class Nt extends n.NG{constructor(e){super(),this.type=o.E2.NCIR,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.B,this.default=e.port.default?e.port.default:e.default?e.default:["A","B","C"],this.icon="hat_NCIR.png",this.url=o.xb.SKU+"U061"}getCode(){return`${this.name} = hat.get(hat.NCIR)\n`}}class Ft extends n.NG{constructor(e){super(),this.type=o.E2.ADC,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.B,this.default=e.port.default?e.port.default:e.default?e.default:["A","B","C"],this.pb_port=e.port.pb_port?e.port.pb_port:e.pb_port?e.pb_port:[0,1,2,3,4,5],this.new_pb_port=e.port.new_pb_port?e.port.new_pb_port:e.new_pb_port?e.new_pb_port:"0",this.icon="hat_ADC.png",this.url=o.xb.SKU+"U069"}getCode(){return`${this.name} = hat.get(hat.ADC)\n`}}class Ht extends n.NG{constructor(e){super(),this.type=o.E2.DAC,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.B,this.default=e.port.default?e.port.default:e.default?e.default:["A","B","C"],this.pb_port=e.port.pb_port?e.port.pb_port:e.pb_port?e.pb_port:[0,1,2,3,4,5],this.new_pb_port=e.port.new_pb_port?e.port.new_pb_port:e.new_pb_port?e.new_pb_port:"0",this.icon="hat_DAC.png",this.url=o.xb.SKU+"U068"}getCode(){return`${this.name} = hat.get(hat.DAC)\n`}}class $t extends n.NG{constructor(e){super(),this.type=o.E2.SERVO,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.B,this.default=e.port.default?e.port.default:e.default?e.default:["A","B","C"],this.pb_port=e.port.pb_port?e.port.pb_port:e.pb_port?e.pb_port:[0,1,2,3,4,5],this.new_pb_port=e.port.new_pb_port?e.port.new_pb_port:e.new_pb_port?e.new_pb_port:"0",this.icon="hat_Servo.png",this.url=o.xb.SKU+"U075"}getCode(){return`${this.name} = hat.get(hat.SERVO)\n`}}class zt extends n.NG{constructor(e){super(),this.hidden=sessionStorage.getItem("_type")===o.__.COREINK,this.type=o.E2.SERVOS,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.B,this.default=e.port.default?e.port.default:e.default?e.default:["A","B","C"],this.pb_port=e.port.pb_port?e.port.pb_port:e.pb_port?e.pb_port:[0,1,2,3,4,5],this.new_pb_port=e.port.new_pb_port?e.port.new_pb_port:e.new_pb_port?e.new_pb_port:"0",this.icon="hat_Servos.png",this.url=o.xb.SKU+"U076"}getCode(){return`${this.name} = hat.get(hat.SERVOS)\n`}}class Vt extends n.NG{constructor(e){super(),this.hidden=sessionStorage.getItem("_type")===o.__.COREINK,this.type=o.E2.PUPPY,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.B,this.default=e.port.default?e.port.default:e.default?e.default:["A","B","C"],this.pb_port=e.port.pb_port?e.port.pb_port:e.pb_port?e.pb_port:[0,1,2,3,4,5],this.new_pb_port=e.port.new_pb_port?e.port.new_pb_port:e.new_pb_port?e.new_pb_port:"0",this.icon="hat_PuppyC.png",this.url=o.xb.SKU+"K035"}getCode(){return`${this.name} = hat.get(hat.PUPPY)\n`}}class Kt extends n.NG{constructor(e){super(),this.type=o.E2.Joystick,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.B,this.default=e.port.default?e.port.default:e.default?e.default:["A","B","C"],this.pb_port=e.port.pb_port?e.port.pb_port:e.pb_port?e.pb_port:[0,1,2,3,4,5],this.new_pb_port=e.port.new_pb_port?e.port.new_pb_port:e.new_pb_port?e.new_pb_port:"0",this.icon="hat_Joystick.png",this.url=o.xb.SKU+"U073"}getCode(){return`${this.name} = hat.get(hat.JOYSTICK)\n`}}class Wt extends n.NG{constructor(e){super(),this.hidden=sessionStorage.getItem("_type")===o.__.COREINK,this.type=o.E2.BUGC,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.B,this.default=e.port.default?e.port.default:e.default?e.default:["A","B","C"],this.pb_port=e.port.pb_port?e.port.pb_port:e.pb_port?e.pb_port:[0,1,2,3,4,5],this.new_pb_port=e.port.new_pb_port?e.port.new_pb_port:e.new_pb_port?e.new_pb_port:"0",this.icon="hat_BugC.png",this.url=o.xb.SKU+"K033"}getCode(){return`${this.name} = hat.get(hat.BUGC)\n`}}class Gt extends n.NG{constructor(e){super(),this.type=o.E2.Finger,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.B,this.default=e.port.default?e.port.default:e.default?e.default:["A","B","C"],this.pb_port=e.port.pb_port?e.port.pb_port:e.pb_port?e.pb_port:[0,1,2,3,4,5],this.new_pb_port=e.port.new_pb_port?e.port.new_pb_port:e.new_pb_port?e.new_pb_port:"0",this.icon="hat_Finger.png",this.url=o.xb.SKU+"U074"}getCode(){return`${this.name} = hat.get(hat.FINGER)\n`}}class Yt extends n.NG{constructor(e){super(),this.hidden=sessionStorage.getItem("_type")===o.__.COREINK,this.type=o.E2.BeetleC,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.B,this.default=e.port.default?e.port.default:e.default?e.default:["A","B","C"],this.pb_port=e.port.pb_port?e.port.pb_port:e.pb_port?e.pb_port:[0,1,2,3,4,5],this.new_pb_port=e.port.new_pb_port?e.port.new_pb_port:e.new_pb_port?e.new_pb_port:"0",this.icon="hat_BeetleC.png",this.url=o.xb.HAT+"hat-beetlec"}getCode(){return`${this.name} = hat.get(hat.BEETLEC)\n`}}class jt extends n.NG{constructor(e){super(),this.hidden=sessionStorage.getItem("_type")===o.__.COREINK,this.type=o.E2.YUN,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.B,this.default=e.port.default?e.port.default:e.default?e.default:["A","B","C"],this.icon="hat_Yun.png",this.url=o.xb.SKU+"U070"}getCode(){return`${this.name} = hat.get(hat.YUN)\n`}}class Xt extends n.NG{constructor(e){super(),this.hidden=sessionStorage.getItem("_type")===o.__.COREINK,this.type=o.E2.JoyC,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.B,this.default=e.port.default?e.port.default:e.default?e.default:["A","B","C"],this.icon="hat_JoyC.png",this.url=o.xb.SKU+"U079"}getCode(){return`${this.name} = hat.get(hat.JOYC)\n`}}class Jt extends n.NG{constructor(e){super(),this.hidden=sessionStorage.getItem("_type")===o.__.COREINK,this.type=o.E2.RoverC,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.B,this.default=e.port.default?e.port.default:e.default?e.default:["A","B","C"],this.icon="hat_RoverC.png",this.url=o.xb.HAT+"hat-roverc"}getCode(){return`${this.name} = hat.get(hat.ROVERC)\n`}}class Qt extends n.NG{constructor(e){super(),this.type=o.E2.TOF,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.B,this.default=e.port.default?e.port.default:e.default?e.default:["A","B","C"],this.icon="hat_TOF.png",this.url=o.xb.SKU+"U072"}getCode(){return`${this.name} = hat.get(hat.TOF)\n`}}var ei=i(43858);class ti extends n.NG{constructor(e){super(),this.hidden=sessionStorage.getItem("_type")===o.__.COREINK,this.type=o.E2.CardKb,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.B,this.default=e.port.default?e.port.default:e.default?e.default:["A","B","C"],this.pb_port=e.port.pb_port?e.port.pb_port:e.pb_port?e.pb_port:[0,1,2,3,4,5],this.new_pb_port=e.port.new_pb_port?e.port.new_pb_port:e.new_pb_port?e.new_pb_port:"0",this.icon="hat_CardKb.png",this.url=o.xb.SKU+"U077"}getCode(){return`${this.name} = hat.get(hat.CARDKB)\n`}}class ii extends n.NG{constructor(e){super(),this.type=o.E2.ENV2,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.B,this.default=e.port.default?e.port.default:e.default?e.default:["A","B","C"],this.pb_port=e.port.pb_port?e.port.pb_port:e.pb_port?e.pb_port:[0,1,2,3,4,5],this.new_pb_port=e.port.new_pb_port?e.port.new_pb_port:e.new_pb_port?e.new_pb_port:"0",this.icon="hat_ENV2.png",this.url=o.xb.SKU+"U053-B"}getCode(){return`${this.name} = hat.get(hat.ENV2)\n`}}class ni extends n.NG{constructor(e){super(),this.type=o.E2.ENV3,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.B,this.default=e.port.default?e.port.default:e.default?e.default:["A","B","C"],this.pb_port=e.port.pb_port?e.port.pb_port:e.pb_port?e.pb_port:[0,1,2,3,4,5],this.new_pb_port=e.port.new_pb_port?e.port.new_pb_port:e.new_pb_port?e.new_pb_port:"0",this.icon="hat_ENV3.png",this.url=o.xb.SKU+"U053-D"}getCode(){return`${this.name} = hat.get(hat.ENV3)\n`}}class oi extends n.NG{constructor(e){super(),this.type=o.E2.RS485,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.B,this.default=e.port.default?e.port.default:e.default?e.default:["A","B","C"],this.icon="hat_RS485.png",this.url=o.xb.SKU+"U067"}getCode(){return`${this.name} = hat.get(hat.RS485)\n`}}class ri extends n.NG{constructor(e){super(),this.type=o.E2.CBACK,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.B,this.default=e.port.default?e.port.default:e.default?e.default:["A","B","C"],this.icon="C-BACK-DRIVER.png",this.url=o.xb.SKU+"A100"}getCode(){return`${this.name} = hat.get(hat.CBACK)\n`}}class si extends n.NG{constructor(e){super(),this.type=o.E2.SERVOS8,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.B,this.default=e.port.default?e.port.default:e.default?e.default:["A","B","C"],this.icon="hat_8Servo.png",this.url=o.xb.SKU+"U076-B"}getCode(){return`${this.name} = hat.get(hat.SERVO8)\n`}}class ai extends n.NG{constructor(e){super(),this.hidden=![o.__.STICK_C,o.__.STICK_C_PLUS,o.__.STICK_C_PLUS2].includes(sessionStorage.getItem("_type")),this.type=o.E2.BALAC,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.B,this.default=e.port.default?e.port.default:e.default?e.default:["A","B","C"],this.pb_port=e.port.pb_port?e.port.pb_port:e.pb_port?e.pb_port:[0,1,2,3,4,5],this.new_pb_port=e.port.new_pb_port?e.port.new_pb_port:e.new_pb_port?e.new_pb_port:"0",this.icon="balac plus.png",this.url=o.xb.SKU+"K038-B"}getCode(){return"balac = hat.get(hat.BALAC)\n"}}class li extends n.NG{constructor(e){super(),this.type=o.E2.CBACKNBIOT,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.B,this.default=e.port.default?e.port.default:e.default?e.default:["A","B","C"],this.icon="Cback NB-IoT.png",this.url=o.xb.SKU+"A113"}getCode(){return"nb = hat.get(hat.CBACK_NBIOT)\n"}}class ci extends n.NG{constructor(e){super(),this.type=o.E2.DLIGHT,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.A,this.default=e.port.default?e.port.default:e.default?e.default:["A","B","C"],this.pb_port=e.port.pb_port?e.port.pb_port:e.pb_port?e.pb_port:[0,1,2,3,4,5],this.new_pb_port=e.port.new_pb_port?e.port.new_pb_port:e.new_pb_port?e.new_pb_port:"0",this.icon="DLIGHT HAT.png",this.url=o.xb.SKU+"U134"}getCode(){return`${this.name} = hat.get(hat.DLIGHT)\n`}}class hi extends n.NG{constructor(e){super(),this.type=o.E2.HeartRate,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.B,this.default=e.port.default?e.port.default:e.default?e.default:["A","B","C"],this.pb_port=e.port.pb_port?e.port.pb_port:e.pb_port?e.pb_port:[0,1,2,3,4,5],this.new_pb_port=e.port.new_pb_port?e.port.new_pb_port:e.new_pb_port?e.new_pb_port:"0",this.icon="hat_HEART RATE.png",this.url=o.xb.SKU+"U118"}getCode(){return`${this.name} = hat.get(hat.HEART_RATE)\n`}}class ui extends n.NG{constructor(e){super(),this.type=o.E2.MiniEncoderC,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.B,this.default=e.port.default?e.port.default:e.default?e.default:["A","B","C"],this.icon="hat_MiniEncoderC.png",this.url=o.xb.SKU+"U157"}getCode(){return`${this.name} = hat.get(hat.MINI_ENCODERC)\n`}}class di extends n.NG{constructor(e){super(),this.type=o.E2.MiniJoyC,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.B,this.default=e.port.default?e.port.default:e.default?e.default:["A","B","C"],this.icon="hat_MiniJoyC.png",this.url=o.xb.SKU+"U156"}getCode(){return`${this.name} = hat.get(hat.MINI_JOYC)\n`}}class pi extends n.NG{constructor(e){super(),this.type=o.E2.Vibrator,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.B,this.default=e.port.default?e.port.default:e.default?e.default:["A","B","C"],this.icon="VIBRATOR.png",this.url=o.xb.SKU+"U159"}getCode(){return`${this.name} = hat.get(hat.VIBRATOR)\n`}}class gi extends n.NG{constructor(e){super(),this.typeList=[o.__.STICK_C_PLUS,o.__.STICK_C_PLUS2],this.hidden=!(this.typeList.indexOf(sessionStorage.getItem("_type"))>-1),this.type=o.E2.SPK2,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.B,this.default=e.port.default?e.port.default:e.default?e.default:["A","B","C"],this.icon="SPK2.png",this.url=o.xb.SKU+"U055-B"}getCode(){return`${this.name} = hat.get(hat.SPEAKER_I2S)\n`}}class fi extends n.NG{constructor(e){super(),this.type=o.E2.DAC2,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.B,this.default=e.port.default?e.port.default:e.default?e.default:["A","B","C"],this.pb_port=e.port.pb_port?e.port.pb_port:e.pb_port?e.pb_port:[0,1,2,3,4,5],this.new_pb_port=e.port.new_pb_port?e.port.new_pb_port:e.new_pb_port?e.new_pb_port:"0",this.icon="DAC2 HAT.png",this.url=o.xb.SKU+"U068-B"}getCode(){return`${this.name} = hat.get(hat.DAC2)\n`}}class mi extends n.NG{constructor(e){super(),this.hidden=sessionStorage.getItem("_type")===o.__.COREINK,this.type=o.E2.BUGC2,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.B,this.default=e.port.default?e.port.default:e.default?e.default:["A","B","C"],this.pb_port=e.port.pb_port?e.port.pb_port:e.pb_port?e.pb_port:[0,1,2,3,4,5],this.new_pb_port=e.port.new_pb_port?e.port.new_pb_port:e.new_pb_port?e.new_pb_port:"0",this.icon="BugC2.png",this.url=o.xb.SKU+"K033-C"}getCode(){return`${this.name} = hat.get(hat.BUGC2)\n`}}class _i extends n.bt{constructor(e){super(),this.type=o.rf.IO,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.A,this.default=e.port.default?e.port.default:e.default?e.default:["A","B","C"],this.pb_port=e.port.pb_port?e.port.pb_port:e.pb_port?e.pb_port:[0,1,2,3,4,5],this.new_pb_port=e.port.new_pb_port?e.port.new_pb_port:e.new_pb_port?e.new_pb_port:"0",this.user_port=e.user_port?e.user_port:o.E$,this.icon="STAMP I.O.png",this.url=o.xb.SKU+"S002"}getCode(){let e=this.checkPort();return`${this.name} = stamp.get(stamp.EXT_IO, ${e})\n`}}class vi extends n.bt{constructor(e){super(),this.type=o.rf.TIMERPOWER,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.A,this.default=e.port.default?e.port.default:e.default?e.default:["A","B","C"],this.pb_port=e.port.pb_port?e.port.pb_port:e.pb_port?e.pb_port:[0,1,2,3,4,5],this.new_pb_port=e.port.new_pb_port?e.port.new_pb_port:e.new_pb_port?e.new_pb_port:"0",this.user_port=e.user_port?e.user_port:o.E$,this.icon="stamp_timerpower.png",this.url=o.xb.SKU+"S005"}getCode(){let e=this.checkPort();return`${this.name} = stamp.get(stamp.TIMER_POWER, ${e})\n`}}class yi extends n.bt{constructor(e){super(),this.type=o.rf.CATM,this.name=e.name,this.port=e.port.port?e.port.port:e.port?e.port:o.px.C,this.default=e.port.default?e.port.default:e.default?e.default:["A","B","C"],this.pb_port=e.port.pb_port?e.port.pb_port:e.pb_port?e.pb_port:[0,1,2,3,4,5],this.new_pb_port=e.port.new_pb_port?e.port.new_pb_port:e.new_pb_port?e.new_pb_port:"0",this.user_port=e.user_port?e.user_port:o.E$,this.icon="STAMP CATM.png",this.url=o.xb.SKU+"S003"}getCode(){let e=this.checkPort();return`${this.name} = stamp.get(stamp.CATM, ${e})\n`}}},40342:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{O:function(){return BlocklyEditorService}});var src_app_utils_common_data__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(67302),_environments_environment__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(92340),_blockly_config_toolbox__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(59741),sweetalert2__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(88259),sweetalert2__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(sweetalert2__WEBPACK_IMPORTED_MODULE_3__),_angular_core__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(37716),_angular_common_http__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(91841),_code_editor_service__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(8318),_global_operator_service__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(61797),src_app_services_store_service__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(22e3),_upload_service__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(52634),_pnp_service__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(10215),_screen_simulator_service__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(99742);window.Swal=sweetalert2__WEBPACK_IMPORTED_MODULE_3___default();let BlocklyEditorService=(()=>{class BlocklyEditorService{constructor(e,t,i,n,o,r,s){this.http=e,this.codeEditorSrv=t,this.globalOperatorSrv=i,this.storeSrv=n,this.uploadSrv=o,this.pnpSrv=r,this.screenSimulatorSrv=s,this.Blockly=window.Blockly,this.blockly_alert="",this.storage=[],this.remotePlus=[],this.url="https://docs.m5stack.com/en/",this.ezDataToken="",this.isDblClick=!1,this.ezdataAttention="Attention: The number of saved topics \u2264 100. The history records of topic \u2264 1000.",this.workspace=null,this.init=this.init.bind(this),this.extEvent=this.extEvent.bind(this)}init(e,t=null){this.http.get(`./assets/blockly/language/${e.language||"en"}.json?v=${_environments_environment__WEBPACK_IMPORTED_MODULE_1__.N.version}.${_environments_environment__WEBPACK_IMPORTED_MODULE_1__.N.versionChunk}`).subscribe(i=>{null!==this.workspace&&(this.workspace.dispose(),null==t&&setTimeout(()=>{window.BlocklyEditor.clear();const e=window.sessionStorage.getItem("xml"),t=window.Blockly.Xml.textToDom(e);window.Blockly.Xml.domToWorkspace(t,window.BlocklyEditor)},0)),this.Blockly.Msg=Object.assign(this.Blockly.Msg,i),this.workspace=this.Blockly.inject(e.wrapperId,{toolbox:_blockly_config_toolbox__WEBPACK_IMPORTED_MODULE_2__.t,trashcan:!0,sounds:!1,comments:!0,zoom:{controls:!0,wheel:!0,startScale:1,maxScale:3,minScale:.2,scaleSpeed:1.2},grid:{spacing:20,length:1,colour:"#666",snap:!0},media:"/assets/blockly-media/",theme:window.Blockly.Themes.M5Stack}),this.newBlock_init(),this.workspace.addChangeListener(this.extEvent),this.bindButtonCallback(e),window.BlocklyEditor=this.workspace,this.storeSrv.hiddenBlockly.next(""),t&&t(),this.ezDataToken=localStorage.getItem("dataToken")||"",""===this.ezDataToken&&this.uploadSrv.getDataToken().subscribe(e=>{1===e.status&&""!==e.data.accessKey&&(this.ezDataToken=e.data.accessKey,localStorage.setItem(src_app_utils_common_data__WEBPACK_IMPORTED_MODULE_0__.k2.DATA_TOKEN,this.ezDataToken))},e=>{})})}newBlock_init(){let e=this.workspace.newBlock("basic_on_setup","setup_block");e.moveBy(50,50),e.initSvg(),e.render()}extEvent(e){this.globalOperatorSrv.setSelectedComponent(null),this.globalOperatorSrv.setSelectedUnit(null),this.globalOperatorSrv.setSelectedStamp(null),-1===["change","move","create","delete"].indexOf(e.type)&&!/^rp_/.test(e.varName)&&"item"!==e.varName&&this.globalOperatorSrv.setSelectedRemotePlus(null);let t=this.workspace.getBlockById(e.blockId);switch("finished_loading"===e.type&&1===this.getPnPInitBlockNum()&&(this.pnpSrv.enablePnP(),this.pnpSrv.getBlockModelId(),this.pnpSrv.initTemplate()),e.type){case"create":if("setup_block"===e.blockId||!t)return;if(("remote_add_label"===t.type||"remote_add_slider"===t.type||"remote_add_button"===t.type||"remote_add_switch"===t.type||"remote_add_input"===t.type||"remote_add_statistics"===t.type||"create_remote_chart"===t.type||"create_remote_button"===t.type||"create_remote_slider"===t.type||"create_remote_switch"===t.type)&&(this.storeSrv.erweima.next(!0),this.storage[this.storage.length]=e),sessionStorage.getItem("_type")===src_app_utils_common_data__WEBPACK_IMPORTED_MODULE_0__.__.COREINK&&("screen_set_show"===t.type||"screen_set_paritalshow"===t.type)&&sweetalert2__WEBPACK_IMPORTED_MODULE_3___default().fire({title:"Warning",text:"Please avoid using high refresh rates, recommended refresh rate is(15s/per refresh). Do not expose to ultraviolet rays for a long time, otherwise it may cause irreversible damage to the ink screen.",icon:"warning",iconColor:window.Blockly.Msg.SWAL_DANGER_HUE,confirmButtonColor:window.Blockly.Msg.SWAL_DANGER_HUE,confirmButtonText:"Yes, all at my own risk.",allowOutsideClick:!1}),t.setEnabled(!1),e.ids.length>0&&e.ids.forEach(e=>{let t=this.workspace.getBlockById(e);this.checkEventBlock(t)&&this.setEventCbBlock(t)}),this.isDblClick&&/^remoteplus_/.test(t.type)){let e=t.type.replace("remoteplus_add_","");if("remotename"===t.getFieldValue("NAME")){let i=this.globalOperatorSrv.getRemoteDefauleName(e),n=this.globalOperatorSrv.getRemoteVarBlockName(e,i);t.getField("NAME").setValue(i),t.getInput("RETURN")&&t.getInput("RETURN").connection.targetConnection&&(t.getInput("RETURN").connection.targetConnection.sourceBlock_.dispose(),this.globalOperatorSrv.setRemoteConnBlock(t,n)),this.isDblClick=!1}}"logic_when"===t.type&&(window.Blockly.logicWhenNum+=1,t.oldDataId=window.Blockly.logicWhenNum,window.BlocklyEditor.createVariable(`oldData${t.oldDataId}`,null,null)),"azure_pnp_init_central"===t.type&&1===this.getPnPInitBlockNum()&&this.pnpSrv.createDtmi();break;case"move":let a=this.workspace.getAllBlocks(),l=0,c=0,h=0,u=0,d=0;a.forEach(e=>{e.setEnabled(!this.checkDisabled(e)),"azure_sub"===e.type&&(l++,e.setEnabled(1===l)),"azure_sub_twin_desired"===e.type&&(c++,e.setEnabled(1===c)),"nbiot_mqtt_sub_cb"===e.type&&(h++,e.setEnabled(1===h)),"base_dtunb_mqtt_sub_cb"===e.type&&(u++,e.setEnabled(1===u)),"azure_pnp_init_central"===e.type&&"basic_on_setup"===e.getTopStackBlock().type&&(d++,e.setEnabled(1===d))});try{"azure_pnp_init_central"===t.type&&(0===this.getPnPInitBlockNum()?this.pnpSrv.disablePnP():1===this.getPnPInitBlockNum()&&this.pnpSrv.enablePnP(t.id))}catch(r){}this.globalOperatorSrv.codeLock.value||this.codeEditorSrv.updateWorkspaceValue();try{if("uart"===t.type){let e=[src_app_utils_common_data__WEBPACK_IMPORTED_MODULE_0__.__.CORE,src_app_utils_common_data__WEBPACK_IMPORTED_MODULE_0__.__.CORETWO,src_app_utils_common_data__WEBPACK_IMPORTED_MODULE_0__.__.TOUGH],i=sessionStorage.getItem("_type")||src_app_utils_common_data__WEBPACK_IMPORTED_MODULE_0__.__.CORE;e.indexOf(i)>-1||(t.childBlocks_[0].inputList[0].fieldRow[0].setText("32"),t.childBlocks_[1].inputList[0].fieldRow[0].setText("33"))}}catch(r){}if(e.blockId){let t=e.blockId;if(!window.BlocklyEditor.getBlockById(t))return;let o,r=window.BlocklyEditor.getBlockById(t).type,a=window.Blockly.Blocks[r],l="";for(var i in a)if("blockly_config"==i||"init"!=i){l=i;break}if(""==l||null==l||null==l||"getProcedureCall"==l)return!1;try{o=window.Blockly.Blocks[r][l]()}catch(s){return!1}if(null==o||!o.hasOwnProperty("tool"))return!1;if(o.tool){if(void 0===window.Blockly.Blocks[r][l]().tool)return!1;var n=window.Blockly.Blocks[r][l]().tool||[];let e=window.Blockly.Blocks[r][l]().toolImg||"";0===n.length&&""!=e&&(n=[""]),this.blockly_alert=n,this.globalOperatorSrv.setAlert(JSON.stringify({rs:n})),this.globalOperatorSrv.setAlertImg(e)}}break;case"delete":for(let t=0;t<this.storage.length;t++)this.storage[t].blockId==e.blockId&&this.storage.splice(t,1);for(let t=0;t<this.remotePlus.length;t++)this.remotePlus[t].blockId==e.blockId&&this.remotePlus.splice(t,1);try{for(let t=0;t<window.Blockly.ButtonEvents.length;t++)if(window.Blockly.ButtonEvents[t].id==e.blockId){window.Blockly.ButtonEvents.splice(t,1);break}}catch(r){console.dir(r.message),window.Blockly.ButtonEvents||(window.Blockly.ButtonEvents=[])}["Remotes","RemoteV2","mqttSub","modbusMasterCb","modbusSlaveCb","echoSttCb","bleUartCb","blynkCb","awsSub","azureSub","tencentSub","iotBlynkCb","aliSub","azurePnPCb","toioCb","blePeripheralCb"].forEach(t=>{let i=window.Blockly[t].findIndex(t=>t.id===e.blockId);window.Blockly[t].splice(i,1)}),window.Blockly.RemotePlus.findIndex(t=>t.blockId===e.blockId)>-1&&this.globalOperatorSrv.removeRemotePlusById("block",e.blockId),0===this.storage.length&&this.storeSrv.erweima.next(!1),e.ids.length>0&&e.ids.forEach(e=>{this.deleteEventBlock(e)}),0===this.getPnPInitBlockNum()&&this.pnpSrv.disablePnP(),this.storeSrv.pnpEnable.value&&this.pnpSrv.checkAllPnpBlock();break;case"click":if(window.BlocklyEditor.toolbox_.selectedItem_&&window.BlocklyEditor.toolbox_.setSelectedItem(null),!e.blockId||"setup_block"===e.blockId)return;let p=this.workspace.getBlockById(e.blockId);if(null==p||p.isShadow_)return;if(null==window.dblclickObj)return void(window.dblclickObj={block:p,timestamp:Date.now()});if(window.dblclickObj.block===p){if(Date.now()-window.dblclickObj.timestamp<=300){if(["create_publish_key","create_tencent_publish_key","text_copy"].indexOf(t.type)>-1||["ezdata_async_get_value_cb","ezdata_async_set_value_cb","ezdata_async_get_list_value_cb","ezdata_async_set_list_value_cb","ezdata_async_remove_cb","ezdata_async_get_iso_date_cb","iotbase_ezdata_async_get_value_cb","iotbasecatm_ezdata_async_get_value_cb","com_cat1_ezdata_async_get_value_cb","uhf_rfid_callback","dtu_cat1_ezdata_async_get_value_cb","lan_base_ezdata_async_get_value_cb","unit_poesp32_receive_tcp_packet_cb","unit_poesp32_mqtt_receive_cb","base_poe_ezdata_async_get_value_cb","unit_catm_ezdata_async_get_value_cb","unit_catm_gnss_ezdata_async_get_value_cb","cbacknbiot_ezdata_async_get_value_cb","atom_poe_ezdata_async_get_value_cb","cbacknbiot_ezdata_async_get_value_cb","stamp_catm_ezdata_async_get_value_cb","module_lan_ezdata_async_get_value_cb","unit_lorae220_receive_in_loop_cb","unit_lorae220433_receive_in_loop_cb"].indexOf(t.type)>-1)return;return window.Blockly.duplicate(p),void(this.isDblClick=!0)}window.dblclickObj={block:p,timestamp:Date.now()}}else window.dblclickObj={block:p,timestamp:Date.now()};break;case"change":for(var o=0;o<window.Blockly.RemoteV2.length;o++)window.Blockly.RemoteV2[o].id==e.blockId&&""!=e.newValue&&(window.Blockly.RemoteV2[o].name=e.newValue,window.Blockly.RemoteV2[o].bindingKey=e.newValue);if(!window.BlocklyEditor.getBlockById(e.blockId))return;if(window.BlocklyEditor.getBlockById(e.blockId).type&&"variables_set"===window.BlocklyEditor.getBlockById(e.blockId).type&&window.Blockly.Python.workspaceToCode(window.BlocklyEditor),"disabled"===e.element&&!e.newValue&&e.oldValue&&sessionStorage.getItem("_type")===src_app_utils_common_data__WEBPACK_IMPORTED_MODULE_0__.__.COREINK&&("screen_set_show"===t.type||"screen_set_paritalshow"===t.type)&&this.globalOperatorSrv.createMessageBox().instance.warning("Warning: Please avoid using high refresh rates, recommended refresh rate is(15s/per refresh)."),"text"===t.type&&"TEXT"===e.name&&""!==e.oldValue){let i=t.getSurroundParent();"azure_pnp_init_central"===i.type&&i.getInput("model_id").connection.targetConnection.sourceBlock_.id===t.id&&e.newValue!==this.pnpSrv.modelId.value&&this.pnpSrv.setModelId(e.newValue)}this.storeSrv.pnpEnable.value&&/azure_pnp_/.test(t.type)&&"azure_pnp_init_central"!==t.type&&t.component&&(/^(azure_pnp_).+_child$/.test(t.type)?/^(azure_pnp_).+_child$/.test(t.type)&&"disabled"===e.element&&(e.newValue?this.pnpSrv.delModelSingleContent(this.getPnPCategoryByBlockType(t.type),t.component,t.key):this.pnpSrv.addModelSingleContent(this.getPnPCategoryByBlockType(t.type),t.component,t.key)):("disabled"!==e.element||e.newValue?"disabled"===e.element&&e.newValue&&(/^(azure_pnp_).+_cb$/.test(t.type)?this.pnpSrv.delModelCBComponent(this.getPnPCategoryByBlockType(t.type),t):this.pnpSrv.checkAllPnpBlock()):/^(azure_pnp_).+_cb$/.test(t.type)?this.pnpSrv.addModelCBComponent(this.getPnPCategoryByBlockType(t.type),t):this.pnpSrv.addModelComponent(this.getPnPCategoryByBlockType(t.type),t),"field"===e.element&&"component"===e.name&&(/^(azure_pnp_).+_cb$/.test(t.type)?e.oldValue&&this.pnpSrv.checkAllPnpBlock():e.oldValue&&e.newValue?this.pnpSrv.checkAllPnpBlock():!e.oldValue&&e.newValue?this.pnpSrv.addModelComponent(this.getPnPCategoryByBlockType(t.type),t):e.newValue||this.pnpSrv.delModelComponent(t.type,e.oldValue))),"field"===e.element&&["command","property"].indexOf(e.name)>-1&&this.pnpSrv.addModelCBComponent(this.getPnPCategoryByBlockType(t.type),t));break;default:return}}checkDisabled(e){let t=["unit_button_callback","unit_dual_button_callback","mqtt_sub","finger_read","lorawan_initrx","procedures_defnoreturn","procedures_defreturn","button_callback","button_multiBtnCb","remote_add_switch","remote_add_button","remote_add_slider","remote_add_input","remote_add_label","remote_add_statistics","remote_add_time","finger_read","finger_getUnknown","faces_finger_getUnknown","hat_finger_read","hat_finger_getUnknown","faces_finger_read","timer_callback","espnow_recv_cb","espnow_send_cb","create_remote_chart","create_remote_button","create_remote_slider","create_remote_switch","modbus_master_recv_cb","modbus_slave_write_cb","blynk_event_write","blynk_event_read","blynk_on_event","ble_uart_on_recv","echo_stt_recv_data","button_set_cb","switch_set_cb","slider_set_cb","checkbox_set_cb","aws_sub","azure_sub","tencent_sub","tencent_sub_msg","iot_blynk_event_write","iot_blynk_event_read","azure_sub_direct","azure_sub_twin_desired","unit_ir_nec_cb","nbiot_mqtt_sub_cb","aliiot_sub_user","aliiot_sub_raw","aliiot_sub_shadow","unit_nbiot_mqtt_sub_cb","remoteplus_add_button","remoteplus_add_switch","remoteplus_add_slider","remoteplus_add_label","remoteplus_add_input","remoteplus_add_image","base_dtunb_mqtt_sub_cb","remoteplus_add_stepper","remoteplus_add_chart","remoteplus_add_joystick","remoteplus_add_gauge","lora433_callback","lora868_callback","remoteplus_add_title","unit_mqtt_sub_cb","iotbase_mqtt_sub_cb","iotbasecatm_mqtt_sub_cb","ezdata_async_get_value_cb","ezdata_async_set_value_cb","ezdata_async_get_list_value_cb","ezdata_async_set_list_value_cb","ezdata_async_remove_cb","ezdata_async_get_iso_date_cb","iotbase_ezdata_async_get_value_cb","iotbasecatm_ezdata_async_get_value_cb","com_cat1_ezdata_async_get_value_cb","uhf_rfid_callback","com_cat1_mqtt_sub_cb","dtu_cat1_mqtt_sub_cb","dtu_cat1_ezdata_async_get_value_cb","lan_base_ezdata_async_get_value_cb","unit_poesp32_receive_tcp_packet_cb","unit_poesp32_mqtt_receive_cb","unit_catm_ezdata_async_get_value_cb","unit_catm_mqtt_sub_cb","unit_catm_gnss_ezdata_async_get_value_cb","unit_catm_gnss_mqtt_sub_cb","hat_cbacknbiot_mqtt_sub_cb","azure_pnp_command_cb","azure_pnp_property_cb","toio_on_notify_cb","toio_on_read_recv_cb","lan_base_mqtt_sub_cb","base_poe_mqtt_sub_cb","base_poe_ezdata_async_get_value_cb","cbacknbiot_ezdata_async_get_value_cb","m5_espnow_recv_cb","m5_espnow_send_cb","ble_peripheral_recv_cb","ble_central_scan_cb","ble_central_recv_cb","atom_poe_mqtt_sub_cb","atom_poe_ezdata_async_get_value_cb","cbacknbiot_ezdata_async_get_value_cb","timer_timer3_callback","stamp_catm_ezdata_async_get_value_cb","stamp_catm_mqtt_sub_cb","unit_neco_button_callback","module_lan_ezdata_async_get_value_cb","module_lan_mqtt_sub_cb","unit_lorae220_receive_in_loop_cb","unit_lorae220433_receive_in_loop_cb","iot_blynk2_event_read","iot_blynk2_event_read_pin","hat_bugc2_rx_cb","unit_nbiot2_mqtt_subscribe_topic_cb","atom_qrcode2_set_callback","unit_tmos_callback"];if("setup_block"===e.id||t.indexOf(e.type)>-1)return!1;let i=this.workspace.getBlockById(e.id).getRootBlock();return"setup_block"!==i.id&&t.indexOf(i.type)<0}bindButtonCallback(opts){let _this=this;this.workspace.registerButtonCallback("openScreenSimulator",function(){_this.screenSimulatorSrv.open("display_module")}),this.workspace.registerButtonCallback("addThirdPartyBlockHandler",function(){let fileDom=document.getElementById("__openM5BBox");fileDom.click(),fileDom.onchange=ev=>{if(0===ev.target.files.length)return;let reader=new FileReader;reader.readAsText(ev.target.files[0],"utf8"),reader.onload=e=>{let dataStr=e.target.result;try{let data=JSON.parse(dataStr),toolboxDom=document.getElementById(opts.toolboxId);eval(data.jscode),toolboxDom.children[toolboxDom.children.length-1].append(window.Blockly.Xml.textToDom(`<category name="${data.category}" colour="${data.color}">${data.blocks.map(e=>`<block type="${e}"></block>`).join("")}</category>`));let tempBlock=window.Blockly.Xml.workspaceToDom(window.BlocklyEditor);_this.storeSrv.loddingMODE.next(!0),_this.init(opts,function(){window.BlocklyEditor.clear(),window.Blockly.Xml.domToWorkspace(tempBlock,window.BlocklyEditor)});let newBlocks=[];data.blocks.forEach(e=>{newBlocks.push({kind:"block",type:`${e}`})});let newcategory={kind:"category",name:`${data.category}`,colour:`${data.color}`,contents:newBlocks},customToolbox=window.BlocklyEditor.toolbox_.getToolboxItemById("custom"),customTemp=customToolbox.getContents();customToolbox.toolboxItems_&&customToolbox.getChildToolboxItems().forEach(e=>{customTemp.push(e.toolboxItemDef_)}),customTemp.push(newcategory),window.BlocklyEditor.toolbox_.getToolboxItemById("custom").updateFlyoutContents(customTemp),setTimeout(()=>{_this.storeSrv.componentList.next(_this.storeSrv.componentList.value),_this.storeSrv.unitList.next(_this.storeSrv.unitList.value),_this.storeSrv.hatList.next(_this.storeSrv.hatList.value),_this.storeSrv.stampList.next(_this.storeSrv.stampList.value)},1100),ev.target.value=null}catch(ie){console.log(ie)}}}}),this.workspace.registerButtonCallback("dataStructureDocs",function(e){window.open(`${_this.url}uiflow/blockly/generic/data_structure?id=${e.info.url}`)}),this.workspace.registerButtonCallback("thirdPartyLink",function(e){switch(e.info.url){case"tello":window.open("https://www.hackster.io/gperrella/m5-block-dji-tello-drone-control-c2646f");break;case"mycobot":case"mycobotpro":window.open("https://github.com/elephantrobotics/myCobot");break;case"toio":window.open("https://toio.io/");break;case"toio-spec":window.open("https://toio.github.io/toio-spec/en/docs/ble_communication_overview")}}),this.workspace.registerButtonCallback("logicDocs",function(e){let t=e.info.url;switch(t){case"functions":case"iteration":case"logic":window.open(`${_this.url}uiflow/blockly/generic/logic?id=${t}`);break;case"blockly_custom":window.open(`${_this.url}uiflow/blockly/blockly_custom/${t}`);break;case"graphic":case"emoji":case"screen":window.open(`${_this.url}uiflow/blockly/display/graphic`)}}),this.workspace.registerButtonCallback("hardwareDocs",function(e){window.open(`${_this.url}uiflow/blockly/hardwares/${e.info.url}`)}),this.workspace.registerButtonCallback("atomDocs",function(e){window.open(`${_this.url}atom/${e.info.url}${"null"===e.info.urlId?"":"?id=uiflow"}`)}),this.workspace.registerButtonCallback("unitsDocs",function(e){let t=e.info.url,i="null"===e.info.urlId?"":"?id=uiflow";switch(t){case"v_function":window.open(`${_this.url}quick_start/unitv/v_function`);break;case"timer_cam":window.open(`${_this.url}quick_start/timer_cam/uiflow`);break;case"ac_socket":window.open(`${_this.url}app/ac_socket`);break;case"servo_kit":window.open(`https://docs.m5stack.com/en/accessory/servo_kit${i}`);break;default:window.open(`${_this.url}unit/${t}${i}`)}}),this.workspace.registerButtonCallback("hatDocs",function(e){let t=e.info.url,i="null"===e.info.urlId?"":"?id=uiflow";switch(t){case"envII":case"envIII":case"8servos_1.1":case"dlight":case"heart_rate":window.open(`${_this.url}hat/hat_${t}${i}`);break;case"c_back_driver":case"c_back_nbiot_cn":case"C-BACK%20NB-IoT(SIM7020G)":case"MiniEncoderC%20Hat":case"MiniJoyC":case"Hat-SPK2":window.open(`${_this.url}hat/${t}${i}`);break;case"balac":window.open(`${_this.url}app/balac_plus?id=uiflow`);break;default:window.open(`${_this.url}hat/hat-${t}${i}`)}}),this.workspace.registerButtonCallback("stampDocs",function(e){window.open(`${_this.url}stamp/${e.info.url}${"null"===e.info.urlId?"":"?id=uiflow"}`)}),this.workspace.registerButtonCallback("skuDocs",function(e){window.open(`https://docs.m5stack.com/en/products/sku/${e.info.url}${"null"===e.info.urlId?"":"?id=uiflow"}`)}),this.workspace.registerButtonCallback("iotDocs",function(e){window.open(`${_this.url}uiflow/blockly/iot_cloud/${e.info.url}`)}),this.workspace.registerButtonCallback("iotservice",function(e){window.open(`${_this.url}uiflow/blockly/ezdata/${e.info.url}`)}),this.workspace.registerButtonCallback("modulesDocs",function(e){let t=e.info.url;switch(t){case"goplus2":case"servo2":case"grbl13.2":case"stepmotor_driver":case"lora":case"lora868":case"comx_nb-iot":case"comx_lorawan470":case"comx_lorawan915":case"comx_lte":case"comx_gsm":case"comx_cat1":case"usb":case"faces_calculator":case"encoder":case"faces_finger":case"faces_gameboy":case"faces_keyboard":case"faces_rfid":case"lego_plus":case"joystick":case"4in8out":case"comx_zigbee":case"2Relay":case"commu":case"plus":case"gps":case"DualKmeter%20Module13.2":case"RS232F%20Module%2013.2":case"RS232M%20Module%2013.2":case"HMI%20Module":case"dmx":case"Display%20Module%2013.2":case"AIN4-20mA%20Module%2013.2":case"4Relay":case"4Relay%20Module%2013.2_V1.1":case"GNSS%20Module":case"LAN%20Module%2013.2":window.open(`${_this.url}module/${t}`);break;case"w5500PoE":case"lan_v12":case"iot_base_nb_cn":case"iot_base_catm":case"pm2.5":case"basex":window.open(`${_this.url}base/${t}`);break;case"servo":case"stepmotor":"null"===e.info.urlId?window.open(`${_this.url}module/${t}`):window.open(`${_this.url}uiflow/Modules?id=${t}`);break;case"bala2":case"bala2fire":window.open(`https://docs.m5stack.com/en/app/${t}`);break;case"pm25_sht30":window.open("https://docs.m5stack.com/en/app/PM2.5%20Air%20Quality%20Kit\uff08SHT30\uff09");break;default:window.open(`${_this.url}uiflow/Modules?id=${t}`)}}),this.workspace.registerButtonCallback("facesDocs",function(e){window.open(`${_this.url}uiflow/blockly/extension/face_panel?id=${e.info.url}`)}),this.workspace.registerButtonCallback("advancedDocs",function(e){let t=e.info.url;switch(t){case"pin-servo":window.open(`${_this.url}uiflow/blockly/advanced/pin?id=${t}`);break;default:window.open(`${_this.url}uiflow/blockly/advanced/${t}`)}}),this.workspace.registerButtonCallback("quickstartLink",function(e){"timer_cam"===e.info.url&&window.open(`${_this.url}quick_start/timer_cam/uiflow`)}),this.workspace.registerButtonCallback("unitEncoderFirmware",function(e){window.open("https://github.com/m5stack/M5UnitEncoder_Firmware")}),this.workspace.registerButtonCallback("i2cmap",function(e){window.open(`https://docs.m5stack.com/en/products/sku/${e.info.url}?id=protocol`)}),this.workspace.registerButtonCallback("links",function(e){window.open(e.info.url)}),this.workspace.registerButtonCallback("selected",function(e){if(window.BlocklyEditor.getFlyout().isVisible_){let i=window.BlocklyEditor.getFlyout(),n=[].concat(i.buttons_),o=[].concat(i.mats_);for(let e=0;e<o.length;e++)void 0===o[e]&&(o[e]=n.shift());let r=o.findIndex(t=>t.svgGroup_===e.svgGroup_),s=parseInt(i.mats_[r+1].getAttribute("height"))+20;i.mats_[r+1].nextElementSibling.style.display=(t="none"===i.mats_[r+1].nextElementSibling.style.display)?"block":"none",i.mats_[r+1].style.display=t?"block":"none",e.svgGroup_.lastChild.textContent=t?e.svgGroup_.lastChild.textContent.replace("\u25b6","\u25bc"):e.svgGroup_.lastChild.textContent.replace("\u25bc","\u25b6"),_this.moveFlyoutBlockPosition(r+2,o,i,t,s),window.BlocklyEditor.getFlyout().position()}var t}),this.workspace.registerButtonCallback("selectedCollapse",function(e){if(window.BlocklyEditor.getFlyout().isVisible_){let t=window.BlocklyEditor.getFlyout(),i=[].concat(t.buttons_),n=[].concat(t.mats_);for(let e=0;e<n.length;e++)void 0===n[e]&&(n[e]=i.shift());let o=n.findIndex(t=>t.svgGroup_===e.svgGroup_),r=[];n.forEach((e,t)=>{e.cssClass_&&["blockly-title-pointer--style","ezdata-subclass-link--style","blockly-button--style","blockly-divider-nowidth"].indexOf(e.cssClass_)>-1&&r.push(t)});let s=r[r.indexOf(o)+1]||t.mats_.length,a=!1,l=n[o+1];a=l.nextElementSibling?"none"===l.nextElementSibling.style.display:"none"===l.svgGroup_.style.display;for(let e=o+1;e<s;e++)n[e].nextElementSibling?(n[e].nextElementSibling.style.display=a?"block":"none",n[e].style.display=a?"block":"none"):n[e].svgGroup_.style.display=a?"block":"none";if(e.svgGroup_.lastChild.textContent=a?e.svgGroup_.lastChild.textContent.replace("\u25b6","\u25bc"):e.svgGroup_.lastChild.textContent.replace("\u25bc","\u25b6"),s<t.mats_.length){let e=parseInt(n[s].getPosition().y)-parseInt(n[o].getPosition().y)-parseInt(n[o].height)-20;_this.moveFlyoutBlockPosition(s,n,t,a,e)}window.BlocklyEditor.getFlyout().position()}}),this.workspace.registerButtonCallback("subClassCollapse",function(e){if(window.BlocklyEditor.getFlyout().isVisible_){let t=window.BlocklyEditor.getFlyout(),i=[].concat(t.buttons_),n=[].concat(t.mats_);for(let e=0;e<n.length;e++)void 0===n[e]&&(n[e]=i.shift());let o=n.findIndex(t=>t.svgGroup_===e.svgGroup_),r=[];n.forEach((e,t)=>{e.cssClass_&&["blockly-subclass-pointer--style","ezdata-subclass-link--style","blockly-button--style","blockly-divider-nowidth"].indexOf(e.cssClass_)>-1&&r.push(t)});let s=r[r.indexOf(o)+1]||t.mats_.length,a=!1,l=n[o+1];a=l.nextElementSibling?"none"===l.nextElementSibling.style.display:"none"===l.svgGroup_.style.display;for(let e=o+1;e<s;e++)n[e].nextElementSibling?(n[e].nextElementSibling.style.display=a?"block":"none",n[e].style.display=a?"block":"none"):n[e].svgGroup_.style.display=a?"block":"none";if(e.svgGroup_.lastChild.textContent=a?e.svgGroup_.lastChild.textContent.replace("\u25b6","\u25bc"):e.svgGroup_.lastChild.textContent.replace("\u25bc","\u25b6"),s<t.mats_.length){let e=parseInt(n[s].getPosition().y)-parseInt(n[o].getPosition().y)-parseInt(n[o].height)-20;_this.moveFlyoutBlockPosition(s,n,t,a,e)}window.BlocklyEditor.getFlyout().position()}}),this.workspace.registerButtonCallback("RunExamples",function(e){null!==e.info.fileName&&_this.uploadSrv.jumpExamplesRoute(e.info.fileName)}),this.workspace.registerButtonCallback("goToBlockMakerHandler",function(){window.open("http://block-maker.m5stack.com")}),this.workspace.registerButtonCallback("goToBlockUserManual",function(){window.open("https://docs.m5stack.com/en/uiflow/blockly/blockly_custom/blockly_custom?id=create-block")}),this.workspace.registerButtonCallback("ezdataDebuggerLink",function(){_this.ezDataToken?window.open(`https://ezdata.m5stack.com/debugger/?token=${_this.ezDataToken}`):window.open("https://ezdata.m5stack.com/debugger/")}),this.workspace.registerButtonCallback("i2cAddrLink",function(){window.open("https://docs.m5stack.com/en/product_i2c_addr")}),this.workspace.registerButtonCallback("copyEzDataToken",function(e){if(""===_this.ezDataToken)return;new window.ClipboardJS(".blocklyText",{text:(function(){return _this.ezDataToken}).bind(_this)});let t=e.svgGroup_;if(t.childNodes[3])return;let i=1*t.childNodes[2].getAttribute("x"),n=1*t.childNodes[2].getAttribute("y");window.Blockly.utils.dom.createSvgElement(window.Blockly.utils.Svg.TEXT,{class:"blocklyText",x:i+55,y:n,"text-anchor":"middle"},t).textContent="Copied";let o=setTimeout(()=>{t.childNodes[3]&&t.childNodes[3].remove(),clearTimeout(o)},3e3)}),this.workspace.registerButtonCallback("setEzDataToken",function(e){let t=window.BlocklyEditor.toolbox_.selectedItem_;sweetalert2__WEBPACK_IMPORTED_MODULE_3___default().fire({icon:"info",title:"Set Current Token",input:"text",inputValue:_this.ezDataToken,showCancelButton:!0,showDenyButton:!0,confirmButtonColor:window.Blockly.Msg.SWAL_PRIMARY_HUE,cancelButtonColor:window.Blockly.Msg.SWAL_GRAY_HUE,denyButtonColor:window.Blockly.Msg.SWAL_DANGER_HUE,confirmButtonText:"Confirm",denyButtonText:"Get New Token",allowOutsideClick:!1,inputValidator(e){if(!/^[a-z0-9]{32}$/gi.test(e))return"Incorrect format"},preConfirm:e=>fetch(`https://ezdata.m5stack.com/api/store/keys/${e}`).then(t=>{if(200===t.status)return e;sweetalert2__WEBPACK_IMPORTED_MODULE_3___default().showValidationMessage("Invalid token")})}).then(e=>{if(e.isDenied)sweetalert2__WEBPACK_IMPORTED_MODULE_3___default().fire({icon:"warning",text:"Are you sure to get a new EzData token ?",showCancelButton:!0,confirmButtonColor:window.Blockly.Msg.SWAL_DANGER_HUE,cancelButtonColor:window.Blockly.Msg.SWAL_GRAY_HUE,confirmButtonText:"Confirm"}).then(e=>{if(!e.isConfirmed)return!1;_this.uploadSrv.getDataToken().subscribe(e=>{1===e.status&&""!==e.data.accessKey&&(sweetalert2__WEBPACK_IMPORTED_MODULE_3___default().fire({icon:"success",text:"Success",confirmButtonColor:window.Blockly.Msg.SWAL_PRIMARY_HUE}),_this.ezDataToken=e.data.accessKey,localStorage.setItem(src_app_utils_common_data__WEBPACK_IMPORTED_MODULE_0__.k2.DATA_TOKEN,_this.ezDataToken),window.BlocklyEditor.toolbox_.setSelectedItem(null),window.BlocklyEditor.toolbox_.setSelectedItem(t))},e=>{sweetalert2__WEBPACK_IMPORTED_MODULE_3___default().fire({icon:"error",text:"Fail",confirmButtonColor:window.Blockly.Msg.SWAL_PRIMARY_HUE})})});else{if(!e.isConfirmed)return!1;{const i=e.value;if(sweetalert2__WEBPACK_IMPORTED_MODULE_3___default().fire({icon:"success",text:"Success",confirmButtonColor:window.Blockly.Msg.SWAL_PRIMARY_HUE}),i===_this.ezDataToken)return;_this.ezDataToken=i,localStorage.setItem(src_app_utils_common_data__WEBPACK_IMPORTED_MODULE_0__.k2.DATA_TOKEN,_this.ezDataToken),window.BlocklyEditor.toolbox_.setSelectedItem(null),window.BlocklyEditor.toolbox_.setSelectedItem(t)}}})}),this.workspace.registerToolboxCategoryCallback("EVENT",function(e){let t=[_this.getExamplesBtn("timer_demo","Timer")],i=[_this.getBlock("basic_on_loop"),_this.getBlock("button_pin_init",[{name:"pin",num:21}]),_this.getBlock("button_callback"),_this.getBlock("button_state"),_this.getBlock("button_multiBtnCb"),_this.getBlock("button_ispressed"),'<button text="When using a software timer, do not use a hardware timer " \n          web-class="blockly-tip--style"></button>\n        ','<sep gap="0"></sep>','<button text="or When using a hardware timer, do not use a software timer" \n          web-class="blockly-tip--style"></button>\n        ','<sep gap="8"></sep>',_this.getSubClass("Software Timer"),_this.getBlock("timer_callback"),_this.getBlock("timer_setTimerAttr",[{name:"period",num:100}]),_this.getBlock("timer_setStart",[{name:"period",num:100}]),_this.getBlock("timer_setStop"),_this.getSubClass("Hardware Timer"),_this.getBlock("timer_hardware_timer3_init",[{name:"period",num:1}]),_this.getBlock("timer_timer3_callback")];const n=sessionStorage.getItem("_type")||src_app_utils_common_data__WEBPACK_IMPORTED_MODULE_0__.__.CORE;return i=t.concat(i),i.unshift('<button text="%{BKY_EVENT}" web-class="blockly-title--style nounderline"></button>'),[src_app_utils_common_data__WEBPACK_IMPORTED_MODULE_0__.__.ATOM_MATRIX,src_app_utils_common_data__WEBPACK_IMPORTED_MODULE_0__.__.ATOM,src_app_utils_common_data__WEBPACK_IMPORTED_MODULE_0__.__.ATOM_U,src_app_utils_common_data__WEBPACK_IMPORTED_MODULE_0__.__.ATOM_DISPLAY,src_app_utils_common_data__WEBPACK_IMPORTED_MODULE_0__.__.CORETWO,src_app_utils_common_data__WEBPACK_IMPORTED_MODULE_0__.__.COREINK,src_app_utils_common_data__WEBPACK_IMPORTED_MODULE_0__.__.PAPER,src_app_utils_common_data__WEBPACK_IMPORTED_MODULE_0__.__.PICO].indexOf(n)>-1&&i.splice(6,1),n===src_app_utils_common_data__WEBPACK_IMPORTED_MODULE_0__.__.TOUGH&&i.splice(3,5),_this.getBlocklyXMLList(i)}),this.workspace.registerToolboxCategoryCallback("SCREEN",function(e){let t=[_this.getTitleBlock("%{BKY_SCREEN}","logicDocs","screen"),_this.getBlock("screen_set_bgcolor"),_this.getBlock("screen_set_bgcolor_rgb",[{name:"R",slider:0,min:0,max:255},{name:"G",slider:0,min:0,max:255},{name:"B",slider:0,min:0,max:255}]),'<block type="screen_set_bgcolor_input" >\n            <value name="COLOR">\n              <block type="color_rgb_palette">\n              </block>\n            </value>\n          </block>',_this.getBlock("screen_set_rotate"),_this.getBlock("screen_set_brightness",[{name:"BRIGHTNESS",slider:30}])];const i=sessionStorage.getItem("_type")||src_app_utils_common_data__WEBPACK_IMPORTED_MODULE_0__.__.CORE;let n=_this.getBlock("screen_set_show"),o=_this.getBlock("screen_set_paritalshow",[{name:"x",num:0},{name:"y",num:0},{name:"w",num:0},{name:"h",num:0}]);return i===src_app_utils_common_data__WEBPACK_IMPORTED_MODULE_0__.__.CORETWO||i===src_app_utils_common_data__WEBPACK_IMPORTED_MODULE_0__.__.TOUGH?(t.splice(4,1),t.push(_this.getBlock("screen_set_clean"))):i===src_app_utils_common_data__WEBPACK_IMPORTED_MODULE_0__.__.COREINK?(t.splice(1,4),t.pop(),t.push(_this.getBlock("screen_set_bgcolor_gray")),t.push(n),t.push(o),t.push(_this.getBlock("screen_set_sethv",[{name:"HV",num:0}]))):i===src_app_utils_common_data__WEBPACK_IMPORTED_MODULE_0__.__.PAPER?(t.splice(1,4),t.pop(),t.push(_this.getBlock("screen_set_bgcolor_paper")),t.push(n),t.push(o)):i===src_app_utils_common_data__WEBPACK_IMPORTED_MODULE_0__.__.ATOM_DISPLAY&&t.pop(),_this.storeSrv.getPnpEnable().subscribe(e=>{if(e){let e=_this.getPnpBlock("screen");e.length>1&&(t.push(_this.getDivider(429)),t=t.concat(e))}}),_this.getBlocklyXMLList(t)}),this.workspace.registerToolboxCategoryCallback("LABEL",function(e){let t=[_this.getBlock("label_set_text",[{name:"TEXT",text:"Hello M5"}]),_this.getBlock("label_set_position",[{name:"X",num:0},{name:"Y",num:0}]),_this.getBlock("label_set_position_x",[{name:"X",num:0}]),_this.getBlock("label_set_position_y",[{name:"Y",num:0}]),_this.getBlock("label_set_color"),_this.getBlock("label_set_color_rgb",[{name:"R",slider:0,min:0,max:255},{name:"G",slider:0,min:0,max:255},{name:"B",slider:0,min:0,max:255}]),'<block type="label_set_color_input" >\n            <value name="COLOR">\n              <block type="color_rgb_palette">\n              </block>\n            </value>\n        </block>',_this.getBlock("label_set_font"),_this.getBlock("label_set_mode"),_this.getBlock("label_set_rotate",[{name:"Y",num:0}])];const i=sessionStorage.getItem("_type")||src_app_utils_common_data__WEBPACK_IMPORTED_MODULE_0__.__.CORE;return i===src_app_utils_common_data__WEBPACK_IMPORTED_MODULE_0__.__.CORETWO||i===src_app_utils_common_data__WEBPACK_IMPORTED_MODULE_0__.__.TOUGH?(t.splice(2,2),t.pop(),t.push(_this.getBlock("label_set_align",[{name:"X",num:0},{name:"Y",num:0}])),t.push(_this.getBlock("label_set_text_mode")),t.push(_this.getBlock("label_set_width",[{name:"w",num:0}])),t.push(_this.getBlock("label_get_width"))):i===src_app_utils_common_data__WEBPACK_IMPORTED_MODULE_0__.__.COREINK?(t.splice(4,3),t.push(_this.getBlock("label_set_color_gray"))):i===src_app_utils_common_data__WEBPACK_IMPORTED_MODULE_0__.__.PAPER&&(t.splice(4,3),t.push(_this.getBlock("label_set_color_paper"))),_this.getBlocklyXMLList(t)}),this.workspace.registerToolboxCategoryCallback("LABELPLUS",function(e){let t=[_this.getBlock("labelplus_set_text",[{name:"TEXT",text:"Hello M5"}]),_this.getBlock("labelplus_is_valid_data"),_this.getBlock("labelplus_get_display_data"),_this.getBlock("labelplus_set_update"),_this.getBlock("labelplus_set_interval",[{name:"interval",num:1e3}]),_this.getBlock("labelplus_set_position",[{name:"X",num:0},{name:"Y",num:0}]),_this.getBlock("labelplus_set_position_x",[{name:"X",num:0}]),_this.getBlock("labelplus_set_position_y",[{name:"Y",num:0}]),_this.getBlock("labelplus_set_color"),_this.getBlock("labelplus_set_color_rgb",[{name:"R",slider:0,min:0,max:255},{name:"G",slider:0,min:0,max:255},{name:"B",slider:0,min:0,max:255}]),'<block type="labelplus_set_color_input" >\n            <value name="COLOR">\n              <block type="color_rgb_palette">\n              </block>\n            </value>\n        </block>',_this.getBlock("labelplus_set_font"),_this.getBlock("labelplus_set_mode"),_this.getBlock("labelplus_set_rotate",[{name:"Y",num:0}])];const i=sessionStorage.getItem("_type")||src_app_utils_common_data__WEBPACK_IMPORTED_MODULE_0__.__.CORE;return i===src_app_utils_common_data__WEBPACK_IMPORTED_MODULE_0__.__.CORETWO||i===src_app_utils_common_data__WEBPACK_IMPORTED_MODULE_0__.__.TOUGH?(t.splice(6,2),t.pop(),t.push(_this.getBlock("labelplus_set_align",[{name:"X",num:0},{name:"Y",num:0}])),t.push(_this.getBlock("labelplus_set_text_mode")),t.push(_this.getBlock("labelplus_set_width",[{name:"w",num:0}])),t.push(_this.getBlock("labelplus_get_width"))):i===src_app_utils_common_data__WEBPACK_IMPORTED_MODULE_0__.__.COREINK?(t.splice(8,3),t.push(_this.getBlock("labelplus_set_color_gray"))):i===src_app_utils_common_data__WEBPACK_IMPORTED_MODULE_0__.__.PAPER&&(t.splice(8,3),t.push(_this.getBlock("labelplus_set_color_paper"))),_this.getBlocklyXMLList(t)}),this.workspace.registerToolboxCategoryCallback("RECT",function(e){let t=[_this.getBlock("rect_set_size",[{name:"WIDTH",num:30},{name:"HEIGHT",num:30}]),_this.getBlock("rect_set_size_width",[{name:"WIDTH",num:30}]),_this.getBlock("rect_set_size_height",[{name:"HEIGHT",num:30}]),_this.getBlock("rect_set_position",[{name:"X",num:0},{name:"Y",num:0}]),_this.getBlock("rect_set_position_x",[{name:"X",num:0}]),_this.getBlock("rect_set_position_y",[{name:"Y",num:0}]),_this.getBlock("rect_set_bgcolor"),_this.getBlock("rect_set_bgcolor_rgb",[{name:"R",slider:0,min:0,max:255},{name:"G",slider:0,min:0,max:255},{name:"B",slider:0,min:0,max:255}]),'<block type="rect_set_bgcolor_input" >\n          <value name="COLOR">\n            <block type="color_rgb_palette">\n            </block>\n          </value>\n        </block>',_this.getBlock("rect_set_bordercolor"),_this.getBlock("rect_set_bordercolor_rgb",[{name:"R",slider:0,min:0,max:255},{name:"G",slider:0,min:0,max:255},{name:"B",slider:0,min:0,max:255}]),'<block type="rect_set_bordercolor_input" >\n            <value name="COLOR">\n              <block type="color_rgb_palette">\n              </block>\n            </value>\n          </block>',_this.getBlock("rect_set_mode")];const i=sessionStorage.getItem("_type")||src_app_utils_common_data__WEBPACK_IMPORTED_MODULE_0__.__.CORE;return i===src_app_utils_common_data__WEBPACK_IMPORTED_MODULE_0__.__.COREINK?(t.splice(6,6),t.push(_this.getBlock("rect_set_bordercolor_gray")),t.push(_this.getBlock("rect_set_bgcolor_gray"))):i===src_app_utils_common_data__WEBPACK_IMPORTED_MODULE_0__.__.PAPER&&(t.splice(6,6),t.push(_this.getBlock("rect_set_bordercolor_paper")),t.push(_this.getBlock("rect_set_bgcolor_paper"))),_this.getBlocklyXMLList(t)}),this.workspace.registerToolboxCategoryCallback("CIRCLE",function(e){let t=[_this.getBlock("circle_set_size",[{name:"RADIUS",num:20}]),_this.getBlock("circle_set_position",[{name:"X",num:0},{name:"Y",num:0}]),_this.getBlock("circle_set_position_x",[{name:"X",num:0}]),_this.getBlock("circle_set_position_y",[{name:"Y",num:0}]),_this.getBlock("circle_set_bgcolor"),_this.getBlock("circle_set_bgcolor_rgb",[{name:"R",slider:0,min:0,max:255},{name:"G",slider:0,min:0,max:255},{name:"B",slider:0,min:0,max:255}]),'<block type="circle_set_bgcolor_input" >\n            <value name="COLOR">\n              <block type="color_rgb_palette">\n              </block>\n            </value>\n          </block>',_this.getBlock("circle_set_bordercolor"),_this.getBlock("circle_set_bordercolor_rgb",[{name:"R",slider:0,min:0,max:255},{name:"G",slider:0,min:0,max:255},{name:"B",slider:0,min:0,max:255}]),'<block type="circle_set_bordercolor_input" >\n            <value name="COLOR">\n              <block type="color_rgb_palette">\n              </block>\n            </value>\n          </block>',_this.getBlock("circle_set_mode")];const i=sessionStorage.getItem("_type")||src_app_utils_common_data__WEBPACK_IMPORTED_MODULE_0__.__.CORE;return i===src_app_utils_common_data__WEBPACK_IMPORTED_MODULE_0__.__.COREINK?(t.splice(4,6),t.push(_this.getBlock("circle_set_bordercolor_gray")),t.push(_this.getBlock("circle_set_bgcolor_gray"))):i===src_app_utils_common_data__WEBPACK_IMPORTED_MODULE_0__.__.PAPER&&(t.splice(4,6),t.push(_this.getBlock("circle_set_bordercolor_paper")),t.push(_this.getBlock("circle_set_bgcolor_paper"))),_this.getBlocklyXMLList(t)}),this.workspace.registerToolboxCategoryCallback("TITLE",function(e){let t=[_this.getBlock("title_set_text",[{name:"TEXT",text:"Title"}]),_this.getBlock("title_show"),_this.getBlock("title_hide"),_this.getBlock("title_set_color"),_this.getBlock("title_set_color_rgb",[{name:"R",slider:0,min:0,max:255},{name:"G",slider:0,min:0,max:255},{name:"B",slider:0,min:0,max:255}]),'<block type="title_set_color_input" >\n            <value name="COLOR">\n              <block type="color_rgb_palette">\n              </block>\n            </value>\n          </block>',_this.getBlock("title_set_bgcolor"),_this.getBlock("title_set_bgcolor_rgb",[{name:"R",slider:0,min:0,max:255},{name:"G",slider:0,min:0,max:255},{name:"B",slider:0,min:0,max:255}]),'<block type="title_set_bgcolor_input" >\n            <value name="COLOR">\n              <block type="color_rgb_palette">\n              </block>\n            </value>\n          </block>'];const i=sessionStorage.getItem("_type")||src_app_utils_common_data__WEBPACK_IMPORTED_MODULE_0__.__.CORE;return i===src_app_utils_common_data__WEBPACK_IMPORTED_MODULE_0__.__.COREINK?(t.splice(3,6),t.push(_this.getBlock("title_set_color_gray")),t.push(_this.getBlock("title_set_bgcolor_gray"))):i===src_app_utils_common_data__WEBPACK_IMPORTED_MODULE_0__.__.PAPER&&(t.splice(3,6),t.push(_this.getBlock("title_set_color_paper")),t.push(_this.getBlock("title_set_bgcolor_paper"))),_this.getBlocklyXMLList(t)}),this.workspace.registerToolboxCategoryCallback("TRIANGLE",function(e){let t=[_this.getBlock("triangle_set_size",[{name:"X1",num:0},{name:"Y1",num:0},{name:"X2",num:0},{name:"Y2",num:0},{name:"X3",num:0},{name:"Y3",num:0}]),_this.getBlock("triangle_set_bgcolor"),_this.getBlock("triangle_set_bgcolor_rgb",[{name:"R",slider:0,min:0,max:255},{name:"G",slider:0,min:0,max:255},{name:"B",slider:0,min:0,max:255}]),'<block type="triangle_set_bgcolor_input" >\n            <value name="COLOR">\n              <block type="color_rgb_palette">\n              </block>\n            </value>\n          </block>',_this.getBlock("triangle_set_bordercolor"),_this.getBlock("triangle_set_bordercolor_rgb",[{name:"R",slider:0,min:0,max:255},{name:"G",slider:0,min:0,max:255},{name:"B",slider:0,min:0,max:255}]),'<block type="triangle_set_bordercolor_input" >\n            <value name="COLOR">\n              <block type="color_rgb_palette">\n              </block>\n            </value>\n          </block>',_this.getBlock("triangle_set_mode")];const i=sessionStorage.getItem("_type")||src_app_utils_common_data__WEBPACK_IMPORTED_MODULE_0__.__.CORE;return i===src_app_utils_common_data__WEBPACK_IMPORTED_MODULE_0__.__.COREINK?(t.splice(1,6),t.push(_this.getBlock("triangle_set_bgcolor_gray")),t.push(_this.getBlock("triangle_set_bordercolor_gray"))):i===src_app_utils_common_data__WEBPACK_IMPORTED_MODULE_0__.__.PAPER&&(t.splice(1,6),t.push(_this.getBlock("triangle_set_bgcolor_paper")),t.push(_this.getBlock("triangle_set_bordercolor_paper"))),_this.getBlocklyXMLList(t)}),this.workspace.registerToolboxCategoryCallback("IMAGE",function(e){let t=[_this.getBlock("image_set_image"),_this.getBlock("image_show"),_this.getBlock("image_hide"),_this.getBlock("image_set_position",[{name:"X",num:0},{name:"Y",num:0}]),_this.getBlock("image_set_position_x",[{name:"X",num:0}]),_this.getBlock("image_set_position_y",[{name:"Y",num:0}])],i=[src_app_utils_common_data__WEBPACK_IMPORTED_MODULE_0__.__.CORETWO,src_app_utils_common_data__WEBPACK_IMPORTED_MODULE_0__.__.TOUGH],n=sessionStorage.getItem("_type")||src_app_utils_common_data__WEBPACK_IMPORTED_MODULE_0__.__.CORE;return i.indexOf(n)>-1&&(t.splice(1,2,_this.getBlock("image_set_image_network",[{name:"url",text:""}])),t.splice(2,0,_this.getBlock("image_set_align",[{name:"X",num:0},{name:"Y",num:0}])),t.splice(4,2),t=t.concat([_this.getBlock("image_set_hidden"),_this.getBlock("image_delete")])),[src_app_utils_common_data__WEBPACK_IMPORTED_MODULE_0__.__.CORE,src_app_utils_common_data__WEBPACK_IMPORTED_MODULE_0__.__.FIRE].includes(n)&&t.splice(1,0,_this.getBlock("image_set_image_sdcard",[{name:"url",text:"/sd/"}])),[src_app_utils_common_data__WEBPACK_IMPORTED_MODULE_0__.__.CORETWO,src_app_utils_common_data__WEBPACK_IMPORTED_MODULE_0__.__.TOUGH].includes(n)&&t.splice(1,0,_this.getBlock("image_set_image_sdcard_core2",[{name:"url",text:"/sd/"}])),_this.getBlocklyXMLList(t)}),this.workspace.registerToolboxCategoryCallback("IMAGEPLUS",function(e){let t=['<button text="%{BKY_IMAGEPLUS}" web-class="blockly-title--style nounderline"></button>',_this.getBlock("imageplus_set_update"),_this.getBlock("imageplus_set_interval",[{name:"interval",num:3e3}]),_this.getBlock("imageplus_set_position",[{name:"x",num:0},{name:"y",num:0}]),_this.getBlock("imageplus_set_display"),_this.getBlock("imageplus_is_valid")];return _this.getBlocklyXMLList(t)}),this.workspace.registerToolboxCategoryCallback("LINE",function(e){let t=[_this.getBlock("line_set_position",[{name:"X1",num:0},{name:"Y1",num:0},{name:"X2",num:0},{name:"Y2",num:0}]),_this.getBlock("line_set_color"),_this.getBlock("line_set_color_rgb",[{name:"R",slider:0,min:0,max:255},{name:"G",slider:0,min:0,max:255},{name:"B",slider:0,min:0,max:255}]),'<block type="line_set_color_input" >\n            <value name="COLOR">\n              <block type="color_rgb_palette">\n              </block>\n            </value>\n          </block>',_this.getBlock("line_set_mode")];const i=sessionStorage.getItem("_type")||src_app_utils_common_data__WEBPACK_IMPORTED_MODULE_0__.__.CORE;return[src_app_utils_common_data__WEBPACK_IMPORTED_MODULE_0__.__.CORETWO,src_app_utils_common_data__WEBPACK_IMPORTED_MODULE_0__.__.TOUGH].indexOf(i)>-1?(t.push(_this.getBlock("line_set_width",[{name:"linewidth",num:1}])),t.push(_this.getBlock("line_set_opacity",[{name:"opacity",slider:100}]))):i===src_app_utils_common_data__WEBPACK_IMPORTED_MODULE_0__.__.COREINK?(t.splice(1,3),t.push(_this.getBlock("line_set_color_gray"))):i===src_app_utils_common_data__WEBPACK_IMPORTED_MODULE_0__.__.PAPER&&(t.splice(1,3),t.push(_this.getBlock("line_set_color_paper"))),_this.getBlocklyXMLList(t)}),this.workspace.registerToolboxCategoryCallback("GRAPH",function(e){let t=['<button text="%{BKY_GRAPH}" web-class="blockly-title--style nounderline"></button>','<block type="graph_set_fgcolor" >\n          <value name="COLOR">\n            <block type="color_rgb_palette">\n            </block>\n          </value>\n        </block>','<block type="graph_set_bgcolor" >\n          <value name="COLOR">\n            <block type="color_rgb_palette">\n            </block>\n          </value>\n        </block>',_this.getBlock("graph_set_x",[{name:"value",num:10}]),_this.getBlock("graph_set_y",[{name:"value",num:10}]),_this.getBlock("graph_set_width",[{name:"value",num:200}]),_this.getBlock("graph_set_height",[{name:"value",num:100}]),_this.getBlock("graph_set_type"),_this.getBlock("graph_set_tension",[{name:"value",num:.5}]),_this.getBlock("graph_set_min",[{name:"value",num:0}]),_this.getBlock("graph_set_max",[{name:"value",num:100}]),_this.getBlock("graph_add_sample",[{name:"value",num:10}]),_this.getBlock("graph_set_hide"),_this.getBlock("graph_set_show"),_this.getBlock("graph_destroy")];const i=sessionStorage.getItem("_type")||src_app_utils_common_data__WEBPACK_IMPORTED_MODULE_0__.__.CORE;return i===src_app_utils_common_data__WEBPACK_IMPORTED_MODULE_0__.__.COREINK?(t.splice(1,1,_this.getBlock("graph_set_fgcolor_coreink")),t.splice(2,1,_this.getBlock("graph_set_bgcolor_coreink"))):i===src_app_utils_common_data__WEBPACK_IMPORTED_MODULE_0__.__.PAPER&&(t.splice(1,1,_this.getBlock("graph_set_fgcolor_paper")),t.splice(2,1,_this.getBlock("graph_set_bgcolor_paper"))),_this.getBlocklyXMLList(t)}),this.workspace.registerToolboxCategoryCallback("BARGRAPH",function(e){let t=['<button text="%{BKY_BARGRAPH}" web-class="blockly-title--style nounderline"></button>','<block type="bargraph_set_fgcolor" >\n          <value name="COLOR">\n            <block type="color_rgb_palette">\n            </block>\n          </value>\n        </block>','<block type="bargraph_set_bgcolor" >\n          <value name="COLOR">\n            <block type="color_rgb_palette">\n            </block>\n          </value>\n        </block>',_this.getBlock("bargraph_set_x",[{name:"value",num:10}]),_this.getBlock("bargraph_set_y",[{name:"value",num:10}]),_this.getBlock("bargraph_set_width",[{name:"value",num:200}]),_this.getBlock("bargraph_set_height",[{name:"value",num:100}]),_this.getBlock("bargraph_set_type"),_this.getBlock("bargraph_set_reversed"),_this.getBlock("bargraph_set_min",[{name:"value",num:0}]),_this.getBlock("bargraph_set_max",[{name:"value",num:100}]),_this.getBlock("bargraph_add_sample",[{name:"value",num:10}]),_this.getBlock("bargraph_set_hide"),_this.getBlock("bargraph_set_show")];const i=sessionStorage.getItem("_type")||src_app_utils_common_data__WEBPACK_IMPORTED_MODULE_0__.__.CORE;return i===src_app_utils_common_data__WEBPACK_IMPORTED_MODULE_0__.__.COREINK?(t.splice(1,1,_this.getBlock("bargraph_set_fgcolor_coreink")),t.splice(2,1,_this.getBlock("bargraph_set_bgcolor_coreink"))):i===src_app_utils_common_data__WEBPACK_IMPORTED_MODULE_0__.__.PAPER&&(t.splice(1,1,_this.getBlock("bargraph_set_fgcolor_paper")),t.splice(2,1,_this.getBlock("bargraph_set_bgcolor_paper"))),_this.getBlocklyXMLList(t)}),this.workspace.registerToolboxCategoryCallback("SPEAKER",function(e){let t=[_this.getTitleBlock("%{BKY_SPEAKER}","hardwareDocs","speaker"),_this.getBlock("speaker_tone",[{name:"FREQ",num:1800},{name:"TIMEOUT",num:200}]),_this.getBlock("speaker_vol",[{name:"VOLUME",num:1}]),_this.getBlock("speaker_sing")],i=[src_app_utils_common_data__WEBPACK_IMPORTED_MODULE_0__.__.CORETWO,src_app_utils_common_data__WEBPACK_IMPORTED_MODULE_0__.__.TOUGH],n=sessionStorage.getItem("_type")||src_app_utils_common_data__WEBPACK_IMPORTED_MODULE_0__.__.CORE;return i.indexOf(n)>-1&&(t.splice(1),t=t.concat(['<button text="Recommended to use 16000 sampling" web-class="blockly-subclass--style"></button>','<sep gap="8"></sep>','<button text="frequency, 16Bit WAV file to reduce the file size." web-class="blockly-subclass--style"></button>','<sep gap="10"></sep>']),t.push(_this.getBlock("speaker_play_wav_file",[{name:"file",text:""},{name:"volume",slider:0,min:0,max:6}])),t.push(_this.getBlock("speaker_play_wav_dropdown",[{name:"volume",slider:0,min:0,max:6}])),t.push(_this.getBlock("speaker_play_wav_rate",[{name:"file",text:""},{name:"rate",num:44100},{name:"volume",slider:0,min:0,max:6}])),t.push(_this.getBlock("speaker_play_cloud_wav",[{name:"file",text:""},{name:"volume",slider:0,min:0,max:6}])),t.push(_this.getBlock("speaker_sing_volume",[{name:"volume",slider:0,min:0,max:6}])),t.push(_this.getBlock("speaker_play_tone",[{name:"freq",num:220},{name:"volume",slider:0,min:0,max:6}]))),_this.storeSrv.getPnpEnable().subscribe(e=>{if(e){let e=_this.getPnpBlock("speaker");e.length>1&&(t.push(_this.getDivider(802)),t=t.concat(e))}}),_this.getBlocklyXMLList(t)}),this.workspace.registerToolboxCategoryCallback("RGB",function(e){const t=sessionStorage.getItem("_type")||src_app_utils_common_data__WEBPACK_IMPORTED_MODULE_0__.__.CORE;let i=_this.getTitleBlock("%{BKY_RGB}","hardwareDocs","rgb"),n=[_this.getExamplesBtn("breathing_rgb_demo","Breathing RGB"),_this.getExamplesBtn("charge_demo","Battery Animation")],o=t===src_app_utils_common_data__WEBPACK_IMPORTED_MODULE_0__.__.ATOM_MATRIX,r=t===src_app_utils_common_data__WEBPACK_IMPORTED_MODULE_0__.__.M5STATION,s=o?25:r?7:10,a=[_this.getBlock("rgb_set_all"),_this.getBlock("rgb_set_all_rgb",[{name:"R",slider:0,min:0,max:255},{name:"G",slider:0,min:0,max:255},{name:"B",slider:0,min:0,max:255}]),'<block type="rgb_set_all_input" >\n            <value name="COLOR">\n              <block type="color_rgb_palette">\n              </block>\n            </value>\n          </block>',_this.getBlock("rgb_set_dir"),_this.getBlock("rgb_set_dir_rgb",[{name:"R",slider:r?100:0,min:0,max:255},{name:"G",slider:r?100:0,min:0,max:255},{name:"B",slider:r?100:0,min:0,max:255}]),'<block type="rgb_set_dir_input" >\n            <value name="COLOR">\n              <block type="color_rgb_palette">\n              </block>\n            </value>\n          </block>',_this.getBlock("rgb_set"+(o?"_matrix":""),[{name:"INDEX",slider:1,min:1,max:s}]),_this.getBlock("rgb_set_rgb"+(o?"_matrix":""),[{name:"INDEX",slider:1,min:1,max:s},{name:"R",slider:0,min:0,max:255},{name:"G",slider:0,min:0,max:255},{name:"B",slider:0,min:0,max:255}]),`<block type="rgb_set${o?"_matrix":""}_input">\n            <value name="INDEX">\n              <shadow type="math_slider">\n                <field name="NUM" min="1" max="${s}">1</field>\n              </shadow>\n            </value>\n            <value name="COLOR">\n              <block type="color_rgb_palette">\n              </block>\n            </value>\n          </block>`,_this.getBlock("rgb_set_brightness",[{name:"BRIGHTNESS",slider:10}])],l=[_this.getBlock("rgb_set_show_lock"),_this.getBlock("rgb_set_color_from_rgb",[{name:"FROM",num:1},{name:"TO",num:5},{name:"R",slider:0,min:0,max:255},{name:"G",slider:0,min:0,max:255},{name:"B",slider:0,min:0,max:255}]),'<block type="rgb_set_color_from_rgb_input">\n            <value name="FROM">\n              <shadow type="math_number">\n                <field name="NUM">1</field>\n              </shadow>\n            </value>\n            <value name="TO">\n              <shadow type="math_number">\n                <field name="NUM">5</field>\n              </shadow>\n            </value>\n            <value name="COLOR">\n              <block type="color_rgb_palette">\n              </block>\n            </value>\n          </block>'];return[src_app_utils_common_data__WEBPACK_IMPORTED_MODULE_0__.__.CORE,src_app_utils_common_data__WEBPACK_IMPORTED_MODULE_0__.__.FIRE,src_app_utils_common_data__WEBPACK_IMPORTED_MODULE_0__.__.CORETWO,src_app_utils_common_data__WEBPACK_IMPORTED_MODULE_0__.__.TOUGH].indexOf(t)>-1&&(a=n.concat(a)),a.unshift(i),t===src_app_utils_common_data__WEBPACK_IMPORTED_MODULE_0__.__.ATOM_MATRIX&&(a.splice(4,3),a=a.concat(l),a.push(_this.getBlock("rgb_set_led_matrix"))),(t===src_app_utils_common_data__WEBPACK_IMPORTED_MODULE_0__.__.ATOM||t===src_app_utils_common_data__WEBPACK_IMPORTED_MODULE_0__.__.PICO||t===src_app_utils_common_data__WEBPACK_IMPORTED_MODULE_0__.__.ATOM_U||t===src_app_utils_common_data__WEBPACK_IMPORTED_MODULE_0__.__.ATOM_DISPLAY)&&(a.splice(4,6),a.push(_this.getBlock("rgb_set_show_lock"))),_this.getBlocklyXMLList(a)}),this.workspace.registerToolboxCategoryCallback("IMU",function(e){let t=[_this.getTitleBlock("%{BKY_IMU}","hardwareDocs","imu"),_this.getBlock("IMU_GET_X"),_this.getBlock("IMU_GET_Y"),_this.getBlock("IMU_GET_ACC_X"),_this.getBlock("IMU_GET_ACC_Y"),_this.getBlock("IMU_GET_ACC_Z"),_this.getBlock("IMU_GET_Gyr_X"),_this.getBlock("IMU_GET_Gyr_Y"),_this.getBlock("IMU_GET_Gyr_Z")];return _this.storeSrv.getPnpEnable().subscribe(e=>{if(e){let e=_this.getPnpBlock("imu");e.length>1&&(t.push(_this.getDivider(286)),t=t.concat(e))}}),_this.getBlocklyXMLList(t)}),this.workspace.registerToolboxCategoryCallback("MICROPHONE",function(e){let t=[_this.getTitleBlock("%{BKY_MICROPHONE}","hardwareDocs","microphone"),_this.getBlock("microphone_recordfile",[{name:"seconds",num:0},{name:"filename",text:""}])];return sessionStorage.getItem("_type")===src_app_utils_common_data__WEBPACK_IMPORTED_MODULE_0__.__.CORETWO&&(t=[_this.getTitleBlock("%{BKY_MICROPHONE}","hardwareDocs","microphone"),_this.getExamplesBtn("hardware_microphone_demo"),_this.getSubClass("Init"),_this.getBlock("microphone_pdm_init",[{name:"ws",num:0},{name:"data",num:34},{name:"rate",num:16e3},{name:"buffer",num:1e3},{name:"block_len",num:100}]),_this.getBlock("microphone_pdm_deinit",[{name:"time",num:1e4}]),_this.getSubClass("Write"),_this.getBlock("microphone_pdm_record_start",[{name:"file",text:"/sd/test.wav"},{name:"time",num:1e4}]),_this.getBlock("microphone_pdm_record_stop"),_this.getBlock("microphone_pdm_pause",[{name:"time",num:1e3}]),_this.getBlock("microphone_pdm_resume"),_this.getBlock("microphone_pdm_waitdone",[{name:"time",num:1e3}]),_this.getBlock("microphone_pdm_rewind",[{name:"count",num:16e3}]),_this.getBlock("microphone_pdm_rewindms",[{name:"time",num:1e3}]),_this.getSubClass("Read"),_this.getBlock("microphone_pdm_get_rms"),_this.getBlock("microphone_pdm_read"),_this.getBlock("microphone_pdm_read_to_buffer",[{name:"count",num:16e3}])]),_this.storeSrv.getPnpEnable().subscribe(e=>{if(e){let e=_this.getPnpBlock("microphone");e.length>1&&(t.push(_this.getDivider(1007)),t=t.concat(e))}}),_this.getBlocklyXMLList(t)}),this.workspace.registerToolboxCategoryCallback("RTC",function(e){let t=[_this.getBlock("rtc_set_client",[{name:"YEAR",slider:0,min:0,max:99},{name:"MONTH",slider:1,min:1,max:12},{name:"DAY",slider:1,min:1,max:31},{name:"HOUR",slider:0,min:0,max:23},{name:"MINUTE",slider:0,min:0,max:59},{name:"SECOND",slider:0,min:0,max:59}]),_this.getBlock("rtc_set_client_year"),_this.getBlock("rtc_set_client_month"),_this.getBlock("rtc_set_client_day"),_this.getBlock("rtc_set_client_hous"),_this.getBlock("rtc_set_client_minute"),_this.getBlock("rtc_set_client_second"),_this.getBlock("rtc_set_client_time")],i=_this.getBlock("rtc_get_week"),n=[_this.getBlock("rtc_datetime",[{name:"YEAR",slider:0,min:0,max:99},{name:"MONTH",slider:1,min:1,max:12},{name:"DAY",slider:1,min:1,max:31},{name:"WEEK",slider:0,min:0,max:6},{name:"HOUR",slider:0,min:0,max:23},{name:"MINUTE",slider:0,min:0,max:59},{name:"SECOND",slider:0,min:0,max:59}]),_this.getBlock("rtc_get_time")],o=sessionStorage.getItem("_type")||src_app_utils_common_data__WEBPACK_IMPORTED_MODULE_0__.__.CORE;return[src_app_utils_common_data__WEBPACK_IMPORTED_MODULE_0__.__.CORETWO,src_app_utils_common_data__WEBPACK_IMPORTED_MODULE_0__.__.TOUGH].indexOf(o)>-1?(t.shift(),t.pop(),t.unshift(_this.getBlock("rtc_settime",[{name:"timezone",num:8}])),t.splice(4,0,i),t=t.concat(n),t.push('<block type="rtc_get_printtime"></block>')):o===src_app_utils_common_data__WEBPACK_IMPORTED_MODULE_0__.__.COREINK||o===src_app_utils_common_data__WEBPACK_IMPORTED_MODULE_0__.__.PAPER?(t.shift(),t.pop(),t.splice(3,0,i),t=t.concat(n)):o===src_app_utils_common_data__WEBPACK_IMPORTED_MODULE_0__.__.M5STATION?t=[_this.getBlock("rtc_station_get_date_time"),_this.getBlock("rtc_station_set_client",[{name:"YEAR",slider:0,min:0,max:99},{name:"MONTH",slider:1,min:1,max:12},{name:"DAY",slider:1,min:1,max:31},{name:"WEEKDAY",slider:0,min:0,max:6},{name:"HOUR",slider:0,min:0,max:23},{name:"MINUTE",slider:0,min:0,max:59},{name:"SECOND",slider:0,min:0,max:59}])]:o===src_app_utils_common_data__WEBPACK_IMPORTED_MODULE_0__.__.STICK_C_PLUS2&&(t=[_this.getSubClass("Write"),_this.getBlock("rtc_cplus2_set_date_time",[{name:"YEAR",slider:0,min:0,max:99},{name:"MONTH",slider:1,min:1,max:12},{name:"DAY",slider:1,min:1,max:31},{name:"WEEKDAY",slider:0,min:0,max:6},{name:"HOUR",slider:0,min:0,max:23},{name:"MINUTE",slider:0,min:0,max:59},{name:"SECOND",slider:0,min:0,max:59}]),_this.getBlock("rtc_cplus2_set_alarm",[{name:"date",slider:1,min:1,max:31},{name:"hours",slider:0,min:0,max:23},{name:"minutes",slider:0,min:0,max:59}]),_this.getBlock("rtc_cplus2_clear_alarm"),_this.getBlock("rtc_cplus2_disable_alarm"),_this.getBlock("rtc_cplus2_set_timer_mode",[{name:"value",num:0}]),_this.getBlock("rtc_cplus2_clear_timer_flag"),_this.getBlock("rtc_cplus2_disable_timer"),_this.getBlock("rtc_cplus2_pause_timer"),_this.getBlock("rtc_cplus2_resume_timer"),_this.getBlock("rtc_cplus2_enable_timer_interrupt"),_this.getBlock("rtc_cplus2_disable_timer_interrupt"),_this.getBlock("rtc_cplus2_enable_alarm_interrupt"),_this.getBlock("rtc_cplus2_disable_alarm_interrupt"),_this.getSubClass("Read"),_this.getBlock("rtc_cplus2_get_date_time"),_this.getBlock("rtc_cplus2_get_timer_value"),_this.getBlock("rtc_cplus2_check_alarm_flag"),_this.getBlock("rtc_cplus2_check_timer_flag")]),t.unshift(_this.getTitleBlock("%{BKY_RTC}","hardwareDocs","rtc")),_this.storeSrv.getPnpEnable().subscribe(e=>{if(e){let e=_this.getPnpBlock("rtc");e.length>1&&(t.push(_this.getDivider(449)),t=t.concat(e))}}),_this.getBlocklyXMLList(t)}),this.workspace.registerToolboxCategoryCallback("LED",function(e){let t=sessionStorage.getItem("_type"),i=['<button text="LED" web-class="blockly-title--style nounderline"></button>',_this.getBlock("m5ledoff"),_this.getBlock("m5ledon")];return t===src_app_utils_common_data__WEBPACK_IMPORTED_MODULE_0__.__.COREINK&&i.push(_this.getBlock("m5led_get_value",[{name:"value"}])),t===src_app_utils_common_data__WEBPACK_IMPORTED_MODULE_0__.__.STICK_C_PLUS2&&i.splice(1,0,_this.getTipClass("If using led block, don't use ir block")),_this.getBlocklyXMLList(i)}),this.workspace.registerToolboxCategoryCallback("POWER",function(e){let t=_this.getTitleBlock("%{BKY_POWER}","hardwareDocs","power"),i=[],n=[t,_this.getBlock("power_on"),_this.getBlock("power_off"),_this.getBlock("power_set_restart",[{name:"second"}]),_this.getBlock("power_restart_on",[{name:"MINUTE",slider:0,min:0,max:59},{name:"HOUR",slider:0,min:0,max:23},{name:"DATE",slider:1,min:1,max:31},{name:"WEEKDAY",slider:0,min:0,max:6}])],o=sessionStorage.getItem("_type")||src_app_utils_common_data__WEBPACK_IMPORTED_MODULE_0__.__.CORE;return[src_app_utils_common_data__WEBPACK_IMPORTED_MODULE_0__.__.CORETWO,src_app_utils_common_data__WEBPACK_IMPORTED_MODULE_0__.__.TOUGH].indexOf(o)>-1?(i=[t,_this.getBlock("power_get_charge_state"),_this.getBlock("power_get_bat_voltage"),_this.getBlock("power_get_bat_voltage_percent"),_this.getBlock("power_get_bat_current"),_this.getBlock("power_get_vbus_voltage"),_this.getBlock("power_get_temperature"),_this.getBlock("power_power_off"),_this.getBlock("power_set_charge_current"),_this.getBlock("power_set_screen_brightness",[{name:"brightness",num:30}]),_this.getBlock("power_set_led"),_this.getBlock("power_set_bus_mode"),_this.getBlock("power_set_restart",[{name:"second"}]),_this.getBlock("power_restart_on",[{name:"MINUTE",slider:0,min:0,max:59},{name:"HOUR",slider:0,min:0,max:23},{name:"DATE",slider:1,min:1,max:31},{name:"WEEKDAY",slider:0,min:0,max:6}])],o===src_app_utils_common_data__WEBPACK_IMPORTED_MODULE_0__.__.TOUGH&&i.splice(10,1)):o===src_app_utils_common_data__WEBPACK_IMPORTED_MODULE_0__.__.COREINK?i=n:o===src_app_utils_common_data__WEBPACK_IMPORTED_MODULE_0__.__.PAPER?(i=n,i.push(_this.getBlock("power_main_on")),i.push(_this.getBlock("power_main_off")),i.push(_this.getBlock("power_epd_on")),i.push(_this.getBlock("power_epd_off")),i.push(_this.getBlock("power_ext_on")),i.push(_this.getBlock("power_ext_off"))):i=o===src_app_utils_common_data__WEBPACK_IMPORTED_MODULE_0__.__.STICK_C_PLUS2?['<button text="Power" web-class="blockly-title--style nounderline"></button>',_this.getSubClass("Write"),_this.getBlock("power_cplus2_on"),_this.getBlock("power_cplus2_off"),_this.getBlock("power_cplus2_brightness",[{name:"brightness",slider:50,min:0,max:100}]),_this.getBlock("power_cplus2_restart_after_period",[{name:"value",num:5}]),_this.getBlock("power_cplus2_restart_on",[{name:"min",num:0},{name:"hours",num:0},{name:"date",num:1}]),_this.getSubClass("Read"),_this.getBlock("power_cplus2_get_bat_volt")]:[t,_this.getBlock("power_isCharging"),_this.getBlock("power_isChargeFull"),_this.getBlock("power_setCharge"),_this.getBlock("power_getBatteryLevel")],_this.storeSrv.getPnpEnable().subscribe(e=>{if(e){let e=_this.getPnpBlock("power");e.length>1&&(i.push(_this.getDivider(389)),i=i.concat(e))}}),_this.getBlocklyXMLList(i)}),this.workspace.registerToolboxCategoryCallback("AXP",function(e){let t=_this.getTitleBlock("%{BKY_AXP}","hardwareDocs","power"),i=sessionStorage.getItem("_type")||src_app_utils_common_data__WEBPACK_IMPORTED_MODULE_0__.__.STICK_C_PLUS,n=[t,_this.getSubClass("Read"),_this.getBlock("axp_get_charge_state"),_this.getBlock("axp_get_bat_voltage"),_this.getBlock("axp_get_bat_voltage_percent"),_this.getBlock("axp_get_bat_current"),_this.getBlock("axp_get_vin_voltage"),_this.getBlock("axp_get_vin_current"),_this.getBlock("axp_get_vbus_voltage"),_this.getBlock("axp_get_vbus_current"),_this.getBlock("axp_get_axp192_temperature"),_this.getSubClass("Write"),_this.getBlock("axp_power_off"),_this.getBlock("axp_set_charge_current"),_this.getBlock("axp_set_ldo2_voltage",[{name:"ANGLEX",slider:50,min:0,max:100}])];return i===src_app_utils_common_data__WEBPACK_IMPORTED_MODULE_0__.__.M5STATION&&(n.splice(4,1,_this.getBlock("axp_station_get_bat_voltage_percent",[{name:"vmin",num:3.05},{name:"vmax",num:4.15}])),n.splice(8,2),n.splice(9,0,_this.getBlock("axp_station_get_btnState"))),_this.getBlocklyXMLList(n)}),this.workspace.registerToolboxCategoryCallback("TOUCH",function(e){let t=[_this.getTitleBlock("%{BKY_TOUCH}","hardwareDocs","touch"),_this.getBlock("touch_read"),_this.getBlock("touch_read_x"),_this.getBlock("touch_read_y"),_this.getBlock("touch_status")];return _this.getBlocklyXMLList(t)}),this.workspace.registerToolboxCategoryCallback("LORA433",function(e){let t=_this.getTitleBlock("%{BKY_LORA433}","skuDocs","M005"),i=[_this.getImageBtn("skuDocs","M005","/assets/images/flyout/lora433.jpg"),_this.getExamplesBtn("lora433_return_demo","LoRa433 Receiver"),_this.getExamplesBtn("lora433_send_callback_demo","LoRa433 Sender")],n=[src_app_utils_common_data__WEBPACK_IMPORTED_MODULE_0__.__.CORETWO,src_app_utils_common_data__WEBPACK_IMPORTED_MODULE_0__.__.TOUGH];const o=sessionStorage.getItem("_type")||src_app_utils_common_data__WEBPACK_IMPORTED_MODULE_0__.__.CORE;let r=n.indexOf(o)>-1?33:5;const s=`<block type="lora433_init" hidden="true">\n      <value name="cs">\n        <shadow type="math_number">\n            <field name="NUM">${r}</field>\n        </shadow>\n      </value>\n      <value name="rst">\n        <shadow type="math_number">\n            <field name="NUM">26</field>\n        </shadow>\n      </value>\n      <value name="irq">\n        <shadow type="math_number">\n            <field name="NUM">36</field>\n        </shadow>\n      </value>\n      <next>\n        <block type="lora433_config">\n          <field name="crc">False</field>\n          <value name="freq"><shadow type="math_number"><field name="NUM">433000000</field></shadow></value>\n          <value name="band"><shadow type="math_number"><field name="NUM">125000</field></shadow></value>\n          <value name="txpow"><shadow type="math_number"><field name="NUM">17</field></shadow></value>\n          <value name="sync"><shadow type="math_number"><field name="NUM">0x34</field></shadow></value>\n          <value name="spread"><shadow type="math_number"><field name="NUM">7</field></shadow></value>\n          <value name="code_rate"><shadow type="math_number"><field name="NUM">5</field></shadow></value>\n          <value name="preamble"><shadow type="math_number"><field name="NUM">8</field></shadow></value>\n          <next>\n            <block type="lora433_receive_callback">\n            </block>\n          </next>\n        </block>\n      </next>\n      </block>`;let a=[_this.getDemoTitle("Demo1: init"),`<block type="lora433_init" hidden="true">\n        <value name="cs">\n          <shadow type="math_number">\n              <field name="NUM">${r}</field>\n          </shadow>\n        </value>\n        <value name="rst">\n          <shadow type="math_number">\n              <field name="NUM">26</field>\n          </shadow>\n        </value>\n        <value name="irq">\n          <shadow type="math_number">\n              <field name="NUM">36</field>\n          </shadow>\n        </value>\n        <next>\n          <block type="lora433_config">\n            <value name="freq">\n              <shadow type="math_number">\n                  <field name="NUM">433000000</field>\n              </shadow>\n            </value>\n            <value name="band">\n              <shadow type="math_number">\n                  <field name="NUM">125000</field>\n              </shadow>\n            </value>\n            <value name="txpow">\n              <shadow type="math_number">\n                  <field name="NUM">17</field>\n              </shadow>\n            </value>\n            <value name="sync">\n              <shadow type="math_number">\n                  <field name="NUM">0x34</field>\n              </shadow>\n            </value>\n            <value name="spread">\n              <shadow type="math_number">\n                  <field name="NUM">7</field>\n              </shadow>\n            </value>\n            <value name="code_rate">\n              <shadow type="math_number">\n                  <field name="NUM">5</field>\n              </shadow>\n            </value>\n            <value name="preamble">\n              <shadow type="math_number">\n                  <field name="NUM">8</field>\n              </shadow>\n            </value>\n          </block>\n        </next>\n      </block>`,_this.getDemoTitle("Demo1: send packet"),'<block type="button_callback" hidden="true">\n    <field name="BUTTON">A</field>\n    <field name="EVENT">wasPressed</field>\n    <statement name="FUNC">\n      <block type="lora433_begin_packet">\n        <next>\n          <block type="lora433_write_buffer">\n            <value name="array">\n              <block type="lists_create_with">\n                <mutation items="4"></mutation>\n                <value name="ADD0">\n                  <block type="math_number"><field name="NUM">0x41</field></block>\n                </value>\n                <value name="ADD1">\n                  <block type="math_number"><field name="NUM">0x43</field></block>\n                </value>\n                <value name="ADD2">\n                  <block type="math_number"><field name="NUM">0x45</field></block>\n                </value>\n                <value name="ADD3">\n                  <block type="math_number"><field name="NUM">0x47</field></block>\n                </value>\n              </block>\n            </value>\n            <next>\n              <block type="lora433_end_packet"></block>\n            </next>\n          </block>\n        </next>\n      </block>\n    </statement>\n    </block>',_this.getDemoTitle("Demo2: init and receive callback"),s,_this.getDemoTitle("Demo2: LoRa433 callback"),'<block type="lora433_callback" hidden="true">\n      <value name="size">\n        <block type="variables_get">\n          <field name="VAR">packet_size</field>\n        </block>\n      </value>\n      <statement name="FUNC">\n        <block type="controls_if">\n          <value name="IF0">\n            <block type="variables_get">\n              <field name="VAR">packet_size</field>\n            </block>\n          </value>\n          <statement name="DO0">\n            <block type="variables_set">\n              <field name="VAR">check</field>\n              <value name="VALUE">\n                <block type="lora433_read"></block>\n              </value>\n              <next>\n                <block type="text_print">\n                  <value name="TEXT">\n                    <block type="variables_get">\n                      <field name="VAR">check</field>\n                    </block>\n                  </value>\n                </block>\n              </next>\n            </block>\n          </statement>\n        </block>\n      </statement>\n    </block>',_this.getDivider(370),_this.getSubClass("Init"),_this.getBlock("lora433_init",[{name:"cs",num:Number(`${r}`)},{name:"rst",num:26},{name:"irq",num:36}]),'<block type="lora433_config">\n          <value name="freq">\n            <shadow type="math_number">\n                <field name="NUM">433000000</field>\n            </shadow>\n          </value>\n          <value name="band">\n            <shadow type="math_number">\n                <field name="NUM">125000</field>\n            </shadow>\n          </value>\n          <value name="txpow">\n            <shadow type="math_number">\n                <field name="NUM">17</field>\n            </shadow>\n          </value>\n          <value name="sync">\n            <shadow type="math_number">\n                <field name="NUM">0x34</field>\n            </shadow>\n          </value>\n          <value name="spread">\n            <shadow type="math_number">\n                <field name="NUM">7</field>\n            </shadow>\n          </value>\n          <value name="code_rate">\n            <shadow type="math_number">\n                <field name="NUM">5</field>\n            </shadow>\n          </value>\n          <value name="preamble">\n            <shadow type="math_number">\n                <field name="NUM">8</field>\n            </shadow>\n          </value>\n        </block>',_this.getSubClass("Write"),_this.getBlock("lora433_stand_by_mode"),_this.getBlock("lora433_sleep_mode"),_this.getBlock("lora433_begin_packet"),_this.getBlock("lora433_end_packet"),_this.getBlock("lora433_print_msg",[{name:"msg",text:""}]),'<block type="lora433_write_buffer">\n          <value name="array">\n            <block type="lists_create_with">\n              <value name="ADD0">\n                <block type="math_number"><field name="NUM">0</field></block>\n              </value>\n              <value name="ADD1">\n                <block type="math_number"><field name="NUM">0</field></block>\n              </value>\n              <value name="ADD2">\n                <block type="math_number"><field name="NUM">0</field></block>\n              </value>\n            </block>\n          </value>\n        </block>','<block type="lora433_callback">\n          <value name="size">\n            <block type="variables_get">\n              <field name="VAR">packet_size</field>\n            </block>\n          </value>\n        </block>',_this.getBlock("lora433_receive_callback"),_this.getSubClass("Read"),_this.getBlock("lora433_packet_rssi"),_this.getBlock("lora433_packet_snr"),_this.getBlock("lora433_read"),_this.getBlock("lora433_message")];return a=i.concat(a),a.unshift(t),_this.getBlocklyXMLList(a)}),this.workspace.registerToolboxCategoryCallback("LORA868",function(e){let t=sessionStorage.getItem("_type")||src_app_utils_common_data__WEBPACK_IMPORTED_MODULE_0__.__.CORE,i=["core2","tough"].indexOf(t)>-1?33:5;const n=`<block type="lora868_init" hidden="true">\n      <value name="cs">\n        <shadow type="math_number">\n            <field name="NUM">${i}</field>\n        </shadow>\n      </value>\n      <value name="rst">\n        <shadow type="math_number">\n            <field name="NUM">26</field>\n        </shadow>\n      </value>\n      <value name="irq">\n        <shadow type="math_number">\n            <field name="NUM">36</field>\n        </shadow>\n      </value>\n      <next>\n        <block type="lora868_config">\n          <field name="crc">False</field>\n          <value name="freq"><shadow type="math_number"><field name="NUM">868000000</field></shadow></value>\n          <value name="band"><shadow type="math_number"><field name="NUM">125000</field></shadow></value>\n          <value name="txpow"><shadow type="math_number"><field name="NUM">17</field></shadow></value>\n          <value name="sync"><shadow type="math_number"><field name="NUM">0x34</field></shadow></value>\n          <value name="spread"><shadow type="math_number"><field name="NUM">7</field></shadow></value>\n          <value name="code_rate"><shadow type="math_number"><field name="NUM">5</field></shadow></value>\n          <value name="preamble"><shadow type="math_number"><field name="NUM">8</field></shadow></value>\n          <next>\n            <block type="lora868_receive_callback"></block>\n          </next>\n        </block>\n      </next>\n      </block>`;let o=[_this.getTitleBlock("%{BKY_LORA868}","skuDocs","M029"),_this.getImageBtn("skuDocs","M029","/assets/images/flyout/lora868.jpg"),_this.getTitleBlock("%{BKY_LORA868} V1.1","skuDocs","M029-V11"),_this.getImageBtn("skuDocs","M029-V11","/assets/images/flyout/module_lora868_v11.jpg"),_this.getDemoTitle("Demo1: init"),`<block type="lora868_init" hidden="true">\n        <value name="cs">\n          <shadow type="math_number">\n              <field name="NUM">${i}</field>\n          </shadow>\n        </value>\n        <value name="rst">\n          <shadow type="math_number">\n              <field name="NUM">26</field>\n          </shadow>\n        </value>\n        <value name="irq">\n          <shadow type="math_number">\n              <field name="NUM">36</field>\n          </shadow>\n        </value>\n        <next>\n          <block type="lora868_config">\n            <value name="freq">\n              <shadow type="math_number">\n                  <field name="NUM">868000000</field>\n              </shadow>\n            </value>\n            <value name="band">\n              <shadow type="math_number">\n                  <field name="NUM">125000</field>\n              </shadow>\n            </value>\n            <value name="txpow">\n              <shadow type="math_number">\n                  <field name="NUM">17</field>\n              </shadow>\n            </value>\n            <value name="sync">\n              <shadow type="math_number">\n                  <field name="NUM">0x34</field>\n              </shadow>\n            </value>\n            <value name="spread">\n              <shadow type="math_number">\n                  <field name="NUM">7</field>\n              </shadow>\n            </value>\n            <value name="code_rate">\n              <shadow type="math_number">\n                  <field name="NUM">5</field>\n              </shadow>\n            </value>\n            <value name="preamble">\n              <shadow type="math_number">\n                  <field name="NUM">8</field>\n              </shadow>\n            </value>\n          </block>\n        </next>\n      </block>`,_this.getDemoTitle("Demo1: send packet"),'<block type="button_callback" hidden="true">\n    <field name="BUTTON">A</field>\n    <field name="EVENT">wasPressed</field>\n    <statement name="FUNC">\n      <block type="lora868_begin_packet">\n        <next>\n          <block type="lora868_write_buffer">\n            <value name="array">\n              <block type="lists_create_with">\n                <mutation items="4"></mutation>\n                <value name="ADD0">\n                  <block type="math_number"><field name="NUM">0x41</field></block>\n                </value>\n                <value name="ADD1">\n                  <block type="math_number"><field name="NUM">0x43</field></block>\n                </value>\n                <value name="ADD2">\n                  <block type="math_number"><field name="NUM">0x45</field></block>\n                </value>\n                <value name="ADD3">\n                  <block type="math_number"><field name="NUM">0x47</field></block>\n                </value>\n              </block>\n            </value>\n            <next>\n              <block type="lora868_end_packet"></block>\n            </next>\n          </block>\n        </next>\n      </block>\n    </statement>\n    </block>',_this.getDemoTitle("Demo2: init and receive callback"),n,_this.getDemoTitle("Demo2: LoRa868 callback"),'<block type="lora868_callback" hidden="true">\n      <value name="size">\n        <block type="variables_get">\n          <field name="VAR">packet_size</field>\n        </block>\n      </value>\n      <statement name="FUNC">\n        <block type="controls_if">\n          <value name="IF0">\n            <block type="variables_get">\n              <field name="VAR">packet_size</field>\n            </block>\n          </value>\n          <statement name="DO0">\n            <block type="variables_set">\n              <field name="VAR">check</field>\n              <value name="VALUE">\n                <block type="lora868_read"></block>\n              </value>\n              <next>\n                <block type="text_print">\n                  <value name="TEXT">\n                    <block type="variables_get">\n                      <field name="VAR">check</field>\n                    </block>\n                  </value>\n                </block>\n              </next>\n            </block>\n          </statement>\n        </block>\n      </statement>\n    </block>',_this.getDivider(370),_this.getSubClass("Init"),_this.getBlock("lora868_init",[{name:"cs",num:Number(`${i}`)},{name:"rst",num:26},{name:"irq",num:36}]),'<block type="lora868_config">\n          <value name="freq">\n            <shadow type="math_number">\n                <field name="NUM">868000000</field>\n            </shadow>\n          </value>\n          <value name="band">\n            <shadow type="math_number">\n                <field name="NUM">125000</field>\n            </shadow>\n          </value>\n          <value name="txpow">\n            <shadow type="math_number">\n                <field name="NUM">17</field>\n            </shadow>\n          </value>\n          <value name="sync">\n            <shadow type="math_number">\n                <field name="NUM">0x34</field>\n            </shadow>\n          </value>\n          <value name="spread">\n            <shadow type="math_number">\n                <field name="NUM">7</field>\n            </shadow>\n          </value>\n          <value name="code_rate">\n            <shadow type="math_number">\n                <field name="NUM">5</field>\n            </shadow>\n          </value>\n          <value name="preamble">\n            <shadow type="math_number">\n                <field name="NUM">8</field>\n            </shadow>\n          </value>\n        </block>',_this.getSubClass("Write"),_this.getBlock("lora868_stand_by_mode"),_this.getBlock("lora868_sleep_mode"),_this.getBlock("lora868_begin_packet"),_this.getBlock("lora868_end_packet"),_this.getBlock("lora868_print_msg",[{name:"msg",text:""}]),'<block type="lora868_write_buffer">\n        <value name="array">\n          <block type="lists_create_with">\n            <value name="ADD0">\n              <block type="math_number"><field name="NUM">0</field></block>\n            </value>\n            <value name="ADD1">\n              <block type="math_number"><field name="NUM">0</field></block>\n            </value>\n            <value name="ADD2">\n              <block type="math_number"><field name="NUM">0</field></block>\n            </value>\n          </block>\n        </value>\n      </block>','<block type="lora868_callback">\n          <value name="size">\n            <block type="variables_get">\n              <field name="VAR">packet_size</field>\n            </block>\n          </value>\n        </block>',_this.getBlock("lora868_receive_callback"),_this.getSubClass("Read"),_this.getBlock("lora868_packet_rssi"),_this.getBlock("lora868_packet_snr"),_this.getBlock("lora868_message"),_this.getBlock("lora868_read")];return _this.getBlocklyXMLList(o)}),this.workspace.registerToolboxCategoryCallback("GRAPHIC",function(e){let t=[_this.getTitleBlock("%{BKY_GRAPHIC}","logicDocs","graphic"),_this.getBlock("lcd_clear"),_this.getBlock("lcd_fill"),_this.getBlock("lcd_print",[{name:"TEXT",text:""},{name:"X"},{name:"Y"}]),_this.getBlock("lcd_setFont"),_this.getBlock("lcd_pixel",[{name:"X"},{name:"Y"}]),_this.getBlock("lcd_line",[{name:"X"},{name:"Y"},{name:"X1"},{name:"Y1"}]),_this.getBlock("lcd_rect",[{name:"X"},{name:"Y"},{name:"WIDTH"},{name:"HEIGHT"}]),_this.getBlock("lcd_triangle",[{name:"X"},{name:"Y"},{name:"X1"},{name:"Y1"},{name:"X2"},{name:"Y2"}]),_this.getBlock("lcd_circle",[{name:"X"},{name:"Y"},{name:"RADIUS"}]),_this.getBlock("lcd_ellipse",[{name:"X"},{name:"Y"},{name:"RX"},{name:"RY"}]),_this.getBlock("lcd_arc",[{name:"X"},{name:"Y"},{name:"RADIUS"},{name:"THICK"},{name:"START"},{name:"END"}]),_this.getBlock("lcd_polygon",[{name:"X"},{name:"Y"},{name:"RADIUS"},{name:"SIDES"},{name:"THICK"},{name:"ROTATE"}]),_this.getBlock("lcd_qrcode",[{name:"text",text:""},{name:"X"},{name:"Y"},{name:"width",num:220},{name:"version",slider:6,min:1,max:10}])];const i=sessionStorage.getItem("_type")||src_app_utils_common_data__WEBPACK_IMPORTED_MODULE_0__.__.CORE;if(i===src_app_utils_common_data__WEBPACK_IMPORTED_MODULE_0__.__.COREINK){t.splice(2,2),t.splice(3,8);let e=[_this.getBlock("lcd_fill_gray"),_this.getBlock("lcd_print_gray",[{name:"TEXT",text:""},{name:"X"},{name:"Y"}]),_this.getBlock("lcd_pixel_gray",[{name:"X"},{name:"Y"}]),_this.getBlock("lcd_line_gray",[{name:"X"},{name:"Y"},{name:"X1"},{name:"Y1"}]),_this.getBlock("lcd_rect_gray",[{name:"X"},{name:"Y"},{name:"WIDTH"},{name:"HEIGHT"}]),_this.getBlock("lcd_triangle_gray",[{name:"X"},{name:"Y"},{name:"X1"},{name:"Y1"},{name:"X2"},{name:"Y2"}]),_this.getBlock("lcd_circle_gray",[{name:"X"},{name:"Y"},{name:"RADIUS"}]),_this.getBlock("lcd_ellipse_gray",[{name:"X"},{name:"Y"},{name:"RX"},{name:"RY"}]),_this.getBlock("lcd_arc_gray",[{name:"X"},{name:"Y"},{name:"RADIUS"},{name:"THICK"},{name:"START"},{name:"END"}]),_this.getBlock("lcd_polygon_gray",[{name:"X"},{name:"Y"},{name:"RADIUS"},{name:"SIDES"},{name:"THICK"},{name:"ROTATE"}])];t=t.concat(e)}else if(i===src_app_utils_common_data__WEBPACK_IMPORTED_MODULE_0__.__.PAPER){t.splice(2,2),t.splice(3,8);let e=[_this.getBlock("lcd_fill_paper"),_this.getBlock("lcd_print_paper",[{name:"TEXT",text:""},{name:"X"},{name:"Y"}]),_this.getBlock("lcd_pixel_paper",[{name:"X"},{name:"Y"}]),_this.getBlock("lcd_line_paper",[{name:"X"},{name:"Y"},{name:"X1"},{name:"Y1"}]),_this.getBlock("lcd_rect_paper",[{name:"X"},{name:"Y"},{name:"WIDTH"},{name:"HEIGHT"}]),_this.getBlock("lcd_triangle_paper",[{name:"X"},{name:"Y"},{name:"X1"},{name:"Y1"},{name:"X2"},{name:"Y2"}]),_this.getBlock("lcd_circle_paper",[{name:"X"},{name:"Y"},{name:"RADIUS"}]),_this.getBlock("lcd_ellipse_paper",[{name:"X"},{name:"Y"},{name:"RX"},{name:"RY"}]),_this.getBlock("lcd_arc_paper",[{name:"X"},{name:"Y"},{name:"RADIUS"},{name:"THICK"},{name:"START"},{name:"END"}]),_this.getBlock("lcd_polygon_paper",[{name:"X"},{name:"Y"},{name:"RADIUS"},{name:"SIDES"},{name:"THICK"},{name:"ROTATE"}])];t=t.concat(e)}return _this.getBlocklyXMLList(t)}),this.workspace.registerToolboxCategoryCallback("EMOJI",function(e){let t=[_this.getTitleBlock("%{BKY_EMOJI}","logicDocs","emoji"),_this.getBlock("emoji_show"),_this.getBlock("emoji_set_single"),_this.getBlock("emoji_change")];const i=sessionStorage.getItem("_type")||src_app_utils_common_data__WEBPACK_IMPORTED_MODULE_0__.__.CORE;return[src_app_utils_common_data__WEBPACK_IMPORTED_MODULE_0__.__.CORETWO,src_app_utils_common_data__WEBPACK_IMPORTED_MODULE_0__.__.TOUGH].indexOf(i)>-1&&t.splice(3,1),_this.getBlocklyXMLList(t)}),this.workspace.registerToolboxCategoryCallback("MQTT",function(e){let t=[_this.getTitleBlock("MQTT","advancedDocs","mqtt"),_this.getDemoTitle("%{BKY_MQTT_DEMO_PUBLISH}"),_this.getBlock("mqtt_set_client",[{name:"ID",text:""},{name:"SERVER",text:""},{name:"PORT",num:1883},{name:"USER",text:""},{name:"PASSWORD",password:""},{name:"KEEPALIVE",slider:300,min:0,max:65536}],!0,_this.getBlock("mqtt_start",[],!1,_this.getBlock("mqtt_publish",[{name:"FROM",text:""},{name:"MSG",text:""}]))),_this.getDemoTitle("%{BKY_MQTT_DEMO_SUBSCRIBE}"),'<block type="mqtt_sub" hidden="true">\n          <value name="FROM">\n            <shadow type="text">\n              <field name="TEXT"></field>\n            </shadow>\n          </value>\n          <statement name = "FUNC">\n            <block type="text_print">\n              <value name="TEXT">\n                <block type="mqtt_get_topic_data"></block>\n              </value>\n            </block>\n          </statement>\n        </block>',_this.getDivider(366),_this.getSubClass("Init"),_this.getBlock("mqtt_set_client",[{name:"ID",text:""},{name:"SERVER",text:""},{name:"PORT",num:1883},{name:"USER",text:""},{name:"PASSWORD",password:""},{name:"KEEPALIVE",slider:300,min:0,max:65536}]),_this.getSubClass("Read"),_this.getBlock("mqtt_get_topic_data"),_this.getSubClass("Write"),_this.getBlock("mqtt_sub",[{name:"FROM",text:""}]),_this.getBlock("mqtt_start"),_this.getBlock("mqtt_publish",[{name:"FROM",text:""},{name:"MSG",text:""},{name:"qos",slider:0,min:0,max:2}])];return"Beta"==localStorage.getItem("versions")&&t.push(_this.getBlock("mqtt_set_last_will",[{name:"TOPIC",text:""},{name:"MSG",text:""}])),_this.getBlocklyXMLList(t)}),this.workspace.registerToolboxCategoryCallback("LORABUS",function(e){let t=sessionStorage.getItem("_type")||src_app_utils_common_data__WEBPACK_IMPORTED_MODULE_0__.__.CORE,i=["core2","tough"].indexOf(t)>-1?33:5,n=['<button text="%{BKY_LORABUS}" web-class="blockly-title--style nounderline"></button>','<button text="Master" web-class="blockly-subtitle--style"></button>',_this.getSubClass("Init"),_this.getBlock("lorabus_master_init",[{name:"cs",num:Number(`${i}`)},{name:"reset",num:26},{name:"irq",num:36}]),_this.getSubClass("Write"),'<block type="lorabus_master_write_register" >\n          <value name="slave_addr">\n            <shadow type="math_number">\n              <field name="NUM">0x01</field>\n            </shadow>\n          </value>\n          <value name="start_addr">\n            <shadow type="math_number">\n              <field name="NUM">0x0000</field>\n            </shadow>\n          </value>\n          <value name="list">\n            <block type="lists_create_with">\n              <value name="ADD0">\n                <block type="math_number"><field name="NUM">0</field></block>\n              </value>\n              <value name="ADD1">\n                <block type="math_number"><field name="NUM">0</field></block>\n              </value>\n              <value name="ADD2">\n                <block type="math_number"><field name="NUM">0</field></block>\n              </value>\n            </block>\n          </value>\n        </block>','<block type="lorabus_master_write_message" >\n          <value name="slave_addr">\n            <shadow type="math_number">\n              <field name="NUM">0x00</field>\n            </shadow>\n          </value>\n          <value name="start_addr">\n            <shadow type="math_number">\n              <field name="NUM">0x0000</field>\n            </shadow>\n          </value>\n          <value name="msg">\n            <shadow type="text">\n              <field name="TEXT">Hellow</field>\n            </shadow>\n          </value>\n        </block>',_this.getSubClass("Read"),'<block type="lorabus_master_read_register" >\n          <value name="slave_addr">\n            <shadow type="math_number">\n              <field name="NUM">0x01</field>\n            </shadow>\n          </value>\n          <value name="start_addr">\n            <shadow type="math_number">\n              <field name="NUM">0x0000</field>\n            </shadow>\n          </value>\n          <value name="quantity">\n            <shadow type="math_number">\n              <field name="NUM">1</field>\n            </shadow>\n          </value>\n        </block>',_this.getDivider(404),'<button text="Slave" web-class="blockly-subtitle--style"></button>',_this.getSubClass("Init"),`<block type="lorabus_slave_init" >\n          <value name="cs">\n            <shadow type="math_number">\n              <field name="NUM">${i}</field>\n            </shadow>\n          </value>\n          <value name="reset">\n            <shadow type="math_number">\n              <field name="NUM">26</field>\n            </shadow>\n          </value>\n          <value name="irq">\n            <shadow type="math_number">\n              <field name="NUM">36</field>\n            </shadow>\n          </value>\n          <value name="slave_addr">\n            <shadow type="math_number">\n              <field name="NUM">0x01</field>\n            </shadow>\n          </value>\n          <value name="write_size">\n            <shadow type="math_number">\n              <field name="NUM">5</field>\n            </shadow>\n          </value>\n          <value name="read_size">\n            <shadow type="math_number">\n              <field name="NUM">10</field>\n            </shadow>\n          </value>\n        </block>`,_this.getSubClass("Write"),'<block type="lorabus_slave_set_readfifo" >\n          <value name="addr">\n            <shadow type="math_number">\n              <field name="NUM">0x0000</field>\n            </shadow>\n          </value>\n          <value name="list">\n            <block type="lists_create_with">\n              <value name="ADD0">\n                <block type="math_number"><field name="NUM">0</field></block>\n              </value>\n              <value name="ADD1">\n                <block type="math_number"><field name="NUM">0</field></block>\n              </value>\n              <value name="ADD2">\n                <block type="math_number"><field name="NUM">0</field></block>\n              </value>\n            </block>\n          </value>\n        </block>',_this.getSubClass("Read"),_this.getBlock("lorabus_slave_receive"),'<block type="lorabus_slave_get_writefifo" >\n          <value name="addr">\n            <shadow type="math_number">\n              <field name="NUM">0x0000</field>\n            </shadow>\n          </value>\n          <value name="quantity">\n            <shadow type="math_number">\n              <field name="NUM">10</field>\n            </shadow>\n          </value>\n        </block>'];return _this.getBlocklyXMLList(n)}),this.workspace.registerToolboxCategoryCallback("IIC",function(e){let t=_this.getTitleBlock("%{BKY_IIC}","hardwareDocs","i2c_master"),i=[_this.getExamplesBtn("dht12_demo")],n=[_this.getDemoTitle("%{BKY_IIC_DEMO_SCAN}"),'<block type="iic_set" hidden="true">\n          <field name="i2c">i2c0</field>\n          <field name="PORT">PORTA</field>\n          <field name="FREQ">400000</field>\n          <next>\n            <block type="iic_set_slave_addr">\n              <field name="i2c">i2c0</field>\n              <field name="ADDRESS">0x68</field>\n              <next>\n                <block type="text_print">\n                  <value name="TEXT">\n                    <block type="iic_scan">\n                      <field name="i2c">i2c0</field>\n                    </block>\n                  </value>\n                </block>\n              </next>\n            </block>\n          </next>\n        </block>',_this.getDemoTitle("%{BKY_IIC_CHECK}"),'<block type="iic_set" hidden="true">\n          <field name="i2c">i2c0</field>\n          <field name="PORT">PORTA</field>\n          <field name="FREQ">400000</field>\n          <next>\n            <block type="iic_set_slave_addr">\n              <field name="i2c">i2c0</field>\n              <field name="ADDRESS">0x5C</field>\n              <next>\n                <block type="text_print">\n                  <value name="TEXT">\n                    <block type="iic_available">\n                      <field name="i2c">i2c0</field>\n                    </block>\n                  </value>\n                </block>\n              </next>\n            </block>\n          </next>\n        </block>',_this.getDemoTitle("%{BKY_IIC_DEMO_READ_DATA}"),'<block type="iic_set" hidden="true">\n          <field name="i2c">i2c0</field>\n          <field name="PORT">PORTA</field>\n          <field name="FREQ">400000</field>\n          <next>\n            <block type="iic_set_slave_addr">\n              <field name="i2c">i2c0</field>\n              <field name="ADDRESS">0x75</field>\n              <next>\n                <block type="text_print">\n                  <value name="TEXT">\n                    <block type="iic_read_mem_data">\n                      <field name="IIC">i2c0</field>\n                      <field name="TYPE">UINT8LE</field>\n                      <value name="REG">\n                        <shadow type="math_number">\n                          <field name="NUM">112</field>\n                        </shadow>\n                      </value>\n                      <value name="NUM">\n                        <shadow type="math_number">\n                          <field name="NUM">1</field>\n                        </shadow>\n                      </value>\n                    </block>\n                  </value>\n                </block>\n              </next>\n            </block>\n          </next>\n        </block>',_this.getDemoTitle("%{BKY_IIC_DEMO_WRITE_DATA}"),'<block type="iic_set" hidden="true">\n          <field name="i2c">i2c0</field>\n          <field name="PORT">PORTA</field>\n          <field name="FREQ">400000</field>\n          <next>\n            <block type="iic_set_slave_addr">\n              <field name="i2c">i2c0</field>\n              <field name="ADDRESS">0x75</field>\n              <next>\n                <block type="iic_write_mem_data">\n                  <field name="IIC">i2c0</field>\n                  <field name="TYPE">UINT8LE</field>\n                  <value name="REG">\n                    <shadow type="math_number">\n                      <field name="NUM">32</field>\n                    </shadow>\n                  </value>\n                  <value name="DATA">\n                    <shadow type="math_number">\n                      <field name="NUM">0</field>\n                    </shadow>\n                  </value>\n                </block>\n              </next>\n            </block>\n          </next>\n        </block>',_this.getDivider(539),_this.getSubClass("Init"),_this.getBlock("iic_set"),_this.getBlock("iic_set_C",[{name:"sda"},{name:"scl"}]),_this.getBlock("iic_set_slave_addr"),'<button text="I2C Address List" web-class="i2cAddrLink--style" callbackKey="i2cAddrLink"></button>','<sep gap="8"></sep>',_this.getSubClass("Scan"),_this.getBlock("iic_available"),_this.getBlock("iic_scan"),_this.getSubClass("Read"),'<block type="iic_read_req" >\n          <value name="req">\n            <shadow type="math_number">\n              <field name="NUM">0x00</field>\n            </shadow>\n          </value>\n        </block>','<block type="iic_read_res" >\n          <value name="res">\n            <shadow type="math_number">\n              <field name="NUM">0x00</field>\n            </shadow>\n          </value>\n        </block>','<block type="iic_read_reg" >\n          <value name="res">\n            <shadow type="math_number">\n              <field name="NUM">0x00</field>\n            </shadow>\n          </value>\n          <value name="num">\n            <shadow type="math_number">\n              <field name="NUM">0</field>\n            </shadow>\n          </value>\n        </block>',_this.getBlock("iic_read_mem_data",[{name:"REG"},{name:"NUM"}]),_this.getBlock("iic_read_data",[{name:"NUM"}]),_this.getBlock("iic_get_data_in_list",[{name:"INDEX"}]),_this.getSubClass("Write"),'<block type="iic_write_byte" >\n          <value name="req">\n            <shadow type="math_number">\n              <field name="NUM">0x00</field>\n            </shadow>\n          </value>\n          <value name="data">\n            <shadow type="math_number">\n              <field name="NUM">0x00</field>\n            </shadow>\n          </value>\n        </block>','<block type="iic_write_big" >\n          <value name="req">\n            <shadow type="math_number">\n              <field name="NUM">0x00</field>\n            </shadow>\n          </value>\n          <value name="data">\n            <shadow type="math_number">\n              <field name="NUM">0x0000</field>\n            </shadow>\n          </value>\n        </block>',_this.getBlock("iic_write_mem_data",[{name:"REG"},{name:"DATA"}]),_this.getBlock("iic_write_data",[{name:"DATA"}]),'<block type="iic_write_mem_list">\n          <value name="REG">\n            <shadow type="math_number">\n              <field name="NUM">0</field>\n            </shadow>\n          </value>\n          <value name="DATA">\n            <block type="lists_create_with">\n              <value name="ADD0">\n                <block type="math_number"><field name="NUM">0</field></block>\n              </value>\n              <value name="ADD1">\n                <block type="math_number"><field name="NUM">0</field></block>\n              </value>\n              <value name="ADD2">\n                <block type="math_number"><field name="NUM">0</field></block>\n              </value>\n            </block>\n          </value>\n        </block>'];const o=sessionStorage.getItem("_type")||src_app_utils_common_data__WEBPACK_IMPORTED_MODULE_0__.__.CORE;return[src_app_utils_common_data__WEBPACK_IMPORTED_MODULE_0__.__.CORE,src_app_utils_common_data__WEBPACK_IMPORTED_MODULE_0__.__.FIRE].indexOf(o)>-1&&(n=i.concat(n)),n.unshift(t),setTimeout(()=>{let e,t,i,n=window.BlocklyEditor.getFlyout();i=n.buttons_.filter(e=>"i2cAddrLink--style"===e.cssClass_),n.mats_.forEach(i=>{"iic_set_slave_addr"===i.tooltip.type&&(e=i.getBBox().x+i.getBBox().width,t=i.getBBox().y)}),i&&e&&t&&i[0].moveTo(e+10,t)}),_this.getBlocklyXMLList(n)}),this.workspace.registerToolboxCategoryCallback("NETWORK",function(e){let t=[_this.getTitleBlock("Network","hardwareDocs","network"),_this.getDemoTitle("%{BKY_SMARTCONFIG_DEMO}"),'<block type="wlan_create_station" hidden="true">\n          <next>\n            <block type="wlan_active">\n              <field name="active">False</field>\n              <next>\n                <block type="wlan_active">\n                  <field name="active">True</field>\n                  <next>\n                    <block type="smartconfig_set_type">\n                      <field name="type">smartconfig.ESPTOUCH</field>\n                      <next>\n                        <block type="smartconfig_start">\n                        <next>\n                          <block type="controls_whileUntil">\n                            <field name="MODE">WHILE</field>\n                            <value name="BOOL">\n                              <block type="logic_compare">\n                                <field name="OP">NEQ</field>\n                                <value name="A"><block type="smartconfig_get_status"></block></value>\n                                <value name="B"><block type="smartconfig_state_define"><field name="define">smartconfig.EVENT_SEND_ACK_DONE</field></block></value>\n                              </block>\n                            </value>\n                            <statement name="DO">\n                              <block type="timer_delay_ms">\n                              <value name="DELAY"><shadow type="math_number"><field name="NUM">10</field></shadow></value></block>\n                            </statement>\n                            <next>\n                              <block type="text_print">\n                                <value name="TEXT"><block type="smartconfig_get_ssid"></block></value>\n                                <next>\n                                  <block type="text_print">\n                                    <value name="TEXT"><block type="smartconfig_get_password"></block></value>\n                                    <next>\n                                      <block type="text_print">\n                                        <value name="TEXT">\n                                          <block type="smartconfig_get_phoneip"></block>\n                                        </value>\n                                        <next><block type="smartconfig_stop"></block></next>\n                                      </block>\n                                    </next>\n                                  </block>\n                                </next>\n                              </block>\n                            </next>\n                          </block>\n                        </next>\n                      </block>\n                    </next>\n                  </block>\n                </next>\n              </block>\n            </next>\n          </block>\n        </next>\n      </block>',_this.getDivider(771),_this.getSubClass("Device Network Function"),_this.getBlock("wifi_connect"),_this.getBlock("wifi_connect_log"),_this.getBlock("wifi_reconnect"),_this.getBlock("wifi_isconnect"),_this.getBlock("wifi_doConnect",[{name:"apiKey",text:""},{name:"Msg",password:""}]),_this.getBlock("Net_p2p",[{name:"apiKey",text:""},{name:"Msg",text:""}]),_this.getBlock("Net_getp2p"),_this.getSubClass("Original Network Function"),_this.getBlock("wlan_create_station"),_this.getBlock("wlan_config_ap",[{name:"essid",text:""},{name:"password",password:""}]),_this.getBlock("wlan_active"),_this.getBlock("wlan_scan"),_this.getBlock("wlan_isconnected"),_this.getBlock("wlan_connect",[{name:"essid",text:""},{name:"password",password:""}]),_this.getBlock("wlan_config"),_this.getBlock("wlan_ifconfig"),_this.getBlock("wlan_status"),_this.getBlock("wlan_disconnect"),_this.getBlock("wlan_state_define"),_this.getSubClass("Smartconfig"),_this.getBlock("smartconfig_set_type"),_this.getBlock("smartconfig_start"),_this.getBlock("smartconfig_stop"),_this.getBlock("smartconfig_get_status"),_this.getBlock("smartconfig_get_ssid"),_this.getBlock("smartconfig_get_password"),_this.getBlock("smartconfig_get_phoneip"),_this.getBlock("smartconfig_state_define")];return sessionStorage.getItem("_type"),_this.getBlocklyXMLList(t)}),this.workspace.registerToolboxCategoryCallback("UNIT_GPS",function(e){let t=[_this.getTitleBlock("GPS","unitsDocs","gps"),_this.getImageBtn("unitsDocs","gps","/assets/images/flyout/unit_gps.jpg"),_this.getDemoTitle("%{BKY_UNIT_GPS_DEMO_GET_VALUE}"),'<block type="basic_on_loop" hidden="true">\n          <statement name="LOOP">\n            <block type="text_print">\n              <value name="TEXT">\n                <block type="unit_gps_get_state">\n                  <field name="gps">gps0</field>\n                </block>\n              </value>\n              <next>\n                <block type="text_print">\n                  <value name="TEXT">\n                    <block type="unit_gps_get_latitude">\n                      <field name="latitude">gps0</field>\n                    </block>\n                  </value>\n                  <next>\n                    <block type="text_print">\n                      <value name="TEXT">\n                        <block type="unit_gps_get_longitude">\n                          <field name="longitude">gps0</field>\n                        </block>\n                      </value>\n                      <next>\n                        <block type="text_print">\n                          <value name="TEXT">\n                            <block type="unit_gps_get_positioning_quality">\n                              <field name="positioning">gps0</field>\n                            </block>\n                          </value>\n                        </block>\n                      </next>\n                    </block>\n                  </next>\n                </block>\n              </next>\n            </block>\n          </statement>\n        </block>',_this.getDivider(314),_this.getSubClass("Init"),'<block type="unit_gps_uart_init">\n          <value name="ID">\n            <shadow type="unit_gps_pos_option">\n              <field name="pos">1</field>\n            </shadow>\n          </value>\n        </block>',_this.getSubClass("Read"),_this.getBlock("unit_gps_get_state"),_this.getBlock("unit_gps_get_date"),_this.getBlock("unit_gps_get_latitude"),_this.getBlock("unit_gps_get_longitude"),_this.getBlock("unit_gps_get_altitude"),_this.getBlock("unit_gps_get_latitude_decimal"),_this.getBlock("unit_gps_get_longitude_decimal"),_this.getBlock("unit_gps_get_satellite_num"),_this.getBlock("unit_gps_get_positioning_quality")];return"Beta"==localStorage.getItem("versions")&&(t.push(_this.getBlock("unit_gps_get_speed")),t.push(_this.getBlock("unit_gps_get_course")),t.push(_this.getSubClass("Write")),t.push(_this.getBlock("unit_gps_set_time_zone",[{name:"ZONE"}]))),_this.storeSrv.getPnpEnable().subscribe(e=>{if(e){let e="";_this.pnpSrv.getComponentList().subscribe(t=>{var i;!t.length||(e=null===(i=t.find(e=>"unit_gps"===e.type))||void 0===i?void 0:i.name)}),t.push(_this.getDivider(314)),t.push(`<block type="azure_pnp_send_telemetry">\n          <mutation component="${e}"></mutation>\n          <field name="component">${e}</field>\n          <statement name="func">\n              <block type="azure_pnp_send_telemetry_child">\n                  <mutation key="devicelocation" component="${e}"></mutation>\n                  <field name="key">devicelocation</field>\n                  <value name="value1">\n                      <block type="unit_gps_get_latitude_decimal"><field name="latitude">${e}</field></block>\n                  </value>\n                  <value name="value2">\n                      <block type="unit_gps_get_longitude_decimal"><field name="latitude">${e}</field></block>\n                  </value>\n              </block>\n          </statement>\n      </block>`)}}),_this.getBlocklyXMLList(t)}),this.workspace.registerToolboxCategoryCallback("TIMERCAM",function(e){let t=[_this.getTitleBlock("%{BKY_TIMER_CAM}","quickstartLink","timer_cam"),_this.getBlock("timercam_init",[{name:"token",password:""},{name:"x"},{name:"y"},{name:"width",num:320},{name:"height",num:240}])],i=sessionStorage.getItem("_type")||src_app_utils_common_data__WEBPACK_IMPORTED_MODULE_0__.__.CORE;return[src_app_utils_common_data__WEBPACK_IMPORTED_MODULE_0__.__.CORETWO,src_app_utils_common_data__WEBPACK_IMPORTED_MODULE_0__.__.TOUGH].indexOf(i)>-1?(t.push('<block type="timercam_show"></block>'),t.push('<block type="timercam_hide"></block>'),t.push('<block type="timercam_delete"></block>')):(i===src_app_utils_common_data__WEBPACK_IMPORTED_MODULE_0__.__.CORE||i===src_app_utils_common_data__WEBPACK_IMPORTED_MODULE_0__.__.FIRE||i===src_app_utils_common_data__WEBPACK_IMPORTED_MODULE_0__.__.STICK_C||i===src_app_utils_common_data__WEBPACK_IMPORTED_MODULE_0__.__.STICK_C_PLUS)&&t.push('<block type="timercam_deinit"></block>'),_this.getBlocklyXMLList(t)}),this.workspace.registerToolboxCategoryCallback("REMOTEPLUS",function(){window.BlocklyEditor.toolbox_.selectedItem_&&_this.globalOperatorSrv.setRemotePreviewVisibility(!0);let e=[_this.getTitleBlock("%{BKY_REMOTE}+","iotservice","remote+"),_this.getBlock("remoteplus_set_qrcode",[{name:"X",num:72},{name:"Y",num:32},{name:"SIZE",num:176}])];return _this.getBlocklyXMLList(e)}),this.workspace.registerToolboxCategoryCallback("EZDATA",function(e){let t=[..._this.getEzdataAllBtn(0),_this.getBlock("ezdata_get_key_with_token",[{name:"key",text:""},{name:"token",password:_this.ezDataToken}]),_this.getBlock("ezdata_set_key_with_token",[{name:"key",text:""},{name:"value",text:""},{name:"token",password:_this.ezDataToken}]),_this.getBlock("ezdata_get_list_with_token",[{name:"key",text:""},{name:"offset"},{name:"count",num:50},{name:"token",password:_this.ezDataToken}]),_this.getBlock("ezdata_add_value_with_token",[{name:"key",text:""},{name:"value",text:""},{name:"token",password:_this.ezDataToken}]),_this.getBlock("ezdata_remove_key_with_token",[{name:"key",text:""},{name:"token",password:_this.ezDataToken}]),_this.getBlock("ezdata_get_iso_date"),_this.getSubClass("Async"),`<block type="ezdata_async_get_value">\n          <value name="key">\n            <shadow type="text">\n              <field name="TEXT"></field>\n            </shadow>\n          </value>\n          <value name="token">\n            <shadow type="text_password">\n              <field name="TEXT">${_this.ezDataToken}</field>\n            </shadow>\n          </value>\n          <value name="value">\n          <block type="variables_get">\n            <field name="VAR">ezdata_value</field>\n          </block>\n        </value>\n        </block>`,`<block type="ezdata_async_set_value">\n          <value name="value">\n            <shadow type="text">\n              <field name="TEXT"></field>\n            </shadow>\n          </value>\n          <value name="key">\n            <shadow type="text">\n              <field name="TEXT"></field>\n            </shadow>\n          </value>\n          <value name="token">\n            <shadow type="text_password">\n              <field name="TEXT">${_this.ezDataToken}</field>\n            </shadow>\n          </value>\n        </block>`,`<block type="ezdata_async_get_list_value">\n        <value name="key">\n          <shadow type="text">\n            <field name="TEXT"></field>\n          </shadow>\n        </value>\n        <value name="offset">\n          <shadow type="math_number">\n            <field name="NUM">0</field>\n          </shadow>\n        </value>\n        <value name="count">\n          <shadow type="math_number">\n            <field name="NUM">50</field>\n          </shadow>\n        </value>\n        <value name="token">\n          <shadow type="text_password">\n            <field name="TEXT">${_this.ezDataToken}</field>\n          </shadow>\n        </value>\n        <value name="value">\n          <block type="variables_get">\n            <field name="VAR">ezdata_list_value</field>\n          </block>\n        </value>\n      </block>`,`<block type="ezdata_async_set_list_value">\n      <value name="value">\n        <shadow type="text">\n          <field name="TEXT"></field>\n        </shadow>\n      </value>\n      <value name="key">\n        <shadow type="text">\n          <field name="TEXT"></field>\n        </shadow>\n      </value>\n      <value name="token">\n        <shadow type="text_password">\n          <field name="TEXT">${_this.ezDataToken}</field>\n        </shadow>\n      </value>\n    </block>`,`<block type="ezdata_async_remove">\n      <value name="key">\n        <shadow type="text">\n          <field name="TEXT"></field>\n        </shadow>\n      </value>\n      <value name="token">\n        <shadow type="text_password">\n          <field name="TEXT">${_this.ezDataToken}</field>\n        </shadow>\n      </value>\n    </block>`,'<block type="ezdata_async_get_iso_date">\n      <value name="value">\n        <block type="variables_get">\n          <field name="VAR">ISODateTime</field>\n        </block>\n      </value>\n    </block>'];return setTimeout(()=>{_this.moveEzdataCopyBtn()}),_this.getBlocklyXMLList(t)}),this.workspace.registerToolboxCategoryCallback("IOTBASE",function(e){let t=[_this.getTitleBlock("%{BKY_IOTBASE}","skuDocs","K064"),_this.getImageBtn("skuDocs","K064","/assets/images/flyout/iot_base_nb.jpg"),_this.getSubClassCollapse("Status &amp; Control"),_this.getBlock("iotbase_modem_power"),_this.getBlock("iotbase_get_imei"),_this.getBlock("iotbase_get_ccid"),_this.getBlock("iotbase_power_down_module"),_this.getBlock("iotbase_reset_module"),_this.getBlock("iotbase_set_echo_mode"),_this.getBlock("iotbase_check_status"),_this.getBlock("iotbase_check_single_quality"),_this.getBlock("iotbase_check_network_registration"),_this.getBlock("iotbase_check_gprs_network_registration"),'<block type="iotbase_at_command_tester">\n          <value name="cmd">\n            <shadow type="text">\n              <field name="TEXT">AT</field>\n            </shadow>\n          </value>\n          <value name="keyword">\n            <shadow type="text">\n              <field name="TEXT">OK</field>\n            </shadow>\n          </value>\n          <value name="timeout">\n            <shadow type="math_slider">\n              <field name="NUM" min="1000" max="25000">1000</field>\n            </shadow>\n          </value>\n        </block>',_this.getSubClassCollapse("%{BKY_NBIOT_MQTT_TITLE}"),_this.getBlock("iotbase_mqtt_connect",[{name:"server",text:"mqtt.m5stack.com"},{name:"port",num:1883},{name:"client_id",text:""},{name:"username",text:""},{name:"passwd",password:""},{name:"keepalive",num:120}]),_this.getBlock("iotbase_mqtt_disconnect"),_this.getBlock("iotbase_mqtt_sub",[{name:"topic",text:""},{name:"qos"}]),'<block type="iotbase_mqtt_sub_cb">\n          <value name="topic">\n            <block type="variables_get">\n              <field name="VAR">nb_topic</field>\n            </block>\n          </value>\n          <value name="msg">\n            <block type="variables_get">\n              <field name="VAR">nb_msg</field>\n            </block>\n          </value>\n        </block>',_this.getBlock("iotbase_mqtt_unsubscribe",[{name:"topic",text:""}]),_this.getBlock("iotbase_mqtt_publish",[{name:"topic",text:""},{name:"payload",text:""},{name:"qos"}]),_this.getBlock("iotbase_mqtt_check_connection"),_this.getBlock("iotbase_mqtt_poll",[{name:"topic",text:""}]),_this.getSubClassCollapse("%{BKY_NBIOT_COAP_TITLE}"),_this.getBlock("iotbase_coap_init_ip",[{name:"ip",text:"120.77.157.90"},{name:"port",num:5683}]),_this.getBlock("iotbase_coap_get",[{name:"url",text:"/m5stack-get"}]),_this.getBlock("iotbase_coap_post",[{name:"url",text:"/m5stack-post"},{name:"payload",text:""}]),_this.getBlock("iotbase_coap_put",[{name:"url",text:"/m5stack-put"},{name:"payload",text:""}]),_this.getBlock("iotbase_coap_destroy"),_this.getSubClassCollapse("Modbus Init"),_this.getBlock("iotbase_modbus_init",[{name:"tx",num:15},{name:"rx",num:13},{name:"bandrate",num:115200},{name:"slaveAddr",num:1}]),_this.getSubClassCollapse("Modbus-Master Write"),_this.getBlock("iotbase_modbus_master_u_write_single_coil",[{name:"slave_addr",slider:1,min:0,max:255},{name:"output_address",slider:1,min:0,max:65535},{name:"output_value"}]),_this.getBlock("iotbase_modbus_master_u_write_single_register",[{name:"slave_addr",slider:1,min:0,max:255},{name:"register_address",slider:1,min:0,max:65535},{name:"register_value"}]),_this.getBlock("iotbase_modbus_master_u_write_multiple_coils",[{name:"slave_addr",slider:1,min:0,max:255},{name:"starting_addr",slider:1,min:0,max:65535},{name:"output_value"}]),_this.getBlock("iotbase_modbus_master_u_write_multiple_registers",[{name:"slave_addr",slider:1,min:0,max:255},{name:"starting_addr",slider:1,min:0,max:65535},{name:"register_values"}]),_this.getSubClassCollapse("Modbus-Master Read"),_this.getBlock("iotbase_modbus_master_u_read_coils",[{name:"slave_addr",slider:1,min:0,max:255},{name:"starting_addr",slider:1,min:0,max:65535},{name:"coil_qty"}]),_this.getBlock("iotbase_modbus_master_u_read_discrete_inputs",[{name:"slave_addr",slider:1,min:0,max:255},{name:"starting_addr",slider:1,min:0,max:65535},{name:"input_qty"}]),_this.getBlock("iotbase_modbus_master_u_read_holding_registers",[{name:"slave_addr",slider:1,min:0,max:255},{name:"starting_addr",slider:1,min:0,max:65535},{name:"register_qty"}]),_this.getBlock("iotbase_modbus_master_u_read_input_registers",[{name:"slave_addr",slider:1,min:0,max:255},{name:"starting_addr",slider:1,min:0,max:65535},{name:"register_qty"}]),_this.getSubClassCollapse("Modbus-Slave Init"),_this.getBlock("iotbase_modbus_slave_rtu_init_func",[{name:"START_ADDR"},{name:"quantity"}]),_this.getSubClassCollapse("Modbus-Slave Write"),'<block type="iotbase_modbus_slave_rtu_update_func">\n        <value name="START_ADDR">\n          <shadow type="math_number">\n            <field name="NUM">0</field>\n          </shadow>\n        </value>\n        <value name="quantity">\n          <shadow type="math_number">\n            <field name="NUM">0</field>\n          </shadow>\n        </value>\n        <value name="VALUE">\n          <block type="lists_create_with">\n            <value name="ADD0">\n              <block type="math_number"><field name="NUM">0</field></block>\n            </value>\n            <value name="ADD1">\n              <block type="math_number"><field name="NUM">0</field></block>\n            </value>\n            <value name="ADD2">\n              <block type="math_number"><field name="NUM">0</field></block>\n            </value>\n          </block>\n        </value>\n      </block>',_this.getBlock("iotbase_modbus_slave_rtu_send",[{name:"VALUE",num:1}]),_this.getSubClassCollapse("Modbus-Slave Read"),_this.getBlock("iotbase_modbus_slave_rtu_receive_adu"),_this.getBlock("iotbase_modbus_slave_rtu_get_function"),_this.getBlock("iotbase_modbus_slave_rtu_fun_status"),_this.getBlock("iotbase_modbus_slave_rtu_get_address"),_this.getBlock("iotbase_modbus_slave_rtu_get_quantity"),_this.getSubClassCollapse("Uart Write"),_this.getBlock("iotbase_uart_write_line",[{name:"VALUE",text:""}]),_this.getBlock("iotbase_uart_write",[{name:"VALUE",text:""}]),'<block type="iotbase_uart_write_raw_data">\n        <value name="VALUE">\n          <block type="lists_create_with">\n            <value name="ADD0">\n              <block type="math_number"><field name="NUM">0</field></block>\n            </value>\n            <value name="ADD1">\n              <block type="math_number"><field name="NUM">0</field></block>\n            </value>\n            <value name="ADD2">\n              <block type="math_number"><field name="NUM">0</field></block>\n            </value>\n          </block>\n        </value>\n      </block>',_this.getSubClassCollapse("Uart Read"),_this.getBlock("iotbase_uart_read"),_this.getBlock("iotbase_uart_read_characters",[{name:"NUM",num:10}]),_this.getBlock("iotbase_uart_readline"),_this.getBlock("iotbase_uart_any"),..._this.getEzdataAllBtn(1),_this.getBlock("iotbase_ezdata_async_get_value",[{name:"key",text:""},{name:"token",password:_this.ezDataToken}]),_this.getBlock("iotbase_ezdata_save",[{name:"value",text:""},{name:"topic",text:""},{name:"token",password:_this.ezDataToken}]),_this.getBlock("iotbase_ezdata_remove",[{name:"topic",text:""},{name:"token",password:_this.ezDataToken}])];return setTimeout(()=>{_this.moveEzdataCopyBtn()}),_this.getBlocklyXMLList(t)}),this.workspace.registerToolboxCategoryCallback("IOTBASECATM",function(e){let t=[_this.getTitleBlock("%{BKY_IOTBASE_CATM}","skuDocs","M119"),_this.getImageBtn("skuDocs","M119","/assets/images/flyout/iot_base_catm.jpg"),_this.getSubClassCollapse("Init"),_this.getBlock("iotbasecatm_init_modem"),_this.getSubClassCollapse("Power save"),_this.getBlock("iotbasecatm_power_save_mode",[{name:"peridic_duration",num:10},{name:"active_duration",num:5}]),_this.getBlock("iotbasecatm_disable_power_save_mode"),_this.getSubClassCollapse("Status &amp; Control"),_this.getBlock("iotbasecatm_get_imei"),_this.getBlock("iotbasecatm_get_ccid"),_this.getBlock("iotbasecatm_power_down_module"),_this.getBlock("iotbasecatm_set_echo_mode"),_this.getBlock("iotbasecatm_check_status"),_this.getBlock("iotbasecatm_check_single_quality"),_this.getBlock("iotbasecatm_check_network_registration"),'<block type="iotbasecatm_at_command_tester">\n          <value name="cmd">\n            <shadow type="text">\n              <field name="TEXT">AT</field>\n            </shadow>\n          </value>\n          <value name="keyword">\n            <shadow type="text">\n              <field name="TEXT">OK</field>\n            </shadow>\n          </value>\n          <value name="timeout">\n            <shadow type="math_slider">\n              <field name="NUM" min="1000" max="25000">1000</field>\n            </shadow>\n          </value>\n        </block>',_this.getSubClassCollapse("GPRS"),_this.getBlock("iotbasecatm_gprs_service"),_this.getBlock("iotbasecatm_check_gprs_network_registration"),_this.getBlock("iotbasecatm_enable_pdp_context"),_this.getBlock("iotbasecatm_show_pdp_address"),_this.getSubClassCollapse("IP"),_this.getBlock("iotbasecatm_network_active"),_this.getBlock("iotbasecatm_network_ip_id"),_this.getSubClassCollapse("HTTPS"),'<block type="iotbasecatm_http_services">\n          <value name="url">\n            <shadow type="text">\n              <field name="TEXT"></field>\n            </shadow>\n          </value>\n          <value name="path">\n            <shadow type="text">\n              <field name="TEXT"></field>\n            </shadow>\n          </value>\n          <value name="headers">\n            <block type="map_on_loop">\n            </block>\n          </value>\n          <value name="payload">\n            <shadow type="text">\n              <field name="TEXT"></field>\n            </shadow>\n          </value>\n        </block>',_this.getBlock("iotbasecatm_disconnect_server"),_this.getSubClassCollapse("%{BKY_NBIOT_MQTT_TITLE}"),_this.getBlock("iotbasecatm_mqtt_connect",[{name:"server",text:"mqtt.m5stack.com"},{name:"port",num:1883},{name:"client_id",text:""},{name:"username",text:""},{name:"passwd",password:""},{name:"keepalive",num:120}]),_this.getBlock("iotbasecatm_mqtt_disconnect"),_this.getBlock("iotbasecatm_mqtt_sub",[{name:"topic",text:""},{name:"qos"}]),'<block type="iotbasecatm_mqtt_sub_cb">\n          <value name="topic">\n            <block type="variables_get">\n              <field name="VAR">catm_topic</field>\n            </block>\n          </value>\n          <value name="msg">\n            <block type="variables_get">\n              <field name="VAR">catm_msg</field>\n            </block>\n          </value>\n        </block>',_this.getBlock("iotbasecatm_mqtt_unsubscribe",[{name:"topic",text:""}]),_this.getBlock("iotbasecatm_mqtt_publish",[{name:"topic",text:""},{name:"payload",text:""},{name:"qos"}]),_this.getBlock("iotbasecatm_mqtt_check_connection"),_this.getBlock("iotbasecatm_mqtt_poll",[{name:"topic",text:""}]),_this.getSubClassCollapse("%{BKY_NBIOT_COAP_TITLE}"),_this.getBlock("iotbasecatm_coap_init",[{name:"ip",text:"120.77.157.90"},{name:"port",num:5683}]),_this.getBlock("iotbasecatm_coap_get",[{name:"url",text:"/m5stack-get"}]),_this.getBlock("iotbasecatm_coap_post",[{name:"url",text:"/m5stack-post"},{name:"payload",text:""}]),_this.getBlock("iotbasecatm_coap_delete"),_this.getSubClassCollapse("Modbus Init"),_this.getBlock("iotbasecatm_modbus_init",[{name:"tx",num:15},{name:"rx",num:13},{name:"bandrate",num:115200},{name:"slaveAddr",num:1}]),_this.getSubClassCollapse("Modbus-Master Write"),_this.getBlock("iotbasecatm_modbus_master_u_write_single_coil",[{name:"slave_addr",slider:1,min:0,max:255},{name:"output_address",slider:1,min:0,max:65535},{name:"output_value"}]),_this.getBlock("iotbasecatm_modbus_master_u_write_single_register",[{name:"slave_addr",slider:1,min:0,max:255},{name:"register_address",slider:1,min:0,max:65535},{name:"register_value"}]),_this.getBlock("iotbasecatm_modbus_master_u_write_multiple_coils",[{name:"slave_addr",slider:1,min:0,max:255},{name:"starting_addr",slider:1,min:0,max:65535},{name:"output_value"}]),_this.getBlock("iotbasecatm_modbus_master_u_write_multiple_registers",[{name:"slave_addr",slider:1,min:0,max:255},{name:"starting_addr",slider:1,min:0,max:65535},{name:"register_values"}]),_this.getSubClassCollapse("Modbus-Master Read"),_this.getBlock("iotbasecatm_modbus_master_u_read_coils",[{name:"slave_addr",slider:1,min:0,max:255},{name:"starting_addr",slider:1,min:0,max:65535},{name:"coil_qty"}]),_this.getBlock("iotbasecatm_modbus_master_u_read_discrete_inputs",[{name:"slave_addr",slider:1,min:0,max:255},{name:"starting_addr",slider:1,min:0,max:65535},{name:"input_qty"}]),_this.getBlock("iotbasecatm_modbus_master_u_read_holding_registers",[{name:"slave_addr",slider:1,min:0,max:255},{name:"starting_addr",slider:1,min:0,max:65535},{name:"register_qty"}]),_this.getBlock("iotbasecatm_modbus_master_u_read_input_registers",[{name:"slave_addr",slider:1,min:0,max:255},{name:"starting_addr",slider:1,min:0,max:65535},{name:"register_qty"}]),_this.getSubClassCollapse("Modbus-Slave Init"),_this.getBlock("iotbasecatm_modbus_slave_rtu_init_func",[{name:"START_ADDR"},{name:"quantity"}]),_this.getSubClassCollapse("Modbus-Slave Write"),'<block type="iotbasecatm_modbus_slave_rtu_update_func">\n        <value name="START_ADDR">\n          <shadow type="math_number">\n            <field name="NUM">0</field>\n          </shadow>\n        </value>\n        <value name="quantity">\n          <shadow type="math_number">\n            <field name="NUM">0</field>\n          </shadow>\n        </value>\n        <value name="VALUE">\n          <block type="lists_create_with">\n            <value name="ADD0">\n              <block type="math_number"><field name="NUM">0</field></block>\n            </value>\n            <value name="ADD1">\n              <block type="math_number"><field name="NUM">0</field></block>\n            </value>\n            <value name="ADD2">\n              <block type="math_number"><field name="NUM">0</field></block>\n            </value>\n          </block>\n        </value>\n      </block>',_this.getBlock("iotbasecatm_modbus_slave_rtu_send",[{name:"VALUE",num:1}]),_this.getSubClassCollapse("Modbus-Slave Read"),_this.getBlock("iotbasecatm_modbus_slave_rtu_receive_adu"),_this.getBlock("iotbasecatm_modbus_slave_rtu_get_function"),_this.getBlock("iotbasecatm_modbus_slave_rtu_fun_status"),_this.getBlock("iotbasecatm_modbus_slave_rtu_get_address"),_this.getBlock("iotbasecatm_modbus_slave_rtu_get_quantity"),_this.getSubClassCollapse("Uart Write"),_this.getBlock("iotbasecatm_uart_write_line",[{name:"VALUE",text:""}]),_this.getBlock("iotbasecatm_uart_write",[{name:"VALUE",text:""}]),'<block type="iotbasecatm_uart_write_raw_data">\n        <value name="VALUE">\n          <block type="lists_create_with">\n            <value name="ADD0">\n              <block type="math_number"><field name="NUM">0</field></block>\n            </value>\n            <value name="ADD1">\n              <block type="math_number"><field name="NUM">0</field></block>\n            </value>\n            <value name="ADD2">\n              <block type="math_number"><field name="NUM">0</field></block>\n            </value>\n          </block>\n        </value>\n      </block>',_this.getSubClassCollapse("Uart Read"),_this.getBlock("iotbasecatm_uart_read"),_this.getBlock("iotbasecatm_uart_read_characters",[{name:"NUM",num:10}]),_this.getBlock("iotbasecatm_uart_readline"),_this.getBlock("iotbasecatm_uart_any"),..._this.getEzdataAllBtn(1),_this.getBlock("iotbasecatm_ezdata_async_get_value",[{name:"key",text:""},{name:"token",password:_this.ezDataToken}]),_this.getBlock("iotbasecatm_ezdata_save",[{name:"value",text:""},{name:"topic",text:""},{name:"token",password:_this.ezDataToken}]),_this.getBlock("iotbasecatm_ezdata_remove",[{name:"topic",text:""},{name:"token",password:_this.ezDataToken}])];return setTimeout(()=>{_this.moveEzdataCopyBtn()}),_this.getBlocklyXMLList(t)}),this.workspace.registerToolboxCategoryCallback("UNIT_CATM",function(e){let t=[_this.getTitleBlock("%{BKY_UNIT_CATM}","skuDocs","U128"),_this.getImageBtn("skuDocs","U128","/assets/images/flyout/unit_catm.jpg"),_this.getExamplesBtn("unit_catm_ezdata_demo"),_this.getSubClassCollapse("Init"),_this.getBlock("unit_catm_init_module"),'<block type="unit_catm_uart_init">\n          <value name="ID">\n            <shadow type="unit_catm_pos_option">\n              <field name="pos">1</field>\n            </shadow>\n          </value>\n        </block>',_this.getSubClassCollapse("Status &amp; Control"),_this.getBlock("unit_catm_get_imei"),_this.getBlock("unit_catm_get_ccid"),_this.getBlock("unit_catm_power_down_module"),_this.getBlock("unit_catm_set_echo_mode"),_this.getBlock("unit_catm_check_status"),_this.getBlock("unit_catm_check_single_quality"),_this.getBlock("unit_catm_check_network_registration"),'<block type="unit_catm_at_command_tester">\n          <value name="cmd">\n            <shadow type="text">\n              <field name="TEXT">AT</field>\n            </shadow>\n          </value>\n          <value name="keyword">\n            <shadow type="text">\n              <field name="TEXT">OK</field>\n            </shadow>\n          </value>\n          <value name="timeout">\n            <shadow type="math_slider">\n              <field name="NUM" min="1000" max="25000">1000</field>\n            </shadow>\n          </value>\n        </block>',_this.getSubClassCollapse("GPRS"),_this.getBlock("unit_catm_gprs_service"),_this.getBlock("unit_catm_check_gprs_network_registration"),_this.getBlock("unit_catm_enable_pdp_context"),_this.getBlock("unit_catm_show_pdp_address"),_this.getSubClassCollapse("IP"),_this.getBlock("unit_catm_network_active"),_this.getBlock("unit_catm_network_ip_id"),_this.getSubClassCollapse("HTTPS"),'<block type="unit_catm_http_services">\n          <value name="url">\n            <shadow type="text">\n              <field name="TEXT"></field>\n            </shadow>\n          </value>\n          <value name="path">\n            <shadow type="text">\n              <field name="TEXT"></field>\n            </shadow>\n          </value>\n          <value name="headers">\n            <block type="map_on_loop">\n            </block>\n          </value>\n          <value name="payload">\n            <shadow type="text">\n              <field name="TEXT"></field>\n            </shadow>\n          </value>\n        </block>',_this.getBlock("unit_catm_disconnect_server"),_this.getSubClassCollapse("%{BKY_NBIOT_MQTT_TITLE}"),_this.getBlock("unit_catm_mqtt_connect",[{name:"server",text:"mqtt.m5stack.com"},{name:"port",num:1883},{name:"client_id",text:""},{name:"username",text:""},{name:"passwd",password:""},{name:"keepalive",num:120}]),_this.getBlock("unit_catm_mqtt_disconnect"),_this.getBlock("unit_catm_mqtt_sub",[{name:"topic",text:""},{name:"qos"}]),'<block type="unit_catm_mqtt_sub_cb">\n          <value name="topic">\n            <block type="variables_get">\n              <field name="VAR">catm_topic</field>\n            </block>\n          </value>\n          <value name="msg">\n            <block type="variables_get">\n              <field name="VAR">catm_msg</field>\n            </block>\n          </value>\n        </block>',_this.getBlock("unit_catm_mqtt_unsubscribe",[{name:"topic",text:""}]),_this.getBlock("unit_catm_mqtt_publish",[{name:"topic",text:""},{name:"payload",text:""},{name:"qos"}]),_this.getBlock("unit_catm_mqtt_check_connection"),_this.getBlock("unit_catm_mqtt_poll",[{name:"topic",text:""}]),_this.getSubClassCollapse("%{BKY_NBIOT_COAP_TITLE}"),_this.getBlock("unit_catm_coap_init",[{name:"ip",text:"120.77.157.90"},{name:"port",num:5683}]),_this.getBlock("unit_catm_coap_get",[{name:"url",text:"/m5stack-get"}]),_this.getBlock("unit_catm_coap_post",[{name:"url",text:"/m5stack-post"},{name:"payload",text:""}]),_this.getBlock("unit_catm_coap_delete"),..._this.getEzdataAllBtn(1),_this.getBlock("unit_catm_ezdata_async_get_value",[{name:"key",text:""},{name:"token",password:_this.ezDataToken}]),_this.getBlock("unit_catm_ezdata_save",[{name:"value",text:""},{name:"topic",text:""},{name:"token",password:_this.ezDataToken}]),_this.getBlock("unit_catm_ezdata_remove",[{name:"topic",text:""},{name:"token",password:_this.ezDataToken}])];return setTimeout(()=>{_this.moveEzdataCopyBtn()}),_this.getBlocklyXMLList(t)}),this.workspace.registerToolboxCategoryCallback("GPS",function(e){let t=_this.getDefaultGPIO()[0],i=_this.getDefaultGPIO()[1];const n=`<block type="gps_set_custom"  hidden="true">\n        <value name="TX"><shadow type="math_number"><field name="NUM">${t}</field></shadow></value>\n        <value name="RX"><shadow type="math_number"><field name="NUM">${i}</field></shadow></value>\n        <next>\n          <block type="basic_on_loop">\n          <statement name="LOOP">\n            <block type="text_print">\n              <value name="TEXT">\n                <block type="text_add">\n                  <value name="arg0"><shadow type="text"><field name="TEXT">Latitude: </field></shadow></value>\n                  <value name="arg1"><block type="gps_get_latitude"></block></value>\n                </block>\n              </value>\n              <next>\n                <block type="text_print">\n                  <value name="TEXT">\n                    <block type="text_add">\n                      <value name="arg0"><shadow type="text"><field name="TEXT"> Longitude: </field></shadow></value>\n                      <value name="arg1"><block type="gps_get_longitude"></block></value>\n                    </block>\n                  </value>\n                </block>\n              </next>\n            </block>\n          </statement>\n        </block>\n      </next>\n      </block>`;let o=[_this.getTitleBlock("%{BKY_GPS}","skuDocs","M003"),_this.getImageBtn("skuDocs","M003","/assets/images/flyout/gps.jpg"),_this.getDemoTitle("%{BKY_GPS_DEMO_READ}"),n,_this.getDivider(430),_this.getSubClass("Init"),_this.getBlock("gps_set_custom",[{name:"TX",num:t},{name:"RX",num:i}]),'<block type="gps_uart_init">\n          <value name="ID">\n            <shadow type="unit_gps_pos_option">\n              <field name="pos">1</field>\n            </shadow>\n          </value>\n        </block>',_this.getSubClass("Read"),_this.getBlock("gps_get_state"),_this.getBlock("gps_get_date"),_this.getBlock("gps_get_latitude"),_this.getBlock("gps_get_longitude"),_this.getBlock("gps_get_altitude"),_this.getBlock("gps_get_latitude_decimal"),_this.getBlock("gps_get_longitude_decimal"),_this.getBlock("gps_get_satellite_num"),_this.getBlock("gps_get_positioning_quality"),_this.getBlock("gps_get_speed"),_this.getBlock("gps_get_course"),_this.getSubClass("Write"),_this.getBlock("gps_set_time_zone",[{name:"ZONE",slider:8,min:-12,max:12}])];return _this.getBlocklyXMLList(o)}),this.workspace.registerToolboxCategoryCallback("COM_CAT1",function(e){let t=_this.getDefaultGPIO()[0],i=_this.getDefaultGPIO()[1],n=[_this.getTitleBlock("%{BKY_CAT1}","skuDocs","M031-H"),_this.getImageBtn("skuDocs","M031-H","/assets/images/flyout/comx_cat1.jpg"),_this.getSubClassCollapse("Status &amp; Control"),_this.getBlock("com_cat1_init",[{name:"TX",num:t},{name:"RX",num:i}]),_this.getBlock("com_cat1_power_down_module"),_this.getBlock("com_cat1_reset_module"),_this.getBlock("com_cat1_set_echo_mode"),_this.getBlock("com_cat1_get_imei"),_this.getBlock("com_cat1_get_ccid"),_this.getBlock("com_cat1_check_status"),_this.getBlock("com_cat1_check_single_quality"),_this.getBlock("com_cat1_check_network_registration"),_this.getBlock("com_cat1_check_gprs_network_registration"),_this.getBlock("com_cat1_enable_pdp_context"),'<block type="com_cat1_at_command_tester">\n          <value name="cmd">\n            <shadow type="text">\n              <field name="TEXT">AT</field>\n            </shadow>\n          </value>\n          <value name="keyword">\n            <shadow type="text">\n              <field name="TEXT">OK</field>\n            </shadow>\n          </value>\n          <value name="timeout">\n            <shadow type="math_slider">\n              <field name="NUM" min="1000" max="25000">1000</field>\n            </shadow>\n          </value>\n        </block>',_this.getSubClassCollapse("%{BKY_HTTP_METHODS}"),_this.getBlock("com_cat1_http_get",[{name:"url",text:""}]),_this.getBlock("com_cat1_http_post",[{name:"url",text:""},{name:"data",text:""}]),_this.getBlock("com_cat1_http_terminate"),_this.getSubClassCollapse("%{BKY_NBIOT_MQTT_TITLE}"),_this.getBlock("com_cat1_mqtt_connect",[{name:"server",text:"mqtt.m5stack.com"},{name:"port",num:1883},{name:"client_id",text:""},{name:"username",text:""},{name:"passwd",password:""},{name:"keepalive",num:120}]),_this.getBlock("com_cat1_mqtt_check_connect"),_this.getBlock("com_cat1_mqtt_disconnect"),_this.getBlock("com_cat1_mqtt_sub",[{name:"topic",text:""},{name:"qos"}]),'<block type="com_cat1_mqtt_sub_cb">\n          <value name="topic">\n            <block type="variables_get">\n              <field name="VAR">cat_topic</field>\n            </block>\n          </value>\n          <value name="msg">\n            <block type="variables_get">\n              <field name="VAR">cat_msg</field>\n            </block>\n          </value>\n        </block>',_this.getBlock("com_cat1_mqtt_unsubscribe",[{name:"topic",text:""}]),_this.getBlock("com_cat1_mqtt_publish",[{name:"topic",text:""},{name:"payload",text:""},{name:"qos"}]),_this.getBlock("com_cat1_mqtt_poll",[{name:"topic",text:""}]),..._this.getEzdataAllBtn(1),_this.getBlock("com_cat1_ezdata_async_get_value",[{name:"key",text:""},{name:"token",password:_this.ezDataToken}]),_this.getBlock("com_cat1_ezdata_save",[{name:"value",text:""},{name:"topic",text:""},{name:"token",password:_this.ezDataToken}]),_this.getBlock("com_cat1_ezdata_remove",[{name:"topic",text:""},{name:"token",password:_this.ezDataToken}])];return setTimeout(()=>{_this.moveEzdataCopyBtn()}),_this.getBlocklyXMLList(n)}),this.workspace.registerToolboxCategoryCallback("DTU_CAT1",function(e){let t=_this.getDefaultGPIO()[0],i=_this.getDefaultGPIO()[1],n=[_this.getTitleBlock("%{BKY_DTU_CAT1}","atomDocs","atom_dtu_cat1"),_this.getImageBtn("atomDocs","atom_dtu_cat1","/assets/images/flyout/dtu_cat1.jpg"),_this.getExamplesBtn("atom_dtu_cat1_demo"),_this.getSubClassCollapse("Status &amp; Control"),_this.getBlock("dtu_cat1_init",[{name:"TX",num:t},{name:"RX",num:i}]),_this.getBlock("dtu_cat1_power_down_module"),_this.getBlock("dtu_cat1_reset_module"),_this.getBlock("dtu_cat1_set_echo_mode"),_this.getBlock("dtu_cat1_get_imei"),_this.getBlock("dtu_cat1_get_ccid"),_this.getBlock("dtu_cat1_check_status"),_this.getBlock("dtu_cat1_check_single_quality"),_this.getBlock("dtu_cat1_check_network_registration"),_this.getBlock("dtu_cat1_check_gprs_network_registration"),_this.getBlock("dtu_cat1_enable_pdp_context"),_this.getSubClassCollapse("%{BKY_HTTP_METHODS}"),_this.getBlock("dtu_cat1_http_get",[{name:"url",text:""}]),_this.getBlock("dtu_cat1_http_post",[{name:"url",text:""},{name:"data",text:""}]),_this.getBlock("dtu_cat1_http_terminate"),_this.getSubClassCollapse("%{BKY_NBIOT_MQTT_TITLE}"),_this.getBlock("dtu_cat1_mqtt_connect",[{name:"server",text:"mqtt.m5stack.com"},{name:"port",num:1883},{name:"client_id",text:""},{name:"username",text:""},{name:"passwd",password:""},{name:"keepalive",num:120}]),_this.getBlock("dtu_cat1_mqtt_check_connect"),_this.getBlock("dtu_cat1_mqtt_disconnect"),_this.getBlock("dtu_cat1_mqtt_sub",[{name:"topic",text:""},{name:"qos"}]),'<block type="dtu_cat1_mqtt_sub_cb">\n          <value name="topic">\n            <block type="variables_get">\n              <field name="VAR">cat_topic</field>\n            </block>\n          </value>\n          <value name="msg">\n            <block type="variables_get">\n              <field name="VAR">cat_msg</field>\n            </block>\n          </value>\n        </block>',_this.getBlock("dtu_cat1_mqtt_unsubscribe",[{name:"topic",text:""}]),_this.getBlock("dtu_cat1_mqtt_publish",[{name:"topic",text:""},{name:"payload",text:""},{name:"qos"}]),_this.getBlock("dtu_cat1_mqtt_poll",[{name:"topic",text:""}]),_this.getSubClassCollapse("Modbus Init"),_this.getBlock("dtu_cat1_modbus_init",[{name:"bandrate",num:115200},{name:"slaveAddr",num:1}]),_this.getSubClassCollapse("Modbus-Master Write"),_this.getBlock("dtu_cat1_modbus_master_u_write_single_coil",[{name:"slave_addr",slider:1,min:0,max:255},{name:"output_address",slider:1,min:0,max:65535},{name:"output_value"}]),_this.getBlock("dtu_cat1_modbus_master_u_write_single_register",[{name:"slave_addr",slider:1,min:0,max:255},{name:"register_address",slider:1,min:0,max:65535},{name:"register_value"}]),_this.getBlock("dtu_cat1_modbus_master_u_write_multiple_coils",[{name:"slave_addr",slider:1,min:0,max:255},{name:"starting_addr",slider:1,min:0,max:65535},{name:"output_value"}]),_this.getBlock("dtu_cat1_modbus_master_u_write_multiple_registers",[{name:"slave_addr",slider:1,min:0,max:255},{name:"starting_addr",slider:1,min:0,max:65535},{name:"register_values"}]),_this.getSubClassCollapse("Modbus-Master Read"),_this.getBlock("dtu_cat1_modbus_master_u_read_coils",[{name:"slave_addr",slider:1,min:0,max:255},{name:"starting_addr",slider:1,min:0,max:65535},{name:"coil_qty"}]),_this.getBlock("dtu_cat1_modbus_master_u_read_discrete_inputs",[{name:"slave_addr",slider:1,min:0,max:255},{name:"starting_addr",slider:1,min:0,max:65535},{name:"input_qty"}]),_this.getBlock("dtu_cat1_modbus_master_u_read_holding_registers",[{name:"slave_addr",slider:1,min:0,max:255},{name:"starting_addr",slider:1,min:0,max:65535},{name:"register_qty"}]),_this.getBlock("dtu_cat1_modbus_master_u_read_input_registers",[{name:"slave_addr",slider:1,min:0,max:255},{name:"starting_addr",slider:1,min:0,max:65535},{name:"register_qty"}]),_this.getSubClassCollapse("Modbus-Slave Init"),_this.getBlock("dtu_cat1_modbus_slave_rtu_init_func",[{name:"START_ADDR"},{name:"quantity"}]),_this.getSubClassCollapse("Modbus-Slave Write"),'<block type="dtu_cat1_modbus_slave_rtu_update_func">\n        <value name="START_ADDR">\n          <shadow type="math_number">\n            <field name="NUM">0</field>\n          </shadow>\n        </value>\n        <value name="quantity">\n          <shadow type="math_number">\n            <field name="NUM">0</field>\n          </shadow>\n        </value>\n        <value name="VALUE">\n          <block type="lists_create_with">\n            <value name="ADD0">\n              <block type="math_number"><field name="NUM">0</field></block>\n            </value>\n            <value name="ADD1">\n              <block type="math_number"><field name="NUM">0</field></block>\n            </value>\n            <value name="ADD2">\n              <block type="math_number"><field name="NUM">0</field></block>\n            </value>\n          </block>\n        </value>\n      </block>',_this.getBlock("dtu_cat1_modbus_slave_rtu_send",[{name:"VALUE",num:1}]),_this.getSubClassCollapse("Modbus-Slave Read"),_this.getBlock("dtu_cat1_modbus_slave_rtu_receive_adu"),_this.getBlock("dtu_cat1_modbus_slave_rtu_get_function"),_this.getBlock("dtu_cat1_modbus_slave_rtu_fun_status"),_this.getBlock("dtu_cat1_modbus_slave_rtu_get_address"),_this.getBlock("dtu_cat1_modbus_slave_rtu_get_quantity"),_this.getSubClassCollapse("Uart Write"),_this.getBlock("dtu_cat1_uart_write_line",[{name:"VALUE",text:""}]),_this.getBlock("dtu_cat1_uart_write",[{name:"VALUE",text:""}]),'<block type="dtu_cat1_uart_write_raw_data">\n        <value name="VALUE">\n          <block type="lists_create_with">\n            <value name="ADD0">\n              <block type="math_number"><field name="NUM">0</field></block>\n            </value>\n            <value name="ADD1">\n              <block type="math_number"><field name="NUM">0</field></block>\n            </value>\n            <value name="ADD2">\n              <block type="math_number"><field name="NUM">0</field></block>\n            </value>\n          </block>\n        </value>\n      </block>',_this.getSubClassCollapse("Uart Read"),_this.getBlock("dtu_cat1_uart_read"),_this.getBlock("dtu_cat1_uart_read_characters",[{name:"NUM",num:10}]),_this.getBlock("dtu_cat1_uart_readline"),_this.getBlock("dtu_cat1_uart_any"),..._this.getEzdataAllBtn(1),_this.getBlock("dtu_cat1_ezdata_async_get_value",[{name:"key",text:""},{name:"token",password:_this.ezDataToken}]),_this.getBlock("dtu_cat1_ezdata_save",[{name:"value",text:""},{name:"topic",text:""},{name:"token",password:_this.ezDataToken}]),_this.getBlock("dtu_cat1_ezdata_remove",[{name:"topic",text:""},{name:"token",password:_this.ezDataToken}])];return setTimeout(()=>{_this.moveEzdataCopyBtn()}),_this.getBlocklyXMLList(n)}),this.workspace.registerToolboxCategoryCallback("AZURE_PNP",function(e){let t=[_this.getTitleBlock("%{BKY_PNP}","iotDocs","azure")];return t.push(_this.getBlock("azure_pnp_init_central",[{name:"scope_id",text:""},{name:"device_id",text:""},{name:"device_key",password:""},{name:"model_id",text:""}])),t.push('<block type="azure_pnp_send_telemetry"></block>'),t.push('<block type="azure_pnp_command_cb"></block>'),t.push('<block type="azure_pnp_update_property"></block>'),t.push('<block type="azure_pnp_property_cb"></block>'),_this.getBlocklyXMLList(t)}),this.workspace.registerToolboxCategoryCallback("UNIT_ENV",function(e){let t=[_this.getTitleBlock("%{BKY_ENV}","unitsDocs","env"),_this.getTitleBlock("%{BKY_ENV} II","skuDocs","U001-B"),_this.getTitleBlock("%{BKY_ENV} III","skuDocs","U001-C"),_this.getTitleBlock("%{BKY_ENV} IV","skuDocs","U001-D"),_this.getImageBtn("skuDocs","U001-D","/assets/images/flyout/unit_env3.jpg"),_this.getExamplesBtn("unit_env1_weather_station_demo.m5f","env I"),_this.getExamplesBtn("unit_env2_weather_station_demo.m5f","env II"),_this.getExamplesBtn("unit_env3_weather_station_demo.m5f","env III"),_this.getExamplesBtn("unit_env4_weather_station_demo.m5f","env IV"),_this.getDemoTitle("%{BKY_UNIT_ENV_READ}"),'<block type="basic_on_loop" hidden="true">\n<statement name="LOOP">\n  <block type="text_print">\n    <value name="TEXT">\n      <block type="dht12_pressure"></block>\n    </value>\n    <next>\n      <block type="text_print">\n        <value name="TEXT">\n          <block type="dht12_get_temperature"></block>\n        </value>\n        <next>\n          <block type="text_print">\n            <value name="TEXT">\n              <block type="dht12_get_humidity"></block>\n            </value>\n            <next>\n              <block type="timer_delay_ms">\n                <value name="DELAY">\n                  <shadow type="math_number">\n                    <field name="NUM">10</field>\n                  </shadow>\n                </value>\n              </block>\n            </next>\n          </block>\n        </next>\n      </block>\n    </next>\n  </block>\n</statement>\n</block>',_this.getDivider(349),_this.getBlock("dht12_pressure"),_this.getBlock("dht12_get_temperature"),_this.getBlock("dht12_get_humidity")];return _this.storeSrv.unitList.value.find(e=>"env4"===e.type)&&t.push(_this.getSubClass("The below blockly only supports unit env IV."),_this.getBlock("unit_env4_set_mode"),_this.getBlock("unit_env4_get_mode")),_this.storeSrv.getPnpEnable().subscribe(e=>{if(e){let e=_this.getPnpBlock("unit_env");e.length>1&&(t.push(_this.getDivider(349)),t=t.concat(e))}}),_this.getBlocklyXMLList(t)}),this.workspace.registerToolboxCategoryCallback("UNIT_RGB",function(e){let t=[_this.getTitleBlock("RGB","skuDocs","U003"),_this.getImageBtn("skuDocs","U003","/assets/images/flyout/unit_rgb.jpg"),_this.getExamplesBtn("rgb_demo"),_this.getDemoTitle("%{BKY_UNIT_RGB_DEMO_SET}"),'<block type="basic_on_loop" hidden="true">\n        <statement name="LOOP">\n          <block type="rgb_unit_set_color">\n            <field name="COLOR">#ff0000</field>\n            <value name="INDEX">\n              <shadow type="math_number">\n                <field name="NUM">1</field>\n              </shadow>\n            </value>\n            <next>\n              <block type="rgb_unit_set_color">\n                <field name="COLOR">#33ff33</field>\n                <value name="INDEX">\n                  <shadow type="math_number">\n                    <field name="NUM">2</field>\n                  </shadow>\n                </value>\n                <next>\n                  <block type="rgb_unit_set_color">\n                    <field name="COLOR">#3366ff</field>\n                    <value name="INDEX">\n                      <shadow type="math_number">\n                        <field name="NUM">3</field>\n                      </shadow>\n                    </value>\n                    <next>\n                      <block type="timer_delay">\n                        <value name="DELAY">\n                          <shadow type="math_number">\n                            <field name="NUM">0.1</field>\n                          </shadow>\n                        </value>\n                      </block>\n                    </next>\n                  </block>\n                </next>\n              </block>\n            </next>\n          </block>\n        </statement>\n        </block>',_this.getDivider(458),_this.getBlock("rgb_unit_set_color",[{name:"INDEX",num:1}]),_this.getBlock("rgb_unit_set_color_rgb",[{name:"INDEX",num:1},{name:"R",slider:0,min:0,max:255},{name:"G",slider:0,min:0,max:255},{name:"B",slider:0,min:0,max:255}]),'<block type="rgb_unit_set_color_input" >\n            <value name="INDEX">\n              <shadow type="math_number">\n                <field name="NUM">1</field>\n              </shadow>\n            </value>\n            <value name="COLOR">\n              <block type="color_rgb_palette">\n              </block>\n            </value>\n          </block>',_this.getBlock("rgb_unit_set_color_from",[{name:"FROM",num:1},{name:"TO",num:3}]),'<block type="rgb_unit_set_color_from_input" >\n            <value name="FROM">\n              <shadow type="math_number">\n                <field name="NUM">1</field>\n              </shadow>\n            </value>\n            <value name="TO">\n              <shadow type="math_number">\n                <field name="NUM">3</field>\n              </shadow>\n            </value>\n            <value name="COLOR">\n              <block type="color_rgb_palette">\n              </block>\n            </value>\n          </block>',_this.getBlock("rgb_unit_set_color_all"),'<block type="rgb_unit_set_color_all_input" >\n            <value name="COLOR">\n              <block type="color_rgb_palette">\n              </block>\n            </value>\n          </block>',_this.getBlock("rgb_unit_set_brightness",[{name:"BRIGHTNESS",num:20}])];return _this.storeSrv.getPnpEnable().subscribe(e=>{if(e){let e=_this.getPnpBlock("unit_rgb");e.length>1&&(t.push(_this.getDivider(458)),t=t.concat(e))}}),_this.getBlocklyXMLList(t)}),this.workspace.registerToolboxCategoryCallback("UNIT_BUTTON",function(e){let t=[_this.getTitleBlock("%{BKY_BUTTON}","skuDocs","U027"),_this.getImageBtn("skuDocs","U027","/assets/images/flyout/unit_button.jpg"),_this.getDemoTitle("%{BKY_UNIT_BUTTON_DEMO_READ}"),'<block type="basic_on_loop" hidden="true">\n      <statement name="LOOP">\n        <block type="controls_ifelse">\n          <value name="IF0">\n            <block type="unit_button_state">\n              <field name="EVENT">wasPressed</field>\n            </block>\n          </value>\n          <statement name="DO0">\n            <block type="text_print">\n              <value name="TEXT">\n                <block type="text">\n                  <field name="TEXT">Pressed</field>\n                </block>\n              </value>\n            </block>\n          </statement>\n          <statement name="ELSE">\n            <block type="text_print">\n              <value name="TEXT">\n                <block type="text">\n                  <field name="TEXT">Released</field>\n                </block>\n              </value>\n            </block>\n          </statement>\n        </block>\n      </statement>\n      </block>',_this.getDivider(438),_this.getBlock("unit_button_callback"),_this.getBlock("unit_button_state")];return _this.storeSrv.getPnpEnable().subscribe(e=>{if(e){let e=_this.getPnpBlock("unit_button");e.length>1&&(t.push(_this.getDivider(438)),t=t.concat(e))}}),_this.getBlocklyXMLList(t)}),this.workspace.registerToolboxCategoryCallback("UNIT_ANGLE",function(e){let t=[_this.getTitleBlock("%{BKY_ANGLE}","skuDocs","U005"),_this.getImageBtn("skuDocs","U005","/assets/images/flyout/unit_angle.jpg"),_this.getDemoTitle("%{BKY_UNIT_ANGLE_READ}"),'<block type="basic_on_loop" hidden="true">\n      <statement name="LOOP">\n        <block type="text_print">\n          <value name="TEXT">\n            <block type="angle_read"></block>\n          </value>\n          <next>\n            <block type="timer_delay_ms">\n              <value name="DELAY">\n                <shadow type="math_number">\n                  <field name="NUM">10</field>\n                </shadow>\n              </value>\n            </block>\n          </next>\n        </block>\n      </statement>\n      </block>',_this.getDivider(271),_this.getBlock("angle_read")];return _this.storeSrv.getPnpEnable().subscribe(e=>{if(e){let e=_this.getPnpBlock("unit_angle");e.length>1&&(t.push(_this.getDivider(271)),t=t.concat(e))}}),_this.getBlocklyXMLList(t)}),this.workspace.registerToolboxCategoryCallback("LAN_BASE",function(e){let t=[_this.getTitleBlock("%{BKY_LAN_BASE}","skuDocs","K012-B-V12"),_this.getImageBtn("skuDocs","K012-B-V12","/assets/images/flyout/lanbase.jpg"),_this.getExamplesBtn("lan_tcp_server_demo"),_this.getSubClassCollapse("Init"),_this.getBlock("lan_base_init",[{name:"ip",text:""},{name:"port"}]),_this.getBlock("lan_base_set_ifconfig",[{name:"ip",text:"192.168.1.100"},{name:"subnet",text:"255.255.255.0"},{name:"gateway",text:"192.168.1.1"},{name:"dns",text:"8.8.8.8"}]),_this.getSubClassCollapse("TCP"),_this.getBlock("lan_base_tcp_send_packet",[{name:"packet",text:"1234"}]),_this.getBlock("lan_base_tcp_receive_packet",[{name:"size"}]),_this.getSubClassCollapse("UDP"),_this.getBlock("lan_base_udp_send_packet",[{name:"ip",text:""},{name:"port"},{name:"payload",text:""}]),_this.getBlock("lan_base_udp_receive_packet",[{name:"size"}]),_this.getSubClassCollapse("Status"),_this.getBlock("lan_base_available_packet"),_this.getBlock("lan_base_local_ip"),_this.getBlock("lan_base_remote_ip"),_this.getBlock("lan_base_get_if_config"),_this.getBlock("lan_base_socket_close"),_this.getSubClassCollapse("Modbus Init"),_this.getBlock("lan_base_modbus_init",[{name:"bandrate",num:115200},{name:"slaveAddr",num:1}]),_this.getSubClassCollapse("Modbus-Master Write"),_this.getBlock("lan_base_modbus_master_u_write_single_coil",[{name:"slave_addr",slider:1,min:0,max:255},{name:"output_address",slider:1,min:0,max:65535},{name:"output_value"}]),_this.getBlock("lan_base_modbus_master_u_write_single_register",[{name:"slave_addr",slider:1,min:0,max:255},{name:"register_address",slider:1,min:0,max:65535},{name:"register_value"}]),_this.getBlock("lan_base_modbus_master_u_write_multiple_coils",[{name:"slave_addr",slider:1,min:0,max:255},{name:"starting_addr",slider:1,min:0,max:65535},{name:"output_value"}]),_this.getBlock("lan_base_modbus_master_u_write_multiple_registers",[{name:"slave_addr",slider:1,min:0,max:255},{name:"starting_addr",slider:1,min:0,max:65535},{name:"register_values"}]),_this.getSubClassCollapse("Modbus-Master Read"),_this.getBlock("lan_base_modbus_master_u_read_coils",[{name:"slave_addr",slider:1,min:0,max:255},{name:"starting_addr",slider:1,min:0,max:65535},{name:"coil_qty"}]),_this.getBlock("lan_base_modbus_master_u_read_discrete_inputs",[{name:"slave_addr",slider:1,min:0,max:255},{name:"starting_addr",slider:1,min:0,max:65535},{name:"input_qty"}]),_this.getBlock("lan_base_modbus_master_u_read_holding_registers",[{name:"slave_addr",slider:1,min:0,max:255},{name:"starting_addr",slider:1,min:0,max:65535},{name:"register_qty"}]),_this.getBlock("lan_base_modbus_master_u_read_input_registers",[{name:"slave_addr",slider:1,min:0,max:255},{name:"starting_addr",slider:1,min:0,max:65535},{name:"register_qty"}]),_this.getSubClassCollapse("Modbus-Slave Init"),_this.getBlock("lan_base_modbus_slave_rtu_init_func",[{name:"START_ADDR"},{name:"quantity"}]),_this.getSubClassCollapse("Modbus-Slave Write"),'<block type="lan_base_modbus_slave_rtu_update_func">\n        <value name="START_ADDR">\n          <shadow type="math_number">\n            <field name="NUM">0</field>\n          </shadow>\n        </value>\n        <value name="quantity">\n          <shadow type="math_number">\n            <field name="NUM">0</field>\n          </shadow>\n        </value>\n        <value name="VALUE">\n          <block type="lists_create_with">\n            <value name="ADD0">\n              <block type="math_number"><field name="NUM">0</field></block>\n            </value>\n            <value name="ADD1">\n              <block type="math_number"><field name="NUM">0</field></block>\n            </value>\n            <value name="ADD2">\n              <block type="math_number"><field name="NUM">0</field></block>\n            </value>\n          </block>\n        </value>\n      </block>',_this.getBlock("lan_base_modbus_slave_rtu_send",[{name:"VALUE",num:1}]),_this.getSubClassCollapse("Modbus-Slave Read"),_this.getBlock("lan_base_modbus_slave_rtu_receive_adu"),_this.getBlock("lan_base_modbus_slave_rtu_get_function"),_this.getBlock("lan_base_modbus_slave_rtu_fun_status"),_this.getBlock("lan_base_modbus_slave_rtu_get_address"),_this.getBlock("lan_base_modbus_slave_rtu_get_quantity"),_this.getSubClassCollapse("Uart Write"),_this.getBlock("lan_base_uart_write_line",[{name:"VALUE",text:""}]),_this.getBlock("lan_base_uart_write",[{name:"VALUE",text:""}]),'<block type="lan_base_uart_write_raw_data">\n        <value name="VALUE">\n          <block type="lists_create_with">\n            <value name="ADD0">\n              <block type="math_number"><field name="NUM">0</field></block>\n            </value>\n            <value name="ADD1">\n              <block type="math_number"><field name="NUM">0</field></block>\n            </value>\n            <value name="ADD2">\n              <block type="math_number"><field name="NUM">0</field></block>\n            </value>\n          </block>\n        </value>\n      </block>',_this.getSubClassCollapse("Uart Read"),_this.getBlock("lan_base_uart_read"),_this.getBlock("lan_base_uart_read_characters",[{name:"NUM",num:10}]),_this.getBlock("lan_base_uart_readline"),_this.getBlock("lan_base_uart_any"),_this.getSubClassCollapse("%{BKY_HTTP_METHODS}"),'<block type="lan_base_http_request">\n          <value name="url">\n            <shadow type="text">\n              <field name="TEXT"></field>\n            </shadow>\n          </value>\n          <value name="headers">\n            <block type="map_on_loop">\n            </block>\n          </value>\n          <value name="data">\n            <block type="map_on_loop">\n            </block>\n          </value>\n        </block>',_this.getBlock("lan_base_get_status_code"),_this.getBlock("lan_base_get_data"),_this.getSubClassCollapse("%{BKY_NBIOT_MQTT_TITLE}"),_this.getBlock("lan_base_mqtt_init",[{name:"server",text:"mqtt.m5stack.com"},{name:"port",num:1883},{name:"client_id",text:""},{name:"username",text:""},{name:"passwd",password:""},{name:"keepalive",num:120}]),_this.getBlock("lan_base_mqtt_connect"),_this.getBlock("lan_base_mqtt_disconnect"),_this.getBlock("lan_base_mqtt_check_connection"),_this.getBlock("lan_base_mqtt_sub",[{name:"topic",text:""},{name:"qos"}]),'<block type="lan_base_mqtt_sub_cb">\n          <value name="topic">\n            <block type="variables_get">\n              <field name="VAR">lan_topic</field>\n            </block>\n          </value>\n          <value name="msg">\n            <block type="variables_get">\n              <field name="VAR">lan_msg</field>\n            </block>\n          </value>\n        </block>',_this.getBlock("lan_base_mqtt_publish",[{name:"topic",text:""},{name:"payload",text:""},{name:"qos"}]),_this.getBlock("lan_base_mqtt_poll",[{name:"topic",text:""}]),..._this.getEzdataAllBtn(1),_this.getBlock("lan_base_ezdata_async_get_value",[{name:"key",text:""},{name:"token",password:_this.ezDataToken}]),_this.getBlock("lan_base_ezdata_save",[{name:"value",text:""},{name:"topic",text:""},{name:"token",password:_this.ezDataToken}]),_this.getBlock("lan_base_ezdata_remove",[{name:"topic",text:""},{name:"token",password:_this.ezDataToken}])];return setTimeout(()=>{_this.moveEzdataCopyBtn()}),_this.getBlocklyXMLList(t)}),this.workspace.registerToolboxCategoryCallback("BASE_POE",function(e){let t=[_this.getTitleBlock("%{BKY_BASE_POE}","skuDocs","K012-C"),_this.getImageBtn("skuDocs","K012-C","/assets/images/flyout/base_poe.jpg"),_this.getExamplesBtn("base_poe_mqtt_demo"),_this.getSubClassCollapse("Init"),_this.getBlock("base_poe_init",[{name:"ip",text:""},{name:"port"}]),_this.getSubClassCollapse("TCP"),_this.getBlock("base_poe_tcp_send_packet",[{name:"packet",text:"1234"}]),_this.getBlock("base_poe_tcp_receive_packet",[{name:"size"}]),_this.getSubClassCollapse("UDP"),_this.getBlock("base_poe_udp_send_packet",[{name:"ip",text:""},{name:"port"},{name:"payload",text:""}]),_this.getBlock("base_poe_udp_receive_packet",[{name:"size"}]),_this.getSubClassCollapse("Status"),_this.getBlock("base_poe_available_packet"),_this.getBlock("base_poe_local_ip"),_this.getBlock("base_poe_remote_ip"),_this.getBlock("base_poe_get_if_config"),_this.getBlock("base_poe_socket_close"),_this.getSubClassCollapse("Modbus Init"),_this.getBlock("base_poe_modbus_init",[{name:"bandrate",num:115200},{name:"slaveAddr",num:1}]),_this.getSubClassCollapse("Modbus-Master Write"),_this.getBlock("base_poe_modbus_master_u_write_single_coil",[{name:"slave_addr",slider:1,min:0,max:255},{name:"output_address",slider:1,min:0,max:65535},{name:"output_value"}]),_this.getBlock("base_poe_modbus_master_u_write_single_register",[{name:"slave_addr",slider:1,min:0,max:255},{name:"register_address",slider:1,min:0,max:65535},{name:"register_value"}]),_this.getBlock("base_poe_modbus_master_u_write_multiple_coils",[{name:"slave_addr",slider:1,min:0,max:255},{name:"starting_addr",slider:1,min:0,max:65535},{name:"output_value"}]),_this.getBlock("base_poe_modbus_master_u_write_multiple_registers",[{name:"slave_addr",slider:1,min:0,max:255},{name:"starting_addr",slider:1,min:0,max:65535},{name:"register_values"}]),_this.getSubClassCollapse("Modbus-Master Read"),_this.getBlock("base_poe_modbus_master_u_read_coils",[{name:"slave_addr",slider:1,min:0,max:255},{name:"starting_addr",slider:1,min:0,max:65535},{name:"coil_qty"}]),_this.getBlock("base_poe_modbus_master_u_read_discrete_inputs",[{name:"slave_addr",slider:1,min:0,max:255},{name:"starting_addr",slider:1,min:0,max:65535},{name:"input_qty"}]),_this.getBlock("base_poe_modbus_master_u_read_holding_registers",[{name:"slave_addr",slider:1,min:0,max:255},{name:"starting_addr",slider:1,min:0,max:65535},{name:"register_qty"}]),_this.getBlock("base_poe_modbus_master_u_read_input_registers",[{name:"slave_addr",slider:1,min:0,max:255},{name:"starting_addr",slider:1,min:0,max:65535},{name:"register_qty"}]),_this.getSubClassCollapse("Modbus-Slave Init"),_this.getBlock("base_poe_modbus_slave_rtu_init_func",[{name:"START_ADDR"},{name:"quantity"}]),_this.getSubClassCollapse("Modbus-Slave Write"),'<block type="base_poe_modbus_slave_rtu_update_func">\n        <value name="START_ADDR">\n          <shadow type="math_number">\n            <field name="NUM">0</field>\n          </shadow>\n        </value>\n        <value name="quantity">\n          <shadow type="math_number">\n            <field name="NUM">0</field>\n          </shadow>\n        </value>\n        <value name="VALUE">\n          <block type="lists_create_with">\n            <value name="ADD0">\n              <block type="math_number"><field name="NUM">0</field></block>\n            </value>\n            <value name="ADD1">\n              <block type="math_number"><field name="NUM">0</field></block>\n            </value>\n            <value name="ADD2">\n              <block type="math_number"><field name="NUM">0</field></block>\n            </value>\n          </block>\n        </value>\n      </block>',_this.getBlock("base_poe_modbus_slave_rtu_send",[{name:"VALUE",num:1}]),_this.getSubClassCollapse("Modbus-Slave Read"),_this.getBlock("base_poe_modbus_slave_rtu_receive_adu"),_this.getBlock("base_poe_modbus_slave_rtu_get_function"),_this.getBlock("base_poe_modbus_slave_rtu_fun_status"),_this.getBlock("base_poe_modbus_slave_rtu_get_address"),_this.getBlock("base_poe_modbus_slave_rtu_get_quantity"),_this.getSubClassCollapse("Uart Write"),_this.getBlock("base_poe_uart_write_line",[{name:"VALUE",text:""}]),_this.getBlock("base_poe_uart_write",[{name:"VALUE",text:""}]),'<block type="base_poe_uart_write_raw_data">\n        <value name="VALUE">\n          <block type="lists_create_with">\n            <value name="ADD0">\n              <block type="math_number"><field name="NUM">0</field></block>\n            </value>\n            <value name="ADD1">\n              <block type="math_number"><field name="NUM">0</field></block>\n            </value>\n            <value name="ADD2">\n              <block type="math_number"><field name="NUM">0</field></block>\n            </value>\n          </block>\n        </value>\n      </block>',_this.getSubClassCollapse("Uart Read"),_this.getBlock("base_poe_uart_read"),_this.getBlock("base_poe_uart_read_characters",[{name:"NUM",num:10}]),_this.getBlock("base_poe_uart_readline"),_this.getBlock("base_poe_uart_any"),_this.getSubClassCollapse("%{BKY_HTTP_METHODS}"),_this.getBlock("base_poe_http_get",[{name:"url",text:""}]),_this.getBlock("base_poe_http_post",[{name:"url",text:""},{name:"data",text:""}]),_this.getSubClassCollapse("%{BKY_NBIOT_MQTT_TITLE}"),_this.getBlock("base_poe_mqtt_init",[{name:"server",text:"mqtt.m5stack.com"},{name:"port",num:1883},{name:"client_id",text:""},{name:"username",text:""},{name:"passwd",password:""},{name:"keepalive",num:120}]),_this.getBlock("base_poe_mqtt_connect"),_this.getBlock("base_poe_mqtt_disconnect"),_this.getBlock("base_poe_mqtt_check_connection"),_this.getBlock("base_poe_mqtt_sub",[{name:"topic",text:""},{name:"qos"}]),'<block type="base_poe_mqtt_sub_cb">\n          <value name="topic">\n            <block type="variables_get">\n              <field name="VAR">poe_topic</field>\n            </block>\n          </value>\n          <value name="msg">\n            <block type="variables_get">\n              <field name="VAR">poe_msg</field>\n            </block>\n          </value>\n        </block>',_this.getBlock("base_poe_mqtt_publish",[{name:"topic",text:""},{name:"payload",text:""},{name:"qos"}]),_this.getBlock("base_poe_mqtt_poll",[{name:"topic",text:""}]),..._this.getEzdataAllBtn(1),_this.getBlock("base_poe_ezdata_async_get_value",[{name:"key",text:""},{name:"token",password:_this.ezDataToken}]),_this.getBlock("base_poe_ezdata_save",[{name:"value",text:""},{name:"topic",text:""},{name:"token",password:_this.ezDataToken}]),_this.getBlock("base_poe_ezdata_remove",[{name:"topic",text:""},{name:"token",password:_this.ezDataToken}])];return setTimeout(()=>{_this.moveEzdataCopyBtn()}),_this.getBlocklyXMLList(t)}),this.workspace.registerToolboxCategoryCallback("UNIT_LCD",function(e){let t=[_this.getTitleBlock("%{BKY_UNIT_LCD}","skuDocs","U120"),_this.getImageBtn("skuDocs","U120","/assets/images/flyout/unit_lcd.jpg"),_this.getExamplesBtn("unit_lcd_demo"),_this.getBlock("unit_lcd_init_display",[{name:"width",num:135},{name:"height",num:240},{name:"stride",num:1}]),_this.getBlock("unit_lcd_fill"),'<block type="unit_lcd_fill_input" >\n            <value name="COLOR">\n              <block type="color_rgb_palette">\n              </block>\n            </value>\n          </block>',_this.getBlock("unit_lcd_fill_rect",[{name:"X",num:0},{name:"Y",num:0},{name:"W",num:0},{name:"H",num:0}]),'<block type="unit_lcd_fill_rect_input" >\n            <value name="X">\n              <shadow type="math_number">\n                <field name="NUM">0</field>\n              </shadow>\n            </value>\n            <value name="Y">\n              <shadow type="math_number">\n                <field name="NUM">0</field>\n              </shadow>\n            </value>\n            <value name="W">\n              <shadow type="math_number">\n                <field name="NUM">0</field>\n              </shadow>\n            </value>\n            <value name="H">\n              <shadow type="math_number">\n                <field name="NUM">0</field>\n              </shadow>\n            </value>\n            <value name="COLOR">\n              <block type="color_rgb_palette">\n              </block>\n            </value>\n          </block>',_this.getBlock("unit_lcd_rect",[{name:"X",num:0},{name:"Y",num:0},{name:"W",num:0},{name:"H",num:0}]),'<block type="unit_lcd_rect_input" >\n            <value name="X">\n              <shadow type="math_number">\n                <field name="NUM">0</field>\n              </shadow>\n            </value>\n            <value name="Y">\n              <shadow type="math_number">\n                <field name="NUM">0</field>\n              </shadow>\n            </value>\n            <value name="W">\n              <shadow type="math_number">\n                <field name="NUM">0</field>\n              </shadow>\n            </value>\n            <value name="H">\n              <shadow type="math_number">\n                <field name="NUM">0</field>\n              </shadow>\n            </value>\n            <value name="COLOR">\n              <block type="color_rgb_palette">\n              </block>\n            </value>\n          </block>',_this.getBlock("unit_lcd_pixel",[{name:"X",num:0},{name:"Y",num:0}]),'<block type="unit_lcd_pixel_input" >\n            <value name="X">\n              <shadow type="math_number">\n                <field name="NUM">0</field>\n              </shadow>\n            </value>\n            <value name="Y">\n              <shadow type="math_number">\n                <field name="NUM">0</field>\n              </shadow>\n            </value>\n            <value name="COLOR">\n              <block type="color_rgb_palette">\n              </block>\n            </value>\n          </block>',_this.getBlock("unit_lcd_hline",[{name:"X",num:0},{name:"Y",num:0},{name:"W",num:0}]),'<block type="unit_lcd_hline_input" >\n            <value name="X">\n              <shadow type="math_number">\n                <field name="NUM">0</field>\n              </shadow>\n            </value>\n            <value name="Y">\n              <shadow type="math_number">\n                <field name="NUM">0</field>\n              </shadow>\n            </value>\n            <value name="W">\n              <shadow type="math_number">\n                <field name="NUM">0</field>\n              </shadow>\n            </value>\n            <value name="COLOR">\n              <block type="color_rgb_palette">\n              </block>\n            </value>\n          </block>',_this.getBlock("unit_lcd_vline",[{name:"X",num:0},{name:"Y",num:0},{name:"H",num:0}]),'<block type="unit_lcd_vline_input" >\n            <value name="X">\n              <shadow type="math_number">\n                <field name="NUM">0</field>\n              </shadow>\n            </value>\n            <value name="Y">\n              <shadow type="math_number">\n                <field name="NUM">0</field>\n              </shadow>\n            </value>\n            <value name="H">\n              <shadow type="math_number">\n                <field name="NUM">0</field>\n              </shadow>\n            </value>\n            <value name="COLOR">\n              <block type="color_rgb_palette">\n              </block>\n            </value>\n          </block>',_this.getBlock("unit_lcd_line",[{name:"X1",num:0},{name:"Y1",num:0},{name:"X2",num:0},{name:"Y2",num:0}]),'<block type="unit_lcd_line_input" >\n            <value name="X1">\n              <shadow type="math_number">\n                <field name="NUM">0</field>\n              </shadow>\n            </value>\n            <value name="Y1">\n              <shadow type="math_number">\n                <field name="NUM">0</field>\n              </shadow>\n            </value>\n            <value name="X2">\n              <shadow type="math_number">\n                <field name="NUM">0</field>\n              </shadow>\n            </value>\n            <value name="Y2">\n              <shadow type="math_number">\n                <field name="NUM">0</field>\n              </shadow>\n            </value>\n            <value name="COLOR">\n              <block type="color_rgb_palette">\n              </block>\n            </value>\n          </block>',_this.getBlock("unit_lcd_text",[{name:"text",text:""},{name:"X",num:0},{name:"Y",num:0}]),'<block type="unit_lcd_text_input" >\n            <value name="text">\n              <shadow type="text">\n                <field name="TEXT"></field>\n              </shadow>\n            </value>\n            <value name="X">\n              <shadow type="math_number">\n                <field name="NUM">0</field>\n              </shadow>\n            </value>\n            <value name="Y">\n              <shadow type="math_number">\n                <field name="NUM">0</field>\n              </shadow>\n            </value>\n            <value name="COLOR">\n              <block type="color_rgb_palette">\n              </block>\n            </value>\n          </block>',_this.getBlock("unit_lcd_rotate"),_this.getBlock("unit_lcd_flip"),_this.getBlock("unit_lcd_brightness",[{name:"bright",slider:0,min:0,max:255}]),_this.getBlock("unit_lcd_sleep",[{name:"sleep",num:0}]),_this.getBlock("unit_lcd_show_on")];return[src_app_utils_common_data__WEBPACK_IMPORTED_MODULE_0__.__.FIRE,src_app_utils_common_data__WEBPACK_IMPORTED_MODULE_0__.__.CORETWO,src_app_utils_common_data__WEBPACK_IMPORTED_MODULE_0__.__.TOUGH].includes(sessionStorage.getItem("_type"))&&t.push(_this.getBlock("unit_lcd_image",[{name:"X",num:0},{name:"Y",num:0}])),_this.getBlocklyXMLList(t)}),this.workspace.registerToolboxCategoryCallback("UNIT_CATMGNSS",function(e){let t=[_this.getTitleBlock("%{BKY_UNIT_CATMGNSS}","skuDocs","U137"),_this.getImageBtn("skuDocs","U137","/assets/images/flyout/unit_catm_gnss.jpg"),_this.getExamplesBtn("unit_catm_gnss_demo"),_this.getSubClassCollapse("Init"),_this.getBlock("unit_catm_gnss_init_module"),'<block type="unit_catm_gnss_uart_init">\n          <value name="ID">\n            <shadow type="unit_catm_gnss_pos_option">\n              <field name="pos">1</field>\n            </shadow>\n          </value>\n        </block>',_this.getSubClassCollapse("Status &amp; Control"),_this.getBlock("unit_catm_gnss_get_imei"),_this.getBlock("unit_catm_gnss_get_ccid"),_this.getBlock("unit_catm_gnss_power_down_module"),_this.getBlock("unit_catm_gnss_set_echo_mode"),_this.getBlock("unit_catm_gnss_check_status"),_this.getBlock("unit_catm_gnss_check_single_quality"),_this.getBlock("unit_catm_gnss_check_network_registration"),'<block type="unit_catm_gnss_at_command_tester">\n          <value name="cmd">\n            <shadow type="text">\n              <field name="TEXT">AT</field>\n            </shadow>\n          </value>\n          <value name="keyword">\n            <shadow type="text">\n              <field name="TEXT">OK</field>\n            </shadow>\n          </value>\n          <value name="timeout">\n            <shadow type="math_slider">\n              <field name="NUM" min="1000" max="25000">1000</field>\n            </shadow>\n          </value>\n        </block>',_this.getSubClassCollapse("GPRS"),_this.getBlock("unit_catm_gnss_gprs_service"),_this.getBlock("unit_catm_gnss_check_gprs_network_registration"),_this.getBlock("unit_catm_gnss_enable_pdp_context"),_this.getBlock("unit_catm_gnss_show_pdp_address"),_this.getSubClassCollapse("IP"),_this.getBlock("unit_catm_gnss_network_active"),_this.getBlock("unit_catm_gnss_network_ip_id"),_this.getSubClassCollapse("HTTPS"),'<block type="unit_catm_gnss_http_services">\n          <value name="url">\n            <shadow type="text">\n              <field name="TEXT"></field>\n            </shadow>\n          </value>\n          <value name="path">\n            <shadow type="text">\n              <field name="TEXT"></field>\n            </shadow>\n          </value>\n          <value name="headers">\n            <block type="map_on_loop">\n            </block>\n          </value>\n          <value name="payload">\n            <shadow type="text">\n              <field name="TEXT"></field>\n            </shadow>\n          </value>\n        </block>',_this.getBlock("unit_catm_gnss_disconnect_server"),_this.getSubClassCollapse("%{BKY_NBIOT_MQTT_TITLE}"),_this.getBlock("unit_catm_gnss_mqtt_connect",[{name:"server",text:"mqtt.m5stack.com"},{name:"port",num:1883},{name:"client_id",text:""},{name:"username",text:""},{name:"passwd",password:""},{name:"keepalive",num:120}]),_this.getBlock("unit_catm_gnss_mqtt_disconnect"),_this.getBlock("unit_catm_gnss_mqtt_sub",[{name:"topic",text:""},{name:"qos"}]),'<block type="unit_catm_gnss_mqtt_sub_cb">\n          <value name="topic">\n            <block type="variables_get">\n              <field name="VAR">gnss_topic</field>\n            </block>\n          </value>\n          <value name="msg">\n            <block type="variables_get">\n              <field name="VAR">gnss_msg</field>\n            </block>\n          </value>\n        </block>',_this.getBlock("unit_catm_gnss_mqtt_unsubscribe",[{name:"topic",text:""}]),_this.getBlock("unit_catm_gnss_mqtt_publish",[{name:"topic",text:""},{name:"payload",text:""},{name:"qos"}]),_this.getBlock("unit_catm_gnss_mqtt_check_connection"),_this.getBlock("unit_catm_gnss_mqtt_poll",[{name:"topic",text:""}]),_this.getSubClassCollapse("%{BKY_NBIOT_COAP_TITLE}"),_this.getBlock("unit_catm_gnss_coap_init",[{name:"ip",text:"120.77.157.90"},{name:"port",num:5683}]),_this.getBlock("unit_catm_gnss_coap_get",[{name:"url",text:"/m5stack-get"}]),_this.getBlock("unit_catm_gnss_coap_post",[{name:"url",text:"/m5stack-post"},{name:"payload",text:""}]),_this.getBlock("unit_catm_gnss_coap_delete"),_this.getSubClassCollapse("GNSS"),_this.getBlock("unit_catm_gnss_power_control"),_this.getBlock("unit_catm_gnss_work_mode"),_this.getBlock("unit_catm_gnss_nmea_poll_task"),_this.getBlock("unit_catm_gnss_set_time_zone",[{name:"TIMEZONE",num:8}]),_this.getBlock("unit_catm_gnss_get_position"),_this.getBlock("unit_catm_gnss_get_time"),_this.getBlock("unit_catm_gnss_get_date"),_this.getBlock("unit_catm_gnss_get_altitude"),_this.getBlock("unit_catm_gnss_get_satellite"),_this.getBlock("unit_catm_gnss_get_fix_status"),_this.getBlock("unit_catm_gnss_get_speed"),_this.getBlock("unit_catm_gnss_get_course"),_this.getBlock("unit_catm_gnss_check_power"),..._this.getEzdataAllBtn(1),_this.getBlock("unit_catm_gnss_ezdata_async_get_value",[{name:"key",text:""},{name:"token",password:_this.ezDataToken}]),_this.getBlock("unit_catm_gnss_ezdata_save",[{name:"value",text:""},{name:"topic",text:""},{name:"token",password:_this.ezDataToken}]),_this.getBlock("unit_catm_gnss_ezdata_remove",[{name:"topic",text:""},{name:"token",password:_this.ezDataToken}])];return setTimeout(()=>{_this.moveEzdataCopyBtn()}),_this.getBlocklyXMLList(t)}),this.workspace.registerToolboxCategoryCallback("HAT_CBACKNBIOT",function(e){let t=[_this.getTitleBlock("%{BKY_HAT_CBACKNBIOT}","skuDocs","A113"),_this.getTitleBlock("%{BKY_HAT_CBACKNBIOT} CN","skuDocs","A112"),_this.getImageBtn("skuDocs","A113","/assets/images/flyout/hat_cback_nbiot.jpg"),_this.getExamplesBtn("hat_nbiot_mqtt_demo"),_this.getSubClassCollapse("Status &amp; Control"),_this.getBlock("hat_cbacknbiot_modem_power"),_this.getBlock("hat_cbacknbiot_get_imei"),_this.getBlock("hat_cbacknbiot_get_ccid"),_this.getBlock("hat_cbacknbiot_power_down_module"),_this.getBlock("hat_cbacknbiot_reset_module"),_this.getBlock("hat_cbacknbiot_set_echo_mode"),_this.getBlock("hat_cbacknbiot_check_status"),_this.getBlock("hat_cbacknbiot_check_single_quality"),_this.getBlock("hat_cbacknbiot_check_network_registration"),_this.getBlock("hat_cbacknbiot_check_gprs_network_registration"),_this.getSubClassCollapse("HTTP(S)"),_this.getBlock("hat_cbacknbiot_http_services",[{name:"url",text:""},{name:"path",text:""},{name:"payload",text:""}]),_this.getBlock("hat_cbacknbiot_disconnect_server"),_this.getBlock("hat_cbacknbiot_destroy_https"),_this.getSubClassCollapse("%{BKY_NBIOT_MQTT_TITLE}"),_this.getBlock("hat_cbacknbiot_mqtt_connect",[{name:"server",text:"mqtt.m5stack.com"},{name:"port",num:1883},{name:"client_id",text:""},{name:"username",text:""},{name:"passwd",password:""},{name:"keepalive",num:120}]),_this.getBlock("hat_cbacknbiot_mqtt_disconnect"),_this.getBlock("hat_cbacknbiot_mqtt_sub",[{name:"topic",text:""},{name:"qos"}]),'<block type="hat_cbacknbiot_mqtt_sub_cb">\n          <value name="topic">\n            <block type="variables_get">\n              <field name="VAR">nb_topic</field>\n            </block>\n          </value>\n          <value name="msg">\n            <block type="variables_get">\n              <field name="VAR">nb_msg</field>\n            </block>\n          </value>\n        </block>',_this.getBlock("hat_cbacknbiot_mqtt_unsubscribe",[{name:"topic",text:""}]),_this.getBlock("hat_cbacknbiot_mqtt_publish",[{name:"topic",text:""},{name:"payload",text:""},{name:"qos"}]),_this.getBlock("hat_cbacknbiot_mqtt_check_connection"),_this.getBlock("hat_cbacknbiot_mqtt_poll",[{name:"topic",text:""}]),_this.getSubClassCollapse("%{BKY_NBIOT_COAP_TITLE}"),_this.getBlock("hat_cbacknbiot_coap_init_ip",[{name:"ip",text:"120.77.157.90"},{name:"port",num:5683}]),_this.getBlock("hat_cbacknbiot_coap_get",[{name:"url",text:"/m5stack-get"}]),_this.getBlock("hat_cbacknbiot_coap_post",[{name:"url",text:"/m5stack-post"},{name:"payload",text:""}]),_this.getBlock("hat_cbacknbiot_coap_put",[{name:"url",text:"/m5stack-put"},{name:"payload",text:""}]),_this.getBlock("hat_cbacknbiot_coap_destroy"),..._this.getEzdataAllBtn(1),_this.getBlock("cbacknbiot_ezdata_async_get_value",[{name:"key",text:""},{name:"token",password:_this.ezDataToken}]),_this.getBlock("hat_cbacknbiot_ezdata_save",[{name:"value",text:""},{name:"topic",text:""},{name:"token",password:_this.ezDataToken}]),_this.getBlock("hat_cbacknbiot_ezdata_remove",[{name:"topic",text:""},{name:"token",password:_this.ezDataToken}])];return setTimeout(()=>{_this.moveEzdataCopyBtn()}),_this.getBlocklyXMLList(t)}),this.workspace.registerToolboxCategoryCallback("BALA2",function(e){let t=localStorage.getItem("_type"),i=[_this.getTitleBlock("%{BKY_MODULE_BALA2}","skuDocs","K014-C"),_this.getImageBtn("skuDocs","K014-C","/assets/images/flyout/bala2.jpg"),_this.getSubClass("Write"),_this.getBlock("module_bala2_run",[{name:"speed",slider:50,min:0,max:100}]),_this.getBlock("module_bala2_turn",[{name:"speed",slider:50,min:0,max:100}]),_this.getBlock("module_bala2_rotate",[{name:"speed",slider:50,min:0,max:100}]),_this.getBlock("module_bala2_stop"),_this.getBlock("module_bala2_servo_angle",[{name:"servo",slider:1,min:1,max:4},{name:"angle",slider:90,min:0,max:180}]),_this.getBlock("module_bala2_servo_pulse",[{name:"servo",slider:1,min:1,max:4},{name:"pulse",slider:1500,min:500,max:2500}]),_this.getBlock("module_bala2_set_motor_speed",[{name:"motor",slider:1,min:1,max:2},{name:"speed",slider:50,min:0,max:100}]),_this.getBlock("module_bala2_clear",[{name:"encoder",slider:1,min:1,max:2}]),_this.getSubClass("Read"),_this.getBlock("module_bala2_read",[{name:"encoder",slider:1,min:1,max:2}]),_this.getBlock("module_bala2_accelerometer"),_this.getBlock("module_bala2_gyro"),_this.getBlock("module_bala2_ypr")];return t===src_app_utils_common_data__WEBPACK_IMPORTED_MODULE_0__.__.FIRE&&i.splice(0,2,_this.getTitleBlock("%{BKY_MODULE_BALA2}","modulesDocs","bala2fire"),_this.getImageBtn("modulesDocs","bala2fire","/assets/images/flyout/bala2_fire.jpg")),_this.getBlocklyXMLList(i)}),this.workspace.registerToolboxCategoryCallback("ATOM_POE",function(e){let t=[_this.getTitleBlock("%{BKY_ATOM_POE}","atomDocs","atom_poe"),_this.getTipClass("( only supported after firmware version v1.10.5 )"),_this.getImageBtn("atomDocs","atom_poe","/assets/images/flyout/atom_poe.jpg"),_this.getSubClassCollapse("Init"),_this.getBlock("atom_poe_init",[{name:"ip",text:""},{name:"port"}]),_this.getSubClassCollapse("TCP"),_this.getBlock("atom_poe_tcp_send_packet",[{name:"packet",text:"1234"}]),_this.getBlock("atom_poe_tcp_receive_packet",[{name:"size"}]),_this.getSubClassCollapse("UDP"),_this.getBlock("atom_poe_udp_send_packet",[{name:"ip",text:""},{name:"port"},{name:"payload",text:""}]),_this.getBlock("atom_poe_udp_receive_packet",[{name:"size"}]),_this.getSubClassCollapse("Status"),_this.getBlock("atom_poe_available_packet"),_this.getBlock("atom_poe_local_ip"),_this.getBlock("atom_poe_remote_ip"),_this.getBlock("atom_poe_get_if_config"),_this.getBlock("atom_poe_socket_close"),_this.getSubClassCollapse("%{BKY_HTTP_METHODS}"),_this.getBlock("atom_poe_http_get",[{name:"url",text:""}]),_this.getBlock("atom_poe_http_post",[{name:"url",text:""},{name:"data",text:""}]),_this.getSubClassCollapse("%{BKY_NBIOT_MQTT_TITLE}"),_this.getBlock("atom_poe_mqtt_init",[{name:"server",text:"mqtt.m5stack.com"},{name:"port",num:1883},{name:"client_id",text:""},{name:"username",text:""},{name:"passwd",password:""},{name:"keepalive",num:120}]),_this.getBlock("atom_poe_mqtt_connect"),_this.getBlock("atom_poe_mqtt_disconnect"),_this.getBlock("atom_poe_mqtt_check_connection"),_this.getBlock("atom_poe_mqtt_sub",[{name:"topic",text:""},{name:"qos"}]),'<block type="atom_poe_mqtt_sub_cb">\n          <value name="topic">\n            <block type="variables_get">\n              <field name="VAR">lan_topic</field>\n            </block>\n          </value>\n          <value name="msg">\n            <block type="variables_get">\n              <field name="VAR">lan_msg</field>\n            </block>\n          </value>\n        </block>',_this.getBlock("atom_poe_mqtt_publish",[{name:"topic",text:""},{name:"payload",text:""},{name:"qos"}]),_this.getBlock("atom_poe_mqtt_poll",[{name:"topic",text:""}]),..._this.getEzdataAllBtn(1),_this.getBlock("atom_poe_ezdata_async_get_value",[{name:"key",text:""},{name:"token",password:_this.ezDataToken}]),_this.getBlock("atom_poe_ezdata_save",[{name:"value",text:""},{name:"topic",text:""},{name:"token",password:_this.ezDataToken}]),_this.getBlock("atom_poe_ezdata_remove",[{name:"topic",text:""},{name:"token",password:_this.ezDataToken}])];return setTimeout(()=>{_this.moveEzdataCopyBtn()}),_this.getBlocklyXMLList(t)}),this.workspace.registerToolboxCategoryCallback("UART",function(e){let t=localStorage.getItem("_type"),i=[_this.getTitleBlock("%{BKY_UART}","hardwareDocs","uart"),_this.getExamplesBtn("sim800l_demo"," SIM800L "),_this.getExamplesBtn("uart_pass_through_demo"," UART Pass Through "),_this.getDemoTitle("%{BKY_UART_READ_DATA}"),'<block type="uart" hidden="true">\n      <field name="VAR">uart1</field>\n      <field name="BAUD">115200</field>\n      <field name="USE_TIMER">1</field>\n      <value name="TX">\n        <shadow type="math_slider">\n          <field name="NUM" min="0" max="34">1</field>\n        </shadow>\n      </value>\n      <value name="RX">\n        <shadow type="math_slider">\n          <field name="NUM" min="0" max="36">3</field>\n        </shadow>\n      </value>\n      <next>\n        <block type="basic_on_loop">\n          <statement name="LOOP">\n            <block type="controls_if">\n              <value name="IF0">\n                <block type="uart_any">\n                  <field name="VAR">uart1</field>\n                </block>\n              </value>\n              <statement name="DO0">\n                <block type="lcd_print">\n                  <field name="COLOR">#ffffff</field>\n                  <value name="TEXT">\n                    <shadow type="text">\n                      <field name="TEXT"></field>\n                    </shadow>\n                    <block type="decode_str">\n                      <value name="VALUE">\n                        <block type="uart_read">\n                          <field name="VAR">uart1</field>\n                        </block>\n                      </value>\n                    </block>\n                  </value>\n                  <value name="X">\n                    <shadow type="math_number">\n                      <field name="NUM">0</field>\n                    </shadow>\n                  </value>\n                  <value name="Y">\n                    <shadow type="math_number">\n                      <field name="NUM">0</field>\n                    </shadow>\n                  </value>\n                </block>\n              </statement>\n            </block>\n          </statement>\n        </block>\n      </next>\n      </block>',_this.getDivider(604),_this.getSubClass("Init"),_this.getBlock("uart",[{name:"TX",slider:17,min:0,max:34},{name:"RX",slider:16,min:0,max:36}]),_this.getSubClass("Write"),_this.getBlock("uart_write_line",[{name:"VALUE",text:""}]),_this.getBlock("uart_write",[{name:"VALUE",text:""}]),'<block type="uart_write_raw_data">\n          <value name="VALUE">\n            <block type="lists_create_with">\n              <value name="ADD0">\n                <block type="math_number"><field name="NUM">0</field></block>\n              </value>\n              <value name="ADD1">\n                <block type="math_number"><field name="NUM">0</field></block>\n              </value>\n              <value name="ADD2">\n                <block type="math_number"><field name="NUM">0</field></block>\n              </value>\n            </block>\n          </value>\n        </block>',_this.getSubClass("Read"),_this.getBlock("uart_read"),_this.getBlock("uart_read_characters",[{name:"NUM",num:10}]),_this.getBlock("uart_readline"),_this.getBlock("uart_any")];return(t===src_app_utils_common_data__WEBPACK_IMPORTED_MODULE_0__.__.CORETWO||t===src_app_utils_common_data__WEBPACK_IMPORTED_MODULE_0__.__.TOUGH)&&i.splice(7,1,_this.getBlock("uart",[{name:"TX",slider:14,min:0,max:34},{name:"RX",slider:13,min:0,max:36}])),_this.getBlocklyXMLList(i)}),this.workspace.registerToolboxCategoryCallback("RS485",function(e){let t=['<button text="RS485" web-class="blockly-title--style nounderline"></button>',_this.getDemoTitle("Init"),_this.getBlock("rs485",[{name:"TX",slider:1,min:0,max:34},{name:"RX",slider:3,min:0,max:36}],!0),_this.getDemoTitle("Write data"),_this.getBlock("rs485_write",[{name:"VALUE",text:""}],!0),_this.getDemoTitle("Read data"),_this.getBlock("rs485_read",[],!0),_this.getDivider(465),_this.getSubClass("Init"),_this.getBlock("rs485",[{name:"TX",slider:1,min:0,max:34},{name:"RX",slider:3,min:0,max:36}]),_this.getBlock("rs485_pin2_off"),_this.getBlock("rs485_pin2_on"),_this.getSubClass("Write"),_this.getBlock("rs485_write_line",[{name:"VALUE",text:""}]),_this.getBlock("rs485_write",[{name:"VALUE",text:""}]),'<block type="rs485_write_raw_data">\n          <value name="VALUE">\n            <block type="lists_create_with">\n              <value name="ADD0">\n                <block type="math_number"><field name="NUM">0</field></block>\n              </value>\n              <value name="ADD1">\n                <block type="math_number"><field name="NUM">0</field></block>\n              </value>\n              <value name="ADD2">\n                <block type="math_number"><field name="NUM">0</field></block>\n              </value>\n            </block>\n          </value>\n        </block>',_this.getSubClass("Read"),_this.getBlock("rs485_read"),_this.getBlock("rs485_read_characters",[{name:"NUM",num:10}]),_this.getBlock("rs485_readline"),_this.getBlock("rs485_any")];return _this.getBlocklyXMLList(t)}),this.workspace.registerToolboxCategoryCallback("IR",function(e){let t=localStorage.getItem("_type"),i=['<button text="IR" web-class="blockly-title--style nounderline"></button>',_this.getBlock("ir_send_addr",[{name:"addr",num:0},{name:"data",num:0}])];return["stick-C","stick-C-plus"].includes(t)&&i.splice(1,0,_this.getExamplesBtn("ir_nec_sender_demo","IR NEC SENDER"),_this.getExamplesBtn("ir_nec_receiver_demo","IR NEC RECEIVER")),t===src_app_utils_common_data__WEBPACK_IMPORTED_MODULE_0__.__.STICK_C_PLUS2&&i.splice(1,0,_this.getTipClass("If using ir block, don't use led block")),_this.getBlocklyXMLList(i)}),this.workspace.registerToolboxCategoryCallback("STAMP_CATM",function(e){let t=[_this.getTitleBlock("%{BKY_STAMP_CATM}","skuDocs","S003"),_this.getTipClass("( Only supported after firmware version v1.11.3 )"),_this.getImageBtn("skuDocs","S003","/assets/images/flyout/stamp_catm.jpg"),_this.getSubClassCollapse("Init"),_this.getBlock("stamp_catm_init_uart",[{name:"TX",num:17},{name:"RX",num:16},{name:"BAUD",num:115200}]),_this.getBlock("stamp_catm_init_module"),_this.getSubClassCollapse("Status &amp; Control"),_this.getBlock("stamp_catm_get_imei"),_this.getBlock("stamp_catm_get_ccid"),_this.getBlock("stamp_catm_power_down_module"),_this.getBlock("stamp_catm_set_echo_mode"),_this.getBlock("stamp_catm_check_status"),_this.getBlock("stamp_catm_check_single_quality"),_this.getBlock("stamp_catm_check_network_registration"),'<block type="stamp_catm_at_command_tester">\n          <value name="cmd">\n            <shadow type="text">\n              <field name="TEXT">AT</field>\n            </shadow>\n          </value>\n          <value name="keyword">\n            <shadow type="text">\n              <field name="TEXT">OK</field>\n            </shadow>\n          </value>\n          <value name="timeout">\n            <shadow type="math_slider">\n              <field name="NUM" min="1000" max="25000">1000</field>\n            </shadow>\n          </value>\n        </block>',_this.getSubClassCollapse("GPRS"),_this.getBlock("stamp_catm_gprs_service"),_this.getBlock("stamp_catm_check_gprs_network_registration"),_this.getBlock("stamp_catm_enable_pdp_context"),_this.getBlock("stamp_catm_show_pdp_address"),_this.getSubClassCollapse("IP"),_this.getBlock("stamp_catm_network_active"),_this.getBlock("stamp_catm_network_ip_id"),_this.getSubClassCollapse("HTTPS"),_this.getBlock("stamp_catm_http_services",[{name:"url",text:""},{name:"path",text:""},{name:"payload",text:""}]),_this.getBlock("stamp_catm_disconnect_server"),_this.getSubClassCollapse("%{BKY_NBIOT_MQTT_TITLE}"),_this.getBlock("stamp_catm_mqtt_connect",[{name:"server",text:"mqtt.m5stack.com"},{name:"port",num:1883},{name:"client_id",text:""},{name:"username",text:""},{name:"passwd",password:""},{name:"keepalive",num:120}]),_this.getBlock("stamp_catm_mqtt_disconnect"),_this.getBlock("stamp_catm_mqtt_sub",[{name:"topic",text:""},{name:"qos"}]),'<block type="stamp_catm_mqtt_sub_cb">\n          <value name="topic">\n            <block type="variables_get">\n              <field name="VAR">catm_topic</field>\n            </block>\n          </value>\n          <value name="msg">\n            <block type="variables_get">\n              <field name="VAR">catm_msg</field>\n            </block>\n          </value>\n        </block>',_this.getBlock("stamp_catm_mqtt_unsubscribe",[{name:"topic",text:""}]),_this.getBlock("stamp_catm_mqtt_publish",[{name:"topic",text:""},{name:"payload",text:""},{name:"qos"}]),_this.getBlock("stamp_catm_mqtt_check_connection"),_this.getBlock("stamp_catm_mqtt_poll"),_this.getSubClassCollapse("%{BKY_NBIOT_COAP_TITLE}"),_this.getBlock("stamp_catm_coap_init",[{name:"ip",text:"120.77.157.90"},{name:"port",num:5683}]),_this.getBlock("stamp_catm_coap_get",[{name:"url",text:"/m5stack-get"}]),_this.getBlock("stamp_catm_coap_post",[{name:"url",text:"/m5stack-post"},{name:"payload",text:""}]),_this.getBlock("stamp_catm_coap_delete"),..._this.getEzdataAllBtn(1),_this.getBlock("stamp_catm_ezdata_async_get_value",[{name:"key",text:""},{name:"token",password:_this.ezDataToken}]),_this.getBlock("stamp_catm_ezdata_save",[{name:"value",text:""},{name:"topic",text:""},{name:"token",password:_this.ezDataToken}]),_this.getBlock("stamp_catm_ezdata_remove",[{name:"topic",text:""},{name:"token",password:_this.ezDataToken}])];return setTimeout(()=>{_this.moveEzdataCopyBtn()}),_this.getBlocklyXMLList(t)}),this.workspace.registerToolboxCategoryCallback("MODULE_DMX",function(e){let t=localStorage.getItem("_type"),i=[_this.getTitleBlock("%{BKY_MODULE_DMX}","skuDocs","M128"),_this.getTipClass("( Only supported after firmware version v1.11.5 )"),_this.getImageBtn("skuDocs","M128","/assets/images/flyout/module_dmx.jpg"),_this.getExamplesBtn("module_dmx_demo"),_this.getSubClass("Init"),_this.getBlock("module_dmx_init",[{name:"tx",num:13},{name:"rx",num:35},{name:"en",num:12}]),_this.getBlock("module_dmx_deinit"),_this.getSubClass("Write"),_this.getBlock("module_dmx_write_data",[{name:"channel",slider:1,min:1,max:512},{name:"data",slider:100,min:0,max:255}]),_this.getBlock("module_dmx_clear_buffer"),_this.getSubClass("Read"),_this.getBlock("module_dmx_read_data",[{name:"channel",slider:1,min:1,max:512}])];return["core2","tough"].includes(t)&&i.splice(5,1,_this.getBlock("module_dmx_init",[{name:"tx",num:19},{name:"rx",num:35},{name:"en",num:27}])),_this.getBlocklyXMLList(i)}),this.workspace.registerButtonCallback("CREATE_VARIABLE",e=>{this.Blockly.Variables.createVariableButtonHandler(e.getTargetWorkspace())}),this.workspace.registerToolboxCategoryCallback("BYTE_ARRAY",function(e){let t=new Array;const i=document.createElement("button");i.setAttribute("text","%{BKY_BYTE_ARRAY}"),i.setAttribute("web-class","blockly-title--style nounderline"),i.setAttribute("callbackKey",""),t.push(i);const n=document.createElement("button");n.setAttribute("text","%{BKY_NEW_VARIABLE}"),n.setAttribute("callbackKey","CREATE_VARIABLE"),t.push(n);const o=_this.byteArrayFlyoutCategoryBlocks(e);return t=t.concat(o),t}),this.workspace.registerButtonCallback("CREATE_JSON_VARIABLE",e=>{this.Blockly.Variables.createVariableButtonHandler(e.getTargetWorkspace(),()=>{},"json")}),this.workspace.registerToolboxCategoryCallback("JSON",function(e){let t=new Array;const i=document.createElement("button");i.setAttribute("text","%{BKY_JSON}"),i.setAttribute("web-class","blockly-title--style"),i.setAttribute("callbackKey","dataStructureDocs"),i.setAttribute("url","json"),t.push(i);const n=document.createElement("button");n.setAttribute("text","Create JSON variable"),n.setAttribute("callbackKey","CREATE_JSON_VARIABLE"),t.push(n);const o=_this.JSONFlyoutCategoryBlocks(e);return t=t.concat(o),t}),this.workspace.registerToolboxCategoryCallback("MODULE_LAN",function(e){let t=[_this.getTitleBlock("%{BKY_MODULE_LAN}","modulesDocs","LAN%20Module%2013.2"),_this.getTipClass("( Only supported after firmware version v1.12.7 )"),_this.getImageBtn("modulesDocs","LAN%20Module%2013.2","/assets/images/flyout/module_lan.jpg"),_this.getExamplesBtn("module_lan_demo"),_this.getSubClassCollapse("Init"),_this.getBlock("module_lan_init",[{name:"sclk",num:18},{name:"mosi",num:23},{name:"miso",num:19},{name:"cs",num:5},{name:"rst",num:0},{name:"irq",num:35}]),'<block type="module_lan_config">\n          <value name="socket">\n            <shadow type="module_lan_socket_option">\n              <field name="socket">1</field>\n            </shadow>\n          </value>\n          <value name="port">\n            <shadow type="math_number">\n              <field name="NUM">0</field>\n            </shadow>\n          </value>\n        </block>',_this.getBlock("module_lan_set_ifconfig",[{name:"ip",text:"192.168.1.100"},{name:"subnet",text:"255.255.255.0"},{name:"gateway",text:"192.168.1.1"},{name:"dns",text:"8.8.8.8"}]),_this.getSubClassCollapse("TCP"),_this.getBlock("module_lan_tcp_send_packet",[{name:"packet",text:"1234"}]),_this.getBlock("module_lan_tcp_receive_packet",[{name:"size"}]),_this.getSubClassCollapse("UDP"),_this.getBlock("module_lan_udp_send_packet",[{name:"ip",text:""},{name:"port"},{name:"payload",text:""}]),_this.getBlock("module_lan_udp_receive_packet",[{name:"size"}]),_this.getSubClassCollapse("Status"),_this.getSubClass("Read"),_this.getBlock("module_lan_available_packet"),_this.getBlock("module_lan_local_ip"),_this.getBlock("module_lan_remote_ip"),_this.getBlock("module_lan_get_if_config"),_this.getSubClass("Write"),_this.getBlock("module_lan_socket_close"),_this.getSubClassCollapse("HTTP(S) request methods"),'<block type="module_lan_http_request">\n          <value name="url">\n            <shadow type="text">\n              <field name="TEXT"></field>\n            </shadow>\n          </value>\n          <value name="headers">\n            <block type="map_on_loop">\n            </block>\n          </value>\n          <value name="data">\n            <block type="map_on_loop">\n            </block>\n          </value>\n        </block>',_this.getSubClass("Read"),_this.getBlock("module_lan_get_status_code"),_this.getBlock("module_lan_get_data"),_this.getSubClassCollapse("MQTT"),_this.getSubClass("Init"),_this.getBlock("module_lan_mqtt_init",[{name:"server",text:"mqtt.m5stack.com"},{name:"port",num:1883},{name:"client_id",text:""},{name:"username",text:""},{name:"passwd",password:""},{name:"keepalive",num:120}]),_this.getSubClass("Write"),_this.getBlock("module_lan_mqtt_connect"),_this.getBlock("module_lan_mqtt_disconnect"),_this.getBlock("module_lan_mqtt_sub",[{name:"topic",text:""},{name:"qos"}]),_this.getBlock("module_lan_mqtt_publish",[{name:"topic",text:""},{name:"payload",text:""},{name:"qos"}]),_this.getBlock("module_lan_mqtt_poll",[{name:"topic",text:""}]),_this.getSubClass("Read"),_this.getBlock("module_lan_mqtt_check_connection"),_this.getSubClass("Callback"),'<block type="module_lan_mqtt_sub_cb">\n          <value name="topic">\n            <block type="variables_get">\n              <field name="VAR">lan_topic</field>\n            </block>\n          </value>\n          <value name="msg">\n            <block type="variables_get">\n              <field name="VAR">lan_msg</field>\n            </block>\n          </value>\n        </block>',..._this.getEzdataAllBtn(1),_this.getBlock("module_lan_ezdata_async_get_value",[{name:"key",text:""},{name:"token",password:_this.ezDataToken}]),_this.getBlock("module_lan_ezdata_save",[{name:"value",text:""},{name:"topic",text:""},{name:"token",password:_this.ezDataToken}]),_this.getBlock("module_lan_ezdata_remove",[{name:"topic",text:""},{name:"token",password:_this.ezDataToken}])];return setTimeout(()=>{_this.moveEzdataCopyBtn()}),_this.getBlocklyXMLList(t)}),this.workspace.registerToolboxCategoryCallback("IOT_BLYNK2",function(e){let t=['<button text="%{BKY_IOT_BLYNK2}" web-class="blockly-title--style nounderline"></button>','<button text="Blynk 1.0 and 2.0 comparison" web-class="blockly-i2cmap-link--style" callbackKey="links" url="https://docs.blynk.io/en/troubleshooting/blynk-1.0-and-2.0-comparison/migrate-from-1.0-to-2.0"></button>',_this.getTipClass("( Only supported after firmware version v1.13.3 )"),_this.getSubClass("Init"),_this.getBlock("iot_blynk2_init",[{name:"token",text:""}]),_this.getBlock("iot_blynk2_init_server",[{name:"server",text:""},{name:"port",num:443},{name:"token",text:""},{name:"heartbeat",num:5}]),_this.getSubClass("Write"),_this.getBlock("iot_blynk2_connect"),_this.getBlock("iot_blynk2_disconnect"),_this.getBlock("iot_blynk2_set_virtual_write",[{name:"pin",num:0},{name:"data",text:""}]),_this.getBlock("iot_blynk2_set_sync_virtual",[{name:"pin",num:0}]),_this.getBlock("iot_blynk2_run"),_this.getSubClass("Read"),_this.getBlock("iot_blynk2_get_state"),'<block type="iot_blynk2_event_read">\n          <value name="number">\n            <shadow type="math_number">\n              <field name="NUM">0</field>\n            </shadow>\n          </value>\n          <value name="value">\n            <block type="variables_get">\n              <field name="VAR">V0_value</field>\n            </block>\n          </value>\n        </block>','<block type="iot_blynk2_event_read_pin">\n          <value name="value">\n            <block type="variables_get">\n              <field name="VAR">V_value</field>\n            </block>\n          </value>\n          <value name="pin">\n            <block type="variables_get">\n              <field name="VAR">V_pins</field>\n            </block>\n          </value>\n        </block>'];return _this.getBlocklyXMLList(t)})}byteArrayFlyoutCategoryBlocks(e){let t=[];const i=e.getVariablesOfType("");if(i.length>0){const e=i[i.length-1];let n=`<field name="VAR" id="${e.getId()}" variabletype="${e.type}">${e.name}</field>`;t.push(`<block type="variables_set">\n        ${n}\n        <value name="VALUE">\n          <block type="bytearray_create_empty">\n            <value name="LENGTH">\n              <shadow type="math_number">\n                <field name="NUM">1</field>\n              </shadow>\n            </value>\n          </block>\n        </value>\n      </block>`),t.push(`<block type="bytearray_append">${n}</block>`),t.push(`<block type="bytearray_extend">${n}</block>`),t.push(`<block type="bytearray_setIndex">\n      <mutation at="true"></mutation>\n      <field name="MODE">SET</field>\n      <field name="WHERE">FROM_START</field>\n      <value name="LIST">\n        <block type="variables_get">\n          <field name="VAR" id="${e.getId()}">${e.name}</field>\n        </block>\n      </value>\n    </block>`),t.push(`<block type="bytearray_getIndex">\n      <mutation statement="false" at="true"></mutation>\n      <field name="MODE">GET</field>\n      <field name="WHERE">FROM_START</field>\n      <value name="VALUE">\n        <block type="variables_get">\n          <field name="VAR" id="${e.getId()}">${e.name}</field>\n        </block>\n      </value>\n    </block>`),t.push(`<block type="bytearray_getSublist">\n      <mutation at1="true" at2="true"></mutation>\n      <field name="WHERE1">FROM_START</field>\n      <field name="WHERE2">FROM_START</field>\n      <value name="LIST">\n        <block type="variables_get">\n          <field name="VAR" id="${e.getId()}">${e.name}</field>\n        </block>\n      </value>\n    </block>`),t.push(`<block type="bytearray_decode">\n      ${n}\n        <value name="STRING">\n          <shadow type="text"><field name="TEXT"></field></shadow>\n        </value>')\n      </block>`)}return this.getBlocklyXMLList(t)}JSONFlyoutCategoryBlocks(e){let t=[];const i=e.getVariablesOfType("json"),n=i[i.length-1];let o='<field name="VAR" variabletype="json">json_object</field>';return i.length>0&&(o=`<field name="VAR" id="${n.getId()}" variabletype="${n.type}">${n.name}</field>`,t.push(`<block type="variables_set" variabletype="json">${o}</block>`),i.forEach(e=>{t.push(`<block type="variables_get">\n          <field name="VAR" id="${e.getId()}" variabletype="${e.type}">${e.name}</field>\n        </block>`)})),t.push(this.getSubClass("Init")),t.push('<block type="json_create">\n      <value name="LOOP">\n        <block type="create_json_key">\n          <value name="key">\n            <shadow type="text">\n              <field name="TEXT"></field>\n            </shadow>\n          </value>\n          <value name="value">\n            <shadow type="text">\n              <field name="TEXT"></field>\n            </shadow>\n          </value>\n        </block>\n      </value>\n    </block>'),t.push(this.getSubClass("Operation")),t.push(`<block type="variables_set">\n      ${o}\n      <value name="VALUE">\n        <block type="loads_json">\n          <value name="JSON_VAR">\n            <shadow type="text">\n              <field name="TEXT"></field>\n            </shadow>\n          </value>\n        </block>\n      </value>\n    </block>`),t.push(`<block type="dumps_json">\n      <value name="JSON_VAR">\n        <block type="variables_get">\n          ${o}\n        </block>\n      </value>\n    </block>`),t.push(this.getSubClass("Read")),t.push(`<block type="json_get_key_value">\n      <value name="JSON_VAR">\n        <block type="variables_get">\n          $${o}\n        </block>\n      </value>\n      <value name="key">\n        <shadow type="text">\n          <field name="TEXT"></field>\n        </shadow>\n      </value>\n    </block>`),t.push(`<block type="json_get_keys">\n      <value name="JSON_VAR">\n        <block type="variables_get">\n          ${o}\n        </block>\n      </value>\n    </block>`),t.push(`<block type="json_get_values">\n      <value name="JSON_VAR">\n        <block type="variables_get">\n          ${o}\n        </block>\n      </value>  \n    </block>`),t.push(`<block type="json_get_keys_len">\n      <value name="JSON_VAR">\n        <block type="variables_get">\n          ${o}\n        </block>\n      </value>\n    </block>`),t.push(this.getSubClass("Write")),t.push(`<block type="json_set_key_value">\n      <value name="JSON_VAR">\n        <block type="variables_get">\n          ${o}\n        </block>\n      </value>\n      <value name="value">\n        <shadow type="text">\n          <field name="TEXT"></field>\n        </shadow>\n      </value>\n      <value name="key">\n        <shadow type="text">\n          <field name="TEXT"></field>\n        </shadow>\n      </value>\n    </block>`),t.push(`<block type="json_add_key_value">\n      <value name="JSON_VAR">\n        <block type="variables_get">\n          ${o}\n        </block>\n      </value>\n      <value name="key">\n        <shadow type="text">\n          <field name="TEXT"></field>\n        </shadow>\n      </value>\n      <value name="value">\n        <shadow type="text">\n          <field name="TEXT"></field>\n        </shadow>\n      </value>\n    </block>`),t.push(`<block type="json_del_key">\n      <value name="JSON_VAR">\n        <block type="variables_get">\n          ${o}\n        </block>\n      </value>\n      <value name="key">\n        <shadow type="text">\n          <field name="TEXT"></field>\n        </shadow>\n      </value>\n    </block>`),this.getBlocklyXMLList(t)}getBlocklyXMLList(e){return e.map(e=>window.Blockly.Xml.textToDom(e))}getTitleBlock(e,t,i){return`<button text="${e}" web-class="blockly-title--style" callbackKey="${t}" ${i?`url="${i}"`:""}></button>`}getDemoTitle(e){return`<button text="\u25b6 ${e}" web-class="blockly-button--style" callbackKey="selected"></button>`}getSubClass(e){return`<button text="${e}" web-class="blockly-subclass--style"></button>`}getTipClass(e){return`<button text="${e}" web-class="blockly-tip--style"></button>`}getTextClass(e){return`<button text="${e}" web-class="blockly-text--style"></button>`}getSubClassCollapse(e){return`<button text="\u25bc ${e}" web-class="blockly-subclass-pointer--style" callbackKey="subClassCollapse"></button>`}getDivider(e){return e?`<button width="${e}" web-class="blockly-divider-nowidth"></button>`:'<button web-class="blockly-divider--style"></button>'}getExamplesBtn(e,t){return`<button text="%{BKY_LOAD_EXAMPLES}${t?" ( "+t+" )":""}" web-class="blockly-blue-btn" callbackKey="RunExamples" ${e?`fileName="${e}"`:""}></button>`}getEzdataAllBtn(e){let t=this.getTitleBlock("%{BKY_EZDATA}","iotservice","ezdata");return[e?'<button text="%{BKY_EZDATA}" web-class="ezdata-subclass-link--style" callbackKey="iotservice" url="ezdata"></button>':t,'<button text="EzData Manager" web-class="blockly-subclass-link--style" callbackKey="ezdataDebuggerLink" icon="/assets/images/ezdata-manager.svg" iconSize="26"></button>',`<button text="${this.ezdataAttention}" web-class="blockly-ezTip--style"></button>`,'<sep gap="12"></sep>','<button text="Set Current Token" web-class="blockly-blue-btn" callbackKey="setEzDataToken"></button>','<sep gap="12"></sep>',`<button text="Current Token: ${this.ezDataToken}" web-class="ezdata-token--style"></button>`,'<sep gap="0"></sep>','<button text="copy" web-class="blockly-blue-btn" callbackKey="copyEzDataToken"></button>']}getImageBtn(e,t,i){return`<button web-class="blockly-subclass--style" callbackKey="${e}" url="${t}" urlId="null" icon="${i}" iconSize="200"></button>`}getBlock(e,t,i,...n){let o={num:{shadow:"math_number",field:"NUM"},text:{shadow:"text",field:"TEXT"},password:{shadow:"text_password",field:"TEXT"},slider:{shadow:"math_slider",field:"NUM"}},r=[];if(t&&t.length>0){let e;t.forEach(t=>{let i="num";t.hasOwnProperty("text")?i="text":t.hasOwnProperty("slider")?(i="slider",t.hasOwnProperty("min")&&t.hasOwnProperty("max")&&(e=[t.min,t.max])):t.hasOwnProperty("password")&&(i="password"),r.push(`\n          <value name="${t.name}">\n            <shadow type="${o[i].shadow}">\n              <field name="${o[i].field}" ${e?`min="${e[0]}" max="${e[1]}"`:""}>${t[i]}</field>\n            </shadow>\n          </value>`)})}return n&&n.length>0&&r.push(`<next>${n[0]}</next>`),`<block type="${e}" ${i?'hidden="true"':""}>${t?r.join(""):""}</block>`}createEventCbBlock(e,t){let i=window.BlocklyEditor.newBlock(e);i.eventId=t;let n=window.Blockly.eventCBIdList_.length;return i.moveBy(300+30*n,250+30*n),i.initSvg(),i.render(),i}checkEventBlock(e){let t=!1,i=/^(ezdata_async_)|(iotbase_ezdata_async_)|(iotbasecatm_ezdata_async_)|(uhf_rfid_multi_reading_count)|(com_cat1_ezdata_async)|(dtu_cat1_ezdata_async)|(lan_base_ezdata_async)|(unit_poesp32_receive_tcp_packet)|(unit_poesp32_mqtt_receive)|(unit_catm_ezdata_async_)|(base_poe_ezdata_async)|(unit_catm_gnss_ezdata_async_)|(cbacknbiot_ezdata_async_)|(atom_poe_ezdata_async_)|(stamp_catm_ezdata_async_)|(module_lan_ezdata_async_)|(unit_lorae220_receive_in_loop)|(unit_lorae220433_receive_in_loop)/.test(e.type),n=!/_cb/.test(e.type);return i&&n&&(t=!0,window.Blockly.eventCBIdList_.forEach(function(i){i.blockId===e.id&&(t=!1)})),t}setEventCbBlock(e){e.eventId=this.globalOperatorSrv.getEventId(e.type),e.cbId=this.globalOperatorSrv.getCbId(),window.Blockly.cbIdList_.push(e.cbId);let t="value",i=!1;/_get_/gi.test(e.type)&&(t="ezdata_value",i=!0,/_get_list_value/gi.test(e.type)?t="ezdata_list_value":/_get_iso_date/gi.test(e.type)&&(t="ISODateTime"));let n,o=`${e.type}_cb`;"uhf_rfid_multi_reading_count"===e.type?(t="EPC",n="dBm",o="uhf_rfid_callback",i=!0):"unit_poesp32_receive_tcp_packet"===e.type?(t="poesp32_tcp_value",o=`${e.type}_cb`,i=!0):"unit_poesp32_mqtt_receive"===e.type?(t="poesp32_mqtt_value",o=`${e.type}_cb`,i=!0):("unit_lorae220_receive_in_loop"===e.type||"unit_lorae220433_receive_in_loop"===e.type)&&(t="lorae220_data",n="lorae220_rssi",o=`${e.type}_cb`,i=!0);let r=`${t}${e.eventId}`;setTimeout(()=>{let t=this.createEventCbBlock(o,e.eventId);if(window.Blockly.eventCBIdList_.push({blockId:e.id,cbBlockId:t.id,eventId:e.eventId,cbId:e.cbId,type:e.type}),t.getField("id").setValue(e.eventId),e.getField("id").setValue(e.eventId),t.eventId=e.eventId,t.cbId=e.cbId,i){let i=window.BlocklyEditor.createVariable(r,null,null),o=this.globalOperatorSrv.createVariablesBlock(i.id_);if(t.getInput("value").connection.connect(o.getConnections_()[0]),"uhf_rfid_multi_reading_count"===e.type){let i=window.BlocklyEditor.createVariable(`${n}${e.eventId}`,null,null),o=this.globalOperatorSrv.createVariablesBlock(i.id_);t.getInput("dbm").connection.connect(o.getConnections_()[0])}if("unit_lorae220_receive_in_loop"===e.type||"unit_lorae220433_receive_in_loop"===e.type){let i=window.BlocklyEditor.createVariable(`${n}${e.eventId}`,null,null),o=this.globalOperatorSrv.createVariablesBlock(i.id_);t.getInput("rssi").connection.connect(o.getConnections_()[0])}}},400)}deleteEventBlock(e){if(window.Blockly.eventCBIdList_)for(var t=0;t<window.Blockly.eventCBIdList_.length;t++){let i;window.Blockly.eventCBIdList_[t].blockId===e?i=window.Blockly.eventCBIdList_[t].cbBlockId:window.Blockly.eventCBIdList_[t].cbBlockId===e&&(i=window.Blockly.eventCBIdList_[t].blockId),i&&window.BlocklyEditor.getBlockById(i)&&(window.BlocklyEditor.getBlockById(i).dispose(),window.Blockly.eventCBIdList_.splice(t,1),t--)}}moveEzdataCopyBtn(){let e,t;if(window.BlocklyEditor.getFlyout().buttons_.forEach(i=>{"ezdata-token--style"===i.cssClass_?e=i:"blockly-blue-btn"===i.cssClass_&&(t=i)}),e&&t){let i=e.position_;t.moveTo(i.x+e.width,i.y)}}moveFlyoutBlockPosition(e,t,i,n,o){for(let r=e;r<t.length;r++){let e=t[r]instanceof window.Blockly.FlyoutButton,s=null;s=e?t[r].svgGroup_:i.mats_.find(e=>{if(e&&e.nextElementSibling.getAttribute("data-id")===t[r].nextElementSibling.getAttribute("data-id"))return e});let a=(e?s.getAttribute("transform"):s.nextElementSibling.getAttribute("transform")).split(","),l=parseInt(a[1].replace(")",""))+(n?o:-o),c=a[0]+","+l+")";if(e?s.setAttribute("transform",c):i.mats_[r].nextElementSibling.setAttribute("transform",c),!e){let e=parseInt(i.mats_[r].getAttribute("y"))+(n?o:-o);i.mats_[r].setAttribute("y",e)}}}getDefaultGPIO(){let e=sessionStorage.getItem("_type")||src_app_utils_common_data__WEBPACK_IMPORTED_MODULE_0__.__.CORE,t=["core2","tough"].indexOf(e)>-1;return[t?14:17,t?13:16]}getUnitPnpDataType(e){let t={};return["PnPTelemetry","PnPProperty","PnPCommand"].forEach(i=>{let n=0;window.Blockly[i].forEach(t=>{t.type===e&&n++}),t[i]=n}),t}getPnpBlock(e){let t=[];t.push(this.getSubClass("PnP"));let i="";this.pnpSrv.getComponentList().subscribe(t=>{var n;!t.length||(i=null===(n=t.find(t=>t.type===e))||void 0===n?void 0:n.name)});let n=this.getUnitPnpDataType(e),o="VARNAME";if(n.PnPTelemetry&&t.push(`<block type="azure_pnp_send_telemetry">\n        <field name="component">${i}</field>\n        <statement name="func">${this.getPnpChildBlock(1,e,i,o)}</statement>\n      </block>`),n.PnPProperty){t.push(`<block type="azure_pnp_update_property">\n        <field name="component">${i}</field>\n        <statement name="func">${this.getPnpChildBlock(0,e,i,o)}</statement>\n      </block>`);let n="",r=!1;this.pnpSrv.getPropertyList().subscribe(t=>{if(!t.length)return;let i=t.find(t=>t.type===e);n=null==i?void 0:i.name,r=null==i?void 0:i.writable}),r&&t.push(`<block type="azure_pnp_property_cb">\n        <field name="component">${i}</field>        \n        <field name="property">${n}</field>\n      </block>`)}if(n.PnPCommand){let n="";this.pnpSrv.getCommandList().subscribe(t=>{var i;!t.length||(n=null===(i=t.find(t=>t.type===e))||void 0===i?void 0:i.name)}),t.push(`<block type="azure_pnp_command_cb">\n        <field name="component">${i}</field>\n        <field name="command">${n}</field>\n      </block>`)}return t}getPnpChildBlock(e,t,i,n){let o=[];window.Blockly[e?"PnPTelemetry":"PnPProperty"].forEach(function(e){e.type===t&&o.push(e.name)});let r=n?`<field name="${n}">${i}</field>`:"",s="",a=e?"azure_pnp_send_telemetry_child":"azure_pnp_update_property_child";for(let l=0;l<o.length;l++){let n,c,h=o[l];if(e?n=window.Blockly.getBlockTypeByPnpName(t,h):window.Blockly.getPropertyWritable(h)?(n="variables_get",c=window.Blockly.getPropertyVarByName(i,h)[0],r=`<field name="VAR">${c}</field>`):n=window.Blockly.getPropertyConnectBlockType(h),l>0&&(s+="<next>"),s+=`<block type="${a}">\n      <mutation key="${h}" component="${i}"></mutation>\n      <field name="key">${h}</field>\n      <value name="value">\n        <block type="${n}">${r}</block>\n      </value>`,l===o.length-1){for(let e=0;e<l;e++)s+="</block></next>";s+="</block>"}}return s}getPnPInitBlockNum(){let e=window.BlocklyEditor.getBlocksByType("azure_pnp_init_central").filter(e=>!e.disabled),t=e.length;return 1===t&&!this.pnpSrv.initBlockId&&(this.pnpSrv.initBlockId=e[0].id),t}getPnPCategoryByBlockType(e){switch(e){case"azure_pnp_send_telemetry_child":case"azure_pnp_send_telemetry":return"telemetry";case"azure_pnp_command_cb":return"command";case"azure_pnp_update_property":case"azure_pnp_update_property_child":case"azure_pnp_property_cb":return"property"}}}return BlocklyEditorService.\u0275fac=function(e){return new(e||BlocklyEditorService)(_angular_core__WEBPACK_IMPORTED_MODULE_10__.LFG(_angular_common_http__WEBPACK_IMPORTED_MODULE_11__.eN),_angular_core__WEBPACK_IMPORTED_MODULE_10__.LFG(_code_editor_service__WEBPACK_IMPORTED_MODULE_4__.h),_angular_core__WEBPACK_IMPORTED_MODULE_10__.LFG(_global_operator_service__WEBPACK_IMPORTED_MODULE_5__.t),_angular_core__WEBPACK_IMPORTED_MODULE_10__.LFG(src_app_services_store_service__WEBPACK_IMPORTED_MODULE_6__.d),_angular_core__WEBPACK_IMPORTED_MODULE_10__.LFG(_upload_service__WEBPACK_IMPORTED_MODULE_7__.C),_angular_core__WEBPACK_IMPORTED_MODULE_10__.LFG(_pnp_service__WEBPACK_IMPORTED_MODULE_8__.r),_angular_core__WEBPACK_IMPORTED_MODULE_10__.LFG(_screen_simulator_service__WEBPACK_IMPORTED_MODULE_9__.s))},BlocklyEditorService.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_10__.Yz7({token:BlocklyEditorService,factory:BlocklyEditorService.\u0275fac,providedIn:"root"}),BlocklyEditorService})()},8318:function(e,t,i){"use strict";i.d(t,{h:function(){return c}});var n=i(52644),o=i(67302),r=i(37716),s=i(17921),a=i(61797),l=i(22e3);let c=(()=>{class e{constructor(e,t,i){this.codeMakerSrv=e,this.globalOperatorSrv=t,this.storeSrv=i}init(e){n.config.set("basePath","/assets/ace-builds"),n.config.loadModule("ace/ext/language_tools",e=>{this.workspace.setOptions({enableBasicAutocompletion:!0,enableSnippets:!0,enableLiveAutocompletion:!0})}),this.workspace=n.edit(e.id,{mode:"ace/mode/python",theme:"ace/theme/diy",fontSize:16}),this.workspace.$blockScrolling=1/0,this.workspace.session.setTabSize(2);let t=this;this.workspace.getSession().on("change",function(){t.checkWorkspaceValue()}),window.CodeEditor=this.workspace}updateWorkspaceValue(e){let t,i=this,n=function(){if(t=i.codeMakerSrv.makeCode(),""!==t)return i.workspace.setValue(t,-1),t};if(1===e)return t=this.storeSrv.getSelectedFileData().source._value.data,this.workspace.setValue(t,-1),t;if(2===e){let e=this.globalOperatorSrv.getMode().source._value,t=this.storeSrv.getSelectedFileData().source._value;e===o.IK.FILE&&t?t.data!==i.workspace.getValue()?this.globalOperatorSrv.saveWarnSwal(1,function(){n(),i.globalOperatorSrv.setMode(o.IK.CODE)}):(n(),i.globalOperatorSrv.setMode(o.IK.CODE)):n()}else n()}getWorkspaceValue(){let e=this.codeMakerSrv.makeCode();if(""!==e)return e}checkWorkspaceValue(){this.globalOperatorSrv.getMode().subscribe(e=>{let t=this.storeSrv.getSelectedFileData().source._value;e===o.IK.FILE&&t&&t.data!==this.workspace.getValue()?this.globalOperatorSrv.setIsEditing(!0):this.globalOperatorSrv.setIsEditing(!1)})}createWarnSwal(e){let t=this.globalOperatorSrv.getMode().source._value,i=this.storeSrv.getSelectedFileData().source._value,n=this;t===o.IK.FILE&&i?i.data!==this.workspace.getValue()?this.globalOperatorSrv.saveWarnSwal(1,function(){n.globalOperatorSrv.setMode(o.IK.CODE),n.updateWorkspaceValue(),e()}):(n.globalOperatorSrv.setMode(o.IK.CODE),n.updateWorkspaceValue(),e()):e()}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(s.A),r.LFG(a.t),r.LFG(l.d))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},17921:function(e,t,i){"use strict";i.d(t,{A:function(){return a}});var n=i(67302),o=i(37716),r=i(22e3),s=i(99742);let a=(()=>{class e{constructor(e,t){this.storeSrv=e,this.screenSimulatorSrv=t,this.isCore2=!1}makeCode(){this.isCore2=[n.__.CORETWO,n.__.TOUGH].includes(this.storeSrv.type.value);let e=window.BlocklyEditor.getAllBlocks(),t=this.storeSrv.unitList.value,i=[],o=[],r=[],s=[];e.forEach(e=>{if("procedures_defnoreturn"===e.type||"procedures_defreturn"===e.type||"button_callback"===e.type||"button_multiBtnCb"===e.type||"unit_button_callback"===e.type||"mqtt_sub"===e.type||"remote_add_switch"===e.type||i.push(e),"logic_when"===e.type){let t=`oldData${e.oldDataId} = None`;-1===s.indexOf(t)&&s.push(t)}}),o=t.map(e=>e.name),r=window.Blockly.Procedures.allProcedures(window.BlocklyEditor)[0].concat(window.Blockly.Procedures.allProcedures(window.BlocklyEditor)[1]).filter(e=>0!=e[3]).map(e=>e[0]);let a=[],l=this.makeLibraryCode(i),c=this.makeUnitCode(),h=this.makeInstanceCode(i),u=this.makeComponentCode(),d=this.makeBlockCode(),p=this.makeModuleCode(window.Blockly.modules),g=this.makeAheadCode(i);a.push(l),a.push(p),a.push(g),"atom-matrix"===this.storeSrv.type.value&&a.push(`rgb.set_screen([${this.storeSrv.matrixArray.value.toString().replace(/#/g,"0x").replace(/0x000000/g,"0").replace(/0x111111/g,"0")}])`);try{const e=this.storeSrv.componentList.value.findIndex(e=>"screen"===e.type&&"default"===e.screenType);if(this.storeSrv.type.value===n.__.COREINK)a.push(`setScreenColor(${this.storeSrv.componentList.value[0][n.pA.BACKGROUND_COLOR]===n.lG.WHITE?"lcd.WHITE":"lcd.BLACK"})`);else if(this.storeSrv.type.value===n.__.PAPER){let e=n.Ly.indexOf(this.storeSrv.componentList.value[0][n.pA.BACKGROUND_COLOR]);a.push(`setScreenColor(${e})`)}else if(this.storeSrv.type.value===n.__.CORETWO||this.storeSrv.type.value===n.__.TOUGH)a.push(`screen = M5Screen()\nscreen.clean_screen()\nscreen.set_screen_bg_color(${this.storeSrv.componentList.value[e][n.pA.BACKGROUND_COLOR].replace("#","0x")})`);else if(this.storeSrv.type.value===n.__.ATOM_DISPLAY){const{width:e,height:t}=this.screenSimulatorSrv.getScreenSize();a.push(`setResolution(${e}, ${t})`),a.push(this.storeSrv.componentList.value.length>0?`setScreenColor(${this.storeSrv.componentList.value[0][n.pA.BACKGROUND_COLOR].replace("#","0x")})`:"setScreenColor(0x000000)")}else[n.__.ATOM_MATRIX,n.__.ATOM,n.__.PICO,n.__.ATOM_U].indexOf(this.storeSrv.type.value)<0&&a.push(`setScreenColor(${this.storeSrv.componentList.value[e][n.pA.BACKGROUND_COLOR].replace("#","0x")})`);if(this.storeSrv.componentList.value.find(e=>"__display_module_screen"===e.id)){const{width:e,height:t}=this.screenSimulatorSrv.getScreenSize();let i=this.storeSrv.componentList.value.find(e=>"__display_module_screen"===e.id)[n.pA.BACKGROUND_COLOR].replace("#","0x");this.isCore2&&a.push("wait_ms(200)"),a.push(`setResolution(${e}, ${t}, type=hdmi)`),a.push(`setScreenColor(${i}, type=hdmi)`)}}catch(y){console.log(y)}a.push(c),a.push(h),a.push(s.join("\n")),""!==this.getblockCode("lorawan_initp2p")&&a.push(this.getblockCode("lorawan_initp2p").split("\n").splice(0,1).join("\n")),a.push(u),a.push(d);let f=a.join("\n"),m=this.makeEventCode();f=f.replace("# Define Event\n",m+"\n"),window.Blockly.defineGlobal().length>0&&(f=f.replace(/# global params/g,"global "+window.Blockly.defineGlobal().join(", "))),f=this.removelorwanBlocklyCode("lorawan_initp2p",f),f=this.removeMotorBlocklyCode(f,i);let _=f.split("\n");window.Blockly.Python.definitions_.variables.split("\n").forEach(e=>{_.splice(_.lastIndexOf(e),1)});let v=_.join("\n");return window.BlocklyEditor.getAllVariables().forEach(e=>{let t=window.Blockly.Python.variableDB_.safeName_(e.id_);v.indexOf(t)>-1&&(v=v.replace(new RegExp(t,"g"),e.name))}),v}makeLibraryCode(e){let t;t=sessionStorage.getItem("_type")===n.__.CORETWO||sessionStorage.getItem("_type")===n.__.TOUGH?["from m5stack import *","from m5stack_ui import *","from uiflow import *"]:["from m5stack import *","from m5ui import *","from uiflow import *"];let i="import ntptime",o="import socket",r="from flow import ezdata",s="from libs.lorabus import Lorabus",a="from m5stack import touch",l="from m5stack import mic",c="from MediaTrans.MicRecord import MicRecord",h="from MediaTrans.TimerCam import TimerCam",u="from MediaTrans.AudioPlay import AudioPlay",d="from MediaTrans.Mqtt_Printer import Mqtt_Printer",p="from ThirdParty.myCobot import mycobot",g="from ThirdParty.myCobot import myCobotPro",f="from ThirdParty.toio import toio",m="from ThirdParty.robocar import Robocar",_="from base.HDriver import HDriver",v="from base.Motion import Motion",y="from base.GPS import GPS",b="from base.QRCode import QRCode",w="from base.Stepmotor import Stepmotor",A="from base.DTU_NB import DTU_NB",x="from base.DTU_CAT1 import DTU_CAT1",T="from base.DTU_LoRaWAN import DTU_LoRaWAN",C="from base.TF_Card import TFCARD",Z="from base.Speaker import Speaker",k="from IoTcloud.Tencent import Tencent",S="from IoTcloud.Ali import AliIoT",E="from IoTcloud.AWS import AWS",M="from IoTcloud.Azure import IoT_Hub",O="from IoTcloud.Azure import IoT_Central",I="from IoTcloud import blynk",P="from comx.LoRaWAN import LoRaWAN_470",R="from comx.LoRaWAN import LoRaWAN_915",q="from comx.lte import LTE",L="from comx.nbiot import NBIoT",U="from comx.cat1 import CAT1",B="from comx.sim800 import SIM800",D="from comx.zigbee import Zigbee",N="from machine import WDT",F="from machine import CAN",H="from modbus.master.uModBusSerial import uModBusSerial",$="from modbus.slave.rtu import ModbusSlave",z="from libs.m5_espnow import M5ESPNOW",V="from ble.ble_peripheral import BLEPeripheral",K="from ble.ble_central import BLECentral",W="from base.PoE import PoE",G="from base.Socket_Kit import Socket",Y="from hardware import sdcard",j="from units._tof import Tof",X="from base.CAN import CAN",J="from base.QRCode2 import QRCode2",Q="import machine",ee="from libs.label_plus import *",te="from libs.image_plus import *",ie="\ndisplay = module.get(module.M5DISPLAY)",ne="hdmi = display.display_init()",oe="from libs.json_py import *",re="import binascii",se="import libs.bmi270 as bmi270",ae="import MicrophonePDM as MIC",le="from m5ui import M5ChartGraph, M5BarGraph",ce="import math",he="from IoTcloud import blynk2";return e.forEach(e=>{if(!e.disabled)if(this.storeSrv.componentList.value.find(e=>"labelplus"===e.type)&&-1===t.indexOf(ee)&&t.push(ee),this.storeSrv.componentList.value.find(e=>"imageplus"===e.type)&&-1===t.indexOf(te)&&t.push(te),this.storeSrv.componentList.value.find(e=>"graph"===e.type||"bargraph"===e.type)&&(sessionStorage.getItem("_type")===n.__.CORETWO||sessionStorage.getItem("_type")===n.__.TOUGH)&&-1===t.indexOf(le)&&t.push(le),/^(emoji_)/.test(e.type))-1===t.indexOf("from emoji import Emoji")&&t.push("from emoji import Emoji");else if("IMU_GET_X"===e.type||"IMU_GET_Y"===e.type||"IMU_GET_Z"===e.type||"IMU_IS_LEVEL"===e.type||"IMU_IS_STAND"===e.type||"IMU_IS_LEFT_TILT"===e.type||"IMU_IS_RIGHT_TILT"===e.type||"IMU_IS_OTHER_SIDE"===e.type||"IMU_GET_ACC_Y"===e.type||"IMU_GET_ACC_X"===e.type||"IMU_GET_ACC_Z"===e.type||"IMU_GET_Gyr_X"===e.type||"IMU_GET_Gyr_Y"===e.type||"IMU_GET_Gyr_Z"===e.type)-1===t.indexOf("import imu")&&t.push("import imu");else if("IMU_GET_X_tow"===e.type||"IMU_GET_Y_tow"===e.type||"IMU_GET_Z_tow"===e.type||"IMU_IS_LEVEL_tow"===e.type||"IMU_IS_STAND_tow"===e.type||"IMU_IS_LEFT_TILT_tow"===e.type||"IMU_IS_RIGHT_TILT_tow"===e.type||"IMU_IS_OTHER_SIDE_tow"===e.type||"IMU_GET_ACC_Y_tow"===e.type||"IMU_GET_ACC_X_tow"===e.type||"IMU_GET_ACC_Z_tow"===e.type)-1===t.indexOf("from hardware import sh200q")&&t.push("from hardware import sh200q");else if("faces_readStr"===e.type||"faces_readKey"===e.type||"faces_clearStr"===e.type||"faces_deleteStrLast"===e.type||"faces_isNewKeyPress"===e.type||"faces_encode_setLed"===e.type||"faces_encode_clearValue"===e.type||"faces_encode_getValue"===e.type||"faces_encode_getDir"===e.type||"faces_encode_getPress"===e.type||"faces_finger_get_state"===e.type||"faces_finger_get_access"===e.type||"faces_finger_get_id"===e.type||"faces_finger_removeAll"===e.type||"faces_finger_remove_user"===e.type||"faces_finger_add_user"===e.type||"faces_finger_read"===e.type||"faces_finger_getUnknown"===e.type||"faces_gameboy_getStatus"===e.type||"faces_gameboy_getPressed"===e.type||"faces_joystick_x"===e.type||"faces_joystick_y"===e.type||"faces_joystick_press"===e.type||"faces_joystick_invert_x"===e.type||"faces_joystick_invert_y"===e.type||"faces_joystick_setLed"===e.type||"faces_keyboard_readStr"===e.type||"faces_keyboard_clearStr"===e.type||"faces_keyboard_deleteStrLast"===e.type||"faces_keyboard_readKey"===e.type||"faces_keyboard_isNewKeyPress"===e.type||"faces_rfid_readStr"===e.type||"faces_write_block"===e.type||"faces_rfid_cardOn"===e.type||"faces_rfid_uid"===e.type)-1===t.indexOf("import face")&&t.push("import face");else if("hat_env_pressure"===e.type||"hat_env_get_temperature"===e.type||"hat_env_get_humidity"===e.type||"hat_pir_read"===e.type||"hat_speaker_tone"===e.type||"hat_speaker_vol"===e.type||"hat_speaker_sing"===e.type||"hat_ncir_read"===e.type||"hat_adc_state"===e.type||"hat_dac_state"===e.type||"hat_dac_writeData"===e.type)-1===t.indexOf("import hat")&&t.push("import hat");else if("pins_analog_read"===e.type||"pins_analog_read_value"===e.type||"pins_analog_write"===e.type||"pins_digital_read"===e.type||"pins_digital_write"===e.type||"pins_set_mode"===e.type||"pins_set_map"===e.type||"pins_analog_toggle"===e.type||"axp_get_bat_voltage_percent"===e.type||"power_get_bat_voltage_percent"===e.type)-1===t.indexOf("from easyIO import *")&&t.push("from easyIO import *");else if("pin_pinout"===e.type||"pin_on"===e.type||"pin_off"===e.type||"pin_get_value"===e.type||"pin_set_value"===e.type||"pwm"===e.type||"pwm_freq"===e.type||"pwm_duty"===e.type||"pwm_pause"===e.type||"pwm_resume"===e.type||"dac"===e.type||"dac_write"===e.type||"dac_beep"===e.type||"dac_waveform"===e.type||"dac_stopwave"===e.type||"dac_freq"===e.type||"adc"===e.type||"adc_width"===e.type||"adc_atten"===e.type||"adc_read"===e.type||"system_reset"===e.type)-1===t.indexOf("import machine")&&t.push("import machine");else if(/^(iic_)/.test(e.type))-1===t.indexOf("import i2c_bus")&&t.push("import i2c_bus");else if("mqtt_set_client"===e.type)-1===t.indexOf("from m5mqtt import M5mqtt")&&t.push("from m5mqtt import M5mqtt");else if(/^(mqtt_printer_)/.test(e.type))-1===t.indexOf(d)&&t.push(d);else if("dumps_json"===e.type||"loads_json"===e.type)-1===t.indexOf("import json\n")&&t.push("import json\n");else if(/^(json_)/.test(e.type))-1===t.indexOf(oe)&&t.push(oe);else if("lidarcar_setrgb"===e.type||"lidarcar_setOnergb"===e.type||"lidarcar_goahead"===e.type||"lidarcar_setStepMotor"===e.type||"lidarcar_setServo"===e.type||"lidarcar_control"===e.type||"lidarcar_drawMap"===e.type||"lidarcar_getdistance"===e.type||"lorawan_initrx"===e.type||"lorawan_initp2p"===e.type||"lorawan_txt"===e.type||"lorawan_data"===e.type||"motor_instance"===e.type||"motor_move_xyz"===e.type||"motor_g_code"===e.type||"motor_set_mode"===e.type||"motor_lock"===e.type||"motor_unlock"===e.type||"servo_write"===e.type||"servo_angle"===e.type||"m5bala_move"===e.type||"m5bala_turn"===e.type||"m5bala_rotate"===e.type||"m5bala_get_angle"===e.type||"m5bala_set_offset"===e.type||"m5bala_loop"===e.type||"nxt_set_pwm"===e.type||"nxt_run"===e.type||"nxt_run_goto"===e.type||"nxt_stop"===e.type||"nxt_read_encoder"===e.type||"lego_set_pwm"===e.type||"lego_stop"===e.type||"lego_clear"===e.type||"lego_read_encoder"===e.type||"get_pm_factory"===e.type||"get_num_above"===e.type||"Cellular_writeAT"===e.type||"Cellular_waitResponse"===e.type||"Cellular_getResponse"===e.type||"Cellular_testAT"===e.type||"Cellular_restart"===e.type||"Cellular_getSimState"===e.type||"Cellular_init"===e.type||"Cellular_gprsConnect"===e.type||"Cellular_connect"===e.type||"Cellular_send"===e.type||"Cellular_send_line"===e.type||"Cellular_getAvailable"===e.type||"Cellular_read"===e.type||"Cellular_connected"===e.type||"Cellular_getLocalIP"===e.type||"Cellular_gprsDisconenct"===e.type||"Cellular_getNetworkState"===e.type||"basex_set_mode"===e.type||"basex_get_encoder"===e.type||"basex_set_encoder"===e.type||"basex_set_motor_speed"===e.type||"basex_get_motor_speed"===e.type||"basex_get_speed_20ms"===e.type||"basex_set_position_point"===e.type||"basex_set_position_pid_max_speed"===e.type||"basex_set_speed_point"===e.type||"basex_set_servo_angle"===e.type||"basex_set_servo_pulse"===e.type||"basex_run_ahead"===e.type||"plus_get_encode"===e.type||"plus_clean_encode"===e.type||"plus_get_press"===e.type||"go_plus_set_servo"===e.type||"go_plus_set_motor_speed"===e.type||"go_plus_digital_read"===e.type||"go_plus_analog_read"===e.type||"gps_get_state"===e.type||"gps_get_latitude"===e.type||"gps_get_longitude"===e.type||"gps_get_satellite_num"===e.type||"gps_get_positioning_quality"===e.type||"gps_set_time_zone"===e.type||"gps_get_speed"===e.type||"gps_get_course"===e.type||"go_plus2_set_servo_angle"===e.type||"go_plus2_set_servo_plus"===e.type||"go_plus2_set_motor_speed"===e.type||"go_plus2_digital_read"===e.type||"go_plus2_analog_read"===e.type||"go_plus2_digital_write"===e.type||/^(lorawan_network)/.test(e.type)||/^(grbl_)/.test(e.type)||/^(stepmotor_driver_)/.test(e.type)||/^(lora433_)/.test(e.type)||/^(lora868_)/.test(e.type)||/^(iotbase_)/.test(e.type)||/^(iotbasecatm_)/.test(e.type)||/^(lan_base_)/.test(e.type)||/^(servo2_)/.test(e.type)||/^(usb_)/.test(e.type)||/^(base_poe_)/.test(e.type)||/^(module_bala2_)/.test(e.type)||/^(module_4in8out_)/.test(e.type)||/^(module_relay2_)/.test(e.type)||/^(module_commu_)/.test(e.type)||/^(pm25_sht30)/.test(e.type)||/^(module_dualkmeter_)/.test(e.type)||/^(module_hmi_)/.test(e.type)||/^(module_rs232_)/.test(e.type)||/^(module_dmx_)/.test(e.type)||/^(module_ain420ma_)/.test(e.type)||/^(module_relay4_)/.test(e.type)||/^(pm25_sht20_)/.test(e.type)||/^(module_gnss_)/.test(e.type)||/^(module_lan_)/.test(e.type)||/^(module_4encodermotor_)/.test(e.type)||/^(module_pps_)/.test(e.type))-1===t.indexOf("import module\n")&&t.push("import module\n");else if("Net_p2p"===e.type||"Net_getp2p"===e.type)-1===t.indexOf("remoteInit()")&&t.push("remoteInit()");else if("wifi_connect"===e.type||"wifi_connect_log"===e.type||"wifi_reconnect"===e.type||"wifi_isconnect"===e.type||"wifi_doConnect"===e.type)-1===t.indexOf("import wifiCfg")&&t.push("import wifiCfg");else if(/^(smartconfig_)/.test(e.type))-1===t.indexOf("import smartconfig")&&t.push("import smartconfig");else if(/^(wlan_)/.test(e.type))-1===t.indexOf("import network")&&t.push("import network");else if(/^(espnow_)/.test(e.type))-1===t.indexOf("import espnow")&&t.push("import espnow"),-1===t.indexOf("import wifiCfg")&&t.push("import wifiCfg");else if(/^(m5_espnow_)/.test(e.type))-1===t.indexOf(z)&&t.push(z);else if("create_remote_chart"==e.type||"create_remote_button"==e.type||"create_remote_slider"==e.type||"create_remote_switch"==e.type)-1===t.indexOf("import urequests")&&t.push("import urequests");else if("screen_set_rotate"==e.type){let i=e.getFieldValue("ROTATE");-1===t.indexOf(`lcd.setRotation(${i})`)&&t.push(`lcd.setRotation(${i})`)}else if("listdir"==e.type||"mkdir"==e.type||"remove"==e.type||"rmdir"==e.type||"rename"==e.type)-1===t.indexOf("import os")&&t.push("import os");else if("http_request"==e.type)-1===t.indexOf("import urequests")&&t.push("import urequests");else if("modbus_master_init"==e.type||"modbus_master_send"==e.type||"modbus_master_any"==e.type||"modbus_master_read"==e.type||"modbus_master_recv_cb"==e.type)-1===t.indexOf("from machine import Modbus")&&t.push("from machine import Modbus");else if(/^(modbus_master_u_)/.test(e.type))-1===t.indexOf(H)&&t.push(H);else if("modbus_slave_init"==e.type||"modbus_slave_init_func"==e.type||"modbus_slave_update_func"==e.type||"modbus_slave_read"==e.type||"modbus_slave_write_cb"==e.type||"modbus_slave_get_func"==e.type||"modbus_slave_send"==e.type)-1===t.indexOf("from machine import ModbusSlave")&&t.push("from machine import ModbusSlave");else if(/^(modbus_slave_rtu_)/.test(e.type))-1===t.indexOf($)&&t.push($);else if("eeprom_write_str"==e.type||"eeprom_write_int"==e.type||"eeprom_read_str"==e.type||"eeprom_read_int"==e.type)-1===t.indexOf("import nvs")&&t.push("import nvs");else if("blynk_init"==e.type||"blynk_virtual_write"==e.type||"blynk_notify"==e.type||"blynk_tweet"==e.type||"blynk_event_write"==e.type||"blynk_event_read"==e.type||"blynk_on_event"==e.type)-1===t.indexOf("from ble import blynk")&&t.push("from ble import blynk");else if("ble_uart_init"==e.type||"ble_uart_write"==e.type||"ble_uart_any"==e.type||"ble_uart_read"==e.type||"ble_uart_read_number"==e.type||"ble_uart_on_recv"==e.type)-1===t.indexOf("from ble import ble_uart")&&t.push("from ble import ble_uart");else if("echo_stt_init"==e.type||"echo_stt_recv_data"==e.type||"echo_stt_get_text"==e.type)-1===t.indexOf("from echo import Echo")&&t.push("from echo import Echo"),-1===t.indexOf("import wifiCfg")&&t.push("import wifiCfg");else if("timer_delay"==e.type||"timer_delay_ms"==e.type||"timer_get_ms"==e.type)-1===t.indexOf("import time")&&t.push("import time");else if("servo_init"==e.type||"servo_write_angle"==e.type||"servo_write_us"==e.type)-1===t.indexOf("from servo import Servo")&&t.push("from servo import Servo");else if(/^(ntp_)/.test(e.type))-1===t.indexOf(i)&&t.push(i);else if("touch_read"===e.type||"touch_read_x"===e.type||"touch_read_y"===e.type||"touch_status"===e.type)-1===t.indexOf(a)&&t.push(a);else if(/^(micrecord_)/.test(e.type))-1===t.indexOf(c)&&t.push(c);else if(/^(timercam_)/.test(e.type))-1===t.indexOf(h)&&t.push(h);else if(/^(audio_)/.test(e.type))-1===t.indexOf(u)&&t.push(u);else if(/^(mycobot_)/.test(e.type))-1===t.indexOf(p)&&t.push(p);else if(/^(mycobotpro_)/.test(e.type))-1===t.indexOf(g)&&t.push(g);else if(/^(toio_)/.test(e.type))-1===t.indexOf(f)&&t.push(f),"toio_tof_get_distance"===e.type&&-1===t.indexOf(j)&&t.push(j);else if(/^(robocar_)/.test(e.type))-1===t.indexOf(m)&&t.push(m);else if(/^(hdriver_)/.test(e.type))-1===t.indexOf(_)&&t.push(_);else if(/^(motion_)/.test(e.type))-1===t.indexOf(v)&&t.push(v);else if(/^(tencent_)/.test(e.type))-1===t.indexOf(k)&&t.push(k);else if(/^(aliiot_)/.test(e.type))-1===t.indexOf(S)&&t.push(S);else if(/^(aws_)/.test(e.type))-1===t.indexOf(E)&&t.push(E);else if("azure_init_iothub"===e.type)-1===t.indexOf(M)&&t.push(M);else if("azure_init_central"===e.type)-1===t.indexOf(O)&&t.push(O);else if("azure_pnp_init_central"===e.type){-1===t.indexOf(O)&&t.push(O);let e="import json";-1===t.indexOf(e)&&t.push(e)}else if(/^(iot_blynk2_)/.test(e.type))-1===t.indexOf(he)&&t.push(he);else if(/^(iot_blynk)/.test(e.type))-1===t.indexOf(I)&&t.push(I);else if(/^(base_gps_)/.test(e.type))-1===t.indexOf(y)&&t.push(y);else if(/^(base_qrcode_)/.test(e.type))-1===t.indexOf(b)&&t.push(b);else if(/^(base_stepmotor)/.test(e.type))-1===t.indexOf(w)&&t.push(w);else if(/^(base_dtunb_)/.test(e.type))-1===t.indexOf(A)&&t.push(A);else if(/^(dtu_cat1_)/.test(e.type))-1===t.indexOf(x)&&t.push(x);else if(/^(base_lorawan)/.test(e.type))-1===t.indexOf(T)&&t.push(T);else if(/^(base_tfcard_)/.test(e.type))-1===t.indexOf(C)&&t.push(C);else if(/^(socket_)/.test(e.type))-1===t.indexOf(o)&&t.push(o);else if(/^(lorawan470_)/.test(e.type))-1===t.indexOf(P)&&t.push(P);else if(/^(lorawan915_)/.test(e.type))-1===t.indexOf(R)&&t.push(R);else if(/^(comlte_)/.test(e.type))-1===t.indexOf(q)&&t.push(q);else if(/^(nbiot_)/.test(e.type))-1===t.indexOf(L)&&t.push(L);else if(/^(wdt_)/.test(e.type))-1===t.indexOf(N)&&t.push(N);else if(/^(can_)/.test(e.type))-1===t.indexOf(F)&&t.push(F);else if(/^(microphone_pdm)/.test(e.type))"microphone_pdm_record_start"===e.type&&-1===t.indexOf(Y)&&t.push(Y),-1===t.indexOf(ae)&&t.push(ae);else if("unit_pdm_record_start"===e.type)-1===t.indexOf(Y)&&t.push(Y);else if(/^(microphone_)/.test(e.type))-1===t.indexOf(l)&&t.push(l);else if(/^(ezdata_)/.test(e.type))-1===t.indexOf(r)&&t.push(r),-1===t.indexOf("import wifiCfg")&&t.push("import wifiCfg");else if(/^(lorabus_)/.test(e.type))-1===t.indexOf(s)&&t.push(s);else if(/^(com_cat1_)/.test(e.type))-1===t.indexOf(U)&&t.push(U);else if(/^(com_gsm_)/.test(e.type))-1===t.indexOf(B)&&t.push(B);else if(/^(ble_peripheral_)/.test(e.type))-1===t.indexOf(V)&&t.push(V);else if(/^(ble_central_)/.test(e.type))-1===t.indexOf(K)&&t.push(K);else if(/^(atom_poe_)/.test(e.type))-1===t.indexOf(W)&&t.push(W);else if(/^(atom_socket_kit_)/.test(e.type))-1===t.indexOf(G)&&t.push(G);else if(/^(com_zigbee_)/.test(e.type))-1===t.indexOf(D)&&t.push(D);else if(/^(base_spk_)/.test(e.type))-1===t.indexOf(Z)&&t.push(Z);else if("sdcard_init"===e.type)-1===t.indexOf(Y)&&t.push(Y);else if("rs485_pin2_off"===e.type||"rs485_pin2_on"===e.type||"spi_init"===e.type)-1===t.indexOf(Q)&&t.push(Q);else if(/^(atom_can_)/.test(e.type))-1===t.indexOf(X)&&t.push(X);else if(/^(display_)/.test(e.type)){if(this.isCore2&&-1===t.indexOf("from m5ui import *\n")&&t.push("from m5ui import *\n"),-1===t.indexOf("import module\n")&&t.push("import module\n"),-1===t.indexOf(ie)&&t.push(ie),-1===t.indexOf(ne)&&t.push(ne),"display_screen_set_rotate"==e.type){let i=e.getFieldValue("ROTATE");-1===t.indexOf(`hdmi.setRotation(${i})`)&&t.push(`hdmi.setRotation(${i})`)}}else"m5_text_bytestr_to_hexstr"===e.type||"m5_text_hexstr_to_bytestr"===e.type?-1===t.indexOf(re)&&t.push(re):/^(unit_imupro_bmi_)/.test(e.type)?-1===t.indexOf(se)&&t.push(se):"math_remap"===e.type?-1===t.indexOf(ce)&&t.push(ce):/^(atom_qrcode2_)/.test(e.type)&&-1===t.indexOf(J)&&t.push(J)}),this.storeSrv.unitList.value.length>0&&t.push("import unit"),this.storeSrv.hatList.value.length>0&&t.push("import hat"),this.storeSrv.stampList.value.length>0&&t.push("import stamp"),this.storeSrv.componentList.value.find(e=>"__display_module_screen"===e.id)&&(this.isCore2&&-1===t.indexOf("from m5ui import *\n")&&t.push("from m5ui import *\n"),-1===t.indexOf("import module\n")&&t.push("import module\n"),-1===t.indexOf(ie)&&t.push(ie),-1===t.indexOf(ne)&&t.push(ne)),t.join("\n")}makeComponentCode(){let e=this.storeSrv.componentList.value.slice().sort((e,t)=>e.layer-t.layer),t=[];return e.forEach(e=>t.push(e.transformToCode())),t.join("")}makeAheadCode(e){let t=[];return e.forEach(e=>{this.isCore2&&"wifi_connect_log"===e.type&&t.push("wifiCfg.autoConnect(lcdShow=True)")}),t.join("\n")}makeInstanceCode(e){let t=[],i="lorawan = module.get(module.LORAWAN_NETWORK)",o="nbiot = module.get(module.NBIOT)",r="catmiot = module.get(module.CATMIOT)",s="lan = module.get(module.LANBASE)",a="poe = module.get(module.BASEPOE)",l="grbl = module.get(module.GRBL)",c="stepmotor = module.get(module.STEPMOTORDRIVER)",h="lora433 = module.get(module.LORA433)",u="lora868 = module.get(module.LORA868)",d="bus = Lorabus()",p="gsm = SIM800()",g="wifiCfg.autoConnect(lcdShow=False)",f="robo = Robocar()",m="tf = TFCARD()",_="bala2 = module.get(module.BALA2)",v="module_4in8out = module.get(module.MODULE_4IN8OUT)",y="periph = BLEPeripheral()",b="central = BLECentral()",w="poe = PoE()",A="relay2 = module.get(module.RELAY2)",x="spk = Speaker()",T="sock = Socket()",C="tof = Tof((25, 21))",Z="com = module.get(module.COMMU)",k="pin2 = machine.Pin(2, mode=machine.Pin.OUT, pull=machine.Pin.PULL_DOWN)",S="dualkmeter = module.get(module.DUAL_KMETER)",E="dmx = module.get(module.DMX512)",M="rs232 = module.get(module.RS232)",O="hmi = module.get(module.HMI)",I="atom_can = CAN()",P="ain420 = module.get(module.AIN_420MA)",R="relay4 = module.get(module.RELAY4)",q="gnss = module.get(module.GNSS)",L="lan = module.get(module.LAN_MODULE)",U="led = M5Led()",B="ir = M5IR()",D="encoder4_motor = module.get(module.ENCODER4MOTOR)",N="pps = module.get(module.PPS)";return e.forEach(e=>{if(!e.disabled)if(/^(emoji_)/.test(e.type))-1===t.indexOf("emoji0 = Emoji(7, 7, 15, 9)")&&t.push("emoji0 = Emoji(7, 7, 15, 9)");else if("m5ledoff"===e.type||"m5ledon"===e.type)this.storeSrv.type.value===n.__.STICK_C_PLUS2&&-1===t.indexOf(U)&&t.push(U);else if("ir_send_addr"===e.type)this.storeSrv.type.value===n.__.STICK_C_PLUS2&&-1===t.indexOf(B)&&t.push(B);else if("IMU_GET_X"===e.type||"IMU_GET_Y"===e.type||"IMU_GET_Z"===e.type||"IMU_IS_LEVEL"===e.type||"IMU_IS_STAND"===e.type||"IMU_IS_LEFT_TILT"===e.type||"IMU_IS_RIGHT_TILT"===e.type||"IMU_IS_OTHER_SIDE"===e.type||"IMU_GET_ACC_Y"===e.type||"IMU_GET_ACC_X"===e.type||"IMU_GET_ACC_Z"===e.type||"IMU_GET_Gyr_X"===e.type||"IMU_GET_Gyr_Y"===e.type||"IMU_GET_Gyr_Z"===e.type)-1===t.indexOf("imu0 = imu.IMU()")&&t.push("imu0 = imu.IMU()");else if("IMU_GET_X_tow"===e.type||"IMU_GET_Y_tow"===e.type||"IMU_GET_Z_tow"===e.type||"IMU_IS_LEVEL_tow"===e.type||"IMU_IS_STAND_tow"===e.type||"IMU_IS_LEFT_TILT_tow"===e.type||"IMU_IS_RIGHT_TILT_tow"===e.type||"IMU_IS_OTHER_SIDE_tow"===e.type||"IMU_GET_ACC_Y_tow"===e.type||"IMU_GET_ACC_X_tow"===e.type||"IMU_GET_ACC_Z_tow"===e.type)-1===t.indexOf("imu = sh200q.Sh200q()")&&t.push("imu = sh200q.Sh200q()");else if("lidarcar_setrgb"===e.type||"lidarcar_setOnergb"===e.type||"lidarcar_goahead"===e.type||"lidarcar_setStepMotor"===e.type||"lidarcar_setServo"===e.type||"lidarcar_control"===e.type||"lidarcar_drawMap"===e.type||"lidarcar_getdistance"===e.type)-1===t.indexOf("lidarbot0 = module.get(module.LIDARBOT)")&&t.push("lidarbot0 = module.get(module.LIDARBOT)");else if("lorawan_initrx"===e.type||"lorawan_initp2p"===e.type||"lorawan_data"===e.type||"lorawan_txt"===e.type)-1===t.indexOf("lorawan0 = module.get(module.LORAWAN)")&&t.push("lorawan0 = module.get(module.LORAWAN)");else if(/^(lorawan_network)/.test(e.type))-1===t.indexOf(i)&&t.push(i);else if(/^(grbl_)/.test(e.type))-1===t.indexOf(l)&&t.push(l);else if(/^(iotbase_)/.test(e.type))-1===t.indexOf(o)&&t.push(o);else if(/^(iotbasecatm_)/.test(e.type))-1===t.indexOf(r)&&t.push(r);else if(/^(lan_base_)/.test(e.type))-1===t.indexOf(s)&&t.push(s);else if(/^(base_poe_)/.test(e.type))-1===t.indexOf(a)&&t.push(a);else if("motor_instance"===e.type||"motor_move_xyz"===e.type||"motor_g_code"===e.type||"motor_set_mode"===e.type||"motor_lock"===e.type||"motor_unlock"===e.type){if("motor_instance"!==e.type){let i=e.getFieldValue("X_VAR_MOTOR");-1===JSON.stringify(t).indexOf(`${i} = module.get(module.STEP_MOTOR, 0x70`)&&t.push(`${i} = module.get(module.STEP_MOTOR, 0x70)\n`)}}else if("servo_write"===e.type||"servo_angle"===e.type)-1===t.indexOf("servo = module.get(module.SERVO)")&&t.push("servo = module.get(module.SERVO)");else if(/^(servo2_)/.test(e.type)){let e="servo2 = module.get(module.SERVO2)";-1===t.indexOf(e)&&t.push(e)}else if("m5bala_move"===e.type||"m5bala_turn"===e.type||"m5bala_rotate"===e.type||"m5bala_get_angle"===e.type||"m5bala_set_offset"===e.type||"m5bala_loop"===e.type)-1===t.indexOf("m5bala =module.get(module.BALA)")&&t.push("m5bala =module.get(module.BALA)");else if("nxt_set_pwm"===e.type||"nxt_run"===e.type||"nxt_run_goto"===e.type||"nxt_stop"===e.type||"nxt_read_encoder"===e.type)-1===t.indexOf("bala_motor = module.get(module.BALA_LEGO)")&&t.push("bala_motor = module.get(module.BALA_LEGO)");else if("lego_set_pwm"===e.type||"lego_stop"===e.type||"lego_clear"===e.type||"lego_read_encoder"===e.type)-1===t.indexOf("lego_motor = module.get(module.LEGO)")&&t.push("lego_motor = module.get(module.LEGO)");else if("get_pm_factory"===e.type||"get_num_above"===e.type||/^(pm25_sht20_)/.test(e.type))-1===t.indexOf("pm25_sht20 = module.get(module.PM25)")&&t.push("pm25_sht20 = module.get(module.PM25)");else if(/^(pm25_sht30)/.test(e.type)){const e="pm25_sht30 = module.get(module.PM25_SHT30)";-1===t.indexOf(e)&&t.push(e)}else if("Cellular_writeAT"===e.type||"Cellular_waitResponse"===e.type||"Cellular_getResponse"===e.type||"Cellular_testAT"===e.type||"Cellular_restart"===e.type||"Cellular_getSimState"===e.type||"Cellular_init"===e.type||"Cellular_gprsConnect"===e.type||"Cellular_connect"===e.type||"Cellular_send"===e.type||"Cellular_send_line"===e.type||"Cellular_getAvailable"===e.type||"Cellular_read"===e.type||"Cellular_connected"===e.type||"Cellular_getLocalIP"===e.type||"Cellular_gprsDisconenct"===e.type||"Cellular_getNetworkState"===e.type)-1===t.indexOf("Cellular = module.get(module.CELLULAR)")&&t.push("Cellular = module.get(module.CELLULAR)"),"Cellular_init"===e.type&&-1===t.indexOf("Cellular.init()")&&t.push("Cellular.init()");else if("basex_set_mode"===e.type||"basex_get_encoder"===e.type||"basex_set_encoder"===e.type||"basex_set_motor_speed"===e.type||"basex_get_motor_speed"===e.type||"basex_get_speed_20ms"===e.type||"basex_set_position_point"===e.type||"basex_set_position_pid_max_speed"===e.type||"basex_set_speed_point"===e.type||"basex_set_servo_angle"===e.type||"basex_set_servo_pulse"===e.type||"basex_run_ahead"===e.type)-1===t.indexOf("base_x = module.get(module.BASE_X)")&&t.push("base_x = module.get(module.BASE_X)");else if("plus_get_encode"===e.type||"plus_clean_encode"===e.type||"plus_get_press"===e.type)-1===t.indexOf("plus = module.get(module.PLUS)")&&t.push("plus = module.get(module.PLUS)");else if("go_plus_set_servo"===e.type||"go_plus_set_motor_speed"===e.type||"go_plus_digital_read"===e.type||"go_plus_analog_read"===e.type)-1===t.indexOf("go_plus = module.get(module.GOPLUS)")&&t.push("go_plus = module.get(module.GOPLUS)");else if("go_plus2_set_servo_angle"===e.type||"go_plus2_set_servo_plus"===e.type||"go_plus2_set_motor_speed"===e.type||"go_plus2_digital_read"===e.type||"go_plus2_analog_read"===e.type||"go_plus2_digital_write"===e.type){let e="go_plus_2 = module.get(module.GOPLUS2)";-1===t.indexOf(e)&&t.push(e)}else if("gps_get_state"===e.type||"gps_get_latitude"===e.type||"gps_get_longitude"===e.type||"gps_get_satellite_num"===e.type||"gps_get_positioning_quality"===e.type||"gps_set_time_zone"===e.type||"gps_get_speed"===e.type||"gps_get_course"===e.type||"gps_set_custom"===e.type){let i=-1;t.forEach((e,t)=>{/^gps = module.get\(module.GPS.*\)\)$/g.test(e)&&(i=t)});const n=window.Blockly.Python.valueToCode(e,"TX",window.Blockly.Python.ORDER_FUNCTION_CALL)||17,o=window.Blockly.Python.valueToCode(e,"RX",window.Blockly.Python.ORDER_FUNCTION_CALL)||16;-1===i?t.push(`gps = module.get(module.GPS, (${n}, ${o}))`):"gps_set_custom"===e.type&&t.splice(i,1,`gps = module.get(module.GPS, (${n}, ${o}))`)}else if("faces_readStr"===e.type||"faces_readKey"===e.type||"faces_clearStr"===e.type||"faces_deleteStrLast"===e.type||"faces_isNewKeyPress"===e.type)-1===t.indexOf("faces_calc = face.get(face.CALC)")&&t.push("faces_calc = face.get(face.CALC)");else if("faces_encode_setLed"===e.type||"faces_encode_clearValue"===e.type||"faces_encode_getValue"===e.type||"faces_encode_getDir"===e.type||"faces_encode_getPress"===e.type)-1===t.indexOf("faces_encode = face.get(face.ENCODE)")&&t.push("faces_encode = face.get(face.ENCODE)");else if("faces_finger_get_state"===e.type||"faces_finger_get_access"===e.type||"faces_finger_get_id"===e.type||"faces_finger_removeAll"===e.type||"faces_finger_remove_user"===e.type||"faces_finger_add_user"===e.type||"faces_finger_read"===e.type||"faces_finger_getUnknown"===e.type)-1===t.indexOf("faces_finger = face.get(face.FINGER)")&&t.push("faces_finger = face.get(face.FINGER)");else if("faces_gameboy_getStatus"===e.type||"faces_gameboy_getPressed"===e.type||"faces_gameboy_getReleased"===e.type)-1===t.indexOf("faces_boy = face.get(face.GAMEBOY)")&&t.push("faces_boy = face.get(face.GAMEBOY)");else if("faces_joystick_x"===e.type||"faces_joystick_y"===e.type||"faces_joystick_press"===e.type||"faces_joystick_invert_x"===e.type||"faces_joystick_invert_y"===e.type||"faces_joystick_setLed"===e.type)-1===t.indexOf("faces_joystick = face.get(face.JOYSTICK)")&&t.push("faces_joystick = face.get(face.JOYSTICK)");else if("faces_keyboard_readStr"===e.type||"faces_keyboard_clearStr"===e.type||"faces_keyboard_deleteStrLast"===e.type||"faces_keyboard_readKey"===e.type||"faces_keyboard_isNewKeyPress"===e.type)-1===t.indexOf("faces_keyboard = face.get(face.KEYBOARD)")&&t.push("faces_keyboard = face.get(face.KEYBOARD)");else if("faces_rfid_readStr"===e.type||"faces_write_block"===e.type||"faces_rfid_cardOn"===e.type||"faces_rfid_uid"===e.type)-1===t.indexOf("faces_rfid = face.get(face.RFID)")&&t.push("faces_rfid = face.get(face.RFID)");else if(/^(espnow_)/.test(e.type))-1===t.indexOf("wifiCfg.wlan_ap.active(True)")&&t.push("wifiCfg.wlan_ap.active(True)"),-1===t.indexOf("wifiCfg.wlan_sta.active(True)")&&t.push("wifiCfg.wlan_sta.active(True)"),-1===t.indexOf("espnow.init()")&&t.push("espnow.init()");else if(/^(m5_espnow_)/.test(e.type))"m5_espnow_init_channel"===e.type&&-1===t.indexOf("now = M5ESPNOW()")&&t.push("now = M5ESPNOW()");else if("button_pin_init"===e.type){const i=window.Blockly.Python.valueToCode(e,"pin",window.Blockly.Python.ORDER_FUNCTION_CALL)||"21";t.push(`btn${i} = btn.attach(${i})`)}else if("iot_blynk2_init"===e.type){var F=e.getFieldValue("name")||"blynk2_0",H=window.Blockly.Python.valueToCode(e,"token",window.Blockly.Python.ORDER_FUNCTION_CALL);t.push(`${F} = blynk2.Blynk(${H})`)}else if("iot_blynk2_init_server"===e.type){F=e.getFieldValue("name")||"blynk2_0";var $=window.Blockly.Python.valueToCode(e,"server",window.Blockly.Python.ORDER_FUNCTION_CALL),z=window.Blockly.Python.valueToCode(e,"port",window.Blockly.Python.ORDER_FUNCTION_CALL),V=(H=window.Blockly.Python.valueToCode(e,"token",window.Blockly.Python.ORDER_FUNCTION_CALL),window.Blockly.Python.valueToCode(e,"heartbeat",window.Blockly.Python.ORDER_FUNCTION_CALL)),K=e.getFieldValue("ssl")||"False";t.push(`${F} = blynk2.Blynk(${H}, insecure=${K}, server=${$}, port=${z}, heartbeat=${V})`)}else if("microphone_pdm_record_start"===e.type||"unit_pdm_record_start"===e.type)-1===t.indexOf("sdcard.SDCard(20000000)")&&t.push("sdcard.SDCard(20000000)");else if("atom_qrcode2_init"===e.type){let i=e.getFieldValue("uart")||"1";t.push(`qrcode2 = QRCode2(${i})`)}else if(this.isCore2||"wifi_connect_log"!==e.type)if(/^(stepmotor_driver_)/.test(e.type))-1===t.indexOf(c)&&t.push(c);else if(/^(lora433_)/.test(e.type))-1===t.indexOf(h)&&t.push(h);else if(/^(lora868_)/.test(e.type))-1===t.indexOf(u)&&t.push(u);else if(/^(lorabus_)/.test(e.type))-1===t.indexOf(d)&&t.push(d);else if(/^(com_gsm_)/.test(e.type))-1===t.indexOf(p)&&t.push(p);else if(/^(ezdata_async_)/.test(e.type)){let e="ezdata.startQueue()";-1===t.indexOf(g)&&t.push(g),-1===t.indexOf(e)&&t.push(e)}else if(/^(ezdata_)/.test(e.type))-1===t.indexOf(g)&&t.push(g);else if("echo_stt_init"==e.type||"echo_stt_recv_data"==e.type||"echo_stt_get_text"==e.type)-1===t.indexOf(g)&&t.push(g);else if(/^(usb_)/.test(e.type)){let e="usb = module.get(module.USBHOST)";-1===t.indexOf(e)&&t.push(e)}else/^(robocar_)/.test(e.type)?-1===t.indexOf(f)&&t.push(f):/^(base_tfcard_)/.test(e.type)?-1===t.indexOf(m)&&t.push(m):/^(module_bala2_)/.test(e.type)?-1===t.indexOf(_)&&t.push(_):/^(module_4in8out_)/.test(e.type)?-1===t.indexOf(v)&&t.push(v):/^(ble_peripheral_)/.test(e.type)?-1===t.indexOf(y)&&t.push(y):/^(ble_central_)/.test(e.type)?-1===t.indexOf(b)&&t.push(b):/^(atom_poe_)/.test(e.type)?-1===t.indexOf(w)&&t.push(w):/^(module_relay2_)/.test(e.type)?-1===t.indexOf(A)&&t.push(A):/^(base_spk_)/.test(e.type)?-1===t.indexOf(x)&&t.push(x):/^(atom_socket_kit_)/.test(e.type)?-1===t.indexOf(T)&&t.push(T):"toio_tof_get_distance"===e.type?-1===t.indexOf(C)&&t.push(C):/^(module_commu_)/.test(e.type)?-1===t.indexOf(Z)&&t.push(Z):"rs485_pin2_off"===e.type||"rs485_pin2_on"===e.type?-1===t.indexOf(k)&&t.push(k):/^(module_dualkmeter_)/.test(e.type)?-1===t.indexOf(S)&&t.push(S):/^(module_dmx_)/.test(e.type)?-1===t.indexOf(E)&&t.push(E):/^(module_rs232_)/.test(e.type)?-1===t.indexOf(M)&&t.push(M):/^(module_hmi_)/.test(e.type)?-1===t.indexOf(O)&&t.push(O):/^(atom_can_)/.test(e.type)?-1===t.indexOf(I)&&t.push(I):/^(module_ain420ma_)/.test(e.type)?-1===t.indexOf(P)&&t.push(P):/^(module_relay4_)/.test(e.type)?-1===t.indexOf(R)&&t.push(R):/^(module_gnss_)/.test(e.type)?-1===t.indexOf(q)&&t.push(q):/^(module_lan_)/.test(e.type)?-1===t.indexOf(L)&&t.push(L):/^(module_4encodermotor_)/.test(e.type)?-1===t.indexOf(D)&&t.push(D):/^(module_pps_)/.test(e.type)&&-1===t.indexOf(N)&&t.push(N);else t.push("wifiCfg.autoConnect(lcdShow=True)")}),t.join("\n")}removemoreBlocklyCode(e,t){let i=/(modbus = Modbus)(\().*?(?:[\s\S]*)(,)(?:[\s\S]*)(,)(?:[\s\S]*)(,)(?:[\s\S]*)(,)(?:[\s\S]*)(\))/i,n=/(modbus_s = ModbusSlave)(\().*?(?:[\s\S]*)(,)(?:[\s\S]*)(,)(?:[\s\S]*)(,)(?:[\s\S]*)(,)(?:[\s\S]*)(\))/i,o=/(echo = Echo)(\().*?(?:[\s\S]*)(\))/i,r=/(uart_ble = ble_uart.init\(')(?:[\s\S]*)('\))/i,s=/(blynk.init)(\()(?:[\s\S]*)(,)(?:[\s\S]*)(,)( blynk.BLE)(\))/i,a=null;switch(e){case"modbus_master_init":a=i;break;case"modbus_slave_init":a=n;break;case"echo_stt_init":a=o;break;case"ble_uart_init":a=r;break;case"blynk_init":a=s}let l=0,c=t.split("\n"),h=c.length;for(var u=0;u<h;u++)a.test(c[u])&&(l++,l>1&&(c.splice(u,1),u--));return c.join("\n")}removelorwanBlocklyCode(e,t){let i="";if(i=this.getblockCode(e),""!==i){let e=t.split("\n");for(var n=e.length-1;n>=0;n--)if(e[n].indexOf("lorawan0.initP2PMode")>-1){e.splice(n,1);break}t=e.join("\n")}return t}removeMotorBlocklyCode(e,t){let i=[],n=[];t.forEach(e=>{if("motor_instance"===e.type){let t=e.getFieldValue("X_VAR_MOTOR").split(/stepmotor/)[1];i.push(t)}if("motor_move_xyz"===e.type||"motor_g_code"===e.type||"motor_set_mode"===e.type||"motor_lock"===e.type||"motor_unlock"===e.type){let t=e.getFieldValue("X_VAR_MOTOR").split(/stepmotor/)[1];n.push(t)}});let o=i.filter(function(e){return n.indexOf(e)>-1});if(o.length>0){let t=e.split("\n");o.forEach(e=>{let i=`stepmotor${e} = module.get(module.STEP_MOTOR, 0x70)`;for(var n=0;n<t.length;n++)if(i===t[n]){t.splice(n,1);break}}),e=t.join("\n")}return e}getblockCode(e){let t="";return window.BlocklyEditor.getAllBlocks().map(i=>{i.type===e&&!i.disabled&&(t=window.Blockly.Python.blockToCode(i))}),t}makeUnitCode(){let e=this.storeSrv.unitList.value.map(e=>e.getCode()).join(""),t=this.storeSrv.hatList.value.map(e=>e.getCode()).join(""),i=this.storeSrv.stampList.value.map(e=>e.getCode()).join("");return window.Blockly.Python.definitions_?e+"\n"+t+"\n"+i+window.Blockly.Python.definitions_.variables+"\n":e+"\n"+t+"\n"+i}makeBlockCode(){let e=["timer_callback","timer_timer3_callback"];window.BlocklyEditor.topBlocks_.sort((t,i)=>e.indexOf(i.type)-e.indexOf(t.type));let t=["button_callback","button_multiBtnCb","unit_button_callback"];window.BlocklyEditor.topBlocks_.sort((e,i)=>t.indexOf(i.type)-t.indexOf(e.type));let i=["unit_ir_nec_cb","unit_dual_button_callback","unit_neco_button_callback","atom_qrcode2_set_callback","unit_tmos_callback"];window.BlocklyEditor.topBlocks_.sort((e,t)=>i.indexOf(t.type)-i.indexOf(e.type));let n=["hat_bugc2_rx_cb"];window.BlocklyEditor.topBlocks_.sort((e,t)=>n.indexOf(t.type)-n.indexOf(e.type));let o=["mqtt_sub","nbiot_mqtt_sub_cb","base_dtunb_mqtt_sub_cb","unit_nbiot_mqtt_sub_cb","unit_mqtt_sub_cb","iotbase_mqtt_sub_cb","iotbasecatm_mqtt_sub_cb","com_cat1_mqtt_sub_cb","dtu_cat1_mqtt_sub_cb","unit_catm_mqtt_sub_cb","lan_base_mqtt_sub_cb","base_poe_mqtt_sub_cb","unit_catm_gnss_mqtt_sub_cb","hat_cbacknbiot_mqtt_sub_cb","atom_poe_mqtt_sub_cb","stamp_catm_mqtt_sub_cb","module_lan_mqtt_sub_cb","unit_nbiot2_mqtt_subscribe_topic_cb"];window.BlocklyEditor.topBlocks_.sort((e,t)=>o.indexOf(t.type)-o.indexOf(e.type));let r=["aws_sub","tencent_sub","tencent_sub_msg","azure_sub","azure_sub_direct","azure_sub_twin_desired","aliiot_sub_user","aliiot_sub_raw","aliiot_sub_shadow","azure_pnp_command_cb","azure_pnp_property_cb"];window.BlocklyEditor.topBlocks_.sort((e,t)=>r.indexOf(t.type)-r.indexOf(e.type));let s=["lora433_callback","lora868_callback","uhf_rfid_callback","unit_poesp32_receive_tcp_packet_cb","unit_poesp32_mqtt_receive_cb","unit_lorae220_receive_in_loop_cb","unit_lorae220433_receive_in_loop_cb"];window.BlocklyEditor.topBlocks_.sort((e,t)=>s.indexOf(t.type)-s.indexOf(e.type));let a=["ezdata_async_get_value_cb","ezdata_async_get_list_value_cb","ezdata_async_set_value_cb","ezdata_async_set_list_value_cb","ezdata_async_remove_cb","ezdata_async_get_iso_date_cb","iotbase_ezdata_async_get_value_cb","iotbasecatm_ezdata_async_get_value_cb","com_cat1_ezdata_async_get_value_cb","dtu_cat1_ezdata_async_get_value_cb","lan_base_ezdata_async_get_value_cb","unit_catm_ezdata_async_get_value_cb","base_poe_ezdata_async_get_value_cb","unit_catm_gnss_ezdata_async_get_value_cb","cbacknbiot_ezdata_async_get_value_cb","atom_poe_ezdata_async_get_value_cb","stamp_catm_ezdata_async_get_value_cb","module_lan_ezdata_async_get_value_cb"];window.BlocklyEditor.topBlocks_.sort((e,t)=>a.indexOf(t.type)-a.indexOf(e.type));let l=["finger_read","finger_getUnknown","faces_finger_read","faces_finger_getUnknown","hat_finger_read","hat_finger_getUnknown"];window.BlocklyEditor.topBlocks_.sort((e,t)=>l.indexOf(t.type)-l.indexOf(e.type));let c=["lorawan_initrx"];window.BlocklyEditor.topBlocks_.sort((e,t)=>c.indexOf(t.type)-c.indexOf(e.type));let h=["espnow_recv_cb","espnow_send_cb"];window.BlocklyEditor.topBlocks_.sort((e,t)=>h.indexOf(t.type)-h.indexOf(e.type));let u=["m5_espnow_recv_cb","m5_espnow_send_cb"];window.BlocklyEditor.topBlocks_.sort((e,t)=>u.indexOf(t.type)-u.indexOf(e.type));let d=["modbus_master_recv_cb","modbus_slave_write_cb"];window.BlocklyEditor.topBlocks_.sort((e,t)=>d.indexOf(t.type)-d.indexOf(e.type));let p=["blynk_event_write","blynk_event_read","blynk_on_event","iot_blynk_event_write","iot_blynk_event_read","iot_blynk2_event_read","iot_blynk2_event_read_pin"];window.BlocklyEditor.topBlocks_.sort((e,t)=>p.indexOf(t.type)-p.indexOf(e.type));let g=["ble_uart_on_recv","toio_on_notify_cb","toio_on_read_recv_cb","ble_peripheral_recv_cb","ble_central_scan_cb","ble_central_recv_cb"];window.BlocklyEditor.topBlocks_.sort((e,t)=>g.indexOf(t.type)-g.indexOf(e.type));let f=["echo_stt_recv_data"];window.BlocklyEditor.topBlocks_.sort((e,t)=>f.indexOf(t.type)-f.indexOf(e.type));let m=["button_set_cb","switch_set_cb","slider_set_cb","checkbox_set_cb"];return window.BlocklyEditor.topBlocks_.sort((e,t)=>m.indexOf(t.type)-m.indexOf(e.type)),window.Blockly.Python.workspaceToCode(window.BlocklyEditor)}makeEventCode(){let e=[];for(let i=0;i<window.Blockly.ButtonEvents.length;i++)e.push(window.Blockly.ButtonEvents[i].event);let t=[];for(let i=0;i<window.Blockly.Remotes.length;i++)t.push(window.Blockly.Remotes[i].code);for(let i=0;i<window.Blockly.RemoteV2.length;i++)t.push(window.Blockly.RemoteV2[i].code);for(let i=0;i<window.Blockly.RemotePlus.length;i++)t.push(window.Blockly.RemotePlus[i].code);return e.concat(t).join("\n")}makeModuleCode(e){let t=[];return e.forEach(e=>{"machine"===e?-1===t.indexOf("import machine")&&t.push("import machine"):"remote"===e?-1===t.indexOf("remoteInit()")&&t.push("remoteInit()"):"remotePlus"===e&&this.checkRemotePlusCode()>0&&-1===t.indexOf("remoteInit()")&&t.push("remoteInit()")}),0===window.Blockly.Remotes.length&&1===window.Blockly.RemotePlus.length&&(t=[]),t.join("\n")}checkRemotePlusCode(){let e=0;for(let t=0;t<window.Blockly.RemotePlus.length;t++){let i=window.Blockly.RemotePlus[t].dataSource,o=window.Blockly.RemotePlus[t].code;i?i!==n.Fk.NONE&&e++:""!==o&&e++}return e}}return e.\u0275fac=function(t){return new(t||e)(o.LFG(r.d),o.LFG(s.s))},e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},61797:function(e,t,i){"use strict";i.d(t,{t:function(){return m}});var n=i(67302),o=i(26215),r=i(7637),s=i(50402),a=i(54569),l=i(37716),c=i(38583);function h(e,t){if(1&e&&(l.TgZ(0,"div",1),l.TgZ(1,"p",2),l._uU(2),l.qZA(),l.qZA()),2&e){const e=l.oxw();l.Q6J("@message_anima",e._show?"show":"hide"),l.xp6(1),l.ekj("loading","loading"===e.type)("success","success"===e.type)("error","error"===e.type)("warning","warning"===e.type),l.xp6(1),l.Oqu(e.message)}}let u=(()=>{class e{constructor(){this.message=" ",this.type=n.C7.SUCCESS,this.timer=null,this._show=!1}ngOnInit(){}success(e){this.type=n.C7.SUCCESS,this.message=e,this._show=!0,this.timer=setTimeout(()=>{this._show=!1},3e3)}error(e){this.type=n.C7.ERROR,this.message=e,this._show=!0,this.timer=setTimeout(()=>{this._show=!1},3e3)}loading(e){this.type=n.C7.LOADING,this.message=e,this._show=!0,this.timer=setTimeout(()=>{this._show=!1},3e3)}warning(e){this.type=n.C7.WARNING,this.message=e,this._show=!0,this.timer=setTimeout(()=>{this._show=!1},3e3)}nul(e){this.type=n.C7.SUCCESS,this.message=e,this._show=!1}loadingNoTimer(e){this.type=n.C7.LOADING,this.message=e,this._show=!0}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=l.Xpm({type:e,selectors:[["app-message-box"]],decls:1,vars:1,consts:[["class","wrapper--message-box",4,"ngIf"],[1,"wrapper--message-box"],[1,"show"]],template:function(e,t){1&e&&l.YNc(0,h,3,10,"div",0),2&e&&l.Q6J("ngIf",""!==t.message)},directives:[c.O5],styles:[".wrapper--message-box[_ngcontent-%COMP%]{position:fixed;width:100%;z-index:9999998;transition:all 25ms ease;max-width:20vw;right:10px;top:58px}.wrapper--message-box[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center;font-size:18px;color:#fff;font-family:Arial;padding:10px;min-height:40px}.wrapper--message-box[_ngcontent-%COMP%]   p.warning[_ngcontent-%COMP%]{background-color:#f6b352}.wrapper--message-box[_ngcontent-%COMP%]   p.success[_ngcontent-%COMP%]{background-color:#67d5b5}.wrapper--message-box[_ngcontent-%COMP%]   p.error[_ngcontent-%COMP%]{background-color:#ff4e50}.wrapper--message-box[_ngcontent-%COMP%]   p.loading[_ngcontent-%COMP%]{background-color:#008c9e}@media screen and (min-width: 320px) and (max-width: 767px){.wrapper--message-box[_ngcontent-%COMP%]{max-width:50vw}}"],data:{animation:[a.bZ]}}),e})();var d=i(88259),p=i.n(d),g=i(22e3),f=i(81780);let m=(()=>{class e{constructor(e,t,i,r,s){this.appRef=e,this.cfr=t,this.injector=i,this.storeSrv=r,this.translate=s,this.mode=new o.X(n.IK.BLOCKLY),this.isEditing=new o.X(!1),this.cacheImgName=new o.X(null),this.codeLock=new o.X(!1),this.UIVisibility=new o.X(!0),this.remoteGenerate=new o.X(!1),this.remotePreviewVisibility=new o.X(!1),this.remotePlusList=new o.X([]),this.selectedRemotePlus=new o.X(null),this.remotePlusUrl=new o.X(null),this.isShowRemotePlusQRBtn=new o.X(!1),this.remote_count=[],this.FileVisibility=new o.X(!0),this.pnpPanelVisibility=new o.X(!1),this.selectedComponent=new o.X(null),this.selectedUnit=new o.X(null),this.selectedHat=new o.X(null),this.selectedStamp=new o.X(null),this.alert=new o.X(null),this.alertImg=new o.X(null),this.maskModal=null,this.messageBox=null,this.ismb=!1,this.isIpad=!1,window.Blockly.messagebox_=this.createMessageBox.bind(this),window.Blockly.addRemotePlus_=this.addRemotePlus.bind(this),window.Blockly.getRemotePlusByBlockId_=this.getRemotePlusByBlockId.bind(this)}setMode(e){this.mode.next(e),"code"===e&&this.storeSrv.setSelectedFileData(null)}getMode(){return this.mode.asObservable()}getCacheImgName(){return this.cacheImgName.asObservable()}setIsEditing(e){this.isEditing.next(e)}getIsEditing(){return this.isEditing.asObservable()}setUIVisibility(e){this.UIVisibility.next(e),window.BlocklyEditor.resize();let t=setTimeout(()=>{var e=document.createEvent("Event");e.initEvent("resize",!0,!0),window.dispatchEvent(e),clearTimeout(t)})}getUIVisibility(){return this.UIVisibility.asObservable()}setSelectedComponent(e){if(e===this.selectedComponent.value)return this.selectedComponent.next(null);this.selectedComponent.next(e),this.selectedUnit.next(null)}getSelectedComponent(){return this.selectedComponent.asObservable()}setSelectedUnit(e){if(e===this.selectedUnit.value)return this.selectedUnit.next(null);this.selectedUnit.next(e),this.selectedComponent.next(null)}getSelectedUnit(){return this.selectedUnit.asObservable()}setSelectedHat(e){if(e===this.selectedHat.value)return this.selectedHat.next(null);this.selectedHat.next(e)}getSelectedHat(){return this.selectedHat.asObservable()}setSelectedStamp(e){if(e===this.selectedStamp.value)return this.selectedStamp.next(null);this.selectedStamp.next(e),this.selectedComponent.next(null)}getSelectedStamp(){return this.selectedStamp.asObservable()}getAlert(){return this.alert.asObservable()}setAlert(e){this.alert.next(e)}getAlertImg(){return this.alertImg.asObservable()}setAlertImg(e){this.alertImg.next(e)}createMaskModal(e){let t=document.createElement("div");t.id="____mask_modal",document.body.appendChild(t);let i=this.cfr.resolveComponentFactory(e).create(this.injector,[],t);return i.changeDetectorRef.detectChanges(),this.appRef.attachView(i.hostView),this.maskModal=i,i}createMessageBox(){let e=null;null===document.getElementById("____message_box")?(e=document.createElement("div"),e.id="____message_box",document.body.appendChild(e)):e=document.getElementById("____message_box");let t=this.cfr.resolveComponentFactory(u).create(this.injector,[],e);return t.changeDetectorRef.detectChanges(),this.appRef.attachView(t.hostView),this.messageBox=t,t}setCodeLock(e){this.codeLock.next(e)}getCodeLock(){return this.codeLock.asObservable()}setPnpPanelVisibility(e){this.pnpPanelVisibility.next(e),e&&this.remotePreviewVisibility.value&&this.setRemotePreviewVisibility(!1)}getPnpPanelVisibility(){return this.pnpPanelVisibility.asObservable()}setRemotePreviewVisibility(e){this.remotePreviewVisibility.next(e),e&&this.pnpPanelVisibility.value&&this.setPnpPanelVisibility(!1)}getRemotePreviewVisibility(){return this.remotePreviewVisibility.asObservable()}setRemoteGenerate(e){this.remoteGenerate.next(e)}getRemoteGenerate(){return this.remoteGenerate.asObservable()}addRemotePlus(e){let t=(0,s.t2)(e);if(this.remotePlusList.next(this.remotePlusList.value.concat(t)),window.Blockly.RemotePlus=this.remotePlusList.value,!/^__/g.test(e.id))return this.remote_count.push(t.type),this.setRemotePlusQRBtnShow(!0),t.id}setRemotePlus(e){let t=[];e.forEach(e=>{t.push((0,s.t2)(e))}),this.remotePlusList.next(t),window.Blockly.RemotePlus=this.remotePlusList.value}getRemotePlusByBlockId(e){let t;return this.remotePlusList.value.forEach(i=>{i.blockId===e&&(t=i)}),t}getRemotePlus(){return this.remotePlusList.asObservable()}getRemoteDefauleName(e){let t=1;for(let i=0;i<this.remote_count.length;i++)this.remote_count[i]==e&&t++;return t.toString()}removeRemotePlusById(e,t){let i="block"===e?"blockId":"id";this.remotePlusList.value.splice(this.remotePlusList.value.findIndex(e=>e[i]===t),1),this.remotePlusList.next(this.remotePlusList.value),1===this.remotePlusList.value.length&&this.setRemotePlusQRBtnShow(!1)}removeRemotePlusList(){this.remotePlusUrl.next(null),this.isShowRemotePlusQRBtn.next(!1),this.remotePreviewVisibility.next(!1),this.setRemotePlus([{id:"__title",type:"title",name:"M5RemoteTitle",label:"M5Remote",color:"#fff",bgColor:"#0080FF",dragAndDrop:!1,resizable:!1}])}setRemotePlusBlockId(e,t){this.remotePlusList.value.forEach(i=>{i.id===e&&i.setProp("blockId",t)})}setSelectedRemotePlus(e){if(e===this.selectedRemotePlus.value)return this.selectedRemotePlus.next(null);this.selectedRemotePlus.next(e)}getSelectedRemotePlus(){return this.selectedRemotePlus.asObservable()}setRemotePlusUrl(e){this.remotePlusUrl.next(e)}getRemotePlusUrl(){return this.remotePlusUrl.asObservable()}setRemotePlusQRBtnShow(e){this.isShowRemotePlusQRBtn.next(e)}getRemotePlusQRBtnShow(){return this.isShowRemotePlusQRBtn.asObservable()}getRemoteVarBlockName(e,t){let i="rp_data";switch(e){case n.li.TITLE:case n.li.LABEL:case n.li.GAUGE:case n.li.CHART:i=`rp_${e}${t}_data`;break;case n.li.IMAGE:i=`rp_img${t}_url`}return i}setRemoteConnBlock(e,t){let i=window.BlocklyEditor.createVariable(t,null,null),n=this.createVariablesBlock(i.id_);e.getInput("RETURN").connection.connect(n.getConnections_()[0])}createVariablesBlock(e){let t=window.BlocklyEditor.newBlock("variables_get");return t.getField("VAR").setValue(e),t.initSvg(),t.render(),t}createPrintBlock(){let e=window.BlocklyEditor.newBlock("text_print");return e.initSvg(),e.render(),e}createTextShadow(){let e=window.Blockly.utils.xml.createElement("shadow");e.setAttribute("type","text");let t=window.Blockly.utils.xml.createElement("field");return t.setAttribute("name","TEXT"),e.appendChild(t),e}saveM5F(){window.Blockly.Python.workspaceToCode(window.BlocklyEditor);let e={};e.components=this.storeSrv.componentList.value.map(e=>{var t=Object.assign({},e);return delete t.componentSvg,t}),e.type=this.storeSrv.getType().source._value,e.versions="Beta",e.units=this.storeSrv.unitList.value.map(e=>{var t=Object.assign({},e);return delete t.unitSvg,t}),e.hats=this.storeSrv.hatList.value.map(e=>{var t=Object.assign({},e);return delete t.hatSvg,t}),e.stamps=this.storeSrv.stampList.value.map(e=>{var t=Object.assign({},e);return delete t.stampSvg,t}),e.blockly=window.Blockly.Xml.workspaceToDom(window.BlocklyEditor).innerHTML,e["Blockly.Remotes"]=window.Blockly.Remotes,e["Blockly.RemotePlus"]=window.Blockly.RemotePlus,e.modules=window.Blockly.modules,e.cbIdList_=window.Blockly.cbIdList_,e.eventCBIdList_=window.Blockly.eventCBIdList_,this.storeSrv.getPnpEnable().source._value&&(e.PnPProperty=window.Blockly.PnPProperty,e.PnPTelemetry=window.Blockly.PnPTelemetry,e.PnPComponent=window.Blockly.PnPComponent,e.PnPCommand=window.Blockly.PnPCommand),"atom-matrix"==sessionStorage.getItem("_type")&&(e.matrix=window.UIEditor.workContainer.children().splice(2).map(e=>e.style.fill)),""!==this.storeSrv.getApikey().source._value&&(e.apikey=this.storeSrv.getApikey().source._value);let t=localStorage.getItem("_uuid");return t&&(e.uuid=t),e}openM5F(e){e.blockly=this.handleCore2Font(e.blockly),e.hats=e.hats?e.hats:[],e.stamps=e.stamps||[],e["Blockly.RemotePlus"]=e["Blockly.RemotePlus"]?e["Blockly.RemotePlus"]:[];const t=e.components.map(e=>(0,s.eY)(e));let i=!0;for(let r=0;r<t.length;r++)t[r].type===n.Eq.SCREEN&&(i=!1);i&&t.unshift(new r.k7({}));const o=e.units.map(e=>(0,s.hL)(e)),a=e.hats.map(e=>(0,s.oS)(e)),l=e.stamps.map(e=>(0,s._G)(e));if(this.remotePlusList.next([]),this.remotePlusUrl.next(null),this.isShowRemotePlusQRBtn.next(!1),e["Blockly.RemotePlus"]){let t;e["Blockly.RemotePlus"].forEach(e=>{"title"===e.type&&("__title"===e.id?(e.label||(e.label=e.name),t=e):this.addRemotePlus(e)),"ezdata"===e.dataSource&&this.addRemotePlus(e)}),this.addRemotePlus(t||{id:"__title",type:"title",name:"M5RemoteTitle",label:"M5Remote",color:"#fff",bgColor:"#0080FF",dragAndDrop:!1,resizable:!1}),window.Blockly.TempRemotePlus=e["Blockly.RemotePlus"]}var c=t.slice(4,t.length);this.storeSrv.addComponent(t);for(const n in c)this.storeSrv.getComponentDefaultName(c[n].type);this.storeSrv.componentList.next(t),this.storeSrv.unitList.next(o),o.forEach(e=>{this.storeSrv.unit_conut.push(e.type)}),this.storeSrv.hatList.next(a),a.forEach(e=>{this.storeSrv.hat_conut.push(e.type)}),this.storeSrv.stampList.next(l),l.forEach(e=>{this.storeSrv.stamp_count.push(e.type)}),this.storeSrv.setMatrixArray(e.matrix);let h=[];t.forEach(e=>{e.screenType&&"default"!==e.screenType&&!h.includes(e.screenType)&&h.push(e.screenType)}),window.Blockly.M5Component=t.filter(e=>!e.screenType||"default"===e.screenType),h.length>0&&h.forEach(e=>{window.Blockly[`${e}Component`]=t.filter(t=>t.screenType&&t.screenType===e)}),window.Blockly.Remotes=e["Blockly.Remotes"],window.Blockly.Units=o,window.Blockly.Hats=a,window.Blockly.Stamps=l,window.Blockly.modules=e.modules||[],window.Blockly.PnPComponent=e.PnPComponent||[],window.Blockly.PnPTelemetry=e.PnPTelemetry||[],window.Blockly.PnPCommand=e.PnPCommand||[],window.Blockly.PnPProperty=e.PnPProperty||[],window.Blockly.cbIdList_=e.cbIdList_||[],window.BlocklyEditor.clear(),e.blockly=e.blockly.replace("screen_set_core_brightness","screen_set_brightness"),e.blockly=e.blockly.replace("screen_set_stickc_brightness","screen_set_brightness"),window.Blockly.isOpenM5Fing=!0,setTimeout(()=>{window.Blockly.eventCBIdList_=e.eventCBIdList_||[],window.Blockly.Xml.domToWorkspace(window.Blockly.Xml.textToDom(`<xml>${e.blockly}</xml>`),window.BlocklyEditor)},100),this.updateBlockDropdownListAfterLoad_(),e.matrix?window.UIEditor.redrawSvg({matrix:e.matrix}):window.UIEditor.redrawSvg({updateLayer:!0}),window.UIEditor.screenContainer.__dirty=!0,window.UIEditor.refresh(),window.Blockly.isOpenM5Fing=!1}openOldM5F(e){let t=[],i=[],n=[];e.hats=e.hats?e.hats:[];let o=e.components.filter(e=>{if(e.name)return"button0"===e.name||"button1"===e.name||"button2"===e.name}),a=e.components.slice();a.splice(a.findIndex(e=>"button0"===e.name),1),a.splice(a.findIndex(e=>"button1"===e.name),1),a.splice(a.findIndex(e=>"button2"===e.name),1),t.push(new r.k7({})),o.forEach(e=>{t.push((0,s.rd)(e))}),a.forEach(e=>{t.push((0,s.rd)(e))}),e.units.forEach(e=>{i.push((0,s.x7)(e))}),e.hats.forEach(e=>{n.push((0,s.yZ)(e))}),this.storeSrv.componentList.next(t),this.storeSrv.unitList.next(i),this.storeSrv.hatList.next(n),window.Blockly.M5Component=t,window.Blockly.ButtonEvents=e["Blockly.ButtonEvents"],window.Blockly.Remotes=e["Blockly.Remotes"],window.Blockly.Units=i,window.Blockly.Hats=n,window.Blockly.modules=e.modules||[],window.BlocklyEditor.clear(),window.Blockly.Xml.domToWorkspace(window.Blockly.Xml.textToDom(`<xml>${e.blockly}</xml>`),window.BlocklyEditor),window.UIEditor.redrawSvg(),window.UIEditor.screenContainer.__dirty=!0,window.UIEditor.refresh()}redo(){this.mode.value===n.IK.BLOCKLY?window.BlocklyEditor.undo(1):window.CodeEditor.redo()}undo(){if(this.mode.value===n.IK.BLOCKLY){if(1===window.BlocklyEditor.undoStack_.length)return;window.BlocklyEditor.undo()}else window.CodeEditor.undo()}getIpad(){return this.isIpad}setIpad(e){return this.isIpad=e,this.isIpad}updateBlockDropdownListAfterLoad_(){var e=window.BlocklyEditor.getAllBlocks(),t=null;e.forEach(e=>{"timer_setTimerAttr"===e.type||"timer_setStart"===e.type||"timer_setStop"===e.type?t=e.inputList[0].fieldRow[1]:"button_multiBtnCb"===e.type&&e.inputList[0].fieldRow.map((e,t)=>{(1===t||3===t)&&(e.selectedOption_=[e.value_,e.value_],e.render_())}),null!==t&&(t.selectedOption_=[t.value_,t.value_],t.render_(),window.BlocklyEditor.render())})}saveWarnSwal(e,t){this.warnSwal(e?"The file has not been saved. Are you sure you want to return it?":"Blockly does not retain your newly created python. Are you sure you want to return it?",t)}warnSwal(e,t,i){p().fire({icon:"warning",text:e,showCancelButton:!0,confirmButtonColor:window.Blockly.Msg.SWAL_DANGER_HUE,cancelButtonColor:window.Blockly.Msg.SWAL_GRAY_HUE,confirmButtonText:i||"OK",allowOutsideClick:!1}).then(e=>{if(!e.isConfirmed)return!1;t()})}errSwal(e,t){t=t||{};let i=Object.assign({icon:"error",title:"error",text:e,confirmButtonColor:window.Blockly.Msg.SWAL_PRIMARY_HUE,allowOutsideClick:!1},t);p().fire(i)}setThemeColor(e){let t=e;t||(t=JSON.parse(localStorage.getItem(n.k2.THEME_HUE))||n.IQ),document.documentElement.setAttribute("style",`--main-hue:${t}`)}getRandomId(){let e="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",t="";for(let i=0;i<5;i++)t+=e[Math.floor(Math.random()*e.length)];return t}getCbId(){let e=this.getRandomId();return window.Blockly.cbIdList_.indexOf(e)<0?e:this.getCbId()}getEventId(e){let t=0;for(let i=0;i<window.Blockly.eventCBIdList_.length;i++){let n=window.Blockly.eventCBIdList_[i];if(n.type==e){let e=1*n.eventId;e&&(t=t>e?t:e)}}return t++,t.toString()}handleCore2Font(e){let t=e,i=this.storeSrv.type.value;return(i===n.__.CORETWO||i===n.__.TOUGH)&&(t=t.replace(/(FONT_MONT_12)/g,"FONT_MONT_10"),t=t.replace(/(FONT_MONT_16)/g,"FONT_MONT_14"),t=t.replace(/(FONT_MONT_20)/g,"FONT_MONT_18"),t=t.replace(/(FONT_MONT_24)/g,"FONT_MONT_22"),t=t.replace(/(FONT_MONT_28)/g,"FONT_MONT_26"),t=t.replace(/(FONT_MONT_32)/g,"FONT_MONT_30"),t=t.replace(/(FONT_MONT_36)/g,"FONT_MONT_34"),t=t.replace(/(FONT_MONT_40)/g,"FONT_MONT_38"),t=t.replace(/(FONT_MONT_42)/g,"FONT_MONT_38"),t=t.replace(/(FONT_MONT_44)/g,"FONT_MONT_38"),t=t.replace(/(FONT_MONT_46)/g,"FONT_MONT_38")),t}createUUID(){var e=(new Date).getTime();return window.performance&&"function"==typeof window.performance.now&&(e+=performance.now()),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var i=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"==t?i:3&i|8).toString(16)})}setAppBlur(e){e?document.getElementsByClassName("app")[0].classList.add("blur"):document.getElementsByClassName("app")[0].classList.remove("blur")}}return e.\u0275fac=function(t){return new(t||e)(l.LFG(l.z2F),l.LFG(l._Vd),l.LFG(l.zs3),l.LFG(g.d),l.LFG(f.sK))},e.\u0275prov=l.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},54120:function(e,t,i){"use strict";i.d(t,{j:function(){return d}});var n=i(92340),o=i(93342),r=i(67302),s=i(67709),a=i(37716),l=i(91841),c=i(22e3),h=i(61797),u=i(81780);let d=(()=>{class e{constructor(e,t,i,n){this.http=e,this.storeSrv=t,this.globalOperatorSrv=i,this.translate=n,this._locker=!1}login(e,t,i){return this._locker?new s.xQ:(this._locker=!0,this.http.post(`${n.N.loginUrl}/login`,{email:e,password:t},{withCredentials:!0}).pipe((0,o.b)(t=>{if(1===t.code&&t.data.token)return this.storeSrv.setUserInfo({userName:t.data.username,avator:t.data.avator}),localStorage.setItem("email",e),i?localStorage.setItem(r.k2.TOKEN,t.data.token):(localStorage.setItem("autoLogin","false"),sessionStorage.setItem(r.k2.TOKEN,t.data.token)),t},e=>{this._locker=!1},()=>{this._locker=!1})))}query(e){return this.http.get(`${n.N.loginUrl}/query`,{withCredentials:!0,observe:"response",headers:{m5token:e}}).pipe((0,o.b)(t=>{200===t.status&&(this.storeSrv.setLoginStatus(!0),this.storeSrv.setUserInfo({userName:t.body.data.username,avator:t.body.data.avator}),this.hardware(e).subscribe())},e=>{this.translate.get("LOGIN_EXPIRED").subscribe(e=>{this.globalOperatorSrv.createMessageBox().instance.error(e)}),this.storeSrv.setLoginStatus(!1),this.storeSrv.setApikey(""),localStorage.setItem("AllAPIKEY",JSON.stringify([]))}))}hardware(e){return this.http.get(`${n.N.cloudUrl}/hardware`,{headers:{m5token:e},withCredentials:!0}).pipe((0,o.b)(e=>{if(1===e.code){let t=[],i=[],n=sessionStorage.getItem(r.k2.API_KEY);return e.data&&e.data.length>0?(e.data.forEach(e=>{t[t.length]=e.apikey,i.push({apiKey:e.apikey,token:e.token})}),-1===t.indexOf(n)&&this.storeSrv.setApikey(t[0])):this.storeSrv.setApikey(""),this.storeSrv.setuserDeviceData(i),localStorage.setItem("AllAPIKEY",JSON.stringify(t)),e}},e=>{this.translate.get("REQUEST_ERROR").subscribe(e=>{this.globalOperatorSrv.createMessageBox().instance.error(e)})}))}logout(){if(this._locker)return new s.xQ;let e;return this._locker=!0,e=localStorage.getItem(r.k2.TOKEN)?localStorage.getItem(r.k2.TOKEN):sessionStorage.getItem(r.k2.TOKEN),this.http.post(`${n.N.loginUrl}/logout`,{},{withCredentials:!0,observe:"response",headers:{m5token:e}}).pipe((0,o.b)(e=>{if(200===e.status){let t=JSON.parse(localStorage.getItem("AllAPIKEY")),i=this.storeSrv.getuserDeviceData().source.value;i.length>0&&(i.forEach(e=>{let i=t.indexOf(e.apiKey);-1!==i&&t.splice(i,1)}),localStorage.setItem("AllAPIKEY",JSON.stringify(t)));let n=sessionStorage.getItem(r.k2.API_KEY);return-1===t.indexOf(n)&&this.storeSrv.setApikey(""),localStorage.removeItem("autoLogin"),this.storeSrv.setLoginStatus(!1),e}},e=>{this._locker=!1,this.translate.get("REQUEST_ERROR").subscribe(e=>{this.globalOperatorSrv.createMessageBox().instance.error(e)})},()=>{this._locker=!1}))}}return e.\u0275fac=function(t){return new(t||e)(a.LFG(l.eN),a.LFG(c.d),a.LFG(h.t),a.LFG(u.sK))},e.\u0275prov=a.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},10215:function(e,t,i){"use strict";i.d(t,{r:function(){return d}});var n=i(91841),o=i(26215),r=i(67302),s=i(93342),a=i(88259),l=i.n(a),c=i(37716),h=i(22e3),u=i(61797);let d=(()=>{class e{constructor(e,t,i){this.http=e,this.storeSrv=t,this.globalOperatorSrv=i,this.componentList=new o.X([]),this.telemetryList=new o.X([]),this.commandList=new o.X([]),this.propertyList=new o.X([]),this.baseDomain="azureiotcentral.com",this.apiVersion="api-version=1.2-preview",this.controlNav=["IoT Central Control Panel","Model Viewer","Custom PnP blocks"],this.subdomain="",this.token="",this.scopeId=new o.X(""),this.deviceId=new o.X(""),this.deviceKey=new o.X(""),this.modelId=new o.X(""),this.initBlockId="",this.modelComponentList=new o.X([]),this.templateId="",this.templateName=new o.X("None"),this.template=new o.X({}),this.model=[],this.firstEnable=!1,this.isChecking=!1,this.context=["dtmi:iotcentral:context;2","dtmi:dtdl:context;2"],window.Blockly.addModelSingleContent_=this.addModelSingleContent.bind(this)}getComponentList(){return this.componentList.asObservable()}addComponentList(e){this.componentList.next(this.componentList.value.concat(e)),window.Blockly.PnPComponent=this.componentList.value}setComponentList(e){this.componentList.next(e),window.Blockly.PnPComponent=this.componentList.value}delCompponentByName(e){let t=this.componentList.value;t=t.filter(t=>t.name!==e),this.setComponentList(t)}getTelemetryList(){return this.telemetryList.asObservable()}addTelemetryList(e){this.telemetryList.next(this.telemetryList.value.concat(e)),window.Blockly.PnPTelemetry=this.telemetryList.value}delTelemetryByType(e){let t=this.telemetryList.value;t=t.filter(t=>t.type!==e),this.setTelemetryList(t)}setTelemetryList(e){this.telemetryList.next(e),window.Blockly.PnPTelemetry=this.telemetryList.value}getPropertyList(){return this.propertyList.asObservable()}addPropertyList(e){this.propertyList.next(this.propertyList.value.concat(e)),window.Blockly.PnPProperty=this.propertyList.value}setPropertyList(e){this.propertyList.next(e),window.Blockly.PnPProperty=this.propertyList.value}delPropertyByType(e){let t=this.propertyList.value;t=t.filter(t=>t.type!==e),this.setPropertyList(t)}getCommandList(){return this.commandList.asObservable()}addCommandList(e){this.commandList.next(this.commandList.value.concat(e)),window.Blockly.PnPCommand=this.commandList.value}setCommandList(e){this.commandList.next(e),window.Blockly.PnPCommand=this.commandList.value}delCommandByType(e){let t=this.commandList.value;t=t.filter(t=>t.type!==e),this.setCommandList(t)}setScopeId(e){this.scopeId.next(e),this.updateBlockScopeId()}getScopeId(){return this.scopeId.asObservable()}setDeviceId(e){this.deviceId.next(e),this.updateBlockDeviceId()}getDeviceId(){return this.deviceId.asObservable()}setDeviceKey(e){this.deviceKey.next(e),this.updateBlockDeviceKey()}getDeviceKey(){return this.deviceKey.asObservable()}setModelId(e){if(this.modelId.next(e),this.model.length&&(this.model[0]["@id"]=e),this.template.value.capabilityModel){let t=this.template.value;t.capabilityModel["@id"]=e,this.setTemplate(t)}}getModelId(){return this.modelId.asObservable()}setTemplateName(e){let t=e||"None";this.templateName.next(t);let i=this.template.value;i.displayName=t,this.setTemplate(i)}getTemplateName(){return this.templateName.asObservable()}getModelComponentList(){return this.modelComponentList.asObservable()}addModelComponentList(e){this.modelComponentList.next(this.modelComponentList.value.concat(e)),window.Blockly.PnPModelComponent=this.modelComponentList.value}setModelComponentList(e){this.modelComponentList.next(e),window.Blockly.PnPModelComponent=this.modelComponentList.value}delModelCompponentByName(e){let t=this.modelComponentList.value;t=t.filter(t=>t.name!==e),this.modelComponentList.next(t),window.Blockly.PnPModelComponent=this.modelComponentList.value}getTemplate(){return this.template.asObservable()}setTemplate(e){this.template.next(e)}initPnPData(){this.setModelComponentList([]),this.setTemplate({}),this.model=[]}swalLoading(){l().fire({title:"Loading...",allowOutsideClick:!1,didOpen:()=>{l().showLoading()}})}swalLoadingAutoClose(){l().fire({title:"Loading...",timer:2e3,timerProgressBar:!0,allowOutsideClick:!1,didOpen:()=>{l().showLoading()}})}swalLoadingClose(){l().isLoading()&&l().close()}enablePnP(e){this.storeSrv.pnpEnable.value||(this.initPnPData(),this.storeSrv.setPnpEnable(!0),this.firstEnable?setTimeout(()=>{this.checkAllPnpBlock()},500):this.loadDeviceModel(e),e&&(this.initBlockId=e,this.updateBlockScopeId(),this.updateBlockDeviceId(),this.updateBlockDeviceKey(),this.updateBlockModelId()),this.generateCapabilityModel())}disablePnP(){this.storeSrv.setPnpEnable(!1),this.sub&&this.sub.unsubscribe(),this.initPnPData(),this.globalOperatorSrv.setPnpPanelVisibility(!1)}checkDevicePnp(e){return["core2"].indexOf(e)>-1}enableUnitPnP(e,t){this.loadUnitModel(e,t)}disableUnitPnP(e,t){let i=0;if(this.storeSrv.getUnitList().subscribe(t=>{t.forEach(t=>{t.type===e&&t.hasPnP&&i++})}),this.delCompponentByName(t),1===i){let t=`unit_${e}`;this.delTelemetryByType(t),this.delPropertyByType(t),this.delCommandByType(t)}}loadModel(e,t){return this.http.get(`./assets/pnp-model/${e}/${t}-1.json`)}loadDeviceModel(e){const t=this.storeSrv.type.value;this.loadModel("core",`${t}`).subscribe(e=>{e&&(this.firstEnable=!0,this.parsingModel(t,e),this.loadAllUnitsModel(),setTimeout(()=>{this.checkAllPnpBlock()},500))},t=>{if(this.disablePnP(),e)try{window.BlocklyEditor.getBlockById(e).dispose()}catch(i){}this.globalOperatorSrv.errSwal("PnP only support core2")})}loadAllUnitsModel(){!window.Blockly.Units.length||window.Blockly.Units.forEach(e=>{e.hasPnP&&this.loadUnitModel(e.type,e.name)})}loadUnitModel(e,t){let i=e;[r.g1.ENV2,r.g1.ENV3].indexOf(i)>-1&&(i=r.g1.ENV);let n=`unit_${i}`,o=this.componentList.value.find(e=>e.type===n);o?this.addComponentList({type:n,name:t,displayName:o.displayName}):this.loadModel("unit",`${i}`).subscribe(e=>{e&&(this.parsingModel(n,e),this.addComponentList({type:n,name:t,displayName:e.displayName}))},t=>{this.globalOperatorSrv.errSwal(`Load unit ${e} model failed!`)})}parsingModel(e,t){t.length?t.forEach(t=>{t.contents.length>0&&this.parsingModelContent(e,t.contents)}):this.parsingModelContent(e,t.contents)}parsingModelContent(e,t){let i=[];!t||(t.forEach(t=>{let n=t["@type"];n.indexOf("Telemetry")>-1?this.pushTelemetryData(t,e):n.indexOf("Property")>-1?this.pushPropertyData(t,e):n.indexOf("Command")>-1?this.pushCommandData(t,e):n.indexOf("Component")>-1&&i.push({name:t.name,schema:t.schema})}),i.length&&i.forEach(e=>{let t=this.parsingDtmi(e.schema),i=t[1];this.loadModel(t[0],i).subscribe(t=>{t&&(this.parsingModel(i,t),this.addComponentList({type:i,name:e.name,displayName:t.displayName}))},e=>{this.globalOperatorSrv.errSwal("Load failed!")})}),this.updateFlyout("azure_pnp"))}pushTelemetryData(e,t){(this.telemetryList.value||[]).map(e=>`${e.type}${e.name}`).indexOf(`${t}${e.name}`)<0&&this.addTelemetryList({type:t,"@type":e["@type"],name:e.name,displayName:e.displayName,schema:e.schema,unit:e.unit})}pushPropertyData(e,t){(this.propertyList.value||[]).map(e=>`${e.type}${e.name}`).indexOf(`${t}${e.name}`)<0&&this.addPropertyList({type:t,"@type":e["@type"],name:e.name,displayName:e.displayName,schema:e.schema,writable:e.writable})}pushCommandData(e,t){if((this.commandList.value||[]).map(e=>`${e.type}${e.name}`).indexOf(`${t}${e.name}`)<0){let i={type:t,name:e.name,displayName:e.displayName};e.request&&(i.request=e.request),e.response&&(i.response=e.response),this.addCommandList(i)}}updateFlyout(e){let t=window.BlocklyEditor.toolbox_.selectedItem_;!t||t.id_===e&&setTimeout(()=>{window.BlocklyEditor.toolbox_.setSelectedItem(null),window.BlocklyEditor.toolbox_.setSelectedItem(t)},100)}parsingDtmi(e){let t=e.toLowerCase().replace(/:/g,"/").replace(";","-");return t=t.split(/\/|-/),[t[2],t[3]]}updateBlockScopeId(){this.updatePnpInitBlock("scope_id",this.scopeId.value)}updateBlockDeviceId(){this.updatePnpInitBlock("device_id",this.deviceId.value)}updateBlockDeviceKey(){this.updatePnpInitBlock("device_key",this.deviceKey.value)}updateBlockModelId(){this.updatePnpInitBlock("model_id",this.modelId.value)}updatePnpInitBlock(e,t){if(!this.storeSrv.pnpEnable.value||!this.initBlockId||!t)return;let i=window.BlocklyEditor.getBlockById(this.initBlockId).getInput(e).connection.targetConnection;i&&["text","text_password"].indexOf(i.sourceBlock_.type)>-1&&i.sourceBlock_.setFieldValue(t,"TEXT")}getBlockModelId(){if(this.initBlockId){let t=window.BlocklyEditor.getBlockById(this.initBlockId);try{let e=t.getInput("model_id").connection.targetConnection;if(e&&"text"===e.sourceBlock_.type){let t=e.sourceBlock_.getFieldValue("TEXT");this.setModelId(t)}}catch(e){console.log(e)}}}createRandom(e){return window.Blockly.createRandom(e)}createDtmi(){let e=`dtmi:m5stack:pnpdevice:${this.createRandom(7)};1`;this.setModelId(e)}getDevices(){return this.http.get(`https://${this.subdomain}.${this.baseDomain}/api/devices?${this.apiVersion}`,{headers:{Authorization:this.token}})}getTemplatesList(){let e=new n.WM({Authorization:this.token,"Accept-Language":"en,en-US"});return this.http.get(`https://${this.subdomain}.${this.baseDomain}/api/deviceTemplates?${this.apiVersion}`,{headers:e})}getScopeID(e){return this.http.get(`https://${this.subdomain}.${this.baseDomain}/api/devices/${e}/credentials?${this.apiVersion}`,{headers:{Authorization:this.token}}).pipe((0,s.b)(e=>{},e=>{console.log("Failed to get scope id!")}))}createDevices(e,t){let i={};return i=this.templateId?{displayName:t,template:this.templateId}:{displayName:t},this.http.put(`https://${this.subdomain}.${this.baseDomain}/api/devices/${e}?${this.apiVersion}`,i,{headers:{Authorization:this.token}})}delDevices(e){return this.http.delete(`https://${this.subdomain}.${this.baseDomain}/api/devices/${e}?${this.apiVersion}`,{headers:{Authorization:this.token}})}createTemplate(e,t){return this.template.value.displayName=t,this.http.put(`https://${this.subdomain}.${this.baseDomain}/api/deviceTemplates/${e}?${this.apiVersion}`,this.template.value,{headers:{Authorization:this.token,"Accept-Language":"en,en-US"}}).pipe((0,s.b)(e=>{},e=>{console.log(e)}))}updateTemplate(){return this.http.patch(`https://${this.subdomain}.${this.baseDomain}/api/deviceTemplates/${this.templateId}?${this.apiVersion}`,this.template.value,{headers:{Authorization:this.token,"Accept-Language":"en,en-US"}})}getDeviceModelDisplayName(){let e=this.parsingDtmi(this.modelId.value);return e[0]+"-"+e[1]}initTemplate(){let e={};e["@context"]=this.context,e["@type"]=["ModelDefinition","DeviceModel"];let t={"@id":this.modelId.value,"@type":"Interface",displayName:{en:this.getDeviceModelDisplayName()}};e.capabilityModel=Object.assign({contents:[]},t),e.displayName="",this.setTemplate(e),this.model=[];let i=Object.assign({},t);i.contents=[],i["@context"]=this.context,this.model[0]=i}generateCapabilityModel(){this.initTemplate(),this.sub=this.getModelComponentList().subscribe(e=>{let t=[],i=[],n=[],o=this.template.value;for(let r=0;r<e.length;r++){const o=e[r];let s;s=this.createNewData(o);let a=s.schema.contents;o.category.indexOf("telemetry")>-1&&(a=a.concat(this.generateTelemetryModel(o))),o.category.indexOf("property")>-1&&(a=a.concat(this.generatePropertyModel(o))),o.category.indexOf("command")>-1&&(a=a.concat(this.generateCommandModel(o))),s.schema.contents=a,t.push(s);let l=this.createNewComponentData(o);l.schema=s.schema["@id"],i.push(l),n.push(Object.assign(Object.assign({},s.schema),{"@context":this.context}))}o.capabilityModel.contents=t,this.model[0].contents=i,this.model=[this.model[0]].concat(n),this.setTemplate(o)})}createNewComponentData(e){return{"@type":"Component",displayName:e.displayName?e.displayName:{en:e.name},name:e.name}}createNewData(e){let t=this.createNewComponentData(e);return t.schema={"@id":e.dtmi,"@type":"Interface",contents:[]},t}generateTelemetryModel(e){let t=[];for(let i=0;i<e.telemetryKey.length;i++){const n=e.telemetryKey[i];let o=this.telemetryList.value.filter(t=>t.type===e.type&&t.name===n)[0];o&&t.push({"@type":o["@type"],displayName:o.displayName,name:o.name,schema:o.schema,unit:o.unit})}return t}generateCommandModel(e){let t=[];for(let i=0;i<e.commandKey.length;i++){const n=e.commandKey[i];let o=this.commandList.value.filter(t=>t.type===e.type&&t.name===n)[0];if(o){let e={"@type":"Command",displayName:o.displayName,name:o.name};o.request&&(e.request=o.request),o.response&&(e.response=o.response),t.push(e)}}return t}generatePropertyModel(e){let t=[];for(let i=0;i<e.propertyKey.length;i++){const n=e.propertyKey[i];let o=this.propertyList.value.filter(t=>t.type===e.type&&t.name===n)[0];o&&t.push({"@type":o["@type"],displayName:o.displayName,name:o.name,schema:o.schema,writable:o.writable})}return t}getAllChildKey(e,t){let i=t?"azure_pnp_send_telemetry_child":"azure_pnp_update_property_child",n=[];try{let t=e.getInput("func").connection.targetConnection;if(t){let e=t.sourceBlock_;e.type===i&&(n=window.Blockly.getPnpNextKey(e,[],i),n=Array.from(new Set(n)))}}catch(o){console.log(o)}return n}createComponentDtmi(e,t){return`dtmi:m5stack:${/unit_/.test(e)?"unit":"builtin"}:${e.replace("unit_","")}:${t};1`}addModelComponent(e,t){let i=t.component,n=this.modelComponentList.value,o=n.filter(e=>e.name===i);if(!n.length||n.length&&!o.length){let n=this.componentList.value.filter(e=>e.name===i)[0];if(!n)return;let o=this.getAllChildKey(t,"telemetry"===e),r={type:n.type,name:n.name,category:[e],["telemetry"===e?"telemetryKey":"propertyKey"]:o,displayName:n.displayName,dtmi:this.createComponentDtmi(n.type,t.dtmi)};this.addModelComponentList(r)}}addModelCBComponent(e,t){let i=t.component,n=this.modelComponentList.value.filter(e=>e.name===i),o="";switch(e){case"command":o=t.command;break;case"property":o=t.property}let r="property"===e?"propertyKey":"commandKey";if(1===n.length){let t=n[0][r];t&&-1===t.indexOf(o)&&o&&n[0][r].push(o),t||(n[0].category.push(e),n[0][r]=[o]),this.setModelComponentList(this.modelComponentList.value)}else{let n=this.componentList.value.filter(e=>e.name===i)[0];if(!n)return;let s={type:n.type,name:n.name,category:[e],[r]:[o],displayName:n.displayName,dtmi:this.createComponentDtmi(n.type,t.dtmi)};this.addModelComponentList(s)}}delModelComponent(e,t){let i=window.BlocklyEditor.getBlocksByType(e);i=i.filter(e=>!e.disabled&&e.component===t),i.length<=1&&this.delModelCompponentByName(t)}delModelCBComponent(e,t){let i=t.component,n="command"===e?"command":"property",o=window.BlocklyEditor.getBlocksByType(t.type);o=o.filter(e=>!e.disabled&&e.component===i&&e[n]===t[n]),o.length||this.delModelCompponentByName(i)}addModelSingleContent(e,t,i){let n="telemetry"===e?"telemetryKey":"propertyKey",o=this.modelComponentList.value.filter(e=>e.name===t)[0];!o||(o[n].indexOf(i)<0&&o[n].push(i),this.setModelComponentList(this.modelComponentList.value))}delModelSingleContent(e,t,i){let n="telemetry"===e?"telemetryKey":"propertyKey",o=this.modelComponentList.value.filter(e=>e.name===t)[0];!o||(o[n]=o[n].filter(e=>e!==i),this.setModelComponentList(this.modelComponentList.value))}getDataAllKey(e,t){let i=[];return this["telemetry"===t?"telemetryList":"propertyList"].value.forEach(t=>{t.type===e&&i.push(t.name)}),i}getPnpBlock(){let e=[];return["azure_pnp_send_telemetry","azure_pnp_update_property","azure_pnp_command_cb","azure_pnp_property_cb"].forEach((t,i)=>{let n=window.BlocklyEditor.getBlocksByType(t);n=n.filter(e=>!e.disabled&&e.component),i<2?n=n.filter(e=>this.getAllChildKey(e,0===i).length>0):(2==i||3==i)&&(n=n.filter(e=>e.command||e.property)),e=e.concat(n)}),e}checkAllPnpBlock(){let e=this.getPnpBlock();this.setModelComponentList([]);for(let t=0;t<e.length;t++){const i=e[t];switch(i.type){case"azure_pnp_send_telemetry":this.addModelComponent("telemetry",i);break;case"azure_pnp_update_property":this.addModelComponent("property",i);break;case"azure_pnp_command_cb":this.addModelCBComponent("command",i);break;case"azure_pnp_property_cb":this.addModelCBComponent("property",i)}}}}return e.\u0275fac=function(t){return new(t||e)(c.LFG(n.eN),c.LFG(h.d),c.LFG(u.t))},e.\u0275prov=c.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},99742:function(e,t,i){"use strict";i.d(t,{s:function(){return J}});var n=i(25370),o=i(75002),r=i(7637),s=i(67302),a=i(50402),l=i(88259),c=i.n(l),h=i(37716),u=i(36853),d=i(81780);let p=(()=>{class e{constructor(){}ngOnInit(){}stopPropagation(e){e.stopPropagation()}handleChangeName(e){this.data.checkValue(s.pA.NAME,e)||(this.data.$$component.setProp(s.pA.NAME,e.target.value),this.data.updateCode())}handleChangePosition(e,t){this.data.checkValue(e,t)||(this.data.$$component.setProp(e,t.target.value),this.data.$$box.attr({position:[this.data.$$component.x*this.data.scaleRatio,this.data.$$component.y*this.data.scaleRatio+50]}),this.data.updateCode())}handleChangeRadius(e){this.data.checkValue(s.pA.RADIUS,e)||(this.data.$$component.setProp(s.pA.RADIUS,e.target.value),this.data.$$componentSvg.attr({shape:{r:e.target.value*this.data.scaleRatio}}),this.data.updateCode())}handleChangeBorderColor(e){this.data.$$componentSvg.attr({style:{stroke:e}}),this.data.updateCode()}handleChangeBackgroundColor(e){this.data.$$componentSvg.attr({style:{fill:e}}),this.data.updateCode()}handleChangeLayer(e){this.data.checkValue(s.pA.LAYER,e)||(this.data.$$component.setProp(s.pA.LAYER,e.target.value),this.data.$$componentSvg.attr({z:e.target.value}),this.data.updateCode())}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=h.Xpm({type:e,selectors:[["app-circle-prop-window"]],decls:38,vars:41,consts:[[1,"property-window",3,"mousedown"],[1,"property-box"],[1,"name"],[1,"value",3,"value","input","keydown"],["type","number",1,"value",3,"value","input"],["readonly","readonly","spellcheck","false",1,"back_input",3,"cpOKButton","cpPosition","colorPicker","cpPositionOffset","cpOutputFormat","colorPickerChange"]],template:function(e,t){1&e&&(h.TgZ(0,"div",0),h.NdJ("mousedown",function(e){return t.stopPropagation(e)}),h.TgZ(1,"h3"),h._uU(2),h.qZA(),h.TgZ(3,"div",1),h.TgZ(4,"div",2),h._uU(5),h.ALo(6,"translate"),h.qZA(),h.TgZ(7,"input",3),h.NdJ("input",function(e){return t.handleChangeName(e)})("keydown",function(e){return t.data.handleKeydown(e)}),h.qZA(),h.qZA(),h.TgZ(8,"div",1),h.TgZ(9,"div",2),h._uU(10),h.ALo(11,"translate"),h.qZA(),h.TgZ(12,"input",4),h.NdJ("input",function(e){return t.handleChangePosition("x",e)}),h.qZA(),h.qZA(),h.TgZ(13,"div",1),h.TgZ(14,"div",2),h._uU(15),h.ALo(16,"translate"),h.qZA(),h.TgZ(17,"input",4),h.NdJ("input",function(e){return t.handleChangePosition("y",e)}),h.qZA(),h.qZA(),h.TgZ(18,"div",1),h.TgZ(19,"div",2),h._uU(20),h.ALo(21,"translate"),h.qZA(),h.TgZ(22,"input",4),h.NdJ("input",function(e){return t.handleChangeRadius(e)}),h.qZA(),h.qZA(),h.TgZ(23,"div",1),h.TgZ(24,"div",2),h._uU(25),h.ALo(26,"translate"),h.qZA(),h.TgZ(27,"input",5),h.NdJ("colorPickerChange",function(e){return t.data.$$component.borderColor=e})("colorPickerChange",function(e){return t.handleChangeBorderColor(e)}),h.qZA(),h.qZA(),h.TgZ(28,"div",1),h.TgZ(29,"div",2),h._uU(30),h.ALo(31,"translate"),h.qZA(),h.TgZ(32,"input",5),h.NdJ("colorPickerChange",function(e){return t.data.$$component.backgroundColor=e})("colorPickerChange",function(e){return t.handleChangeBackgroundColor(e)}),h.qZA(),h.qZA(),h.TgZ(33,"div",1),h.TgZ(34,"div",2),h._uU(35),h.ALo(36,"translate"),h.qZA(),h.TgZ(37,"input",4),h.NdJ("input",function(e){return t.handleChangeLayer(e)}),h.qZA(),h.qZA(),h.qZA()),2&e&&(h.xp6(2),h.Oqu(t.data.$$component.name),h.xp6(3),h.Oqu(h.lcZ(6,27,"name")),h.xp6(2),h.Q6J("value",t.data.$$component.name),h.xp6(3),h.Oqu(h.lcZ(11,29,"x")),h.xp6(2),h.Q6J("value",t.data.$$component.x),h.xp6(3),h.Oqu(h.lcZ(16,31,"y")),h.xp6(2),h.Q6J("value",t.data.$$component.y),h.xp6(3),h.Oqu(h.lcZ(21,33,"radius")),h.xp6(2),h.Q6J("value",t.data.$$component.radius),h.xp6(3),h.Oqu(h.lcZ(26,35,"borderColor")),h.xp6(2),h.Udp("background",t.data.$$component.borderColor),h.Q6J("cpOKButton","Ok")("cpPosition","auto")("colorPicker",t.data.$$component.borderColor)("cpPositionOffset","-5%")("cpOutputFormat","hex"),h.xp6(3),h.Oqu(h.lcZ(31,37,"backgroundColor")),h.xp6(2),h.Udp("background",t.data.$$component.backgroundColor),h.Q6J("cpOKButton","Ok")("cpPosition","auto")("colorPicker",t.data.$$component.backgroundColor)("cpPositionOffset","-5%")("cpOutputFormat","hex"),h.xp6(3),h.Oqu(h.lcZ(36,39,"layer")),h.xp6(2),h.Q6J("value",t.data.$$component.layer))},directives:[u.Kk],pipes:[d.X$],styles:[".property-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%}",".property-window[_ngcontent-%COMP%]{position:absolute;top:0;left:0;background-color:#ffffffe0;border:1px solid #666;z-index:1000001;padding:8px;border-radius:5px}.property-window.show[_ngcontent-%COMP%]{display:block}.property-window[_ngcontent-%COMP%]   .property-box[_ngcontent-%COMP%]{margin:10px 0}.property-window[_ngcontent-%COMP%]   .property-box[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:14px}.property-window[_ngcontent-%COMP%]   .property-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:2px 4px}.property-window[_ngcontent-%COMP%]   .property-box[_ngcontent-%COMP%]   .value.invalid[_ngcontent-%COMP%]{border:1px solid red;outline:1px solid red}"]}),e})();var g=i(38583),f=i(90665);function m(e,t){if(1&e&&(h.TgZ(0,"option",7),h._uU(1),h.qZA()),2&e){const e=t.$implicit;h.Q6J("value",e.filename),h.xp6(1),h.Oqu(e.filename)}}function _(e,t){if(1&e){const e=h.EpF();h.TgZ(0,"div",1),h.TgZ(1,"div",2),h._uU(2),h.ALo(3,"translate"),h.qZA(),h.TgZ(4,"select",6),h.NdJ("ngModelChange",function(t){return h.CHM(e),h.oxw().data.$$component.imagePath=t})("input",function(t){return h.CHM(e),h.oxw().handleChangeImage(t)}),h.TgZ(5,"option",7),h._uU(6),h.qZA(),h.YNc(7,m,2,2,"option",8),h.ALo(8,"async"),h.qZA(),h.qZA()}if(2&e){const e=h.oxw();let t;h.xp6(2),h.Oqu(h.lcZ(3,5,"imagePath")),h.xp6(2),h.Q6J("ngModel",e.data.$$component.imagePath),h.xp6(1),h.Q6J("value",e.path),h.xp6(1),h.Oqu(e.path),h.xp6(1),h.Q6J("ngForOf",null==(t=h.lcZ(8,7,e.data.deviceInfo$))?null:t.resources)}}function v(e,t){if(1&e){const e=h.EpF();h.TgZ(0,"div",1),h.TgZ(1,"div",2),h._uU(2),h.ALo(3,"translate"),h.qZA(),h.TgZ(4,"select",9),h.NdJ("input",function(t){return h.CHM(e),h.oxw().handleChangeVisibility(t)}),h.TgZ(5,"option",10),h._uU(6),h.qZA(),h.TgZ(7,"option",11),h._uU(8),h.qZA(),h.qZA(),h.qZA()}if(2&e){const e=h.oxw();h.xp6(2),h.Oqu(h.lcZ(3,4,"visibility")),h.xp6(2),h.Q6J("value",e.data.$$component.visibility),h.xp6(2),h.Oqu("True"),h.xp6(2),h.Oqu("False")}}function y(e,t){if(1&e){const e=h.EpF();h.TgZ(0,"div",1),h.TgZ(1,"div",2),h._uU(2),h.ALo(3,"translate"),h.qZA(),h.TgZ(4,"input",12,13),h.NdJ("input",function(t){return h.CHM(e),h.oxw().handleChangeUrl(t)}),h.qZA(),h.qZA()}if(2&e){const e=h.oxw();h.xp6(2),h.Oqu(h.lcZ(3,2,"url")),h.xp6(2),h.Q6J("value",e.data.$$component.url)}}function b(e,t){if(1&e&&(h.TgZ(0,"option",7),h._uU(1),h.qZA()),2&e){const e=t.$implicit;h.Q6J("value",e.value),h.xp6(1),h.Oqu(e.name)}}function w(e,t){if(1&e){const e=h.EpF();h.TgZ(0,"div",1),h.TgZ(1,"div",2),h._uU(2),h.ALo(3,"translate"),h.qZA(),h.TgZ(4,"select",14),h.NdJ("ngModelChange",function(t){return h.CHM(e),h.oxw().data.$$component.timer=t})("change",function(t){return h.CHM(e),h.oxw().handleChangeTimer(t)}),h.YNc(5,b,2,2,"option",8),h.qZA(),h.qZA()}if(2&e){const e=h.oxw();h.xp6(2),h.Oqu(h.lcZ(3,3,"update")),h.xp6(2),h.Q6J("ngModel",e.data.$$component.timer),h.xp6(1),h.Q6J("ngForOf",e.timerList)}}function A(e,t){if(1&e){const e=h.EpF();h.TgZ(0,"div",1),h.TgZ(1,"div",2),h._uU(2),h.ALo(3,"translate"),h.qZA(),h.TgZ(4,"input",12,13),h.NdJ("input",function(t){return h.CHM(e),h.oxw().handleChangeInterval(t)}),h.qZA(),h.qZA()}if(2&e){const e=h.oxw();h.xp6(2),h.Oqu(h.lcZ(3,2,"interval")),h.xp6(2),h.Q6J("value",e.data.$$component.interval)}}let x=(()=>{class e{constructor(){this.path="default.jpg",this.timerList=[{name:"ON",value:"True"},{name:"OFF",value:"False"}]}ngOnInit(){this.data.deviceInfo$.subscribe(e=>{}),this.path=sessionStorage.getItem("_type")===s.__.CORETWO||sessionStorage.getItem("_type")===s.__.TOUGH?"default.png":"default.jpg"}stopPropagation(e){e.stopPropagation()}handleChangeName(e){this.data.checkValue(s.pA.NAME,e)||(this.data.$$component.setProp(s.pA.NAME,e.target.value),this.data.updateCode())}handleChangePosition(e,t){this.data.checkValue(e,t)||(this.data.$$component.setProp(e,t.target.value),this.data.$$box.attr({position:[this.data.$$component.x*this.data.scaleRatio,this.data.$$component.y*this.data.scaleRatio+50]}),this.data.updateCode())}handleChangeImage(e){this.data.loadImage(e.target.value).subscribe(e=>{0===e.code&&this.loadImg(e.data)})}loadImg(e){let t=document.createElement("img"),i=`data:image/jpg;base64,${e}`;t.onload=()=>{document.body.appendChild(t),t.style.display="none",this.data.$$componentSvg.attr({style:{image:i,width:t.width,height:t.height}}),this.data.updateCode(),document.body.removeChild(t)},t.src=i}handleChangeLayer(e){this.data.checkValue(s.pA.LAYER,e)||(this.data.$$component.setProp(s.pA.LAYER,e.target.value),this.data.$$componentSvg.attr({z:e.target.value}),this.data.updateCode())}handleChangeVisibility(e){this.data.$$component.setProp(s.pA.VISIBILITY,e.target.value),this.data.updateCode()}handleChangeUrl(e){this.data.checkValue(s.pA.URL,e)||(this.data.$$component.setProp(s.pA.URL,e.target.value),this.data.updateCode())}handleChangeInterval(e){this.data.checkValue(s.pA.INTERVAL,e)||(this.data.$$component.setProp(s.pA.INTERVAL,e.target.value),this.data.updateCode())}handleChangeTimer(e){this.data.checkValue(s.pA.TIMER,e)||(this.data.$$component.setProp(s.pA.TIMER,e.target.value),this.data.updateCode())}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=h.Xpm({type:e,selectors:[["app-image-prop-window"]],decls:28,vars:22,consts:[[1,"property-window",3,"mousedown"],[1,"property-box"],[1,"name"],[1,"value",3,"value","input","keydown"],["type","number",1,"value",3,"value","input"],["class","property-box",4,"ngIf"],[3,"ngModel","ngModelChange","input"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],[3,"value","input"],["value","true"],["value","false"],[1,"value",3,"value","input"],["labelText",""],[3,"ngModel","ngModelChange","change"]],template:function(e,t){1&e&&(h.TgZ(0,"div",0),h.NdJ("mousedown",function(e){return t.stopPropagation(e)}),h.TgZ(1,"h3"),h._uU(2),h.qZA(),h.TgZ(3,"div",1),h.TgZ(4,"div",2),h._uU(5),h.ALo(6,"translate"),h.qZA(),h.TgZ(7,"input",3),h.NdJ("input",function(e){return t.handleChangeName(e)})("keydown",function(e){return t.data.handleKeydown(e)}),h.qZA(),h.qZA(),h.TgZ(8,"div",1),h.TgZ(9,"div",2),h._uU(10),h.ALo(11,"translate"),h.qZA(),h.TgZ(12,"input",4),h.NdJ("input",function(e){return t.handleChangePosition("x",e)}),h.qZA(),h.qZA(),h.TgZ(13,"div",1),h.TgZ(14,"div",2),h._uU(15),h.ALo(16,"translate"),h.qZA(),h.TgZ(17,"input",4),h.NdJ("input",function(e){return t.handleChangePosition("y",e)}),h.qZA(),h.qZA(),h.YNc(18,_,9,9,"div",5),h.YNc(19,v,9,6,"div",5),h.TgZ(20,"div",1),h.TgZ(21,"div",2),h._uU(22),h.ALo(23,"translate"),h.qZA(),h.TgZ(24,"input",4),h.NdJ("input",function(e){return t.handleChangeLayer(e)}),h.qZA(),h.qZA(),h.YNc(25,y,6,4,"div",5),h.YNc(26,w,6,5,"div",5),h.YNc(27,A,6,4,"div",5),h.qZA()),2&e&&(h.xp6(2),h.Oqu(t.data.$$component.name),h.xp6(3),h.Oqu(h.lcZ(6,14,"name")),h.xp6(2),h.Q6J("value",t.data.$$component.name),h.xp6(3),h.Oqu(h.lcZ(11,16,"x")),h.xp6(2),h.Q6J("value",t.data.$$component.x),h.xp6(3),h.Oqu(h.lcZ(16,18,"y")),h.xp6(2),h.Q6J("value",t.data.$$component.y),h.xp6(1),h.Q6J("ngIf","image"===t.data.$$component.type),h.xp6(1),h.Q6J("ngIf","image"===t.data.$$component.type),h.xp6(3),h.Oqu(h.lcZ(23,20,"layer")),h.xp6(2),h.Q6J("value",t.data.$$component.layer),h.xp6(1),h.Q6J("ngIf","imageplus"===t.data.$$component.type),h.xp6(1),h.Q6J("ngIf","imageplus"===t.data.$$component.type),h.xp6(1),h.Q6J("ngIf","imageplus"===t.data.$$component.type))},directives:[g.O5,f.EJ,f.JJ,f.On,f.YN,f.Kr,g.sg],pipes:[d.X$,g.Ov],styles:[".property-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%}",".property-window[_ngcontent-%COMP%]{position:absolute;top:0;left:0;background-color:#ffffffe0;border:1px solid #666;z-index:1000001;padding:8px;border-radius:5px}.property-window.show[_ngcontent-%COMP%]{display:block}.property-window[_ngcontent-%COMP%]   .property-box[_ngcontent-%COMP%]{margin:10px 0}.property-window[_ngcontent-%COMP%]   .property-box[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:14px}.property-window[_ngcontent-%COMP%]   .property-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:2px 4px}.property-window[_ngcontent-%COMP%]   .property-box[_ngcontent-%COMP%]   .value.invalid[_ngcontent-%COMP%]{border:1px solid red;outline:1px solid red}"]}),e})();const T=["labelText"];function C(e,t){if(1&e&&(h.TgZ(0,"option",11),h._uU(1),h.qZA()),2&e){const e=t.$implicit;h.Q6J("value",e.value),h.xp6(1),h.Oqu(e.name)}}function Z(e,t){if(1&e){const e=h.EpF();h.TgZ(0,"div",1),h.TgZ(1,"div",2),h._uU(2),h.ALo(3,"translate"),h.qZA(),h.TgZ(4,"input",6,7),h.NdJ("input",function(t){return h.CHM(e),h.oxw().handleChangeUrl(t)}),h.qZA(),h.qZA()}if(2&e){const e=h.oxw();h.xp6(2),h.Oqu(h.lcZ(3,2,"url")),h.xp6(2),h.Q6J("value",e.data.$$component.url)}}function k(e,t){if(1&e){const e=h.EpF();h.TgZ(0,"div",1),h.TgZ(1,"div",2),h._uU(2),h.ALo(3,"translate"),h.qZA(),h.TgZ(4,"input",6,7),h.NdJ("input",function(t){return h.CHM(e),h.oxw().handleChangeJsonKey(t)}),h.qZA(),h.qZA()}if(2&e){const e=h.oxw();h.xp6(2),h.Oqu(h.lcZ(3,2,"jsonKey")),h.xp6(2),h.Q6J("value",e.data.$$component.jsonKey)}}function S(e,t){if(1&e&&(h.TgZ(0,"option",11),h._uU(1),h.qZA()),2&e){const e=t.$implicit;h.Q6J("value",e.value),h.xp6(1),h.Oqu(e.name)}}function E(e,t){if(1&e){const e=h.EpF();h.TgZ(0,"div",1),h.TgZ(1,"div",2),h._uU(2),h.ALo(3,"translate"),h.qZA(),h.TgZ(4,"select",8),h.NdJ("ngModelChange",function(t){return h.CHM(e),h.oxw().data.$$component.timer=t})("change",function(t){return h.CHM(e),h.oxw().handleChangeTimer(t)}),h.YNc(5,S,2,2,"option",9),h.qZA(),h.qZA()}if(2&e){const e=h.oxw();h.xp6(2),h.Oqu(h.lcZ(3,3,"update")),h.xp6(2),h.Q6J("ngModel",e.data.$$component.timer),h.xp6(1),h.Q6J("ngForOf",e.timerList)}}function M(e,t){if(1&e){const e=h.EpF();h.TgZ(0,"div",1),h.TgZ(1,"div",2),h._uU(2),h.ALo(3,"translate"),h.qZA(),h.TgZ(4,"input",6,7),h.NdJ("input",function(t){return h.CHM(e),h.oxw().handleChangeInterval(t)}),h.qZA(),h.qZA()}if(2&e){const e=h.oxw();h.xp6(2),h.Oqu(h.lcZ(3,2,"interval")),h.xp6(2),h.Q6J("value",e.data.$$component.interval)}}function O(e,t){if(1&e){const e=h.EpF();h.TgZ(0,"div",1),h.TgZ(1,"div",2),h._uU(2),h.ALo(3,"translate"),h.qZA(),h.TgZ(4,"input",6,7),h.NdJ("input",function(t){return h.CHM(e),h.oxw().handleChangeErrorText(t)}),h.qZA(),h.qZA()}if(2&e){const e=h.oxw();h.xp6(2),h.Oqu(h.lcZ(3,2,"errorText")),h.xp6(2),h.Q6J("value",e.data.$$component.errorText)}}function I(e,t){if(1&e){const e=h.EpF();h.TgZ(0,"div",1),h.TgZ(1,"div",2),h._uU(2),h.ALo(3,"translate"),h.qZA(),h.TgZ(4,"input",5),h.NdJ("colorPickerChange",function(t){return h.CHM(e),h.oxw().data.$$component.errorTextColor=t})("colorPickerChange",function(t){return h.CHM(e),h.oxw().handleChangeColor(t)}),h.qZA(),h.qZA()}if(2&e){const e=h.oxw();h.xp6(2),h.Oqu(h.lcZ(3,8,"errorTextColor")),h.xp6(2),h.Udp("background",e.data.$$component.errorTextColor),h.Q6J("cpOKButton","Ok")("cpPosition","auto")("colorPicker",e.data.$$component.errorTextColor)("cpPositionOffset","-5%")("cpOutputFormat","hex")}}let P=(()=>{class e{constructor(){this.fontList=[{name:"Default",value:"lcd.FONT_Default",size:16,fontName:"sans-serif"},{name:"Default Small",value:"lcd.FONT_DefaultSmall",size:12,fontName:"sans-serif"},{name:"Ubuntu-C",value:"lcd.FONT_Ubuntu",size:16,fontName:"Ubuntu-C"},{name:"Comic",value:"lcd.FONT_Comic",size:16,fontName:"Comic"},{name:"DejaVuSans 18",value:"lcd.FONT_DejaVu18",size:18,fontName:"DejaVuSans"},{name:"DejaVuSans 24",value:"lcd.FONT_DejaVu24",size:24,fontName:"DejaVuSans"},{name:"DejaVuSans 40",value:"lcd.FONT_DejaVu40",size:40,fontName:"DejaVuSans"},{name:"DejaVuSans 56",value:"lcd.FONT_DejaVu56",size:56,fontName:"DejaVuSans"},{name:"DejaVuSans 72",value:"lcd.FONT_DejaVu72",size:72,fontName:"DejaVuSans"},{name:"Unicode 24",value:"lcd.FONT_UNICODE",size:24,fontName:"sans-serif"}],this.timerList=[{name:"ON",value:"True"},{name:"OFF",value:"False"}],this.rotate=Math.PI/-180}ngOnInit(){[s.__.CORETWO,s.__.TOUGH].includes(sessionStorage.getItem("_type"))&&(this.fontList.splice(2,2),this.fontList.pop())}ngAfterViewInit(){if(this.labelText){let e=this.labelText.nativeElement.value;this.labelText.nativeElement.focus({preventScroll:!0}),this.labelText.nativeElement.setSelectionRange(0,e.length)}}stopPropagation(e){e.stopPropagation()}handleChangeName(e){this.data.checkValue(s.pA.NAME,e)||(this.data.$$component.setProp(s.pA.NAME,e.target.value),this.data.updateCode())}handleChangePosition(e,t){this.data.checkValue(e,t)||(this.data.$$component.setProp(e,t.target.value),this.data.$$box.attr({position:[this.data.$$component.x*this.data.scaleRatio,this.data.$$component.y*this.data.scaleRatio+50]}),this.data.updateCode())}handleChangeColor(e){this.data.$$componentSvg.attr({style:{textFill:e}}),this.data.updateCode()}handleChangeText(e){this.data.checkValue(s.pA.TEXT,e)||(this.data.$$component.setProp(s.pA.TEXT,e.target.value),this.data.$$componentSvg.attr({style:{text:e.target.value}}),this.data.updateCode())}handleChangeUrl(e){this.data.checkValue(s.pA.URL,e)||(this.data.$$component.setProp(s.pA.URL,e.target.value),this.data.updateCode())}handleChangeInterval(e){this.data.checkValue(s.pA.INTERVAL,e)||(this.data.$$component.setProp(s.pA.INTERVAL,e.target.value),this.data.updateCode())}handleChangeErrorText(e){this.data.checkValue(s.pA.ERRORTEXT,e)||(this.data.$$component.setProp(s.pA.ERRORTEXT,e.target.value),this.data.updateCode())}handleChangeJsonKey(e){this.data.checkValue(s.pA.JSONKEY,e)||(this.data.$$component.setProp(s.pA.JSONKEY,e.target.value),this.data.updateCode())}handleChangeTimer(e){this.data.checkValue(s.pA.TIMER,e)||(this.data.$$component.setProp(s.pA.TIMER,e.target.value),this.data.updateCode())}handleChangeFont(e){this.data.$$componentSvg.attr({style:{fontFamily:this.fontList.find(t=>t.value===e.target.value).fontName,fontSize:this.fontList.find(t=>t.value===e.target.value).size*this.data.scaleRatio}}),this.data.updateCode()}handleChangeRotation(e){this.data.checkValue(s.pA.ROTATION,e)||(this.data.$$component.setProp(s.pA.ROTATION,e.target.value),this.data.$$componentSvg.attr({rotation:e.target.value*this.rotate}),this.data.updateCode())}handleChangeLayer(e){this.data.checkValue(s.pA.LAYER,e)||(this.data.$$component.setProp(s.pA.LAYER,e.target.value),this.data.$$componentSvg.attr({z:e.target.value}),this.data.updateCode())}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=h.Xpm({type:e,selectors:[["app-label-prop-window"]],viewQuery:function(e,t){if(1&e&&h.Gf(T,5),2&e){let e;h.iGM(e=h.CRH())&&(t.labelText=e.first)}},decls:51,vars:46,consts:[[1,"property-window",3,"mousedown"],[1,"property-box"],[1,"name"],[1,"value",3,"value","input","keydown"],["type","number",1,"value",3,"value","input"],["readonly","readonly","spellcheck","false",1,"back_input",3,"cpOKButton","cpPosition","colorPicker","cpPositionOffset","cpOutputFormat","colorPickerChange"],[1,"value",3,"value","input"],["labelText",""],[3,"ngModel","ngModelChange","change"],[3,"value",4,"ngFor","ngForOf"],["class","property-box",4,"ngIf"],[3,"value"]],template:function(e,t){1&e&&(h.TgZ(0,"div",0),h.NdJ("mousedown",function(e){return t.stopPropagation(e)}),h.TgZ(1,"h3"),h._uU(2),h.qZA(),h.TgZ(3,"div",1),h.TgZ(4,"div",2),h._uU(5),h.ALo(6,"translate"),h.qZA(),h.TgZ(7,"input",3),h.NdJ("input",function(e){return t.handleChangeName(e)})("keydown",function(e){return t.data.handleKeydown(e)}),h.qZA(),h.qZA(),h.TgZ(8,"div",1),h.TgZ(9,"div",2),h._uU(10),h.ALo(11,"translate"),h.qZA(),h.TgZ(12,"input",4),h.NdJ("input",function(e){return t.handleChangePosition("x",e)}),h.qZA(),h.qZA(),h.TgZ(13,"div",1),h.TgZ(14,"div",2),h._uU(15),h.ALo(16,"translate"),h.qZA(),h.TgZ(17,"input",4),h.NdJ("input",function(e){return t.handleChangePosition("y",e)}),h.qZA(),h.qZA(),h.TgZ(18,"div",1),h.TgZ(19,"div",2),h._uU(20),h.ALo(21,"translate"),h.qZA(),h.TgZ(22,"input",5),h.NdJ("colorPickerChange",function(e){return t.data.$$component.color=e})("colorPickerChange",function(e){return t.handleChangeColor(e)}),h.qZA(),h.qZA(),h.TgZ(23,"div",1),h.TgZ(24,"div",2),h._uU(25),h.ALo(26,"translate"),h.qZA(),h.TgZ(27,"input",6,7),h.NdJ("input",function(e){return t.handleChangeText(e)}),h.qZA(),h.qZA(),h.TgZ(29,"div",1),h.TgZ(30,"div",2),h._uU(31),h.ALo(32,"translate"),h.qZA(),h.TgZ(33,"select",8),h.NdJ("ngModelChange",function(e){return t.data.$$component.font=e})("change",function(e){return t.handleChangeFont(e)}),h.YNc(34,C,2,2,"option",9),h.qZA(),h.qZA(),h.TgZ(35,"div",1),h.TgZ(36,"div",2),h._uU(37),h.ALo(38,"translate"),h.qZA(),h.TgZ(39,"input",4),h.NdJ("input",function(e){return t.handleChangeRotation(e)}),h.qZA(),h.qZA(),h.TgZ(40,"div",1),h.TgZ(41,"div",2),h._uU(42),h.ALo(43,"translate"),h.qZA(),h.TgZ(44,"input",4),h.NdJ("input",function(e){return t.handleChangeLayer(e)}),h.qZA(),h.qZA(),h.YNc(45,Z,6,4,"div",10),h.YNc(46,k,6,4,"div",10),h.YNc(47,E,6,5,"div",10),h.YNc(48,M,6,4,"div",10),h.YNc(49,O,6,4,"div",10),h.YNc(50,I,5,10,"div",10),h.qZA()),2&e&&(h.xp6(2),h.Oqu(t.data.$$component.name),h.xp6(3),h.Oqu(h.lcZ(6,30,"name")),h.xp6(2),h.Q6J("value",t.data.$$component.name),h.xp6(3),h.Oqu(h.lcZ(11,32,"x")),h.xp6(2),h.Q6J("value",t.data.$$component.x),h.xp6(3),h.Oqu(h.lcZ(16,34,"y")),h.xp6(2),h.Q6J("value",t.data.$$component.y),h.xp6(3),h.Oqu(h.lcZ(21,36,"color")),h.xp6(2),h.Udp("background",t.data.$$component.color),h.Q6J("cpOKButton","Ok")("cpPosition","auto")("colorPicker",t.data.$$component.color)("cpPositionOffset","-5%")("cpOutputFormat","hex"),h.xp6(3),h.Oqu(h.lcZ(26,38,"text")),h.xp6(2),h.Q6J("value",t.data.$$component.text),h.xp6(4),h.Oqu(h.lcZ(32,40,"font")),h.xp6(2),h.Q6J("ngModel",t.data.$$component.font),h.xp6(1),h.Q6J("ngForOf",t.fontList),h.xp6(3),h.Oqu(h.lcZ(38,42,"rotation")),h.xp6(2),h.Q6J("value",t.data.$$component.rotation),h.xp6(3),h.Oqu(h.lcZ(43,44,"layer")),h.xp6(2),h.Q6J("value",t.data.$$component.layer),h.xp6(1),h.Q6J("ngIf","labelplus"===t.data.$$component.type),h.xp6(1),h.Q6J("ngIf","labelplus"===t.data.$$component.type),h.xp6(1),h.Q6J("ngIf","labelplus"===t.data.$$component.type),h.xp6(1),h.Q6J("ngIf","labelplus"===t.data.$$component.type),h.xp6(1),h.Q6J("ngIf","labelplus"===t.data.$$component.type),h.xp6(1),h.Q6J("ngIf","labelplus"===t.data.$$component.type))},directives:[u.Kk,f.EJ,f.JJ,f.On,g.sg,g.O5,f.YN,f.Kr],pipes:[d.X$],styles:[".property-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%}",".property-window[_ngcontent-%COMP%]{position:absolute;top:0;left:0;background-color:#ffffffe0;border:1px solid #666;z-index:1000001;padding:8px;border-radius:5px}.property-window.show[_ngcontent-%COMP%]{display:block}.property-window[_ngcontent-%COMP%]   .property-box[_ngcontent-%COMP%]{margin:10px 0}.property-window[_ngcontent-%COMP%]   .property-box[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:14px}.property-window[_ngcontent-%COMP%]   .property-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:2px 4px}.property-window[_ngcontent-%COMP%]   .property-box[_ngcontent-%COMP%]   .value.invalid[_ngcontent-%COMP%]{border:1px solid red;outline:1px solid red}"]}),e})(),R=(()=>{class e{constructor(){}ngOnInit(){}stopPropagation(e){e.stopPropagation()}handleChangeName(e){this.data.checkValue(s.pA.NAME,e)||(this.data.$$component.setProp(s.pA.NAME,e.target.value),this.data.updateCode())}handleChangePosition(e,t){if(this.data.checkValue(e,t))return;let i=this.data.scaleRatio;this.data.$$component.setProp(e,t.target.value);let n=Math.min(this.data.$$component.x1,this.data.$$component.x2)*i,o=Math.min(this.data.$$component.y1,this.data.$$component.y2)*i;this.data.$$box.attr({position:[n,o+50]});let r={x1:this.data.$$component.x1*i-n,y1:this.data.$$component.y1*i-o,x2:this.data.$$component.x2*i-n,y2:this.data.$$component.y2*i-o};this.data.$$componentSvg.childAt(0).attr({shape:r}),this.data.$$componentSvg.childAt(1).attr({shape:r}),this.data.updateCode()}handleChangeBorderColor(e){this.data.$$componentSvg.childAt(0).attr({style:{stroke:e}}),this.data.updateCode()}handleChangeLayer(e){this.data.checkValue(s.pA.LAYER,e)||(this.data.$$component.setProp(s.pA.LAYER,e.target.value),this.data.$$componentSvg.attr({z:e.target.value}),this.data.updateCode())}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=h.Xpm({type:e,selectors:[["app-line-prop-window"]],decls:38,vars:35,consts:[[1,"property-window",3,"mousedown"],[1,"property-box"],[1,"name"],[1,"value",3,"value","input","keydown"],["type","number",1,"value",3,"value","input"],["readonly","readonly","spellcheck","false",1,"back_input",3,"cpOKButton","cpPosition","colorPicker","cpPositionOffset","cpOutputFormat","colorPickerChange"]],template:function(e,t){1&e&&(h.TgZ(0,"div",0),h.NdJ("mousedown",function(e){return t.stopPropagation(e)}),h.TgZ(1,"h3"),h._uU(2),h.qZA(),h.TgZ(3,"div",1),h.TgZ(4,"div",2),h._uU(5),h.ALo(6,"translate"),h.qZA(),h.TgZ(7,"input",3),h.NdJ("input",function(e){return t.handleChangeName(e)})("keydown",function(e){return t.data.handleKeydown(e)}),h.qZA(),h.qZA(),h.TgZ(8,"div",1),h.TgZ(9,"div",2),h._uU(10),h.ALo(11,"translate"),h.qZA(),h.TgZ(12,"input",4),h.NdJ("input",function(e){return t.handleChangePosition("x1",e)}),h.qZA(),h.qZA(),h.TgZ(13,"div",1),h.TgZ(14,"div",2),h._uU(15),h.ALo(16,"translate"),h.qZA(),h.TgZ(17,"input",4),h.NdJ("input",function(e){return t.handleChangePosition("y1",e)}),h.qZA(),h.qZA(),h.TgZ(18,"div",1),h.TgZ(19,"div",2),h._uU(20),h.ALo(21,"translate"),h.qZA(),h.TgZ(22,"input",4),h.NdJ("input",function(e){return t.handleChangePosition("x2",e)}),h.qZA(),h.qZA(),h.TgZ(23,"div",1),h.TgZ(24,"div",2),h._uU(25),h.ALo(26,"translate"),h.qZA(),h.TgZ(27,"input",4),h.NdJ("input",function(e){return t.handleChangePosition("y2",e)}),h.qZA(),h.qZA(),h.TgZ(28,"div",1),h.TgZ(29,"div",2),h._uU(30),h.ALo(31,"translate"),h.qZA(),h.TgZ(32,"input",5),h.NdJ("colorPickerChange",function(e){return t.data.$$component.color=e})("colorPickerChange",function(e){return t.handleChangeBorderColor(e)}),h.qZA(),h.qZA(),h.TgZ(33,"div",1),h.TgZ(34,"div",2),h._uU(35),h.ALo(36,"translate"),h.qZA(),h.TgZ(37,"input",4),h.NdJ("input",function(e){return t.handleChangeLayer(e)}),h.qZA(),h.qZA(),h.qZA()),2&e&&(h.xp6(2),h.Oqu(t.data.$$component.name),h.xp6(3),h.Oqu(h.lcZ(6,21,"name")),h.xp6(2),h.Q6J("value",t.data.$$component.name),h.xp6(3),h.Oqu(h.lcZ(11,23,"x1")),h.xp6(2),h.Q6J("value",t.data.$$component.x1),h.xp6(3),h.Oqu(h.lcZ(16,25,"y1")),h.xp6(2),h.Q6J("value",t.data.$$component.y1),h.xp6(3),h.Oqu(h.lcZ(21,27,"x2")),h.xp6(2),h.Q6J("value",t.data.$$component.x2),h.xp6(3),h.Oqu(h.lcZ(26,29,"y2")),h.xp6(2),h.Q6J("value",t.data.$$component.y2),h.xp6(3),h.Oqu(h.lcZ(31,31,"color")),h.xp6(2),h.Udp("background",t.data.$$component.color),h.Q6J("cpOKButton","Ok")("cpPosition","auto")("colorPicker",t.data.$$component.color)("cpPositionOffset","-5%")("cpOutputFormat","hex"),h.xp6(3),h.Oqu(h.lcZ(36,33,"layer")),h.xp6(2),h.Q6J("value",t.data.$$component.layer))},directives:[u.Kk],pipes:[d.X$],styles:[".property-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%}",".property-window[_ngcontent-%COMP%]{position:absolute;top:0;left:0;background-color:#ffffffe0;border:1px solid #666;z-index:1000001;padding:8px;border-radius:5px}.property-window.show[_ngcontent-%COMP%]{display:block}.property-window[_ngcontent-%COMP%]   .property-box[_ngcontent-%COMP%]{margin:10px 0}.property-window[_ngcontent-%COMP%]   .property-box[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:14px}.property-window[_ngcontent-%COMP%]   .property-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:2px 4px}.property-window[_ngcontent-%COMP%]   .property-box[_ngcontent-%COMP%]   .value.invalid[_ngcontent-%COMP%]{border:1px solid red;outline:1px solid red}"]}),e})(),q=(()=>{class e{constructor(){}ngOnInit(){}stopPropagation(e){e.stopPropagation()}handleChangeName(e){this.data.checkValue(s.pA.NAME,e)||(this.data.$$component.setProp(s.pA.NAME,e.target.value),this.data.updateCode())}handleChangePosition(e,t){this.data.checkValue(e,t)||(this.data.$$component.setProp(e,t.target.value),this.data.$$box.attr({position:[this.data.$$component.x*this.data.scaleRatio,this.data.$$component.y*this.data.scaleRatio+50]}),this.data.updateCode())}handleChangeSize(e,t){this.data.checkValue(e,t)||(this.data.$$component.setProp(e,t.target.value),this.data.$$componentSvg.attr({shape:{width:this.data.$$component.width*this.data.scaleRatio,height:this.data.$$component.height*this.data.scaleRatio}}),this.data.updateCode())}handleChangeBorderColor(e){this.data.$$componentSvg.attr({style:{stroke:e}}),this.data.updateCode()}handleChangeBackgroundColor(e){this.data.$$componentSvg.attr({style:{fill:e}}),this.data.updateCode()}handleChangeLayer(e){this.data.checkValue(s.pA.LAYER,e)||(this.data.$$component.setProp(s.pA.LAYER,e.target.value),this.data.$$componentSvg.attr({z:e.target.value}),this.data.updateCode())}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=h.Xpm({type:e,selectors:[["app-rect-prop-window"]],decls:43,vars:45,consts:[[1,"property-window",3,"mousedown"],[1,"property-box"],[1,"name"],[1,"value",3,"value","input","keydown"],["type","number",1,"value",3,"value","input"],["readonly","readonly","spellcheck","false",1,"back_input",3,"cpOKButton","cpPosition","colorPicker","cpPositionOffset","cpOutputFormat","colorPickerChange"]],template:function(e,t){1&e&&(h.TgZ(0,"div",0),h.NdJ("mousedown",function(e){return t.stopPropagation(e)}),h.TgZ(1,"h3"),h._uU(2),h.qZA(),h.TgZ(3,"div",1),h.TgZ(4,"div",2),h._uU(5),h.ALo(6,"translate"),h.qZA(),h.TgZ(7,"input",3),h.NdJ("input",function(e){return t.handleChangeName(e)})("keydown",function(e){return t.data.handleKeydown(e)}),h.qZA(),h.qZA(),h.TgZ(8,"div",1),h.TgZ(9,"div",2),h._uU(10),h.ALo(11,"translate"),h.qZA(),h.TgZ(12,"input",4),h.NdJ("input",function(e){return t.handleChangePosition("x",e)}),h.qZA(),h.qZA(),h.TgZ(13,"div",1),h.TgZ(14,"div",2),h._uU(15),h.ALo(16,"translate"),h.qZA(),h.TgZ(17,"input",4),h.NdJ("input",function(e){return t.handleChangePosition("y",e)}),h.qZA(),h.qZA(),h.TgZ(18,"div",1),h.TgZ(19,"div",2),h._uU(20),h.ALo(21,"translate"),h.qZA(),h.TgZ(22,"input",4),h.NdJ("input",function(e){return t.handleChangeSize("width",e)}),h.qZA(),h.qZA(),h.TgZ(23,"div",1),h.TgZ(24,"div",2),h._uU(25),h.ALo(26,"translate"),h.qZA(),h.TgZ(27,"input",4),h.NdJ("input",function(e){return t.handleChangeSize("height",e)}),h.qZA(),h.qZA(),h.TgZ(28,"div",1),h.TgZ(29,"div",2),h._uU(30),h.ALo(31,"translate"),h.qZA(),h.TgZ(32,"input",5),h.NdJ("colorPickerChange",function(e){return t.data.$$component.borderColor=e})("colorPickerChange",function(e){return t.handleChangeBorderColor(e)}),h.qZA(),h.qZA(),h.TgZ(33,"div",1),h.TgZ(34,"div",2),h._uU(35),h.ALo(36,"translate"),h.qZA(),h.TgZ(37,"input",5),h.NdJ("colorPickerChange",function(e){return t.data.$$component.backgroundColor=e})("colorPickerChange",function(e){return t.handleChangeBackgroundColor(e)}),h.qZA(),h.qZA(),h.TgZ(38,"div",1),h.TgZ(39,"div",2),h._uU(40),h.ALo(41,"translate"),h.qZA(),h.TgZ(42,"input",4),h.NdJ("input",function(e){return t.handleChangeLayer(e)}),h.qZA(),h.qZA(),h.qZA()),2&e&&(h.xp6(2),h.Oqu(t.data.$$component.name),h.xp6(3),h.Oqu(h.lcZ(6,29,"name")),h.xp6(2),h.Q6J("value",t.data.$$component.name),h.xp6(3),h.Oqu(h.lcZ(11,31,"x")),h.xp6(2),h.Q6J("value",t.data.$$component.x),h.xp6(3),h.Oqu(h.lcZ(16,33,"y")),h.xp6(2),h.Q6J("value",t.data.$$component.y),h.xp6(3),h.Oqu(h.lcZ(21,35,"width")),h.xp6(2),h.Q6J("value",t.data.$$component.width),h.xp6(3),h.Oqu(h.lcZ(26,37,"height")),h.xp6(2),h.Q6J("value",t.data.$$component.height),h.xp6(3),h.Oqu(h.lcZ(31,39,"borderColor")),h.xp6(2),h.Udp("background",t.data.$$component.borderColor),h.Q6J("cpOKButton","Ok")("cpPosition","auto")("colorPicker",t.data.$$component.borderColor)("cpPositionOffset","-5%")("cpOutputFormat","hex"),h.xp6(3),h.Oqu(h.lcZ(36,41,"backgroundColor")),h.xp6(2),h.Udp("background",t.data.$$component.backgroundColor),h.Q6J("cpOKButton","Ok")("cpPosition","auto")("colorPicker",t.data.$$component.backgroundColor)("cpPositionOffset","-5%")("cpOutputFormat","hex"),h.xp6(3),h.Oqu(h.lcZ(41,43,"layer")),h.xp6(2),h.Q6J("value",t.data.$$component.layer))},directives:[u.Kk],pipes:[d.X$],styles:[".property-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%}",".property-window[_ngcontent-%COMP%]{position:absolute;top:0;left:0;background-color:#ffffffe0;border:1px solid #666;z-index:1000001;padding:8px;border-radius:5px}.property-window.show[_ngcontent-%COMP%]{display:block}.property-window[_ngcontent-%COMP%]   .property-box[_ngcontent-%COMP%]{margin:10px 0}.property-window[_ngcontent-%COMP%]   .property-box[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:14px}.property-window[_ngcontent-%COMP%]   .property-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:2px 4px}.property-window[_ngcontent-%COMP%]   .property-box[_ngcontent-%COMP%]   .value.invalid[_ngcontent-%COMP%]{border:1px solid red;outline:1px solid red}"]}),e})(),L=(()=>{class e{constructor(){}ngOnInit(){}stopPropagation(e){e.stopPropagation()}handleChangeBackgroundColor(e){this.data.$$component.backgroundColor=e,this.data.$$componentSvg.attr({style:{fill:e}}),this.data.updateCode()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=h.Xpm({type:e,selectors:[["app-screen-prop-window"]],decls:8,vars:10,consts:[[1,"property-window",3,"mousedown"],[1,"property-box"],[1,"name"],["readonly","readonly","spellcheck","false",1,"back_input",3,"cpOKButton","cpPosition","colorPicker","cpPositionOffset","cpOutputFormat","colorPickerChange"]],template:function(e,t){1&e&&(h.TgZ(0,"div",0),h.NdJ("mousedown",function(e){return t.stopPropagation(e)}),h.TgZ(1,"h3"),h._uU(2,"Screen"),h.qZA(),h.TgZ(3,"div",1),h.TgZ(4,"div",2),h._uU(5),h.ALo(6,"translate"),h.qZA(),h.TgZ(7,"input",3),h.NdJ("colorPickerChange",function(e){return t.data.$$component.backgroundColor=e})("colorPickerChange",function(e){return t.handleChangeBackgroundColor(e)}),h.qZA(),h.qZA(),h.qZA()),2&e&&(h.xp6(5),h.Oqu(h.lcZ(6,8,"backgroundColor")),h.xp6(2),h.Udp("background",t.data.$$component.backgroundColor),h.Q6J("cpOKButton","Ok")("cpPosition","auto")("colorPicker",t.data.$$component.backgroundColor)("cpPositionOffset","-5%")("cpOutputFormat","hex"))},directives:[u.Kk],pipes:[d.X$],styles:[".property-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%}",".property-window[_ngcontent-%COMP%]{position:absolute;top:0;left:0;background-color:#ffffffe0;border:1px solid #666;z-index:1000001;padding:8px;border-radius:5px}.property-window.show[_ngcontent-%COMP%]{display:block}.property-window[_ngcontent-%COMP%]   .property-box[_ngcontent-%COMP%]{margin:10px 0}.property-window[_ngcontent-%COMP%]   .property-box[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:14px}.property-window[_ngcontent-%COMP%]   .property-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:2px 4px}.property-window[_ngcontent-%COMP%]   .property-box[_ngcontent-%COMP%]   .value.invalid[_ngcontent-%COMP%]{border:1px solid red;outline:1px solid red}"]}),e})();const U=["titleText"];let B=(()=>{class e{constructor(){}ngOnInit(){}ngAfterViewInit(){if(this.titleText){let e=this.titleText.nativeElement.value;this.titleText.nativeElement.focus({preventScroll:!0}),this.titleText.nativeElement.setSelectionRange(0,e.length)}}stopPropagation(e){e.stopPropagation()}handleChangeName(e){this.data.checkValue(s.pA.NAME,e)||(this.data.$$component.setProp(s.pA.NAME,e.target.value),this.data.updateCode())}updateCode(){this.data.updateCode()}handleChangeColor(e){this.data.$$componentSvg.attr({style:{textFill:e}}),this.updateCode()}handleChangeBackgroundColor(e){this.data.$$componentSvg.attr({style:{fill:e}}),this.updateCode()}handleChangeTextOffset(e){if(this.data.checkValue(s.pA.TEXTOFFSET,e))return;let t=this.data.scaleRatio;this.data.$$component.setProp(s.pA.TEXTOFFSET,e.target.value),this.data.$$componentSvg.attr({style:{textPosition:[e.target.value,20*t/2-12*t/2]}}),this.updateCode()}handleChangeText(e){this.data.checkValue(s.pA.TEXT,e)||(this.data.$$component.setProp(s.pA.TEXT,e.target.value),this.data.$$componentSvg.attr({style:{text:e.target.value}}),this.updateCode())}handleChangeLayer(e){this.data.checkValue(s.pA.LAYER,e)||(this.data.$$component.setProp(s.pA.LAYER,e.target.value),this.data.$$componentSvg.attr({z:e.target.value}),this.data.updateCode())}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=h.Xpm({type:e,selectors:[["app-title-prop-window"]],viewQuery:function(e,t){if(1&e&&h.Gf(U,5),2&e){let e;h.iGM(e=h.CRH())&&(t.titleText=e.first)}},decls:34,vars:37,consts:[[1,"property-window",3,"mousedown"],[1,"property-box"],[1,"name"],[1,"value",3,"value","input","keydown"],["readonly","readonly","spellcheck","false",1,"back_input",3,"cpOKButton","cpPosition","colorPicker","cpPositionOffset","cpOutputFormat","colorPickerChange"],["type","number",1,"value",3,"value","input"],[1,"value",3,"value","input"],["titleText",""]],template:function(e,t){1&e&&(h.TgZ(0,"div",0),h.NdJ("mousedown",function(e){return t.stopPropagation(e)}),h.TgZ(1,"h3"),h._uU(2),h.qZA(),h.TgZ(3,"div",1),h.TgZ(4,"div",2),h._uU(5),h.ALo(6,"translate"),h.qZA(),h.TgZ(7,"input",3),h.NdJ("input",function(e){return t.handleChangeName(e)})("keydown",function(e){return t.data.handleKeydown(e)}),h.qZA(),h.qZA(),h.TgZ(8,"div",1),h.TgZ(9,"div",2),h._uU(10),h.ALo(11,"translate"),h.qZA(),h.TgZ(12,"input",4),h.NdJ("colorPickerChange",function(e){return t.data.$$component.color=e})("colorPickerChange",function(e){return t.handleChangeColor(e)}),h.qZA(),h.qZA(),h.TgZ(13,"div",1),h.TgZ(14,"div",2),h._uU(15),h.ALo(16,"translate"),h.qZA(),h.TgZ(17,"input",4),h.NdJ("colorPickerChange",function(e){return t.data.$$component.backgroundColor=e})("colorPickerChange",function(e){return t.handleChangeBackgroundColor(e)}),h.qZA(),h.qZA(),h.TgZ(18,"div",1),h.TgZ(19,"div",2),h._uU(20),h.ALo(21,"translate"),h.qZA(),h.TgZ(22,"input",5),h.NdJ("input",function(e){return t.handleChangeTextOffset(e)}),h.qZA(),h.qZA(),h.TgZ(23,"div",1),h.TgZ(24,"div",2),h._uU(25),h.ALo(26,"translate"),h.qZA(),h.TgZ(27,"input",6,7),h.NdJ("input",function(e){return t.handleChangeText(e)}),h.qZA(),h.qZA(),h.TgZ(29,"div",1),h.TgZ(30,"div",2),h._uU(31),h.ALo(32,"translate"),h.qZA(),h.TgZ(33,"input",5),h.NdJ("input",function(e){return t.handleChangeLayer(e)}),h.qZA(),h.qZA(),h.qZA()),2&e&&(h.xp6(2),h.Oqu(t.data.$$component.name),h.xp6(3),h.Oqu(h.lcZ(6,25,"name")),h.xp6(2),h.Q6J("value",t.data.$$component.name),h.xp6(3),h.Oqu(h.lcZ(11,27,"color")),h.xp6(2),h.Udp("background",t.data.$$component.color),h.Q6J("cpOKButton","Ok")("cpPosition","right")("colorPicker",t.data.$$component.color)("cpPositionOffset","-5%")("cpOutputFormat","hex"),h.xp6(3),h.Oqu(h.lcZ(16,29,"backgroundColor")),h.xp6(2),h.Udp("background",t.data.$$component.backgroundColor),h.Q6J("cpOKButton","Ok")("cpPosition","right")("colorPicker",t.data.$$component.backgroundColor)("cpPositionOffset","-5%")("cpOutputFormat","hex"),h.xp6(3),h.Oqu(h.lcZ(21,31,"textOffset")),h.xp6(2),h.Q6J("value",t.data.$$component.textOffset),h.xp6(3),h.Oqu(h.lcZ(26,33,"text")),h.xp6(2),h.Q6J("value",t.data.$$component.text),h.xp6(4),h.Oqu(h.lcZ(32,35,"layer")),h.xp6(2),h.Q6J("value",t.data.$$component.layer))},directives:[u.Kk],pipes:[d.X$],styles:[".property-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%}",".property-window[_ngcontent-%COMP%]{position:absolute;top:0;left:0;background-color:#ffffffe0;border:1px solid #666;z-index:1000001;padding:8px;border-radius:5px}.property-window.show[_ngcontent-%COMP%]{display:block}.property-window[_ngcontent-%COMP%]   .property-box[_ngcontent-%COMP%]{margin:10px 0}.property-window[_ngcontent-%COMP%]   .property-box[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:14px}.property-window[_ngcontent-%COMP%]   .property-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:2px 4px}.property-window[_ngcontent-%COMP%]   .property-box[_ngcontent-%COMP%]   .value.invalid[_ngcontent-%COMP%]{border:1px solid red;outline:1px solid red}"]}),e})(),D=(()=>{class e{constructor(){}ngOnInit(){}stopPropagation(e){e.stopPropagation()}handleChangeName(e){this.data.checkValue(s.pA.NAME,e)||(this.data.$$component.setProp(s.pA.NAME,e.target.value),this.data.updateCode())}handleChangePosition(e,t){if(this.data.checkValue(e,t))return;let i=this.data.scaleRatio;this.data.$$component.setProp(e,t.target.value);let n=Math.min(this.data.$$component.x1,this.data.$$component.x2,this.data.$$component.x3)*i,o=Math.min(this.data.$$component.y1,this.data.$$component.y2,this.data.$$component.y3)*i;this.data.$$box.attr({position:[n,o+50]}),this.data.$$componentSvg.attr({shape:{points:[[this.data.$$component.x1*i-n,this.data.$$component.y1*i-o],[this.data.$$component.x2*i-n,this.data.$$component.y2*i-o],[this.data.$$component.x3*i-n,this.data.$$component.y3*i-o]]}}),this.data.updateCode()}handleChangeBorderColor(e){this.data.$$componentSvg.attr({style:{stroke:e}}),this.data.updateCode()}handleChangeBackgroundColor(e){this.data.$$componentSvg.attr({style:{fill:e}}),this.data.updateCode()}handleChangeLayer(e){this.data.checkValue(s.pA.LAYER,e)||(this.data.$$component.setProp(s.pA.LAYER,e.target.value),this.data.$$componentSvg.attr({z:e.target.value}),this.data.updateCode())}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=h.Xpm({type:e,selectors:[["app-triangle-prop-window"]],decls:53,vars:53,consts:[[1,"property-window",3,"mousedown"],[1,"property-box"],[1,"name"],[1,"value",3,"value","input","keydown"],["type","number",1,"value",3,"value","input"],["readonly","readonly","spellcheck","false",1,"back_input",3,"cpOKButton","cpPosition","colorPicker","cpPositionOffset","cpOutputFormat","colorPickerChange"]],template:function(e,t){1&e&&(h.TgZ(0,"div",0),h.NdJ("mousedown",function(e){return t.stopPropagation(e)}),h.TgZ(1,"h3"),h._uU(2),h.qZA(),h.TgZ(3,"div",1),h.TgZ(4,"div",2),h._uU(5),h.ALo(6,"translate"),h.qZA(),h.TgZ(7,"input",3),h.NdJ("input",function(e){return t.handleChangeName(e)})("keydown",function(e){return t.data.handleKeydown(e)}),h.qZA(),h.qZA(),h.TgZ(8,"div",1),h.TgZ(9,"div",2),h._uU(10),h.ALo(11,"translate"),h.qZA(),h.TgZ(12,"input",4),h.NdJ("input",function(e){return t.handleChangePosition("x1",e)}),h.qZA(),h.qZA(),h.TgZ(13,"div",1),h.TgZ(14,"div",2),h._uU(15),h.ALo(16,"translate"),h.qZA(),h.TgZ(17,"input",4),h.NdJ("input",function(e){return t.handleChangePosition("y1",e)}),h.qZA(),h.qZA(),h.TgZ(18,"div",1),h.TgZ(19,"div",2),h._uU(20),h.ALo(21,"translate"),h.qZA(),h.TgZ(22,"input",4),h.NdJ("input",function(e){return t.handleChangePosition("x2",e)}),h.qZA(),h.qZA(),h.TgZ(23,"div",1),h.TgZ(24,"div",2),h._uU(25),h.ALo(26,"translate"),h.qZA(),h.TgZ(27,"input",4),h.NdJ("input",function(e){return t.handleChangePosition("y2",e)}),h.qZA(),h.qZA(),h.TgZ(28,"div",1),h.TgZ(29,"div",2),h._uU(30),h.ALo(31,"translate"),h.qZA(),h.TgZ(32,"input",4),h.NdJ("input",function(e){return t.handleChangePosition("x3",e)}),h.qZA(),h.qZA(),h.TgZ(33,"div",1),h.TgZ(34,"div",2),h._uU(35),h.ALo(36,"translate"),h.qZA(),h.TgZ(37,"input",4),h.NdJ("input",function(e){return t.handleChangePosition("y3",e)}),h.qZA(),h.qZA(),h.TgZ(38,"div",1),h.TgZ(39,"div",2),h._uU(40),h.ALo(41,"translate"),h.qZA(),h.TgZ(42,"input",5),h.NdJ("colorPickerChange",function(e){return t.data.$$component.borderColor=e})("colorPickerChange",function(e){return t.handleChangeBorderColor(e)}),h.qZA(),h.qZA(),h.TgZ(43,"div",1),h.TgZ(44,"div",2),h._uU(45),h.ALo(46,"translate"),h.qZA(),h.TgZ(47,"input",5),h.NdJ("colorPickerChange",function(e){return t.data.$$component.backgroundColor=e})("colorPickerChange",function(e){return t.handleChangeBackgroundColor(e)}),h.qZA(),h.qZA(),h.TgZ(48,"div",1),h.TgZ(49,"div",2),h._uU(50),h.ALo(51,"translate"),h.qZA(),h.TgZ(52,"input",4),h.NdJ("input",function(e){return t.handleChangeLayer(e)}),h.qZA(),h.qZA(),h.qZA()),2&e&&(h.xp6(2),h.Oqu(t.data.$$component.name),h.xp6(3),h.Oqu(h.lcZ(6,33,"name")),h.xp6(2),h.Q6J("value",t.data.$$component.name),h.xp6(3),h.Oqu(h.lcZ(11,35,"x1")),h.xp6(2),h.Q6J("value",t.data.$$component.x1),h.xp6(3),h.Oqu(h.lcZ(16,37,"y1")),h.xp6(2),h.Q6J("value",t.data.$$component.y1),h.xp6(3),h.Oqu(h.lcZ(21,39,"x2")),h.xp6(2),h.Q6J("value",t.data.$$component.x2),h.xp6(3),h.Oqu(h.lcZ(26,41,"y2")),h.xp6(2),h.Q6J("value",t.data.$$component.y2),h.xp6(3),h.Oqu(h.lcZ(31,43,"x3")),h.xp6(2),h.Q6J("value",t.data.$$component.x3),h.xp6(3),h.Oqu(h.lcZ(36,45,"y3")),h.xp6(2),h.Q6J("value",t.data.$$component.y3),h.xp6(3),h.Oqu(h.lcZ(41,47,"borderColor")),h.xp6(2),h.Udp("background",t.data.$$component.borderColor),h.Q6J("cpOKButton","Ok")("cpPosition","auto")("colorPicker",t.data.$$component.borderColor)("cpPositionOffset","-5%")("cpOutputFormat","hex"),h.xp6(3),h.Oqu(h.lcZ(46,49,"backgroundColor")),h.xp6(2),h.Udp("background",t.data.$$component.backgroundColor),h.Q6J("cpOKButton","Ok")("cpPosition","auto")("colorPicker",t.data.$$component.backgroundColor)("cpPositionOffset","-5%")("cpOutputFormat","hex"),h.xp6(3),h.Oqu(h.lcZ(51,51,"layer")),h.xp6(2),h.Q6J("value",t.data.$$component.layer))},directives:[u.Kk],pipes:[d.X$],styles:[".property-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%}",".property-window[_ngcontent-%COMP%]{position:absolute;top:0;left:0;background-color:#ffffffe0;border:1px solid #666;z-index:1000001;padding:8px;border-radius:5px}.property-window.show[_ngcontent-%COMP%]{display:block}.property-window[_ngcontent-%COMP%]   .property-box[_ngcontent-%COMP%]{margin:10px 0}.property-window[_ngcontent-%COMP%]   .property-box[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:14px}.property-window[_ngcontent-%COMP%]   .property-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:2px 4px}.property-window[_ngcontent-%COMP%]   .property-box[_ngcontent-%COMP%]   .value.invalid[_ngcontent-%COMP%]{border:1px solid red;outline:1px solid red}"]}),e})();var N=i(13479),F=i(22e3),H=i(8318),$=i(52634);let z=(()=>{class e{constructor(e,t,i,n,o,r,s){this.appRef=e,this.resolver=t,this.injector=i,this.storeSrv=n,this.codeEditorSrv=o,this.uploadSrv=r,this.simulatorSrv=s,this.IsNameRepetition=N.g.prototype.IsNmeRepetition}open(e){null!=this.component&&(this.appRef.detachView(this.ref.hostView),this.component=null);const{$$component:t,$$componentSvg:i,$$box:n,cursorX:o,cursorY:r,scaleRatio:a,target:l}=e;let c=this.getPropWindowType(t),h=l;t.type===s.Eq.SCREEN&&(h=l.__zr.dom),this.component=this.resolver.resolveComponentFactory(c);let u=document.body.appendChild(document.createElement(this.component.selector));this.ref=this.component.create(this.injector,[],u),this.appRef.attachView(this.ref.hostView);const d=h.getBoundingClientRect();let p=u.firstChild,g=0,f=0;if(t.type!==s.Eq.SCREEN){let e=p.getBoundingClientRect().width,o=p.getBoundingClientRect().height;o+=t.type===s.Eq.TRIANGLE?195:t.type===s.Eq.LABELPLUS?450:t.type===s.Eq.IMAGEPLUS?260:160;let r=t.type===s.Eq.CIRCLE?i.getBoundingRect().width/2:i.getBoundingRect().width,a=n.position[0]+d.left+e+r+10;n.position[0]+r>d.width&&(a-=n.position[0]+r-d.width),n.position[1]+o+d.top>window.innerHeight?(g=window.innerHeight-o,t.type===s.Eq.LINE&&(g+=20)):(g=n.position[1]+d.top,n.position[1]+d.top<0&&(g-=n.position[1]+d.top-10)),a>window.innerWidth?(f=n.position[0]+d.x-e-10,t.type===s.Eq.CIRCLE&&(f-=r)):(f=n.position[0]+d.x+r+10,n.position[0]+r>d.width&&(f-=n.position[0]+r-d.width))}p.style.transform=t.type===s.Eq.SCREEN?`translate(${o+d.x+10}px, ${r+d.y-80-(r+d.y-80<5?r+d.y-85:0)}px)`:t.type===s.Eq.TITLE?`translate(${o+d.x+30}px, ${g+20}px)`:`translate(${f}px, ${g}px)`,this.ref.instance.data={$$box:n,$$component:t,$$componentSvg:i,deviceInfo$:this.storeSrv.getDeviceInfo(),scaleRatio:a,updateCode:()=>{this.codeEditorSrv.updateWorkspaceValue()},loadImage:e=>this.uploadSrv.reloadImg(e),checkValue:(e,t)=>this.checkValue(e,t),handleKeydown:e=>this.handleKeydown(e)}}getPropWindowType(e){switch(e.type){case s.Eq.SCREEN:return L;case s.Eq.TITLE:return B;case s.Eq.LABEL:return P;case s.Eq.RECTANGLE:return q;case s.Eq.CIRCLE:return p;case s.Eq.IMAGE:return x;case s.Eq.TRIANGLE:return D;case s.Eq.LINE:return R;case s.Eq.LABELPLUS:return P;case s.Eq.IMAGEPLUS:return x;default:return}}close(){null!=this.component&&(this.appRef.detachView(this.ref.hostView),this.component=null)}zoomout(){null!=this.component&&(this.appRef.detachView(this.ref.hostView),this.component=null)}checkValue(e,t){let i=/^[0-9]+$/gi,n=/^\w+$/gi,o=/^[\u0020-\u007f]+$/,r=!1,a=t.target.value;switch(e){case s.pA.NAME:a=a.replace(/(^\s+)|(\s+$)/g,"_"),r=!n.test(a)||this.IsNameRepetition(a);break;case s.pA.X:case s.pA.Y:case s.pA.X1:case s.pA.Y1:case s.pA.X2:case s.pA.Y2:case s.pA.X3:case s.pA.Y3:case s.pA.WIDTH:case s.pA.HEIGHT:case s.pA.RADIUS:case s.pA.ROTATION:case s.pA.TEXTOFFSET:r=!i.test(a);break;case s.pA.LAYER:r=!(i.test(a)&&Number(a)>2);break;case s.pA.TEXT:if(a=a.replace(/(\s*)/g,""),r=!(a.length>0),a.length>0)if(o.test(t.target.value))r=!1;else{let e=this.ref.instance.data.$$component.font;r=e!=s.co.FONT_UNICODE&&e!=s.co.FONT_UNICODE_16PX}}return r?t.target.classList.add("invalid"):t.target.classList.remove("invalid"),r}handleKeydown(e){if(32==e.keyCode)return e.preventDefault(),!1}}return e.\u0275fac=function(t){return new(t||e)(h.LFG(h.z2F),h.LFG(h._Vd),h.LFG(h.zs3),h.LFG(F.d),h.LFG(H.h),h.LFG($.C),h.LFG(J))},e.\u0275prov=h.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var V=i(61797),K=i(4829);const W=["win"],G=["content"];function Y(e,t){if(1&e&&(h.TgZ(0,"option",11),h._uU(1),h.qZA()),2&e){const e=t.$implicit;h.Q6J("value",e.value),h.xp6(1),h.Oqu(17===e.value?e.size+"(24hz)":e.size)}}function j(e,t){if(1&e){const e=h.EpF();h.TgZ(0,"button",12),h.NdJ("click",function(){return h.CHM(e),h.oxw().handleMinimiseWindow()}),h.TgZ(1,"span",13),h._uU(2,"__"),h.qZA(),h.qZA()}}let X=(()=>{class e{constructor(e,t,i,n,o,r){this.screenSimulatorSrv=e,this.screenBoxSrv=t,this.storeSrv=i,this.codeEditorSrv=n,this.globalOperatorSrv=o,this.zrenderHelperSrv=r,this.sizeList=[{value:17,size:"1920 x 1080"},{value:0,size:"1280 x 720"},{value:1,size:"960 x 540"},{value:2,size:"800 x 600"},{value:3,size:"640 x 480"},{value:4,size:"640 x 400"},{value:5,size:"640 x 360"},{value:6,size:"512 x 212"},{value:7,size:"256 x 192"},{value:8,size:"320 x 240"},{value:9,size:"240 x 320"},{value:10,size:"200 x 200"},{value:11,size:"240 x 135"},{value:12,size:"135 x 240"},{value:13,size:"160 x 160"},{value:14,size:"160 x 80"},{value:15,size:"80 x 160"},{value:16,size:"80 x 80"}],this.headerHeight=24,this.toolboxHeight=50,this.borderWidth=1,this.movable=!1,this.currentPosX=0,this.currentPosY=0,this.transformX=0,this.transformY=0,this.currentSizeStyle=0,this.canvas=null,this.screen=null,this.screenInstance=null,this.trash=null,this.scaleRatio=s.Vj.X1,this.rotate=Math.PI/-180,this.selectedBox=null,this.isKeyDown=!1,this.isMoved=!1,this.keydown=this.keyDown.bind(this),this.keyup=this.keyUp.bind(this),this.screenclick=this.screenClick.bind(this),this.screenType="default"}ngOnInit(){document.body.addEventListener("mousedown",()=>{this.screenBoxSrv.close()}),this.storeSrv.componentList.value.length&&(this.screenInstance=this.storeSrv.componentList.value.find(e=>e.id===("default"===this.screenType?"__atom_display_screen":`__${this.screenType}_screen`)),this.currentSizeStyle=this.screenInstance?this.screenInstance.size:0)}ngAfterViewInit(){this.adjustWindowSize(this.currentSizeStyle),this.initCanvas(),this.storeSrv.componentList.value.length&&this.redrawSvg()}adjustWindowSize(e){const t=this.sizeList.find(t=>t.value==e).size.split(" x "),i=this.win.nativeElement;let n=parseInt(t[0]),o=parseInt(t[1]);this.scaleRatio=n<640&&n>=240?s.Vj.X2:n<240&&n>=100?s.Vj.X3:n<100?s.Vj.X5:n>1280?s.Vj.X075:s.Vj.X1,i.style.width=n*this.scaleRatio+2*this.borderWidth+"px",i.style.height=`${o*this.scaleRatio+this.headerHeight+this.toolboxHeight+this.borderWidth}px`,i.style.transform="translate(0, 0)",this.screenSimulatorSrv.updateWindowSize(n,o)}handleWindowSizeChange(e){this.currentSizeStyle=parseInt(e.target.value),this.adjustWindowSize(e.target.value),this.storeSrv.removeComponentAll(this.screenType),this.screenInstance=null,this.initCanvas(),this.codeEditorSrv.updateWorkspaceValue()}handleCloseWindow(){"default"!==this.screenType?c().fire({icon:"warning",html:"<p>Are you sure to close the screen simulator ?</p><p>It will remove all UI components.</p>",confirmButtonColor:window.Blockly.Msg.SWAL_DANGER_HUE,confirmButtonText:"Confirm",showCancelButton:!0,allowOutsideClick:!1}).then(e=>{e.isConfirmed&&(this.screenSimulatorSrv.destroy(),this.selectedBox=null,clearTimeout(this.keydownTimer),this.storeSrv.removeComponentAll(this.screenType))}):(this.screenSimulatorSrv.destroy(),this.selectedBox=null,clearTimeout(this.keydownTimer))}handleMinimiseWindow(){this.screenSimulatorSrv.close(),this.selectedBox=null,clearTimeout(this.keydownTimer)}handleMoveWindowStart(e){this.movable=!0,this.currentPosX=e.clientX,this.currentPosY=e.clientY;let t=document.defaultView.getComputedStyle(this.win.nativeElement).transform.replace("matrix","").replace("(","").replace(")","").split(",");this.transformX=parseInt(t[4])||0,this.transformY=parseInt(t[5])||0;let i=this.handleMoveWindow.bind(this),n=()=>{document.body.removeEventListener("mousemove",i),document.body.removeEventListener("mouseup",n)};document.body.addEventListener("mousemove",i),document.body.addEventListener("mouseup",n)}handleMoveWindow(e){this.win.nativeElement.style.transform=`translate(${e.clientX-this.currentPosX+this.transformX}px, ${e.clientY-this.currentPosY+this.transformY}px)`}initCanvas(){const e=this.sizeList.find(e=>e.value==this.currentSizeStyle).size.split(" x ");let t=parseInt(e[0]),i=parseInt(e[1]);this.canvas=n.init(this.content.nativeElement,{renderer:"canvas",width:t*this.scaleRatio,height:i*this.scaleRatio+this.toolboxHeight}),this.screenInstance||(this.screenInstance=new r.k7({id:"default"===this.screenType?"__atom_display__screen":`__${this.screenType}_screen`,backgroundColor:"#000000",width:t,height:i,size:this.currentSizeStyle,screenType:this.screenType}),this.storeSrv.addComponent(this.screenInstance,this.screenType)),this.screen=new n.Rect({shape:{r:0,x:0,y:this.toolboxHeight,width:t*this.scaleRatio,height:i*this.scaleRatio},style:{fill:this.screenInstance.backgroundColor,lineWidth:0},cursor:"default"}),this.screen.on("mousedown",e=>{e.event.stopPropagation(),this.screenBoxSrv.open({$$component:this.screenInstance,$$componentSvg:this.screen,cursorX:e.offsetX,cursorY:e.offsetY,target:e.target}),this.selectedBox=null,clearTimeout(this.keydownTimer)});let o=new n.Image({style:{image:"../../assets/images/trash.png",x:10,y:10,width:30,height:30,opacity:.6}}),s=new n.Rect({shape:{x:0,y:0,width:50,height:50},style:{fill:"#232323"}}),a=new n.Group({});a.position=[t*this.scaleRatio-50,0],a.add(s),a.add(o),this.trash=a,this.canvas.add(this.screen),this.canvas.add(a),this.createToolbar(),this.screenSimulatorSrv.bindKeyDown(this.keydown),this.screenSimulatorSrv.bindKeyUp(this.keyup),this.screenSimulatorSrv.bindScreenClick(this.screenclick)}createToolbar(){const e=new o.v({icon:"title.jpg",builder:r.r3}),t=new o.v({icon:"label.jpg",builder:r._n}),i=new o.v({icon:"rect.jpg",builder:r.b8}),a=new o.v({icon:"circle.jpg",builder:r.HF}),l=new o.v({icon:"image.jpg",builder:r.cu}),c=new o.v({icon:"triangle.jpg",builder:r.RQ}),h=new o.v({icon:"line.jpg",builder:r.yk}),u=new o.v({icon:"labelplus.jpg",builder:r.ju}),d=new o.v({icon:"imageplus.jpg",builder:r.Di});let p=new o.u([e,t,i,a,l,c,h]);"default"===this.screenType&&(p=new o.u([e,t,u,i,a,l,d,c,h])),p.toolList.forEach((e,t)=>{const i=new n.Image({style:{x:0+50*t,y:0,width:50,height:50,image:"../../assets/images/components/"+e.icon},cursor:"pointer",z:1,draggable:!0}),o=new n.Rect({shape:{x:0+50*t,y:0,width:50,height:50},style:{fill:"transparent"},z:10,$$uiType:e});o.on("mousedown",e=>{let t=this.getDefaultSize(),i=new e.target.$$uiType.builder({name:"",layer:99999});i.name=this.storeSrv.getComponentDefaultName(`${"default"===this.screenType?"":this.screenType+"_"}${i.type}`),i.screenType=this.screenType,i.font=s.co.DEFAULT,"default"!==i.screenType&&(("line"===i.type||"label"===i.type||i.type===s.Eq.LABELPLUS)&&(i.color="#FFFFFF"),"title"!==i.type&&(i.backgroundColor="#FFFFFF",i.borderColor="#FFFFFF")),(i.type===s.Eq.LABEL||i.type===s.Eq.LABELPLUS)&&(i.text=i.name);let o=this.createComponentSvg(i),r=new n.Group({});this.selectedBox=null,clearTimeout(this.keydownTimer);let a=null;switch(i.type){case s.Eq.TITLE:r.position=[e.offsetX-o.shape.width/2,e.offsetY-o.shape.height/2],o.attr({shape:{width:this.screen.shape.width,height:20*this.scaleRatio,x:0,y:0}}),a=this.createTitleComponentSvg(i);break;case s.Eq.LABEL:{let t=Math.floor(e.offsetX-o.getBoundingRect().width/2),n=Math.floor(e.offsetY-o.getBoundingRect().height/2);o.attr("position",[t,n]),a=this.createLabelComponentSvg(i);break}case s.Eq.LABELPLUS:{let t=Math.floor(e.offsetX-o.getBoundingRect().width/2),n=Math.floor(e.offsetY-o.getBoundingRect().height/2);o.attr("position",[t,n]),a=this.createLabelPlusComponentSvg(i);break}case s.Eq.RECTANGLE:{let n=Math.floor(e.offsetX-o.getBoundingRect().width/2),r=Math.floor(e.offsetY-o.getBoundingRect().height/2);o.attr("position",[n,r]),o.attr({shape:{width:t.width*this.scaleRatio,height:t.width*this.scaleRatio}}),i.width=t.width,i.height=t.width,a=this.createRectComponentSvg(i);break}case s.Eq.CIRCLE:o.attr("position",[e.offsetX,e.offsetY]),a=this.createCircleComponentSvg(i);break;case s.Eq.TRIANGLE:o.attr("position",[e.offsetX,e.offsetY]),a=this.createTriangleComponentSvg(i);break;case s.Eq.IMAGE:{let t=Math.floor(e.offsetX-o.getBoundingRect().width/2),n=Math.floor(e.offsetY-o.getBoundingRect().height/2);o.attr("position",[t,n]),a=this.createImageComponentSvg(i);break}case s.Eq.IMAGEPLUS:{let t=Math.floor(e.offsetX-o.getBoundingRect().width/2),n=Math.floor(e.offsetY-o.getBoundingRect().height/2);o.attr("position",[t,n]),a=this.createImagePlusComponentSvg(i);break}case s.Eq.LINE:{let t=Math.floor(e.offsetX-o.getBoundingRect().width/2),n=Math.floor(e.offsetY-o.getBoundingRect().height/2);o.attr("position",[t,n]),a=this.createLineComponentSvg(i);break}}r.add(o),this.canvas.add(r);let l={$$floatTarget:r,$$childSvg:o,$$component:i,$$componentSvg:a,$$offsetGroup:r,$$boxMouseDownEvent:this.boxMouseDown,$$this:this,$$copy:this.copy,target:e.target};this.canvas.on("mousemove",this.handleMoveComponent,Object.assign({},this,l)),this.canvas.on("mouseup",this.handleCreateComponent,Object.assign({},this,l))}),this.canvas.add(i),this.canvas.add(o)})}getDefaultSize(){switch(this.scaleRatio){case s.Vj.X1:return{width:90,height:40};case s.Vj.X2:return{width:45,height:20};case s.Vj.X3:return{width:30,height:10};case s.Vj.X5:return{width:20,height:10};case s.Vj.X075:return{width:120,height:60};default:return{width:90,height:40}}}handleCreateComponent(e){let t=this.$$componentSvg,i=this.$$offsetGroup,o=this.$$component;if(!(e.offsetX>=0&&e.offsetX<=this.canvas.dom.clientWidth&&e.offsetY>=this.toolboxHeight&&e.offsetY<=this.canvas.dom.clientHeight))return this.canvas.remove(i),this.canvas.off("mousemove",this.handleMoveComponent),void this.canvas.off("mouseup",this.handleCreateComponent);let r=new n.Group({});switch(r.id="box_"+r.id,o.type){case s.Eq.TITLE:r.position=[0,this.toolboxHeight];break;case s.Eq.LABEL:case s.Eq.LABELPLUS:r.position=[Math.floor(e.offsetX-t.getBoundingRect().width/2),Math.floor(e.offsetY-t.getBoundingRect().height/2)],o.x=Math.floor(r.position[0]/this.scaleRatio),o.y=Math.floor((r.position[1]-50)/this.scaleRatio);break;case s.Eq.RECTANGLE:r.position=[Math.floor(e.offsetX-t.getBoundingRect().width/2),Math.floor(e.offsetY-t.getBoundingRect().height/2)],o.x=Math.floor(r.position[0]/this.scaleRatio),o.y=Math.floor((r.position[1]-50)/this.scaleRatio),o.width=Math.floor(t.shape.width/this.scaleRatio),o.height=Math.floor(t.shape.height/this.scaleRatio);break;case s.Eq.IMAGE:case s.Eq.IMAGEPLUS:r.position=[Math.floor(e.offsetX-t.getBoundingRect().width/2),Math.floor(e.offsetY-t.getBoundingRect().height/2)],o.x=Math.floor(r.position[0]/this.scaleRatio),o.y=Math.floor((r.position[1]-50)/this.scaleRatio);break;case s.Eq.LINE:r.position=[Math.floor(e.offsetX-t.getBoundingRect().width/2),Math.floor(e.offsetY-t.getBoundingRect().height/2)],o.x1=Math.floor((r.position[0]+t.childAt(0).shape.x1)/this.scaleRatio),o.y1=Math.floor((r.position[1]-50+t.childAt(0).shape.y1)/this.scaleRatio),o.x2=Math.floor((r.position[0]+t.childAt(0).shape.x2)/this.scaleRatio),o.y2=Math.floor((r.position[1]-50+t.childAt(0).shape.y2)/this.scaleRatio);break;case s.Eq.CIRCLE:r.position=[e.offsetX,e.offsetY],o.x=Math.floor(e.offsetX/this.scaleRatio),o.y=Math.floor((e.offsetY-this.toolboxHeight)/this.scaleRatio);break;case s.Eq.TRIANGLE:r.position=[e.offsetX,e.offsetY],o.x1=Math.floor((e.offsetX+t.shape.points[0][0])/this.scaleRatio),o.y1=Math.floor((e.offsetY-this.toolboxHeight+t.shape.points[0][1])/this.scaleRatio),o.x2=Math.floor((e.offsetX+t.shape.points[1][0])/this.scaleRatio),o.y2=Math.floor((e.offsetY-this.toolboxHeight+t.shape.points[1][1])/this.scaleRatio),o.x3=Math.floor((e.offsetX+t.shape.points[2][0])/this.scaleRatio),o.y3=Math.floor((e.offsetY-this.toolboxHeight+t.shape.points[2][1])/this.scaleRatio)}r.add(t),r.on("mousedown",e=>{this.$$boxMouseDownEvent(e)}),r.on("dblclick",()=>this.$$copy()),this.canvas.remove(i),this.canvas.add(r),this.$$this.selectedBox=r,this.$$this.handleKeyDownOverTime(),o.layer=this.storeSrv.getComponentDefaultLayer(),this.storeSrv.addComponent(o,this.screenType),this.$$this.selectedBox&&window.Blockly.selected&&window.Blockly.selected.unselect(),this.codeEditorSrv.updateWorkspaceValue(),this.canvas.off("mousemove",this.handleMoveComponent),this.canvas.off("mouseup",this.handleCreateComponent)}handleMoveComponent(e){const t=this.$$floatTarget,i=this.$$childSvg;switch(this.$$component.type){case s.Eq.TITLE:t.attr({position:[e.offsetX-i.shape.width/2,e.offsetY-i.shape.height/2]});break;case s.Eq.LABEL:case s.Eq.LINE:case s.Eq.IMAGE:case s.Eq.RECTANGLE:case s.Eq.LABELPLUS:case s.Eq.IMAGEPLUS:i.attr({position:[Math.floor(e.offsetX-i.getBoundingRect().width/2),Math.floor(e.offsetY-i.getBoundingRect().height/2)]});break;case s.Eq.CIRCLE:case s.Eq.TRIANGLE:i.attr({position:[e.offsetX,e.offsetY]})}}createComponentSvg(e){switch(e.type){case s.Eq.TITLE:return this.createTitleComponentSvg(e);case s.Eq.LABEL:return this.createLabelComponentSvg(e);case s.Eq.RECTANGLE:return this.createRectComponentSvg(e);case s.Eq.CIRCLE:return this.createCircleComponentSvg(e);case s.Eq.IMAGE:return this.createImageComponentSvg(e);case s.Eq.TRIANGLE:return this.createTriangleComponentSvg(e);case s.Eq.LINE:return this.createLineComponentSvg(e);case s.Eq.LABELPLUS:return this.createLabelPlusComponentSvg(e);case s.Eq.IMAGEPLUS:return this.createImagePlusComponentSvg(e);default:return}}createTitleComponentSvg(e){const t=this.sizeList.find(e=>e.value==this.currentSizeStyle).size.split(" x ");let i=parseInt(t[0]);this.getDefaultSize();const o=new n.Rect({shape:{x:0,y:0,width:i*this.scaleRatio,height:20*this.scaleRatio},style:{fill:e.backgroundColor,textRect:{x:e.x*this.scaleRatio,y:e.y*this.scaleRatio,width:i,height:20*this.scaleRatio},text:e.text,textFill:e.color,fontSize:12*this.scaleRatio,textPosition:[e.textOffset*this.scaleRatio,20*this.scaleRatio/2-12*this.scaleRatio/2]},z:this.storeSrv.getComponentDefaultLayer(),draggable:!1});return o.id=e.id,o.position=[0,0],o.__component=e,o}createLabelComponentSvg(e){let t={family:"sans-serif",size:Math.floor(16*this.scaleRatio)};e.font===s.co.UBUNTU_C?t={family:"Ubuntu-C",size:Math.floor(16*this.scaleRatio)}:e.font===s.co.DEFAULT_SMALL?t={family:"sans-serif",size:Math.floor(12*this.scaleRatio)}:e.font===s.co.COMIC?t={family:"Comic",size:Math.floor(16*this.scaleRatio)}:e.font===s.co.DEJAVUSANS_18PX?t={family:"DejaVuSans",size:Math.floor(18*this.scaleRatio)}:e.font===s.co.DEJAVUSANS_24PX?t={family:"DejaVuSans",size:Math.floor(24*this.scaleRatio)}:e.font===s.co.DEJAVUSANS_40PX?t={family:"DejaVuSans",size:Math.floor(40*this.scaleRatio)}:e.font===s.co.DEJAVUSANS_56PX?t={family:"DejaVuSans",size:Math.floor(56*this.scaleRatio)}:e.font===s.co.DEJAVUSANS_72PX?t={family:"DejaVuSans",size:Math.floor(72*this.scaleRatio)}:e.font===s.co.FONT_UNICODE&&(t={family:"sans-serif",size:Math.floor(24*this.scaleRatio)});const i=new n.Text({style:{text:e.text,fontSize:t.size,fontFamily:t.family,textFill:e.color},draggable:!1,z:this.storeSrv.getComponentDefaultLayer(),rotation:e.rotation*this.rotate});return i.id=e.id,i.position=[0,0],i.__component=e,i}createLabelPlusComponentSvg(e){let t={family:"sans-serif",size:Math.floor(16*this.scaleRatio)};e.font===s.co.UBUNTU_C?t={family:"Ubuntu-C",size:Math.floor(16*this.scaleRatio)}:e.font===s.co.DEFAULT_SMALL?t={family:"sans-serif",size:Math.floor(12*this.scaleRatio)}:e.font===s.co.COMIC?t={family:"Comic",size:Math.floor(16*this.scaleRatio)}:e.font===s.co.DEJAVUSANS_18PX?t={family:"DejaVuSans",size:Math.floor(18*this.scaleRatio)}:e.font===s.co.DEJAVUSANS_24PX?t={family:"DejaVuSans",size:Math.floor(24*this.scaleRatio)}:e.font===s.co.DEJAVUSANS_40PX?t={family:"DejaVuSans",size:Math.floor(40*this.scaleRatio)}:e.font===s.co.DEJAVUSANS_56PX?t={family:"DejaVuSans",size:Math.floor(56*this.scaleRatio)}:e.font===s.co.DEJAVUSANS_72PX?t={family:"DejaVuSans",size:Math.floor(72*this.scaleRatio)}:e.font===s.co.FONT_UNICODE&&(t={family:"sans-serif",size:Math.floor(24*this.scaleRatio)});const i=new n.Text({style:{text:e.text,fontSize:t.size,fontFamily:t.family,textFill:e.color},draggable:!1,z:this.storeSrv.getComponentDefaultLayer(),rotation:e.rotation*this.rotate});return i.id=e.id,i.position=[0,0],i.__component=e,i}createRectComponentSvg(e){const t=new n.Rect({shape:{width:e.width*this.scaleRatio,height:e.height*this.scaleRatio},style:{fill:e.backgroundColor,stroke:e.borderColor},z:this.storeSrv.getComponentDefaultLayer(),draggable:!1});return t.id=e.id,t.position=[0,0],t.__component=e,t}createCircleComponentSvg(e){const t=new n.Circle({shape:{r:e.radius*this.scaleRatio},style:{fill:e.backgroundColor,stroke:e.borderColor},z:this.storeSrv.getComponentDefaultLayer(),draggable:!1});return t.id=e.id,t.position=[0,0],t.__component=e,t}createTriangleComponentSvg(e){const t=new n.Polygon({shape:{points:[[e.x1,e.y1],[e.x2,e.y2],[e.x3,e.y3]]},style:{fill:e.backgroundColor,stroke:e.borderColor},z:this.storeSrv.getComponentDefaultLayer(),draggable:!1});return t.id=e.id,t.position=[0,0],t.__component=e,t}createImageComponentSvg(e){const t=this.storeSrv.getType().source._value;let i=new Image;i.src=a.qU(t).img;const o=new n.Image({style:{width:100*this.scaleRatio,height:100*this.scaleRatio,image:i},z:this.storeSrv.getComponentDefaultLayer(),draggable:!1});return"default.jpg"!==e.imagePath&&this.storeSrv.getDeviceInfo().subscribe(t=>{if(!t)return;let n=t.resources;for(let r=0;r<n.length;r++){const t=n[r];t.filename===e.imagePath&&t.base64&&(i.src=t.base64,setTimeout(()=>{o.attr({style:{image:i.src,width:i.width,height:i.height}})},50))}}),o.id=e.id,o.position=[0,0],o.__component=e,o}createImagePlusComponentSvg(e){const t=this.storeSrv.getType().source._value;let i=new Image;i.src=a.qU(t).img;const o=new n.Image({style:{width:100*this.scaleRatio,height:100*this.scaleRatio,image:i},z:this.storeSrv.getComponentDefaultLayer(),draggable:!1});return"default.jpg"!==e.imagePath&&this.storeSrv.getDeviceInfo().subscribe(t=>{if(!t)return;let n=t.resources;for(let r=0;r<n.length;r++){const t=n[r];t.filename===e.imagePath&&t.base64&&(i.src=t.base64,setTimeout(()=>{o.attr({style:{image:i.src,width:i.width,height:i.height}})},50))}}),o.id=e.id,o.position=[0,0],o.__component=e,o}createLineComponentSvg(e){const t=new n.Group({}),i=new n.Line({shape:{x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2},style:{lineWidth:e.lineWidth,stroke:e.color},z:this.storeSrv.getComponentDefaultLayer(),draggable:!1}),o=new n.Line({shape:{x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2},style:{lineWidth:e.lineWidth>10?0:e.lineWidth+10,fill:"#888",stroke:"#888",opacity:.2},z:this.storeSrv.getComponentDefaultLayer(),draggable:!1});return t.add(i),t.add(o),t.id=e.id,t.position=[0,0],t.__component=e,t}redrawSvg(){this.storeSrv.componentList.value.forEach(e=>{if("screen"===e.type||!e.screenType||e.screenType!==this.screenType)return;let t=this.createComponentSvg(e),i=new n.Group({});switch(i.id="box_"+i.id,e.type){case s.Eq.TITLE:i.position=[0,this.toolboxHeight];break;case s.Eq.LABEL:case s.Eq.IMAGE:case s.Eq.RECTANGLE:case s.Eq.LABELPLUS:case s.Eq.IMAGEPLUS:case s.Eq.CIRCLE:i.position=[e.x*this.scaleRatio,e.y*this.scaleRatio+50];break;case s.Eq.LINE:let n=Math.min(e.x1,e.x2)*this.scaleRatio,o=Math.min(e.y1,e.y2)*this.scaleRatio;i.position=[n,o+50];let r={x1:e.x1*this.scaleRatio-n,y1:e.y1*this.scaleRatio-o,x2:e.x2*this.scaleRatio-n,y2:e.y2*this.scaleRatio-o};t.childAt(0).attr({shape:r}),t.childAt(1).attr({shape:r});break;case s.Eq.TRIANGLE:let a=Math.min(e.x1,e.x2,e.x3)*this.scaleRatio,l=Math.min(e.y1,e.y2,e.y3)*this.scaleRatio;i.position=[a,l+50],t.attr({shape:{points:[[e.x1*this.scaleRatio-a,e.y1*this.scaleRatio-l],[e.x2*this.scaleRatio-a,e.y2*this.scaleRatio-l],[e.x3*this.scaleRatio-a,e.y3*this.scaleRatio-l]]}})}i.add(t);let o={$$component:e,$$componentSvg:t,$$boxMouseDownEvent:this.boxMouseDown,$$this:this,$$copy:this.copy};i.on("mousedown",this.boxMouseDown,Object.assign({},this,o)),i.on("dblclick",this.copy,Object.assign({},this,o)),this.canvas.add(i)}),this.codeEditorSrv.updateWorkspaceValue(),this.canvas.off("mousemove",this.handleMoveComponent),this.canvas.off("mouseup",this.handleCreateComponent)}boxMouseDown(e){let t=e.target.parent.parent||e.target.parent,i=this.$$componentSvg,n=this.$$component,o=e.offsetX,r=e.offsetY,a=Date.now(),l=!1,c=this.$$this,h=[t.position[0],t.position[1]];c.selectedBox=t,clearTimeout(c.keydownTimer),this.trash.childAt(0).attr({style:{fill:"red",opacity:.6}}),c.selectedBox&&window.Blockly.selected&&window.Blockly.selected.unselect(),this.canvas.on("mousemove",e=>{l=!0,c.isMoved=!0;let i=t.position,n=[e.offsetX,e.offsetY];t.attr({position:[i[0]+(n[0]-o),i[1]+(n[1]-r)]}),o=e.offsetX,r=e.offsetY});let u=e=>{Date.now()-a<=300&&this.screenBoxSrv.open({cursorX:e.offsetX,cursorY:e.offsetY,$$component:n,$$componentSvg:i,$$box:t,scaleRatio:this.scaleRatio,target:e.target}),c.isMoved=!1,c.handleKeyDownOverTime(),c.handleDragOverRange(e,t,h),this.trash.childAt(0).contain(e.offsetX,e.offsetY)&&(this.canvas.remove(t),this.storeSrv.removeComponentById(n.id,this.screenType)),t.childAt(0).__component.type===s.Eq.TITLE&&t.attr({position:[0,50]}),this.trash.childAt(0).attr({style:{fill:"#232323",opacity:1}}),n.type===s.Eq.LABEL||n.type===s.Eq.LABELPLUS||n.type===s.Eq.RECTANGLE||n.type===s.Eq.CIRCLE||n.type===s.Eq.IMAGE||n.type===s.Eq.IMAGEPLUS?(n.x=Math.floor(t.position[0]/this.scaleRatio),n.y=Math.floor((t.position[1]-50)/this.scaleRatio)):n.type===s.Eq.TRIANGLE?(n.x1=Math.floor((t.position[0]+i.shape.points[0][0])/this.scaleRatio),n.y1=Math.floor((t.position[1]+i.shape.points[0][1]-50)/this.scaleRatio),n.x2=Math.floor((t.position[0]+i.shape.points[1][0])/this.scaleRatio),n.y2=Math.floor((t.position[1]+i.shape.points[1][1]-50)/this.scaleRatio),n.x3=Math.floor((t.position[0]+i.shape.points[2][0])/this.scaleRatio),n.y3=Math.floor((t.position[1]+i.shape.points[2][1]-50)/this.scaleRatio)):n.type===s.Eq.LINE&&(n.x1=Math.floor((t.position[0]+i.childAt(0).shape.x1)/this.scaleRatio),n.y1=Math.floor((t.position[1]-50+i.childAt(0).shape.y1)/this.scaleRatio),n.x2=Math.floor((t.position[0]+i.childAt(0).shape.x2)/this.scaleRatio),n.y2=Math.floor((t.position[1]-50+i.childAt(0).shape.y2)/this.scaleRatio)),this.codeEditorSrv.updateWorkspaceValue(),this.canvas.off("mousemove",null),document.body.removeEventListener("mouseup",u)};document.body.addEventListener("mouseup",u)}copy(){const e=this.scaleRatio,t=this.$$component,i=t.type,o=this.storeSrv.getComponentDefaultLayer()+1,l=this.sizeList.find(e=>e.value==this.$$this.currentSizeStyle).size.split(" x "),c=parseInt(l[0]);if([s.Eq.IMAGE,s.Eq.IMAGEPLUS,s.Eq.TITLE].includes(i))return;let h,u=Object.assign({},t);if(["rectangle","circle","label",s.Eq.TRIANGLE,s.Eq.LINE,s.Eq.LABELPLUS].includes(i)){const t=this.storeSrv.getComponentDefaultName(`${"default"===this.screenType?"":this.screenType+"_"}${i}`);if("circle"===i){const t=2*u.radius+10/e;u.x=Math.floor(u.x+(u.x+t>c?-t:+t))}else if("rectangle"===i){const t=u.width,i=t+10/e;u.x=Math.floor(u.x+(u.x+t/3+i>c?-i:+i))}else if("label"===i||i===s.Eq.LABELPLUS){const i=50;u.x=Math.floor(u.x+(u.x+i>c?-i:+i)/e),(/^(label)\d/g.test(u.text)||/^(display_module_label)\d/g.test(u.text)||/^(labelplus)\d/g.test(u.text))&&(u.text=t)}else if(i===s.Eq.TRIANGLE){const t=70,i=u.x1+t/e>c;u.x=Math.floor(u.x1+(i?-t:+t)/e),u.x1=Math.floor(u.x1+(i?-t:+t)/e),u.x2=Math.floor(u.x2+(i?-t:+t)/e),u.x3=Math.floor(u.x3+(i?-t:+t)/e)}else if(i===s.Eq.LINE){const t=60,i=u.x2+30/e>c;u.x=Math.floor(u.x1+(i?-t:+t)/e),u.x1=Math.floor(u.x1+(i?-t:+t)/e),u.x2=Math.floor(u.x2+(i?-t:+t)/e)}switch(u.id=a.EN(),u.name=t,u.layer=o,i){case"rectangle":h=new r.b8(u);break;case"circle":h=new r.HF(u);break;case"label":h=new r._n(u);break;case s.Eq.TRIANGLE:h=new r.RQ(u);break;case s.Eq.LINE:h=new r.yk(u);break;case s.Eq.LABELPLUS:h=new r.ju(u)}if(null===h)return;let l=new n.Group({});l.id="box_"+l.id;let d=this.$$this.createComponentSvg(h),p={$$component:h,$$componentSvg:d};if(l.on("mousedown",this.$$boxMouseDownEvent,Object.assign({},this,p)),l.on("dblclick",this.$$copy,Object.assign({},this,p)),i===s.Eq.TRIANGLE){let t=Math.min(h.x1,h.x2,h.x3)*e,i=Math.min(h.y1,h.y2,h.y3)*e;l.position=[t,i+50],d.attr({shape:{points:[[h.x1*e-t,h.y1*e-i],[h.x2*e-t,h.y2*e-i],[h.x3*e-t,h.y3*e-i]]}})}else if(i===s.Eq.LINE){let t=Math.min(h.x1,h.x2)*e,i=Math.min(h.y1,h.y2)*e;l.position=[t,i+50];let n={x1:h.x1*e-t,y1:h.y1*e-i,x2:h.x2*e-t,y2:h.y2*e-i};d.childAt(0).attr({shape:n}),d.childAt(1).attr({shape:n})}else l.position=[h.x*e,h.y*e+50];l.add(d),this.canvas.add(l),this.storeSrv.addComponent(h,this.screenType),this.codeEditorSrv.updateWorkspaceValue()}}keyDown(e){const t=e.key,i=["ArrowUp","ArrowLeft","ArrowRight","ArrowDown"].includes(t);e.shiftKey&&i?this.shiftAndArrowKeyControl(e):e.ctrlKey&&i?this.ctrlAndArrowKeyControl(e):i?this.arrowKeyControl(e):"Delete"===t&&this.removeUiComponent()}keyUp(e){this.selectedBox&&!this.isMoved&&this.isKeyDown&&(this.isKeyDown=!1,clearTimeout(this.keydownTimer),this.handleKeyDownOverTime())}arrowKeyControl(e){const t=e.key,i=this.selectedBox||null,n=i&&i._children[0].__component.type,o=["ArrowUp","ArrowLeft","ArrowRight","ArrowDown"].includes(t);if("title"!==n&&i&&!this.isMoved&&o){const e=i._children[0].__component,o=this.scaleRatio,r=this.sizeList.find(e=>e.value==this.currentSizeStyle).size.split(" x "),a=parseInt(r[0]),l=parseInt(r[1]);let[c,h]=i.position;const u=c%o,d=(h-50)%o,p=1*o;let g=0,f=0;if(this.isKeyDown=!0,clearTimeout(this.keydownTimer),n===s.Eq.RECTANGLE)"ArrowRight"===t&&(g=e.width),"ArrowDown"===t&&(f=e.height);else if(n===s.Eq.CIRCLE)g=e.radius,f=e.radius;else if(n===s.Eq.IMAGE||n===s.Eq.IMAGEPLUS){const{width:e,height:n}=i._children[0].style;"ArrowRight"===t&&(g=e/o),"ArrowDown"===t&&(f=n/o)}else if(n===s.Eq.TRIANGLE)if("ArrowLeft"===t){let[t,i]=[e.x1,e.x2,e.x3].sort((e,t)=>e-t);g=t<=0?i:0}else"ArrowRight"===t?g=Math.max(e.x1,e.x2,e.x3)>=a?a:0:"ArrowDown"===t&&(f=Math.max(e.y1,e.y2,e.y3)>=l?l:0);else if(n===s.Eq.LINE)f=6/o,"ArrowRight"===t?g=Math.max(e.x1,e.x2)>=a?a:0:"ArrowDown"===t&&(f=Math.max(e.y1,e.y2)>=l-6/o?l:0);else if(n===s.Eq.LABEL||n===s.Eq.LABELPLUS){const{width:e,height:n}=i._children[0].getBoundingRect();"ArrowRight"===t&&(g=e/o),"ArrowDown"===t&&(f=n/o)}switch(t){case"ArrowUp":h=h-d>f*o+50?h-p-d:h;break;case"ArrowDown":h=h-d>=(l-f)*o+50?h:h+p-d;break;case"ArrowLeft":c=c-u>g*o?c-p-u:c;break;case"ArrowRight":c=c-u>=(a-g)*o?c:c+p-u}i.attr({position:[c,h]}),this.updateWorkspaceValue(i),this.screenBoxSrv.close()}}shiftAndArrowKeyControl(e){const t=e.key,i=this.selectedBox||null;if(!e.shiftKey||!i||this.isMoved)return;const n=i._children[0].__component,o=n.type;let r,a;if(o!==s.Eq.TITLE&&o!==s.Eq.IMAGE&&o!==s.Eq.IMAGEPLUS){if(this.isKeyDown=!0,clearTimeout(this.keydownTimer),o===s.Eq.RECTANGLE)"ArrowUp"===t?(r="height",n.setProp(r,n[r]+1)):"ArrowDown"===t?(r="height",n.getProp(r)>2&&n.setProp(r,n[r]-1)):"ArrowLeft"===t?(r="width",n.getProp(r)>2&&n.setProp(r,n[r]-1)):"ArrowRight"===t&&(r="width",n.setProp(r,n[r]+1));else if(o===s.Eq.CIRCLE)r="radius","ArrowUp"===t?n.setProp(r,n[r]+1):"ArrowDown"===t&&n.getProp(r)>2&&n.setProp(r,n[r]-1);else if(o===s.Eq.LABEL||o===s.Eq.LABELPLUS){const e=n.font;let i,o=Object.values(s.co);o.splice(4,2),o.pop(),i=o;const l=i.length-1;let c=i.indexOf(e);"ArrowUp"===t?c=c===l?0:c+1:"ArrowDown"===t&&(c=0===c?l:c-1),r="font",a=i[c],n.font=a}(o!==s.Eq.LABEL||o!==s.Eq.LABELPLUS)&&(a=n[r]),this.updateSvg(i,r,a),this.codeEditorSrv.updateWorkspaceValue(),this.screenBoxSrv.close()}}ctrlAndArrowKeyControl(e){const t=e.key,i=this.selectedBox||null,n=i&&i._children[0].__component.type,o=["ArrowUp","ArrowLeft","ArrowRight","ArrowDown"].includes(t);if(![s.Eq.TITLE,s.Eq.SCREEN].includes(n)&&i&&!this.isMoved&&o){const e=i._children[0].__component,o=this.scaleRatio,r=this.sizeList.find(e=>e.value==this.currentSizeStyle).size.split(" x "),a=parseInt(r[0]),l=parseInt(r[1]);let c,h,u=0,d=0;if(this.isKeyDown=!0,clearTimeout(this.keydownTimer),n===s.Eq.RECTANGLE)"ArrowRight"===t&&(u=e.width),"ArrowDown"===t&&(d=e.height);else if(n===s.Eq.CIRCLE)u=e.radius,d=e.radius;else if(n===s.Eq.IMAGE||n===s.Eq.IMAGEPLUS){const{width:e,height:n}=i._children[0].style;"ArrowRight"===t&&(u=e/o),"ArrowDown"===t&&(d=n/o)}else if(n===s.Eq.TRIANGLE)"ArrowLeft"===t?u=Math.min(e.x1,e.x2,e.x3):"ArrowRight"===t?u=a-Math.max(e.x1,e.x2,e.x3):"ArrowDown"===t?d=l-Math.max(e.y1,e.y2,e.y3):"ArrowUp"===t&&(d=Math.min(e.y1,e.y2,e.y3));else if(n===s.Eq.LINE)"ArrowLeft"===t?u=Math.min(e.x1,e.x2):"ArrowRight"===t?u=a-Math.max(e.x1,e.x2):"ArrowUp"===t?d=Math.min(e.y1,e.y2):"ArrowDown"===t&&(d=l-Math.max(e.y1,e.y2));else if(n===s.Eq.LABEL||n===s.Eq.LABELPLUS){const{width:e,height:n}=i._children[0].getBoundingRect();"ArrowRight"===t&&(u=e/o),"ArrowDown"===t&&(d=n/o)}switch(t){case"ArrowUp":if(n===s.Eq.TRIANGLE||n===s.Eq.LINE){c=n===s.Eq.TRIANGLE?["y1","y2","y3"]:["y1","y2"];for(let t=0;t<c.length;t++)e[c[t]]=e[c[t]]-d}else c="y",e[c]=0+d;break;case"ArrowDown":if(n===s.Eq.TRIANGLE||n===s.Eq.LINE){c=n===s.Eq.TRIANGLE?["y1","y2","y3"]:["y1","y2"];for(let t=0;t<c.length;t++)e[c[t]]=e[c[t]]+d}else c="y",e[c]=l-d;break;case"ArrowLeft":if(n===s.Eq.TRIANGLE||n===s.Eq.LINE){c=n===s.Eq.TRIANGLE?["x1","x2","x3"]:["x1","x2"];for(let t=0;t<c.length;t++)e[c[t]]=e[c[t]]-u}else c="x",e[c]=0+u;break;case"ArrowRight":if(n===s.Eq.TRIANGLE||n===s.Eq.LINE){c=n===s.Eq.TRIANGLE?["x1","x2","x3"]:["x1","x2"];for(let t=0;t<c.length;t++)e[c[t]]=e[c[t]]+u}else c="x",e[c]=a-u}if([s.Eq.TRIANGLE,s.Eq.LINE].includes(n))for(let t=0;t<c.length;t++)h=e[c[t]],this.updateSvg(i,c[t],h);else this.updateSvg(i,c,h);this.codeEditorSrv.updateWorkspaceValue(),this.screenBoxSrv.close()}}removeUiComponent(){const e=this.selectedBox;if(!e)return;this.screenBoxSrv.close();const t=()=>{const t=e._children[0].__component;this.selectedBox=null,this.canvas.remove(e),this.storeSrv.removeComponentById(t.id,this.screenType),this.codeEditorSrv.updateWorkspaceValue()};this.zrenderHelperSrv.delConfirmTip?t():c().fire({icon:"warning",text:"Delete UI component ?",showCancelButton:!0,focusConfirm:!0,confirmButtonColor:window.Blockly.Msg.SWAL_DANGER_HUE,cancelButtonColor:window.Blockly.Msg.SWAL_GRAY_HUE,confirmButtonText:"Confirm",allowOutsideClick:!1,input:"checkbox",inputValue:0,inputPlaceholder:"Don't show again"}).then(e=>{if(!e.isConfirmed)return!1;t(),this.zrenderHelperSrv.delConfirmTip=e.value})}updateWorkspaceValue(e){const t=e._children[0],i=t.__component;i.type===s.Eq.LABEL||i.type===s.Eq.LABELPLUS||i.type===s.Eq.RECTANGLE||i.type===s.Eq.CIRCLE||i.type===s.Eq.IMAGE||i.type===s.Eq.IMAGEPLUS?(i.x=Math.floor(e.position[0]/this.scaleRatio),i.y=Math.floor((e.position[1]-50)/this.scaleRatio)):i.type===s.Eq.TRIANGLE?(i.x1=Math.floor((e.position[0]+t.shape.points[0][0])/this.scaleRatio),i.y1=Math.floor((e.position[1]+t.shape.points[0][1]-50)/this.scaleRatio),i.x2=Math.floor((e.position[0]+t.shape.points[1][0])/this.scaleRatio),i.y2=Math.floor((e.position[1]+t.shape.points[1][1]-50)/this.scaleRatio),i.x3=Math.floor((e.position[0]+t.shape.points[2][0])/this.scaleRatio),i.y3=Math.floor((e.position[1]+t.shape.points[2][1]-50)/this.scaleRatio)):i.type===s.Eq.LINE&&(i.x1=Math.floor((e.position[0]+t.childAt(0).shape.x1)/this.scaleRatio),i.y1=Math.floor((e.position[1]-50+t.childAt(0).shape.y1)/this.scaleRatio),i.x2=Math.floor((e.position[0]+t.childAt(0).shape.x2)/this.scaleRatio),i.y2=Math.floor((e.position[1]-50+t.childAt(0).shape.y2)/this.scaleRatio)),this.codeEditorSrv.updateWorkspaceValue()}updateSvg(e,t,i){const n=e._children[0],o=n.__component,r=o.type,a=this.scaleRatio;switch(t){case s.pA.X:case s.pA.Y:e.attr("position",[o.x*a,o.y*a+50]);case s.pA.X1:case s.pA.Y1:case s.pA.X2:case s.pA.Y2:case s.pA.X3:case s.pA.Y3:if(r===s.Eq.TRIANGLE){let t=Math.min(o.x1,o.x2,o.x3)*a,i=Math.min(o.y1,o.y2,o.y3)*a;e.attr({position:[t,i+50]}),n.attr({shape:{points:[[o.x1*a-t,o.y1*a-i],[o.x2*a-t,o.y2*a-i],[o.x3*a-t,o.y3*a-i]]}})}else if(r===s.Eq.LINE){let t=Math.min(o.x1,o.x2)*a,i=Math.min(o.y1,o.y2)*a;e.attr({position:[t,i+50]});let r={x1:o.x1*a-t,y1:o.y1*a-i,x2:o.x2*a-t,y2:o.y2*a-i};n.childAt(0).attr({shape:r}),n.childAt(1).attr({shape:r})}break;case s.pA.RADIUS:n.attr({shape:{r:i*a}});break;case s.pA.WIDTH:case s.pA.HEIGHT:n.attr({shape:{[t]:i*a}});break;case s.pA.FONT:n.attr(i===s.co.UBUNTU_C?{style:{fontFamily:"Ubuntu-C",fontSize:Math.floor(21*a)}}:i===s.co.COMIC?{style:{fontFamily:"Comic",fontSize:Math.floor(25*this.scaleRatio)}}:i===s.co.DEJAVUSANS_18PX?{style:{fontFamily:"DejaVuSans",fontSize:Math.floor(20.4*a)}}:i===s.co.DEJAVUSANS_24PX?{style:{fontFamily:"DejaVuSans",fontSize:Math.floor(25.8*a)}}:i===s.co.DEJAVUSANS_40PX?{style:{fontFamily:"DejaVuSans",fontSize:Math.floor(42*a)}}:i===s.co.DEJAVUSANS_56PX?{style:{fontFamily:"DejaVuSans",fontSize:Math.floor(56*a)}}:i===s.co.DEJAVUSANS_72PX?{style:{fontFamily:"DejaVuSans",fontSize:Math.floor(72*a)}}:i===s.co.DEFAULT_SMALL?{style:{fontFamily:"sans-serif",fontSize:Math.floor(11*a)}}:i===s.co.FONT_UNICODE?{style:{fontFamily:"sans-serif",fontSize:Math.floor(24*a)}}:{style:{fontFamily:"sans-serif",fontSize:Math.floor(16*a)}})}}handleDragOverRange(e,t,i){e.offsetX>=5&&e.offsetX<=this.canvas.dom.clientWidth-5&&e.offsetY>=this.toolboxHeight+5&&e.offsetY<=this.canvas.dom.clientHeight-5&&e.target===this.canvas.dom.children[0].children[0]||t.attr({position:[i[0],i[1]]})}handleKeyDownOverTime(){this.keydownTimer=setTimeout(()=>{this.selectedBox=null},5e3)}screenClick(e){var t;const i=e.offsetX>=0&&e.offsetX<=this.canvas.dom.clientWidth&&e.offsetY>=this.toolboxHeight&&e.offsetY<=this.canvas.dom.clientHeight&&e.target===this.canvas.dom.children[0].children[0],n=null===(t=document.querySelector(".property-window"))||void 0===t?void 0:t.contains(e.target);this.selectedBox&&!n&&(window.Blockly.selected||!i)&&(this.selectedBox=null,this.screenBoxSrv.close())}}return e.\u0275fac=function(t){return new(t||e)(h.Y36(J),h.Y36(z),h.Y36(F.d),h.Y36(H.h),h.Y36(V.t),h.Y36(K._))},e.\u0275cmp=h.Xpm({type:e,selectors:[["app-screen-box"]],viewQuery:function(e,t){if(1&e&&(h.Gf(W,5),h.Gf(G,5)),2&e){let e;h.iGM(e=h.CRH())&&(t.win=e.first),h.iGM(e=h.CRH())&&(t.content=e.first)}},decls:13,vars:3,consts:[[1,"screen-box-container"],["win",""],[1,"header",3,"mousedown"],[1,"size-selector",3,"ngModel","change","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"control-box"],["class","btn-minimise",3,"click",4,"ngIf"],[1,"btn-close",3,"click"],["src","../../../assets/images/cancel.png","alt","CLOSE","title","CLOSE",1,"cancel"],[1,"content"],["content",""],[3,"value"],[1,"btn-minimise",3,"click"],["title","MINIMISE"]],template:function(e,t){1&e&&(h.TgZ(0,"div",0,1),h.TgZ(2,"div",2),h.NdJ("mousedown",function(e){return t.handleMoveWindowStart(e)}),h.TgZ(3,"p"),h._uU(4,"Screen Simulator"),h.qZA(),h.TgZ(5,"select",3),h.NdJ("change",function(e){return t.handleWindowSizeChange(e)})("ngModelChange",function(e){return t.currentSizeStyle=e}),h.YNc(6,Y,2,2,"option",4),h.qZA(),h.TgZ(7,"div",5),h.YNc(8,j,3,0,"button",6),h.TgZ(9,"button",7),h.NdJ("click",function(){return t.handleCloseWindow()}),h._UZ(10,"img",8),h.qZA(),h.qZA(),h.qZA(),h._UZ(11,"div",9,10),h.qZA()),2&e&&(h.xp6(5),h.Q6J("ngModel",t.currentSizeStyle),h.xp6(1),h.Q6J("ngForOf",t.sizeList),h.xp6(2),h.Q6J("ngIf","default"!==t.screenType))},directives:[f.EJ,f.JJ,f.On,g.sg,g.O5,f.YN,f.Kr],styles:[".screen-box-container[_ngcontent-%COMP%]{position:fixed;top:0;bottom:0;left:0;right:0;margin:auto;display:flex;flex-direction:column;box-sizing:border-box}.screen-box-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{width:100%;height:24px;background-color:hsl(var(--main-hue),100%,64%);display:flex;flex-direction:row;align-items:center;border-radius:4px 4px 0 0;overflow:hidden}.screen-box-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff;padding-left:12px;-webkit-user-select:none;-moz-user-select:none;user-select:none}.screen-box-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .size-selector[_ngcontent-%COMP%]{margin-left:10px;display:flex;flex-direction:row;width:120px;outline:none}.screen-box-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .control-box[_ngcontent-%COMP%]{flex:1;height:100%;position:relative}.screen-box-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .control-box[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%], .screen-box-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .control-box[_ngcontent-%COMP%]   .btn-minimise[_ngcontent-%COMP%]{width:36px;height:24px;position:absolute;top:0;right:0px;border:none;outline:none;background-color:transparent;cursor:pointer}.screen-box-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .control-box[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]:hover, .screen-box-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .control-box[_ngcontent-%COMP%]   .btn-minimise[_ngcontent-%COMP%]:hover{background-color:hsl(var(--main-hue),100%,51%)}.screen-box-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .control-box[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .screen-box-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .control-box[_ngcontent-%COMP%]   .btn-minimise[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:16px;height:16px}.screen-box-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .control-box[_ngcontent-%COMP%]   .btn-minimise[_ngcontent-%COMP%]{right:30px}.screen-box-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .control-box[_ngcontent-%COMP%]   .btn-minimise[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#fff}.screen-box-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{flex:1;background-color:#303131;border-left:1px solid #686868;border-right:1px solid #686868;border-bottom:1px solid #686868;display:flex;flex-direction:column}.screen-box-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .screen-area[_ngcontent-%COMP%]{flex:1}"]}),e})(),J=(()=>{class e{constructor(e,t,i,n){this.appRef=e,this.storeSrv=t,this.resolver=i,this.injector=n,this.hidden=!0,this.width=1280,this.height=720,this.keydown=null,this.keyup=null,this.screenclick=null}open(e="default"){if(null!=this.component&&this.ref.instance.screenType===e)return this.hidden?(this.ref.location.nativeElement.style.display="block",this.hidden=!1,void this.addDocumentListener()):void 0;this.component=this.resolver.resolveComponentFactory(X);let t=document.body.appendChild(document.createElement(this.component.selector));this.ref=this.component.create(this.injector,[],t),this.appRef.attachView(this.ref.hostView),this.ref.instance.screenType=e,this.hidden=!1}close(){null!=this.component&&(this.ref.location.nativeElement.style.display="none",this.hidden=!0,this.removeDocumentListener())}updateWindowSize(e,t){this.width=e,this.height=t}getScreenSize(){return{width:this.width,height:this.height}}bindKeyDown(e){this.keydown=e,document.addEventListener("keydown",this.keydown)}bindKeyUp(e){this.keyup=e,document.addEventListener("keyup",this.keyup)}bindScreenClick(e){this.screenclick=e,document.addEventListener("click",this.screenclick)}destroy(){this.close(),this.component=null,this.ref&&this.ref.destroy()}addDocumentListener(){this.keydown&&document.addEventListener("keydown",this.keydown),this.keyup&&document.addEventListener("keyup",this.keyup),this.screenclick&&document.addEventListener("click",this.screenclick)}removeDocumentListener(){this.keydown&&document.removeEventListener("keydown",this.keydown),this.keyup&&document.removeEventListener("keyup",this.keyup),this.screenclick&&document.removeEventListener("click",this.screenclick)}}return e.\u0275fac=function(t){return new(t||e)(h.LFG(h.z2F),h.LFG(F.d),h.LFG(h._Vd),h.LFG(h.zs3))},e.\u0275prov=h.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},36623:function(e,t,i){"use strict";i.d(t,{V:function(){return u}});var n=i(67302),o=i(88259),r=i.n(o),s=i(71320),a=i(37716),l=i(22e3),c=i(61797),h=i(81780);let u=(()=>{class e{constructor(e,t,i){this.storeSrv=e,this.globalOperatorSrv=t,this.translate=i,window.Blockly.requestError_=this.requestError.bind(this)}requestError(e,t){let i="EXECUTECODE_ERROR";if(e&&(i="REQUEST_ERROR"),t.status&&401===t.status){i="NO_PERMISSION";let e="",t=this.storeSrv.getLoginStatus().source._value;e=t?"No permission. The device has been bound!":"The device has been bound. Please login!",r().fire({icon:"warning",text:e,showCancelButton:!0,showConfirmButton:!t,confirmButtonColor:window.Blockly.Msg.SWAL_PRIMARY_HUE,cancelButtonColor:window.Blockly.Msg.SWAL_GRAY_HUE,confirmButtonText:"Go to login",allowOutsideClick:!1}).then(e=>{if(!e.isConfirmed)return!1;this.globalOperatorSrv.maskModal.instance.removeMask(()=>{this.globalOperatorSrv.createMaskModal(s.g).instance.createDynamicComponent(n.eA.LOGIN_MODAL)})})}this.translate.get(i).subscribe(e=>{this.globalOperatorSrv.createMessageBox().instance.error(e)})}}return e.\u0275fac=function(t){return new(t||e)(a.LFG(l.d),a.LFG(c.t),a.LFG(h.sK))},e.\u0275prov=a.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},20138:function(e,t,i){"use strict";i.d(t,{O1:function(){return g.O},hN:function(){return f.h},Ax:function(){return m.A},t0:function(){return d.t},rR:function(){return E.r},R_:function(){return S},VY:function(){return x.V},fF:function(){return P},d6:function(){return h.d},xs:function(){return p},C7:function(){return _.C},j:function(){return c.j},_5:function(){return u._},iu:function(){return I},op:function(){return C},s9:function(){return M}});var n=i(38583),o=i(91841),r=i(75002),s=i(7637),a=i(67302),l=i(37716),c=i(31682),h=i(22e3),u=i(4829),d=i(61797);let p=(()=>{class e{constructor(e,t,i,n){this.zrenderHelperMb=e,this.storeSrv=t,this.zenaderHelp=i,this.globalStr=n,this.eRatio=1,this.UIHELP=this.globalStr.ismb?this.zrenderHelperMb:this.zenaderHelp}init(e,t){if("stick"==t&&(this.storeSrv.setType("core"),localStorage.setItem("_type","core"),t="core"),"stick"===t?(this.isStick=0,this.eRatio=2):"stick"===t||"core"===t?(this.isStick=1,this.eRatio=1):"stick-C"===t?(this.isStick=2,this.eRatio=1.5):"atom"===t?this.isStick=3:"atom-matrix"===t?this.isStick=4:"fire"===t?this.isStick=5:t===a.__.STICK_C_PLUS?(this.isStick=6,this.eRatio=1.18):t===a.__.CORETWO?(this.isStick=7,this.eRatio=1):t===a.__.COREINK?(this.isStick=8,this.eRatio=1.15):t===a.__.PAPER?(this.isStick=9,this.eRatio=1.15):t===a.__.PICO?this.isStick=10:t===a.__.TOUGH?this.isStick=11:t===a.__.ATOM_U?this.isStick=12:t===a.__.ATOM_DISPLAY?this.isStick=13:t===a.__.M5STATION?(this.isStick=14,this.eRatio=.85):t===a.__.STICK_C_PLUS2&&(this.isStick=15,this.eRatio=1.18),this.UIHELP.zrenderWorkspace&&(this.UIHELP.screenContainer.removeAll(),this.UIHELP.zrenderWorkspace.refreshImmediately(),this.storeSrv.removeComponentAll()),this.UIHELP.init(e),this.createToolbar(),this.createSimulator(),this.createMainEditArea(),this.UIHELP.createPnpIcon(),!this.storeSrv.isPhone)try{this.createTextArea()}catch(i){console.log(i)}this.createDeleteArea(),this.createUnitArea(),this.createHatArea(),this.createStampArea(),this.UIHELP.zrenderWorkspace.unittext.attr({style:{textFill:"#00FF99",fontSize:26*this.UIHELP.scaleRatio}}),this.UIHELP.zrenderWorkspace.hattext.attr({style:{textFill:"#ffffff",fontSize:24*this.UIHELP.scaleRatio}}),this.UIHELP.zrenderWorkspace.unitContainer.show(),this.UIHELP.zrenderWorkspace.hatContainer.hide(),this.storeSrv.setIsUnit(!0),this.storeSrv.setIsStamp(!1),2==this.isStick||6==this.isStick||8===this.isStick||15==this.isStick?this.UIHELP.zrenderWorkspace.hattext.show():this.UIHELP.zrenderWorkspace.hattext.hide();try{this.createRefresh()}catch(i){console.log(i)}this.initScene(),window.UIEditor=this.UIHELP.zrenderWorkspace,this.workspace=this.UIHELP.zrenderWorkspace}createToolbar(){if(0==this.isStick){const e=new r.v({icon:"rectangle.jpg",builder:s.b8}),t=new r.v({icon:"label.jpg",builder:s._n});this.toolBar=new r.u([e,t]),this.UIHELP.createToolBarSvg(this.toolBar)}else if(1==this.isStick||5==this.isStick||2==this.isStick||6==this.isStick||8===this.isStick||9===this.isStick||14===this.isStick||15==this.isStick){const e=new r.v({icon:"title.jpg",builder:s.r3}),t=new r.v({icon:"label.jpg",builder:s._n}),i=new r.v({icon:"rect.jpg",builder:s.b8}),n=new r.v({icon:"circle.jpg",builder:s.HF}),o=new r.v({icon:"image.jpg",builder:s.cu}),a=new r.v({icon:"triangle.jpg",builder:s.RQ}),l=new r.v({icon:"line.jpg",builder:s.yk}),c=new r.v({icon:"labelplus.jpg",builder:s.ju}),h=new r.v({icon:"imageplus.jpg",builder:s.Di}),u=new r.v({icon:"Graph.jpg",builder:s.B$}),d=new r.v({icon:"BarGraph.jpg",builder:s.pc});this.toolBar=new r.u([e,t,c,i,n,o,h,a,l,u,d]),this.UIHELP.createToolBarSvg(this.toolBar)}else if(7===this.isStick||11===this.isStick){const e=new r.v({icon:"label.jpg",builder:s._n}),t=new r.v({icon:"Button.jpg",builder:s.gK}),i=new r.v({icon:"line.jpg",builder:s.yk}),n=new r.v({icon:"Switch.jpg",builder:s.qU}),o=new r.v({icon:"Slider.jpg",builder:s.Pi}),a=new r.v({icon:"Bar.jpg",builder:s.R2}),l=new r.v({icon:"Checkbox.jpg",builder:s.bK}),c=new r.v({icon:"image.jpg",builder:s.cu}),h=new r.v({icon:"labelplus.jpg",builder:s.ju}),u=new r.v({icon:"imageplus.jpg",builder:s.Di}),d=new r.v({icon:"Graph.jpg",builder:s.B$}),p=new r.v({icon:"BarGraph.jpg",builder:s.pc});this.toolBar=new r.u([e,h,t,i,n,o,a,l,c,u,d,p]),this.UIHELP.createToolBarSvg(this.toolBar)}else 3==this.isStick||(4==this.isStick?this.UIHELP.createLedColorTool():13==this.isStick&&this.UIHELP.createScreenController())}createSimulator(){0==this.isStick||1==this.isStick?this.UIHELP.createSimulator():2==this.isStick?this.UIHELP.creatStickcMulator():3==this.isStick?this.UIHELP.createAtomSimulator():4==this.isStick?this.UIHELP.createAtomMatrixSimulator():5==this.isStick?this.UIHELP.createFireSimulator():6==this.isStick?this.UIHELP.createStickcPlusMulator():7==this.isStick?this.UIHELP.createCoreTwoMulator():8==this.isStick?this.UIHELP.createCoreInkMulator():9==this.isStick?this.UIHELP.createPaperMulator():10==this.isStick?this.UIHELP.createPICOMulator():11==this.isStick?this.UIHELP.createToughMulator():12==this.isStick?this.UIHELP.createAtomUMulator():13==this.isStick?this.UIHELP.createAtomDisplayMulator():14==this.isStick?this.UIHELP.createM5StationMulator():15==this.isStick&&this.UIHELP.createStickcPlus2Mulator()}createMainEditArea(){this.UIHELP.createMainEditArea()}createDeleteArea(){this.UIHELP.createDeleteArea()}createTextArea(){this.UIHELP.createTextArea()}createUnitArea(){this.UIHELP.createUnitArea()}createHatArea(){this.UIHELP.createHatArea()}createStampArea(){this.UIHELP.createStampArea&&this.UIHELP.createStampArea()}createRefresh(){this.UIHELP.createRefresh()}initScene(){if(0==this.isStick||1==this.isStick||5==this.isStick){const e=new s.k7({backgroundColor:"#222222"}),t=new s.r0({buttonIndex:s.N3.A,name:"btnA"}),i=new s.r0({buttonIndex:s.N3.B,name:"btnB"}),n=new s.r0({buttonIndex:s.N3.C,name:"btnC"});this.UIHELP.screenContainer.add(this.UIHELP.createComponentSvg(e)),this.storeSrv.addComponent(e),this.UIHELP.screenContainer.add(this.UIHELP.createComponentSvg(t)),this.storeSrv.addComponent(t),this.UIHELP.screenContainer.add(this.UIHELP.createComponentSvg(i)),this.storeSrv.addComponent(i),this.UIHELP.screenContainer.add(this.UIHELP.createComponentSvg(n)),this.storeSrv.addComponent(n)}else if(2==this.isStick){const e=new s.k7({id:"_stickscreen",width:120,height:240,x:0,y:0,backgroundColor:"#111111"});this.UIHELP.screenContainer.add(this.UIHELP.createComponentSvg(e)),this.storeSrv.addComponent(e)}else if(6==this.isStick){const e=new s.k7({id:"_stickplusscreen",width:160,height:284,x:0,y:0,backgroundColor:"#111111"});this.UIHELP.screenContainer.add(this.UIHELP.createComponentSvg(e)),this.storeSrv.addComponent(e)}else if(7===this.isStick){const e=new s.k7({id:"_coretwoscreen",backgroundColor:"#FFFFFF"}),t=new s.r0({buttonIndex:s.N3.A,name:"btnA"}),i=new s.r0({buttonIndex:s.N3.B,name:"btnB"}),n=new s.r0({buttonIndex:s.N3.C,name:"btnC"});this.UIHELP.screenContainer.add(this.UIHELP.createComponentSvg(e)),this.storeSrv.addComponent(e),this.UIHELP.screenContainer.add(this.UIHELP.createComponentSvg(t)),this.storeSrv.addComponent(t),this.UIHELP.screenContainer.add(this.UIHELP.createComponentSvg(i)),this.storeSrv.addComponent(i),this.UIHELP.screenContainer.add(this.UIHELP.createComponentSvg(n)),this.storeSrv.addComponent(n)}else if(8==this.isStick){const e=new s.k7({id:"_coreInkscreen",width:230,height:230,x:0,y:0,backgroundColor:"#dadada"});this.UIHELP.screenContainer.add(this.UIHELP.createComponentSvg(e)),this.storeSrv.addComponent(e)}else if(9==this.isStick){const e=new s.k7({id:"_paperscreen",width:270,height:480,x:0,y:0,backgroundColor:"#dadada"});this.UIHELP.screenContainer.add(this.UIHELP.createComponentSvg(e)),this.storeSrv.addComponent(e)}else if(11===this.isStick){const e=new s.k7({id:"_toughscreen",backgroundColor:"#FFFFFF"});this.UIHELP.screenContainer.add(this.UIHELP.createComponentSvg(e)),this.storeSrv.addComponent(e)}else if(14===this.isStick){const e=new s.k7({id:"_m5stationscreen",width:204,height:114.75,x:0,y:0,backgroundColor:"#222222"}),t=new s.r0({buttonIndex:s.N3.A,name:"btnA"}),i=new s.r0({buttonIndex:s.N3.B,name:"btnB"}),n=new s.r0({buttonIndex:s.N3.C,name:"btnC"});this.UIHELP.screenContainer.add(this.UIHELP.createComponentSvg(e)),this.storeSrv.addComponent(e),this.UIHELP.screenContainer.add(this.UIHELP.createComponentSvg(t)),this.storeSrv.addComponent(t),this.UIHELP.screenContainer.add(this.UIHELP.createComponentSvg(i)),this.storeSrv.addComponent(i),this.UIHELP.screenContainer.add(this.UIHELP.createComponentSvg(n)),this.storeSrv.addComponent(n)}else if(15===this.isStick){const e=new s.k7({id:"_stickplus2screen",width:160,height:284,x:0,y:0,backgroundColor:"#111111"});this.UIHELP.screenContainer.add(this.UIHELP.createComponentSvg(e)),this.storeSrv.addComponent(e)}this.UIHELP.updateUnitSvg(),this.UIHELP.updateHatSvg(),this.UIHELP.updateStampSvg()}}return e.\u0275fac=function(t){return new(t||e)(l.LFG(c.j),l.LFG(h.d),l.LFG(u._),l.LFG(d.t))},e.\u0275prov=l.Yz7({token:e,factory:e.\u0275fac}),e})();var g=i(40342),f=i(8318),m=i(17921),_=i(52634),v=i(67709),y=i(93342);const b=[{provide:o.TP,useClass:(()=>{class e{constructor(e,t){this.uploadSrv=e,this.storeSrv=t}checkStatus(e,t,i){this.uploadSrv.getDeviceStatus().toPromise().then(n=>{!1!==n.data&&t.handle(e).pipe((0,y.b)(e=>(i.next(e),e),e=>{i.error(e)})).subscribe()})}intercept(e,t){const i=new v.xQ;return-1===e.url.indexOf(this.storeSrv.apiUrl)||e.url.indexOf("call?func=")>-1||e.url.indexOf("isHardwareConnected")>-1||e.url.indexOf("getFlowInfo")>-1||e.url.indexOf("root/flash")>-1||e.url.indexOf("remotor")>-1||e.url.indexOf("fs/flash/res")&&this.uploadSrv.isContinue||e.url.indexOf("listdir/flash")>-1||e.url.indexOf("exec")&&this.uploadSrv.isContinue?t.handle(e):(this.checkStatus(e,t,i),i)}}return e.\u0275fac=function(t){return new(t||e)(l.LFG(_.C),l.LFG(h.d))},e.\u0275prov=l.Yz7({token:e,factory:e.\u0275fac}),e})(),multi:!0}];var w=i(88259),A=i.n(w),x=i(36623),T=i(81780);let C=(()=>{class e{constructor(e,t,i,n,o,r){this.http=e,this.storeSrv=t,this.globalOperatorSrv=i,this.seniorOperatorSrv=n,this.codeEditorSrv=o,this.translate=r,this._locker=!1,this.hasTelloFile=!1}getPrimaryDir(){if(this._locker)return new v.xQ;this._locker=!0;let e=this.storeSrv.getDeviceToken(this.storeSrv.apiKey.value);return this.http.get(`${this.storeSrv.apiUrl}/${e}/listdir/flash`,{withCredentials:!0}).pipe((0,y.b)(e=>{if(0===e.code){this._locker=!1;let t=Object.assign(e.data),i=["boot.py","temp.py","test.py","main.py","Wi-Fi-Config.py"];t.files=t.files.filter(e=>i.indexOf(e)<0);let n=["blocks","emojiImg","img","update"];t.dirs=t.dirs.filter(e=>n.indexOf(e)<0),e.data=t;let o=this.storeSrv.getSecondaryFileInfo().source._value;return t.dirs.forEach(e=>{o[e]||(o[e]=[])}),this.storeSrv.setPrimaryFileInfo({dirs:t.dirs,files:t.files}),this.storeSrv.setSecondaryFileInfo(o),e}return this.storeSrv.setPrimaryFileInfo(null),e},e=>{this._locker=!1,this.storeSrv.setPrimaryFileInfo(null)},()=>{this._locker=!1}))}getSecondaryDir(e){if(this._locker)return new v.xQ;this._locker=!0;let t=this.storeSrv.getSecondaryFileInfo().source._value;this.translate.get("CONNECT_LOADING").subscribe(e=>{this.globalOperatorSrv.createMessageBox().instance.loading(e)}),this.storeSrv.connectStatus=a.hj.CONNECTING;let i=this.storeSrv.getDeviceToken(this.storeSrv.apiKey.value);return this.http.get(`${this.storeSrv.apiUrl}/${i}/listdir/flash/${e}`,{withCredentials:!0}).pipe((0,y.b)(i=>{if(0===i.code){this._locker=!1;let n=Object.assign(i.data),o=["default.jpg","default.png","error.jpg","error.png","temp.png","mix.wav"];return n.files=n.files.filter(e=>o.indexOf(e)<0),n.files=n.files.filter(e=>!/\.(crt|key|KEY|CRT|pem|PEM|wav|WAV)$/.test(e)),i.data=n,t[e]=i.data.files,this.storeSrv.setSecondaryFileInfo(t),this.translate.get("CONNECTED").subscribe(e=>{this.globalOperatorSrv.createMessageBox().instance.success(e)}),this.storeSrv.connectStatus=a.hj.CONNECTED,i}return this.storeSrv.setSecondaryFileInfo(t),this.storeSrv.connectStatus=a.hj.DISCONNECTED,i},e=>{this._locker=!1,this.storeSrv.setSecondaryFileInfo(t),this.errorWarn(e)},()=>{this._locker=!1}))}getFileData(e,t){if(this._locker)return new v.xQ;this._locker=!0;let i=this.storeSrv.getCacheFileData().source._value,n="null"!==e?`${e}/${t}`:`${t}`,o=this.storeSrv.getDeviceToken(this.storeSrv.apiKey.value);return this.http.get(`${this.storeSrv.apiUrl}/${o}/root/flash/${n}`,{observe:"response",responseType:"text",withCredentials:!0}).pipe((0,y.b)(n=>{if(200===n.status&&4===n.type)return this._locker=!1,i.push({dir:e,file:t,data:n.body}),this.storeSrv.setSelectedFileData({dir:e,file:t,data:n.body}),this.storeSrv.setCacheFileData(i),this.storeSrv.fileLoading.next(!1),this.codeEditorSrv.updateWorkspaceValue(1),this.storeSrv.connectStatus=a.hj.CONNECTED,n;this.storeSrv.connectStatus=a.hj.DISCONNECTED,this.storeSrv.fileLoading.next(!1)},e=>{this._locker=!1,this.errorWarn(e),this.storeSrv.fileLoading.next(!1)},()=>{this._locker=!1,this.storeSrv.fileLoading.next(!1)}))}saveFile(e){let t="null"===e.dir?e.file:`${e.dir}/${e.file}`,i=window.CodeEditor.getValue(),n=this.storeSrv.getDeviceToken(this.storeSrv.apiKey.value);return this.http.post(`${this.storeSrv.apiUrl}/${n}/root/flash/${t}`,i,{responseType:"text",withCredentials:!0}).pipe((0,y.b)(t=>{this.globalOperatorSrv.setIsEditing(!1),this.storeSrv.setSelectedFileData({dir:e.dir,file:e.file,data:i});let n=this.storeSrv.getCacheFileData().source._value;n.forEach(t=>{t.file===e.file&&t.dir===e.dir&&(t.data=i)}),this.storeSrv.setCacheFileData(n),this.globalOperatorSrv.createMessageBox().instance.success("Files saved successfully.")},e=>{this.errorWarn(e)}))}deleteFile(e,t){let i="null"===e?t:`${e}/${t}`,n=this.storeSrv.getDeviceToken(this.storeSrv.apiKey.value);return this.http.delete(`${this.storeSrv.apiUrl}/${n}/root/flash/${i}`,{withCredentials:!0}).pipe((0,y.b)(i=>{if("null"===e){let e=this.storeSrv.getPrimaryFileInfo().source._value;e.files=e.files.filter(e=>e!==t),this.storeSrv.setPrimaryFileInfo(e),"tello.py"===t&&(this.hasTelloFile=!1)}else{let i=this.storeSrv.getSecondaryFileInfo().source._value;i[e]=i[e].filter(e=>e!==t),this.storeSrv.setSecondaryFileInfo(i)}let n=this.storeSrv.getCacheFileData().source._value;n.forEach((i,o)=>{i.file===t&&i.dir===e&&n.splice(o,1)}),this.storeSrv.setCacheFileData(n)},e=>{this.errorWarn(e)}))}createNewFile(e){let t=this.storeSrv.getDeviceToken(this.storeSrv.apiKey.value);return this.http.post(`${this.storeSrv.apiUrl}/${t}/root/flash/${e}`,"",{}).pipe((0,y.b)(t=>{this.addPrimaryFile(e)},e=>{this.errorWarn(e)}))}errorWarn(e){this.globalOperatorSrv.setMode(a.IK.CODE),this.seniorOperatorSrv.requestError(1,e)}checkImportFile(e,t){let i=this.storeSrv.getPrimaryFileInfo().source._value;this.storeSrv.connectStatus!==a.hj.DISCONNECTED&&null!==i?(this.hasTelloFile=i.files.indexOf(e)>-1,this.swalDownloadFile(e,t)):this.getPrimaryDir().subscribe(i=>{this.hasTelloFile=this.storeSrv.getPrimaryFileInfo().source._value.files.indexOf(e)>-1,this.swalDownloadFile(e,t)},e=>{this.errorWarn(e)})}swalDownloadFile(e,t){this.hasTelloFile?t():A().fire({icon:"warning",text:`You need to download the ${e} file!`,showCancelButton:!0,confirmButtonColor:window.Blockly.Msg.SWAL_PRIMARY_HUE,cancelButtonColor:window.Blockly.Msg.SWAL_GRAY_HUE,confirmButtonText:"Download",allowOutsideClick:!1}).then(i=>{if(i.isConfirmed){let i="";this.http.get("/assets/pylibrary/tello.py",{reportProgress:!0,responseType:"text",withCredentials:!0}).subscribe(n=>{i=n,this.downloadImportFile({file:e,dir:"null",data:i}).subscribe(e=>{t()},e=>{this.errorWarn(e)})})}else t()})}downloadImportFile(e){let t="null"===e.dir?e.file:`${e.dir}/${e.file}`,i=this.storeSrv.getDeviceToken(this.storeSrv.apiKey.value);return this.http.post(`${this.storeSrv.apiUrl}/${i}/root/flash/${t}`,e.data,{responseType:"text",withCredentials:!0}).pipe((0,y.b)(t=>{this.addPrimaryFile(e.file)},e=>{this.errorWarn(e)}))}addPrimaryFile(e){let t=this.storeSrv.getPrimaryFileInfo().source._value;-1===t.files.indexOf(e)&&t.files.push(e),this.storeSrv.setPrimaryFileInfo(t)}}return e.\u0275fac=function(t){return new(t||e)(l.LFG(o.eN),l.LFG(h.d),l.LFG(d.t),l.LFG(x.V),l.LFG(f.h),l.LFG(T.sK))},e.\u0275prov=l.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var Z=i(54120),k=i(26215);let S=(()=>{class e{constructor(e,t){this.http=e,this.storeSrv=t,this.apiURL=this.storeSrv.apiUrl,this.preReqList=[],this.remoteApiKey=new k.X(null),this.remoteData=new k.X([])}getRemoteCfg(e){return this.http.get(`${this.apiURL}/remotor/${e}`)}remote(e,t,i,n){return n===a.Fk.EZDATA?this.http.get(`https://ezdata.m5stack.com/api/store/${i.token}/${i.topic}${i.count?`?offset=0&count=${i.count}`:""}`):n!==a.Fk.TIMERCAM?this.http.get(null==i?`${this.apiURL}/${e}/call?func=${t}()`:`${this.apiURL}/${e}/call?func=${t}(${i})`):void 0}addToPreReqList(e,t,i){this.preReqList.push({id:e,func:t,data:"",param:i})}getPreReq(e,t){let i=this.preReqList.findIndex(i=>i.id==e&&i.func==t);return i>-1?this.preReqList[i]:null}preReq(e){let t=this.remote(this.preReqList[e].id,this.preReqList[e].func,this.preReqList[e].param?this.preReqList[e].param:null).subscribe(i=>{this.getPreReq(this.preReqList[e].id,this.preReqList[e].func).data=i.data,t.unsubscribe(),e+1!=this.preReqList.length&&this.preReq(e+1)})}initRemoteData(){this.preReq(0)}setRemotePlusKey(e){this.remoteApiKey.next(e)}getRemotePlusKey(){return this.remoteApiKey.asObservable()}}return e.\u0275fac=function(t){return new(t||e)(l.LFG(o.eN),l.LFG(h.d))},e.\u0275prov=l.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var E=i(10215);let M=(()=>{class e{constructor(e,t){this.storeSrv=e,this.globalOperatorSrv=t,this.historyNum=new k.X(0),this.historyList=new k.X([])}setHistoryNum(e){this.historyNum.next(e)}getHistoryNum(){return this.historyNum.asObservable()}setHistoryList(e){this.historyList.next(e)}getHistoryList(){return this.historyList.asObservable()}checkDB(){return!!window.indexedDB||(window.alert("Your browser doesn't support a stable version of IndexedDB. History record feature will not be available."),!1)}createDB(){let e=window.indexedDB.open("m5fDB",1);e.onsuccess=t=>{this.db=e.result,this.db.objectStoreNames.contains("m5f")&&this.getAllData()},e.onerror=e=>{console.log("Failed to open database.")},e.onupgradeneeded=e=>{let t;this.db=e.target.result,this.db.objectStoreNames.contains("m5f")||(t=this.db.createObjectStore("m5f",{keyPath:"id"}))}}addM5fData(){let e=this.globalOperatorSrv.saveM5F(),t=this.db.transaction(["m5f"],"readwrite").objectStore("m5f").add({id:Date.now(),name:this.storeSrv.projectName.value,data:e});t.onsuccess=e=>{this.setHistoryNum(this.historyNum.value+1),this.handelData()},t.onerror=e=>{console.log("Failed to add data")}}handelData(){this.historyNum.value>100&&this.delM5fData(this.historyList.value[0].id).then(e=>{this.handelData()})}getAllData(){let e=this.db.transaction("m5f").objectStore("m5f").getAll();e.onsuccess=e=>{this.setHistoryList(e.target.result),this.setHistoryNum(e.target.result.length)},e.onerror=e=>{console.log("Failed to get all data")}}delM5fData(e){return new Promise((t,i)=>{this.db.transaction(["m5f"],"readwrite").objectStore("m5f").delete(e).onsuccess=i=>{this.setHistoryNum(this.historyNum.value-1),this.setHistoryList(this.historyList.value.filter(t=>t.id!==e)),t(i.target)}})}delAllData(){this.db.transaction(["m5f"],"readwrite").objectStore("m5f").clear().onsuccess=e=>{this.setHistoryNum(0),this.setHistoryList([])}}getDate(e){let t=new Date(e),i=t.getFullYear(),n=t.getMonth()+1,o=t.getDate();return i+"-"+(n<10?"0"+n:n)+"-"+(o<10?"0"+o:o)+" "+t.toTimeString().substr(0,8)}}return e.\u0275fac=function(t){return new(t||e)(l.LFG(h.d),l.LFG(d.t))},e.\u0275prov=l.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var O=i(64762);let I=(()=>{class e{constructor(e,t){this.storeSrv=e,this.globalOperatorSrv=t,this.isSupport=new k.X(!1),this.file={handle:null,name:null},this.fileOpts={types:[{accept:{"text/m5f":[".m5f"]}}]},this.checkApi(),this.checkStorage(),window.Blockly.useOldFileWay=this.useOldFileWay.bind(this)}getIsSupport(){return this.isSupport.asObservable()}checkApi(){"chooseFileSystemEntries"in window||"showOpenFilePicker"in window?(this.isSupport.next(!0),console.log("The File System Access API is supported.")):(this.isSupport.next(!1),console.log("The File System Access API is not supported in this browser yet."))}getFileHandle(){return"showOpenFilePicker"in window?window.showOpenFilePicker(this.fileOpts).then(e=>e[0],e=>{console.log("Failed to get file handle",e)}):window.chooseFileSystemEntries()}getNewFileHandle(){return"showSaveFilePicker"in window?window.showSaveFilePicker(Object.assign(Object.assign({},this.fileOpts),{suggestedName:this.file.name})):window.chooseFileSystemEntries({type:"save-file",accepts:[{extensions:["m5f"],mimeTypes:["text/plain"]}]})}verifyPermission(e,t){return(0,O.mG)(this,void 0,void 0,function*(){const i={};return t&&(i.writable=!0,i.mode="readwrite"),"granted"===(yield e.queryPermission(i))||"granted"===(yield e.requestPermission(i))})}openFile(e){return(0,O.mG)(this,void 0,void 0,function*(){if(!this.isSupport.value){const t=yield this.getFileLegacy();return void(t&&this.readFile(t).then(i=>{e(i,t)}))}let t;try{t=yield this.getFileHandle()}catch(n){if("AbortError"===n.name)return;console.error("An error occured trying to open the file.",n)}if(!t)return;const i=yield t.getFile();if(i){let n=yield i.text();e(n,i),this.file.handle=t}})}writeFile(e,t){return(0,O.mG)(this,void 0,void 0,function*(){if(e.createWriter){const i=yield e.createWriter();return yield i.write(0,t),yield i.close(),void this.globalOperatorSrv.createMessageBox().instance.success("Files saved successfully.")}const i=yield e.createWritable();let n=this.globalOperatorSrv.createMessageBox().instance;n.loadingNoTimer("Writing..."),yield i.write(t),yield i.close(),n._show=!1,n.success("Files saved successfully.")})}saveFile(e){return(0,O.mG)(this,void 0,void 0,function*(){let t=this.storeSrv.projectName.value+".m5f";this.file.name=t;try{if(!this.file.handle)return yield this.saveFileAs(e);if(t!==this.file.handle.name)return yield this.saveFileAs(e);yield this.writeFile(this.file.handle,e)}catch(i){console.error("Unable to save file",i)}})}saveFileAs(e){return(0,O.mG)(this,void 0,void 0,function*(){let t;if(this.file.name=this.storeSrv.projectName.value+".m5f",this.isSupport.value){try{t=yield this.getNewFileHandle()}catch(i){if("AbortError"===i.name)return;return void console.error("An error occured trying to open the file.",i)}try{yield this.writeFile(t,e),this.file.handle=t}catch(i){return void console.error("Unable to save file.",i)}}else this.saveAsLegacy(this.file.name,e)})}readFile(e){return new Promise(t=>{const i=new FileReader;i.addEventListener("loadend",e=>{t(e.srcElement.result)}),i.readAsText(e)})}getFileLegacy(){let e=document.getElementById("__openM5FBox");return new Promise((t,i)=>{e.onchange=n=>{const o=e.files[0];o?t(o):i(new Error("AbortError"))},e.click()})}saveAsLegacy(e,t){e=e||"main.m5f";const i=new File([t],"",{type:"text/plain"});let n=document.createElement("a");n.href=window.URL.createObjectURL(i),n.setAttribute("download",e),n.click()}checkStorage(){"true"==localStorage.getItem("isOldFileFun")?(this.isSupport.next(!1),console.log("Save files by the old way.")):"false"==localStorage.getItem("isOldFileFun")&&(this.isSupport.next(!0),console.log("Save files by the new way."))}useOldFileWay(e){e?(this.isSupport.next(!0),localStorage.setItem("isOldFileFun","false")):(this.isSupport.next(!1),localStorage.setItem("isOldFileFun","true"))}}return e.\u0275fac=function(t){return new(t||e)(l.LFG(h.d),l.LFG(d.t))},e.\u0275prov=l.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),P=(()=>{class e{static forRoot(){return{ngModule:e,providers:[_.C,p,g.O,f.h,h.d,m.A,d.t,u._,c.j,C,Z.j,x.V,S,E.r,M,I]}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=l.oAB({type:e}),e.\u0275inj=l.cJS({providers:[b],imports:[[n.ez,o.JF]]}),e})()},22e3:function(e,t,i){"use strict";i.d(t,{d:function(){return a}});var n=i(26215),o=i(67709),r=i(67302),s=i(37716);let a=(()=>{class e{constructor(){this.VERSION=r.wB,this.apiKey=new n.X(sessionStorage.getItem(r.k2.API_KEY)||""),this.isLogin=new n.X(!1),this.userInfo=new n.X(null),this.userDeviceData=new n.X(null),this.type=new n.X("core"),this.defaultLanguage=localStorage.getItem(r.k2.LANGUAGE)||r.bn[0].file,this.apiUrl=localStorage.getItem(r.k2.API_URL)||r.T5[0].url,this.versions=new n.X(localStorage.getItem("versions")||"Beta"),this.connectStatus=r.hj.DISCONNECTED,this.projectName=new n.X("main"),this.remoteKey=new n.X(""),this.deviceInfo=new n.X(null),this.primaryFileInfo=new n.X(null),this.secondaryFileInfo=new n.X({}),this.selectedFileData=new n.X(null),this.cacheFileCode=new n.X([]),this.componentList=new n.X([]),this.unitList=new n.X([]),this.hatList=new n.X([]),this.stampList=new n.X([]),this.matrixArray=new n.X([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),this.hiddenBlockly=new o.xQ,this.loddingMODE=new o.xQ,this.fileLoading=new o.xQ,this.uieditorMode=new o.xQ,this.erweima=new n.X(!1),this.componentsCount={},this.scaleRatio={scaleRatio:1,eRatio:0},this.pnpEnable=new n.X(!1),this.unit_conut=[],this.hat_conut=[],this.stamp_count=[],this.count=3,this.isUnit=new n.X(!0),this.isStamp=new n.X(!1);let e=sessionStorage.getItem("_type"),t=localStorage.getItem("_type"),i=e||t||"core";this.setType(i),t||localStorage.setItem("_type",i);let s=sessionStorage.getItem("mui_apikey"),a=localStorage.getItem("mui_apikey");this.setApikey(s||a||"")}getComponentList(){return this.componentList.asObservable()}getUnitList(){return this.unitList.asObservable()}getHatList(){return this.hatList.asObservable()}addUnit(e){this.unitList.next(this.unitList.value.concat(e)),this.unit_conut.push(e.type),window.Blockly.Units=this.unitList.value}removeUnitById(e){let t=[r.g1.V,r.g1.V2],i=!1,n=this.unitList.value.findIndex(n=>(i=t.indexOf(n.type)>-1,i&&(window.BlocklyEditor.getToolbox().getToolboxItemById(`unit_${n.type}`).setExpanded(!1),window.BlocklyEditor.getToolbox().handleToolboxItemResize()),n.id===e));this.unitList.value.splice(n,1),this.unitList.next(this.unitList.value)}removeUnitList(){window.Blockly.Units=[],window.BlocklyEditor&&(window.BlocklyEditor.getToolbox().getToolboxItems().forEach(e=>e.setExpanded&&e.setExpanded(!1)),window.BlocklyEditor.getToolbox().handleToolboxItemResize());try{let e=window.Blockly.Msg.UNITS;window.BlocklyEditor.toolbox_.getToolboxItemById("units").labelDom_.innerText=`${e}`}catch(e){}return this.unit_conut=[],this.unitList.next([])}getUnitDefauleName(e){let t=0;for(let i=0;i<this.unit_conut.length;i++)this.unit_conut[i]==e&&t++;return e+"_"+t}addHat(e){this.hatList.next(this.hatList.value.concat(e)),this.hat_conut.push(e.type),window.Blockly.Hats=this.hatList.value}removeHatById(e){this.hatList.value.splice(this.hatList.value.findIndex(t=>t.id===e),1),this.hatList.next(this.hatList.value)}getHatDefauleName(e){let t=0;for(let i=0;i<this.hat_conut.length;i++)this.hat_conut[i]==e&&t++;return e+"_"+t}setMatrixArray(e){this.matrixArray.next([].concat(e))}removeHatList(){return window.Blockly.Hats=[],this.hat_conut=[],this.hatList.next([])}getStampList(){return this.stampList.asObservable()}getStampDefauleName(e){let t=0;for(let i=0;i<this.stamp_count.length;i++)this.stamp_count[i]==e&&t++;return e+"_"+t}addStamp(e){this.stampList.next(this.stampList.value.concat(e)),this.stamp_count.push(e.type),window.Blockly.Stamps=this.stampList.value}removeStampById(e){this.stampList.value.splice(this.stampList.value.findIndex(t=>t.id===e),1),this.stampList.next(this.stampList.value)}removeStampList(){return window.Blockly.Stamps=[],this.stampList.next([])}setHiddenBlockly(){return this.hiddenBlockly.asObservable()}showerweima(){return this.erweima.asObservable()}getuiMode(){return this.uieditorMode.asObservable()}getLoadingMode(){return this.loddingMODE.asObservable()}getFileLoading(){return this.fileLoading.asObservable()}getType(){return this.type.asObservable()}setType(e){this.type.next(e),sessionStorage.setItem("_type",e)}getVersions(){return this.versions.asObservable()}setVersions(e){this.versions.next(e),localStorage.setItem("versions",e)}getScales(){return this.scaleRatio}setScales(e){this.scaleRatio=e}getIsUnit(){return this.isUnit.asObservable()}setIsUnit(e){this.isUnit.next(e)}getIsStamp(){return this.isStamp.asObservable()}setIsStamp(e){this.isStamp.next(e)}addComponent(e,t="default"){this.componentList.next(this.componentList.value.concat(e)),"default"===t?window.Blockly.M5Component=this.componentList.value.filter(e=>!e.screenType||"default"===e.screenType):window.Blockly[`${t}Component`]=this.componentList.value.filter(e=>e.screenType===t)}removeComponentById(e,t="default"){this.componentList.value.splice(this.componentList.value.findIndex(t=>t.id===e),1),this.componentList.next(this.componentList.value),"default"===t?window.Blockly.M5Component=this.componentList.value.filter(e=>!e.screenType||"default"===e.screenType):window.Blockly[`${t}Component`]=this.componentList.value.filter(e=>e.screenType===t)}removeComponentAll(e="default"){if("default"===e)if([r.__.CORE,r.__.FIRE,r.__.CORETWO,r.__.TOUGH].includes(this.type.value)){let e=this.componentList.value.filter(e=>e.screenType&&"default"!==e.screenType);this.componentList.next(e)}else this.componentList.value.splice(0,this.componentList.value.length),this.componentList.next([]);else{let t=this.componentList.value.filter(t=>t.screenType&&t.screenType!==e);this.componentList.next(t)}}getComponentById(e){let t=null;return this.componentList.value.forEach(i=>{i.id===e&&(t=i)}),t}getComponentDefaultName(e){null==this.componentsCount[e]&&(this.componentsCount[e]=0);var t=this.getComponentList().source._value;e:for(let i=0;i<999;i++){let n=e+i,o=null;t.length<1&&(o=n);t:for(let e=0;e<t.length;e++){if(n==t[e].name){o=null;break t}{o=n;let e=window.BlocklyEditor.getAllVariables();for(let t=0;t<e.length;t++)if(e[t].name==o)continue e}}if(null!==o)return this.componentsCount[e]++,o}}getComponentRepetitionName(e){var t=e,i=this.getComponentList().source._value;for(const o in i){if(e===i[o].name){var n=Number(e.split(i[o].type)[1]);return t=i[o].type+n++,this.getComponentRepetitionName(t)}return name}}getComponentDefaultLayer(){var e=this.count;for(let t in Object.keys(this.componentsCount))e+=this.componentsCount[Object.keys(this.componentsCount)[t]];return e}setDeviceInfo(e){this.deviceInfo.next(e)}getDeviceInfo(){return this.deviceInfo.asObservable()}setLoginStatus(e){e||(localStorage.removeItem(r.k2.TOKEN),sessionStorage.removeItem(r.k2.TOKEN),this.setUserInfo(null),this.setuserDeviceData(null)),this.isLogin.next(e)}getLoginStatus(){return this.isLogin.asObservable()}setUserInfo(e){this.userInfo.next(e)}getUserInfo(){return this.userInfo.asObservable()}setuserDeviceData(e){this.userDeviceData.next(e)}getuserDeviceData(){return this.userDeviceData.asObservable()}setPrimaryFileInfo(e){this.primaryFileInfo.next(e)}getPrimaryFileInfo(){return this.primaryFileInfo.asObservable()}setSecondaryFileInfo(e){this.secondaryFileInfo.next(e)}getSecondaryFileInfo(){return this.secondaryFileInfo.asObservable()}setCacheFileData(e){this.cacheFileCode.next(e)}getCacheFileData(){return this.cacheFileCode.asObservable()}setSelectedFileData(e){this.selectedFileData.next(e)}getSelectedFileData(){return this.selectedFileData.asObservable()}setApikey(e){this.apiKey.next(e),e?(sessionStorage.setItem(r.k2.API_KEY,e),localStorage.setItem(r.k2.API_KEY,e)):(sessionStorage.removeItem(r.k2.API_KEY),localStorage.removeItem(r.k2.API_KEY))}getPnpEnable(){return this.pnpEnable.asObservable()}setPnpEnable(e){this.pnpEnable.next(e);let t=document.getElementsByClassName("blocklyTreePnPIcon")||[];for(let i=0;i<t.length;i++)t[i].style.display=e?"inline":"none"}getApikey(){return this.apiKey.asObservable()}setAllkey(e){let t=JSON.parse(localStorage.getItem("AllAPIKEY"))||[e];if(localStorage.getItem("AllAPIKEY")){if(-1!==JSON.parse(localStorage.getItem("AllAPIKEY")).indexOf(e))return!1;if(this.isLogin.value)t[t.length]=e;else if(t.length<5)t[t.length]=e;else{var i=t.slice(0,5);i.shift(),i[i.length]=e,t=i}}return localStorage.setItem("AllAPIKEY",JSON.stringify(t)),JSON.parse(localStorage.getItem("AllAPIKEY"))}getAllkey(){return JSON.parse(localStorage.getItem("AllAPIKEY"))||[]}setLanguage(e){this.defaultLanguage=e,localStorage.setItem(r.k2.LANGUAGE,e)}setProjectName(e){this.projectName.next(e)}getProjectName(){return this.projectName.asObservable()}setRemoteKey(e){this.remoteKey.next(e)}getRemoteKey(){return this.remoteKey.asObservable()}setAPIUrl(e){this.apiUrl=e,localStorage.setItem(r.k2.API_URL,e)}getDefaultAPIUrl(){let e=localStorage.getItem(r.k2.API_URL);return(!e||!r.T5.some(t=>t.url===e))&&(e=r.T5[0].url),e}getBlockXml(e){const t=window.Blockly.Xml.workspaceToDom(window.BlocklyEditor);let i;return i=e?window.Blockly.Xml.domToPrettyText(t):window.Blockly.Xml.domToText(t),i}getDeviceToken(e){if(this.isLogin.value&&this.userDeviceData.value.length>0){let t=e;return this.userDeviceData.value.forEach(i=>{i.apiKey!==e||(t=i.token)}),t}return e}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},52634:function(e,t,i){"use strict";i.d(t,{C:function(){return A}});var n=i(91841),o=i(92340),r=i(11456);const s=(()=>{function e(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return e.prototype=Object.create(Error.prototype),e})();var a=i(85345);class l{constructor(e,t,i,n){this.waitFor=e,this.absoluteTimeout=t,this.withObservable=i,this.scheduler=n}call(e,t){return t.subscribe(new c(e,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))}}class c extends a.Ds{constructor(e,t,i,n,o){super(e),this.absoluteTimeout=t,this.waitFor=i,this.withObservable=n,this.scheduler=o,this.scheduleTimeout()}static dispatchTimeout(e){const{withObservable:t}=e;e._unsubscribeAndRecycle(),e.add((0,a.ft)(t,new a.IY(e)))}scheduleTimeout(){const{action:e}=this;e?this.action=e.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(c.dispatchTimeout,this.waitFor,this))}_next(e){this.absoluteTimeout||this.scheduleTimeout(),super._next(e)}_unsubscribe(){this.action=void 0,this.scheduler=null,this.withObservable=null}}var h=i(18891);function u(e,t=r.P){return function(e,t,i=r.P){return n=>{let o=function(e){return e instanceof Date&&!isNaN(+e)}(e),r=o?+e-i.now():Math.abs(e);return n.lift(new l(r,o,t,i))}}(e,function(e,t){return new h.y(t=>t.error(e))}(new s),t)}var d=i(93342),p=i(67302),g=i(67709),f=i(88259),m=i.n(f),_=i(37716),v=i(22e3),y=i(61797),b=i(36623),w=i(81780);let A=(()=>{class e{constructor(e,t,i,n,o){this.http=e,this.storeSrv=t,this.globalOperatorSrv=i,this.seniorOperatorSrv=n,this.translate=o,this._locker=!1,this.exampleList=p.Qf,this.isContinue=!1,window.Blockly.uploadFile_=this.uploadImg.bind(this),window.Blockly.getDeviceInfo_=this.getDeviceInfo.bind(this),window.Blockly.getTranslate_=this.translate}checkApikeyNull(){return""===this.storeSrv.apiKey.value}releaseLocker(){return(0,d.b)(e=>(this._locker=!1,200===e.status&&4===e.type&&m().close(),e),e=>(this._locker=!1,m().close(),e))}releaseIsContinue(){return(0,d.b)(e=>(this.isContinue=!1,e),e=>(this.isContinue=!1,e))}getDeviceInfo(){if(this.checkApikeyNull())return h.y.create(e=>e.next(!1));this.translate.get("CONNECT_LOADING").subscribe(e=>{this.globalOperatorSrv.createMessageBox().instance.loading(e)}),this.storeSrv.connectStatus=p.hj.CONNECTING;let e,t,i=this.storeSrv.getDeviceToken(this.storeSrv.apiKey.value);return this.http.get(`${this.storeSrv.apiUrl}/${i}/getFlowInfo`,{withCredentials:!0}).pipe(u(1e4),(0,d.b)(i=>{if(0===i.code){this._locker=!1;let n=/\.(pbm|PBM|jpg|JPG|jpeg|JPEG|bmp|BMP|png|PNG)$/;window.Blockly.ResImages=i.data[2].filter(e=>n.test(e));let o=Object.assign(i.data),r=o[2].findIndex(e=>"mix.wav"===e);r>-1&&o[2].splice(r,1);let s=o[2].findIndex(e=>"default.jpg"===e||"default.png"===e);return s>-1&&o[2].splice(s,1),e=o[2].filter(e=>/\.(crt|key|KEY|CRT|pem|PEM)$/.test(e)),t=o[2].filter(e=>/\.(wav|WAV)$/.test(e)),window.Blockly.ResKeys=e,window.Blockly.ResWavs=t,o[2]=o[2].filter(e=>n.test(e)),o[2]=o[2].map(e=>({filename:e,base64:""})),i.data=o,this.translate.get("CONNECTED").subscribe(e=>{this.globalOperatorSrv.createMessageBox().instance.success(e)}),i.data[0]!==this.storeSrv.VERSION&&setTimeout(()=>{},1e3),this.storeSrv.connectStatus=p.hj.CONNECTED,this.storeSrv.setDeviceInfo({version:o[0],blocklys:o[1],resources:o[2],keys:e,wavs:t}),i}return this.storeSrv.connectStatus=p.hj.DISCONNECTED,this.storeSrv.setDeviceInfo(null),i},e=>{this._locker=!1,this.storeSrv.connectStatus=p.hj.DISCONNECTED,this.storeSrv.setDeviceInfo(null)},()=>{this._locker=!1}))}getDeviceStatus(){if(this.checkApikeyNull())return h.y.create(e=>e.next(!1));this.translate.get("CONNECT_LOADING").subscribe(e=>{this.globalOperatorSrv.createMessageBox().instance.loading(e)}),this.storeSrv.connectStatus=p.hj.CONNECTING;let e=this.storeSrv.getDeviceToken(this.storeSrv.apiKey.value);return this.http.get(`${this.storeSrv.apiUrl}/${e}/isHardwareConnected`,{withCredentials:!0}).pipe(u(1e4),(0,d.b)(e=>(setTimeout(()=>{},1e3),0===e.code&&!1!==e.data?this.storeSrv.connectStatus=p.hj.CONNECTED:(this.translate.get("EXECUTECODE_ERROR").subscribe(e=>{this.globalOperatorSrv.createMessageBox().instance.error(e)}),this.storeSrv.connectStatus=p.hj.DISCONNECTED),0===e.code&&!1!==e.data),e=>{this.seniorOperatorSrv.requestError(0,e),this.storeSrv.connectStatus=p.hj.DISCONNECTED}),this.releaseLocker())}execCode(e){if(this.checkApikeyNull())return h.y.create(e=>e.next(!1));if(this._locker)return new g.xQ;this._locker=!0,this.timestamp=(new Date).getTime();let t=this.storeSrv.getDeviceToken(this.storeSrv.apiKey.value);return this.http.post(`${this.storeSrv.apiUrl}/${t}/exec`,e,{withCredentials:!0}).pipe(this.releaseLocker(),this.releaseIsContinue())}uploadImg(e){if(this.checkApikeyNull())return h.y.create(e=>e.next(!1));if(this._locker)return new g.xQ;this._locker=!0,m().fire({title:"Loading...",allowOutsideClick:!1,didOpen:()=>{m().showLoading()}});let t=this.storeSrv.getDeviceToken(this.storeSrv.apiKey.value);const i=new n.aW("POST",`${this.storeSrv.apiUrl}/${t}/root/flash/res/${e.name}`,e,{reportProgress:!0,responseType:"text",withCredentials:!0});return this.http.request(i).pipe(this.releaseLocker())}deleteImg(e){if(this.checkApikeyNull())return h.y.create(e=>e.next(!1));if(this._locker)return new g.xQ;this._locker=!0;let t=this.storeSrv.getDeviceToken(this.storeSrv.apiKey.value);return this.http.delete(`${this.storeSrv.apiUrl}/${t}/root/flash/res/${e}`,{withCredentials:!0}).pipe(this.releaseLocker())}reloadImg(e){if(this.isContinue=!0,this.checkApikeyNull())return h.y.create(e=>e.next(!1));if(this._locker)return new g.xQ;this._locker=!0;let t=this.storeSrv.getDeviceToken(this.storeSrv.apiKey.value);return this.http.get(`${this.storeSrv.apiUrl}/${t}/fs/flash/res/${e}`,{withCredentials:!0}).pipe(this.releaseLocker())}reloadDirImg(e,t){if(this.isContinue=!0,this.checkApikeyNull())return h.y.create(e=>e.next(!1));if(this._locker)return new g.xQ;this._locker=!0;let i=this.storeSrv.getDeviceToken(this.storeSrv.apiKey.value);return this.http.get(`${this.storeSrv.apiUrl}/${i}/fs/flash/${e&&"null"!==e?`${e}/${t}`:t}`,{withCredentials:!0}).pipe(this.releaseLocker())}beforeUploadCode(){let e;const t=sessionStorage.getItem("_type");return e="core"==t||"fire"===t||t===p.__.CORETWO||t===p.__.TOUGH?["lcd.font(lcd.FONT_DejaVu24)","lcd.setTextColor(0xffffff,0x30A9DE)","lcd.fillRoundRect(40,90,240,60,10,0x30A9DE)",'lcd.print("Uploading...",86,110)']:"stick-C-plus"===t||t===p.__.STICK_C_PLUS2?["lcd.font(lcd.FONT_Default)","lcd.setTextColor(0xffffff,0x30A9DE)","lcd.fillRoundRect(30, 109, 80, 30, 7, 0x30A9DE)",'lcd.print("Uploading", lcd.CENTER, lcd.CENTER)']:t===p.__.COREINK||t===p.__.PAPER?["from m5stack import *"]:t===p.__.M5STATION?["lcd.fillScreen(0x000000)","lcd.font(lcd.FONT_Default)","lcd.setTextColor(0xffffff,0x30A9DE)","lcd.fillRoundRect(80, 56, 80, 30, 7, 0x30A9DE)",'lcd.print("Uploading", lcd.CENTER, lcd.CENTER)']:["lcd.font(lcd.FONT_Default)","lcd.setTextColor(0xffffff,0x30A9DE)","lcd.fillRoundRect(0, 69, 80, 30, 7 ,0x30A9DE)",'lcd.print("Uploading", lcd.CENTER, lcd.CENTER)'],this.execCode(e.join("\n"))}uploadCode(e){if(this.checkApikeyNull())return h.y.create(e=>e.next(!1));if(this._locker)return new g.xQ;this._locker=!0;let t=this.storeSrv.getDeviceToken(this.storeSrv.apiKey.value);return this.http.post(`${this.storeSrv.apiUrl}/${t}/root/flash/apps/${this.storeSrv.projectName.value}.py`,e,{responseType:"text",withCredentials:!0}).pipe(this.releaseLocker())}afterUploadCode(){let e;const t=sessionStorage.getItem("_type");return e="core"===t||"fire"===t||t===p.__.CORETWO||t===p.__.TOUGH?["lcd.font(lcd.FONT_DejaVu24)","lcd.setTextColor(0xffffff,lcd.ORANGE)","lcd.fillRoundRect(40,90,240,60,10,lcd.ORANGE)",'lcd.print("Resetting...",86,110)',"from utils import filecp",`filecp('apps/${this.storeSrv.projectName.value}.py', 'main.py')`,"core_start('app')","machine.reset()"]:"stick-C-plus"===t||t===p.__.STICK_C_PLUS2?["lcd.font(lcd.FONT_Default)","lcd.setTextColor(0xffffff, lcd.ORANGE)","lcd.fillRoundRect(30, 109, 80, 30, 7 ,lcd.ORANGE)",'lcd.print("Resetting", lcd.CENTER, lcd.CENTER)',"from utils import filecp",`filecp('apps/${this.storeSrv.projectName.value}.py', 'main.py')`,"core_start('app')","machine.reset()"]:t===p.__.COREINK||t===p.__.PAPER?["from utils import filecp",`filecp('apps/${this.storeSrv.projectName.value}.py', 'main.py')`,"core_start('app')","machine.reset()"]:t===p.__.M5STATION?["lcd.font(lcd.FONT_Default)","lcd.setTextColor(0xffffff, lcd.ORANGE)","lcd.fillRoundRect(80, 56, 80, 30, 7 ,lcd.ORANGE)",'lcd.print("Resetting", lcd.CENTER, lcd.CENTER)',"from utils import filecp",`filecp('apps/${this.storeSrv.projectName.value}.py', 'main.py')`,"core_start('app')","machine.reset()"]:["lcd.font(lcd.FONT_Default)","lcd.setTextColor(0xffffff, lcd.ORANGE)","lcd.fillRoundRect(0, 69, 80, 30, 7 ,lcd.ORANGE)",'lcd.print("Resetting", lcd.CENTER, lcd.CENTER)',"from utils import filecp",`filecp('apps/${this.storeSrv.projectName.value}.py', 'main.py')`,"core_start('app')","machine.reset()"],this.isContinue=!0,this.execCode(e.join("\n"))}saveBlocklyFile(e){let t=this.storeSrv.getDeviceToken(this.storeSrv.apiKey.value);return this.http.post(`${this.storeSrv.apiUrl}/${t}/root/flash/blocks/${this.storeSrv.projectName.value}.m5f`,e,{responseType:"text",withCredentials:!0})}loadBlocklyFile(e){let t=this.storeSrv.getDeviceToken(this.storeSrv.apiKey.value);return this.http.get(`${this.storeSrv.apiUrl}/${t}/root/flash/blocks/${e}`,{withCredentials:!0})}deleteBlocklyFile(e){let t=this.storeSrv.getDeviceToken(this.storeSrv.apiKey.value);return this.http.delete(`${this.storeSrv.apiUrl}/${t}/root/flash/blocks/${e}`,{withCredentials:!0})}getRemoteKey(e){if(this.checkApikeyNull())return h.y.create(e=>e.next(!1));if(this._locker)return new g.xQ;this._locker=!0;let t=this.storeSrv.getDeviceToken(this.storeSrv.apiKey.value);return this.http.post(`${this.storeSrv.apiUrl}/${t}/remotor`,e,{withCredentials:!0}).pipe(this.releaseLocker())}loadExample(e){return this.http.get(`assets/examples/${e}?v=${o.N.version}.${o.N.versionChunk}`,{withCredentials:!0})}read_file(e){return this.http.get(e,{withCredentials:!0})}createDashboard(e){return this.http.post(`http://remote.api.m5stack.com/api/chart/${this.storeSrv.apiKey.value}`,e,{withCredentials:!0})}getDataToken(){return this._locker?new g.xQ:(this._locker=!0,this.http.post("https://ezdata.m5stack.com/api/accessKey/apply",{withCredentials:!0}).pipe(this.releaseLocker()))}loadExamplesFile(e){let t=sessionStorage.getItem("_type")||p.__.CORE,i=e.toLowerCase();if(null===i)return;/(\.m5f)$/i.test(i)||(i+=".m5f");let n="",o=p.__.CORE;this.exampleList.forEach(e=>{e.file.toLowerCase()===i&&(n=e.title,o=e.type,t===p.__.FIRE&&e.type===p.__.CORE||t===p.__.ATOM_MATRIX&&e.type==p.__.ATOM?o=t:e.type==p.__.ATOM&&("atom_toio_tof_demo.m5f"===e.file||"toio_mat_move_to_target_xy_demo.m5f"===e.file||"toio_mat_read_posid_by_btn_demo.m5f"===e.file||"toio_mat_read_posid_in_loop_demo.m5f"===e.file||"toio_mat_read_xy_to_matrix_demo.m5f"===e.file)&&(o=p.__.ATOM_MATRIX))}),""===n&&(n="main"),this.storeSrv.loddingMODE.next(!0),this.loadExample(i).subscribe(e=>{let i=e;t!==o&&this.storeSrv.setType(o);try{this.globalOperatorSrv.openM5F(i),this.storeSrv.setProjectName(n),this.resetBlocklyZoom()}catch(r){try{this.globalOperatorSrv.openOldM5F(i),this.storeSrv.setProjectName(n),this.resetBlocklyZoom()}catch(s){}}},e=>{this.storeSrv.loddingMODE.next(!1),this.globalOperatorSrv.createMessageBox().instance.error("Invalid examples")},()=>{this.storeSrv.loddingMODE.next(!1)}),window.BlocklyEditor&&(window.BlocklyEditor.toolbox_.selectedItem_?window.BlocklyEditor.toolbox_.setSelectedItem(null):window.BlocklyEditor.getFlyout().isVisible_&&window.BlocklyEditor.getFlyout().setVisible(!1))}resetBlocklyZoom(){setTimeout(()=>{let e=document.createEvent("MouseEvents");window.BlocklyEditor.zoomControls_.resetZoom_(e)},100)}jumpExamplesRoute(e){e=e.replace(/\.m5f/i,"");let t=new URL(window.location.href);window.open(`${t.protocol+"//"+t.hostname+(t.port?":"+t.port:"")}/?examples=${e}`)}clearUrlSearch(){let e=new URL(window.location.href);e.search&&(e.search="",window.history.pushState({path:e.toString()},"",e.toString()))}}return e.\u0275fac=function(t){return new(t||e)(_.LFG(n.eN),_.LFG(v.d),_.LFG(y.t),_.LFG(b.V),_.LFG(w.sK))},e.\u0275prov=_.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},31682:function(e,t,i){"use strict";i.d(t,{j:function(){return d}});var n=i(25370),o=i(7637),r=i(67302),s=i(71320),a=i(50402),l=i(37716),c=i(22e3),h=i(8318),u=i(61797);let d=(()=>{class e{constructor(e,t,i){this.storeSrv=e,this.codeEditorSrv=t,this.globalOperatorSrv=i,this.width=0,this.height=0,this.screenOffsetX=0,this.screenOffsetY=165,this.scaleRatio=.65,this.eRatio=1,this.isStick=1,this.rotate=Math.PI/180,this.body_width=667,this.body_height=375,e.getType().subscribe(e=>{if(this.body_width=document.body.scrollWidth<=568?document.body.scrollHeight:document.body.scrollWidth,this.body_height=document.body.scrollHeight>=568?document.body.scrollWidth:document.body.scrollHeight-100,"stick"===e)this.isStick=0,this.shell_x=(this.body_width-200*this.scaleRatio)/2,this.shell_w=(this.body_width-200*this.scaleRatio)/2+200*this.scaleRatio,this.screenOffsetX=this.shell_x+36*this.scaleRatio,this.shell_y=this.body_height-400*this.scaleRatio>0?(this.body_height-400*this.scaleRatio)/2:0,this.screenOffsetY=44,this.eRatio=2;else if("core"===e){this.isStick=1,this.shell_x=(this.body_width-380*this.scaleRatio)/2,this.shell_w=(this.body_width-380*this.scaleRatio)/2+380*this.scaleRatio,this.screenOffsetX=this.shell_x+30*this.scaleRatio,this.shell_y=this.body_height-380*this.scaleRatio>0?(this.body_height-380*this.scaleRatio)/2:0,this.screenOffsetY=65,this.eRatio=1;try{this.storeSrv.removeHatList(),this.updateHatSvg(),this.globalOperatorSrv.codeLock.value||this.codeEditorSrv.updateWorkspaceValue()}catch(t){}}else"stick-C"===e&&(this.isStick=2,this.shell_x=(this.body_width-235*this.scaleRatio)/2,this.shell_w=(this.body_width-235*this.scaleRatio)/2+235*this.scaleRatio,this.screenOffsetX=this.shell_x+57.5*this.scaleRatio,this.shell_y=this.body_height-470*this.scaleRatio>0?(this.body_height-470*this.scaleRatio)/2:0,this.screenOffsetY=54,this.eRatio=1.5);this.screenOffsetY=this.shell_y+30})}init(e){let t=document.getElementById(e);this.zrenderWorkspace=n.init(t,{renderer:"canvas"}),this.width=this.zrenderWorkspace.getWidth(),this.height=this.zrenderWorkspace.getHeight();var i=this;window.onresize=function(){try{var e=document.documentElement.clientWidth,t=document.documentElement.clientHeight;t<e?(i.width=e,i.height=t):(i.width=t,i.height=e),i.zrenderWorkspace.resize({width:i.width,height:i.height-68})}catch(n){console.log(n)}},window.zrenderWorkspace=this.zrenderWorkspace,this.zrenderWorkspace.redrawSvg=this.redrawSvg.bind(this),this.createComponentSvg=this.createComponentSvg.bind(this),this.globalOperatorSrv.getSelectedComponent().subscribe(e=>{null!==e&&(this.selectedComponent=e)})}createToolBarSvg(e){e.toolList.forEach((e,t)=>{const i=new n.Group({});let s;s=this.globalOperatorSrv.ismb?70:48,i.position=[this.shell_x+(1==this.isStick?380*this.scaleRatio:235*this.scaleRatio)+20,this.shell_y+t*s*this.scaleRatio];const a=new n.Image({style:{x:0,y:0,width:s*this.scaleRatio,height:s*this.scaleRatio,image:"../../assets/images/components/"+e.icon},cursor:"pointer",draggable:!0});i.add(a);let l,c=this;0==c.isStick?l=320:2==c.isStick&&(l=80*c.eRatio),i.on("dragstart",function(t){t.target.attr("position",[0,0]);let i=new e.builder({name:"__temp"+Date.now(),layer:99999});const n=c.createComponentSvg(i);if(c.zrenderWorkspace.add(n),i.type===r.Eq.CIRCLE)n.attr("position",[t.offsetX,t.offsetY]);else if(i.type===r.Eq.LABEL){let e=t.offsetX-n.getBoundingRect().width/2*c.scaleRatio,i=t.offsetY-n.getBoundingRect().height/2*c.scaleRatio;n.attr("position",[e,i])}else n.attr("position",i.type===r.Eq.IMAGE||i.type===r.Eq.TITLE?[t.offsetX-n.style.width/2*c.scaleRatio,t.offsetY-n.style.height/2*c.scaleRatio]:[t.offsetX-i.width/2*c.scaleRatio,t.offsetY-i.height/2*c.scaleRatio]);this.__m5ui={temp_component_svg:n,temp_component:i},n.on("mousedown",function(e){e.debug()})}),i.on("dragend",function(e){if(c.zrenderWorkspace.remove(this.__m5ui.temp_component_svg),c.screenContainer.children()[0].contain(e.event.layerX?e.event.layerX:e.event.zrX,e.event.layerY?e.event.layerY:e.event.zrY)){let e=c.storeSrv.getComponentDefaultName(this.__m5ui.temp_component.type),t=c.storeSrv.getComponentDefaultLayer();(0==c.isStick||1==c.isStick||2==c.isStick)&&(t+=3);let i=null;switch(this.__m5ui.temp_component.type){case r.Eq.TITLE:i=new o.r3({name:e,layer:t});break;case r.Eq.LABEL:i=new o._n({name:e,layer:t,x:this.__m5ui.temp_component_svg.position[0]-c.screenOffsetX,y:this.__m5ui.temp_component_svg.position[1]-c.screenOffsetY,rotation:this.__m5ui.temp_component_svg.rotation*this.rotate});break;case r.Eq.RECTANGLE:i=new o.b8({name:e,layer:t,x:this.__m5ui.temp_component_svg.position[0]-c.screenOffsetX,y:this.__m5ui.temp_component_svg.position[1]-c.screenOffsetY});break;case r.Eq.CIRCLE:i=new o.HF({name:e,layer:t,x:this.__m5ui.temp_component_svg.position[0]-c.screenOffsetX,y:this.__m5ui.temp_component_svg.position[1]-c.screenOffsetY});break;case r.Eq.IMAGE:i=new o.cu({name:e,layer:t,x:this.__m5ui.temp_component_svg.position[0]-c.screenOffsetX,y:this.__m5ui.temp_component_svg.position[1]-c.screenOffsetY});break;case r.Eq.TITLE:i=new o.r3({name:e,layer:t,x:this.__m5ui.temp_component_svg.position[0]-c.screenOffsetX,y:this.__m5ui.temp_component_svg.position[1]-c.screenOffsetY})}if(null===i)return;c.createSvg(i),0==c.isStick?(i.width=i.width/2,i.height=i.height/2,i.x=i.x/2,i.y=i.y/2):1==c.isStick||2==c.isStick&&(i.width=i.width/c.eRatio,i.height=i.height/c.eRatio,i.x=i.x/c.eRatio,i.y=i.y/c.eRatio,i.radius=i.radius/c.eRatio),c.storeSrv.addComponent(i),i.x=Math.floor(i.x/c.scaleRatio),i.y=Math.floor(i.y/c.scaleRatio),c.globalOperatorSrv.codeLock.value||c.codeEditorSrv.updateWorkspaceValue()}}),i.on("drag",function(e){e.target.attr("position",[0,0]);let t=0,i=0;this.__m5ui.temp_component.type===r.Eq.CIRCLE?(t=e.offsetX,i=e.offsetY,this.__m5ui.temp_component_svg.attr("position",[t,i])):this.__m5ui.temp_component.type===r.Eq.LABEL?(t=e.offsetX-this.__m5ui.temp_component_svg.getBoundingRect().width/2*c.scaleRatio,i=e.offsetY-this.__m5ui.temp_component_svg.getBoundingRect().height/2*c.scaleRatio,this.__m5ui.temp_component_svg.attr("position",[t,i])):this.__m5ui.temp_component.type===r.Eq.IMAGE?(t=e.offsetX-this.__m5ui.temp_component_svg.style.width/2*c.scaleRatio,i=e.offsetY-this.__m5ui.temp_component_svg.style.height/2*c.scaleRatio,this.__m5ui.temp_component_svg.attr("position",[t,i])):this.__m5ui.temp_component.type===r.Eq.TITLE?(t=e.offsetX-this.__m5ui.temp_component_svg.getBoundingRect().width/2*c.scaleRatio,i=e.offsetY-this.__m5ui.temp_component_svg.getBoundingRect().height/2*c.scaleRatio,this.__m5ui.temp_component_svg.attr("position",[t,i])):(t=e.offsetX-this.__m5ui.temp_component.width/2*c.scaleRatio,i=e.offsetY-this.__m5ui.temp_component.height/2*c.scaleRatio,this.__m5ui.temp_component_svg.attr("position",[t,i]))}),this.zrenderWorkspace.add(i)})}createSimulator(){const e=new n.Group({});e.position=[this.shell_x,this.shell_y];const t=new n.Rect({shape:{r:24,x:0,y:0,width:380*this.scaleRatio,height:380*this.scaleRatio},style:{stroke:"#5A5A5A",lineWidth:6},cursor:"default"}),i=new n.Rect({shape:{r:10,x:-2*this.scaleRatio,y:100*this.scaleRatio,width:5*this.scaleRatio,height:40*this.scaleRatio},style:{fill:"red"},cursor:"default"});e.add(t),e.add(i),[{x:70,y:330},{x:160,y:330},{x:250,y:330}].forEach((t,i)=>{const o=new n.Rect({shape:{r:5,x:t.x*this.scaleRatio,y:t.y*this.scaleRatio,width:56*this.scaleRatio,height:30*this.scaleRatio},style:{fill:"#C2BFCB"}});let r=0===i?"____buttonA":1===i?"____buttonB":"____buttonC";o.on("click",e=>{const t=this.storeSrv.getComponentById(r);this.globalOperatorSrv.setSelectedComponent(t)}),o.on("dblclick",e=>{let t=window.BlocklyEditor.newBlock("button_callback",window.Blockly.utils.genUid());0===i?(t.inputList[0].fieldRow[1].text_="A",t.inputList[0].fieldRow[1].value_="A",t.moveBy(50,100)):1===i?(t.inputList[0].fieldRow[1].text_="B",t.inputList[0].fieldRow[1].value_="B",t.moveBy(50,200)):2===i&&(t.inputList[0].fieldRow[1].text_="C",t.inputList[0].fieldRow[1].value_="C",t.moveBy(50,300)),t.getRelativeToSurfaceXY(),t.initSvg(),t.render()}),e.add(o)}),[{x:-26,y:230,width:12,height:60,fillColr:"#c03546"},{x:110,y:-26,width:60,height:12,fillColr:"#5e5e5f"},{x:210,y:-26,width:60,height:12,fillColr:"rgb(0, 160, 200)"}].forEach(t=>{const i=new n.Rect({shape:{x:t.x*this.scaleRatio,y:t.y*this.scaleRatio,width:t.width*this.scaleRatio,height:t.height*this.scaleRatio},style:{fill:t.fillColr,opacity:0}});e.add(i)}),this.workContainer=e,this.zrenderWorkspace.add(e),this.zrenderWorkspace.workContainer=e}creatM5stickSimulator(){const e=new n.Group({});e.position=[this.shell_x,this.shell_y];const t=new n.Rect({shape:{r:10,x:0,y:0,width:200*this.scaleRatio,height:400*this.scaleRatio},style:{stroke:"#666",fill:"#444",lineWidth:2},cursor:"default"}),i=new n.Rect({shape:{r:10,x:-2*this.scaleRatio,y:320*this.scaleRatio,width:5*this.scaleRatio,height:40*this.scaleRatio},style:{fill:"red"},cursor:"default"}),o=new n.Rect({shape:{r:10,x:198*this.scaleRatio,y:100*this.scaleRatio,width:5*this.scaleRatio,height:40*this.scaleRatio},style:{fill:"#ccc"},cursor:"default"}),r=new n.Rect({shape:{r:10,x:25*this.scaleRatio,y:-2*this.scaleRatio,width:14*this.scaleRatio,height:5*this.scaleRatio},style:{fill:"#ccc"},cursor:"default"}),s=new n.Text({position:[40*this.scaleRatio,320*this.scaleRatio],style:{text:"M5",fontWeight:700,fontSize:70*this.scaleRatio,textFill:"#ccc"},cursor:"default"});e.add(t),e.add(i),e.add(s),e.add(o),e.add(r),this.workContainer=e,this.zrenderWorkspace.add(e),this.zrenderWorkspace.workContainer=e}creatStickcMulator(){let e=this.scaleRatio;const t=new n.Group({});t.position=[this.shell_x,this.shell_y];const i=new n.Rect({shape:{r:10,x:0,y:0,width:235*e,height:470*e},style:{stroke:"#666",fill:"#ea8432",lineWidth:2},cursor:"default"}),o=new n.Rect({shape:{r:10,x:this.shell_x+50,y:this.shell_y-5,width:50*this.scaleRatio,height:5*this.scaleRatio},style:{fill:"#ccc"},cursor:"default"}),r=new n.Rect({shape:{r:10,x:-2*e,y:350*e,width:5*e,height:40*e},style:{fill:"red"},cursor:"default"}),s=new n.Rect({shape:{r:10,x:230*e,y:95*e,width:5*e,height:40*e},style:{fill:"#ccc"},cursor:"default"}),a=new n.Rect({shape:{r:10,x:25*e,y:-2*e,width:14*e,height:5*e},style:{fill:"red"},cursor:"default"}),l=new n.Rect({shape:{r:10,x:38*e,y:-2*e,width:14*e,height:5*e},style:{fill:"#ccc"},cursor:"default"}),c=new n.Rect({shape:{r:3,x:40*e,y:330*e,width:156*e,height:98*e},style:{fill:"#555555"},cursor:"pointer"}),h=new n.Rect({shape:{r:3,x:43*e,y:333*e,width:150*e,height:105*e},style:{fill:"#ea8432"},cursor:"pointer"}),u=new n.Text({position:[57*e,355*e],style:{text:"M5",fontWeight:700,fontSize:75*e,textFill:"#d96e05",fontFamily:"Verdana, Arial, Helvetica, sans-serif"},cursor:"default"});t.add(i),t.add(r),t.add(c),t.add(h),t.add(u),t.add(s),t.add(a),t.add(l),t.add(o),this.workContainer=t,this.zrenderWorkspace.add(t),this.zrenderWorkspace.workContainer=t}createMainEditArea(){const e=new n.Group({});e.position=[this.screenOffsetX,this.screenOffsetY],this.screenContainer=e,this.zrenderWorkspace.add(e),this.zrenderWorkspace.screenContainer=e}createDeleteArea(){const e=new n.Group({});e.position=[0,0];const t=new n.Image({style:{image:"../../assets/images/trash.png",x:(this.shell_x-40*this.scaleRatio)/2,y:5*this.scaleRatio,width:40*this.scaleRatio,height:40*this.scaleRatio,opacity:.6}}),i=new n.Rect({shape:{x:0,y:0,width:this.shell_x,height:40*this.scaleRatio},style:{opacity:.3,fill:"red"}});e.add(i),e.add(t),e.hide(),this.zrenderWorkspace.add(e),this.zrenderWorkspace.trash=e}createUnitArea(){var e=this;const t=new n.Group({});t.position=[50*this.scaleRatio,25];const i=new n.Text({style:{text:"Units",fontWeight:"bolder",fontSize:24*this.scaleRatio,textFill:"#FFFFFF"}});i.position=[50*this.scaleRatio,25],i.on("click",function(t){e.zrenderWorkspace.hatContainer.hide(),e.zrenderWorkspace.unitContainer.show(),t.target.attr({style:{textFill:"#00FF99",fontSize:26*e.scaleRatio}}),e.zrenderWorkspace.hattext.attr({style:{textFill:"#ffffff",fontSize:24*e.scaleRatio}})}),this.unitContainer=t,this.zrenderWorkspace.add(i),this.zrenderWorkspace.add(t),this.zrenderWorkspace.unitContainer=t,this.zrenderWorkspace.unittext=i}createHatArea(){var e=this;const t=new n.Group({});t.position=[50*this.scaleRatio,25];const i=new n.Text({style:{text:"Hat",fontWeight:"bolder",fontSize:24*this.scaleRatio,textFill:"#FFFFFF"}});i.position=[150*this.scaleRatio,25],i.on("click",function(t){t.target.attr({style:{textFill:"#00FF99",fontSize:26*e.scaleRatio}}),e.zrenderWorkspace.unittext.attr({style:{textFill:"#ffffff",fontSize:24*e.scaleRatio}}),e.zrenderWorkspace.hatContainer.show(),e.zrenderWorkspace.unitContainer.hide()}),this.hatContainer=t,this.zrenderWorkspace.add(i),this.zrenderWorkspace.add(t),this.zrenderWorkspace.hatContainer=t,this.zrenderWorkspace.hatContainer.hide(),this.zrenderWorkspace.unittext.attr({style:{textFill:"#00FF99",fontSize:26*e.scaleRatio}}),this.zrenderWorkspace.hattext=i,"stick-C"==this.storeSrv.getType().source._value?this.zrenderWorkspace.hattext.show():this.zrenderWorkspace.hattext.hide()}createRefresh(){const e=new n.Group({});var t=document.documentElement.clientWidth,i=document.documentElement.clientHeight,o=this;i<t?(o.width=t,o.height=i):(o.width=i,o.height=t),e.position=[o.width-80*this.scaleRatio,o.height-180*this.scaleRatio];const r=new n.Image({style:{image:"../../assets/images/refresh.png",x:0*this.scaleRatio,y:0*this.scaleRatio,width:48*this.scaleRatio,height:48*this.scaleRatio,opacity:1}});new n.Text({style:{text:"Refresh",fontWeight:"bolder",fontSize:24*this.scaleRatio,textFill:"#FFFFFF"}}),o=this,r.on("click",function(e){var t=document.documentElement.clientWidth,i=document.documentElement.clientHeight;i<t?(o.width=t,o.height=i):(o.width=i,o.height=t),o.zrenderWorkspace.resize({width:o.width,height:o.height-68}),o.zrenderWorkspace.refresh()}),e.add(r),o.zrenderWorkspace.add(e)}createComponentSvg(e){switch(e.type){case r.Eq.SCREEN:return this.createScreenComponentSvg(e);case r.Eq.BUTTON:return this.createButtonComponentSvg(e);case r.Eq.TITLE:return this.createTitleComponentSvg(e);case r.Eq.LABEL:return this.createLabelComponentSvg(e);case r.Eq.RECTANGLE:return this.createRectangleComponentSvg(e);case r.Eq.CIRCLE:return this.createCircleComponentSvg(e);case r.Eq.IMAGE:return this.createImageComponentSvg(e)}}createScreenComponentSvg(e){const t=new n.Rect({shape:{x:e.x*this.scaleRatio,y:e.y*this.scaleRatio,width:e.width*this.scaleRatio,height:e.height*this.scaleRatio},style:{fill:e.backgroundColor}});t.id=e.id,t.__component=e;let i=this;return t.on("click",function(e){i.componentClick.apply(this,[e,i])}),e.componentSvg=t,t}createButtonComponentSvg(e){const t=new n.Rect({shape:{x:e.x*this.scaleRatio,y:e.y*this.scaleRatio,width:e.width*this.scaleRatio,height:e.height*this.scaleRatio,r:[4,4,0,0]},style:{fill:"#111111",stroke:"#FFFFFF",textRect:{x:e.x*this.scaleRatio,y:e.y*this.scaleRatio,width:e.width*this.scaleRatio,height:e.height*this.scaleRatio},text:e.text,textFill:"#FFFFFF",fontSize:15*this.scaleRatio},cursor:"default"});return e.visibility?t.show():t.hide(),e.componentSvg=t,t}createTitleComponentSvg(e){const t=new n.Rect({shape:{x:e.x*this.scaleRatio,y:e.y*this.scaleRatio,width:1==this.isStick?e.width*this.scaleRatio:80*this.eRatio*this.scaleRatio,height:2==this.isStick?20*this.scaleRatio*this.eRatio:e.height*this.scaleRatio*this.eRatio},style:{fill:e.backgroundColor,textRect:{x:e.x*this.scaleRatio*this.eRatio,y:e.y*this.scaleRatio*this.eRatio,width:1==this.isStick?e.width*this.scaleRatio:80*this.eRatio*this.scaleRatio,height:e.height*this.scaleRatio*this.eRatio},text:e.text,textFill:e.color,fontSize:Math.floor(16*this.eRatio*this.scaleRatio),textPosition:2==this.isStick?[e.textOffset*this.scaleRatio*this.eRatio,6]:[e.textOffset*this.scaleRatio*this.eRatio,3]},z:this.storeSrv.getComponentDefaultLayer(),draggable:!0});t.id=e.id,t.position=[0,0],t.__component=e;let i=this;return t.on("dragstart",function(e){i.componentDragStart.apply(this,[e,i])}),t.on("drag",function(e){i.componentDrag.apply(this,[e,i])}),t.on("dragend",function(e){i.componentDragEnd.apply(this,[e,i])}),e.componentSvg=t,t}createLabelComponentSvg(e){let t={family:"sans-serif",size:Math.floor(16*this.eRatio*this.scaleRatio)};0==this.isStick?t={family:"sans-serif",size:16}:1==this.isStick?t=e.font===r.co.UBUNTU_C?{family:"Ubuntu-C",size:15}:e.font===r.co.COMIC?{family:"Comic",size:25}:e.font===r.co.DEJAVUSANS_18PX?{family:"DejaVuSans",size:18}:e.font===r.co.DEJAVUSANS_24PX?{family:"DejaVuSans",size:24}:e.font===r.co.DEJAVUSANS_40PX?{family:"DejaVuSans",size:40}:e.font===r.co.DEJAVUSANS_56PX?{family:"DejaVuSans",size:56}:e.font===r.co.DEJAVUSANS_72PX?{family:"DejaVuSans",size:72}:{family:"sans-serif",size:16}:2==this.isStick&&(t={family:"sans-serif",size:16}),t=e.font===r.co.UBUNTU_C?{family:"Ubuntu-C",size:Math.floor(16*this.eRatio*this.scaleRatio)}:e.font===r.co.DEFAULT_SMALL?{family:"sans-serif",size:Math.floor(11*this.eRatio*this.scaleRatio)}:e.font===r.co.COMIC?{family:"Comic",size:Math.floor(25*this.eRatio*this.scaleRatio)}:e.font===r.co.DEJAVUSANS_18PX?{family:"DejaVuSans",size:Math.floor(20.4*this.eRatio*this.scaleRatio)}:e.font===r.co.DEJAVUSANS_24PX?{family:"DejaVuSans",size:Math.floor(25.8*this.eRatio*this.scaleRatio)}:e.font===r.co.DEJAVUSANS_40PX?{family:"DejaVuSans",size:Math.floor(42*this.eRatio*this.scaleRatio)}:e.font===r.co.DEJAVUSANS_56PX?{family:"DejaVuSans",size:Math.floor(56*this.eRatio*this.scaleRatio)}:e.font===r.co.DEJAVUSANS_72PX?{family:"DejaVuSans",size:Math.floor(72*this.eRatio*this.scaleRatio)}:{family:"sans-serif",size:Math.floor(16*this.eRatio*this.scaleRatio)};const i=new n.Text({style:{text:e.text,fontSize:t.size,fontFamily:t.family,textFill:e.color},draggable:!0,z:this.storeSrv.getComponentDefaultLayer(),rotation:e.rotation*this.rotate});i.id=e.id,i.position=[e.x,e.y],i.rotation="number"==typeof e.rotation?e.rotation*this.rotate:1,i.__component=e;let o=this;return i.on("dragstart",function(e){o.componentDragStart.apply(this,[e,o])}),i.on("drag",function(e){o.componentDrag.apply(this,[e,o])}),i.on("dragend",function(e){o.componentDragEnd.apply(this,[e,o])}),i.on("dblclick",function(e){o.componentDBlclick.apply(this,[e,o])}),e.componentSvg=i,i}createRectangleComponentSvg(e){const t=new n.Rect({shape:{width:e.width*this.scaleRatio,height:e.height*this.scaleRatio},style:{fill:e.backgroundColor,stroke:e.borderColor},z:this.storeSrv.getComponentDefaultLayer(),draggable:!0});t.id=e.id,t.position=[e.x,e.y],t.__component=e;let i=this;return t.on("dragstart",function(e){i.componentDragStart.apply(this,[e,i])}),t.on("drag",function(e){i.componentDrag.apply(this,[e,i])}),t.on("dragend",function(e){i.componentDragEnd.apply(this,[e,i])}),t.on("dblclick",function(e){i.componentDBlclick.apply(this,[e,i])}),e.componentSvg=t,t}createCircleComponentSvg(e){const t=new n.Circle({shape:{r:e.radius*this.scaleRatio},style:{fill:e.backgroundColor,stroke:e.borderColor},z:this.storeSrv.getComponentDefaultLayer(),draggable:!0});t.id=e.id,t.position=[e.x,e.y],t.__component=e;let i=this;return t.on("dragstart",function(e){i.componentDragStart.apply(this,[e,i])}),t.on("drag",function(e){i.componentDrag.apply(this,[e,i])}),t.on("dragend",function(e){i.componentDragEnd.apply(this,[e,i])}),t.on("dblclick",function(e){i.componentDBlclick.apply(this,[e,i])}),e.componentSvg=t,t}createImageComponentSvg(e){let t=new Image;t.src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEAYABgAAD/4QA6RXhpZgAATU0AKgAAAAgAA1EQAAEAAAABAQAAAFERAAQAAAABAAAAAFESAAQAAAABAAAAAAAAAAD/2wBDAAIBAQIBAQICAgICAgICAwUDAwMDAwYEBAMFBwYHBwcGBwcICQsJCAgKCAcHCg0KCgsMDAwMBwkODw0MDgsMDAz/2wBDAQICAgMDAwYDAwYMCAcIDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAz/wAARCABkAGQDASIAAhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQAAAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSExBhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwD6F/bw/b48UfH74natpej6tfaT4K0y4ktLO0tJ2iW/VGKmeYqRvL4yFPyqMDGcsfmpmLNk8k8knvQTk19l/wDBNr/gnHpX7R3hubxt42e8Ph2O5a2sNPt5DCdRZP8AWO8g+ZYwflAUhiwbkAfN/e2JxGTcH5MpyXJShZWivelL9ZPVtt923Y/zXwmFz7jrPXThL2lao3JuTtGEfx5Yx0SSXZJNs+NKK/Yn/h1f8Bv+hE/8rWo//H6P+HV/wG/6ET/ytaj/APH6+C/4j5w//wA+a3/gMP8A5YfpX/EtXE//AD/of+BVP/lR+O1FfsT/AMOr/gN/0In/AJWtR/8Aj9H/AA6v+A3/AEIn/la1H/4/R/xHzh//AJ81v/AYf/LA/wCJauJ/+f8AQ/8AAqn/AMqPx2or9if+HV/wG/6ET/ytaj/8fo/4dX/Ab/oRP/K1qP8A8fo/4j5w/wD8+a3/AIDD/wCWB/xLVxP/AM/6H/gVT/5UfjtRX7E/8Or/AIDf9CJ/5WtR/wDj9H/Dq/4Df9CJ/wCVrUf/AI/R/wAR84f/AOfNb/wGH/ywP+JauJ/+f9D/AMCqf/Kj8dq1PB3jbWPh7r8Oq6Dql/o+pW5zHc2c7Qyp/wACUg4PcdDX6qfEj/gkN8HvFnhq5ttD0vUPCupNGRb3lvqFxciN+xaOZ3DLnqBtJHQg81+XPxb+GGqfBb4l614V1pEXUtDumtpihykmOVdSedrKQwyAcMOBX2vCnHuT8TqpRwifNFe9CaSbi9L2Tkmuj19Vqj8/408Nc94QlSr41xcZP3Z05NpSWtrtRknbVaa2dnoz9KP2Of8Agp7ofjD4KWrfETUo7XxRp872c8yRhRfoqqyz7RgKSGwQONyEjAOAV+W6Ssg+VmX6Givj8w8DclxOJniITlBSbfLG1lfotNF2XQ+6yv6RGf4TCU8NUpwqOCS5pX5pW6t31fd9d2Nr9iP+CVy4/YO8C8df7QJ9/wDiYXNfjvX7E/8ABK//AJMN8Cf9xD/043VZePn/ACT9H/r9H/0iobfRq/5Kev8A9eJf+nKR7p4o8Uad4K8O3mrateW+nabp8TT3NzO4SOFF5JJNfGXxD/4Ld+EdA8Ry2vh3wjq/iGxhl2fbZrtbFZlH8aIUdsHsG2nHUDpR/wAFuviJqGgfB7wl4ctZLiKz8RahNPeFDhZVt1QrG/qC0ocD1jB7CvzPr5Dwt8LcszTLFmuapz521GKbikouzbcWm22n1tbvfT7jxi8Ys3ybN3kuStU3TUXObipNuSUkkpJpJJq7s22+ltf2e/ZO/b48D/tbrNZ6TJcaT4gtkMkuk320TMgxmSNgSsijPOPmHcAYJ9ur8H/gX8RdQ+Evxi8NeItLkuI7zSdQhmUQn5pV3APH7h1LKR3DEV+8FfE+KnA2H4dxtJ4Jv2VZNpN3cXG11fqtVa+vR3tc/QvBnxExXFOX1VmEV7ai4qTSspKSfK7dH7rTS02atewUUUV+Vn7IFFFFABX46/8ABU4bf28fHeOP+PA/+U+2r9iq/Hb/AIKof8n5eO/+4f8A+m61r9v8A/8AkoK3/XmX/pdM/nr6Sn/JMUP+v8f/AE3VPnyiiiv65P4gCv2J/wCCV/8AyYb4E/7iH/pxuq/Hav1z/wCCdvjOz+HH/BNPw94i1Dzjp+g2Gr6jciJd0nlQ3t3I+0ZGW2qcDI5r8T8eKcqmQ0KcFduvFJd24VD+gvo31YUuJMTUqO0Y4ebb7JVKV2dT+33+yX/w1x8Em0qymjtfEOjzfbtKklbbE8m0q0TnBwrqcZ7MFPQEH8kfiJ8BfGnwn8QNpfiLwvrWl3iymFVltH2Tt/0zcArID2KEg9q/ar4O/tD+Cvj7oy3vhHxFpusLsDyQxS7bm3z/AM9Imw6f8CArtK/HeD/ErNOFKcssxNDngm3ySvCUW99bPR72a31Vrs/deOPCXJ+M6sM3wuJ5JtJc8LTjNLZtJq7S0TUttGnZH5X/APBPr/gnN4q+JPxM0nxV4v0e+0Dwnotyl4EvYzBcanJGQyRpGw3eWWwWcgAgEKSTlf1Qorkfih8e/BfwWsHuPFXifRdDVE3iO5uVWaQf7EQy7n2VSa+b4r4qzPivMI1Zw1StCEE3Zfi231fpokfW8F8GZTwXlkqNOpo3zTqTaV3bS+ySXRdNdW22ddRXwD+0F/wWxhs7iSx+Gnh9LsKSv9q60rLG3vHAjBsdwXYH1Svlb4kf8FBPjF8ULlmvvHetWMLZAg0qX+z41Hp+52lh/vEmvqsj8E+IMdBVcTy0Iv8Anbcv/AUnb0bTPjOIfpA8M5dN0cLzYiS6wSUf/ApNX9YqS8z9p6K/Bl/jR4xkufObxZ4mabOfMOpz7s/Xdmu9+Hf/AAUA+MXwylj/ALP8ea5dQxkfudSkGoRkf3cTBiB/ukEdsV9Divo/5jGF8PioSl2cZRX3rm/I+Xwf0msrlUtisFUjHvGUZP7ny/mftTX47f8ABVD/AJPy8d/9w/8A9N1rX2z/AME8/wDgozfftceJb7wtr2g22n69punPqRvLFz9luI1kijI8tiWR8yqfvMCM9MAH4m/4Kof8n5eO/wDuH/8Aputa38IchxuTcWYjA4+PLONGT3TTTnTs010f39zn8cOJcBn3BWGzHLZ81OWIitU001Tq3TT6r7uzZ8+UUUV/UB/HwV+pH7Mv/KGLUv8AsU/En/o2/r8t6/Uj9mX/AJQxal/2KfiT/wBG39fkfjF/yL8F/wBhNP8A9JmfuHgT/wAjTMP+wSr/AOlUz8vLK+m026jnt5pbeeI7kkjYqyH1BHIr0nwz+2j8WfCFotvY/ETxYkKjCpLqEk6oPQCQtgewrzGiv1DF5fhcUuXFUozX96Kf5pn47gs0xmDfNg6sqb/uycfyaPTvEX7aHxa8VQNFe/EXxe0TcMkWpSQKw9CIyoI9jXmt3eTahdST3Esk00rFnkkYszk9SSeSajoowuX4XCq2Gpxgv7sUvySDG5pjMY+bF1ZVGv5pOX5thRRRXYcIUUUUAfYn/BEj/k6vxB/2Kdz/AOllnXn3/BVD/k/Lx3/3D/8A03Wteg/8ESP+Tq/EH/Yp3P8A6WWdeff8FUP+T8vHf/cP/wDTda1+R4H/AJOPiP8AsGX/AKXTP3DMf+TU4X/sLf8A6RUPnyiiiv1w/Dwr9SP2Zf8AlDFqX/Yp+JP/AEbf1+W9fqR+zL/yhi1L/sU/En/o2/r8j8Yv+Rfgv+wmn/6TM/cPAn/kaZh/2CVf/SqZ+W9FFFfrh+HhRRRQAUUUUAFFFFAH2J/wRI/5Or8Qf9inc/8ApZZ159/wVQ/5Py8d/wDcP/8ATda16D/wRI/5Or8Qf9inc/8ApZZ159/wVQ/5Py8d/wDcP/8ATda1+R4H/k4+I/7Bl/6XTP3DMf8Ak1OF/wCwt/8ApFQ+fKKKK/XD8PCv1Y/4JZ+IvD/xl/YTHge4kjuG0wX+k6vaB9snk3Us0gbHUKyTFQ3TKMOxr8vfHXg+9+HvjXVtB1GJob7R7yWznRhgq8blT/Krnww+Lnib4LeJl1jwrrV/oepKhjM1rJt8xD1V1+665AOGBGQD1Ar4fjrhd8SZTHD4aryTjKNSEul0na9tbNSeq20eux+ieHXGC4UzqWKxVFzhKMqVSPXlbTdr6XTitHurq6vc+tvGX/BELx5b+JLpfD3irwjd6RvJtpNRluLe5254DqkMi5AxyG59B0rL/wCHJHxW/wChg+Hv/gdef/Iteep/wVN+PCIFHjw4UY50bTyfz8il/wCHqHx5/wCh7/8AKLp3/wAYr5inl3iRGKi8Vhnbq1K79bUz66pmnhTObksHi1fonCy8leq3b5noP/Dkj4rf9DB8Pf8AwOvP/kWj/hyR8Vv+hg+Hv/gdef8AyLXn3/D1D48/9D3/AOUXTv8A4xR/w9Q+PP8A0Pf/AJRdO/8AjFX9R8R/+gjDfdP/AOVk/wBpeFP/AEC4v74f/LD0H/hyR8Vv+hg+Hv8A4HXn/wAi0f8ADkj4rf8AQwfD3/wOvP8A5Frz7/h6h8ef+h7/APKLp3/xij/h6h8ef+h7/wDKLp3/AMYo+o+I/wD0EYb7p/8AysP7S8Kf+gXF/fD/AOWHoP8Aw5I+K3/QwfD3/wADrz/5Fo/4ckfFb/oYPh7/AOB15/8AIteff8PUPjz/AND3/wCUXTv/AIxR/wAPUPjz/wBD3/5RdO/+MUfUfEf/AKCMN90//lYf2l4U/wDQLi/vh/8ALD7p/wCCen/BPWT9j6fVtc13VrPVvE+rW4sv9CD/AGWzg3B2VWcKzlmVCSVXGwADqa/Pf/goH8R9N+K/7YvjjW9ImS60+W7itYpkO5Jvs9vFbs6nupaIkEcEEGnfET/goV8ZPip4XuNF1rxxfS6bdjbNFa2ttZNKp4Ks8EaMVPQqTgjqDXjNdnBvBubYPNa+e57XjUr1I8iUL8qjdPqo/wAqSSXdtts8/jzjzJcdkuG4d4cw86WGpS52525nK0l0lL+ZttvXRJJIKK9i+AP7EfjX9ovwVNr3h/T5JrGG8ezL4wC6ojHHr98UV9ZiuMMlw1aWHxGJhGcXZpyV0/M+LwXAuf4uhHE4bCTlCSumouzXdH3D/wAFUv2RPBfiL4Z618Svst1Y+KtPiQSTWsoSO/A+VfOQqQxUAAMu1sAAkgAD8vKKK+L8GcTWrcOQ9rJy5ZNK7bslslfZLotkffePmFoUOKqnsIKPNGMnZJXb3btu31b1YUUUV+sH4qFFFFABRRRQAUUUUAFe2fsMfs66F+0j8X7XQ9fn1OGxdst9ilSN2A5xlkbr7c0UV5OfVJ08vrTptpqLs1o18z3OGqMKuaUKdWKlFyV01dPXqmfsN8PPh5ovwo8F6f4e8P6fBpmj6XF5VvbxDhB1JJPLMSSSxySSSSSaKKK/zxrVZ1KkqlRtybbberbe7b6tn+oWHowpUo0qUVGMUkklZJJaJJaJLoj/2Q==";const i=new n.Image({style:{width:100*this.scaleRatio*this.eRatio,height:100*this.scaleRatio*this.eRatio,image:t},z:this.storeSrv.getComponentDefaultLayer(),draggable:!0});i.id=e.id,i.position=[e.x,e.y],i.__component=e;let o=this;return i.on("dragstart",function(e){o.componentDragStart.apply(this,[e,o])}),i.on("drag",function(e){o.componentDrag.apply(this,[e,o])}),i.on("dragend",function(e){o.componentDragEnd.apply(this,[e,o])}),e.componentSvg=i,i}createSvg(e){this.screenContainer.add(this.createComponentSvg(e))}redrawSvg(){for(let i=4;i<this.screenContainer.childCount();)this.screenContainer.remove(this.screenContainer.childAt(i));for(var e=this,t=4;t<this.storeSrv.componentList.value.length;t++)e.storeSrv.componentList.value[t].x=Math.floor(e.storeSrv.componentList.value[t].x*e.scaleRatio),e.storeSrv.componentList.value[t].y=Math.floor(e.storeSrv.componentList.value[t].y*e.scaleRatio);for(this.storeSrv.componentList.value.forEach(e=>this.screenContainer.add(this.createComponentSvg(e))),t=4;t<this.storeSrv.componentList.value.length;t++)e.storeSrv.componentList.value[t].x=Math.floor(e.storeSrv.componentList.value[t].x/e.scaleRatio),e.storeSrv.componentList.value[t].y=Math.floor(e.storeSrv.componentList.value[t].y/e.scaleRatio);this.updateUnitSvg(),this.updateHatSvg()}updateSvg(e,t,i){switch(t){case r.pA.X:case r.pA.Y:0==this.isStick?e.componentSvg.attr("position",[e.x*this.scaleRatio*2,e.y*this.scaleRatio*2]):1==this.isStick?e.componentSvg.attr("position",[e.x*this.scaleRatio,e.y*this.scaleRatio]):2==this.isStick&&e.componentSvg.attr("position",[e.x*this.scaleRatio*this.eRatio,e.y*this.scaleRatio*this.eRatio]);break;case r.pA.WIDTH:case r.pA.HEIGHT:0==this.isStick?e.componentSvg.attr({shape:{[t]:i*this.scaleRatio*2}}):1==this.isStick?e.componentSvg.attr({shape:{[t]:i*this.scaleRatio}}):2==this.isStick&&e.componentSvg.attr({shape:{[t]:i*this.scaleRatio*this.eRatio}});break;case r.pA.ROTATION:e.componentSvg.attr({rotation:e.rotation*this.rotate});break;case r.pA.RADIUS:e.componentSvg.attr({shape:{r:i*this.scaleRatio*this.eRatio}});break;case r.pA.TEXT:e.componentSvg.attr({style:{text:i}});break;case r.pA.COLOR:e.componentSvg.attr({style:{textFill:i}});break;case r.pA.BORDER_COLOR:e.componentSvg.attr({style:{stroke:i}});break;case r.pA.BACKGROUND_COLOR:case r.pA.BGCOLOR:e.componentSvg.attr({style:{fill:i}});break;case r.pA.TEXTOFFSET:e.componentSvg.attr({style:{textPosition:[Number(i)*this.scaleRatio*this.eRatio,4]}});break;case r.pA.FONT:e.componentSvg.attr(i===r.co.UBUNTU_C?{style:{fontFamily:"Ubuntu-C",fontSize:Math.floor(21*this.scaleRatio*this.eRatio)}}:i===r.co.COMIC?{style:{fontFamily:"Comic",fontSize:Math.floor(25*this.scaleRatio*this.eRatio)}}:i===r.co.DEJAVUSANS_18PX?{style:{fontFamily:"DejaVuSans",fontSize:Math.floor(20.4*this.scaleRatio*this.eRatio)}}:i===r.co.DEJAVUSANS_24PX?{style:{fontFamily:"DejaVuSans",fontSize:Math.floor(25.8*this.scaleRatio*this.eRatio)}}:i===r.co.DEJAVUSANS_40PX?{style:{fontFamily:"DejaVuSans",fontSize:Math.floor(42*this.scaleRatio*this.eRatio)}}:i===r.co.DEJAVUSANS_56PX?{style:{fontFamily:"DejaVuSans",fontSize:Math.floor(56*this.scaleRatio*this.eRatio)}}:i===r.co.DEJAVUSANS_72PX?{style:{fontFamily:"DejaVuSans",fontSize:Math.floor(72*this.scaleRatio*this.eRatio)}}:i===r.co.DEFAULT_SMALL?{style:{fontFamily:"sans-serif",fontSize:Math.floor(11*this.scaleRatio*this.eRatio)}}:{style:{fontFamily:"sans-serif",fontSize:Math.floor(16*this.scaleRatio*this.eRatio)}});case r.pA.VISIBILITY:e.type===r.Eq.BUTTON&&("true"===i?e.componentSvg.show():e.componentSvg.hide());break;case r.pA.LAYER:e.componentSvg.attr({zlevel:Number(i)});break;case r.pA.IMAGE_PATH:e.componentSvg.attr({style:{image:i}}),"default.jpg"==e.imagePath&&(e.componentSvg.attr({style:{width:100*this.scaleRatio}}),e.componentSvg.attr({style:{height:100*this.scaleRatio}}));break;case r.pA.IMAGE_WIDTH:e.componentSvg.attr({style:{width:i*this.scaleRatio}});break;case r.pA.IMAGE_HEIGHT:e.componentSvg.attr({style:{height:i*this.scaleRatio}})}this.globalOperatorSrv.codeLock.value||this.codeEditorSrv.updateWorkspaceValue()}componentDragStart(e,t){e.event.preventDefault(),e.event.stopPropagation(),this.__zr.trash.show(),this.__startX=this.__component.getProp("x"),this.__startY=this.__component.getProp("y"),t.globalOperatorSrv.setSelectedComponent(null)}componentDrag(e,t){this.__component.setProp("x",Math.floor(this.position[0]/t.scaleRatio)),this.__component.setProp("y",Math.floor(this.position[1]/t.scaleRatio))}componentDBlclick(e,t){t.copy()}componentDragEnd(e,t){return this.__zr.trash.hide(),this.__zr.trash.children()[0].contain(e.event.layerX?e.event.layerX:e.event.zrX,e.event.layerY?e.event.layerY:e.event.zrY)?(t.storeSrv.removeComponentById(this.id),t.globalOperatorSrv.setSelectedComponent(null),t.globalOperatorSrv.codeLock.value||t.codeEditorSrv.updateWorkspaceValue(),this.__zr.screenContainer.remove(this)):this.__zr.screenContainer.children()[0].contain(e.event.layerX?e.event.layerX:e.event.zrX,e.event.layerY?e.event.layerY:e.event.zrY)?this.__component.type===r.Eq.TITLE?(this.attr("position",[0,0]),void t.globalOperatorSrv.setSelectedComponent(this.__component)):(0==t.isStick?(this.__component.setProp("x",Math.floor(this.position[0]/t.scaleRatio/2)),this.__component.setProp("y",Math.floor(this.position[1]/t.scaleRatio/2))):1==t.isStick?(this.__component.setProp("x",Math.floor(this.position[0]/t.scaleRatio)),this.__component.setProp("y",Math.floor(this.position[1]/t.scaleRatio))):2==t.isStick&&(this.__component.setProp("x",Math.floor(this.position[0]/t.scaleRatio/t.eRatio)),this.__component.setProp("y",Math.floor(this.position[1]/t.scaleRatio/t.eRatio))),t.globalOperatorSrv.setSelectedComponent(this.__component),void(t.globalOperatorSrv.codeLock.value||t.codeEditorSrv.updateWorkspaceValue())):this.__zr.workContainer.children()[0].contain(e.event.layerX?e.event.layerX:e.event.zrX,e.event.layerY?e.event.layerY:e.event.zrY)?(this.attr("position",[Math.floor(this.__startX*t.scaleRatio),Math.floor(this.__startY*t.scaleRatio)]),this.__component.setProp("x",Math.floor(this.__startX)),this.__component.setProp("y",Math.floor(this.__startY)),void t.globalOperatorSrv.setSelectedComponent(this.__component)):(t.storeSrv.removeComponentById(this.id),t.globalOperatorSrv.setSelectedComponent(null),t.globalOperatorSrv.codeLock.value||t.codeEditorSrv.updateWorkspaceValue(),this.__zr.screenContainer.remove(this))}componentClick(e,t){t.globalOperatorSrv.setSelectedComponent(this.__component)}updateUnitSvg(){try{this.zrenderWorkspace.unitContainer.removeAll(),this.zrenderWorkspace._needsRefresh=!0}catch(c){console.log(c)}let e=this.storeSrv.unitList.value.length;this.storeSrv.unitList.value.forEach((e,t)=>{let i=new n.Group({});i.id=e.id,i.create_time=e.createTime,i.type=e.type;let o=t%4*70,r=70*Math.floor(t/4)+40;i.position=[o*this.scaleRatio,r*this.scaleRatio];let s=new n.Rect({shape:{x:0,y:0,width:60*this.scaleRatio,height:60*this.scaleRatio,r:[4]},style:{lineWidth:2,stroke:"#FFFFFF",fill:"#303131"}}),a=new n.Image({style:{image:"../../assets/images/units/"+e.icon,width:60*this.scaleRatio,height:60*this.scaleRatio,x:0,y:0},draggable:!0}),l=this;a.on("click",function(t){l.globalOperatorSrv.setSelectedUnit(e)}),a.on("dragstart",function(e){l.zrenderWorkspace.trash.show(),this.__originalPosition={x:this.position[0]*l.scaleRatio,y:this.position[1]*l.scaleRatio}}),a.on("dragend",function(e){l.zrenderWorkspace.trash.hide(),this.__zr.trash.children()[0].contain(e.event.layerX?e.event.layerX:e.event.zrX,e.event.layerY?e.event.layerY:e.event.zrY)&&(l.storeSrv.removeUnitById(this.parent.id),l.updateUnitSvg(),l.globalOperatorSrv.codeLock.value||l.codeEditorSrv.updateWorkspaceValue()),this.attr("position",[this.__originalPosition.x,this.__originalPosition.y])}),i.add(s),i.add(a),e.unitSvg=i,l.zrenderWorkspace.unitContainer.add(i)});const t=new n.Group({});let i=e%4*70,o=70*Math.floor(e/4)+40;t.position=[i*this.scaleRatio,o*this.scaleRatio];const a=new n.Rect({shape:{x:0,y:0,width:60*this.scaleRatio,height:60*this.scaleRatio,r:[4]},style:{lineWidth:2,stroke:"#FFFFFF",fill:"#303131"}}),l=new n.Image({style:{image:"../../assets/images/add.png",width:60*this.scaleRatio,height:60*this.scaleRatio,x:0,y:0}});l.on("mouseover",function(e){a.animate("style",!1).when(200,{fill:"rgb(0, 100, 160)"}).start()}),l.on("mouseout",function(e){a.animate("style",!1).when(300,{fill:"#303131"}).start()}),l.on("click",e=>{this.storeSrv.setIsUnit(!0),this.globalOperatorSrv.createMaskModal(s.g).instance.createDynamicComponent(r.eA.UNIT_MODAL)}),t.add(a),t.add(l),this.zrenderWorkspace.unitContainer.add(t)}updateHatSvg(){try{this.zrenderWorkspace.hatContainer.removeAll(),this.zrenderWorkspace._needsRefresh=!0}catch(c){}let e=this.storeSrv.hatList.value.length;this.storeSrv.hatList.value.forEach((e,t)=>{let i=new n.Group({});i.id=e.id,i.create_time=e.createTime,i.type=e.type;let o=t%5*70,r=70*Math.floor(t/5)+40;i.position=[o*this.scaleRatio,r*this.scaleRatio];let s=new n.Rect({shape:{x:0,y:0,width:60*this.scaleRatio,height:60*this.scaleRatio,r:[4]},style:{lineWidth:2,stroke:"#FFFFFF",fill:"#303131"}}),a=new n.Image({style:{image:"../../assets/images/units/"+e.icon,width:60*this.scaleRatio,height:60*this.scaleRatio,x:0,y:0},draggable:!0}),l=this;a.on("click",function(t){l.globalOperatorSrv.setSelectedHat(e)}),a.on("dragstart",function(e){l.zrenderWorkspace.trash.show(),this.__originalPosition={x:this.position[0]*l.scaleRatio,y:this.position[1]*l.scaleRatio}}),a.on("dragend",function(e){l.zrenderWorkspace.trash.hide(),2==e.event.button&&(document.oncontextmenu=function(){return!1}),this.__zr.trash.children()[0].contain(e.event.layerX?e.event.layerX:e.event.zrX,e.event.layerY?e.event.layerY:e.event.zrY)&&(l.storeSrv.removeHatById(this.parent.id),l.updateHatSvg(),l.globalOperatorSrv.codeLock.value||l.codeEditorSrv.updateWorkspaceValue(),l.storeSrv.removeHatById(this.parent.id),l.updateHatSvg(),l.globalOperatorSrv.codeLock.value||l.codeEditorSrv.updateWorkspaceValue()),this.attr("position",[this.__originalPosition.x,this.__originalPosition.y])}),i.add(s),i.add(a),e.hatSvg=i,this.zrenderWorkspace.hatContainer.add(i)});const t=new n.Group({});let i=e%5*70,o=70*Math.floor(e/5)+40;t.position=[i*this.scaleRatio,o*this.scaleRatio];const a=new n.Rect({shape:{x:0,y:0,width:60*this.scaleRatio,height:60*this.scaleRatio,r:[4]},style:{lineWidth:2,stroke:"#FFFFFF",fill:"#303131"}}),l=new n.Image({style:{image:"../../assets/images/add.png",width:60*this.scaleRatio,height:60*this.scaleRatio,x:0,y:0}});l.on("mouseover",function(e){a.animate("style",!1).when(200,{fill:"rgb(0, 100, 160)"}).start()}),l.on("mouseout",function(e){a.animate("style",!1).when(300,{fill:"#303131"}).start()}),l.on("click",e=>{this.storeSrv.setIsUnit(!1),this.globalOperatorSrv.createMaskModal(s.g).instance.createDynamicComponent(r.eA.HAT_MODAL)}),t.add(a),t.add(l),this.zrenderWorkspace.hatContainer.add(t)}copy(){if(""==this.selectedComponent||null==this.selectedComponent||null==this.selectedComponent)return!1;var e,t,i,n=this.selectedComponent.type;switch(this.isStick){case 0:e=64,t=128;break;case 1:e=320,t=128;break;case 2:e=80,t=160}e=e*this.scaleRatio*this.eRatio,t=t*this.scaleRatio*this.eRatio,i=this.storeSrv.getComponentDefaultLayer()+1;var r,s=Object.assign({},this.selectedComponent);if("rectangle"==n||"circle"==n||"image"==n||"label"==n){var l=this.storeSrv.getComponentDefaultName(n);s.id=a.EN(),s.x=s.x*this.scaleRatio*this.eRatio+30>e?Math.floor(s.x*this.scaleRatio*this.eRatio)-30:Math.floor(s.x*this.scaleRatio*this.eRatio)+30,s.y=Math.floor(s.y*this.scaleRatio*this.eRatio),s.name=l,s.layer=i;var c=s.width,h=s.height,u=s.radius;switch(s.width=2==this.isStick?c*this.eRatio:s.width,s.radius=2==this.isStick?u*this.eRatio:s.radius,s.height=2==this.isStick?h*this.eRatio:s.height,n){case"rectangle":r=new o.b8(s);break;case"circle":r=new o.HF(s);break;case"label":r=new o._n(s)}if(null===r)return;this.createSvg(r),r.width=c,r.height=h,r.radius=u,r.x=r.x/this.eRatio,r.y=r.y/this.eRatio,this.storeSrv.addComponent(r),r.x=Math.floor(r.x/this.scaleRatio),r.y=Math.floor(r.y/this.scaleRatio),this.globalOperatorSrv.codeLock.value||this.codeEditorSrv.updateWorkspaceValue()}}occurrencecout(e){for(var t=[],i=this.storeSrv.getComponentList(),n=0;n<i.source._value.length;n++)i.source._value[n].type==e&&t.push(i.source._value[n]);return t}}return e.\u0275fac=function(t){return new(t||e)(l.LFG(c.d),l.LFG(h.h),l.LFG(u.t))},e.\u0275prov=l.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},4829:function(e,t,i){"use strict";i.d(t,{_:function(){return v}});var n=i(25370),o=i(7637),r=i(67302),s=i(71320),a=i(50402),l=i(88259),c=i.n(l),h=i(37716),u=i(22e3),d=i(8318),p=i(61797),g=i(99742),f=i(10215),m=(()=>{return(e=m||(m={}))[e.A=0]="A",e[e.B=1]="B",e[e.C=2]="C",m;var e})(),_=(()=>{return(e=_||(_={}))[e.UP=0]="UP",e[e.MID=1]="MID",e[e.DOWN=2]="DOWN",e[e.EXT=3]="EXT",e[e.PWR=4]="PWR",_;var e})();let v=(()=>{class e{constructor(e,t,i,o,s){this.storeSrv=e,this.codeEditorSrv=t,this.globalOperatorSrv=i,this.screenSimulator=o,this.pnpSrv=s,this.width=0,this.height=0,this.screenOffsetX=110,this.screenOffsetY=117,this.scaleRatio=1,this.eRatio=1,this.isStick=1,this.rotate=Math.PI/-180,this.select_data=0,this.select_lock=!1,this.dragstart="dragstart",this.dragend="dragend",this.drag="drag",this.lineOffset=7,this.aligningLineMargin=5,this.guideLines=new n.Group({}),this.verticalLines=[],this.horizontalLines=[],this.adsorbX=null,this.adsorbY=null,this.paperAddY=60,this.paperDeafultRatio=100,this.stationAddY=170,this.defaultHeight=969,this.enableColor="#3f8cf9",this.disableColor="#bebebe",this.isDrag=!1,this.isKeyDown=!1,this.keydownTimer=null,this.shortcutShow=!1,this.shortcutTipShow=!1,this.shortcutTipShowTimer=null,this.shortcutTipShowFirst=!1,this.firmwareTipShow=!1,this.firmwareTipTextShow=!0,this.delConfirmTip=0,this.keyDown=this.handleKeyDown.bind(this),this.screenClick=this.handleScreenClick.bind(this),this.keyUp=this.handleKeyUp.bind(this),e.getType().subscribe(e=>{const t=[r.__.CORE,r.__.STICK_C,r.__.STICK_C_PLUS,r.__.STICK_C_PLUS2,r.__.FIRE,r.__.COREINK,r.__.PAPER,r.__.CORETWO,r.__.TOUGH,r.__.M5STATION];if(this.removeDocumentListener(),clearTimeout(this.keydownTimer),"stick"===e)this.isStick=0,this.screenOffsetX=172,this.screenOffsetY=124,this.eRatio=2;else if("core"===e){this.isStick=1,this.screenOffsetX=118,this.screenOffsetY=127,this.eRatio=1;try{this.storeSrv.removeHatList(),this.updateHatSvg(),this.globalOperatorSrv.codeLock.value||this.codeEditorSrv.updateWorkspaceValue()}catch(i){}}else e===r.__.CORETWO?(this.isStick=7,this.screenOffsetX=118,this.screenOffsetY=127,this.eRatio=1):"stick-C"===e?(this.isStick=2,this.screenOffsetX=221,this.screenOffsetY=101,this.eRatio=1.5):e===r.__.STICK_C_PLUS?(this.isStick=6,this.screenOffsetX=201,this.screenOffsetY=90,this.eRatio=1.18):"atom"===e?this.isStick=3:"atom-matrix"===e?this.isStick=4:"fire"===e?(this.isStick=5,this.screenOffsetX=118,this.screenOffsetY=127,this.eRatio=1):e===r.__.COREINK?(this.isStick=8,this.screenOffsetX=160,this.screenOffsetY=144,this.eRatio=1.15):e===r.__.PAPER?(this.isStick=9,this.screenOffsetX=146,this.screenOffsetY=70,this.eRatio=.5):e===r.__.PICO?this.isStick=10:e===r.__.TOUGH?(this.isStick=11,this.screenOffsetX=118,this.screenOffsetY=133,this.eRatio=1):e===r.__.ATOM_U?this.isStick=12:e===r.__.ATOM_DISPLAY?this.isStick=13:e===r.__.M5STATION?(this.isStick=14,this.screenOffsetX=178,this.screenOffsetY=171,this.eRatio=.85):e===r.__.STICK_C_PLUS2&&(this.isStick=15,this.screenOffsetX=201,this.screenOffsetY=90,this.eRatio=1.18);t.includes(e)&&this.addDocumentListener(),this.shortcutShow=![r.__.ATOM_DISPLAY,r.__.ATOM_MATRIX,r.__.ATOM,r.__.ATOM_U,r.__.PICO].includes(e),e===r.__.ATOM_DISPLAY?(this.firmwareTipShow=!0,this.firmwareTipTextShow=!0,setTimeout(()=>{this.firmwareTipTextShow=!1},3e3)):this.firmwareTipShow=!1,this.handleShortcutTipShow(!1)})}init(e){let t=document.getElementById(e);var i=this;window.onresize=function(){try{i.zrenderWorkspace.resize({width:i.width,height:i.height-68})}catch(e){}},this.zrenderWorkspace=n.init(t,{renderer:"canvas"}),this.width=this.zrenderWorkspace.getWidth(),this.height=Math.max(this.defaultHeight,this.zrenderWorkspace.getHeight()),setTimeout(()=>{i.zrenderWorkspace.resize({width:i.width,height:i.height-68})},100),this.scaleRatio=this.width/508,this.storeSrv.setScales({scaleRatio:this.scaleRatio,eRatio:this.eRatio}),window.zrenderWorkspace=this.zrenderWorkspace,this.zrenderWorkspace.redrawSvg=this.redrawSvg.bind(this),this.createComponentSvg=this.createComponentSvg.bind(this),this.createCoordinate(),this.zrenderWorkspace.coordinate.hide(),this.globalOperatorSrv.getSelectedComponent().subscribe(e=>{null!==e&&(this.selectedComponent=e)}),this.storeSrv.getType().subscribe(e=>{(e===r.__.COREINK||e===r.__.PAPER)&&(sessionStorage.setItem("_type",e),a.Ax(a.qU(e).img,null,e=>{this.grayDefaultImg=e}))})}createToolBarSvg(e){const t=new n.Rect({shape:{width:48*this.scaleRatio,height:Math.max(this.defaultHeight,this.zrenderWorkspace.getHeight())},style:{fill:"#484443",stroke:"#484443"},z:1});t.position=[0,0],this.zrenderWorkspace.add(t),e.toolList.forEach((e,t)=>{const i=new n.Group({});i.position=[0,48*t*this.scaleRatio*1.1];const s=new n.Image({style:{x:0,y:0,width:48*this.scaleRatio,height:48*this.scaleRatio,image:"../../assets/images/components/"+e.icon},cursor:"pointer",z:1,draggable:!0});i.add(s);let a,l=this;0==l.isStick?a=320:2==l.isStick&&(a=80*l.eRatio),i.on(this.dragstart,function(t){t.target.attr("position",[0,0]);let i=new e.builder({name:"__temp"+Date.now(),layer:99999});[r.Eq.LABEL,r.Eq.LABELPLUS,r.Eq.CHECKBOX,r.Eq.BUTTON2].indexOf(i.type)>-1&&(i.text=l.storeSrv.getComponentDefaultName(i.type),i.type===r.Eq.BUTTON2&&(i.text=i.text.replace("touch_","")));const n=l.createComponentSvg(i);if(l.zrenderWorkspace.add(n),i.type===r.Eq.CIRCLE||i.type===r.Eq.LINE||i.type===r.Eq.BUTTON2||i.type===r.Eq.SWITCH||i.type===r.Eq.SLIDER||i.type===r.Eq.BAR||i.type===r.Eq.CHECKBOX||i.type===r.Eq.BARGRAPH)n.attr("position",[t.offsetX,t.offsetY]);else if(i.type===r.Eq.TRIANGLE)n.attr({shape:{points:[[t.offsetX,t.offsetY],[t.offsetX-i.h*l.scaleRatio,t.offsetY+i.h*l.scaleRatio],[t.offsetX+i.h*l.scaleRatio,t.offsetY+i.h*l.scaleRatio]]}});else if(i.type===r.Eq.LABEL||i.type===r.Eq.LABELPLUS){let e=t.offsetX-n.getBoundingRect().width/2*l.scaleRatio,i=t.offsetY-n.getBoundingRect().height/2*l.scaleRatio;n.attr("position",[e,i])}else n.attr("position",i.type===r.Eq.IMAGE||i.type===r.Eq.IMAGEPLUS||i.type===r.Eq.TITLE?[t.offsetX-n.style.width/2*l.scaleRatio,t.offsetY-n.style.height/2*l.scaleRatio]:[t.offsetX-i.width/2*l.scaleRatio,t.offsetY-i.height/2*l.scaleRatio]);this.__m5ui={temp_component_svg:n,temp_component:i},n.on("mousedown",function(e){e.debug()})}),i.on(this.dragend,function(e){if(l.zrenderWorkspace.coordinate.hide(),l.zrenderWorkspace.remove(this.__m5ui.temp_component_svg),l.screenContainer.children()[0].contain(e.event.layerX?e.event.layerX:e.event.zrX,e.event.layerY?e.event.layerY:e.event.zrY)){let e=l.storeSrv.getComponentDefaultName(this.__m5ui.temp_component.type),t=l.storeSrv.getComponentDefaultLayer(),i=null;switch(this.__m5ui.temp_component.type){case r.Eq.TITLE:i=new o.r3({name:e,layer:t});break;case r.Eq.LABEL:i=new o._n({name:e,layer:t,text:e,x:this.__m5ui.temp_component_svg.position[0]-l.screenOffsetX*l.scaleRatio,y:this.__m5ui.temp_component_svg.position[1]-l.screenOffsetY*l.scaleRatio,rotation:this.__m5ui.temp_component_svg.rotation*this.rotate});break;case r.Eq.LABELPLUS:i=new o.ju({name:e,layer:t,text:e,x:this.__m5ui.temp_component_svg.position[0]-l.screenOffsetX*l.scaleRatio,y:this.__m5ui.temp_component_svg.position[1]-l.screenOffsetY*l.scaleRatio,rotation:this.__m5ui.temp_component_svg.rotation*this.rotate});break;case r.Eq.RECTANGLE:i=new o.b8({name:e,layer:t,x:this.__m5ui.temp_component_svg.position[0]-l.screenOffsetX*l.scaleRatio,y:this.__m5ui.temp_component_svg.position[1]-l.screenOffsetY*l.scaleRatio});break;case r.Eq.CIRCLE:i=new o.HF({name:e,layer:t,x:this.__m5ui.temp_component_svg.position[0]-l.screenOffsetX*l.scaleRatio,y:this.__m5ui.temp_component_svg.position[1]-l.screenOffsetY*l.scaleRatio});break;case r.Eq.IMAGE:i=new o.cu({name:e,layer:t,x:this.__m5ui.temp_component_svg.position[0]-l.screenOffsetX*l.scaleRatio,y:this.__m5ui.temp_component_svg.position[1]-l.screenOffsetY*l.scaleRatio});break;case r.Eq.IMAGEPLUS:i=new o.Di({name:e,layer:t,x:this.__m5ui.temp_component_svg.position[0]-l.screenOffsetX*l.scaleRatio,y:this.__m5ui.temp_component_svg.position[1]-l.screenOffsetY*l.scaleRatio});break;case r.Eq.TITLE:i=new o.r3({name:e,layer:t,x:this.__m5ui.temp_component_svg.position[0]-l.screenOffsetX*l.scaleRatio,y:this.__m5ui.temp_component_svg.position[1]-l.screenOffsetY*l.scaleRatio});break;case r.Eq.TRIANGLE:i=new o.RQ({name:e,layer:t,x:this.__m5ui.temp_component_svg.shape.points[0][0]-l.screenOffsetX*l.scaleRatio,y:this.__m5ui.temp_component_svg.shape.points[0][1]-l.screenOffsetY*l.scaleRatio,x1:this.__m5ui.temp_component_svg.shape.points[0][0]-l.screenOffsetX*l.scaleRatio,y1:this.__m5ui.temp_component_svg.shape.points[0][1]-l.screenOffsetY*l.scaleRatio,x2:this.__m5ui.temp_component_svg.shape.points[1][0]-l.screenOffsetX*l.scaleRatio,y2:this.__m5ui.temp_component_svg.shape.points[1][1]-l.screenOffsetY*l.scaleRatio,x3:this.__m5ui.temp_component_svg.shape.points[2][0]-l.screenOffsetX*l.scaleRatio,y3:this.__m5ui.temp_component_svg.shape.points[2][1]-l.screenOffsetY*l.scaleRatio});break;case r.Eq.LINE:const n=this.__m5ui.temp_component_svg._children[0].getBoundingRect().width;i=new o.yk({name:e,layer:t,x:this.__m5ui.temp_component_svg.position[0]-l.screenOffsetX*l.scaleRatio,y:this.__m5ui.temp_component_svg.position[1]-l.screenOffsetY*l.scaleRatio,x1:this.__m5ui.temp_component_svg.position[0]-l.screenOffsetX*l.scaleRatio,y1:this.__m5ui.temp_component_svg.position[1]-l.screenOffsetY*l.scaleRatio,x2:this.__m5ui.temp_component_svg.position[0]+n-l.screenOffsetX*l.scaleRatio,y2:this.__m5ui.temp_component_svg.position[1]-l.screenOffsetY*l.scaleRatio});break;case r.Eq.BUTTON2:i=new o.gK({name:e,layer:t,text:e.replace("touch_",""),x:this.__m5ui.temp_component_svg.position[0]-l.screenOffsetX*l.scaleRatio,y:this.__m5ui.temp_component_svg.position[1]-l.screenOffsetY*l.scaleRatio});break;case r.Eq.SWITCH:i=new o.qU({name:e,layer:t,x:this.__m5ui.temp_component_svg.position[0]-l.screenOffsetX*l.scaleRatio,y:this.__m5ui.temp_component_svg.position[1]-l.screenOffsetY*l.scaleRatio});break;case r.Eq.SLIDER:i=new o.Pi({name:e,layer:t,x:this.__m5ui.temp_component_svg.position[0]-l.screenOffsetX*l.scaleRatio,y:this.__m5ui.temp_component_svg.position[1]-l.screenOffsetY*l.scaleRatio});break;case r.Eq.BAR:i=new o.R2({name:e,layer:t,x:this.__m5ui.temp_component_svg.position[0]-l.screenOffsetX*l.scaleRatio,y:this.__m5ui.temp_component_svg.position[1]-l.screenOffsetY*l.scaleRatio});break;case r.Eq.CHECKBOX:i=new o.bK({name:e,layer:t,text:e,x:this.__m5ui.temp_component_svg.position[0]-l.screenOffsetX*l.scaleRatio,y:this.__m5ui.temp_component_svg.position[1]-l.screenOffsetY*l.scaleRatio});break;case r.Eq.GRAPH:i=new o.B$({name:e,layer:t,x:this.__m5ui.temp_component_svg.position[0]-l.screenOffsetX*l.scaleRatio,y:this.__m5ui.temp_component_svg.position[1]-l.screenOffsetY*l.scaleRatio});break;case r.Eq.BARGRAPH:i=new o.pc({name:e,layer:t,x:this.__m5ui.temp_component_svg.position[0]-l.screenOffsetX*l.scaleRatio,y:this.__m5ui.temp_component_svg.position[1]-l.screenOffsetY*l.scaleRatio})}if(null===i)return;l.createSvg(i),i.width=Math.floor(i.width/l.eRatio),i.height=Math.floor(i.height/l.eRatio),i.type===r.Eq.TRIANGLE?(i.x1=i.x1/l.eRatio,i.y1=i.y1/l.eRatio,i.x2=i.x2/l.eRatio,i.y2=i.y2/l.eRatio,i.x3=i.x3/l.eRatio,i.y3=i.y3/l.eRatio):i.type===r.Eq.LINE&&(i.x1=i.x1/l.eRatio,i.y1=i.y1/l.eRatio,i.x2=i.x2/l.eRatio,i.y2=i.y2/l.eRatio),i.x=i.x/l.eRatio,i.y=i.y/l.eRatio,i.radius=Math.floor(i.radius/l.eRatio),l.storeSrv.addComponent(i),i.x=Math.floor(i.x/l.scaleRatio),i.y=Math.floor(i.y/l.scaleRatio),i.type===r.Eq.TRIANGLE?(i.x1=Math.floor(i.x1/l.scaleRatio),i.y1=Math.floor(i.y1/l.scaleRatio),i.x2=Math.floor(i.x2/l.scaleRatio),i.y2=Math.floor(i.y2/l.scaleRatio),i.x3=Math.floor(i.x3/l.scaleRatio),i.y3=Math.floor(i.y3/l.scaleRatio)):i.type===r.Eq.LINE&&(i.x1=Math.floor(i.x1/l.scaleRatio),i.y1=Math.floor(i.y1/l.scaleRatio),i.x2=Math.floor(i.x2/l.scaleRatio),i.y2=Math.floor(i.y2/l.scaleRatio)),clearTimeout(l.keydownTimer),l.selectedComponent=i,l.handleKeyDownOverTime(),l.globalOperatorSrv.codeLock.value||l.codeEditorSrv.updateWorkspaceValue(2),[r.Eq.TITLE,r.Eq.LABEL,r.Eq.CHECKBOX,r.Eq.BUTTON2,r.Eq.LABELPLUS].includes(i.type)&&l.globalOperatorSrv.setSelectedComponent(i),l.shortcutTipShowFirst||(l.handleShortcutTipShow(!0),l.shortcutTipShowFirst=!0,l.shortcutTipShowTimer=setTimeout(()=>{l.shortcutTipShow=!1},3e3)),l.selectedComponent&&window.Blockly.selected&&window.Blockly.selected.unselect()}}),i.on(this.drag,function(e){e.target.attr("position",[0,0]);let t=0,i=0;const n=this.__m5ui.temp_component.type;if(this.__m5ui.temp_component.type===r.Eq.CIRCLE||this.__m5ui.temp_component.type===r.Eq.LINE||n===r.Eq.BUTTON2||n===r.Eq.SWITCH||n===r.Eq.SLIDER||n===r.Eq.BAR||n===r.Eq.CHECKBOX||n===r.Eq.BARGRAPH)t=e.offsetX,i=e.offsetY,this.__m5ui.temp_component_svg.attr("position",[t,i]);else if(this.__m5ui.temp_component.type===r.Eq.TRIANGLE){t=e.offsetX,i=e.offsetY;let n=this.__m5ui.temp_component.h;this.__m5ui.temp_component_svg.attr({shape:{points:[[t,i],[t-n*l.scaleRatio,i+n*l.scaleRatio],[t+n*l.scaleRatio,i+n*l.scaleRatio]]}})}else this.__m5ui.temp_component.type===r.Eq.LABEL||this.__m5ui.temp_component.type===r.Eq.LABELPLUS?(t=e.offsetX-this.__m5ui.temp_component_svg.getBoundingRect().width/2*l.scaleRatio,i=e.offsetY-this.__m5ui.temp_component_svg.getBoundingRect().height/2*l.scaleRatio,this.__m5ui.temp_component_svg.attr("position",[t,i])):this.__m5ui.temp_component.type===r.Eq.IMAGE||this.__m5ui.temp_component.type===r.Eq.IMAGEPLUS?(t=e.offsetX-this.__m5ui.temp_component_svg.style.width/2*l.scaleRatio,i=e.offsetY-this.__m5ui.temp_component_svg.style.height/2*l.scaleRatio,this.__m5ui.temp_component_svg.attr("position",[t,i])):this.__m5ui.temp_component.type===r.Eq.TITLE?(t=e.offsetX-this.__m5ui.temp_component_svg.getBoundingRect().width/2*l.scaleRatio,i=e.offsetY-this.__m5ui.temp_component_svg.getBoundingRect().height/2*l.scaleRatio,this.__m5ui.temp_component_svg.attr("position",[t,i])):(t=e.offsetX-this.__m5ui.temp_component.width/2*l.scaleRatio,i=e.offsetY-this.__m5ui.temp_component.height/2*l.scaleRatio,this.__m5ui.temp_component_svg.attr("position",[t,i]));const o=this.__m5ui.temp_component_svg.position;let s,a;this.__m5ui.temp_component.type===r.Eq.TRIANGLE?(s=e.offsetX-l.screenOffsetX*l.scaleRatio,a=e.offsetY-l.screenOffsetY*l.scaleRatio):(s=Math.floor(o[0]-l.screenOffsetX*l.scaleRatio),a=Math.floor(o[1]-l.screenOffsetY*l.scaleRatio)),l.updateCoordinate(Math.floor(s/l.eRatio/l.scaleRatio),Math.floor(a/l.eRatio/l.scaleRatio))}),this.zrenderWorkspace.add(i)})}createSimulator(){const e=new n.Group({});e.position=[88*this.scaleRatio,62*this.scaleRatio];const t=new n.Rect({shape:{r:24,x:0,y:0,width:380*this.scaleRatio,height:380*this.scaleRatio},style:{stroke:"#5A5A5A",lineWidth:6},cursor:"default"}),i=new n.Rect({shape:{r:10,x:-2*this.scaleRatio,y:100*this.scaleRatio,width:5*this.scaleRatio,height:40*this.scaleRatio},style:{fill:"red"},cursor:"default"});e.add(t),e.add(i),[{x:70,y:330},{x:160,y:330},{x:250,y:330}].forEach((t,i)=>{const o=new n.Rect({shape:{r:5,x:t.x*this.scaleRatio,y:t.y*this.scaleRatio,width:56*this.scaleRatio,height:30*this.scaleRatio},style:{fill:"#C2BFCB"}});let r=0===i?"____buttonA":1===i?"____buttonB":"____buttonC";o.on("click",e=>{const t=this.storeSrv.getComponentById(r);this.globalOperatorSrv.setSelectedComponent(t)}),o.on("dblclick",e=>{this.codeEditorSrv.createWarnSwal(()=>{this.createButtonCallback(i,0)})}),e.add(o)}),[{x:-26,y:230,width:12,height:60,fillColr:"#c03546"},{x:110,y:-26,width:60,height:12,fillColr:"#5e5e5f"},{x:210,y:-26,width:60,height:12,fillColr:"rgb(0, 160, 200)"}].forEach(t=>{const i=new n.Rect({shape:{x:t.x*this.scaleRatio,y:t.y*this.scaleRatio,width:t.width*this.scaleRatio,height:t.height*this.scaleRatio},style:{fill:t.fillColr,opacity:0}});e.add(i)}),this.workContainer=e,this.zrenderWorkspace.add(e),this.zrenderWorkspace.workContainer=e}createCoreTwoMulator(){const e=new n.Group({});e.position=[88*this.scaleRatio,62*this.scaleRatio];const t=new n.Rect({shape:{r:24,x:0,y:0,width:380*this.scaleRatio,height:380*this.scaleRatio},style:{stroke:"#FFFFFF",lineWidth:6},cursor:"default"}),i=new n.Rect({shape:{r:10,x:-2*this.scaleRatio,y:100*this.scaleRatio,width:5*this.scaleRatio,height:40*this.scaleRatio},style:{fill:"#FFF",stroke:"#222222"},cursor:"default"});e.add(t),e.add(i),[{x:100,y:325},{x:190,y:325},{x:280,y:325}].forEach((t,i)=>{const o=new n.Circle({shape:{r:6,cx:t.x*this.scaleRatio,cy:t.y*this.scaleRatio},style:{stroke:"red",opacity:.5}});let r=0===i?"____buttonA":1===i?"____buttonB":"____buttonC";o.on("click",e=>{const t=this.storeSrv.getComponentById(r);this.globalOperatorSrv.setSelectedComponent(t)}),o.on("dblclick",e=>{this.codeEditorSrv.createWarnSwal(()=>{this.createButtonCallback(i,0)})}),e.add(o)}),[{x:-26,y:230,width:12,height:60,fillColr:"#c03546"},{x:110,y:-26,width:60,height:12,fillColr:"#5e5e5f"},{x:210,y:-26,width:60,height:12,fillColr:"rgb(0, 160, 200)"}].forEach(t=>{const i=new n.Rect({shape:{x:t.x*this.scaleRatio,y:t.y*this.scaleRatio,width:t.width*this.scaleRatio,height:t.height*this.scaleRatio},style:{fill:t.fillColr,opacity:0}});e.add(i)}),this.workContainer=e,this.zrenderWorkspace.add(e),this.zrenderWorkspace.workContainer=e}createToughMulator(){const e=new n.Group({});e.position=[82*this.scaleRatio,57*this.scaleRatio];const t=new n.Group({}),i=new n.Group({}),o=new n.Polygon({shape:{points:[[-50,125],[8,70],[8,240],[-50,185]]},style:{fill:"#916b01",stroke:"#916b01"},cursor:"default",z:-1});t.add(o);const r=new n.Polygon({shape:{points:[[360,125],[302,70],[302,240],[360,185]]},style:{fill:"#916b01",stroke:"#916b01"},cursor:"default",z:-1});i.add(r),[{type:"Rect",shape:{x:-22,y:109,width:16*this.scaleRatio,height:31*this.scaleRatio}},{type:"Rect",shape:{x:-22,y:176,width:16*this.scaleRatio,height:31*this.scaleRatio}},{type:"Circle",shape:{cx:-26,cy:155,r:9}},{type:"Rect",shape:{x:319,y:109,width:16*this.scaleRatio,height:31*this.scaleRatio}},{type:"Rect",shape:{x:319,y:176,width:16*this.scaleRatio,height:31*this.scaleRatio}},{type:"Circle",shape:{cx:335,cy:155,r:9}}].forEach((e,o)=>{let r=new n[e.type]({shape:e.shape,style:{fill:"#303131"},cursor:"default"});o>2?i.add(r):t.add(r)}),t.position=[0,42],i.position=[92,42],t.scale=[.7,.7],i.scale=[.7,.7];const s=new n.Rect({shape:{r:24,x:0,y:0,width:392*this.scaleRatio,height:392*this.scaleRatio},style:{stroke:"#e5b220",lineWidth:6},cursor:"default"}),a=new n.Rect({shape:{r:10,x:-2*this.scaleRatio,y:100*this.scaleRatio,width:5*this.scaleRatio,height:40*this.scaleRatio},style:{fill:"#e5b220",stroke:"#222222"},cursor:"default"});e.add(s),e.add(a),e.add(t),e.add(i),this.workContainer=e,this.zrenderWorkspace.add(e),this.zrenderWorkspace.workContainer=e}createFireSimulator(){const e=new n.Group({});e.position=[88*this.scaleRatio,62*this.scaleRatio];const t=new n.Rect({shape:{r:24,x:0,y:0,width:380*this.scaleRatio,height:380*this.scaleRatio},style:{stroke:"#A22222",lineWidth:6},cursor:"default"}),i=new n.Rect({shape:{r:10,x:-2*this.scaleRatio,y:100*this.scaleRatio,width:5*this.scaleRatio,height:40*this.scaleRatio},style:{fill:"red"},cursor:"default"});e.add(t),e.add(i),[{x:70,y:330},{x:160,y:330},{x:250,y:330}].forEach((t,i)=>{const o=new n.Rect({shape:{r:5,x:t.x*this.scaleRatio,y:t.y*this.scaleRatio,width:56*this.scaleRatio,height:30*this.scaleRatio},style:{fill:"#C2BFCB"}});let r=0===i?"____buttonA":1===i?"____buttonB":"____buttonC";o.on("click",e=>{const t=this.storeSrv.getComponentById(r);this.globalOperatorSrv.setSelectedComponent(t)}),o.on("dblclick",e=>{this.codeEditorSrv.createWarnSwal(()=>{this.createButtonCallback(i,0)})}),e.add(o)}),[{x:-26,y:230,width:12,height:60,fillColr:"#c03546"},{x:110,y:-26,width:60,height:12,fillColr:"#5e5e5f"},{x:210,y:-26,width:60,height:12,fillColr:"rgb(0, 160, 200)"}].forEach(t=>{const i=new n.Rect({shape:{x:t.x*this.scaleRatio,y:t.y*this.scaleRatio,width:t.width*this.scaleRatio,height:t.height*this.scaleRatio},style:{fill:t.fillColr,opacity:0}});e.add(i)}),this.workContainer=e,this.zrenderWorkspace.add(e),this.zrenderWorkspace.workContainer=e}creatM5stickSimulator(){const e=new n.Group({});e.position=[136*this.scaleRatio,100*this.scaleRatio];const t=new n.Rect({shape:{r:10,x:0,y:0,width:200*this.scaleRatio,height:400*this.scaleRatio},style:{stroke:"#666",fill:"#444",lineWidth:2},cursor:"default"}),i=new n.Rect({shape:{r:10,x:-2*this.scaleRatio,y:320*this.scaleRatio,width:5*this.scaleRatio,height:40*this.scaleRatio},style:{fill:"red"},cursor:"default"}),o=new n.Rect({shape:{r:10,x:198*this.scaleRatio,y:100*this.scaleRatio,width:5*this.scaleRatio,height:40*this.scaleRatio},style:{fill:"#ccc"},cursor:"default"}),r=new n.Rect({shape:{r:10,x:25*this.scaleRatio,y:-2*this.scaleRatio,width:14*this.scaleRatio,height:5*this.scaleRatio},style:{fill:"#ccc"},cursor:"default"}),s=new n.Text({position:[40*this.scaleRatio,320*this.scaleRatio],style:{text:"M5",fontWeight:700,fontSize:70*this.scaleRatio,textFill:"#ccc"},cursor:"default"});e.add(t),e.add(i),e.add(s),e.add(o),e.add(r),this.workContainer=e,this.zrenderWorkspace.add(e),this.zrenderWorkspace.workContainer=e}creatStickcMulator(){let e=this.scaleRatio;const t=new n.Group({});t.position=[164*e,62*e];const i=new n.Rect({shape:{r:20,x:0,y:0,width:235*e,height:470*e},style:{stroke:"#666",fill:"#ea8432",lineWidth:3},cursor:"default"}),o=new n.Rect({shape:{r:10,x:92.5*this.scaleRatio,y:465*this.scaleRatio,width:50*this.scaleRatio,height:5*this.scaleRatio},style:{fill:"#ccc"},cursor:"default"}),r=new n.Rect({shape:{r:10,x:-2*e,y:350*e,width:5*e,height:40*e},style:{fill:"red"},cursor:"default"}),s=new n.Rect({shape:{r:10,x:230*e,y:95*e,width:5*e,height:40*e},style:{fill:"#ccc"}});s.on("mouseover",function(t){t.target.attr({shape:{width:10*e}})}),s.on("mouseout",function(t){t.target.attr({shape:{width:5*e}})}),s.on("dblclick",e=>{this.codeEditorSrv.createWarnSwal(()=>{this.createButtonCallback(1,0)})});const a=new n.Rect({shape:{r:10,x:25*e,y:-2*e,width:14*e,height:5*e},style:{fill:"red"},cursor:"default"}),l=new n.Rect({shape:{r:10,x:38*e,y:-2*e,width:14*e,height:5*e},style:{fill:"#ccc"},cursor:"default"}),c=new n.Group({cursor:"pointer"}),h=new n.Rect({shape:{r:10,x:40*e,y:330*e,width:156*e,height:98*e},style:{fill:"#555555"}}),u=new n.Rect({shape:{r:10,x:43*e,y:333*e,width:150*e,height:105*e},style:{fill:"#ea8432"}}),d=new n.Text({position:[57*e,355*e],style:{text:"M5",fontWeight:700,fontSize:75*e,textFill:"#d96e05",fontFamily:"Verdana, Arial, Helvetica, sans-serif"}});d.on("mouseover",function(e){e.target.attr({style:{textFill:"#cc6600"}})}),d.on("mouseout",function(e){e.target.attr({style:{textFill:"#d96e05"}})}),c.add(h),c.add(u),c.add(d),c.on("dblclick",e=>{this.codeEditorSrv.createWarnSwal(()=>{this.createButtonCallback(0,0)})}),t.add(i),t.add(r),t.add(c),t.add(s),t.add(a),t.add(l),t.add(o),this.workContainer=t,this.zrenderWorkspace.add(t),this.zrenderWorkspace.workContainer=t}createStickcPlusMulator(){let e=this.scaleRatio;const t=new n.Group({});t.position=[164*e,62*e];const i=new n.Rect({shape:{r:20,x:0,y:0,width:235*e,height:470*e},style:{stroke:"#666",fill:"#ea5405",lineWidth:3},cursor:"default"}),o=new n.Rect({shape:{r:10,x:92.5*this.scaleRatio,y:465*this.scaleRatio,width:50*this.scaleRatio,height:5*this.scaleRatio},style:{fill:"#ccc"},cursor:"default"}),r=new n.Rect({shape:{r:10,x:-2*e,y:350*e,width:5*e,height:40*e},style:{fill:"red"},cursor:"default"}),s=new n.Rect({shape:{r:10,x:230*e,y:95*e,width:5*e,height:40*e},style:{fill:"#ccc"}});s.on("mouseover",function(t){t.target.attr({shape:{width:10*e}})}),s.on("mouseout",function(t){t.target.attr({shape:{width:5*e}})}),s.on("dblclick",e=>{this.codeEditorSrv.createWarnSwal(()=>{this.createButtonCallback(1,0)})});const a=new n.Rect({shape:{r:10,x:25*e,y:-2*e,width:14*e,height:5*e},style:{fill:"red"},cursor:"default"}),l=new n.Rect({shape:{r:10,x:38*e,y:-2*e,width:14*e,height:5*e},style:{fill:"#ccc"},cursor:"default"}),c=new n.Group({cursor:"pointer"}),h=new n.Rect({shape:{r:10,x:40*e,y:340*e,width:156*e,height:88*e},style:{fill:"#555555"}}),u=new n.Rect({shape:{r:10,x:43*e,y:343*e,width:150*e,height:95*e},style:{fill:"#ea5405"}}),d=new n.Text({position:[57*e,355*e],style:{text:"M5",fontWeight:700,fontSize:75*e,textFill:"#bf4404",fontFamily:"Verdana, Arial, Helvetica, sans-serif"}});d.on("mouseover",function(e){e.target.attr({style:{textFill:"#ad3e03"}})}),d.on("mouseout",function(e){e.target.attr({style:{textFill:"#bf4404"}})}),c.add(h),c.add(u),c.add(d),c.on("dblclick",e=>{this.codeEditorSrv.createWarnSwal(()=>{this.createButtonCallback(0,0)})}),t.add(i),t.add(r),t.add(c),t.add(s),t.add(a),t.add(l),t.add(o),this.workContainer=t,this.zrenderWorkspace.add(t),this.zrenderWorkspace.workContainer=t}createStickcPlus2Mulator(){let e=this.scaleRatio;const t=new n.Group({});t.position=[164*e,62*e];const i=new n.Rect({shape:{r:20,x:0,y:0,width:235*e,height:470*e},style:{stroke:"#666",fill:"#F5A41D",lineWidth:3},cursor:"default"}),o=new n.Rect({shape:{r:10,x:92.5*this.scaleRatio,y:465*this.scaleRatio,width:50*this.scaleRatio,height:5*this.scaleRatio},style:{fill:"#ccc"},cursor:"default"}),r=new n.Rect({shape:{r:10,x:-2*e,y:350*e,width:5*e,height:40*e},style:{fill:"red"},cursor:"pointer"});r.on("mouseover",function(t){t.target.attr({shape:{width:10*e,x:-6*e}})}),r.on("mouseout",function(t){t.target.attr({shape:{width:5*e,x:-2*e}})}),r.on("dblclick",e=>{this.codeEditorSrv.createWarnSwal(()=>{this.createButtonCallback(2,0)})});const s=new n.Rect({shape:{r:10,x:230*e,y:95*e,width:5*e,height:40*e},style:{fill:"#ccc"}});s.on("mouseover",function(t){t.target.attr({shape:{width:10*e}})}),s.on("mouseout",function(t){t.target.attr({shape:{width:5*e}})}),s.on("dblclick",e=>{this.codeEditorSrv.createWarnSwal(()=>{this.createButtonCallback(1,0)})});const a=new n.Rect({shape:{r:10,x:25*e,y:-2*e,width:14*e,height:5*e},style:{fill:"red"},cursor:"default"}),l=new n.Rect({shape:{r:10,x:38*e,y:-2*e,width:14*e,height:5*e},style:{fill:"#ccc"},cursor:"default"}),c=new n.Group({cursor:"pointer"}),h=new n.Rect({shape:{r:10,x:40*e,y:340*e,width:156*e,height:88*e},style:{fill:"#555555"}}),u=new n.Rect({shape:{r:10,x:43*e,y:343*e,width:150*e,height:95*e},style:{fill:"#F5A41D"}}),d=new n.Text({position:[57*e,355*e],style:{text:"M5",fontWeight:700,fontSize:75*e,textFill:"#D48F1F",fontFamily:"Verdana, Arial, Helvetica, sans-serif"}});d.on("mouseover",function(e){e.target.attr({style:{textFill:"#ad751a"}})}),d.on("mouseout",function(e){e.target.attr({style:{textFill:"#D48F1F"}})}),c.add(h),c.add(u),c.add(d),c.on("dblclick",e=>{this.codeEditorSrv.createWarnSwal(()=>{this.createButtonCallback(0,0)})}),t.add(i),t.add(r),t.add(c),t.add(s),t.add(a),t.add(l),t.add(o),this.workContainer=t,this.zrenderWorkspace.add(t),this.zrenderWorkspace.workContainer=t}createAtomSimulator(){const e=new n.Group({});e.position=[94*this.scaleRatio,110*this.scaleRatio];const t=new n.Rect({shape:{r:24,x:0,y:0,width:320*this.scaleRatio,height:320*this.scaleRatio},style:{fill:"#5A5A5A"},cursor:"default"});e.add(t);const i=new n.Rect({shape:{r:18,x:70*this.scaleRatio,y:60*this.scaleRatio,width:180*this.scaleRatio,height:220*this.scaleRatio},style:{stroke:"#333333",lineWidth:5,fill:"#5A5A5A"}});i.on("dblclick",e=>{this.codeEditorSrv.createWarnSwal(()=>{this.createButtonCallback(0,0)})}),e.add(i);const o=new n.Rect({shape:{r:6,x:135*this.scaleRatio,y:150*this.scaleRatio,width:50*this.scaleRatio,height:6*this.scaleRatio},style:{fill:"#333333"},cursor:"default"});e.add(o);const r=new n.Rect({shape:{x:50*this.scaleRatio,y:240*this.scaleRatio,width:240*this.scaleRatio,height:60*this.scaleRatio},style:{fill:"#5A5A5A"},cursor:"default"});e.add(r);const s=new n.Rect({shape:{x:110*this.scaleRatio,y:230*this.scaleRatio,width:100*this.scaleRatio,height:90*this.scaleRatio},style:{fill:"#bbbbbb"},cursor:"default"});e.add(s);const a=new n.Rect({shape:{r:[0,8,8,0],x:0*this.scaleRatio,y:60*this.scaleRatio,width:30*this.scaleRatio,height:80*this.scaleRatio},style:{stroke:"#333333",lineWidth:6,fill:"#5A5A5A"},cursor:"default"});e.add(a),this.workContainer=e,this.zrenderWorkspace.add(e),this.zrenderWorkspace.workContainer=e}createAtomMatrixSimulator(e){const t=new n.Group({});t.position=[94*this.scaleRatio,110*this.scaleRatio];const i=new n.Rect({shape:{r:24,x:0,y:0,width:320*this.scaleRatio,height:320*this.scaleRatio},style:{fill:"#5A5A5A"},cursor:"default"});t.add(i);const o=new n.Rect({shape:{x:25*this.scaleRatio,y:25*this.scaleRatio,width:270*this.scaleRatio,height:270*this.scaleRatio},style:{fill:"#000000"}});t.add(o);let r=!1,s=!1,a=null,l=null,c="#111111",h="#111111",u=null;e&&e.matrix&&(u=e.matrix);for(let d=0;d<25;d++){let e=new n.Rect({shape:{x:(d%5*54+25)*this.scaleRatio,y:(54*Math.floor(d/5)+25)*this.scaleRatio,width:54*this.scaleRatio,height:54*this.scaleRatio},style:{fill:u?u[d]:"#111111",stroke:"#282828",lineWidth:1}});e.on("mousedown",e=>{r=!0,h=e.target.style.fill;let t=document.getElementById("__led_colorpicker");e.target.setStyle("fill",null==t?"#FFFFFF":t.value),c=e.target.style.fill,a=e.target,l=e.target}),e.on("mousemove",e=>{!r||l!=e.target&&(e.target.setStyle("fill",e.target.style.fill==c&&null!=l?"#111111":c),l=e.target,!s&&a!=e.target&&(s=!0))});const o=()=>{let e=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(var i=2;i<27;i++)e[i-2]=t._children[i].style.fill;this.storeSrv.setMatrixArray(e),this.codeEditorSrv.updateWorkspaceValue(2)};i.on("mousemove",e=>{r=!1,null!==l&&o()}),e.on("mouseup",e=>{!s&&h==c&&e.target.setStyle("fill","#111111"),r=!1,a=null,l=null,s=!1,o()}),t.add(e)}this.workContainer=t,this.zrenderWorkspace.add(t),this.zrenderWorkspace.workContainer=t}createAtomDisplayMulator(){let e=this.scaleRatio;const t=new n.Group({});t.position=[164*e,66*e];const i=new n.Image({style:{image:"../../assets/images/atom-display.svg",width:179*this.scaleRatio,height:460*this.scaleRatio},cursor:"default"});t.add(i);const o=new n.Rect({shape:{r:14,x:40*this.scaleRatio,y:294*this.scaleRatio,width:100*this.scaleRatio,height:90*this.scaleRatio},style:{fill:"#535150",opacity:0}});o.on("dblclick",e=>{this.codeEditorSrv.createWarnSwal(()=>{this.createButtonCallback(0,0)})}),t.add(o),this.workContainer=t,this.zrenderWorkspace.add(t),this.zrenderWorkspace.workContainer=t}createAtomUMulator(){let e=this.scaleRatio;const t=new n.Group({});t.position=[164*e,66*e];const i=new n.Image({style:{image:"../../assets/images/atom-u.svg",width:179*this.scaleRatio,height:460*this.scaleRatio},cursor:"default"});t.add(i);const o=new n.Rect({shape:{r:14,x:40*this.scaleRatio,y:200*this.scaleRatio,width:100*this.scaleRatio,height:90*this.scaleRatio},style:{fill:"#535150",opacity:0}});o.on("dblclick",e=>{this.codeEditorSrv.createWarnSwal(()=>{this.createButtonCallback(0,0)})}),t.add(o),this.workContainer=t,this.zrenderWorkspace.add(t),this.zrenderWorkspace.workContainer=t}createCoreInkMulator(){let e=this.scaleRatio;const t=new n.Group({});t.position=[120*e,62*e];const i=new n.Rect({shape:{r:20,x:0,y:0,width:308*e,height:430*e},style:{fill:"#ffffff"},cursor:"default"}),o=Array.from({length:4},(e,t)=>t),r=new n.Group({});o.forEach(e=>{const t=new n.Circle({shape:{r:16},style:{fill:"#303131",shadowBlur:3,shadowColor:"#000000"},cursor:"default"});r.add(t)}),r._children[0].attr({position:[28*e,28*e]}),r._children[1].attr({position:[281*e,28*e]}),r._children[2].attr({position:[28*e,403*e]}),r._children[3].attr({position:[281*e,403*e]});const s=new n.Rect({shape:{r:[0,0,5,5],x:68*this.scaleRatio,y:0,width:168*this.scaleRatio,height:18*this.scaleRatio},style:{fill:"#ffffff",stroke:"#d6d6d6"},cursor:"default"}),a=new n.Group({}),l=new n.Polygon({position:[292*e,69*e],shape:{points:[[0,20],[12,0],[12,120],[0,100]]},style:{fill:"#eaeaea",stroke:"#d6d6d6"},cursor:"default"}),c=new n.Arc({position:[251*e,145*e],shape:{r:40,startAngle:36*this.rotate,endAngle:324*this.rotate,clockwise:!0},style:{fill:"#3b3b3b",stroke:"#3b3b3b"},cursor:"default"}),h=new n.Rect({position:[300*e,138*e],shape:{width:5*this.scaleRatio,height:15*this.scaleRatio},style:{fill:"#3b3b3b"},cursor:"default"});a.add(l),a.add(c),a.add(h);const u=this.createSignArrow();u.attr({position:[264,84]});const d=new n.Rect({position:[180*e,-3*e],shape:{r:5,width:46*e,height:5*e},style:{fill:"red"}}),p=new n.Text({position:[190*e,-24*e],style:{text:_[3],fontWeight:500,fontSize:13,textFill:"#fff"}});p.hide(),d.on("mouseover",function(t){t.target.attr({position:[180*e,-6*e],shape:{r:10,height:12*e}}),p.show()}),d.on("mouseout",function(t){t.target.attr({position:[180*e,-3*e],shape:{r:5,height:5*e}}),p.hide()}),d.on("dblclick",e=>{this.codeEditorSrv.createWarnSwal(()=>{this.createButtonCallback(3,1)})});const g=new n.Rect({position:[306*e,300*e],shape:{r:5,width:5*this.scaleRatio,height:40*this.scaleRatio},style:{fill:"red"}}),f=new n.Text({position:[320*e,314*e],style:{text:_[4],fontWeight:500,fontSize:13,textFill:"#fff"}});f.hide(),g.on("mouseover",function(t){t.target.attr({position:[303*e,300*e],shape:{r:10,width:12*e}}),f.show()}),g.on("mouseout",function(t){t.target.attr({position:[306*e,300*e],shape:{r:5,width:5*e}}),f.hide()}),g.on("dblclick",e=>{this.codeEditorSrv.createWarnSwal(()=>{this.createButtonCallback(4,1)})});const m=new n.Text({position:[84*e,330*e],style:{text:"M5",fontWeight:530,fontSize:96*e,textFill:"#f3f3f3",textShadowColor:"#303131",textShadowBlur:1,fontFamily:"Verdana, Arial, Helvetica, sans-serif"},cursor:"default"});t.add(i),t.add(s),t.add(m),t.add(r),t.add(a),t.add(d),t.add(p),t.add(g),t.add(f),t.add(u),this.workContainer=t,this.zrenderWorkspace.add(t),this.zrenderWorkspace.workContainer=t}createPaperMulator(){let e=this.scaleRatio;const t=new n.Group({});t.position=[126*e,50*e];const i=new n.Rect({shape:{r:10,x:0,y:0,width:310*e,height:550*e},style:{fill:"#ffffff"},cursor:"default"}),o=new n.Rect({position:[11,9],shape:{r:7,x:0,y:0,width:282*e,height:494*e},style:{fill:"#f4f4f4"},cursor:"default"});t.add(i),t.add(o),[[[188,430],[42,4]],[[-1,354],[4,42]],[[-1,300],[4,42]]].forEach((e,i)=>{const o=new n.Rect({shape:{r:10,x:e[0][0],y:e[0][1],width:e[1][0],height:e[1][1]},style:{fill:"#a3a3a3"}}),r=new n.Text({position:[e[0][0]-(0==i?0:45),e[0][1]+(0==i?-15:17)],style:{text:`Port${m[i]}`,fontWeight:500,fontSize:14,textFill:0==i?"#1e1e1e":"#fff"}});r.hide(),o.on("mouseover",function(t){t.target.attr({shape:{x:e[0][0]-(0==i?0:3),y:e[0][1],width:e[1][0]+(0==i?0:3),height:e[1][1]+(0==i?3:0)}}),r.show()}),o.on("mouseout",function(t){t.target.attr({shape:{x:e[0][0],y:e[0][1],width:e[1][0],height:e[1][1]}}),r.hide()}),t.add(o),t.add(r)});const r=new n.Group({position:[296*e,225*e]}),s=new n.Polygon({shape:{points:[[0,4],[10,-4],[10,72],[0,64]]},style:{fill:"#eaeaea",stroke:"#d6d6d6"}}),a=new n.Arc({position:[-32,34],shape:{r:40,startAngle:36*this.rotate,endAngle:324*this.rotate,clockwise:!0},style:{fill:"#3b3b3b",stroke:"#3b3b3b"}}),l=new n.Rect({position:[7,29],shape:{width:6*this.scaleRatio,height:15*this.scaleRatio},style:{fill:"#3b3b3b"}});r.add(s),r.add(a),r.add(l);const c=this.createSignArrow();c.attr({position:[264,180]}),t.add(r),t.add(c),this.workContainer=t,this.zrenderWorkspace.add(t),this.zrenderWorkspace.workContainer=t}createPICOMulator(){let e=this.scaleRatio;const t=new n.Group({});t.position=[104*e,80*e];const i=new n.Image({style:{image:"../../assets/images/PICO.svg",width:295*this.scaleRatio,height:400*this.scaleRatio},cursor:"default"});t.add(i);const o=new n.Rect({position:[40*e,158*e],shape:{r:[26,26,0,0],width:60*this.scaleRatio,height:90*this.scaleRatio},rotation:.8,origin:[0,0],style:{fill:"transparent"}});o.on("dblclick",e=>{this.codeEditorSrv.createWarnSwal(()=>{this.createButtonCallback(0,0)})}),t.add(o),this.workContainer=t,this.zrenderWorkspace.add(t),this.zrenderWorkspace.workContainer=t}createM5StationMulator(){let e=this.scaleRatio;const t=new n.Group({});t.position=[80*e,60*e];const i=new n.Image({style:{image:"../../assets/images/Station.svg",width:400*this.scaleRatio,height:625*this.scaleRatio},cursor:"default"});t.add(i),[{x:104,y:237},{x:172,y:237},{x:241,y:237}].forEach((e,i)=>{const o=new n.Rect({shape:{r:8,x:e.x*this.scaleRatio,y:e.y*this.scaleRatio,width:56*this.scaleRatio,height:42*this.scaleRatio},style:{fill:"#474443"}});let r=0===i?"____buttonA":2===i?"____buttonB":"____buttonC";o.on("click",e=>{const t=this.storeSrv.getComponentById(r);this.globalOperatorSrv.setSelectedComponent(t)}),o.on("dblclick",e=>{this.codeEditorSrv.createWarnSwal(()=>{this.createButtonCallback(i,0)})}),t.add(o)}),this.workContainer=t,this.zrenderWorkspace.add(t),this.zrenderWorkspace.workContainer=t}createLedColorTool(){const e=new n.Group({});e.position=[0,0];const t=new n.Rect({shape:{width:48*this.scaleRatio,height:48*this.scaleRatio},style:{fill:"#666666"}});e.add(t);const i=new n.Rect({shape:{x:12*this.scaleRatio,y:8*this.scaleRatio,width:24*this.scaleRatio,height:24*this.scaleRatio},style:{fill:"#ffffff"}});e.add(i);const o=new n.Text({position:[6*this.scaleRatio,34*this.scaleRatio],style:{text:"Color",fontSize:14*this.scaleRatio,textFill:"#ccc"}});e.add(o),e.on("click",e=>{let t=null;null==document.getElementById("__led_colorpicker")?(t=document.createElement("input"),t.id="__led_colorpicker",t.type="color",t.value="#ffffff",t.style.display="none",document.body.appendChild(t),t.onchange=function(e){t.value=e.target.value,i.setStyle("fill",t.value)}):t=document.getElementById("__led_colorpicker"),t.click()}),this.zrenderWorkspace.add(e)}createMainEditArea(){const e=new n.Group({});e.position=[this.screenOffsetX*this.scaleRatio,this.screenOffsetY*this.scaleRatio],this.screenContainer=e,this.zrenderWorkspace.add(e),this.zrenderWorkspace.screenContainer=e}createDeleteArea(){let e=0,t=180,i=0,o=70;this.storeSrv.getType().subscribe(n=>{n===r.__.PAPER?e=this.paperAddY:n===r.__.M5STATION&&(e=this.stationAddY),[r.__.STICK_C,r.__.STICK_C_PLUS,r.__.STICK_C_PLUS2,r.__.COREINK].includes(n)&&(t=120,i=45,o=100)});const s=new n.Group({});s.position=[340*this.scaleRatio,(552+e)*this.scaleRatio];const a=new n.Image({style:{image:"../../assets/images/trash.png",x:o*this.scaleRatio,y:8*this.scaleRatio,width:30*this.scaleRatio,height:30*this.scaleRatio,opacity:.6}}),l=new n.Rect({shape:{x:i,y:0,width:t*this.scaleRatio,height:48*this.scaleRatio},style:{opacity:.3,fill:"red"}});s.add(l),s.add(a),s.hide(),this.zrenderWorkspace.add(s),this.zrenderWorkspace.trash=s}createTextArea(){const e=new n.Group({});e.position=[340*this.scaleRatio,0*this.scaleRatio];const t=new n.Rect({shape:{x:0,y:0,width:180*this.scaleRatio,height:48*this.scaleRatio},style:{opacity:.3,fill:"red"}}),i=new n.Image({style:{image:"../../assets/images/trash.png",x:70*this.scaleRatio,y:8*this.scaleRatio,width:30*this.scaleRatio,height:30*this.scaleRatio,opacity:.6}});e.add(i),e.add(t),e.hide(),this.zrenderWorkspace.add(e),this.zrenderWorkspace.hint=e}createUnitArea(){let e=0;this.storeSrv.getType().subscribe(t=>{t===r.__.PAPER?e=this.paperAddY:t===r.__.M5STATION&&(e=this.stationAddY)});var t=this;const i=new n.Group({});i.position=[98*this.scaleRatio,(582+e)*this.scaleRatio];const o=new n.Text({style:{text:"Units",fontWeight:"bolder",fontSize:24*this.scaleRatio,textFill:"#FFFFFF",textBackgroundColor:"#525252",textPadding:[6,10],textBorderRadius:8}});o.position=[98*this.scaleRatio,(562+e)*this.scaleRatio],o.on("click",function(e){t.zrenderWorkspace.hatContainer.hide(),t.zrenderWorkspace.stampContainer.hide(),t.zrenderWorkspace.unitContainer.show(),e.target.attr({style:{textFill:"#00FF99",textBackgroundColor:"#525252"}}),t.zrenderWorkspace.hattext.attr({style:{textFill:"#ffffff",textBackgroundColor:"#333333"}}),t.zrenderWorkspace.stamptext.attr({style:{textFill:"#ffffff",textBackgroundColor:"#333333"}}),t.storeSrv.setIsUnit(!0),t.storeSrv.setIsStamp(!1)}),o.on("mouseover",function(e){"#525252"!=e.target.style.textBackgroundColor&&e.target.attr({style:{textFill:"#00FF99",textBackgroundColor:"#424242"}})}),o.on("mouseout",function(e){"#525252"!=e.target.style.textBackgroundColor&&e.target.attr({style:{textFill:"#ffffff",textBackgroundColor:"#333333"}})}),this.unitContainer=i,this.zrenderWorkspace.add(o),this.zrenderWorkspace.add(i),this.zrenderWorkspace.unitContainer=i,this.zrenderWorkspace.unittext=o}createHatArea(){var e=this;const t=new n.Group({});t.position=[98*this.scaleRatio,582*this.scaleRatio];const i=new n.Text({style:{text:"Hat",fontWeight:"bolder",fontSize:24*this.scaleRatio,textFill:"#FFFFFF",textBackgroundColor:"#333333",textPadding:[6,10],textBorderRadius:8}});i.position=[198*this.scaleRatio,562*this.scaleRatio],i.on("click",function(t){t.target.attr({style:{textFill:"#00FF99",textBackgroundColor:"#525252"}}),e.zrenderWorkspace.unittext.attr({style:{textFill:"#ffffff",textBackgroundColor:"#333333"}}),e.zrenderWorkspace.stamptext.attr({style:{textFill:"#ffffff",textBackgroundColor:"#333333"}}),e.zrenderWorkspace.hatContainer.show(),e.zrenderWorkspace.stampContainer.hide(),e.zrenderWorkspace.unitContainer.hide(),e.storeSrv.setIsUnit(!1),e.storeSrv.setIsStamp(!1)}),i.on("mouseover",function(e){"#525252"!=e.target.style.textBackgroundColor&&e.target.attr({style:{textFill:"#00FF99",textBackgroundColor:"#424242"}})}),i.on("mouseout",function(e){"#525252"!=e.target.style.textBackgroundColor&&e.target.attr({style:{textFill:"#ffffff",textBackgroundColor:"#333333"}})}),this.hatContainer=t,this.zrenderWorkspace.add(i),this.zrenderWorkspace.add(t),this.zrenderWorkspace.hatContainer=t,this.zrenderWorkspace.hatContainer.hide(),this.zrenderWorkspace.unittext.attr({style:{textFill:"#00FF99",fontSize:26*e.scaleRatio}}),this.zrenderWorkspace.hattext=i;const o=this.storeSrv.getType().source._value;"stick-C"==o||"stick-C-plus"==o||"stick-C-plus2"==o?this.zrenderWorkspace.hattext.show():this.zrenderWorkspace.hattext.hide()}createStampArea(){let e=198,t=0;this.storeSrv.getType().subscribe(i=>{i===r.__.PAPER?t=this.paperAddY:i===r.__.M5STATION&&(t=this.stationAddY),(i===r.__.STICK_C||i===r.__.STICK_C_PLUS||i===r.__.COREINK||i===r.__.STICK_C_PLUS2)&&(e=274)});var i=this;const o=new n.Group({});o.position=[98*this.scaleRatio,(582+t)*this.scaleRatio];const s=new n.Text({style:{text:"Stamps",fontWeight:"bolder",fontSize:24*this.scaleRatio,textFill:"#FFFFFF",textBackgroundColor:"#333333",textPadding:[6,10],textBorderRadius:8}});s.position=[e*this.scaleRatio,(562+t)*this.scaleRatio],s.on("click",function(e){i.zrenderWorkspace.hatContainer.hide(),i.zrenderWorkspace.unitContainer.hide(),i.zrenderWorkspace.stampContainer.show(),e.target.attr({style:{textFill:"#00FF99",textBackgroundColor:"#525252"}}),i.zrenderWorkspace.unittext.attr({style:{textFill:"#ffffff",textBackgroundColor:"#333333"}}),i.zrenderWorkspace.hattext.attr({style:{textFill:"#ffffff",textBackgroundColor:"#333333"}}),i.storeSrv.setIsUnit(!1),i.storeSrv.setIsStamp(!0)}),s.on("mouseover",function(e){"#525252"!=e.target.style.textBackgroundColor&&e.target.attr({style:{textFill:"#00FF99",textBackgroundColor:"#424242"}})}),s.on("mouseout",function(e){"#525252"!=e.target.style.textBackgroundColor&&e.target.attr({style:{textFill:"#ffffff",textBackgroundColor:"#333333"}})}),this.stampContainer=o,this.zrenderWorkspace.add(s),this.zrenderWorkspace.add(o),this.zrenderWorkspace.stampContainer=o,this.zrenderWorkspace.stamptext=s,this.zrenderWorkspace.stampContainer.hide()}createRefresh(){const e=new n.Group({});e.position=[320,document.documentElement.clientHeight-220*this.scaleRatio];const t=new n.Image({style:{image:"../../assets/images/refresh.png",x:0*this.scaleRatio,y:0*this.scaleRatio,width:48*this.scaleRatio,height:48*this.scaleRatio}});var i=this;t.on("click",function(e){i.zrenderWorkspace.resize({width:"auto",height:"auto"}),i.zrenderWorkspace.refresh()}),e.add(t),i.zrenderWorkspace.add(e),t.hide()}createCoordinate(){const e=new n.Group({});e.position=[50,10];const t=new n.Image({style:{image:"../../assets/images/coordinate.png",width:18,height:18}}),i=new n.Text({position:[22,3],style:{text:"0, 0",fontSize:16,fontFamily:"sans-serif",textFill:"#FFF"}}),o=new n.Text({position:[2,1],style:{text:"Out of range!",fontSize:16,fontFamily:"sans-serif",textFill:"red"}});e.add(t),e.add(i),e.add(o),o.hide(),this.zrenderWorkspace.add(e),this.zrenderWorkspace.coordinate=e}updateCoordinate(e,t){const i=a.tE(sessionStorage.getItem("_type"));e>=0&&e<=i.W&&t>=0&&t<=i.H?(this.zrenderWorkspace.coordinate.show(),this.zrenderWorkspace.coordinate._children[0].show(),this.zrenderWorkspace.coordinate._children[1].show(),this.zrenderWorkspace.coordinate._children[2].hide(),this.zrenderWorkspace.coordinate._children[1].attr({style:{text:`${e}, ${t}`}})):(this.zrenderWorkspace.coordinate._children[0].hide(),this.zrenderWorkspace.coordinate._children[1].hide(),this.zrenderWorkspace.coordinate._children[2].show())}createBaseline(e,t,i,o){return new n.Line({position:[this.screenOffsetX*this.scaleRatio,this.screenOffsetY*this.scaleRatio],shape:{x1:e*this.scaleRatio*this.eRatio,y1:t*this.scaleRatio*this.eRatio,x2:i*this.scaleRatio*this.eRatio,y2:o*this.scaleRatio*this.eRatio},style:{lineWidth:1,stroke:"#ff66ff"},z:999})}createVerticalline({x:e,y1:t,y2:i}){const n=this.createBaseline(e,t,e,i);this.guideLines.add(n)}createHorizontalline({x1:e,x2:t,y:i}){const n=this.createBaseline(e,i,t,i);this.guideLines.add(n)}isRange(e,t){return e=Math.floor(e),t=Math.floor(t),Math.abs(e-t)<=this.aligningLineMargin}getComponentInfo(e){let t,i,n,o,s=e.componentSvg;return e.type===r.Eq.CIRCLE?(t=e.x-e.radius,i=e.y-e.radius,o=2*e.radius,n=2*e.radius):e.type===r.Eq.SLIDER?(t=e.x,i=e.y-(s.getBoundingRect().height/this.scaleRatio/this.eRatio-e.height)/2,o=s.getBoundingRect().height/this.scaleRatio/this.eRatio,n=e.width):[r.Eq.LABEL,r.Eq.IMAGE,r.Eq.CHECKBOX,r.Eq.LABELPLUS,r.Eq.IMAGEPLUS].includes(e.type)?(t=e.x,i=e.y,n=s.getBoundingRect().width/this.scaleRatio/this.eRatio,o=s.getBoundingRect().height/this.scaleRatio/this.eRatio):e.type===r.Eq.SCREEN?(t=e.x,i=e.y,o=e.height/this.eRatio,n=e.width/this.eRatio):(t=e.x,i=e.y,o=e.height,n=e.width),{x:t,y:i,width:n,height:o}}createGuideLine(e){this.zrenderWorkspace.remove(this.guideLines),this.guideLines.removeAll(),this.verticalLines=[],this.horizontalLines=[],this.adsorbX=null,this.adsorbY=null;let t=!1,i=!1,n=this.getComponentInfo(e.__component),o=e.__component.type;if(o===r.Eq.TITLE||o===r.Eq.TRIANGLE||o===r.Eq.LINE)return;const s=window.Blockly.M5Component.filter(t=>"button"!==t.type&&t.id!==e.id);for(let a=s.length;a--;){let l=this.getComponentInfo(s[a]),c=l.x+l.width,h=l.y+l.height,u=l.x+l.width/2,d=l.y+l.height/2,p=n.x+n.width,g=n.y+n.height,f=n.y+n.height/2,m=l.x<n.x?l.x-this.lineOffset:n.x-this.lineOffset,_=l.x<n.x?p+this.lineOffset:c+this.lineOffset,v=l.y<n.y?l.y-this.lineOffset:n.y-this.lineOffset,y=l.y<n.y?g+this.lineOffset:h+this.lineOffset;s[a].type==r.Eq.SCREEN&&(v=l.y-this.lineOffset,y=l.height+this.lineOffset,m=l.x-this.lineOffset,_=l.width+this.lineOffset),this.isRange(u,n.x+n.width/2)&&(i=!0,this.verticalLines.push({x:u,y1:v,y2:y}),this.adsorbX=o===r.Eq.CIRCLE?u:u-n.width/2),this.isRange(l.x,n.x)&&(i=!0,this.verticalLines.push({x:l.x,y1:v,y2:y}),this.adsorbX=o===r.Eq.CIRCLE?l.x+n.width/2:l.x),this.isRange(c,p)&&(i=!0,this.verticalLines.push({x:c,y1:v,y2:y}),this.adsorbX=o===r.Eq.CIRCLE?c-n.width/2:c-n.width),this.isRange(d,f)&&(t=!0,this.horizontalLines.push({x1:m,x2:_,y:d}),this.adsorbY=o===r.Eq.CIRCLE?d:o===r.Eq.SLIDER?d-e.__component.height/2:d-n.height/2),this.isRange(l.y,n.y)&&(t=!0,this.horizontalLines.push({x1:m,x2:_,y:l.y}),this.adsorbY=o===r.Eq.CIRCLE?l.y+n.height/2:o===r.Eq.SLIDER?l.y+(n.height-e.__component.height)/2:l.y),this.isRange(h,g)&&(t=!0,this.horizontalLines.push({x1:m,x2:_,y:h}),this.adsorbY=o===r.Eq.CIRCLE?h-n.height/2:o===r.Eq.SLIDER?h-n.height/2-e.__component.height/2:h-n.height)}t||(this.horizontalLines.length=0,this.adsorbY=null),i||(this.verticalLines.length=0,this.adsorbX=null);for(let r=this.verticalLines.length;r--;)this.createVerticalline(this.verticalLines[r]);for(let r=this.horizontalLines.length;r--;)this.createHorizontalline(this.horizontalLines[r]);this.zrenderWorkspace.add(this.guideLines),this.zrenderWorkspace.guideLines=this.guideLines}adsorbent(e){null!==this.adsorbX&&(e.__component.setProp(r.pA.X,this.adsorbX),this.updateSvg(e.__component,r.pA.X,this.adsorbX),this.adsorbX=null),null!==this.adsorbY&&(e.__component.setProp(r.pA.Y,this.adsorbY),this.updateSvg(e.__component,r.pA.Y,this.adsorbY),this.adsorbY=null)}createPnpIcon(){const e=new n.Group({});let t=this.workContainer.position,i=this.workContainer.getBoundingRect();e.position=[t[0],t[1]+i.height-10];const o=new n.Image({style:{image:"../../assets/images/pnp-logo.svg",width:30,height:30,x:0,y:0},z:999});e.add(o),this.zrenderWorkspace.add(e),this.zrenderWorkspace.pnpicon=e,this.storeSrv.getPnpEnable().subscribe(e=>{e?this.zrenderWorkspace.pnpicon.show():this.zrenderWorkspace.pnpicon.hide()})}createComponentSvg(e){if(13!==this.isStick)switch(e.type){case r.Eq.SCREEN:return this.createScreenComponentSvg(e);case r.Eq.BUTTON:return this.createButtonComponentSvg(e);case r.Eq.TITLE:return this.createTitleComponentSvg(e);case r.Eq.LABEL:return this.createLabelComponentSvg(e);case r.Eq.RECTANGLE:return this.createRectangleComponentSvg(e);case r.Eq.CIRCLE:return this.createCircleComponentSvg(e);case r.Eq.IMAGE:return this.createImageComponentSvg(e);case r.Eq.TRIANGLE:return this.createTriangleComponentSvg(e);case r.Eq.LINE:return this.createLineComponentSvg(e);case r.Eq.BUTTON2:return this.createButton2ComponentSvg(e);case r.Eq.SWITCH:return this.createSwitchComponentSvg(e);case r.Eq.SLIDER:return this.createSliderComponentSvg(e);case r.Eq.BAR:return this.createBarComponentSvg(e);case r.Eq.CHECKBOX:return this.createCheckboxComponentSvg(e);case r.Eq.LABELPLUS:return this.createLabelPlusComponentSvg(e);case r.Eq.IMAGEPLUS:return this.createImagePlusComponentSvg(e);case r.Eq.GRAPH:return this.createGraphComponentSvg(e);case r.Eq.BARGRAPH:return this.createBarGraphComponentSvg(e)}}createScreenComponentSvg(e){const t=sessionStorage.getItem("_type"),i=new n.Rect({shape:{x:e.x*this.scaleRatio,y:e.y*this.scaleRatio,width:e.width*this.scaleRatio,height:e.height*this.scaleRatio,r:t===r.__.COREINK||t===r.__.PAPER?4:0},style:{fill:e.backgroundColor}});i.id=e.id,i.__component=e;let o=this;return i.on("click",function(e){o.componentClick.apply(this,[e,o])}),e.componentSvg=i,i}createButtonComponentSvg(e){const t=new n.Rect({shape:{x:e.x*this.scaleRatio,y:e.y*this.scaleRatio,width:e.width*this.scaleRatio,height:e.height*this.scaleRatio,r:[4,4,0,0]},style:{fill:"#111111",stroke:"#FFFFFF",textRect:{x:e.x*this.scaleRatio,y:e.y*this.scaleRatio,width:e.width*this.scaleRatio,height:e.height*this.scaleRatio},text:e.text,textFill:"#FFFFFF",fontSize:15*this.scaleRatio},cursor:"default"});return e.visibility?t.show():t.hide(),e.componentSvg=t,t}createTitleComponentSvg(e){const t=this,i=function(){switch(t.isStick){case 2:return 80*t.eRatio*t.scaleRatio;case 6:case 15:return 135*t.eRatio*t.scaleRatio;case 8:return 200*t.eRatio*t.scaleRatio;case 9:return 540*t.eRatio*t.scaleRatio;case 14:return 240*t.eRatio*t.scaleRatio;default:return e.width*t.scaleRatio}},o=function(){switch(t.isStick){case 2:case 8:return 20*t.eRatio*t.scaleRatio;case 6:case 15:return 25*t.eRatio*t.scaleRatio;case 9:return 30*t.eRatio*t.scaleRatio;default:return e.height*t.eRatio*t.scaleRatio}};let r=2==this.isStick||6==this.isStick||15==this.isStick?6:3;const s=new n.Rect({shape:{x:e.x*this.scaleRatio,y:e.y*this.scaleRatio,width:i(),height:o()},style:{fill:e.backgroundColor,textRect:{x:e.x*this.scaleRatio*this.eRatio,y:e.y*this.scaleRatio*this.eRatio,width:i(),height:o()},text:e.text,textFill:e.color,fontSize:Math.floor((9==this.isStick?24:16)*this.eRatio*this.scaleRatio),textPosition:[e.textOffset*this.scaleRatio*this.eRatio,r]},z:this.storeSrv.getComponentDefaultLayer(),draggable:!0});s.id=e.id,s.position=[0,0],s.__component=e;let a=this;return s.on(this.dragstart,function(e){a.componentDragStart.apply(this,[e,a])}),s.on(this.drag,function(e){a.componentDrag.apply(this,[e,a])}),s.on(this.dragend,function(e){a.componentDragEnd.apply(this,[e,a])}),e.componentSvg=s,s}createLabelComponentSvg(e){let t=sessionStorage.getItem("_type"),i=t===r.__.CORETWO||t===r.__.TOUGH;const o=e.font.replace(/^.*_.*_/g,"");let s={family:"sans-serif",size:Math.floor(16*this.eRatio*this.scaleRatio)};if(i)switch(e.font.replace(/_?\d+$/g,"")){case"FONT_MONT":s={family:"montserrat",size:Math.floor(Number(o)*this.eRatio*this.scaleRatio)};break;case"FONT_UNICODE":s={family:"sans-serif",size:Math.floor(Number(o)*this.eRatio*this.scaleRatio)}}else s=e.font===r.co.UBUNTU_C?{family:"Ubuntu-C",size:Math.floor(21*this.eRatio*this.scaleRatio)}:e.font===r.co.DEFAULT_SMALL?{family:"sans-serif",size:Math.floor(11*this.eRatio*this.scaleRatio)}:e.font===r.co.COMIC?{family:"Comic",size:Math.floor(25*this.eRatio*this.scaleRatio)}:e.font===r.co.DEJAVUSANS_18PX?{family:"DejaVuSans",size:Math.floor(20.4*this.eRatio*this.scaleRatio)}:e.font===r.co.DEJAVUSANS_24PX?{family:"DejaVuSans",size:Math.floor(25.8*this.eRatio*this.scaleRatio)}:e.font===r.co.DEJAVUSANS_40PX?{family:"DejaVuSans",size:Math.floor(42*this.eRatio*this.scaleRatio)}:e.font===r.co.DEJAVUSANS_56PX?{family:"DejaVuSans",size:Math.floor(56*this.eRatio*this.scaleRatio)}:e.font===r.co.DEJAVUSANS_72PX?{family:"DejaVuSans",size:Math.floor(72*this.eRatio*this.scaleRatio)}:(e.font!==r.co.FONT_UNICODE_16PX||2!==this.isStick&&6!==this.isStick&&15!==this.isStick)&&e.font===r.co.FONT_UNICODE?{family:"sans-serif",size:Math.floor(24*this.eRatio*this.scaleRatio)}:{family:"sans-serif",size:Math.floor(16*this.eRatio*this.scaleRatio)};const a=new n.Text({style:{text:e.text,fontSize:s.size,fontFamily:s.family,textFill:e.color},draggable:!0,z:this.storeSrv.getComponentDefaultLayer(),rotation:e.rotation*this.rotate});a.id=e.id,a.position=[e.x,e.y],a.rotation="number"==typeof e.rotation?e.rotation*this.rotate:1,a.__component=e;let l=this;return a.on(this.dragstart,function(e){l.componentDragStart.apply(this,[e,l])}),a.on(this.drag,function(e){l.componentDrag.apply(this,[e,l])}),a.on(this.dragend,function(e){l.componentDragEnd.apply(this,[e,l])}),a.on("dblclick",function(e){l.componentDBlclick.apply(this,[e,l])}),e.componentSvg=a,a}createLabelPlusComponentSvg(e){let t=sessionStorage.getItem("_type"),i=t===r.__.CORETWO||t===r.__.TOUGH;const o=e.font.replace(/^.*_.*_/g,"");let s={family:"sans-serif",size:Math.floor(16*this.eRatio*this.scaleRatio)};if(i)switch(e.font.replace(/_?\d+$/g,"")){case"FONT_MONT":s={family:"montserrat",size:Math.floor(Number(o)*this.eRatio*this.scaleRatio)};break;case"FONT_UNICODE":s={family:"sans-serif",size:Math.floor(Number(o)*this.eRatio*this.scaleRatio)}}else s=e.font===r.co.UBUNTU_C?{family:"Ubuntu-C",size:Math.floor(21*this.eRatio*this.scaleRatio)}:e.font===r.co.DEFAULT_SMALL?{family:"sans-serif",size:Math.floor(11*this.eRatio*this.scaleRatio)}:e.font===r.co.COMIC?{family:"Comic",size:Math.floor(25*this.eRatio*this.scaleRatio)}:e.font===r.co.DEJAVUSANS_18PX?{family:"DejaVuSans",size:Math.floor(20.4*this.eRatio*this.scaleRatio)}:e.font===r.co.DEJAVUSANS_24PX?{family:"DejaVuSans",size:Math.floor(25.8*this.eRatio*this.scaleRatio)}:e.font===r.co.DEJAVUSANS_40PX?{family:"DejaVuSans",size:Math.floor(42*this.eRatio*this.scaleRatio)}:e.font===r.co.DEJAVUSANS_56PX?{family:"DejaVuSans",size:Math.floor(56*this.eRatio*this.scaleRatio)}:e.font===r.co.DEJAVUSANS_72PX?{family:"DejaVuSans",size:Math.floor(72*this.eRatio*this.scaleRatio)}:(e.font!==r.co.FONT_UNICODE_16PX||2!==this.isStick&&6!==this.isStick&&15!==this.isStick)&&e.font===r.co.FONT_UNICODE?{family:"sans-serif",size:Math.floor(24*this.eRatio*this.scaleRatio)}:{family:"sans-serif",size:Math.floor(16*this.eRatio*this.scaleRatio)};const a=new n.Text({style:{text:e.text,fontSize:s.size,fontFamily:s.family,textFill:e.color},draggable:!0,z:this.storeSrv.getComponentDefaultLayer(),rotation:e.rotation*this.rotate});a.id=e.id,a.position=[e.x,e.y],a.rotation="number"==typeof e.rotation?e.rotation*this.rotate:1,a.__component=e;let l=this;return a.on(this.dragstart,function(e){l.componentDragStart.apply(this,[e,l])}),a.on(this.drag,function(e){l.componentDrag.apply(this,[e,l])}),a.on(this.dragend,function(e){l.componentDragEnd.apply(this,[e,l])}),a.on("dblclick",function(e){l.componentDBlclick.apply(this,[e,l])}),e.componentSvg=a,a}createRectangleComponentSvg(e){const t=new n.Rect({shape:{width:e.width*this.scaleRatio,height:e.height*this.scaleRatio},style:{fill:e.backgroundColor,stroke:e.borderColor},z:this.storeSrv.getComponentDefaultLayer(),draggable:!0});t.id=e.id,t.position=[e.x,e.y],t.__component=e;let i=this;return t.on(this.dragstart,function(e){i.componentDragStart.apply(this,[e,i])}),t.on(this.drag,function(e){i.componentDrag.apply(this,[e,i])}),t.on(this.dragend,function(e){i.componentDragEnd.apply(this,[e,i])}),t.on("dblclick",function(e){i.componentDBlclick.apply(this,[e,i])}),e.componentSvg=t,t}createCircleComponentSvg(e){const t=new n.Circle({shape:{r:e.radius*this.scaleRatio},style:{fill:e.backgroundColor,stroke:e.borderColor},z:this.storeSrv.getComponentDefaultLayer(),draggable:!0});t.id=e.id,t.position=[e.x,e.y],t.__component=e;let i=this;return t.on(this.dragstart,function(e){i.componentDragStart.apply(this,[e,i])}),t.on(this.drag,function(e){i.componentDrag.apply(this,[e,i])}),t.on(this.dragend,function(e){i.componentDragEnd.apply(this,[e,i])}),t.on("dblclick",function(e){i.componentDBlclick.apply(this,[e,i])}),e.componentSvg=t,t}createImageComponentSvg(e){let t=new Image;const i=this.storeSrv.getType().source._value;let o;"stick-C"==i||"stick-C-plus"==i||"m5station"===i||"stick-C-plus2"===i?(o=50,t.src=a.qU(i).img):i==r.__.COREINK?(o=100,t.src=this.grayDefaultImg):i===r.__.PAPER?(o=this.paperDeafultRatio,t.src=this.grayDefaultImg):(o=100,t.src=a.qU(i).img);const s=new n.Image({style:{width:o*this.scaleRatio*this.eRatio,height:o*this.scaleRatio*this.eRatio,image:t},z:this.storeSrv.getComponentDefaultLayer(),draggable:!0});s.id=e.id,s.position=[e.x,e.y],s.__component=e;let l=this;return s.on(this.dragstart,function(e){l.componentDragStart.apply(this,[e,l])}),s.on(this.drag,function(e){l.componentDrag.apply(this,[e,l])}),s.on(this.dragend,function(e){l.componentDragEnd.apply(this,[e,l])}),e.componentSvg=s,s}createImagePlusComponentSvg(e){let t=new Image;const i=this.storeSrv.getType().source._value;let o;"stick-C"==i||"stick-C-plus"==i||"m5station"===i||"stick-C-plus2"==i?(o=50,t.src=a.qU(i).img):i==r.__.COREINK?(o=100,t.src=this.grayDefaultImg):i===r.__.PAPER?(o=this.paperDeafultRatio,t.src=this.grayDefaultImg):(o=100,t.src=a.qU(i).img);const s=new n.Image({style:{width:o*this.scaleRatio*this.eRatio,height:o*this.scaleRatio*this.eRatio,image:t},z:this.storeSrv.getComponentDefaultLayer(),draggable:!0});s.id=e.id,s.position=[e.x,e.y],s.__component=e;let l=this;return s.on(this.dragstart,function(e){l.componentDragStart.apply(this,[e,l])}),s.on(this.drag,function(e){l.componentDrag.apply(this,[e,l])}),s.on(this.dragend,function(e){l.componentDragEnd.apply(this,[e,l])}),e.componentSvg=s,s}createTriangleComponentSvg(e){const t=new n.Polygon({shape:{points:[[e.x1,e.y1],[e.x2,e.y2],[e.x3,e.y3]]},style:{fill:e.backgroundColor,stroke:e.borderColor},z:this.storeSrv.getComponentDefaultLayer(),draggable:!0});t.id=e.id,t.position=[0,0],t.__component=e;let i=this;return t.on(this.dragstart,function(e){i.componentDragStart.apply(this,[e,i])}),t.on(this.drag,function(e){i.componentDrag.apply(this,[e,i])}),t.on(this.dragend,function(e){i.componentDragEnd.apply(this,[e,i])}),t.on("dblclick",function(e){i.componentDBlclick.apply(this,[e,i])}),e.componentSvg=t,t}createLineComponentSvg(e){const t=new n.Group({}),i=new n.Line({shape:{x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2},style:{lineWidth:e.lineWidth*this.scaleRatio,stroke:e.color},z:this.storeSrv.getComponentDefaultLayer(),draggable:!0}),o=new n.Line({shape:{x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2},style:{lineWidth:e.lineWidth>10?0:e.lineWidth+10,fill:"#888",stroke:"#888",opacity:.2},z:this.storeSrv.getComponentDefaultLayer(),draggable:!0});t.add(i),t.add(o),t.id=e.id,t.position=[0,0],t.__component=e;let r=this;return t.on(this.dragstart,function(e){r.componentDragStart.apply(this,[e,r])}),t.on(this.drag,function(e){r.componentDrag.apply(this,[e,r])}),t.on(this.dragend,function(e){r.componentDragEnd.apply(this,[e,r])}),t.on("dblclick",function(e){r.componentDBlclick.apply(this,[e,r])}),e.componentSvg=t,t}createButton2ComponentSvg(e){const t=e.font.replace(/^.*_.*_/g,"");let i="montserrat";switch(e.font.replace(/_?\d+$/g,"")){case"FONT_MONT":i="montserrat";break;case"FONT_UNICODE":i="sans-serif"}const o=new n.Rect({shape:{width:e.width*this.scaleRatio,height:e.height*this.scaleRatio,r:e.r},style:{fill:e.backgroundColor,stroke:e.borderColor,lineWidth:2,text:e.text,fontSize:Math.floor(Number(t)*this.eRatio*this.scaleRatio),fontFamily:i,textFill:e.color},culling:!0,z:this.storeSrv.getComponentDefaultLayer(),draggable:!0});o.setClipPath(new n.Rect({shape:{width:e.width*this.scaleRatio,height:e.height*this.scaleRatio,r:50}})),o.id=e.id,o.position=[e.x,e.y],o.__component=e;let r=this;return o.on(this.dragstart,function(e){r.componentDragStart.apply(this,[e,r])}),o.on(this.drag,function(e){r.componentDrag.apply(this,[e,r])}),o.on(this.dragend,function(e){r.componentDragEnd.apply(this,[e,r])}),o.on("dblclick",function(e){r.componentDBlclick.apply(this,[e,r])}),e.componentSvg=o,o}createSwitchComponentSvg(e){const t=new n.Group({}),i=new n.Rect({position:[e.x,e.y],shape:{width:e.width*this.scaleRatio,height:e.height*this.scaleRatio,r:50},style:{fill:e.unselectedColor},z:this.storeSrv.getComponentDefaultLayer(),draggable:!0}),o=new n.Circle({position:[e.x,e.y],shape:{cx:e.height*this.scaleRatio/2,cy:e.height*this.scaleRatio/2,r:e.height*this.scaleRatio/2-2},style:{fill:e.color},z:this.storeSrv.getComponentDefaultLayer(),draggable:!0});t.add(i),t.add(o),t.id=e.id,t.position=[0,0],t.__component=e;let r=this;return t.on(this.dragstart,function(e){r.componentDragStart.apply(this,[e,r])}),t.on(this.drag,function(e){r.componentDrag.apply(this,[e,r])}),t.on(this.dragend,function(e){r.componentDragEnd.apply(this,[e,r])}),t.on("dblclick",function(e){r.componentDBlclick.apply(this,[e,r])}),e.componentSvg=t,t}createSliderComponentSvg(e){const t=new n.Group({}),i=new n.Rect({position:[e.x,e.y],shape:{width:e.width*this.scaleRatio,height:e.height*this.scaleRatio,r:50},style:{fill:e.backgroundColor},z:this.storeSrv.getComponentDefaultLayer(),draggable:!0}),o=new n.Rect({position:[e.x,e.y],shape:{width:.5*e.width*this.scaleRatio,height:e.height*this.scaleRatio,r:50},style:{fill:e.trackColor},z:this.storeSrv.getComponentDefaultLayer(),draggable:!0}),r=new n.Circle({position:[e.x,e.y],shape:{cx:.5*e.width*this.scaleRatio,cy:e.height/2*this.scaleRatio,r:e.height*this.scaleRatio},style:{fill:e.handleColor},z:this.storeSrv.getComponentDefaultLayer(),draggable:!0});t.add(i),t.add(o),t.add(r),t.id=e.id,t.position=[0,0],t.__component=e;let s=this;return t.on(this.dragstart,function(e){s.componentDragStart.apply(this,[e,s])}),t.on(this.drag,function(e){s.componentDrag.apply(this,[e,s])}),t.on(this.dragend,function(e){s.componentDragEnd.apply(this,[e,s])}),t.on("dblclick",function(e){s.componentDBlclick.apply(this,[e,s])}),e.componentSvg=t,t}createBarComponentSvg(e){const t=new n.Group({}),i=new n.Rect({position:[e.x,e.y],shape:{width:e.width*this.scaleRatio,height:e.height*this.scaleRatio,r:50},style:{fill:e.backgroundColor},z:this.storeSrv.getComponentDefaultLayer(),draggable:!0}),o=new n.Rect({position:[e.x,e.y],shape:{width:.5*e.width*this.scaleRatio,height:e.height*this.scaleRatio,r:50},style:{fill:e.trackColor},z:this.storeSrv.getComponentDefaultLayer(),draggable:!0});t.add(i),t.add(o),t.id=e.id,t.position=[0,0],t.__component=e;let r=this;return t.on(this.dragstart,function(e){r.componentDragStart.apply(this,[e,r])}),t.on(this.drag,function(e){r.componentDrag.apply(this,[e,r])}),t.on(this.dragend,function(e){r.componentDragEnd.apply(this,[e,r])}),t.on("dblclick",function(e){r.componentDBlclick.apply(this,[e,r])}),e.componentSvg=t,t}createCheckboxComponentSvg(e){const t=e.font.replace(/^.*_.*_/g,""),i=Math.floor(Number(t)*this.eRatio*this.scaleRatio);let o="montserrat";switch(e.font.replace(/_?\d+$/g,"")){case"FONT_MONT":o="montserrat";break;case"FONT_UNICODE":o="sans-serif"}const r=new n.Group({}),s=new n.Text({position:[e.x,e.y],style:{x:i+6,y:2,text:e.text,fontSize:i,fontFamily:o,textFill:e.color},z:this.storeSrv.getComponentDefaultLayer(),draggable:!0}),a=i+2,l=new n.Rect({position:[e.x,e.y],shape:{width:a,height:a,r:2},style:{fill:e.selectedColor},z:this.storeSrv.getComponentDefaultLayer(),draggable:!0}),c=new n.Polyline({position:[e.x,e.y],shape:{points:[[a/2-4,a/2-1],[a/2-1,a/2+3],[a/2+4,a/2-3]]},style:{lineWidth:2,fill:null,stroke:"#FFFFFF"},z:this.storeSrv.getComponentDefaultLayer(),draggable:!0});r.add(s),r.add(l),r.add(c),r.id=e.id,r.position=[0,0],r.__component=e;let h=this;return r.on(this.dragstart,function(e){h.componentDragStart.apply(this,[e,h])}),r.on(this.drag,function(e){h.componentDrag.apply(this,[e,h])}),r.on(this.dragend,function(e){h.componentDragEnd.apply(this,[e,h])}),r.on("dblclick",function(e){h.componentDBlclick.apply(this,[e,h])}),e.componentSvg=r,r}createGraphComponentSvg(e){const t=this,i=function(){switch(t.isStick){case 2:e.width=80*t.eRatio;break;case 6:case 15:e.width=135*t.eRatio;break;case 8:e.width=200*t.eRatio;break;case 9:e.width=540*t.eRatio;break;case 14:e.width=240*t.eRatio}return e.width*t.scaleRatio},o=function(){return e.height=100*t.eRatio,e.height*t.scaleRatio};let r=2==this.isStick||6==this.isStick?6:3;const s=new n.Rect({position:[e.x,e.y],shape:{width:i(),height:o()},style:{fill:e.backgroundColor,textRect:{x:0,y:0,width:i(),height:o()},text:e.chartType.replace("M5ChartGraph.",""),textFill:e.foregroundColor,fontSize:Math.floor((9==this.isStick?24:16)*this.eRatio*this.scaleRatio),textPosition:[0,r]},z:this.storeSrv.getComponentDefaultLayer(),draggable:!0});s.id=e.id,s.position=[e.x,e.y],s.__component=e;let a=this;return s.on(this.dragstart,function(e){a.componentDragStart.apply(this,[e,a])}),s.on(this.drag,function(e){a.componentDrag.apply(this,[e,a])}),s.on(this.dragend,function(e){a.componentDragEnd.apply(this,[e,a])}),s.on("dblclick",function(e){a.componentDBlclick.apply(this,[e,a])}),e.componentSvg=s,s}createBarGraphComponentSvg(e){const t=this,i=e.chartType.replace("M5BarGraph.",""),o="True"===e.reversed,r=function(){switch(t.isStick){case 2:e.width=60*t.eRatio;break;case 6:case 15:e.width=80*t.eRatio;break;case 8:e.width=100*t.eRatio;break;case 9:e.width=300*t.eRatio;break;case 14:e.width=120*t.eRatio}return e.width},s=function(){return e.height=30*t.eRatio,e.height},a=new n.Group({}),l=new n.Rect({position:[e.x,e.y],shape:{width:r()*this.scaleRatio,height:s()*this.scaleRatio},style:{fill:"HORIZON"===i&&!o||"HORIZON"!==i&&o?e.backgroundColor:e.foregroundColor,stroke:e.foregroundColor,lineWidth:2},z:this.storeSrv.getComponentDefaultLayer(),draggable:!0}),c=new n.Rect({position:[e.x,e.y],shape:{width:r()*this.scaleRatio*("HORIZON"===i?.5:1),height:s()*this.scaleRatio*("HORIZON"===i?1:.5)},style:{fill:"HORIZON"===i&&!o||"HORIZON"!==i&&o?e.foregroundColor:e.backgroundColor},z:this.storeSrv.getComponentDefaultLayer(),draggable:!0});a.add(l),a.add(c),a.id=e.id,a.position=[0,0],a.__component=e;let h=this;return a.on(this.dragstart,function(e){h.componentDragStart.apply(this,[e,h])}),a.on(this.drag,function(e){h.componentDrag.apply(this,[e,h])}),a.on(this.dragend,function(e){h.componentDragEnd.apply(this,[e,h])}),a.on("dblclick",function(e){h.componentDBlclick.apply(this,[e,h])}),e.componentSvg=a,a}createSvg(e){this.screenContainer.add(this.createComponentSvg(e))}redrawSvg(e){if(this.updateUnitSvg(),this.updateHatSvg(),this.updateStampSvg(),3!=this.isStick)if(12!=this.isStick)if(10!=this.isStick)if(4!=this.isStick){if(13!==this.isStick){for(let e=0;e<this.screenContainer.childCount();)this.screenContainer.remove(this.screenContainer.childAt(e));var t=this;for(let e=0;e<this.storeSrv.componentList.value.length;e++){let i=this.storeSrv.componentList.value[e];"screen"!=i.type&&"default"===i.screenType&&(i.type===r.Eq.TRIANGLE?(i.x1=i.x1*t.scaleRatio*t.eRatio,i.y1=i.y1*t.scaleRatio*t.eRatio,i.x2=i.x2*t.scaleRatio*t.eRatio,i.y2=i.y2*t.scaleRatio*t.eRatio,i.x3=i.x3*t.scaleRatio*t.eRatio,i.y3=i.y3*t.scaleRatio*t.eRatio):i.type==r.Eq.LINE&&(i.x1=i.x1*t.scaleRatio*t.eRatio,i.y1=i.y1*t.scaleRatio*t.eRatio,i.x2=i.x2*t.scaleRatio*t.eRatio,i.y2=i.y2*t.scaleRatio*t.eRatio),i.x=i.x*t.scaleRatio*t.eRatio,i.y=i.y*t.scaleRatio*t.eRatio,"circle"==i.type?i.radius=i.radius*t.eRatio:("rectangle"==i.type||"graph"==i.type||"bargraph"==i.type)&&(i.width=i.width*t.eRatio,i.height=i.height*t.eRatio))}this.storeSrv.componentList.value.forEach(e=>{(!e.screenType||"default"===e.screenType)&&this.screenContainer.add(this.createComponentSvg(e))});for(let i=0;i<this.storeSrv.componentList.value.length;i++){let n=this.storeSrv.componentList.value[i];"screen"!=n.type&&(n.type===r.Eq.TRIANGLE?(n.x1=Math.floor(n.x1/t.scaleRatio/t.eRatio),n.y1=Math.floor(n.y1/t.scaleRatio/t.eRatio),n.x2=Math.floor(n.x2/t.scaleRatio/t.eRatio),n.y2=Math.floor(n.y2/t.scaleRatio/t.eRatio),n.x3=Math.floor(n.x3/t.scaleRatio/t.eRatio),n.y3=Math.floor(n.y3/t.scaleRatio/t.eRatio)):n.type==r.Eq.LINE&&(n.x1=Math.floor(n.x1/t.scaleRatio/t.eRatio),n.y1=Math.floor(n.y1/t.scaleRatio/t.eRatio),n.x2=Math.floor(n.x2/t.scaleRatio/t.eRatio),n.y2=Math.floor(n.y2/t.scaleRatio/t.eRatio)),n.x=Math.floor(n.x/t.scaleRatio/t.eRatio),n.y=Math.floor(n.y/t.scaleRatio/t.eRatio),"circle"==n.type?n.radius=Math.floor(n.radius/t.eRatio):("rectangle"==n.type||"graph"==n.type||"bargraph"==n.type)&&(n.width=Math.floor(n.width/t.eRatio),n.height=Math.floor(n.height/t.eRatio)),e&&e.updateLayer&&this.updateSvg(n,r.pA.LAYER,n.layer))}}}else this.createAtomMatrixSimulator(e);else this.createPICOMulator();else this.createAtomUMulator();else this.createAtomSimulator()}updateSvg(e,t,i){if(!e.screenType||"default"===e.screenType){switch(t){case r.pA.X:case r.pA.Y:e.type===r.Eq.SWITCH||e.type===r.Eq.BAR||e.type===r.Eq.SLIDER||e.type===r.Eq.CHECKBOX||e.type===r.Eq.BARGRAPH?(e.componentSvg._children[0].attr("position",[e.x*this.scaleRatio*this.eRatio,e.y*this.scaleRatio*this.eRatio]),e.componentSvg._children[1].attr("position",[e.x*this.scaleRatio*this.eRatio,e.y*this.scaleRatio*this.eRatio]),e.componentSvg._children[2]&&e.componentSvg._children[2].attr("position",[e.x*this.scaleRatio*this.eRatio,e.y*this.scaleRatio*this.eRatio])):e.componentSvg.attr("position",[e.x*this.scaleRatio*this.eRatio,e.y*this.scaleRatio*this.eRatio]);break;case r.pA.X1:case r.pA.Y1:case r.pA.X2:case r.pA.Y2:case r.pA.X3:case r.pA.Y3:e.type===r.Eq.TRIANGLE?e.componentSvg.attr({shape:{points:[[e.x1*this.scaleRatio*this.eRatio,e.y1*this.scaleRatio*this.eRatio],[e.x2*this.scaleRatio*this.eRatio,e.y2*this.scaleRatio*this.eRatio],[e.x3*this.scaleRatio*this.eRatio,e.y3*this.scaleRatio*this.eRatio]]}}):e.type===r.Eq.LINE&&(e.componentSvg._children[0].attr({shape:{[t]:i*this.scaleRatio*this.eRatio}}),e.componentSvg._children[1].attr({shape:{[t]:i*this.scaleRatio*this.eRatio}}));break;case r.pA.WIDTH:case r.pA.HEIGHT:e.type===r.Eq.SWITCH?e.width>e.height&&(e.componentSvg._children[0].attr({shape:{[t]:i*this.scaleRatio*this.eRatio}}),e.height>2&&e.componentSvg._children[1].attr({shape:{cx:e.height*this.scaleRatio*this.eRatio/2,cy:e.height*this.scaleRatio*this.eRatio/2,r:e.height*this.scaleRatio*this.eRatio/2-1}})):e.type===r.Eq.BUTTON2?(e.componentSvg.attr({shape:{[t]:i*this.scaleRatio*this.eRatio}}),e.componentSvg.setClipPath(new n.Rect({shape:{width:e.width*this.scaleRatio,height:e.height*this.scaleRatio,r:e.r}}))):e.type===r.Eq.SLIDER?e.width>e.height&&(e.componentSvg._children[0].attr({shape:{width:e.width*this.scaleRatio*this.eRatio,height:e.height*this.scaleRatio*this.eRatio}}),e.componentSvg._children[1].attr({shape:{width:.5*e.width*this.scaleRatio*this.eRatio,height:e.height*this.scaleRatio*this.eRatio}}),e.componentSvg._children[2].attr({shape:{cx:.5*e.width*this.scaleRatio*this.eRatio,cy:e.height/2*this.scaleRatio*this.eRatio,r:e.height*this.scaleRatio*this.eRatio}})):e.type===r.Eq.BAR?e.width>e.height&&(e.componentSvg._children[0].attr({shape:{width:e.width*this.scaleRatio*this.eRatio,height:e.height*this.scaleRatio*this.eRatio}}),e.componentSvg._children[1].attr({shape:{width:.5*e.width*this.scaleRatio*this.eRatio,height:e.height*this.scaleRatio*this.eRatio}})):e.type===r.Eq.BARGRAPH?"M5BarGraph.HORIZON"===e.chartType?(e.componentSvg._children[0].attr({shape:{width:e.width*this.scaleRatio*this.eRatio,height:e.height*this.scaleRatio*this.eRatio}}),e.componentSvg._children[1].attr({shape:{width:.5*e.width*this.scaleRatio*this.eRatio,height:e.height*this.scaleRatio*this.eRatio}})):(e.componentSvg._children[0].attr({shape:{width:e.width*this.scaleRatio*this.eRatio,height:e.height*this.scaleRatio*this.eRatio}}),e.componentSvg._children[1].attr({shape:{width:e.width*this.scaleRatio*this.eRatio,height:.5*e.height*this.scaleRatio*this.eRatio}})):e.componentSvg.attr({shape:{[t]:i*this.scaleRatio*this.eRatio}});break;case r.pA.ROTATION:e.componentSvg.attr({rotation:e.rotation*this.rotate});break;case r.pA.RADIUS:e.componentSvg.attr({shape:{r:i*this.scaleRatio*this.eRatio}});break;case r.pA.TEXT:e.type===r.Eq.CHECKBOX?e.componentSvg._children[0].attr({style:{text:i}}):e.componentSvg.attr({style:{text:i}});break;case r.pA.COLOR:e.type===r.Eq.LINE?e.componentSvg._children[0].attr({style:{stroke:i}}):e.type===r.Eq.CHECKBOX?e.componentSvg._children[0].attr({style:{textFill:i}}):e.componentSvg.attr({style:{textFill:i}});break;case r.pA.BORDER_COLOR:e.componentSvg.attr({style:{stroke:i}});break;case r.pA.BACKGROUND_COLOR:e.type===r.Eq.SLIDER||e.type===r.Eq.BAR?e.componentSvg._children[0].attr({style:{fill:i}}):e.type===r.Eq.BARGRAPH?"M5BarGraph.HORIZON"===e.chartType?e.componentSvg._children[0].attr({style:{fill:i}}):e.componentSvg._children[1].attr({style:{fill:i}}):e.componentSvg.attr({style:{fill:i}});break;case r.pA.FG_COLOR:e.type===r.Eq.GRAPH?e.componentSvg.attr({style:{textFill:i}}):e.type===r.Eq.BARGRAPH&&("M5BarGraph.HORIZON"===e.chartType?(e.componentSvg._children[0].attr({style:{stroke:i}}),e.componentSvg._children[1].attr({style:{fill:i}})):(e.componentSvg._children[0].attr({style:{fill:i}}),e.componentSvg._children[0].attr({style:{stroke:i}})));break;case r.pA.BGCOLOR:e.componentSvg.attr({style:{fill:i}});break;case r.pA.CHART_TYPE:e.type===r.Eq.GRAPH?e.componentSvg.attr({style:{text:i.replace("M5ChartGraph.","")}}):e.type===r.Eq.BARGRAPH&&(e.componentSvg.attr({style:{text:i.replace("M5BarGraph.","")}}),e.componentSvg._children[0].attr({shape:{width:e.width*this.scaleRatio*this.eRatio,height:e.height*this.scaleRatio*this.eRatio},style:{fill:"False"===e.reversed?e.backgroundColor:e.foregroundColor}}),"M5BarGraph.HORIZON"===i?e.componentSvg._children[1].attr({shape:{width:.5*e.width*this.scaleRatio*this.eRatio,height:e.height*this.scaleRatio*this.eRatio},style:{fill:"False"===e.reversed?e.foregroundColor:e.backgroundColor}}):(e.componentSvg._children[0].attr({shape:{width:e.width*this.scaleRatio*this.eRatio,height:e.height*this.scaleRatio*this.eRatio},style:{fill:"False"===e.reversed?e.foregroundColor:e.backgroundColor}}),e.componentSvg._children[1].attr({shape:{width:e.width*this.scaleRatio*this.eRatio,height:.5*e.height*this.scaleRatio*this.eRatio},style:{fill:"False"===e.reversed?e.backgroundColor:e.foregroundColor}})));break;case r.pA.REVERSED:e.type===r.Eq.BARGRAPH&&("M5BarGraph.HORIZON"===e.chartType?"True"===i?(e.componentSvg._children[0].attr({style:{fill:e.foregroundColor}}),e.componentSvg._children[1].attr({style:{fill:e.backgroundColor}})):(e.componentSvg._children[0].attr({style:{fill:e.backgroundColor}}),e.componentSvg._children[1].attr({style:{fill:e.foregroundColor}})):"True"===i?(e.componentSvg._children[0].attr({style:{fill:e.backgroundColor}}),e.componentSvg._children[1].attr({style:{fill:e.foregroundColor}})):(e.componentSvg._children[0].attr({style:{fill:e.foregroundColor}}),e.componentSvg._children[1].attr({style:{fill:e.backgroundColor}})));break;case r.pA.TEXTOFFSET:e.componentSvg.attr({style:{textPosition:[Number(i)*this.scaleRatio*this.eRatio,4]}});break;case r.pA.FONT:if(sessionStorage.getItem("_type")==r.__.CORETWO||sessionStorage.getItem("_type")==r.__.TOUGH){const t=e.font.replace(/^.*_.*_/g,""),i=e.font.replace(/_?\d+$/g,""),n=Math.floor(t*this.scaleRatio*this.eRatio);let o;switch(i){case"FONT_MONT":o="montserrat";break;case"FONT_UNICODE":o="sans-serif"}if(e.type===r.Eq.CHECKBOX){e.componentSvg._children[0].attr({style:{x:n+6,fontFamily:o,fontSize:n}}),e.componentSvg._children[1].attr({shape:{width:n,height:n}});const t=n+2;e.componentSvg._children[2].attr({shape:{points:[[t/2-4,t/2-1],[t/2-1,t/2+3],[t/2+4,t/2-3]]}})}else e.componentSvg.attr({style:{fontFamily:o,fontSize:n}})}else e.componentSvg.attr(i===r.co.UBUNTU_C?{style:{fontFamily:"Ubuntu-C",fontSize:Math.floor(21*this.scaleRatio*this.eRatio)}}:i===r.co.COMIC?{style:{fontFamily:"Comic",fontSize:Math.floor(25*this.scaleRatio*this.eRatio)}}:i===r.co.DEJAVUSANS_18PX?{style:{fontFamily:"DejaVuSans",fontSize:Math.floor(20.4*this.scaleRatio*this.eRatio)}}:i===r.co.DEJAVUSANS_24PX?{style:{fontFamily:"DejaVuSans",fontSize:Math.floor(25.8*this.scaleRatio*this.eRatio)}}:i===r.co.DEJAVUSANS_40PX?{style:{fontFamily:"DejaVuSans",fontSize:Math.floor(42*this.scaleRatio*this.eRatio)}}:i===r.co.DEJAVUSANS_56PX?{style:{fontFamily:"DejaVuSans",fontSize:Math.floor(56*this.scaleRatio*this.eRatio)}}:i===r.co.DEJAVUSANS_72PX?{style:{fontFamily:"DejaVuSans",fontSize:Math.floor(72*this.scaleRatio*this.eRatio)}}:i===r.co.DEFAULT_SMALL?{style:{fontFamily:"sans-serif",fontSize:Math.floor(11*this.scaleRatio*this.eRatio)}}:(i!==r.co.FONT_UNICODE_16PX||2!==this.isStick&&6!==this.isStick&&15!==this.isStick)&&i===r.co.FONT_UNICODE?{style:{fontFamily:"sans-serif",fontSize:Math.floor(24*this.scaleRatio*this.eRatio)}}:{style:{fontFamily:"sans-serif",fontSize:Math.floor(16*this.scaleRatio*this.eRatio)}});case r.pA.VISIBILITY:e.type===r.Eq.BUTTON&&("true"===i?e.componentSvg.show():e.componentSvg.hide());break;case r.pA.LAYER:e.componentSvg.attr({z:Number(i)});break;case r.pA.IMAGE_PATH:if(e.componentSvg.attr({style:{image:i}}),"default.jpg"==e.imagePath||"default.png"==e.imagePath){const t=this.storeSrv.getType().source._value;let i;i="stick-C"==t||"stick-C-plus"==t||"m5station"==t?50:t==r.__.COREINK?100:t==r.__.PAPER?this.paperDeafultRatio:100,e.componentSvg.attr({style:{width:i*this.scaleRatio*this.eRatio}}),e.componentSvg.attr({style:{height:i*this.scaleRatio*this.eRatio}})}break;case r.pA.IMAGE_WIDTH:e.componentSvg.attr({style:{width:i*this.scaleRatio*this.eRatio}});break;case r.pA.IMAGE_HEIGHT:e.componentSvg.attr({style:{height:i*this.scaleRatio*this.eRatio}});break;case r.pA.TRACK_COLOR:e.componentSvg._children[1].attr({style:{fill:i}});break;case r.pA.LINE_WIDTH:e.type===r.Eq.LINE&&(e.componentSvg._children[0].attr({style:{lineWidth:i*this.scaleRatio}}),e.componentSvg._children[1].attr({style:{lineWidth:i>10?0:Math.floor(i)+10}}));break;case r.pA.UNSELECTED_COLOR:e.componentSvg._children[0].attr({style:{fill:i}});break;case r.pA.SELECTE_DCOLOR:e.type===r.Eq.CHECKBOX&&e.componentSvg._children[1].attr({style:{fill:i}})}this.globalOperatorSrv.codeLock.value||this.codeEditorSrv.updateWorkspaceValue(2)}}componentDragStart(e,t){let i,n;this.select_data=(new Date).getTime(),e.event.preventDefault(),e.event.stopPropagation(),this.__component.type===r.Eq.TRIANGLE?(this.__component.x1===this.shape.points[0][0]?this.__needUpdate=!1:(this.__needUpdate=!0,this.__startX1=this.__component.x1,this.__startY1=this.__component.y1,this.__startX2=this.__component.x2,this.__startY2=this.__component.y2,this.__startX3=this.__component.x3,this.__startY3=this.__component.y3),i=this.__component.getProp("x1"),n=this.__component.getProp("y1")):this.__component.type===r.Eq.LINE?(this.__component.x1===this._children[0].shape.x1?this.__needUpdate=!1:(this.__needUpdate=!0,this.__startX1=this.__component.x1,this.__startY1=this.__component.y1,this.__startX2=this.__component.x2,this.__startY2=this.__component.y2),i=this.__component.getProp("x1"),n=this.__component.getProp("y1")):(this.__startX=this.__component.getProp("x"),this.__startY=this.__component.getProp("y"),i=this.__component.getProp("x"),n=this.__component.getProp("y")),t.updateCoordinate(i,n),t.globalOperatorSrv.setSelectedComponent(null),t.zrenderWorkspace.hint.show(),t.selectedComponent=this.__component,t.isDrag=!0,clearTimeout(t.keydownTimer),"blocklyToolboxContents"===document.activeElement.className&&document.querySelector(".blocklyToolboxContents").blur(),t.selectedComponent&&window.Blockly.selected&&window.Blockly.selected.unselect()}componentDrag(e,t){if(this.__component.type!==r.Eq.TRIANGLE)if(this.__component.type===r.Eq.SLIDER||this.__component.type===r.Eq.CHECKBOX){const i=this._children[0].position,n=this._children[1].position,o=this._children[2].position;let r;(i!==n||n!==o)&&(r=e.target===this._children[0]?i:e.target===this._children[1]?n:o,this._children[0].attr({position:r}),this._children[1].attr({position:r}),this._children[2].attr({position:r}),this.__component.setProp("x",Math.floor(r[0]/t.scaleRatio/t.eRatio)),this.__component.setProp("y",Math.floor(r[1]/t.scaleRatio/t.eRatio)))}else if(this.__component.type===r.Eq.LINE||this.__component.type===r.Eq.SWITCH||this.__component.type===r.Eq.BAR||this.__component.type===r.Eq.BARGRAPH){const i=this._children[0].position,n=this._children[1].position;let o;i!==n&&(o=e.target===this._children[0]?i:n,this._children[0].attr({position:o}),this._children[1].attr({position:o}),this.__component.setProp("x",Math.floor(o[0]/t.scaleRatio/t.eRatio)),this.__component.setProp("y",Math.floor(o[1]/t.scaleRatio/t.eRatio)))}else this.__component.setProp("x",Math.floor(this.position[0]/t.scaleRatio/t.eRatio)),this.__component.setProp("y",Math.floor(this.position[1]/t.scaleRatio/t.eRatio));let i,n;if(this.__component.type===r.Eq.TRIANGLE)i=this.shape.points[0][0]+Math.floor(this.position[0]),n=this.shape.points[0][1]+Math.floor(this.position[1]);else if(this.__component.type===r.Eq.LINE){const e=this._children[0].position;i=this._children[0].shape.x1+Math.floor(e[0]),n=this._children[0].shape.y1+Math.floor(e[1])}else if(this.__component.type===r.Eq.SLIDER||this.__component.type===r.Eq.SWITCH||this.__component.type===r.Eq.BAR||this.__component.type===r.Eq.CHECKBOX||this.__component.type===r.Eq.BARGRAPH){const e=this._children[0].position;i=e[0],n=e[1]}else i=this.position[0],n=this.position[1];t.updateCoordinate(Math.floor(i/t.scaleRatio/t.eRatio),Math.floor(n/t.scaleRatio/t.eRatio)),t.createGuideLine(this),this.select_lock=!0}componentDBlclick(e,t){t.copy()}componentDragEnd(e,t){t.zrenderWorkspace.coordinate.hide();let i=(new Date).getTime(),n=this.select_data;if(this.select_lock?(n=this.select_data-150,this.select_lock=!1):n=this.select_data,this.__zr.trash.hide(),t.zrenderWorkspace.hint.hide(),this.__zr.trash.children()[0].contain(e.event.layerX?e.event.layerX:e.event.zrX,e.event.layerY?e.event.layerY:e.event.zrY))return t.storeSrv.removeComponentById(this.id),t.globalOperatorSrv.setSelectedComponent(null),t.globalOperatorSrv.codeLock.value||t.codeEditorSrv.updateWorkspaceValue(2),t.zrenderWorkspace.remove(t.guideLines),this.__zr.screenContainer.remove(this);if(!this.__zr.screenContainer.children()[0].contain(e.event.layerX?e.event.layerX:e.event.zrX,e.event.layerY?e.event.layerY:e.event.zrY))return this.__zr.workContainer.children()[0].contain(e.event.layerX?e.event.layerX:e.event.zrX,e.event.layerY?e.event.layerY:e.event.zrY)?(this.__component.type===r.Eq.TRIANGLE?(this.attr("position",[0,0]),this.__needUpdate&&(this.__component.setProp("x1",Math.floor(this.__startX1)),this.__component.setProp("y1",Math.floor(this.__startY1)),this.__component.setProp("x2",Math.floor(this.__startX2)),this.__component.setProp("y2",Math.floor(this.__startY2)),this.__component.setProp("x3",Math.floor(this.__startX3)),this.__component.setProp("y3",Math.floor(this.__startY3)))):this.__component.type===r.Eq.LINE?(this.attr("position",[0,0]),this.__needUpdate&&(this.__component.setProp("y1",Math.floor(this.__startY1)),this.__component.setProp("x1",Math.floor(this.__startX1)),this.__component.setProp("x2",Math.floor(this.__startX2)),this.__component.setProp("y2",Math.floor(this.__startY2)))):this.__component.type===r.Eq.TITLE?(this.attr("position",[0,0]),this.__component.setProp("x",0),this.__component.setProp("y",0)):(this.attr("position",[Math.floor(this.__startX),Math.floor(this.__startY)]),this.__component.setProp("x",Math.floor(this.__startX)),this.__component.setProp("y",Math.floor(this.__startY))),t.zrenderWorkspace.remove(t.guideLines),t.redrawSvg(),void(i-n<300&&t.globalOperatorSrv.setSelectedComponent(this.__component))):(t.storeSrv.removeComponentById(this.id),t.globalOperatorSrv.setSelectedComponent(null),t.globalOperatorSrv.codeLock.value||t.codeEditorSrv.updateWorkspaceValue(2),t.zrenderWorkspace.remove(t.guideLines),this.__zr.screenContainer.remove(this));if(this.__component.type===r.Eq.TITLE)return this.attr("position",[0,0]),void(i-n<300&&t.globalOperatorSrv.setSelectedComponent(this.__component));if(this.__component.type===r.Eq.TRIANGLE)this.__component.setProp("x1",(this.shape.points[0][0]+Math.floor(this.position[0]))/t.scaleRatio/t.eRatio),this.__component.setProp("y1",(this.shape.points[0][1]+Math.floor(this.position[1]))/t.scaleRatio/t.eRatio),this.__component.setProp("x2",(this.shape.points[1][0]+Math.floor(this.position[0]))/t.scaleRatio/t.eRatio),this.__component.setProp("y2",(this.shape.points[1][1]+Math.floor(this.position[1]))/t.scaleRatio/t.eRatio),this.__component.setProp("x3",(this.shape.points[2][0]+Math.floor(this.position[0]))/t.scaleRatio/t.eRatio),this.__component.setProp("y3",(this.shape.points[2][1]+Math.floor(this.position[1]))/t.scaleRatio/t.eRatio),this.__component.setProp("x",this.__component.getProp("x1")),this.__component.setProp("y",this.__component.getProp("y1")),this.attr({shape:{points:[[this.shape.points[0][0]+this.position[0],this.shape.points[0][1]+this.position[1]],[this.shape.points[1][0]+this.position[0],this.shape.points[1][1]+this.position[1]],[this.shape.points[2][0]+this.position[0],this.shape.points[2][1]+this.position[1]]]}}),this.attr("position",[0,0]);else if(this.__component.type===r.Eq.LINE){const e=this._children[0].position;this.__component.setProp("x1",(this._children[0].shape.x1+Math.floor(e[0]))/t.scaleRatio/t.eRatio),this.__component.setProp("y1",(this._children[0].shape.y1+Math.floor(e[1]))/t.scaleRatio/t.eRatio),this.__component.setProp("x2",(this._children[0].shape.x2+Math.floor(e[0]))/t.scaleRatio/t.eRatio),this.__component.setProp("y2",(this._children[0].shape.y2+Math.floor(e[1]))/t.scaleRatio/t.eRatio),this._children[0].attr({position:[0,0],shape:{x1:this._children[0].shape.x1+e[0],y1:this._children[0].shape.y1+e[1],x2:this._children[0].shape.x2+e[0],y2:this._children[0].shape.y2+e[1]}}),this._children[1].attr({position:[0,0],shape:{x1:this._children[0].shape.x1+e[0],y1:this._children[0].shape.y1+e[1],x2:this._children[0].shape.x2+e[0],y2:this._children[0].shape.y2+e[1]}})}else if(this.__component.type===r.Eq.SLIDER||this.__component.type===r.Eq.SWITCH||this.__component.type===r.Eq.BAR||this.__component.type===r.Eq.CHECKBOX||this.__component.type===r.Eq.BARGRAPH){const e=this._children[0].position;this.__component.setProp("x",Math.floor(e[0]/t.scaleRatio/t.eRatio)),this.__component.setProp("y",Math.floor(e[1]/t.scaleRatio/t.eRatio)),this._children[1].attr({position:e}),this._children[2]&&this._children[2].attr({position:e})}else this.__component.setProp("x",Math.floor(this.position[0]/t.scaleRatio/t.eRatio)),this.__component.setProp("y",Math.floor(this.position[1]/t.scaleRatio/t.eRatio));t.adsorbent(this),t.zrenderWorkspace.remove(t.guideLines),t.isDrag=!1,t.selectedComponent=this.__component,t.handleKeyDownOverTime(),i-n<300&&t.globalOperatorSrv.setSelectedComponent(this.__component),t.globalOperatorSrv.codeLock.value||t.codeEditorSrv.updateWorkspaceValue(2)}componentClick(e,t){t.globalOperatorSrv.setSelectedComponent(this.__component)}updateUnitSvg(){this.zrenderWorkspace.unitContainer.removeAll(),this.zrenderWorkspace._needsRefresh=!0;let e=this.storeSrv.unitList.value.length;this.storeSrv.unitList.value.forEach((e,t)=>{let i=new n.Group({});i.id=e.id,i.create_time=e.createTime,i.type=e.type;let o=t%5*70,r=90*Math.floor(t/5)+40;i.position=[o*this.scaleRatio,r*this.scaleRatio];let s=new n.Rect({shape:{x:0,y:0,width:60*this.scaleRatio,height:60*this.scaleRatio,r:[4]},style:{lineWidth:2,stroke:"#FFFFFF",fill:"#303131"}}),a=new n.Image({style:{image:"../../assets/images/units/"+e.icon,width:60*this.scaleRatio,height:60*this.scaleRatio,x:0,y:0},draggable:!0}),l=this;a.on("click",function(t){l.globalOperatorSrv.setSelectedUnit(e)}),a.on(this.dragstart,function(e){l.zrenderWorkspace.trash.show(),this.__originalPosition={x:this.position[0]*l.scaleRatio,y:this.position[1]*l.scaleRatio}}),a.on(this.dragend,function(e){if(l.zrenderWorkspace.trash.hide(),2==e.event.button&&(document.oncontextmenu=function(){return!1}),this.__zr.trash.children()[0].contain(e.event.layerX?e.event.layerX:e.event.zrX,e.event.layerY?e.event.layerY:e.event.zrY)){var t;for(let i=0;i<window.Blockly.Units.length;i++)window.Blockly.Units[i].id==this.parent.id&&(t=i);let e=window.Blockly.Units[t];e.hasPnP&&l.storeSrv.getPnpEnable().source._value&&l.pnpSrv.disableUnitPnP(e.type,e.name),l.codeEditorSrv.getWorkspaceValue().split(window.Blockly.Units[t].name).length-1>1?(l.storeSrv.removeUnitById(this.parent.id),l.updateUnitSvg(),l.globalOperatorSrv.codeLock.value||l.codeEditorSrv.updateWorkspaceValue()):(l.storeSrv.removeUnitById(this.parent.id),l.updateUnitSvg(),l.globalOperatorSrv.codeLock.value||l.codeEditorSrv.updateWorkspaceValue(),window.BlocklyEditor.toolbox_.selectedItem_?window.BlocklyEditor.toolbox_.setSelectedItem(null):window.BlocklyEditor.getFlyout().isVisible_&&window.BlocklyEditor.getFlyout().setVisible(!1))}this.attr("position",[this.__originalPosition.x,this.__originalPosition.y])});const c=new n.Image({style:{image:"../../assets/images/pnp-logo.svg",width:20,height:20,x:-5,y:-3}});this.storeSrv.getPnpEnable().subscribe(e=>{c.attr({style:{opacity:e?1:0}})}),i.add(s),i.add(a),e.hasPnP&&i.add(c),e.unitSvg=i,this.zrenderWorkspace.unitContainer.add(i)});const t=new n.Group({});let i=e%5*70,o=90*Math.floor(e/5)+40;t.position=[i*this.scaleRatio,o*this.scaleRatio];const a=new n.Rect({shape:{x:0,y:0,width:60*this.scaleRatio,height:60*this.scaleRatio,r:[4]},style:{lineWidth:2,stroke:"#FFFFFF",fill:"#303131"}}),l=new n.Image({style:{image:"../../assets/images/add.png",width:60*this.scaleRatio,height:60*this.scaleRatio,x:0,y:0}});l.on("mouseover",function(e){a.animate("style",!1).when(200,{fill:"rgb(0, 100, 160)"}).start()}),l.on("mouseout",function(e){a.animate("style",!1).when(300,{fill:"#303131"}).start()}),l.on("click",e=>{this.globalOperatorSrv.createMaskModal(s.g).instance.createDynamicComponent(r.eA.UNIT_MODAL)}),t.add(a),t.add(l),this.zrenderWorkspace.unitContainer.add(t)}updateHatSvg(){try{this.zrenderWorkspace.hatContainer.removeAll(),this.zrenderWorkspace._needsRefresh=!0}catch(c){}let e=this.storeSrv.hatList.value.length;this.storeSrv.hatList.value.forEach((e,t)=>{let i=new n.Group({});i.id=e.id,i.create_time=e.createTime,i.type=e.type;let o=t%5*70,r=70*Math.floor(t/5)+40;i.position=[o*this.scaleRatio,r*this.scaleRatio];let s=new n.Rect({shape:{x:0,y:0,width:60*this.scaleRatio,height:60*this.scaleRatio,r:[4]},style:{lineWidth:2,stroke:"#FFFFFF",fill:"#303131"}}),a=new n.Image({style:{image:"../../assets/images/units/"+e.icon,width:60*this.scaleRatio,height:60*this.scaleRatio,x:0,y:0},draggable:!0}),l=this;a.on(this.dragstart,function(e){l.zrenderWorkspace.trash.show(),this.__originalPosition={x:this.position[0]*l.scaleRatio,y:this.position[1]*l.scaleRatio}}),a.on(this.dragend,function(e){l.zrenderWorkspace.trash.hide(),2==e.event.button&&(document.oncontextmenu=function(){return!1}),this.__zr.trash.children()[0].contain(e.event.layerX?e.event.layerX:e.event.zrX,e.event.layerY?e.event.layerY:e.event.zrY)&&(l.storeSrv.removeHatById(this.parent.id),l.updateHatSvg(),l.globalOperatorSrv.codeLock.value?(l.storeSrv.removeHatById(this.parent.id),l.updateHatSvg(),l.globalOperatorSrv.codeLock.value||l.codeEditorSrv.updateWorkspaceValue()):l.codeEditorSrv.updateWorkspaceValue(),window.BlocklyEditor.toolbox_.selectedItem_?window.BlocklyEditor.toolbox_.setSelectedItem(null):window.BlocklyEditor.getFlyout().isVisible_&&window.BlocklyEditor.getFlyout().setVisible(!1)),this.attr("position",[this.__originalPosition.x,this.__originalPosition.y])}),i.add(s),i.add(a),e.hatSvg=i,this.zrenderWorkspace.hatContainer.add(i)});const t=new n.Group({});let i=e%5*70,o=70*Math.floor(e/5)+40;t.position=[i*this.scaleRatio,o*this.scaleRatio];const a=new n.Rect({shape:{x:0,y:0,width:60*this.scaleRatio,height:60*this.scaleRatio,r:[4]},style:{lineWidth:2,stroke:"#FFFFFF",fill:"#303131"}}),l=new n.Image({style:{image:"../../assets/images/add.png",width:60*this.scaleRatio,height:60*this.scaleRatio,x:0,y:0}});l.on("mouseover",function(e){a.animate("style",!1).when(200,{fill:"rgb(0, 100, 160)"}).start()}),l.on("mouseout",function(e){a.animate("style",!1).when(300,{fill:"#303131"}).start()}),l.on("click",e=>{this.globalOperatorSrv.createMaskModal(s.g).instance.createDynamicComponent(r.eA.HAT_MODAL)}),t.add(a),t.add(l);try{this.zrenderWorkspace.hatContainer.add(t)}catch(c){}}updateStampSvg(){try{this.zrenderWorkspace.stampContainer.removeAll(),this.zrenderWorkspace._needsRefresh=!0}catch(c){}let e=this.storeSrv.stampList.value.length;this.storeSrv.stampList.value.forEach((e,t)=>{let i=new n.Group({});i.id=e.id,i.create_time=e.createTime,i.type=e.type;let o=t%5*70,r=90*Math.floor(t/5)+40;i.position=[o*this.scaleRatio,r*this.scaleRatio];let s=new n.Rect({shape:{x:0,y:0,width:60*this.scaleRatio,height:60*this.scaleRatio,r:[4]},style:{lineWidth:2,stroke:"#FFFFFF",fill:"#303131"}}),a=new n.Image({style:{image:"../../assets/images/units/"+e.icon,width:60*this.scaleRatio,height:60*this.scaleRatio,x:0,y:0},draggable:!0}),l=this;a.on("click",function(t){l.globalOperatorSrv.setSelectedStamp(e)}),a.on(this.dragstart,function(e){l.zrenderWorkspace.trash.show(),this.__originalPosition={x:this.position[0]*l.scaleRatio,y:this.position[1]*l.scaleRatio}}),a.on(this.dragend,function(e){if(l.zrenderWorkspace.trash.hide(),2==e.event.button&&(document.oncontextmenu=function(){return!1}),this.__zr.trash.children()[0].contain(e.event.layerX?e.event.layerX:e.event.zrX,e.event.layerY?e.event.layerY:e.event.zrY)){var t;for(let e=0;e<window.Blockly.Stamps.length;e++)window.Blockly.Stamps[e].id==this.parent.id&&(t=e);l.codeEditorSrv.getWorkspaceValue().split(window.Blockly.Stamps[t].name).length-1>1?(l.storeSrv.removeStampById(this.parent.id),l.updateStampSvg(),l.globalOperatorSrv.codeLock.value||l.codeEditorSrv.updateWorkspaceValue()):(l.storeSrv.removeStampById(this.parent.id),l.updateStampSvg(),l.globalOperatorSrv.codeLock.value||l.codeEditorSrv.updateWorkspaceValue(),window.BlocklyEditor.toolbox_.selectedItem_?window.BlocklyEditor.toolbox_.setSelectedItem(null):window.BlocklyEditor.getFlyout().isVisible_&&window.BlocklyEditor.getFlyout().setVisible(!1))}this.attr("position",[this.__originalPosition.x,this.__originalPosition.y])}),i.add(s),i.add(a),e.stampSvg=i,this.zrenderWorkspace.stampContainer.add(i)});const t=new n.Group({});let i=e%5*70,o=90*Math.floor(e/5)+40;t.position=[i*this.scaleRatio,o*this.scaleRatio];const a=new n.Rect({shape:{x:0,y:0,width:60*this.scaleRatio,height:60*this.scaleRatio,r:[4]},style:{lineWidth:2,stroke:"#FFFFFF",fill:"#303131"}}),l=new n.Image({style:{image:"../../assets/images/add.png",width:60*this.scaleRatio,height:60*this.scaleRatio,x:0,y:0}});l.on("mouseover",function(e){a.animate("style",!1).when(200,{fill:"rgb(0, 100, 160)"}).start()}),l.on("mouseout",function(e){a.animate("style",!1).when(300,{fill:"#303131"}).start()}),l.on("click",e=>{this.globalOperatorSrv.createMaskModal(s.g).instance.createDynamicComponent(r.eA.UNIT_MODAL)}),t.add(a),t.add(l),this.zrenderWorkspace.stampContainer.add(t)}copy(){const e=this.scaleRatio*this.eRatio;if(""==this.selectedComponent||null==this.selectedComponent||null==this.selectedComponent)return!1;var t,i,n=this.selectedComponent.type;switch(this.isStick){case 0:t=64;break;case 1:t=320;break;case 2:t=80;break;case 6:t=135;break;case 7:t=320;break;case 8:t=200;break;case 9:t=540;break;case 14:t=240;break;case 15:t=135}t*=e,i=this.storeSrv.getComponentDefaultLayer()+1;var s,l=Object.assign({},this.selectedComponent);if("rectangle"==n||"circle"==n||"image"==n||"label"==n||n===r.Eq.TRIANGLE||n===r.Eq.LINE||n===r.Eq.BUTTON2||n===r.Eq.SWITCH||n===r.Eq.SLIDER||n===r.Eq.BAR||n===r.Eq.CHECKBOX||n===r.Eq.LABELPLUS||n===r.Eq.GRAPH||n===r.Eq.BARGRAPH){var c=this.storeSrv.getComponentDefaultName(n);if(l.id=a.EN(),n===r.Eq.TRIANGLE){const i=l.x1*e+30>t;l.x=Math.floor(l.x1*e)+(i?-30:30),l.y=Math.floor(l.y1*e),l.x1=Math.floor(l.x1*e)+(i?-30:30),l.y1=Math.floor(l.y1*e),l.x2=Math.floor(l.x2*e)+(i?-30:30),l.y2=Math.floor(l.y2*e),l.x3=Math.floor(l.x3*e)+(i?-30:30),l.y3=Math.floor(l.y3*e)}else if(n===r.Eq.LINE){const i=l.x1*e+30>t;l.x=Math.floor(l.x1*e)+(i?-30:30),l.y=Math.floor(l.y1*e),l.x1=Math.floor(l.x1*e)+(i?-30:30),l.y1=Math.floor(l.y1*e),l.x2=Math.floor(l.x2*e)+(i?-30:30),l.y2=Math.floor(l.y2*e)}else{const i=l.x*e+30>t;l.x=Math.floor(l.x*e)+(i?-30:30),l.y=Math.floor(l.y*e)}l.name=c,l.layer=i;var h=l.width,u=l.height,d=l.radius;switch(2==this.isStick||6==this.isStick||8===this.isStick||9===this.isStick||14===this.isStick?(l.width=h*this.eRatio,l.radius=d*this.eRatio,l.height=u*this.eRatio):(l.width=l.width,l.radius=l.widtradiush,l.height=l.height),n){case"rectangle":s=new o.b8(l);break;case"circle":s=new o.HF(l);break;case"label":/^(label)\d/g.test(l.text)&&(l.text=c),s=new o._n(l);break;case r.Eq.TRIANGLE:s=new o.RQ(l);break;case r.Eq.LINE:s=new o.yk(l);break;case r.Eq.BUTTON2:/^(button)\d/g.test(l.text)&&(l.text=c.replace("touch_","")),s=new o.gK(l);break;case r.Eq.SWITCH:s=new o.qU(l);break;case r.Eq.SLIDER:s=new o.Pi(l);break;case r.Eq.BAR:s=new o.R2(l);break;case r.Eq.CHECKBOX:/^(checkbox)\d/g.test(l.text)&&(l.text=c),s=new o.bK(l);break;case r.Eq.LABELPLUS:/^(labelplus)\d/g.test(l.text)&&(l.text=c),s=new o.ju(l);break;case r.Eq.GRAPH:s=new o.B$(l);break;case r.Eq.BARGRAPH:s=new o.pc(l)}if(null===s)return;this.createSvg(s),s.width=h,s.height=u,s.radius=d,s.type===r.Eq.TRIANGLE?(s.x1=s.x1/this.eRatio,s.y1=s.y1/this.eRatio,s.x2=s.x2/this.eRatio,s.y2=s.y2/this.eRatio,s.x3=s.x3/this.eRatio,s.y3=s.y3/this.eRatio):s.type===r.Eq.LINE?(s.x1=s.x1/this.eRatio,s.y1=s.y1/this.eRatio,s.x2=s.x2/this.eRatio,s.y2=s.y2/this.eRatio):(s.x=s.x/this.eRatio,s.y=s.y/this.eRatio),this.storeSrv.addComponent(s),s.type===r.Eq.TRIANGLE?(s.x1=Math.floor(s.x1/this.scaleRatio),s.y1=Math.floor(s.y1/this.scaleRatio),s.x2=Math.floor(s.x2/this.scaleRatio),s.y2=Math.floor(s.y2/this.scaleRatio),s.x3=Math.floor(s.x3/this.scaleRatio),s.y3=Math.floor(s.y3/this.scaleRatio)):s.type===r.Eq.LINE?(s.x1=Math.floor(s.x1/this.scaleRatio),s.y1=Math.floor(s.y1/this.scaleRatio),s.x2=Math.floor(s.x2/this.scaleRatio),s.y2=Math.floor(s.y2/this.scaleRatio)):(s.x=Math.floor(s.x/this.scaleRatio),s.y=Math.floor(s.y/this.scaleRatio)),this.globalOperatorSrv.codeLock.value||this.codeEditorSrv.updateWorkspaceValue(2)}}occurrencecout(e){for(var t=[],i=this.storeSrv.getComponentList(),n=0;n<i.source._value.length;n++)i.source._value[n].type==e&&t.push(i.source._value[n]);return t}createButtonCallback(e,t){let i=t?_:m,n=window.BlocklyEditor.newBlock("button_callback",window.Blockly.utils.genUid());n.inputList[0].fieldRow[1].text_=i[e],n.inputList[0].fieldRow[1].value_=i[e],n.inputList[0].fieldRow[1].selectedOption_[0]=i[e],n.moveBy(50,100*(e+1)),n.getRelativeToSurfaceXY(),n.initSvg(),n.render()}createSignArrow(){const e=new n.Group({}),t=new n.Image({style:{x:-4,y:6,width:48*this.scaleRatio,height:65*this.scaleRatio,image:"../../assets/images/button-arrow.png"},cursor:"default"});e.add(t),[[[2,0],0,"Up"],[[-8,40],270,"Mid"],[[2,44],0,"Down"]].forEach((t,i)=>{const o=new n.Group({position:t[0],rotation:t[1]*this.rotate}),r=new n.Rect({shape:{width:16,height:20},style:{opacity:0}}),s=new n.Text({position:[2===i?-5:0,2===i?16:-10],style:{text:t[2],fontWeight:500,fontSize:13,textFill:"#fff"}});s.hide(),o.on("mouseover",function(e){s.show()}),o.on("mouseout",function(e){s.hide()}),o.add(r),o.add(s),o.on("dblclick",e=>{this.codeEditorSrv.createWarnSwal(()=>{this.createButtonCallback(i,1)})}),e.add(o)});const i=new n.Rect({position:[-34,-15],shape:{width:68,height:96},style:{opacity:0}}),o=new n.Group({});return o.add(i),o.add(e),e.hide(),o.on("mouseover",function(t){e.show()}),o.on("mouseout",function(t){e.hide()}),o}createScreenController(){const e=new n.Group({}),t=new n.Rect({position:[0,0],shape:{width:200,height:40},style:{fill:"#202121"}}),i=new n.Rect({position:[0,0],shape:{width:200,height:40},style:{fill:"transparent"}}),o=new n.Text({position:[10,10],style:{text:"Screen Simulator",fontWeight:700,fontSize:22,textFill:"#ccc"},cursor:"default"});i.on("click",e=>{this.screenSimulator.open()}),e.add(t),e.add(o),e.add(i),this.zrenderWorkspace.add(e)}handleKeyDown(e){const t=e.key,i=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].includes(t);e.shiftKey&&i?this.shiftAndArrowKeyControl(e):e.ctrlKey&&i?this.ctrlAndArrowKeyControl(e):i?this.arrowKeyControl(e):"Delete"===t&&this.removeUiComponent()}handleKeyUp(e){this.selectedComponent&&!this.isDrag&&this.isKeyDown&&(this.isKeyDown=!1,clearTimeout(this.keydownTimer),this.handleKeyDownOverTime())}shiftAndArrowKeyControl(e){const t=e.key,i=this.selectedComponent;if(!e.shiftKey||!i||this.isDrag)return;const n=i.type;let o,s;if(this.isKeyDown=!0,clearTimeout(this.keydownTimer),n===r.Eq.CIRCLE)o="radius","ArrowUp"===t?i.setProp(o,i.getProp(o)+1):"ArrowDown"===t&&i.getProp(o)>2&&i.setProp(o,i.getProp(o)-1);else if(n===r.Eq.RECTANGLE||n===r.Eq.SLIDER||n===r.Eq.BAR||n===r.Eq.SWITCH||n===r.Eq.BUTTON2)if("ArrowUp"===t){if(o="height",n===r.Eq.SLIDER&&i.getProp(o)>=i.getProp("width")/2||(n===r.Eq.SWITCH||n===r.Eq.BAR)&&i.getProp(o)>=i.getProp("width")-1)return;i.setProp(o,i.getProp(o)+1)}else if("ArrowDown"===t)o="height",i.getProp(o)>5&&i.setProp(o,i.getProp(o)-1);else if("ArrowLeft"===t){if(o="width",n===r.Eq.SLIDER&&i.getProp(o)<=2*i.getProp("height")||(n===r.Eq.SWITCH||n===r.Eq.BAR)&&i.getProp(o)<=i.getProp("height")+1)return;i.getProp(o)>5&&i.setProp(o,i.getProp(o)-1)}else"ArrowRight"===t&&(o="width",i.setProp(o,i.getProp(o)+1));else if(n===r.Eq.LINE){const e=sessionStorage.getItem("_type");(e===r.__.CORETWO||e===r.__.TOUGH)&&("ArrowUp"===t?(o=r.pA.LINE_WIDTH,i.setProp(o,i.getProp(o)+1)):"ArrowDown"===t&&(o=r.pA.LINE_WIDTH,i.getProp(o)>1&&i.setProp(o,i.getProp(o)-1)))}else if(n===r.Eq.LABEL||n===r.Eq.CHECKBOX||n===r.Eq.LABELPLUS){const e=sessionStorage.getItem("_type"),n=i.font;let a;if(e===r.__.CORETWO||e===r.__.TOUGH)a=Object.values(r.Kk).slice(0,10);else{let e=Object.values(r.co);e.splice(4,2),e.pop(),a=e}const l=a.length-1;let c=a.indexOf(n);o=r.pA.FONT,"ArrowUp"===t?c=c===l?0:c+1:"ArrowDown"===t&&(c=0===c?l:c-1),s=a[c],i.font=s}[r.Eq.LABEL,r.Eq.CHECKBOX,r.Eq.LABELPLUS].includes(n)||(s=i[o]),this.updateSvg(i,o,s),[r.Eq.TRIANGLE,r.Eq.LINE,r.Eq.TITLE].includes(n)||this.globalOperatorSrv.setSelectedComponent(null)}arrowKeyControl(e){const t=e.key,i=this.selectedComponent,n=[r.Eq.SCREEN,r.Eq.TITLE,r.Eq.BUTTON];if(!["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].includes(t)||!i||n.includes(i.type)||this.isDrag)return;const{width:o,height:s}=window.Blockly.M5Component.find(e=>"screen"===e.type),a=this.selectedComponent.componentSvg,l=i.type,c=this.scaleRatio,h=this.eRatio,u=1*c*h;let d,p,[g,f]=a.position,m=i.x,_=i.y,v=0,y=0;if(this.isKeyDown=!0,clearTimeout(this.keydownTimer),l===r.Eq.CIRCLE)v=i.radius,y=i.radius;else if(l===r.Eq.RECTANGLE||l===r.Eq.BUTTON2||l===r.Eq.SWITCH||l===r.Eq.SLIDER||l===r.Eq.BAR||l===r.Eq.CHECKBOX){let e=l===r.Eq.CHECKBOX?a.getBoundingRect().width+a._children[0].getBoundingRect().width/2:i.width,n=l===r.Eq.CHECKBOX?a.getBoundingRect().height+a._children[0].getBoundingRect().height/3:i.height;"ArrowRight"===t?v=e:"ArrowDown"===t&&(y=n)}else if(l===r.Eq.LABEL||l===r.Eq.LABELPLUS){const{width:e,height:i}=a.getBoundingRect();"ArrowRight"===t?v=Math.ceil(e/c/h):"ArrowDown"===t&&(y=Math.ceil(i/c/h))}else if(l===r.Eq.IMAGE||l===r.Eq.IMAGEPLUS){const{width:e,height:i}=a.style;"ArrowRight"===t?v=e/c/h:"ArrowDown"===t&&(y=i/c/h)}else l===r.Eq.TRIANGLE?"ArrowUp"===t?_=Math.min(i.y1,i.y2,i.y3):"ArrowDown"===t?_=Math.max(i.y1,i.y2,i.y3):"ArrowLeft"===t?m=Math.min(i.x1,i.x2,i.x3):"ArrowRight"===t&&(m=Math.max(i.x1,i.x2,i.x3)):l===r.Eq.LINE&&("ArrowLeft"===t?m=Math.min(i.x1,i.x2):"ArrowRight"===t?m=Math.max(i.x1,i.x2):"ArrowUp"===t?_=Math.min(i.y1,i.y2):"ArrowDown"===t&&(_=Math.max(i.y1,i.y2)));if("ArrowUp"===t?_-y>0&&(f-=u):"ArrowDown"===t?_+y<s/h&&(f+=u):"ArrowLeft"===t?m-v>0&&(g-=u):"ArrowRight"===t&&m+v<o/h&&(g+=u),i.type===r.Eq.TRIANGLE)a.attr("position",[g,f]),i.setProp("x1",(a.shape.points[0][0]+Math.floor(a.position[0]))/c/h),i.setProp("y1",(a.shape.points[0][1]+Math.floor(a.position[1]))/c/h),i.setProp("x2",(a.shape.points[1][0]+Math.floor(a.position[0]))/c/h),i.setProp("y2",(a.shape.points[1][1]+Math.floor(a.position[1]))/c/h),i.setProp("x3",(a.shape.points[2][0]+Math.floor(a.position[0]))/c/h),i.setProp("y3",(a.shape.points[2][1]+Math.floor(a.position[1]))/c/h),i.setProp("x",i.getProp("x1")),i.setProp("y",i.getProp("y1")),a.attr({shape:{points:[[a.shape.points[0][0]+a.position[0],a.shape.points[0][1]+a.position[1]],[a.shape.points[1][0]+a.position[0],a.shape.points[1][1]+a.position[1]],[a.shape.points[2][0]+a.position[0],a.shape.points[2][1]+a.position[1]]]}}),a.attr("position",[0,0]),d=i.getProp("x1"),p=i.getProp("y1");else if(i.type===r.Eq.LINE){const e=[g,f];i.setProp("x1",(a._children[0].shape.x1+Math.floor(e[0]))/c/h),i.setProp("y1",(a._children[0].shape.y1+Math.floor(e[1]))/c/h),i.setProp("x2",(a._children[0].shape.x2+Math.floor(e[0]))/c/h),i.setProp("y2",(a._children[0].shape.y2+Math.floor(e[1]))/c/h),a._children[0].attr({position:[0,0],shape:{x1:a._children[0].shape.x1+e[0],y1:a._children[0].shape.y1+e[1],x2:a._children[0].shape.x2+e[0],y2:a._children[0].shape.y2+e[1]}}),a._children[1].attr({position:[0,0],shape:{x1:a._children[1].shape.x1+e[0],y1:a._children[1].shape.y1+e[1],x2:a._children[1].shape.x2+e[0],y2:a._children[1].shape.y2+e[1]}}),d=i.getProp("x1"),p=i.getProp("y1")}else if(l===r.Eq.SLIDER||l===r.Eq.SWITCH||l===r.Eq.BAR||l===r.Eq.CHECKBOX){const e=[a._children[0].position[0]+g,a._children[0].position[1]+f];i.setProp("x",Math.floor(e[0]/c/h)),i.setProp("y",Math.floor(e[1]/c/h)),a._children[0].attr({position:e}),a._children[1].attr({position:e}),a._children[2]&&a._children[2].attr({position:e}),d=i.getProp("x"),p=i.getProp("y")}else a.attr("position",[g,f]),i.x=Math.floor(a.position[0]/c/h),i.y=Math.floor(a.position[1]/c/h),d=i.getProp("x"),p=i.getProp("y");this.updateCoordinate(d,p),this.globalOperatorSrv.setSelectedComponent(null),this.globalOperatorSrv.codeLock.value||this.codeEditorSrv.updateWorkspaceValue(2)}ctrlAndArrowKeyControl(e){const t=e.key,i=this.selectedComponent,n=[r.Eq.SCREEN,r.Eq.TITLE,r.Eq.BUTTON];if(e.ctrlKey&&!["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].includes(t)||!i||n.includes(i.type)||this.isDrag)return;const{width:o,height:s}=window.Blockly.M5Component.find(e=>"screen"===e.type),a=this.selectedComponent.componentSvg,l=i.type,c=this.scaleRatio,h=this.eRatio;let u,d,p,g,f=0,m=0;if(this.isKeyDown=!0,clearTimeout(this.keydownTimer),l===r.Eq.CIRCLE)f=i.radius,m=i.radius;else if(l===r.Eq.RECTANGLE||l===r.Eq.BUTTON2||l===r.Eq.SWITCH||l===r.Eq.SLIDER||l===r.Eq.BAR||l===r.Eq.CHECKBOX){let e=l===r.Eq.CHECKBOX?Math.floor(a.getBoundingRect().width+a._children[0].getBoundingRect().width/2):i.width,n=l===r.Eq.CHECKBOX?Math.floor(a.getBoundingRect().height+a._children[0].getBoundingRect().height/3):i.height;"ArrowRight"===t?f=e:"ArrowDown"===t&&(m=n)}else if(l===r.Eq.LABEL||l===r.Eq.LABELPLUS){const{width:e,height:i}=a.getBoundingRect();"ArrowRight"===t?f=Math.ceil(e/c/h):"ArrowDown"===t&&(m=Math.ceil(i/c/h))}else if(l===r.Eq.IMAGE||l===r.Eq.IMAGEPLUS){const{width:e,height:i}=a.style;"ArrowRight"===t?f=e/c/h:"ArrowDown"===t&&(m=i/c/h)}else l===r.Eq.TRIANGLE?"ArrowUp"===t?m=Math.min(i.y1,i.y2,i.y3):"ArrowDown"===t?m=s/h-Math.max(i.y1,i.y2,i.y3):"ArrowLeft"===t?f=Math.min(i.x1,i.x2,i.x3):"ArrowRight"===t&&(f=o/h-Math.max(i.x1,i.x2,i.x3)):l===r.Eq.LINE&&("ArrowLeft"===t?f=Math.min(i.x1,i.x2):"ArrowRight"===t?f=o/h-Math.max(i.x1,i.x2):"ArrowUp"===t?m=Math.min(i.y1,i.y2):"ArrowDown"===t&&(m=s/h-Math.max(i.y1,i.y2)));if("ArrowUp"===t)if(l===r.Eq.TRIANGLE||l===r.Eq.LINE){p=l===r.Eq.TRIANGLE?["y1","y2","y3"]:["y1","y2"];for(let e=0;e<p.length;e++)i[p[e]]=i[p[e]]-m}else p="y",i.y=0+m;else if("ArrowDown"===t)if(l===r.Eq.TRIANGLE||l===r.Eq.LINE){p=l===r.Eq.TRIANGLE?["y1","y2","y3"]:["y1","y2"];for(let e=0;e<p.length;e++)i[p[e]]=i[p[e]]+m}else p="y",i.y=s/h-m;else if("ArrowLeft"===t)if(l===r.Eq.TRIANGLE||l===r.Eq.LINE){p=l===r.Eq.TRIANGLE?["x1","x2","x3"]:["x1","x2"];for(let e=0;e<p.length;e++)i[p[e]]=i[p[e]]-f}else p="x",i.x=0+f;else if("ArrowRight"===t)if(l===r.Eq.TRIANGLE||l===r.Eq.LINE){p=l===r.Eq.TRIANGLE?["x1","x2","x3"]:["x1","x2"];for(let e=0;e<p.length;e++)i[p[e]]=i[p[e]]+f}else p="x",i.x=o/h-f;if(u=i.x,d=i.y,l===r.Eq.TRIANGLE||l===r.Eq.LINE)for(let r=0;r<p.length;r++)g=i[p[r]],this.updateSvg(i,p[r],g);else this.updateSvg(i,p,g);this.updateCoordinate(u,d),this.globalOperatorSrv.setSelectedComponent(null),this.globalOperatorSrv.codeLock.value||this.codeEditorSrv.updateWorkspaceValue(2)}removeUiComponent(){const e=this.selectedComponent;if(!e||e.type===r.Eq.SCREEN)return;const t=()=>{const t=e.componentSvg;this.storeSrv.removeComponentById(e.id),this.selectedComponent=null,this.globalOperatorSrv.setSelectedComponent(null),this.globalOperatorSrv.codeLock.value||this.codeEditorSrv.updateWorkspaceValue(),this.zrenderWorkspace.remove(this.guideLines),t.__zr.screenContainer.remove(t)};this.delConfirmTip?t():c().fire({icon:"warning",text:"Delete UI component ?",showCancelButton:!0,focusConfirm:!0,confirmButtonColor:window.Blockly.Msg.SWAL_DANGER_HUE,cancelButtonColor:window.Blockly.Msg.SWAL_GRAY_HUE,confirmButtonText:"Confirm",allowOutsideClick:!1,input:"checkbox",inputValue:0,inputPlaceholder:"Don't show again"}).then(e=>{if(!e.isConfirmed)return!1;t(),this.delConfirmTip=e.value})}handleKeyDownOverTime(){this.keydownTimer=setTimeout(()=>{this.zrenderWorkspace.coordinate.hide(),this.selectedComponent=null},5e3)}handleScreenClick(e){if(this.screenContainer){const t=this.screenContainer._children[0].contain(e.layerX?e.layerX:e.zrX,e.layerY?e.layerY:e.zrY);this.selectedComponent&&(window.Blockly.selected||!t)&&(clearTimeout(this.keydownTimer),this.zrenderWorkspace.coordinate.hide(),this.selectedComponent=null)}}addDocumentListener(){document.addEventListener("keydown",this.keyDown),document.addEventListener("keyup",this.keyUp),document.addEventListener("click",this.screenClick)}removeDocumentListener(){document.removeEventListener("keydown",this.keyDown),document.removeEventListener("keyup",this.keyUp),document.removeEventListener("click",this.screenClick)}toggleShortcutTipShow(){this.shortcutTipShow=!this.shortcutTipShow,this.shortcutTipShowTimer&&clearTimeout(this.shortcutTipShowTimer)}handleShortcutTipShow(e){this.shortcutTipShow=e}}return e.\u0275fac=function(t){return new(t||e)(h.LFG(u.d),h.LFG(d.h),h.LFG(p.t),h.LFG(g.s),h.LFG(f.r))},e.\u0275prov=h.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},9582:function(e,t,i){"use strict";i.d(t,{C:function(){return s}});var n=i(26215),o=i(37716),r=i(20138);let s=(()=>{class e{constructor(e){this.globalOperatorSrv=e,this.isOpenGuide=new n.X(!1),this.isShowGuide=new n.X(!0),this.guideRef=null}getIsShowGuide(){return this.isShowGuide.asObservable()}setIsShowGuide(e){this.isShowGuide.next(e),this.globalOperatorSrv.setAppBlur(e)}getIsOpenGuide(){return this.isOpenGuide.asObservable()}setIsOpenGuide(e){this.isOpenGuide.next(e),this.globalOperatorSrv.setAppBlur(e)}open(){this.setIsShowGuide(!0),this.isOpenGuide.value?this.setIsShowGuide(!0):this.setIsOpenGuide(!0)}}return e.\u0275fac=function(t){return new(t||e)(o.LFG(r.t0))},e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},71320:function(e,t,i){"use strict";i.d(t,{g:function(){return Ve}});var n=i(37716),o=i(67302),r=i(75723),s=i(50402),a=i(88259),l=i.n(a),c=i(43858),h=i(90665),u=i(61797),d=i(22e3),p=i(4829),g=i(31682),f=i(8318),m=i(10215),_=i(38583),v=i(81780);const y=["pbPort"],b=["search"];function w(e,t){1&e&&(n.TgZ(0,"span"),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&e&&(n.xp6(1),n.Oqu(n.lcZ(2,1,"UNITS")))}function A(e,t){1&e&&(n.TgZ(0,"span"),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&e&&(n.xp6(1),n.Oqu(n.lcZ(2,1,"STAMPS")))}function x(e,t){1&e&&(n.TgZ(0,"span"),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&e&&(n.xp6(1),n.Oqu(n.lcZ(2,1,"HATS")))}function T(e,t){if(1&e&&(n.YNc(0,A,3,3,"span",2),n.YNc(1,x,3,3,"ng-template",null,14,n.W1O)),2&e){const e=n.MAs(2),t=n.oxw();n.Q6J("ngIf",t.isStamp)("ngIfElse",e)}}function C(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"span",15),n.TgZ(1,"input",16),n.NdJ("value",function(){return n.CHM(e),n.oxw().onlyPnp})("change",function(){return n.CHM(e),n.oxw().handleFilterList()}),n.qZA(),n._uU(2," Only Azure PnP "),n.qZA()}}function Z(e,t){1&e&&n._UZ(0,"img",27)}function k(e,t){if(1&e&&(n.TgZ(0,"option",37),n._uU(1),n.qZA()),2&e){const e=t.$implicit,i=n.oxw(3);n.s9C("value",e),n.xp6(1),n.AsE("",e," ",i.pinMap[e],"")}}function S(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"div",38),n.TgZ(1,"p"),n.TgZ(2,"span",39),n._uU(3,"SDA/TX"),n.qZA(),n.TgZ(4,"input",40),n.NdJ("input",function(t){n.CHM(e);const i=n.oxw(2).$implicit;return n.oxw().setPort(i.type,0,t)}),n.qZA(),n.qZA(),n.TgZ(5,"p"),n.TgZ(6,"span",39),n._uU(7,"SCL/RX"),n.qZA(),n.TgZ(8,"input",40),n.NdJ("input",function(t){n.CHM(e);const i=n.oxw(2).$implicit;return n.oxw().setPort(i.type,1,t)}),n.qZA(),n.qZA(),n.qZA()}2&e&&(n.xp6(4),n.Q6J("value",21),n.xp6(4),n.Q6J("value",22))}function E(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"div",29),n.TgZ(1,"p"),n._uU(2),n.ALo(3,"translate"),n.qZA(),n.TgZ(4,"input",41),n.NdJ("input",function(t){n.CHM(e);const i=n.oxw(2).$implicit;return n.oxw().setUnit(i.type,t,"count")}),n.qZA(),n.qZA()}if(2&e){const e=n.oxw(2).$implicit,t=n.oxw();n.ekj("isUserCount",t.isUser),n.xp6(2),n.hij("",n.lcZ(3,4,"COUNT"),":"),n.xp6(2),n.Q6J("value",e.count)}}function M(e,t){if(1&e&&(n.TgZ(0,"option",37),n._uU(1),n.qZA()),2&e){const e=t.$implicit;n.s9C("value",e),n.xp6(1),n.Oqu(e)}}function O(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"div",29),n.TgZ(1,"p"),n._uU(2),n.ALo(3,"translate"),n.qZA(),n.TgZ(4,"select",30),n.NdJ("change",function(t){n.CHM(e);const i=n.oxw(2).$implicit;return n.oxw().setUnit(i.type,t,"mode")}),n.YNc(5,M,2,2,"option",32),n.qZA(),n.qZA()}if(2&e){const e=n.oxw(2).$implicit,t=n.oxw();n.ekj("isUserMode",t.isUser),n.xp6(2),n.hij("",n.lcZ(3,5,"MODE"),":"),n.xp6(2),n.Q6J("formControlName",e.type+"_mode"),n.xp6(1),n.Q6J("ngForOf",null==e?null:e.modeOption)}}function I(e,t){if(1&e&&(n.TgZ(0,"option",37),n._uU(1),n.qZA()),2&e){const e=t.$implicit;n.s9C("value",e),n.xp6(1),n.hij("PAHUB:",e,"")}}function P(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"div",42,43),n.TgZ(2,"p"),n._uU(3,"PAHUB:"),n.qZA(),n.TgZ(4,"select",30),n.NdJ("change",function(t){n.CHM(e);const i=n.oxw(2).$implicit;return n.oxw().setUnit(i.type,t,"new_pb_port")}),n.YNc(5,I,2,2,"option",32),n.qZA(),n.qZA()}if(2&e){const e=n.oxw(2).$implicit;n.xp6(4),n.Q6J("formControlName",e.type+"_pb_port"),n.xp6(1),n.Q6J("ngForOf",null==e?null:e.pb_port)}}function R(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"div",29),n.TgZ(1,"p"),n._uU(2),n.qZA(),n.TgZ(3,"input",44),n.NdJ("input",function(t){n.CHM(e);const i=n.oxw(2).$implicit;return n.oxw().setUnit(i.type,t,"address")}),n.qZA(),n.qZA()}if(2&e){const e=n.oxw(2).$implicit,t=n.oxw();n.ekj("isUserCount",t.isUser),n.xp6(2),n.hij("","Address",":"),n.xp6(1),n.Q6J("value",e.address)}}function q(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"div",28),n.NdJ("click",function(t){return n.CHM(e),n.oxw(2).stopPropagation(t)}),n.TgZ(1,"div",29),n.TgZ(2,"p"),n._uU(3),n.ALo(4,"translate"),n.qZA(),n.TgZ(5,"select",30,31),n.NdJ("change",function(t){n.CHM(e);const i=n.oxw().$implicit;return n.oxw().setUnit(i.type,t,"port")}),n.YNc(7,k,2,3,"option",32),n.qZA(),n.qZA(),n.YNc(8,S,9,2,"div",33),n.YNc(9,E,5,6,"div",34),n.YNc(10,O,6,7,"div",35),n.YNc(11,P,6,2,"div",36),n.YNc(12,R,4,4,"div",34),n.qZA()}if(2&e){const e=n.oxw().$implicit,t=n.oxw();n.xp6(3),n.hij("",n.lcZ(4,8,"PORT"),":"),n.xp6(2),n.Q6J("formControlName",e.type),n.xp6(2),n.Q6J("ngForOf",null==e?null:e.default),n.xp6(1),n.Q6J("ngIf",t.isUser),n.xp6(1),n.Q6J("ngIf",e.hasOwnProperty("count")),n.xp6(1),n.Q6J("ngIf",e.hasOwnProperty("mode")),n.xp6(1),n.Q6J("ngIf",e.hasOwnProperty("pb_port")),n.xp6(1),n.Q6J("ngIf",e.hasOwnProperty("address"))}}function L(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"li",17),n.NdJ("mousedown",function(){const t=n.CHM(e).$implicit;return n.oxw().selectUnit(t)}),n.TgZ(1,"input",18),n.NdJ("change",function(t){return n.CHM(e),n.oxw().handle(t)}),n.qZA(),n.TgZ(2,"span",19),n._UZ(3,"img",20),n.qZA(),n.TgZ(4,"span",21),n.NdJ("click",function(t){const i=n.CHM(e).$implicit;return n.oxw().toDocs(i,t)}),n._UZ(5,"img",22),n.qZA(),n.TgZ(6,"label",23),n._UZ(7,"img",24),n.YNc(8,Z,1,0,"img",25),n.qZA(),n.YNc(9,q,13,10,"div",26),n.qZA()}if(2&e){const e=t.$implicit,i=n.oxw();n.ekj("disable",e.hidden||e.stickNone===i.isstick)("isnone",e.stickType===i.isstick),n.xp6(1),n.s9C("value",e.type),n.s9C("id",e.type),n.xp6(5),n.s9C("for",e.type),n.xp6(1),n.Q6J("src","../../../assets/images/units/"+e.icon,n.LSH),n.xp6(1),n.Q6J("ngIf",e.hasPnP),n.xp6(1),n.Q6J("ngIf",i.selectedUnit===e||i.selectedStamp===e)}}let U=(()=>{class e{constructor(e,t,i,n,r,s){this.globalOperatorSrv=e,this.storeSrv=t,this.zrenderHelperSrv=i,this.zrenderHelperSrvmb=n,this.codeEditorSrv=r,this.pnpSrv=s,this.category=[],this.maskModal=null,this.selectedUnit=null,this.selectedHat=null,this.selectedStamp=null,this.selectMoreUnit=[],this.selectMoreHat=[],this.Allunit={},this.allunit={},this.Allhat={},this.allhat={},this.AllStamp={},this.allstamp={},this.isUnit=!0,this.isStamp=!1,this.isUser=!1,this.unitPort=o.E$,this.onlyPnp=!1,this.tempCategory=[],this.searchValue=""}ngOnInit(){this.isUnit=this.storeSrv.getIsUnit().source._value,this.isStamp=this.storeSrv.getIsStamp().source._value,this.UIHELP=this.globalOperatorSrv.ismb?this.zrenderHelperSrvmb:this.zrenderHelperSrv,(""==localStorage.getItem("_type")||null==localStorage.getItem("_type"))&&localStorage.setItem("_type",this.storeSrv.getType().source._value),this.createCategory(localStorage.getItem("_type")),this.storeSrv.getType().subscribe(e=>{this.isstick=e,this.createCategory(e),this.setCategory(e)});const e=this.storeSrv.getType().source._value;this.setCategory(e),this.tempCategory=this.category,document.body.addEventListener("keydown",this.keydown.bind(this))}ngAfterViewInit(){this.search.nativeElement.focus()}createCategory(e){this.isUnit?(this.category=(()=>{var e=[0,1,2,3,4,5],t="0";let i=new r.Tem({name:"",port:{port:o.px.B,default:["B","D",o.Kt]}}),n=new r.H6I({name:"",port:{port:o.px.B,default:["B","D",o.Kt]}}),s=new r.MuL({name:"",port:{port:o.px.B,default:["B","C",o.Kt]}});return[o.__.STICK_C,o.__.STICK_C_PLUS,o.__.STICK_C_PLUS2,o.__.ATOM,o.__.ATOM_MATRIX,o.__.PICO,o.__.ATOM_U,o.__.ATOM_DISPLAY,o.__.COREINK].indexOf(sessionStorage.getItem("_type"))>-1&&(i=new r.Tem({name:"",port:{port:o.px.A,default:["A","B","D",o.Kt]}}),n=new r.H6I({name:"",port:{port:o.px.A,default:["A","B","D",o.Kt]}}),s=new r.MuL({name:"",port:{port:o.px.A,default:["A","B","C",o.Kt]}})),[new r.vOD({name:"",port:{port:o.px.A,default:["A","E","PAHUB",o.Kt],pb_port:e,new_pb_port:t}}),new r.oJw({name:"",port:{port:o.px.A,default:["A","E","PAHUB",o.Kt],pb_port:e,new_pb_port:t}}),new r.eLT({name:"",port:{port:o.px.A,default:["A","E","PAHUB",o.Kt],pb_port:e,new_pb_port:t}}),new r.B8p({name:"",port:{port:o.px.A,default:["A","E","PAHUB",o.Kt],pb_port:e,new_pb_port:t}}),new r.LO2({name:"",port:{port:o.px.A,default:["A","E","PAHUB",o.Kt],pb_port:e,new_pb_port:t}}),new r.Dt2({name:"",port:{port:o.px.B,default:["A","B","C","E",o.Kt]}}),new r.rrx({name:"",port:{port:o.px.B,default:["A","B","C","E",o.Kt]},count:10}),new r.Ss0({name:"",port:{port:o.px.A,default:["A","E","PAHUB",o.Kt],pb_port:e,new_pb_port:t}}),new r.Qhy({name:"",port:{port:o.px.A,default:["A","E","PAHUB",o.Kt],pb_port:e,new_pb_port:t}}),new r.Rbq({name:"",port:{port:o.px.C,default:["A","B","C","E",o.Kt]}}),new r.NpM({name:"",port:{port:o.px.B,default:["A","B","C","E",o.Kt]}}),new r.ztu({name:"",port:{port:o.px.A,default:["A","E","PAHUB",o.Kt],pb_port:e,new_pb_port:t}}),new r.R5s({name:"",port:{port:o.px.B,default:["A","B","C","D","E",o.Kt]}}),new r.DMh({name:"",port:{port:o.px.B,default:["A","B","C","D","E",o.Kt]}}),new r.k9y({name:"",port:{port:o.px.B,default:["A","B","C","E",o.Kt]}}),new r.PV8({name:"",port:{port:o.px.B,default:["A","B","C","E",o.Kt]}}),new r.zZ$({name:"",port:{port:o.px.A,default:["A","E","PAHUB",o.Kt],pb_port:e,new_pb_port:t}}),new r.u5g({name:"",port:{port:o.px.A,default:["A","E","PAHUB",o.Kt],pb_port:e,new_pb_port:t}}),new r.KGR({name:"",port:{port:o.px.A,default:["A","E","PAHUB",o.Kt],pb_port:e,new_pb_port:t}}),new r.aZe({name:"",port:{port:o.px.A,default:["A","E","PAHUB",o.Kt],pb_port:e,new_pb_port:t}}),new r.uCw({name:"",port:{port:o.px.B,default:["A","B","C","E",o.Kt]},mode:"NEC"}),i,new r.xN$({name:"",port:{port:o.px.B,default:["A","B","C","D",o.Kt]}}),n,new r.t3B({name:"",port:{port:o.px.A,default:["A","E","PAHUB",o.Kt],pb_port:e,new_pb_port:t}}),new r.tmb({name:"",port:{port:o.px.A,default:["A","E","PAHUB",o.Kt],pb_port:e,new_pb_port:t}}),new r.V2p({name:"",port:{port:o.px.A,default:["A","E","PAHUB",o.Kt],pb_port:e,new_pb_port:t}}),new r.l4c({name:"",port:{port:o.px.C,default:["A","B","C","E",o.Kt]}}),new r.TLE({name:"",port:{port:o.px.A,default:["A","E","PAHUB",o.Kt],pb_port:e,new_pb_port:t}}),new r.pw4({name:"",port:{port:o.px.A,default:["A","E","PAHUB",o.Kt],pb_port:e,new_pb_port:t}}),new r.GCB({name:"",port:{port:o.px.A,default:["A","E",o.Kt]}}),new r.HHl({name:"",port:{port:o.px.C,default:["A","B","C","E",o.Kt]}}),new r.uGe({name:"",port:{port:o.px.A,default:["A","E",o.Kt],pb_port:e,new_pb_port:t}}),new r.Hlb({name:"",port:{port:o.px.A,default:["A","E",o.Kt]}}),new r._OS({name:"",port:{port:o.px.A,default:["A","E","PAHUB",o.Kt],pb_port:e,new_pb_port:t}}),new r.$pm({name:"",port:{port:o.px.B,default:["A","B","C","E",o.Kt]}}),new r.Szs({name:"",port:{port:o.px.B,default:["A","B","C","D",o.Kt]}}),new r.Dy_({name:"",port:{port:o.px.A,default:["A","E","PAHUB",o.Kt],pb_port:e,new_pb_port:t}}),new r.D6t({name:"",port:{port:o.px.A,default:["A","E","PAHUB",o.Kt],pb_port:e,new_pb_port:t}}),new r.Smv({name:"",port:{port:o.px.A,default:["A","E","PAHUB",o.Kt],pb_port:e,new_pb_port:t}}),new r.MW8({name:"",port:{port:o.px.A,default:["A","E","PAHUB",o.Kt],pb_port:e,new_pb_port:t}}),new r.MOA({name:"",port:{port:o.px.A,default:["A","E","PAHUB",o.Kt],pb_port:e,new_pb_port:t}}),new r.Ohe({name:"",port:{port:o.px.A,default:["A","B","C","D",o.Kt]}}),new r.mm1({name:"",port:{port:o.px.A,default:["A","B","C","D",o.Kt]}}),new r.rwb({name:"",port:{port:o.px.A,default:["A","B","C","D",o.Kt]}}),new r.ZcI({name:"",port:{port:o.px.B,default:["A","B","C","D",o.Kt]}}),new r.UJM({name:"",port:{port:o.px.B,default:["A","B","C","D",o.Kt]}}),new r.gtA({name:"",port:{port:o.px.B,default:["A","B","C","D",o.Kt]}}),new r.DNN({name:"",port:{port:o.px.B,default:["A","B","C","D",o.Kt]}}),new r.UQW({name:"",port:{port:o.px.A,default:["A","E","PAHUB",o.Kt],pb_port:e,new_pb_port:t}}),s,new r.W({name:"",port:{port:o.px.A,default:["A","PAHUB",o.Kt],pb_port:e,new_pb_port:t}}),new r.wKh({name:"",port:{port:o.px.C,default:["A","C",o.Kt]}}),new r.u8U({name:"",port:{port:o.px.B,default:["A","B","C",o.Kt]}}),new r.ybB({name:"",port:{port:o.px.B,default:["A","B","C",o.Kt]}}),new r.U7T({name:"",port:{port:o.px.C,default:["A","C","D",o.Kt]}}),new r.QIh({name:"",port:{port:o.px.A,default:["A","E","PAHUB",o.Kt],pb_port:e,new_pb_port:t}}),new r.PBr({name:"",port:{port:o.px.A,default:["A","E","PAHUB",o.Kt],pb_port:e,new_pb_port:t}}),new r.gyN({name:"",port:{port:o.px.A,default:["A","C",o.Kt]}}),new r.H7M({name:"",port:{port:o.px.C,default:["A","C",o.Kt]}}),new r.dmQ({name:"",port:{port:o.px.C,default:["A","C",o.Kt]}}),new r.T9U({name:"",port:{port:o.px.C,default:["A","C",o.Kt]}}),new r.sbd({name:"",port:{port:o.px.C,default:["A","C",o.Kt]}}),new r.p_6({name:"",port:{port:o.px.C,default:["A","C",o.Kt]}}),new r.fmZ({name:"",port:{port:o.px.B,default:["B","C",o.Kt]}}),new r.stA({name:"",port:{port:o.px.A,default:["A","E","PAHUB",o.Kt],pb_port:e,new_pb_port:t}}),new r.YgK({name:"",port:{port:o.px.C,default:["A","B","C","E",o.Kt]}}),new r.JVA({name:"",port:{port:o.px.A,default:["A","E","PAHUB",o.Kt],pb_port:e,new_pb_port:t}}),new r.e9({name:"",port:{port:o.px.A,default:["A","E","PAHUB",o.Kt],pb_port:e,new_pb_port:t}}),new r.QkU({name:"",port:{port:o.px.A,default:["A","E","PAHUB",o.Kt],pb_port:e,new_pb_port:t}}),new r.np4({name:"",port:{port:o.px.B,default:["A","B","C","D",o.Kt]}}),new r.V3k({name:"",port:{port:o.px.A,default:["A","E","PAHUB",o.Kt],pb_port:e,new_pb_port:t}}),new r.UDw({name:"",port:{port:o.px.A,default:["A","B","C",o.Kt]}}),new r.KpY({name:"",port:{port:o.px.A,default:["A","E","PAHUB",o.Kt],pb_port:e,new_pb_port:t}}),new r.VY8({name:"",port:{port:o.px.A,default:["A","B","C","D",o.Kt]}}),new r.HSb({name:"",port:{port:o.px.A,default:["A","B","C","D",o.Kt]}}),new r.Gb({name:"",port:{port:o.px.C,default:["A","C",o.Kt]}}),new r.hK0({name:"",port:{port:o.px.A,default:["A","E","PAHUB",o.Kt],pb_port:e,new_pb_port:t}}),new r.TPv({name:"",port:{port:o.px.B,default:["A","B","C","D",o.Kt]}}),new r.kVh({name:"",port:{port:o.px.C,default:["A","C",o.Kt]}}),new r.Gfr({name:"",port:{port:o.px.B,default:["A","B","C","D",o.Kt]}}),new r.xts({name:"",port:{port:o.px.B,default:["A","B","C","D",o.Kt]}}),new r._rl({name:"",port:{port:o.px.A,default:["A","E","PAHUB",o.Kt],pb_port:e,new_pb_port:t}}),new r.gXc({name:"",port:{port:o.px.A,default:["A","E","PAHUB",o.Kt],pb_port:e,new_pb_port:t}}),new r.Mi2({name:"",port:{port:o.px.B,default:["A","B","C","D",o.Kt]}}),new r.gA8({name:"",port:{port:o.px.B,default:["A","B","C","D",o.Kt]}}),new r.e5({name:"",port:{port:o.px.C,default:["A","C",o.Kt]}}),new r.piF({name:"",port:{port:o.px.A,default:["A","E","PAHUB",o.Kt],pb_port:e,new_pb_port:t}}),new r.do4({name:"",port:{port:o.px.B,default:["A","B","C","E",o.Kt]}}),new r.otU({name:"",port:{port:o.px.C,default:["A","C",o.Kt]}}),new r.$7I({name:"",port:{port:o.px.A,default:["A","E","PAHUB",o.Kt],pb_port:e,new_pb_port:t}}),new r.h6$({name:"",port:{port:o.px.C,default:["A","C",o.Kt]}}),new r.JGD({name:"",port:{port:o.px.A,default:["A","E","PAHUB",o.Kt],pb_port:e,new_pb_port:t}}),new r.yW3({name:"",port:{port:o.px.A,default:["A","E","PAHUB",o.Kt],pb_port:e,new_pb_port:t}}),new r.BM_({name:"",port:{port:o.px.A,default:["A","E","PAHUB",o.Kt],pb_port:e,new_pb_port:t}}),new r.HWk({name:"",port:{port:o.px.B,default:["A","B","C","E",o.Kt]}}),new r.g3b({name:"",port:{port:o.px.A,default:["A","E","PAHUB",o.Kt],pb_port:e,new_pb_port:t}}),new r.ilY({name:"",port:{port:o.px.A,default:["A","E","PAHUB",o.Kt],pb_port:e,new_pb_port:t}}),new r.ZkP({name:"",port:{port:o.px.A,default:["A","E","PAHUB",o.Kt],pb_port:e,new_pb_port:t}}),new r.nFm({name:"",port:{port:o.px.A,default:["A","E","PAHUB",o.Kt],pb_port:e,new_pb_port:t}}),new r._W$({name:"",port:{port:o.px.A,default:["A","E","PAHUB",o.Kt],pb_port:e,new_pb_port:t}}),new r.mnq({name:"",port:{port:o.px.A,default:["A","B","C",o.Kt]}}),new r.qkD({name:"",port:{port:o.px.A,default:["A","B","C",o.Kt]}}),new r.DbO({name:"",port:{port:o.px.A,default:["A","E","PAHUB",o.Kt],pb_port:e,new_pb_port:t}}),new r.xLY({name:"",port:{port:o.px.B,default:["A","B","C","D",o.Kt]}}),new r.LPz({name:"",port:{port:o.px.B,default:["A","B","C","D",o.Kt]}}),new r.xBd({name:"",port:{port:o.px.A,default:["A","E","PAHUB",o.Kt],pb_port:e,new_pb_port:t}}),new r.cPP({name:"",port:{port:o.px.C,default:["A","B","C",o.Kt]}}),new r.SzA({name:"",port:{port:o.px.A,default:["A","E","PAHUB",o.Kt],pb_port:e,new_pb_port:t}}),new r.nYO({name:"",port:{port:o.px.A,default:["A","E","PAHUB",o.Kt],pb_port:e,new_pb_port:t}}),new r.$SM({name:"",port:{port:o.px.A,default:["A","E","PAHUB",o.Kt],pb_port:e,new_pb_port:t}}),new r.ywi({name:"",port:{port:o.px.B,default:["A","B","C",o.Kt]},count:70}),new r.CSw({name:"",port:{port:o.px.A,default:["A","E","PAHUB",o.Kt],pb_port:e,new_pb_port:t}}),new r.h4X({name:"",port:{port:o.px.B,default:["A","B","C","E",o.Kt]}}),new r.lYl({name:"",port:{port:o.px.A,default:["A","B","C",o.Kt]}}),new r.p6x({name:"",port:{port:o.px.A,default:["A","E","PAHUB",o.Kt],pb_port:e,new_pb_port:t}}),new r.IKt({name:"",port:{port:o.px.A,default:["A","E","PAHUB",o.Kt],pb_port:e,new_pb_port:t}}),new r.LIQ({name:"",port:{port:o.px.C,default:["A","B","C",o.Kt]}}),new r.EkF({name:"",port:{port:o.px.A,default:["A","E","PAHUB",o.Kt],pb_port:e,new_pb_port:t}}),new r.Usw({name:"",port:{port:o.px.B,default:["A","B","C","E",o.Kt]}}),new r.Dpk({name:"",port:{port:o.px.C,default:["A","B","C",o.Kt]}}),new r.pwT({name:"",port:{port:o.px.A,default:["A","E","PAHUB",o.Kt],pb_port:e,new_pb_port:t}}),new r.US4({name:"",port:{port:o.px.A,default:["A","C","E","PAHUB",o.Kt],pb_port:e,new_pb_port:t}}),new r.UXo({name:"",port:{port:o.px.A,default:["A","E","PAHUB",o.Kt],pb_port:e,new_pb_port:t}}),new r.YIi({name:"",port:{port:o.px.C,default:["A","B","C",o.Kt]}}),new r.ZyP({name:"",port:{port:o.px.A,default:["A","E","PAHUB",o.Kt],pb_port:e,new_pb_port:t}}),new r.$0U({name:"",port:{port:o.px.A,default:["A","E","PAHUB",o.Kt],pb_port:e,new_pb_port:t}}),new r.ATU({name:"",port:{port:o.px.C,default:["A","B","C",o.Kt]}}),new r.vdB({name:"",port:{port:o.px.A,default:["A","C","E","PAHUB",o.Kt],pb_port:e,new_pb_port:t}}),new r.TWN({name:"",port:{port:o.px.C,default:["A","B","C",o.Kt]}}),new r.GHT({name:"",port:{port:o.px.A,default:["A","E","PAHUB",o.Kt],pb_port:e,new_pb_port:t}}),new r.vmT({name:"",port:{port:o.px.A,default:["A","E","PAHUB",o.Kt],pb_port:e,new_pb_port:t}}),new r.gWh({name:"",port:{port:o.px.C,default:["A","B","C",o.Kt]}})]})(),this.pinMap=(0,s.EH)(e)||""):!this.isUnit&&this.isStamp?(this.category=(()=>{let e=[0,1,2,3,4,5];return[new r.ftu({name:"",port:{port:o.px.A,default:["A","E","PAHUB",o.Kt],pb_port:e,new_pb_port:"0"}}),new r.n60({name:"",port:{port:o.px.A,default:["A","E","PAHUB",o.Kt],pb_port:e,new_pb_port:"0"}}),new r.joN({name:"",port:{port:o.px.C,default:["A","C",o.Kt],pb_port:e,new_pb_port:"0"}})]})(),this.pinMap=(0,s.EH)(e)||""):this.category=[new r.ZsX({name:"",port:{port:o.px.HAT,default:["HAT"]}}),new r.gKv({name:"",port:{port:o.px.HAT,default:["HAT"]}}),new r.IUz({name:"",port:{port:o.px.HAT,default:["HAT"]}}),new r.HSK({name:"",port:{port:o.px.HAT,default:["HAT"]}}),new r.iNJ({name:"",port:{port:o.px.HAT,default:["HAT"]}}),new r.L1x({name:"",port:{port:o.px.HAT,default:["HAT"]}}),new r.fDc({name:"",port:{port:o.px.HAT,default:["HAT"]}}),new r.NM9({name:"",port:{port:o.px.HAT,default:["HAT"]}}),new r.IDl({name:"",port:{port:o.px.HAT,default:["HAT"]}}),new r.QWm({name:"",port:{port:o.px.HAT,default:["HAT"]}}),new r.iuM({name:"",port:{port:o.px.HAT,default:["HAT"]}}),new r.Xad({name:"",port:{port:o.px.HAT,default:["HAT"]}}),new r.S09({name:"",port:{port:o.px.HAT,default:["HAT"]}}),new r.fEv({name:"",port:{port:o.px.HAT,default:["HAT"]}}),new r.WcW({name:"",port:{port:o.px.HAT,default:["HAT"]}}),new r.XHn({name:"",port:{port:o.px.HAT,default:["HAT"]}}),new r.XUS({name:"",port:{port:o.px.HAT,default:["HAT"]}}),new r.cRD({name:"",port:{port:o.px.HAT,default:["HAT"]}}),new r.Jxw({name:"",port:{port:o.px.HAT,default:["HAT"]}}),new c.j({name:"",port:{port:o.px.HAT,default:["HAT"]}}),new r.Ot6({name:"",port:{port:o.px.HAT,default:["HAT"]}}),new r.dh5({name:"",port:{port:o.px.HAT,default:["HAT"]}}),new r.UCq({name:"",port:{port:o.px.HAT,default:["HAT"]}}),new r.HEA({name:"",port:{port:o.px.HAT,default:["HAT"]}}),new r.lWN({name:"",port:{port:o.px.HAT,default:["HAT"]}}),new r.EFS({name:"",port:{port:o.px.HAT,default:["HAT"]}}),new r.$zo({name:"",port:{port:o.px.HAT,default:["HAT"]}}),new r.nb7({name:"",port:{port:o.px.HAT,default:["HAT"]}}),new r.INP({name:"",port:{port:o.px.HAT,default:["HAT"]}}),new r.DQG({name:"",port:{port:o.px.HAT,default:["HAT"]}}),new r.VjQ({name:"",port:{port:o.px.HAT,default:["HAT"]}}),new r.aEg({name:"",port:{port:o.px.HAT,default:["HAT"]}}),new r.RwY({name:"",port:{port:o.px.HAT,default:["HAT"]}}),new r.L9i({name:"",port:{port:o.px.HAT,default:["HAT"]}})]}setCategory(e){for(let i=0;i<this.category.length;i++)this.category[i].port=this.portFilter(e,this.category[i].port),this.category[i].default=this.defaultFilter(e,this.category[i].default,this.category[i]);let t={};this.category.forEach(e=>{t[e.type]=new h.NI(e.port),e.hasOwnProperty("mode")&&(t[`${e.type}_mode`]=new h.NI(e.mode)),e.hasOwnProperty("pb_port")&&(t[`${e.type}_pb_port`]=new h.NI(e.pb_port[0]))}),this.form=new h.cw(t)}portFilter(e,t){switch(e){case"core":case o.__.CORETWO:case o.__.TOUGH:case o.__.PAPER:return t;case"fire":return"C"===t?"A":t;case o.__.M5STATION:return["A","B","C"].includes(t)?t+"1":t;default:return"A"}}defaultFilter(e,t,i){switch(e){case"core":return t;case"fire":return t.filter(e=>"C"!=e);case o.__.CORETWO:case o.__.TOUGH:return-1===t.findIndex(e=>"A"===e)&&t.unshift("A"),t;case o.__.PAPER:return t.filter(e=>"D"!==e&&"E"!==e);case o.__.M5STATION:let e=i.port,n=["A","B","C"];return["neopixel","cardkb","V","unitcam","timercam","pdm","digi_clock","glass","glass2","neco","mini_oled","mini_can","can"].includes(i.type)?t.map(e=>n.includes(e)?[e+"1",e+"2"]:"D"!==e&&"E"!==e?e:[]).flat():t.map(t=>{let i=n.filter(t=>t!==e[0]);return t===e[0]?[t+"1",t+"2"]:"D"===t||"E"===t||i.includes(t)?[]:t}).flat();default:return-1===t.findIndex(e=>"A"===e)&&t.unshift("A"),t.filter(e=>"A"==e||e===o.Kt||"PAHUB"==e)}}cancel(){this.globalOperatorSrv.maskModal.instance.removeMask(),document.body.removeEventListener("keydown",this.keydown)}createUnit(e){var t;t=this.selectedUnit.port;let i=this.storeSrv.getUnitDefauleName(e),n=this.selectedUnit.default||["A","B","C"];switch(e){case o.g1.ENV:return new r.vOD({name:i,port:{port:t||o.px.B,default:n}});case o.g1.ENV2:return new r.oJw({name:i,port:{port:t||o.px.B,default:n}});case o.g1.ENV3:return new r.eLT({name:i,port:{port:t||o.px.A,default:n}});case o.g1.ANGLE:return new r.Tem({name:i,port:{port:t||o.px.B,default:n}});case o.g1.PIR:return new r.Dt2({name:i,port:{port:t||o.px.B,default:this.selectedUnit.default||["A","C"]}});case o.g1.NEOPIXEL:return new r.rrx({name:i,port:{port:t||o.px.A,default:n},count:this.selectedUnit.count});case o.g1.JOYSTICK:return new r.Ss0({name:i,port:{port:t||o.px.A,default:n}});case o.g1.LIGHT:return new r.xN$({name:i,port:{port:t||o.px.B,default:n}});case o.g1.EARTH:return new r.H6I({name:i,port:{port:t||o.px.B,default:n}});case o.g1.MAKEY:return new r.Qhy({name:i,port:{port:t||o.px.A,default:n}});case o.g1.SERVO:return new r.Rbq({name:i,port:{port:t||o.px.A,default:n}});case o.g1.WEIGH:return new r.NpM({name:i,port:{port:t||o.px.A,default:n}});case o.g1.HEART:return new r.Hlb({name:i,port:{port:t||o.px.A,default:n}});case o.g1.TRACK:return new r.ztu({name:i,port:{port:t||o.px.A,default:this.selectedUnit.default||["A","C"]}});case o.g1.BUTTON:return new r.R5s({name:i,port:{port:t||o.px.B,default:n}});case o.g1.DUALBUTTON:return new r.DMh({name:i,port:{port:t||o.px.B,default:n}});case o.g1.RGB:return new r.k9y({name:i,port:{port:t||o.px.C,default:n}});case o.g1.RELAY:return new r.PV8({name:i,port:{port:t||o.px.B,default:n}});case o.g1.DAC:return new r.KGR({name:i,port:{port:t||o.px.B,default:n}});case o.g1.ADC:return new r.zZ$({name:i,port:{port:t||o.px.B,default:n}});case o.g1.ADCV11:return new r.u5g({name:i,port:{port:t||o.px.A,default:n}});case o.g1.TOF:return new r.t3B({name:i,port:{port:t||o.px.B,default:n}});case o.g1.NCIR:return new r.aZe({name:i,port:{port:t||o.px.B,default:n}});case o.g1.IR:return new r.uCw({name:i,port:{port:t||o.px.B,default:n},mode:this.selectedUnit.mode});case o.g1.EXTIO:return new r._rl({name:i,port:{port:t||o.px.A,default:n}});case o.g1.EXTIO2:return new r.gXc({name:i,port:{port:t||o.px.A,default:n}});case o.g1.COLOR:return new r.tmb({name:i,port:{port:t||o.px.A,default:n}});case o.g1.FINGER:return new r.l4c({name:i,port:{port:t||o.px.C,default:n}});case o.g1.RFID:return new r.V2p({name:i,port:{port:t||o.px.B,default:n}});case o.g1.CARDKB:return new r.TLE({name:i,port:{port:t||o.px.A,default:n}});case o.g1.PBHUB:return new r.pw4({name:i,port:{port:t||o.px.A,default:n}});case o.g1.PAHUB:return new r.GCB({name:i,port:{port:t||o.px.A,default:n}});case o.g1.THERMAL:return new r.uGe({name:i,port:{port:t||o.px.A,default:this.selectedUnit.default||["A"]}});case o.g1.GPS:return new r.HHl({name:i,port:{port:t||o.px.C,default:n}});case o.g1.ACCEL:return new r._OS({name:i,port:{port:t||o.px.C,default:n}});case o.g1.ACSOCKET:return new r.$pm({name:i,port:{port:t||o.px.B,default:n}});case o.g1.V:return new r.Szs({name:i,port:{port:t||o.px.B,default:n}});case o.g1.IMU:return new r.Dy_({name:i,port:{port:t||o.px.A,default:n}});case o.g1.BPS:return new r.D6t({name:i,port:{port:t||o.px.A,default:n}});case o.g1.TVOC:return new r.Smv({name:i,port:{port:t||o.px.A,default:n}});case o.g1.VMETER:return new r.MW8({name:i,port:{port:t||o.px.A,default:n}});case o.g1.AMETER:return new r.MOA({name:i,port:{port:t||o.px.A,default:n}});case o.g1.OP90:return new r.Ohe({name:i,port:{port:t||o.px.A,default:n}});case o.g1.OP180:return new r.mm1({name:i,port:{port:t||o.px.A,default:n}});case o.g1.HALL:return new r.rwb({name:i,port:{port:t||o.px.A,default:n}});case o.g1.FAN:return new r.ZcI({name:i,port:{port:t||o.px.B,default:n}});case o.g1.VIBRATOR:return new r.UJM({name:i,port:{port:t||o.px.B,default:n}});case o.g1.LASERTX:return new r.gtA({name:i,port:{port:t||o.px.B,default:n}});case o.g1.LASERRX:return new r.DNN({name:i,port:{port:t||o.px.B,default:n}});case o.g1.ULTRASONIC:return new r.UQW({name:i,port:{port:t||o.px.A,default:n}});case o.g1.WATERING:return new r.MuL({name:i,port:{port:t||o.px.B,default:n}});case o.g1.DDS:return new r.W({name:i,port:{port:t||o.px.A,default:n}});case o.g1.UHFRFID:return new r.wKh({name:i,port:{port:t||o.px.C,default:n}});case o.g1.UNITCAM:return new r.u8U({name:i,port:{port:t||o.px.B,default:n}});case o.g1.TIMERCAM:return new r.ybB({name:i,port:{port:t||o.px.B,default:n}});case o.g1.V2:return new r.U7T({name:i,port:{port:t||o.px.C,default:n}});case o.g1.OLED:return new r.QIh({name:i,port:{port:t||o.px.A,default:n}});case o.g1.NBIOT:return new r.gyN({name:i,port:{port:t||o.px.A,default:n}});case o.g1.RS485:return new r.H7M({name:i,port:{port:t||o.px.C,default:n}});case o.g1.ISO485:return new r.dmQ({name:i,port:{port:t||o.px.C,default:n}});case o.g1.LORAWAN470:return new r.T9U({name:i,port:{port:t||o.px.C,default:n}});case o.g1.LORAWAN868:return new r.sbd({name:i,port:{port:t||o.px.C,default:n}});case o.g1.LORAWAN915:return new r.p_6({name:i,port:{port:t||o.px.C,default:n}});case o.g1.FADER:return new r.fmZ({name:i,port:{port:t||o.px.B,default:n}});case o.g1.GESTURE:return new r.stA({name:i,port:{port:t||o.px.A,default:n}});case o.g1.MQTT:return new r.YgK({name:i,port:{port:t||o.px.C,default:n}});case o.g1.RTC:return new r.JVA({name:i,port:{port:t||o.px.A,default:n}});case o.g1.LCD:return new r.PBr({name:i,port:{port:t||o.px.A,default:n}});case o.g1.ROTARY_ENCODER:return new r.vjW({name:i,port:{port:t||o.px.A,default:n}});case o.g1.ID:return new r.e9({name:i,port:{port:t||o.px.A,default:n}});case o.g1.JOYSTICKLED:return new r.YSb({name:i,port:{port:t||o.px.A,default:n}});case o.g1.ENCODER:return new r.QkU({name:i,port:{port:t||o.px.A,default:n}});case o.g1.FADER8:return new r.AIM({name:i,port:{port:t||o.px.A,default:n}});case o.g1.ANGLE8:return new r.g3b({name:i,port:{port:t||o.px.A,default:n}});case o.g1.MIC:return new r.np4({name:i,port:{port:t||o.px.B,default:n}});case o.g1.DLIGHT:return new r.V3k({name:i,port:{port:t||o.px.A,default:n}});case o.g1.PDM:return new r.UDw({name:i,port:{port:t||o.px.A,default:n}});case o.g1.RELAY4:return new r.KpY({name:i,port:{port:t||o.px.A,default:n}});case o.g1.RELAY2:return new r.VY8({name:i,port:{port:t||o.px.A,default:n}});case o.g1.SSR:return new r.HSb({name:i,port:{port:t||o.px.A,default:n}});case o.g1.POESP32:return new r.Gb({name:i,port:{port:t||o.px.C,default:n}});case o.g1.KMETER:return new r.hK0({name:i,port:{port:t||o.px.A,default:n}});case o.g1.SONICIO:return new r.TPv({name:i,port:{port:t||o.px.B,default:n}});case o.g1.CATM:return new r.kVh({name:i,port:{port:t||o.px.C,default:n}});case o.g1.TUBE:return new r.Gfr({name:i,port:{port:t||o.px.B,default:n}});case o.g1.BUZZER:return new r.xts({name:i,port:{port:t||o.px.B,default:n}});case o.g1.LIMIT:return new r.Mi2({name:i,port:{port:t||o.px.B,default:n}});case o.g1.KEY:return new r.gA8({name:i,port:{port:t||o.px.B,default:n}});case o.g1.CATMGNSS:return new r.e5({name:i,port:{port:t||o.px.C,default:n}});case o.g1.DIGICLOCK:return new r.piF({name:i,port:{port:t||o.px.A,default:n}});case o.g1.GROVE2GROVE:return new r.do4({name:i,port:{port:t||o.px.B,default:n}});case o.g1.UWB:return new r.otU({name:i,port:{port:t||o.px.C,default:n}});case o.g1.CO2:return new r.$7I({name:i,port:{port:t||o.px.A,default:n}});case o.g1.ZIGBEE:return new r.h6$({name:i,port:{port:t||o.px.C,default:n}});case o.g1.SCALES:return new r.JGD({name:i,port:{port:t||o.px.A,default:n}});case o.g1.THERMAL2:return new r.yW3({name:i,port:{port:t||o.px.A,default:n}});case o.g1.NCIR2:return new r.BM_({name:i,port:{port:t||o.px.A,default:n}});case o.g1.FLASHLIGHT:return new r.HWk({name:i,port:{port:t||o.px.B,default:n}});case o.g1.ENCODER8:return new r.ilY({name:i,port:{port:t||o.px.A,default:n}});case o.g1.BPSQMP:return new r.ZkP({name:i,port:{port:t||o.px.A,default:n}});case o.g1.CO2L:return new r.nFm({name:i,port:{port:t||o.px.A,default:n}});case o.g1.ACSSR:return new r._W$({name:i,port:{port:t||o.px.A,default:n}});case o.g1.GLASS:return new r.mnq({name:i,port:{port:t||o.px.A,default:n}});case o.g1.KMETERISO:return new r.DbO({name:i,port:{port:t||o.px.A,default:n}});case o.g1.RF433T:return new r.xLY({name:i,port:{port:t||o.px.B,default:n}});case o.g1.RF433R:return new r.LPz({name:i,port:{port:t||o.px.B,default:n}});case o.g1.HBRIDGE:return new r.xBd({name:i,port:{port:t||o.px.A,default:n}});case o.g1.CAN:return new r.cPP({name:i,port:{port:t||o.px.C,default:n}});case o.g1.DCSSR:return new r.SzA({name:i,port:{port:t||o.px.A,default:n}});case o.g1.EXTENCODER:return new r.nYO({name:i,port:{port:t||o.px.A,default:n}});case o.g1.AIN420MA:return new r.$SM({name:i,port:{port:t||o.px.A,default:n}});case o.g1.NECO:return new r.ywi({name:i,port:{port:t||o.px.B,default:n},count:this.selectedUnit.count});case o.g1.ACMEASURE:return new r.CSw({name:i,port:{port:t||o.px.A,default:n}});case o.g1.CATCH:return new r.h4X({name:i,port:{port:t||o.px.B,default:n}});case o.g1.MINIOLED:return new r.lYl({name:i,port:{port:t||o.px.A,default:n}});case o.g1.SERVOS8:return new r.p6x({name:i,port:{port:t||o.px.A,default:n}});case o.g1.ENV4:return new r.B8p({name:i,port:{port:t||o.px.A,default:n}});case o.g1.ENVPRO:return new r.LO2({name:i,port:{port:t||o.px.A,default:n}});case o.g1.GLASS2:return new r.qkD({name:i,port:{port:t||o.px.A,default:n}});case o.g1.IMUPRO:return new r.IKt({name:i,port:{port:t||o.px.A,default:n}});case o.g1.LORAE220:return new r.LIQ({name:i,port:{port:t||o.px.C,default:n}});case o.g1.TOF4M:return new r.EkF({name:i,port:{port:t||o.px.B,default:n}});case o.g1.REFLECTIVEIR:return new r.Usw({name:i,port:{port:t||o.px.B,default:n}});case o.g1.SYNTH:return new r.Dpk({name:i,port:{port:t||o.px.C,default:n}});case o.g1.MINISCALE:return new r.pwT({name:i,port:{port:t||o.px.A,default:n}});case o.g1.QRCODE:return new r.US4({name:i,port:{port:t||o.px.A,default:n}});case o.g1.DAC2:return new r.UXo({name:i,port:{port:t||o.px.A,default:n}});case o.g1.MINICAN:return new r.YIi({name:i,port:{port:t||o.px.C,default:n}});case o.g1.WEIGHTI2C:return new r.ZyP({name:i,port:{port:t||o.px.A,default:n}});case o.g1.BLDCDRIVER:return new r.$0U({name:i,port:{port:t||o.px.A,default:n}});case o.g1.NBIOT2:return new r.ATU({name:i,port:{port:t||o.px.C,default:n}});case o.g1.ROLLER485:return new r.vdB({name:i,port:{port:t||o.px.A,default:n}});case o.g1.LORAE220433:return new r.TWN({name:i,port:{port:t||o.px.C,default:n}});case o.g1.SCROLL:return new r.GHT({name:i,port:{port:t||o.px.A,default:n}});case o.g1.TMOS:return new r.vmT({name:i,port:{port:t||o.px.A,default:n}});case o.g1.DMX:return new r.gWh({name:i,port:{port:t||o.px.C,default:n}})}}createHat(e){let t=this.storeSrv.getHatDefauleName(e),i=this.selectedHat.default||["HAT"],n=this.selectedHat.port||"";switch(e){case o.E2.ENV:return new r.ZsX({name:t,port:{port:n,default:i}});case o.E2.PIR:return new r.HSK({name:t,port:{port:n,default:i}});case o.E2.SPK:return new r.iNJ({name:t,port:{port:n,default:i}});case o.E2.NCIR:return new r.L1x({name:t,port:{port:n,default:i}});case o.E2.ADC:return new r.NM9({name:t,port:{port:n,default:i}});case o.E2.DAC:return new r.fDc({name:t,port:{port:n,default:i}});case o.E2.SERVO:return new r.IDl({name:t,port:{port:n,default:i}});case o.E2.SERVOS:return new r.QWm({name:t,port:{port:n,default:i}});case o.E2.PUPPY:return new r.iuM({name:t,port:{port:n,default:i}});case o.E2.Joystick:return new r.Xad({name:t,port:{port:n,default:i}});case o.E2.BUGC:return new r.S09({name:t,port:{port:n,default:i}});case o.E2.Finger:return new r.fEv({name:t,port:{port:n,default:i}});case o.E2.BeetleC:return new r.WcW({name:t,port:{port:n,default:i}});case o.E2.YUN:return new r.XHn({name:t,port:{port:n,default:i}});case o.E2.JoyC:return new r.XUS({name:t,port:{port:n,default:i}});case o.E2.RoverC:return new r.cRD({name:t,port:{port:n,default:i}});case o.E2.TOF:return new r.Jxw({name:t,port:{port:n,default:i}});case o.E2.Thermal:return new c.j({name:t,port:{port:n,default:i}});case o.E2.CardKb:return new r.Ot6({name:t,port:{port:n,default:i}});case o.E2.ENV2:return new r.gKv({name:t,port:{port:n,default:i}});case o.E2.ENV3:return new r.IUz({name:t,port:{port:n,default:i}});case o.E2.RS485:return new r.dh5({name:t,port:{port:n,default:i}});case o.E2.CBACK:return new r.UCq({name:t,port:{port:n,default:i}});case o.E2.SERVOS8:return new r.HEA({name:t,port:{port:n,default:i}});case o.E2.BALAC:return new r.lWN({name:t,port:{port:n,default:i}});case o.E2.CBACKNBIOT:return new r.EFS({name:t,port:{port:n,default:i}});case o.E2.DLIGHT:return new r.$zo({name:t,port:{port:n,default:i}});case o.E2.HeartRate:return new r.nb7({name:t,port:{port:n,default:i}});case o.E2.MiniEncoderC:return new r.INP({name:t,port:{port:n,default:i}});case o.E2.MiniJoyC:return new r.DQG({name:t,port:{port:n,default:i}});case o.E2.Vibrator:return new r.VjQ({name:t,port:{port:n,default:i}});case o.E2.SPK2:return new r.aEg({name:t,port:{port:n,default:i}});case o.E2.DAC2:return new r.RwY({name:t,port:{port:n,default:i}});case o.E2.BUGC2:return new r.L9i({name:t,port:{port:n,default:i}})}}createStamp(e){let t=this.storeSrv.getStampDefauleName(e),i=this.selectedStamp.port,n=this.selectedStamp.default;switch(e){case o.rf.IO:return new r.n60({name:t,port:{port:i||o.px.A,default:n}});case o.rf.TIMERPOWER:return new r.ftu({name:t,port:{port:i||o.px.A,default:n}});case o.rf.CATM:return new r.joN({name:t,port:{port:i||o.px.C,default:n}})}}keydown(e){27==e.keyCode&&this.cancel()}handle(e){let t=e.target.value;this.isUnit?e.target.checked?(this.Allunit[t]=this.createUnit(t),this.allunit[t]=t):t in this.Allunit&&delete this.Allunit[e.target.value]:!this.isUnit&&this.isStamp?e.target.checked?(this.AllStamp[t]=this.createStamp(t),this.allstamp[t]=t):t in this.AllStamp&&delete this.AllStamp[e.target.value]:e.target.checked?(this.Allhat[t]=this.createHat(t),this.allhat[t]=t):t in this.Allhat&&delete this.Allhat[e.target.value]}ok(){if(this.isUnit){for(let e in this.Allunit){this.storeSrv.addUnit(this.Allunit[e]);let t=this.Allunit[e],i=this.storeSrv.pnpEnable.value;t.hasPnP&&i&&this.pnpSrv.enableUnitPnP(t.type,t.name)}this.globalOperatorSrv.maskModal.instance.removeMask(),this.UIHELP.updateUnitSvg(),this.globalOperatorSrv.codeLock.value||this.codeEditorSrv.updateWorkspaceValue()}else if(!this.isUnit&&this.isStamp){for(let e in this.AllStamp)this.storeSrv.addStamp(this.AllStamp[e]);this.globalOperatorSrv.maskModal.instance.removeMask(),this.UIHELP.updateStampSvg(),this.globalOperatorSrv.codeLock.value||this.codeEditorSrv.updateWorkspaceValue()}else{if(this.storeSrv.getHatList().source._value.length+Object.keys(this.Allhat).length>1)return this.globalOperatorSrv.maskModal.instance.removeMask(),this.swet("You can use at most one HAT at a time. Remove the excess HAT and continue using it."),!1;for(let e in this.Allhat)this.storeSrv.addHat(this.Allhat[e]);this.globalOperatorSrv.maskModal.instance.removeMask(),this.UIHELP.updateHatSvg(),this.globalOperatorSrv.codeLock.value||this.codeEditorSrv.updateWorkspaceValue()}}selectUnit(e){this.selectedUnit!==e&&this.selectedStamp!==e&&(this.isUser=!1),this.isUnit?this.selectedUnit=e:!this.isUnit&&this.isStamp?this.selectedStamp=e:this.selectedHat=e}stopPropagation(e){e.stopPropagation(),e.preventDefault()}setUnit(e,t,i){"port"==i&&(this.isUser=t.target.value===o.Kt,"PAHUB"==t.target.value?this.pbPort&&(this.pbPort.nativeElement.style.display="block"):this.pbPort&&(this.pbPort.nativeElement.style.display="none"));try{if(this.isUnit){let n=t.target.value;if("count"===i){"0"!==n&&(n=n.replace(/^0+/g,""));let e=/^\d*$/g.test(n);if(""===n||n<0||!e)return void this.checkPatten(t.target,!0)}this.checkPatten(t.target,!1),this.Allunit[e][i]=n,this.Allunit[e].user_port=this.unitPort}else if(!this.isUnit&&this.isStamp){let n=t.target.value;this.checkPatten(t.target,!1),this.AllStamp[e][i]=n,this.AllStamp[e].user_port=this.unitPort}else this.Allhat[e][i]=t.target.value}catch(n){}}toDocs(e,t){t.stopPropagation(),window.open(e.url,"_blank")}swet(e){l().fire({icon:"warning",text:e,confirmButtonColor:window.Blockly.Msg.SWAL_DANGER_HUE,confirmButtonText:"OK",allowOutsideClick:!1})}setPort(e,t,i){let n=i.target.value;"0"!==n&&(n=n.replace(/^0+/g,""));let o=/^\d*$/g.test(n);if(""===n||!(n<0)&&o)if(""===n){if(t&&""===this.unitPort[0]||!t&&""===this.unitPort[1])return void this.checkPatten(i.target,!0);this.updatePort(e,t,n),this.checkPatten(i.target,!1)}else this.updatePort(e,t,n),this.checkPatten(i.target,!1);else this.checkPatten(i.target,!0)}updatePort(e,t,i){this.unitPort=t?[this.unitPort[0],i]:[i,this.unitPort[1]],this.isUnit?this.Allunit[e].user_port=this.unitPort:this.AllStamp[e].user_port=this.unitPort}checkPatten(e,t){t?e.classList.add("patten"):e.classList.remove("patten")}handleFilterList(e){if(this.onlyPnp=!this.onlyPnp,this.onlyPnp){let e=this.tempCategory.filter(e=>e.hasPnP);this.category=e,this.clearSelected()}else this.category=this.tempCategory,this.clearSelected();this.searchValue=""}handleSearchList(e){let t=document.querySelector(".list-unit"),i=[];i=this.onlyPnp?this.tempCategory.filter(e=>e.hasPnP):this.tempCategory;let n=e.target.value.trim().toLowerCase();n=n.replace(this.isUnit?/^unit[-_ ]?/i:this.isStamp?/^stamp[-_ ]?/i:/^hat[-_ ]?/i,"");let o={neopixel:"rgbled",track:"trace",nicr:"ncir",tvoc:"tvoceco2",vibrator:"vibratormotor",lcd:"colorlcd",relay4:"4relay",relay2:"2relay",sonic_io:"ultrasonicio",tube:"tubepressure",dual_button:"dualbutton",unit_imu:"imu",laser_tx:"lasertx",laser_rx:"laserrx",uhf_rfid:"uhfrfid",unitcam:"cam",ext_io:"extio",ext_io2:"extio2",catm_gnss:"catmgnss",digi_clock:"digiclock",grove:"grove2grove",flash:"flashlight",angle8:"8angle",encoder8:"8encoder",bpsv11:"bpsv1.1",ac_measure:"acmeasure",mini_oled:"minioled",servos8:"8servos",adcv11:"adcv1.1",imu_pro:"imupro",reflective_ir:"reflectiveir",mini_can:"minican",weight_i2c:"weighti2c",bldc_driver:"bldcdriver"},r={balac:"balacplus",cback:"cbackdriver",cback_nbiot:"cbacknbiotcn",thermal:"thermalcamera",mini_encoderc:"miniencoderc",mini_joyc:"minijoyc",dac2_hat:"dac2hat"},s=i.filter(e=>{let t="";return this.isUnit?(t=e.type.toLowerCase(),t in o&&(t=o[t])):this.isStamp?t=e.type.toLowerCase().replace(/_/i,""):(t=e.type.toLowerCase().replace(/^hat_/i,""),t in r&&(t=r[t])),t.includes(n)});this.category=n?s:i,0!==t.scrollTop&&(t.scrollTop=0),setTimeout(()=>{let e=document.getElementsByClassName("selectUint"),t=Array.from(e).filter(e=>this.isUnit?this.Allunit.hasOwnProperty(e.id):this.isStamp?this.AllStamp.hasOwnProperty(e.id):this.Allhat.hasOwnProperty(e.id));for(let i=0;i<t.length;i++)t[i].checked=!0},0)}clearSelected(){let e=document.getElementsByClassName("selectUint");for(let t=0;t<e.length;t++)e[t].checked=!1;this.allunit={},this.Allunit={}}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(u.t),n.Y36(d.d),n.Y36(p._),n.Y36(g.j),n.Y36(f.h),n.Y36(m.r))},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-unit-modal"]],viewQuery:function(e,t){if(1&e&&(n.Gf(y,5),n.Gf(b,5)),2&e){let e;n.iGM(e=n.CRH())&&(t.pbPort=e.first),n.iGM(e=n.CRH())&&(t.search=e.first)}},decls:22,vars:12,consts:[[1,"wrapper--unit-modal"],[1,"unit-modal"],[4,"ngIf","ngIfElse"],["elseHeader",""],["class","filter-box",4,"ngIf"],[1,"search-box"],["id","searchIcon",1,"searchIcon","searchIconImg"],["type","text","placeholder","Search",3,"ngModel","ngModelChange","input"],["search",""],[3,"formGroup","keyup.enter"],[1,"list-unit"],["class","item-unit",3,"disable","isnone","mousedown",4,"ngFor","ngForOf"],[1,"btn","cancel",3,"click"],[1,"btn","ok",3,"click"],["hat",""],[1,"filter-box"],["type","checkbox",3,"value","change"],[1,"item-unit",3,"mousedown"],["type","checkbox",1,"selectUint",3,"value","id","change"],[1,"checkbox"],["src","../../../assets/images/check.png","alt","checked"],[1,"help",3,"click"],["src","../../../assets/images/units/wenhaow.png","alt","help"],[1,"into",3,"for"],["alt","",1,"unitImg",3,"src"],["class","pnp-icon","src","../../../assets/images/pnp-logo.svg",4,"ngIf"],["class","config-unit",3,"click",4,"ngIf"],["src","../../../assets/images/pnp-logo.svg",1,"pnp-icon"],[1,"config-unit",3,"click"],[1,"unit-param"],[3,"formControlName","change"],["portSelect",""],[3,"value",4,"ngFor","ngForOf"],["class","unit-param isUser",4,"ngIf"],["class","unit-param",3,"isUserCount",4,"ngIf"],["class","unit-param",3,"isUserMode",4,"ngIf"],["class","unit-param unit_pb_port",4,"ngIf"],[3,"value"],[1,"unit-param","isUser"],[1,"portName"],["type","number",1,"userInput",3,"value","input"],["type","number",3,"value","input"],[1,"unit-param","unit_pb_port"],["pbPort",""],["type","string",3,"value","input"]],template:function(e,t){if(1&e&&(n.TgZ(0,"div",0),n.TgZ(1,"div",1),n.TgZ(2,"header"),n.TgZ(3,"p"),n.YNc(4,w,3,3,"span",2),n.YNc(5,T,3,2,"ng-template",null,3,n.W1O),n.YNc(7,C,3,0,"span",4),n.TgZ(8,"span",5),n._UZ(9,"i",6),n.TgZ(10,"input",7,8),n.NdJ("ngModelChange",function(e){return t.searchValue=e})("input",function(e){return t.handleSearchList(e)}),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.TgZ(12,"form",9),n.NdJ("keyup.enter",function(){return t.ok()}),n.TgZ(13,"ul",10),n.YNc(14,L,10,10,"li",11),n.qZA(),n.qZA(),n.TgZ(15,"footer"),n.TgZ(16,"button",12),n.NdJ("click",function(){return t.cancel()}),n._uU(17),n.ALo(18,"translate"),n.qZA(),n.TgZ(19,"button",13),n.NdJ("click",function(){return t.ok()}),n._uU(20),n.ALo(21,"translate"),n.qZA(),n.qZA(),n.qZA(),n.qZA()),2&e){const e=n.MAs(6);n.xp6(4),n.Q6J("ngIf",t.isUnit)("ngIfElse",e),n.xp6(3),n.Q6J("ngIf",t.isUnit),n.xp6(3),n.Q6J("ngModel",t.searchValue),n.xp6(2),n.Q6J("formGroup",t.form),n.xp6(2),n.Q6J("ngForOf",t.category),n.xp6(3),n.Oqu(n.lcZ(18,8,"CANCEL")),n.xp6(3),n.Oqu(n.lcZ(21,10,"OK"))}},directives:[_.O5,h.Fj,h.JJ,h.On,h._Y,h.JL,h.sg,_.sg,h.EJ,h.u,h.YN,h.Kr],pipes:[v.X$],styles:['.wrapper--unit-modal[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;-webkit-animation:zoomIn .35s ease;animation:zoomIn .35s ease;font-family:Arial}.unit-modal[_ngcontent-%COMP%]{width:85%;position:relative;top:50%;left:50%;transform:translate(-50%,-50%);background-color:#2d2d2d;border-radius:8px}header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{position:relative;padding:8px 12px;display:flex;align-items:center;border-bottom:1px solid #555;font-family:Arial;color:#fff;font-size:22px;font-weight:bolder}footer[_ngcontent-%COMP%]{text-align:right;border-top:1px solid #555}footer[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{outline:none;padding:6px 16px;font-size:18px;border:none;border-radius:5px;margin:12px 8px;color:#fff;cursor:pointer;font-weight:bolder}footer[_ngcontent-%COMP%]   .btn.cancel[_ngcontent-%COMP%]{background-color:#ff5f2e}footer[_ngcontent-%COMP%]   .btn.ok[_ngcontent-%COMP%]{background-color:#3ac569}.list-unit[_ngcontent-%COMP%]{padding:0 20px;display:flex;height:320px;overflow-y:scroll;flex-direction:row;margin:20px 0;flex-wrap:wrap}.item-unit[_ngcontent-%COMP%]{position:relative;list-style-type:none;width:87px;height:197px;margin:16px 16px 0;cursor:pointer}.item-unit.disable[_ngcontent-%COMP%]{pointer-events:none;filter:brightness(50%)}.item-unit.disable[_ngcontent-%COMP%]:after{content:"";display:block;filter:brightness(100%);position:absolute;width:48px;height:48px;top:17px;left:50%;transform:translate(-50%);background-image:url(jinzhi.26ab77ffd97e9b2d1660.png)}.item-unit.isnone[_ngcontent-%COMP%]{display:none}.item-unit[_ngcontent-%COMP%]   .selectUint[_ngcontent-%COMP%]{width:88px;position:absolute;top:-15px;height:100px;z-index:3;opacity:0;cursor:pointer}.item-unit[_ngcontent-%COMP%]   .selectUint[_ngcontent-%COMP%] + span[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{display:none}.item-unit[_ngcontent-%COMP%]   .selectUint[_ngcontent-%COMP%]:checked + span[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{display:inline-block}.item-unit[_ngcontent-%COMP%]   .unitImg[_ngcontent-%COMP%]{max-width:100%}.item-unit[_ngcontent-%COMP%]   .config-unit[_ngcontent-%COMP%]{margin-top:10px}.item-unit[_ngcontent-%COMP%]   .config-unit[_ngcontent-%COMP%]   .unit-param[_ngcontent-%COMP%]{margin-bottom:6px}.item-unit[_ngcontent-%COMP%]   .config-unit[_ngcontent-%COMP%]   .unit-param[_ngcontent-%COMP%]   input.patten[_ngcontent-%COMP%]{border:1px solid red;outline:1px solid red}.item-unit[_ngcontent-%COMP%]   .into[_ngcontent-%COMP%]{display:inline-block;position:relative}.item-unit[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block;margin:0 auto;opacity:1}.item-unit[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:Arial;color:#eee}.item-unit[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .item-unit[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;outline:none;background-color:#fff;border:none;border-radius:2px;color:#333}.item-unit[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:3px}.item-unit[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]{position:absolute;right:-8px;top:-8px;background-color:#fff;width:16px;height:16px;color:#fff;border-radius:3px;z-index:2}.item-unit[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block}.item-unit[_ngcontent-%COMP%]   .help[_ngcontent-%COMP%]{position:absolute;width:16px;height:16px;right:-8px;top:16px;cursor:help;z-index:4}@media only screen and (min-width: 320px) and (max-height: 767px){.list-unit[_ngcontent-%COMP%]{padding:0 20px;display:flex;height:160px;overflow-y:scroll;flex-direction:row;margin:20px 0;flex-wrap:wrap}}.unit_pb_port[_ngcontent-%COMP%]{display:none}.active[_ngcontent-%COMP%]{display:block}.config-unit[_ngcontent-%COMP%]{margin:0!important}.portName[_ngcontent-%COMP%]{font-size:10px;margin-right:4px}.userInput[_ngcontent-%COMP%]{width:44%!important;height:17px;margin-bottom:1px}.isUserCount[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:10px;display:inline-block;margin-right:1px}.isUserCount[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:44%!important;display:inline-block}.isUserMode[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:10px;display:inline-block;margin-right:1px}.isUserMode[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:60%!important;display:inline-block}.isUser[_ngcontent-%COMP%]{margin-bottom:2px!important}.pnp-icon[_ngcontent-%COMP%]{position:absolute;left:-11px;bottom:0;width:24px;height:24px;font-size:12px;line-height:18px;color:#fff;text-align:center}.filter-box[_ngcontent-%COMP%]{margin-left:30px;font-size:16px;font-weight:normal;color:#fff}.filter-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle}.search-box[_ngcontent-%COMP%]{margin-left:30px}.search-box[_ngcontent-%COMP%]   .searchIconImg[_ngcontent-%COMP%]{width:32px;height:32px;background-image:url(search_black.c78314c3262d44073499.png);background-position:4px 3px;cursor:default}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:0 5 0 30px;width:150px;height:28px;line-height:28px;font-size:16px;border-radius:5px;border:none;outline:none}']}),e})();var B=i(65126),D=i(52634),N=i(36623);function F(e,t){1&e&&(n.TgZ(0,"span"),n._uU(1,"|"),n.qZA())}function H(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"a",4),n.NdJ("click",function(){return n.CHM(e),n.oxw().selectFile("wav")}),n._uU(1),n.ALo(2,"translate"),n.qZA()}if(2&e){const e=n.oxw();n.ekj("selected","wav"===e.selectedFileType),n.xp6(1),n.Oqu(n.lcZ(2,3,"WAV"))}}function $(e,t){1&e&&(n.TgZ(0,"p",13),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&e&&(n.xp6(1),n.Oqu(n.lcZ(2,1,"NODATA")))}function z(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"li",14),n.TgZ(1,"span"),n._uU(2),n.qZA(),n.TgZ(3,"button",15),n.NdJ("click",function(){const t=n.CHM(e).$implicit;return n.oxw(2).deleteM5FHandler(t)}),n._uU(4),n.ALo(5,"translate"),n.qZA(),n.TgZ(6,"button",16),n.NdJ("click",function(){const t=n.CHM(e).$implicit;return n.oxw(2).loadM5FHandler(t)}),n._uU(7),n.qZA(),n.qZA()}if(2&e){const e=t.$implicit;n.xp6(2),n.Oqu(e),n.xp6(2),n.Oqu(n.lcZ(5,3,"DELETE")),n.xp6(3),n.Oqu("Load")}}function V(e,t){if(1&e&&(n.TgZ(0,"ul",10),n.YNc(1,$,3,3,"p",11),n.ALo(2,"async"),n.YNc(3,z,8,5,"li",12),n.ALo(4,"async"),n.qZA()),2&e){const e=n.oxw();let t,i;n.xp6(1),n.Q6J("ngIf",0===(null==(t=n.lcZ(2,2,e.deviceInfo$))||null==t.blocklys?null:t.blocklys.length)),n.xp6(2),n.Q6J("ngForOf",null==(i=n.lcZ(4,4,e.deviceInfo$))?null:i.blocklys)}}function K(e,t){if(1&e&&(n.TgZ(0,"span",23),n._uU(1),n.qZA()),2&e){const e=n.oxw(2);n.xp6(1),n.Oqu(e.isCoreTwo?"(Support PNG, less than 50kb)":"(Support BMP/JPG/JPEG/PNG/PBM,less than 50kb)")}}function W(e,t){1&e&&(n.TgZ(0,"span",23),n._uU(1,"(Support BMP/JPG/JPEG/PBM, less than 50kb)"),n.qZA())}function G(e,t){if(1&e&&n._UZ(0,"input",24),2&e){const e=n.oxw(2);n.s9C("accept",e.isCoreTwo?"image/png":".bmp,.jpeg,.jpg,.png,.pbm")}}function Y(e,t){1&e&&n._UZ(0,"input",25)}function j(e,t){1&e&&(n.TgZ(0,"p",13),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&e&&(n.xp6(1),n.Oqu(n.lcZ(2,1,"NODATA")))}function X(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"li",14),n.TgZ(1,"span"),n._uU(2),n.qZA(),n.TgZ(3,"button",15),n.NdJ("click",function(){n.CHM(e);const t=n.oxw().$implicit;return n.oxw(2).deleteImageHandler(t.filename)}),n._uU(4),n.ALo(5,"translate"),n.qZA(),n.qZA()}if(2&e){const e=n.oxw().$implicit;n.xp6(2),n.Oqu(e.filename),n.xp6(2),n.Oqu(n.lcZ(5,2,"DELETE"))}}function J(e,t){if(1&e&&(n.ynx(0),n.YNc(1,X,6,4,"li",26),n.BQk()),2&e){const e=t.$implicit;n.xp6(1),n.Q6J("ngIf","error.jpg"!==e.filename&&"error.png"!==e.filename&&"temp.png"!==e.filename)}}function Q(e,t){if(1&e&&(n.TgZ(0,"li",27),n.TgZ(1,"span"),n._uU(2),n.qZA(),n.TgZ(3,"button",28),n._uU(4),n.ALo(5,"translate"),n.qZA(),n.qZA()),2&e){const e=n.oxw(2);n.xp6(2),n.Oqu(e.uploadingFile),n.xp6(2),n.Oqu(n.lcZ(5,2,"UPLOAD"))}}function ee(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"ul",10),n.TgZ(1,"div"),n.TgZ(2,"button",17),n.NdJ("click",function(){return n.CHM(e),n.oxw().uploadFileHandler("img")}),n._uU(3),n.ALo(4,"translate"),n.qZA(),n.YNc(5,K,2,1,"span",18),n.YNc(6,W,2,0,"span",18),n.YNc(7,G,1,1,"input",19),n.YNc(8,Y,1,0,"input",20),n.qZA(),n.YNc(9,j,3,3,"p",11),n.ALo(10,"async"),n.YNc(11,J,2,1,"ng-container",21),n.ALo(12,"async"),n.YNc(13,Q,6,4,"li",22),n.qZA()}if(2&e){const e=n.oxw();let t,i;n.xp6(2),n.Q6J("disabled",e.uploading),n.xp6(1),n.hij("",n.lcZ(4,9,"ADDIMG")," "),n.xp6(2),n.Q6J("ngIf",!e.isCoreInk),n.xp6(1),n.Q6J("ngIf",e.isCoreInk),n.xp6(1),n.Q6J("ngIf",!e.isCoreInk),n.xp6(1),n.Q6J("ngIf",e.isCoreInk),n.xp6(1),n.Q6J("ngIf",0===(null==(t=n.lcZ(10,11,e.deviceInfo$))||null==t.resources?null:t.resources.length)&&""===e.uploadingFile),n.xp6(2),n.Q6J("ngForOf",null==(i=n.lcZ(12,13,e.deviceInfo$))?null:i.resources),n.xp6(2),n.Q6J("ngIf",""!==e.uploadingFile)}}function te(e,t){1&e&&(n.TgZ(0,"p",13),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&e&&(n.xp6(1),n.Oqu(n.lcZ(2,1,"NODATA")))}function ie(e,t){if(1&e){const e=n.EpF();n.ynx(0),n.TgZ(1,"li",14),n.TgZ(2,"span"),n._uU(3),n.qZA(),n.TgZ(4,"button",15),n.NdJ("click",function(){const t=n.CHM(e).$implicit;return n.oxw(2).deleteWavHandler(t)}),n._uU(5),n.ALo(6,"translate"),n.qZA(),n.qZA(),n.BQk()}if(2&e){const e=t.$implicit;n.xp6(3),n.Oqu(e),n.xp6(2),n.Oqu(n.lcZ(6,2,"DELETE"))}}function ne(e,t){if(1&e&&(n.TgZ(0,"li",27),n.TgZ(1,"span"),n._uU(2),n.qZA(),n.TgZ(3,"button",28),n._uU(4),n.ALo(5,"translate"),n.qZA(),n.qZA()),2&e){const e=n.oxw(2);n.xp6(2),n.Oqu(e.uploadingFile),n.xp6(2),n.Oqu(n.lcZ(5,2,"UPLOAD"))}}function oe(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"ul",10),n.TgZ(1,"div"),n.TgZ(2,"button",17),n.NdJ("click",function(){return n.CHM(e),n.oxw().uploadFileHandler("wav")}),n._uU(3),n.ALo(4,"translate"),n.qZA(),n.TgZ(5,"span",23),n._uU(6,"(Only support core2 or Tough, less than 500kb)"),n.qZA(),n._UZ(7,"input",29),n.qZA(),n.YNc(8,te,3,3,"p",11),n.ALo(9,"async"),n.YNc(10,ie,7,4,"ng-container",21),n.ALo(11,"async"),n.YNc(12,ne,6,4,"li",22),n.qZA()}if(2&e){const e=n.oxw();let t,i;n.xp6(2),n.Q6J("disabled",e.uploading),n.xp6(1),n.hij("",n.lcZ(4,5,"ADDWAV")," "),n.xp6(5),n.Q6J("ngIf",0===(null==(t=n.lcZ(9,7,e.deviceInfo$))||null==t.wavs?null:t.wavs.length)&&""===e.uploadingFile),n.xp6(2),n.Q6J("ngForOf",null==(i=n.lcZ(11,9,e.deviceInfo$))?null:i.wavs),n.xp6(2),n.Q6J("ngIf",""!==e.uploadingFile)}}function re(e,t){1&e&&(n.TgZ(0,"p",13),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&e&&(n.xp6(1),n.Oqu(n.lcZ(2,1,"NODATA")))}function se(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"li",14),n.TgZ(1,"span"),n._uU(2),n.qZA(),n.TgZ(3,"button",15),n.NdJ("click",function(){const t=n.CHM(e).$implicit;return n.oxw(2).deleteKeyHandler(t)}),n._uU(4),n.ALo(5,"translate"),n.qZA(),n.qZA()}if(2&e){const e=t.$implicit;n.xp6(2),n.Oqu(e),n.xp6(2),n.Oqu(n.lcZ(5,2,"DELETE"))}}function ae(e,t){if(1&e&&(n.TgZ(0,"li",27),n.TgZ(1,"span"),n._uU(2),n.qZA(),n.TgZ(3,"button",28),n._uU(4),n.ALo(5,"translate"),n.qZA(),n.qZA()),2&e){const e=n.oxw(2);n.xp6(2),n.Oqu(e.uploadingFile),n.xp6(2),n.Oqu(n.lcZ(5,2,"UPLOAD"))}}function le(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"ul",10),n.TgZ(1,"div"),n.TgZ(2,"button",17),n.NdJ("click",function(){return n.CHM(e),n.oxw().uploadFileHandler("key")}),n._uU(3),n.ALo(4,"translate"),n.qZA(),n._UZ(5,"input",30),n.qZA(),n.YNc(6,re,3,3,"p",11),n.ALo(7,"async"),n.YNc(8,se,6,4,"li",12),n.ALo(9,"async"),n.YNc(10,ae,6,4,"li",22),n.qZA()}if(2&e){const e=n.oxw();let t,i;n.xp6(2),n.Q6J("disabled",e.uploading),n.xp6(1),n.hij("",n.lcZ(4,5,"ADDKEY")," "),n.xp6(3),n.Q6J("ngIf",0===(null==(t=n.lcZ(7,7,e.deviceInfo$))||null==t.keys?null:t.keys.length)&&""===e.uploadingFile),n.xp6(2),n.Q6J("ngForOf",null==(i=n.lcZ(9,9,e.deviceInfo$))?null:i.keys),n.xp6(2),n.Q6J("ngIf",""!==e.uploadingFile)}}let ce=(()=>{class e{constructor(e,t,i,n,r){this.globalOperatorSrv=e,this.storeSrv=t,this.uploadSrv=i,this.translate=n,this.seniorOperatorSrv=r,this.isCoreInk=sessionStorage.getItem("_type")===o.__.COREINK,this.selectedFileType="images",this.uploadingFile="",this.uploading=!1}ngOnInit(){this.deviceInfo$=this.storeSrv.getDeviceInfo();let e=sessionStorage.getItem("_type");this.isCoreTwo=[o.__.CORETWO,o.__.TOUGH].indexOf(e)>-1}refresh(){this.uploadSrv.getDeviceInfo().subscribe(e=>{},e=>{this.seniorOperatorSrv.requestError(0,e)})}cancel(){this.globalOperatorSrv.maskModal.instance.removeMask()}selectFile(e){this.selectedFileType=e}uploadFileHandler(e){let t="__uploadImgBox",i=50,n="FILE_SIZE_ERROR",o=/\.(pbm|PBM|jpg|JPG|jpeg|JPEG|bmp|BMP|png|PNG)$/;switch(e){case"key":t="__uploadKeyBox",o=/\.(crt|key|KEY|CRT|pem|PEM)$/;break;case"wav":t="__uploadWavBox",i=500,n="WAVFILE_SIZE_ERROR",o=/\.(wav|\.WAV)$/}let r=document.getElementById(t);r.click(),r.onchange=t=>{if(0===t.target.files.length)return t.target.value="",void this.globalOperatorSrv.createMessageBox().instance.error("");if(t.target.files[0].size>1e3*i)return t.target.value="",void this.translate.get(n).subscribe(e=>{this.globalOperatorSrv.createMessageBox().instance.error(e)});const r=t.target.files[0].name.replace(o,"");if(r.length>30)return t.target.value="",void this.translate.get("FILE_NAME_EROR").subscribe(e=>{this.globalOperatorSrv.createMessageBox().instance.error(e)});if(r.length>0&&/[^A-Za-z0-9_.@\$\^&\-\+\~()!\s]+/.test(r))return t.target.value="",void this.globalOperatorSrv.createMessageBox().instance.error("Filename must be English or number or special characters (.@$^&()!_-+~).");this.uploadingFile=t.target.files[0].name,this.uploading=!0;let s=t.target.files[0];this.uploadSrv.uploadImg(t.target.files[0]).subscribe(i=>{if(200===i.status){let i=new FileReader,n=this;i.onload=function(){let t=n.storeSrv.deviceInfo.value;"key"===e?0===t.keys.filter(e=>e===s.name).length&&t.keys.push(s.name):"wav"===e?0===t.wavs.filter(e=>e===s.name).length&&t.wavs.push(s.name):0===t.resources.filter(e=>e.filename===s.name).length?(t.resources.push({filename:s.name,base64:this.result.toString()}),window.Blockly.ResImages.push(s.name)):t.resources.forEach(e=>{e.filename===s.name&&(e.base64=this.result.toString())}),n.storeSrv.setDeviceInfo(t)},i.readAsDataURL(s),t.target.value="",this.uploadingFile="",this.uploading=!1}},e=>{this.seniorOperatorSrv.requestError(0,e),t.target.value="",this.uploadingFile="",this.uploading=!1})}}deleteImageHandler(e){!window.confirm("Are you sure you want to remove this file from your device?")||this.uploadSrv.deleteImg(e).subscribe(t=>{let i=this.storeSrv.deviceInfo.value;i.resources.splice(i.resources.findIndex(t=>t.filename===e),1),this.storeSrv.setDeviceInfo(i)},e=>{})}loadM5FHandler(e){this.uploadSrv.loadBlocklyFile(e).subscribe(e=>{let t=e,i=t.type?t.type:"core";sessionStorage.getItem("_type")!==i&&this.storeSrv.setType(i),this.globalOperatorSrv.openM5F(t),this.cancel()})}deleteM5FHandler(e){!window.confirm("Are you sure you want to remove this file?")||this.uploadSrv.deleteBlocklyFile(e).subscribe(t=>{let i=this.storeSrv.deviceInfo.value;i.blocklys.splice(i.blocklys.findIndex(t=>t===e),1),this.storeSrv.setDeviceInfo(i)})}deleteKeyHandler(e){!window.confirm("Are you sure you want to remove this file from your device?")||this.uploadSrv.deleteImg(e).subscribe(t=>{let i=this.storeSrv.deviceInfo.value;i.keys.splice(i.keys.findIndex(t=>t===e),1),this.storeSrv.setDeviceInfo(i)},e=>{})}deleteWavHandler(e){!window.confirm("Are you sure you want to remove this file from your device?")||this.uploadSrv.deleteImg(e).subscribe(t=>{let i=this.storeSrv.deviceInfo.value;i.wavs.splice(i.wavs.findIndex(t=>t===e),1),this.storeSrv.setDeviceInfo(i)},e=>{})}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(u.t),n.Y36(d.d),n.Y36(D.C),n.Y36(v.sK),n.Y36(N.V))},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-resource-manager"]],decls:34,vars:30,consts:[[1,"wrapper--resource-manager"],[1,"resource-manager"],[1,"main"],[1,"file-type"],[3,"click"],[4,"ngIf"],[3,"selected","click",4,"ngIf"],["class","ul--data",4,"ngIf"],[1,"btn","cancel",3,"click"],[1,"btn","ok",3,"click"],[1,"ul--data"],["class","txt--no-data",4,"ngIf"],["class","list-file",4,"ngFor","ngForOf"],[1,"txt--no-data"],[1,"list-file"],[1,"btn","delete",3,"click"],[1,"btn","load",3,"click"],[1,"btn--add",3,"disabled","click"],["class","btn-tips",4,"ngIf"],["id","__uploadImgBox","type","file","multiple","false","style","display:none",3,"accept",4,"ngIf"],["id","__uploadImgBox","type","file","multiple","false","accept",".bmp,.jpeg,.jpg,.pbm","style","display:none",4,"ngIf"],[4,"ngFor","ngForOf"],["class","list-file uploading",4,"ngIf"],[1,"btn-tips"],["id","__uploadImgBox","type","file","multiple","false",2,"display","none",3,"accept"],["id","__uploadImgBox","type","file","multiple","false","accept",".bmp,.jpeg,.jpg,.pbm",2,"display","none"],["class","list-file",4,"ngIf"],[1,"list-file","uploading"],["disabled","",1,"btn--disabled"],["id","__uploadWavBox","type","file","multiple","false","accept",".wav",2,"display","none"],["id","__uploadKeyBox","type","file","multiple","false","accept",".key,.crt,.pem",2,"display","none"]],template:function(e,t){1&e&&(n.TgZ(0,"div",0),n.TgZ(1,"div",1),n.TgZ(2,"header"),n.TgZ(3,"p"),n._uU(4),n.ALo(5,"translate"),n.qZA(),n.qZA(),n.TgZ(6,"div",2),n.TgZ(7,"div",3),n.TgZ(8,"a",4),n.NdJ("click",function(){return t.selectFile("images")}),n._uU(9),n.ALo(10,"translate"),n.qZA(),n.YNc(11,F,2,0,"span",5),n.YNc(12,H,3,5,"a",6),n.TgZ(13,"span"),n._uU(14,"|"),n.qZA(),n.TgZ(15,"a",4),n.NdJ("click",function(){return t.selectFile("blocklys")}),n._uU(16),n.ALo(17,"translate"),n.qZA(),n.TgZ(18,"span"),n._uU(19,"|"),n.qZA(),n.TgZ(20,"a",4),n.NdJ("click",function(){return t.selectFile("key")}),n._uU(21),n.ALo(22,"translate"),n.qZA(),n.qZA(),n.YNc(23,V,5,6,"ul",7),n.YNc(24,ee,14,15,"ul",7),n.YNc(25,oe,13,11,"ul",7),n.YNc(26,le,11,11,"ul",7),n.qZA(),n.TgZ(27,"footer"),n.TgZ(28,"button",8),n.NdJ("click",function(){return t.cancel()}),n._uU(29),n.ALo(30,"translate"),n.qZA(),n.TgZ(31,"button",9),n.NdJ("click",function(){return t.refresh()}),n._uU(32),n.ALo(33,"translate"),n.qZA(),n.qZA(),n.qZA(),n.qZA()),2&e&&(n.xp6(4),n.Oqu(n.lcZ(5,18,"RESOURCEMANAGER")),n.xp6(4),n.ekj("selected","images"===t.selectedFileType),n.xp6(1),n.Oqu(n.lcZ(10,20,"IMAGES")),n.xp6(2),n.Q6J("ngIf",t.isCoreTwo),n.xp6(1),n.Q6J("ngIf",t.isCoreTwo),n.xp6(3),n.ekj("selected","blocklys"===t.selectedFileType),n.xp6(1),n.hij("",n.lcZ(17,22,"BLOCKLYS")," (.m5f)"),n.xp6(4),n.ekj("selected","key"===t.selectedFileType),n.xp6(1),n.Oqu(n.lcZ(22,24,"CERTIFICATE")),n.xp6(2),n.Q6J("ngIf","blocklys"===t.selectedFileType),n.xp6(1),n.Q6J("ngIf","images"===t.selectedFileType),n.xp6(1),n.Q6J("ngIf","wav"===t.selectedFileType),n.xp6(1),n.Q6J("ngIf","key"===t.selectedFileType),n.xp6(3),n.Oqu(n.lcZ(30,26,"CANCEL")),n.xp6(3),n.Oqu(n.lcZ(33,28,"RELOAD")))},directives:[_.O5,_.sg],pipes:[v.X$,_.Ov],styles:[".wrapper--resource-manager[_ngcontent-%COMP%]{width:100%;height:100%;-webkit-animation:zoomIn .35s ease;animation:zoomIn .35s ease}.resource-manager[_ngcontent-%COMP%]{width:70%;background-color:#383838;position:relative;top:50%;left:50%;transform:translate(-50%,-50%);border-radius:10px}header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding:8px 12px;font-size:28px;font-family:Arial;border-bottom:1px solid #555;color:#fff;font-weight:bolder}footer[_ngcontent-%COMP%]{text-align:right;border-top:1px solid #555}footer[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{outline:none;padding:6px 16px;font-size:18px;border:none;border-radius:5px;margin:12px 8px;color:#fff;cursor:pointer;font-weight:bolder;font-family:Arial}footer[_ngcontent-%COMP%]   .btn.cancel[_ngcontent-%COMP%]{background-color:#ff5f2e}footer[_ngcontent-%COMP%]   .btn.ok[_ngcontent-%COMP%]{background-color:#3ac569}.main[_ngcontent-%COMP%]{padding:0 20px;min-height:200px;max-height:45vw;overflow-y:auto}.main[_ngcontent-%COMP%]   .ul--data[_ngcontent-%COMP%]{font-family:Arial;padding:10px 0}.main[_ngcontent-%COMP%]   .ul--data[_ngcontent-%COMP%]   .txt--no-data[_ngcontent-%COMP%]{text-align:center;font-size:20px;color:#888;margin:20px 0;font-family:Arial}.main[_ngcontent-%COMP%]   .ul--data[_ngcontent-%COMP%]   .btn--add[_ngcontent-%COMP%]{outline:none;border:none;border-radius:4px;padding:4px 12px;cursor:pointer;color:#fff;background-color:#2b90d9;font-size:16px;font-family:Arial}.main[_ngcontent-%COMP%]   .ul--data[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:none;padding:10px;border-bottom:1px #aaa solid}.main[_ngcontent-%COMP%]   .ul--data[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#fff;font-family:Arial}.main[_ngcontent-%COMP%]   .ul--data[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{outline:none;border:none;border-radius:4px;padding:4px 12px;cursor:pointer;color:#fff;font-size:16px;float:right;font-family:Arial;margin:0 6px}.main[_ngcontent-%COMP%]   .ul--data[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button.btn--disabled[_ngcontent-%COMP%]{background-color:gray}.main[_ngcontent-%COMP%]   .ul--data[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button.delete[_ngcontent-%COMP%]{background-color:#e53a40}.main[_ngcontent-%COMP%]   .ul--data[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button.load[_ngcontent-%COMP%]{background-color:#30a9de}.file-type[_ngcontent-%COMP%]{padding:8px 0 0}.file-type[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:underline;cursor:pointer;font-size:20px;color:#9e9e9e;font-family:Arial}.file-type[_ngcontent-%COMP%]   a.selected[_ngcontent-%COMP%]{color:#fff}.file-type[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin:0 12px;color:#fff}.btn-tips[_ngcontent-%COMP%]{margin-left:8px;font-size:15px;color:#fd2929}"]}),e})();const he={Beta:{"1.2.2":{en:"New stick-C module and modify UI",es:"\u65b0\u589estick-C\u6a21\u5757\u4e14\u4fee\u6539ui","zh-cn":"\u65b0\u589estick-C\u6a21\u5757\u4e14\u4fee\u6539ui",ja:"stick-C\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u65b0\u898f\u5316\u3057\u3001ui\u3092\u4fee\u6b63\u3059\u308b",ko:"stick-C \ubaa8\ub4c8\uc744 \ucd94\uac00\ud558\uace0 ui\ub97c \uc218\uc815\ud569\ub2c8\ub2e4",ru:"\u041d\u043e\u0432\u044b\u0439 \u043c\u043e\u0434\u0443\u043b\u044c stick-C \u0438 \u043c\u043e\u0434\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u044f ui",th:"\u0e40\u0e1e\u0e34\u0e48\u0e21\u0e42\u0e21\u0e14\u0e39\u0e25\u0e41\u0e1a\u0e1a\u0e04\u0e07\u0e17\u0e35\u0e48\u0e41\u0e25\u0e30\u0e1b\u0e23\u0e31\u0e1a\u0e40\u0e1b\u0e25\u0e35\u0e48\u0e22\u0e19 UI"},"1.2.3":{en:"New stick-C module and modify UI",es:"\u65b0\u589estick-C\u6a21\u5757\u4e14\u4fee\u6539ui","zh-cn":"\u65b0\u589estick-C\u6a21\u5757\u4e14\u4fee\u6539ui",ja:"stick-C\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u65b0\u898f\u5316\u3057\u3001ui\u3092\u4fee\u6b63\u3059\u308b",ko:"stick-C \ubaa8\ub4c8\uc744 \ucd94\uac00\ud558\uace0 ui\ub97c \uc218\uc815\ud569\ub2c8\ub2e4",ru:"\u041d\u043e\u0432\u044b\u0439 \u043c\u043e\u0434\u0443\u043b\u044c stick-C \u0438 \u043c\u043e\u0434\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u044f ui",th:"\u0e40\u0e1e\u0e34\u0e48\u0e21\u0e42\u0e21\u0e14\u0e39\u0e25\u0e41\u0e1a\u0e1a\u0e04\u0e07\u0e17\u0e35\u0e48\u0e41\u0e25\u0e30\u0e1b\u0e23\u0e31\u0e1a\u0e40\u0e1b\u0e25\u0e35\u0e48\u0e22\u0e19 UI"},"1.3.1":{firmware:{en:[" Add wifi auto reconnect"," Add stickC support"," Add button double press"," Add IMU GRY"," Add wait_ms, cpu ticks_ms get"," Delete some imu block temporarily"," Delete Stick support"," SD card will mount in startup"," Fix bugs that ampy can't use"," V1.2.3 version save in http://flow.m5stack.com/old/"," note: If appear out of pwm channels error, please reboot"]},web:{en:[" Component adds double-click replication"," Component removal optimization"," Image loading optimization"," Component whitespace optimization"," Bug: out-of-sync finger"," Bug: number error"]},time:"time : 2019.5.30"},"1.3.3":{firmware:{en:[" The new unit pb\xb7hub "," The new module PM2.5"," New faces the calculator"," New faces the Encoder"," New faces the FINGER"," New faces the GameBoy"," New faces the joystick"," New faces the keyBoard"," New faces the RFID"," V1.2.3 version save in http://flow.m5stack.com/old/"]},web:{en:[" Bug: Apikey is limited to 5"," The update classification"," Component fonts are inconsistent"," Bug: Prompt for download too early"]},time:"time : 2019.6.13"},"1.3.4":{firmware:{en:["Add PAHUB support 2.Fix some bug","stickC: add hat support"]},web:{en:["The new unit (pahub)","Newly added HAT module. Contains(ENV,DAC,ADC,NCIR,PIR,SPEAKER)","Mobile terminal and ipad terminal UI interface optimization","Set limits on how much unit and hat can work together","Bug: The mobile side cannot add the first selected unit","Bug: Press the rest of the mouse button to fix the drag component","Bug: Fix inconsistencies between component fonts and device fonts","Bug: Fix the unit duplicate name problem","Bug: Drag areas sometimes have white edges","Bug: Jump links are hidden after the screen shrinks","Fix the fourth loop can not be shared with list-length","Fix duplicate component and variable names","Fix popover of new variable","Fix component input box input space moves cursor"]},time:"time : 2019.6.26"},"1.3.5":{firmware:{en:["Add MLX90640 support","Add TIMER support","Add POWER support","Add AXP192 support","Add Cellular support","Add MAP support","Add JSON support","Fixed some bugs"]},web:{en:["Partial icon replacement","Fixed Module blocks introduce invalidation","Add a few more decimal places"]},time:"time : 2019.8.9"},"1.4.0":{firmware:{en:["Add ESPNow support","Add Remote-Beta support","Add screen rotate, brightness set","Fixed some bugs"]},web:{en:["Add Remote-Beta blocks","Add Screen rotate, brightness blocks","Fixed some bugs"]},time:"time : 2019.8.30"},"1.4.1":{firmware:{en:["Add GPS unit support","Add some HAT support","Fixed some bugs"]},web:{en:["Add Servo, Servos blocks","Add Puppy, JoyStick blocks","Add BugC, Yun blocks","Add Finger, BeetleC blocks","Add GPS blocks","Fixed some bugs"]},time:"time : 2019.10.12"},"1.4.2":{firmware:{en:["Add JoyC, RoverC, TOF hats support","Fixed some bugs"]},web:{en:["Add blocks of JoyC, RoverC and TOF","Open lastest version by default","Fixed some bugs"]}},"1.4.3":{firmware:{en:["Add: BaseX","Add: Server china and singapore select in setting","Fixed: in http request, it no longer auto converts string to json data","StickC: Fixed pahub unit support","StickC: Add: hat yun add humidity and temperature support","Fixed some bugs"]},web:{en:["Add BaseX module support","Fixed some bugs"]}},"1.4.4":{firmware:{en:["Add: PLUS and GOPLUS module","Add: Accel Unit","Add: CardKB Hat"]},web:{en:["Add PLUS and GOPLUS module support","Add Accel Unit support","Add CardKB Hat support","Fixed some bugs"]},time:"time : 2020.01.16"},"1.4.5":{firmware:{en:["Add: Burner wifi set","Add: ATOM support","[url]https://docs.m5stack.com/#/en/quick_start/atom/atom_quick_start[url]Click for detail of Atom"]},web:{en:["Add Atom-Lite, Atom-Matrix support","Fixed some bugs"]},time:"time : 2020.02.26"},"1.5.0":{firmware:{en:["Update: some ui","Add: exec file will auto temp.py","And soon"]},web:{en:["* v1.5.0 unsupport Remote"]},time:"time : 2020.04.10"},"1.5.1":{firmware:{en:["Fixed: SD card error","Fixed: Remote Error","Update: Mqtt can run in exec mode","Add: Mqtt add last will support (must be ahead in mqtt start)","Add: ENV-II unit support","Add: I2C add data different format"]},web:{en:["Support Remote","Add Unit ENV2","Add some blocks"]},time:"time : 2020.04.23"},"1.5.2":{firmware:{en:["Add: FONT_UNICODE support (Only Fire)","Add: Blynk and BLE UART support (Only Fire)","Add: GPS module support","Add: Modbus support","Add: Modbus Slave support","Add: EEPROM support","Fixed: button dual press error","Fixed: NCIR, Light unit read error","Fixed: PAHUB support error","Update: GPS unit add speed and course get","Update: Wi-Fi dhcp hostname config to ESP-{apikey}"]},web:{en:["Add Blynk and BLE (Only Fire)","Add Unit ENV2","Add some blocks","Remove v1.2.3","Fixed bugs"]},time:"time : 2020.05.09"},"1.5.3":{firmware:{en:["Add: StickC device support","Add: unicode support (core 24px, StickC 16px)","Add: Echo STT support","update: PWM add set hold us method","Fixed: imu data error","Fixed: UI Background color error","Fixed: Button maximum recursive error","Fixed: DAC waveform not support error"]},web:{en:["Add Echo STT","Add some blocks","Add StickC support in beta version","Fixed bugs"]},time:"time : 2020.05.29"},"1.5.4":{firmware:{en:["Add: AC Socket support","Add: Pin Servo support","Update: unicode","Fixed: title error","Fixed some bugs"]},web:{en:["Add: Unit AC Socket","Add: Pin Servo","Fixed some bugs"]},time:"time : 2020.06.05"},"1.6.0":{firmware:{en:["Add: Unit Heart support","Add: Unit V support","Add: Triangle and line support","Add: StickC Plus support","Fixed some bugs"]},web:{en:["Add: Unit Heart support","Add: Unit V support","Add: Triangle and line support","Add: StickC Plus support","Fixed some bugs"]},time:"time : 2020.07.10"},"1.6.1":{firmware:{en:["Add: V function support color trace.","Add: Support NTP time synchronization.","Fixed: StickC Plus Wi-Fi reconnect image size change.","Fixed: I2C support custom frequency init.","Fixed: Modbus slave return data add data length byte.","Fixed: V function Target track fix some bug."]},web:{en:["Add: V function support color trace.","Add: Support NTP time synchronization.","Add: Bitwise blocks","Fixed some bugs"]},time:"time : 2020.07.24"},"1.6.2":{firmware:{en:["Add: V function support face detect.","Add: V function support QR/Bar/AprilTag/DataMatrix scan.","HAT: NCIR hat I2C bug fix.","StickC-Plus: icon&font bug fix.","ESPNOW: send callback bug fix.","Other small bug fix."]},web:{en:["Add: V function support face detect.","Add: V function support QR/Bar/AprilTag/DataMatrix scan.","Add: I2C Block demo","Fixed some bugs"]},time:"time : 2020.08.07"},"1.6.3":{firmware:{en:["V-Function: support Line Tracker&Tag reader.","Image: PNG support.","StickC-Plus beep support.","IR unit bug fix.","Therad mutex bug fix.","Other bugs fix.","Core2: Speaker support(Only support play WAV file for now).","Core2: Vibration motor intensity setting support.","Core2: Checkbox widgets support.","Core2: Slider bar widgets support.","Core2: Bar widgets support.","Core2: UiFlow USB mode support(UiFlow Desktop IDE).","Core2: Unicode support(about about 8578 characters, 24px, 4bpp).","Core2: Image widgets support(only support PNG for now).","Core2: Vibration intensity bug fix.","Core2: Wi-Fi connect status bug fix."]},web:{en:["Add: V function support Line Tracker&Tag reader.","Add: Core2 Slider, Bar, Checkbox component","Fixed some bugs"]},time:"time : 2020.09.24"},"1.6.4":{firmware:{en:["Media Trans: Timer Camera support.","HAT: ENV2 support for Stick-C/Plus.","UNIT: BPS&IMU unit support.","UNIT: ToF bug fix."]},web:{en:["Media Trans: Timer Camera support.","HAT: ENV2 support for Stick-C/Plus.","UNIT: BPS&IMU unit support."]},time:"time : 2020.09.30"},"1.6.5":{firmware:{en:["Support units: Ameter, Vmeter, FAN, HALL, LASERTX, LASERRX, OP.180, TVOC/eCO2, VIBRATOR","Support module: Go Plus 2","Support mqtts protocol","Unit ToF bug fixed.","VFunction bug fixed.","Core2 button bug fixed."]},web:{en:["Support units: Ameter, Vmeter, FAN, HALL, LASERTX, LASERRX, OP.180, TVOC/eCO2, VIBRATOR","Support module: Go Plus 2","Support mqtts protocol"]},time:"time : 2020.10.22"},"1.6.6":{firmware:{en:["Feature: CoreInk support.","Fixed: ESP-NOW bug fix.","Fixed: BLE bug fix.","Fixed: GoPlus 2 analog read bug fix.","Fixed: Wi-Fi connect screen bug fix."]},web:{en:["Feature: CoreInk support."]},time:"time : 2020.11.20"},"1.7.0":{firmware:{en:["Feature: Network over COM.LTE support.","Feature: Mycobot support.","Feature: CoreInk HAT support.","Feature: CoreInk RTC alarm wakeup support.","Fixed: PM2.5 module bug fix.","Fixed: Others bug fix."]},web:{en:["Feature: Add file manager in editor mode.","Feature: Support Mycobot.","Feature: Support CoreInk HAT."]},time:"time : 2020.12.04"},"1.7.1":{firmware:{en:["Add: Core/Fire/Core2 support.","Add: Atom H\xb7Driver.","Fixed: Core2 COM.LTE M-BUS power(5V) conflict bug.","Fixed: Other bugs"]},web:{en:["Add: Core/Fire/Core2 support.","Add: Atom H\xb7Driver.","Fixed: Other bugs"]},time:"time : 2020.12.29"},"1.7.2":{firmware:{en:["Feature: GRBL module support.","Feature: LoRaWAN module support.","Feature: Mycobot re-support after protocol modification(first version).","Add: Atom Motion.","Add: Unit Waterning support","Fixed: Fix ultrasonic PAHUB bug","Fixed: Core2 M-Bus 5V output bug fix","Fixed: Other bugs"]},web:{en:["Feature: support m5stack forum account login.","Feature: GRBL module support.","Feature: LoRaWAN module support.","Feature: Mycobot re-support after protocol modification(first version).","Add: Atom Motion.","Add: Unit Waterning support","Fixed: Other bugs"]},time:"time : 2021.01.22"},"1.7.3":{firmware:{en:["Feature: IoT Cloud support AWS, Azure, Tencent.","Feature: ATOM Base support ATOMIC GPS, ATOMIC Stepmotor, ATOMIC QR Code Reader.","Feature: M5Paper Internal SHT30 support.","Fixed: ATOM MOTION get speed bug fix","Fixed: M5Paper PORTC pin error bug fix","Fixed: LoRaWAN P2P bug fix","Fixed: Other bug fix"]},web:{en:["Feature: IoT Cloud support AWS, Azure, Tencent.","Feature: ATOM Base support ATOMIC GPS, ATOMIC Stepmotor, ATOMIC QR Code Reader.","Feature: M5Paper Internal SHT30 support.","Fixed: Other bugs"]},time:"time : 2021.03.12"},"1.7.4":{firmware:{en:["Feature: IoT Cloud support Blynk.","Support units: DDS, UHF RFID","Support myCobot: myCobot Pro","Fixed: Core2 PAHUB bug fixed","Fixed: Random new API KEY bug fixed","Fixed: I2C BUS 'freq' not defined error fixed","Fixed: Blynk BLE bug fixed","Fixed: Other bug fixed"]},web:{en:["Feature: IoT Cloud support Blynk.","Support units: DDS, UHF RFID","Fixed: Other bug fixed"]},time:"time : 2021.03.26"},"1.7.5":{firmware:{en:["Feature: Azure IoT SAS token generated by the device","Support: CAN (Experimental stage), COM.LoRaWAN","Support wildcard #&+(Experimental stage)","Fixed: Core2 APP list bug fix.","Fixed: Other bug fixed"]},web:{en:["Feature: Azure IoT SAS token generated by the device","Support: CAN (Experimental stage), COM.LoRaWAN","Fixed: Other bug fixed"]},time:"time : 2021.04.16"},"1.7.6":{firmware:{en:["Feature: Azure IoT support certificate.","Support: COM.LTE HTPP(s)","Baisc&Fire support units: UNITCAM","Core2: Display network images.","Core2: Play tones & network WAV audio.","Core2: Timing boot.","Fixed: Other bug fixed"]},web:{en:["Feature: Azure IoT support certificate.","Support: COM.LTE HTPP(s)","Baisc&Fire support units: UNITCAM","Core2: Display network images.","Core2: Play tones & network WAV audio.","Fixed: Other bug fixed"]},time:"time : 2021.04.29"},"1.7.7":{firmware:{en:["Feature: COM.NB-IoT CoAP support(CoAP over Wi-Fi next version will support).","Support units: IR unit support NEC mode","Support units: V2 unit support code detect, face detect, object recognition funciton","Fixed: Core2 microphone record bug","Fixed: Core2 speaker play wav audio bug fix"]},web:{en:["Feature: COM.NB-IoT CoAP support(CoAP over Wi-Fi next version will support).","Support units: IR unit support NEC mode","Support units: V2 unit support code detect, face detect, object recognition funciton","Fixed: Other bug fixed"]},time:"time : 2021.05.21"},"1.7.8":{firmware:{en:["Support units: UNIT NB-IoT support","Support units: UNIT OLED support","Support: Ali IoT.","Support: On-board IR(NEC)(StickC/StickC-Plus/ATOM support)","Fixed: Core2 microphone record bug fix","Fixed: Core2 speaker play wav audio bug fix"]},web:{en:["Support units: UNIT NB-IoT support","Support units: UNIT OLED support","Support: Ali IoT."]},time:"time : 2021.06.04"},"1.8.0":{firmware:{en:["Support units: RS485, ISO RS485, LoRaWAN 470/868/915","Support hat: RS485","Feature: ATOM Base support DTU-NB-IoT, DTU LoRaWAN 470/868/915.","Fixed: Core2 M5Bar size bug fixed","Fixed: Others bug fix"]},web:{en:["Feature: remote+","Support units: RS485, ISO RS485, LoRaWAN 470/868/915","Support hat: RS485","Feature: ATOM Base support DTU-NB-IoT, DTU LoRaWAN 470/868/915.","Fixed: Core2 M5Bar size bug fixed","Fixed: Others bug fix"]},time:"time : 2021.07.02"},"1.8.1":{firmware:{en:["Fixed UNIT: UHF RFID read data bug fix","Fixed LoRaWAN: Downlink data will loss bug fix","Fixed: Others bug fix"]},web:{en:["Fixed: Others bug fix"]},time:"time : 2021.07.23"},"1.8.2":{firmware:{en:["Add support of Modbus Master serial setting (RS485, ISO485, HAT RS485, Advanced->Modbus Master).","Add support of ENV.III & HAT ENV.III (BMP280 -> QMP6988).","Add support of Thermal Camera Unit (valid for M5Stack Fire and Core2 only).","Add support of M5Stamp Pico."]},web:{en:["Add support of M5Stamp Pico.","Fixed: Others bug fix"]},time:"time : 2021.08.13"},"1.8.3":{firmware:{en:["Add UNIT FADER support","Add Module stepmotor driver support","ESP-NOW support encrypt(LMK)","New Vfunciton for UNIT V2","Fix NB-IoT MQTT downlink data parse error","Fix ATOM-DTU Modbus UART ID error"]},web:{en:["Add UNIT FADER support","Add Module stepmotor driver support","ESP-NOW support encrypt(LMK)","New Vfunciton for UNIT V2","Fixed: Others bug fix"]},time:"time : 2021.08.27"},"1.8.4":{firmware:{en:["Add UNIT Gesture support","Modbus Slave refactor"]},web:{en:["Add UNIT Gesture support","Fixed: Others bug fix"]},time:"time : 2021.09.10"},"1.8.5":{firmware:{en:["Add UNIT MQTT support","Add UNIT RTC support","Add EzData support"]},web:{en:["Add UNIT MQTT support","Add UNIT RTC support","Add EzData support"]},time:"time : 2021.09.30"},"1.8.6":{firmware:{en:["Add UNIT LCD support","Add UNIT ID support"]},web:{en:["Add UNIT LCD support","Add UNIT ID support"]},time:"time : 2021.11.05"},"1.8.7":{firmware:{en:["MODULE LORA433 support","MODULE LORA868 support"]},web:{en:["MODULE LORA433 support","MODULE LORA868 support"]},time:"time : 2021.11.19"},"1.8.8":{firmware:{en:["HAT C_BACK_DRIVER support","LORABUS support"]},web:{en:["HAT C_BACK_DRIVER support","LORABUS support","Fixed some bugs"]},time:"time : 2021.12.03"},"1.8.9":{firmware:{en:["MQTT PRINTER support","SMART CONFIG support"]},web:{en:["MQTT PRINTER support","Fixed some bugs"]},time:"time : 2021.12.17"},"1.9.0":{firmware:{en:["UNIT ENCODER support","SMART CONFIG support"]},web:{en:["UNIT ENCODER support","SMART CONFIG support","Fixed some bugs"]},time:"time : 2021.12.31"},"1.9.1":{firmware:{en:["MODULE NBIOT support","ATOM U support"]},web:{en:["MODULE NBIOT support","ATOM U support","Fixed some bugs"]},time:"time : 2022.1.27"},"1.9.2":{firmware:{en:["MODULE CATMIOT support","UNIT MIC support"]},web:{en:["MODULE CATMIOT support","UNIT MIC support","Fixed some bugs"]},time:"time : 2022.2.18"},"1.9.3":{firmware:{en:["MODULE COM.CAT1 support","UNIT DLIGHT support","UNIT PDM support","UNIT 2RELAY support","UNIT SSR support","UHF RFID bug fix."]},web:{en:["MODULE COM.CAT1 support","UNIT DLIGHT support","UNIT PDM support","UNIT 2RELAY support","UNIT SSR support","Fixed some bugs"]},time:"time : 2022.3.4"},"1.9.4":{firmware:{en:["ATOM DTU CAT1 support","MyCobot(BASIC) More features","NB-IOT bug fix."]},web:{en:["ATOM DTU CAT1 support","MyCobot(BASIC) More features","Fixed some bugs"]},time:"time : 2022.3.18"},"1.9.5":{firmware:{en:["MODULE BASE LAN V12 support","UNIT PoESP32 support","UNIT SONIC IO support","UNIT K-METER support"]},web:{en:["MODULE BASE LAN V12 support","UNIT PoESP32 support","UNIT SONIC IO support","UNIT K-METER support","Fixed some bugs"]},time:"time : 2022.4.2"},"1.9.6":{firmware:{en:["UNIT CatM support","UNIT TUBE PRESSURE support","MQTT QoS 1&2 bug fix."]},web:{en:["UNIT CatM support","UNIT TUBE PRESSURE support"]},time:"time : 2022.4.22"},"1.9.7":{firmware:{en:["Feature: UNIT BUZZER support","Feature: MODULE COM.X GSM support","Feature: Sony toio support(only atom)","Fixed: UNIT DDS bug fix.","Fixed: NB-IOT & DTU NB-IOT CoAP bug fix.","Fixed: M5PAPER image and rectangle bug fix."]},web:{en:["Feature: UNIT BUZZER support","Feature: MODULE COM.X GSM support","Feature: Sony toio support(only atom)"]},time:"time : 2022.5.7"},"1.9.8":{firmware:{en:["Feature: MODULE USB(MAX3421E) support"]},web:{en:["Feature: MODULE USB(MAX3421E) support","Fixed some bugs"]},time:"time : 2022.6.1"},"1.9.9":{firmware:{en:["Feature: UNIT EXT.IO2 support","Feature: HAT 8SERVO V1.1 support","Feature: HAT BALAC DIY KIT support","Feature: MC4.O THIRDPARTY BLOCKY(CORE2) support","Fixed: UNIT 4-RELAY bug fix.","Fixed: CORE2 FONT(MONT 10) bug fix."]},web:{en:["Feature: UNIT EXT.IO2 support","Feature: HAT 8SERVO V1.1 support","Feature: HAT BALAC DIY KIT support","Feature: MC4.O THIRDPARTY BLOCKY(CORE2) support","Fixed some bugs"]},time:"time : 2022.6.16"},"1.10.0":{firmware:{en:["Feature: UNIT LIMIT support","Feature: UNIT KEY support","Feature: MODULE BASE POE support","Fixed: CORE2 LAN BASE V12 bug fix."]},web:{en:["Feature: UNIT LIMIT support","Feature: MODULE BASE POE support","Fixed some bugs"]},time:"time : 2022.6.30"},"1.10.1":{firmware:{en:["Feature: UNIT CATM+GNSS support","Feature: UNIT KEY support","Feature: UNIT DIGIT CLOCK support","Feature: ATOM TF CARD support","Feature: C BACK NBIOT support","Feature: MC4.O[THIRD PARTY]","Fixed: UNIT LCD bug fix."]},web:{en:["Feature: UNIT CATM+GNSS support","Feature: UNIT KEY support","Feature: UNIT DIGIT CLOCK support","Feature: ATOM TF CARD support","Feature: C BACK NBIOT support","Fixed some bugs"]},time:"time : 2022.7.14"},"1.10.2":{firmware:{en:["Feature: HAT DLIGHT[M5StickC/C Plus] support","Feature: BALA2[FIRE] support","Fixed: ESPNOW bug fix.","Fixed: UNIT UHF-RFID bug fix."]},web:{en:["Feature: HAT DLIGHT[M5StickC/C Plus] support","Feature: BALA2[FIRE] support","Fixed some bugs"]},time:"time : 2022.7.28"},"1.10.3":{firmware:{en:["Feature: M5STATION support","Feature: UNIT GROVE2GROVE support"]},web:{en:["Feature: M5STATION support","Feature: UNIT GROVE2GROVE support"]},time:"time : 2022.8.11"},"1.10.4":{firmware:{en:["Feature: UNIT UWB support","Feature: UNIT CO2 support","Feature: MODULE 4IN8OUT support","Feature: ATOM DISPLAY [1920 X 1080 @24Hz] support","Fixed: M5STATION bug fix.","Fixed: BM8563[COREINK, PAPER] bug fix."]},web:{en:["Feature: UNIT UWB support","Feature: UNIT CO2 support","Feature: MODULE 4IN8OUT support","Feature: ATOM DISPLAY [1920 X 1080 @24Hz] support"]},time:"time : 2022.8.25"},"1.10.5":{firmware:{en:["Feature: ATOM POE support","Feature: UNIT ZIGBEE support","Feature: COMX MODULE ZIGBEE support","Feature: BLE[CENTRAL & PERIPHERAL] support","Fixed: M5-PAPER QR CODE bug fix","Fixed: LORAWAN DOWNLINK bug fix."]},web:{en:["Feature: ATOM POE support","Feature: UNIT ZIGBEE support","Feature: COMX MODULE ZIGBEE support","Feature: BLE[CENTRAL & PERIPHERAL] support","Feature: add shortcut keys"]},time:"time : 2022.9.8"},"1.10.6":{firmware:{en:["Feature: UNIT THERMAL2 support","Feature: MODULE 2RELAY support"]},web:{en:["Feature: UNIT THERMAL2 support","Feature: MODULE 2RELAY support"]},time:"time : 2022.9.22"},"1.10.7":{firmware:{en:["Feature: UNIT NCIR2 support","Feature: UNIT FLASH LIGHT support","Feature: ATOM SPK support","Fixed: ESPNOW, NTPTIME, PAHUB, CATMIOT bug fix."]},web:{en:["Feature: UNIT NCIR2 support","Feature: UNIT FLASH LIGHT support","Feature: ATOM SPK support"]},time:"time : 2022.10.14"},"1.10.8":{firmware:{en:["Feature: UNIT 8Angle support","Feature: UNIT 8Encoder support","Feature: UNIT BPS[QMP6988] support","Feature: MODULE COMMU support","Fixed: CATMIOT bug fix."]},web:{en:["Feature: UNIT 8Angle support","Feature: UNIT 8Encoder support","Feature: UNIT BPS[QMP6988] support","Feature: MODULE COMMU support"]},time:"time : 2022.11.10"},"1.10.9":{firmware:{en:["Feature: UNIT CO2L support","Fixed: SD CARD IMAGE bug fix"]},web:{en:["Feature: UNIT CO2L support","Fixed some bugs"]},time:"time : 2022.11.24"},"1.11.0":{firmware:{en:["Feature: HAT HEART RATE support","Feature: HAT MINI ENOCDERC support","Feature: HAT MINI JOYC support","Feature: C BACK NBIOT support","Fixed: CAN BUS bug fix"]},web:{en:["Feature: HAT HEART RATE support","Feature: HAT MINI ENOCDERC support","Feature: HAT MINI JOYC support","Feature: C BACK NBIOT support"]},time:"time : 2022.12.8"},"1.11.1":{firmware:{en:["Feature: UNIT ACSSR support","Feature: ATOM SOCKET KIT support","Feature: PM2.5 KIT[SHT30] support","Feature: STAMP TIMER POWER support","Fixed: UNIT KMETER bug fix","Fixed: STEPMOTOR DRIVER bug fix"]},web:{en:["Feature: UNIT ACSSR support","Feature: ATOM SOCKET support","Feature: PM2.5 KIT[SHT30] support","Feature: STAMP TIMERPOWER support"]},time:"time : 2023.1.6"},"1.11.2":{firmware:{en:["Feature: HAT VIBRATOR support","Feature: DIRECT STEP MOTOR V1.1 support","Feature: HARDWARE TIMER support","Fixed: USE TWO UART PORT bug fix"]},web:{en:["Feature: HAT VIBRATOR support","Feature: DIRECT STEP MOTOR V1.1 support","Feature: HARDWARE TIMER support","Feature: PBHUB PWM support"]},time:"time : 2023.2.16"},"1.11.3":{firmware:{en:["Feature: UNIT GLASS support","Feature: UNIT KMETER ISO support","Feature: STAMP CATM support","Feature: STAMP IO support","Feature: HAT SPK2 support","Feature: ATOM QR CODE V1.1 support","Feature: ADDED VOLUME CONTROL TO SPEAKER(CORE2, TOUGH, HAT SPK2, ATOM SPK) support","Fixed: NBIOT MQTT bug fix"]},web:{en:["Feature: UNIT GLASS support","Feature: UNIT KMETER ISO support","Feature: STAMP IO support","Feature: STAMP CATM support","Feature: HAT SPK2 support"]},time:"time : 2023.3.2"},"1.11.4":{firmware:{en:["Feature: UNIT RF433T support","Feature: UNIT RF433R support","Feature: DUAL KMETER MODULE  support"]},web:{en:["Feature: UNIT RF433T support","Feature: UNIT RF433R support","Feature: DUAL KMETER MODULE  support"]},time:"time : 2023.3.16"},"1.11.5":{firmware:{en:["Feature: UNIT HBRIDGE support","Feature: MODULE HMI support","Feature: MODULE DMX-512 support"]},web:{en:["Feature: UNIT HBRIDGE support","Feature: MODULE HMI support","Feature: MODULE DMX support"]},time:"time : 2023.3.30"},"1.11.6":{firmware:{en:["Feature: MODULE DISPLAY support","Feature: MODULE RS232 M & F support","Feature: UNIT DCSSR support","Feature: UNIT CAN support","Feature: ATOM CAN support"]},web:{en:["Feature: MODULE DISPLAY support","Feature: MODULE RS232 M & F support","Feature: UNIT DCSSR support","Feature: UNIT CAN support","Feature: ATOM CAN support"]},time:"time : 2023.4.13"},"1.11.7":{firmware:{en:["Feature: STEPMOTOR DRIVER V1.1 support","Feature: LABEL+ support","Fixed: MODULE DISPLAY I2C BUS bug fix","Fixed: CAN BUS bug fix"]},web:{en:["Feature: MODULE DISPLAY [ Core2 & Tough ] support","Feature: UI Component Label+ [ Core, Fire, StickC, StickC Plus, Paper, station ] support"]},time:"time : 2023.4.28"},"1.11.8":{firmware:{en:["Feature: UNIT EXT ENCODER support","Feature: UNIT AIN 4-20MA support","Feature: MODULE AIN 4-20MA support","Feature: LABEL+ [JSON, ERROR MESSAGE] support","Feature: STAMP IO [PWM] support","Fixed: UNIT & MODULE GPS bug fix","Fixed: MODBUS bug fix"]},web:{en:["Feature: UNIT EXTENCODER support","Feature: UNIT AIN4-20MA support","Feature: MODULE AIN4-20MA support","Feature: UI Component Label+ [ Core2, Tough, CoreInk, Atom Display ] support","Feature: Export block to Image / Svg support"]},time:"time : 2023.5.18"},"1.11.9":{firmware:{en:["Feature: UNIT NECO support","Feature: UNIT IMU[ANGLE X, Y & CALIBRATION] support","Fixed: UNIT & MODULE GPS & UNIT CATM+GNSS bug fix","Fixed: WIFI CONFIGURE bug fix","Fixed: UNIT COLOR bug fix"]},web:{en:["Feature: UNIT Neco support","Feature: UNIT IMU[ANGLE X, Y & CALIBRATION] support","Feature: MODULE GPS update"]},time:"time : 2023.6.15"},"1.12.0":{firmware:{en:["Feature: UNIT AC MEASURE support","Fixed: ESPNOW bug fix","Fixed: CORE2 BOOT MENU bug fix"]},web:{en:["Feature: UNIT AC MEASURE support"]},time:"time : 2023.7.6"},"1.12.1":{firmware:{en:["Feature: UNIT CATCH support","Feature: MODULE 4 RELAY support","Feature: IMAGE PLUS support","Fixed: I2C BUS[UNIT ANGLE8] bug fix","Fixed: WIFI CONFIGURE bug fix"]},web:{en:["Feature: UNIT CATCH support","Feature: MODULE 4 RELAY support","Feature: IMAGE PLUS support","Feature: SPI support","Feature: Bytearray support"]},time:"time : 2023.7.20"},"1.12.2":{firmware:{en:["Feature: UNIT MINI OLED support","Feature: UNIT 8SERVOS support","Fixed: CORE2 MICROPHONE DMA ISSUES bug fix"]},web:{en:["Feature: UNIT MINI OLED support","Feature: UNIT 8SERVOS support"]},time:"time : 2023.8.3"},"1.12.3":{firmware:{en:["Feature: UNIT ENV4 support","Feature: UNIT HBRIDGE V1.1 support","Feature: JSON TO PY support","Feature: ADD THE MINUTES AGRUMENT FOR NTP support","Fixed: UNIT PBHUB I2C ISSUES bug fix"]},web:{en:["Feature: UNIT ENV4 support","Feature: UNIT HBRIDGE V1.1 support","Feature: JSON block updated"]},time:"time : 2023.8.17"},"1.12.4":{firmware:{en:["Feature: UNIT ENV PRO support","Feature: UNIT UWB support","Feature: ADDED MICROPHONE[STICK C & C PLUS] support","Fixed: CORE2 & TOUGH BOOT MENU bug fix"]},web:{en:["Feature: UNIT ENV PRO support","Feature: UNIT UWB block updated"]},time:"time : 2023.9.7"},"1.12.5":{firmware:{en:["Feature: 4RELAY MODULE V1.1 support","Feature: HTTP HEADER ARGUMENT[UNIT CATM, CATM+GNSS, MODULE CATMIOT] support","Feature: FIND NESTED KEY IN JSON[LABEL PLUS] support","Fixed: UNITV[MOTION DETECT] bug fix","Fixed: NVS[EEPROM BLOCK] bug fix"]},web:{en:["Feature: 4RELAY MODULE V1.1 support"]},time:"time : 2023.9.21"},"1.12.6":{firmware:{en:["Feature: GNSS MODULE support","Feature: CORE2 HARDWARE VERSION 1.1[PMIC: AXP2101, INA3221] support","Feature: PM2.5(SHT20): ADDED SHT20 SENSOR FEATURES support","Fixed: UNIT UWB bug fix","Fixed: ESPNOW bug fix"]},web:{en:["Feature: GNSS MODULE support","Feature: PM2.5 MODULE Block updated","Feature: ESPNOW Callback Block updated","Feature: Export all toolbox blocks to images (png, svg) support"]},time:"time : 2023.10.19"},"1.12.7":{firmware:{en:["Feature: LAN MODULE support","Feature: UNIT GLASS2 support"]},web:{en:["Feature: LAN MODULE support","Feature: UNIT GLASS2 support","Feature: Server select support"]},time:"time : 2023.11.2"},"1.12.8":{firmware:{en:["Feature: UNIT IMU PRO support","Feature: UNIT LORA E220 support","Feature: UNIT TOF4M support","Feature: MADGWICK ALGORITHM FOR IMU support","Fixed: UNIT PAHUB bug fix","Fixed: UNIT DLIGHT bug fix"]},web:{en:["Feature: UNIT IMU PRO support","Feature: UNIT LORA E220 support","Feature: UNIT TOF4M support"]},time:"time : 2023.11.16"},"1.12.9":{firmware:{en:["Feature: UNIT REFLECTIVE IR support","Feature: UNIT SYNTH support","Feature: MORE OPTION IN PDM MICROPHONE support","Fixed: UNIT GLASS2 bug fix","Fixed: UNIT SCALES bug fix","Fixed: UNIT WEIGHT bug fix","Fixed: WIFI SSID SELECTION LIST bug fix"]},web:{en:["Feature: UNIT REFLECTIVE IR support","Feature: UNIT SYNTH support","Feature: UNIT PDM BLOCK update","Feature: Core2 MICROPHONE update","Feature: Terminal Download support"]},time:"time : 2023.12.8"},"1.13.0":{firmware:{en:["Feature: UNIT MINISCALE support","Feature: UNIT QRCODE support","Feature: UNIT DAC2 support","Feature: ADD GRAPH CHART WIDGET support","Feature: ADD GRAPH BAR WIDGET support"]},web:{en:["Feature: UNIT MINISCALE support","Feature: UNIT QRCODE support","Feature: UNIT DAC2 support","Feature: UI COMPONENT CHART GRAPH support","Feature: UI COMPONENT BAR GRAPH support"]},time:"time : 2023.12.28"},"1.13.1":{firmware:{en:["Feature: UNIT ADC V1.1 support","Feature: 4 ENCODER MOTOR MODULE support","Fixed: STICKC PLUS2 BRIGHTNESS ISSUES bug fix"]},web:{en:["Feature: UNIT ADC V1.1 support","Feature: 4 ENCODER MOTOR MODULE support"]},time:"time : 2024.1.18"},"1.13.2":{firmware:{en:["Feature: UNIT MINI CAN support","Feature: UNIT WEIGHT I2C support","Feature: HAT DAC2 support"]},web:{en:["Feature: UNIT MINI CAN support","Feature: UNIT WEIGHT I2C support","Feature: HAT DAC2 support"]},time:"time : 2024.2.5"},"1.13.3":{firmware:{en:["Feature: MODULE PPS support","Feature: MODULE USB V1.2 support","Feature: HAT BUGC2 support","Feature: BLYNK2.0 support","Fixed: BLYNK1.0 bug fix"]},web:{en:["Feature: MODULE PPS support","Feature: MODULE USB V1.2 support","Feature: HAT BUGC2 support","Feature: BLYNK2.0 support"]},time:"time : 2024.3.28"},"1.13.4":{firmware:{en:["Feature: UNIT BLDC DRIVER support","Feature: MODULE LORA868 V1.1 support","Fixed: HAT HEARTRATE bug fix","Fixed: STICKC PLUS2 BRIGHTNESS ISSUES bug fix","Fixed: PAPER REBOOT ISSUES bug fix"]},web:{en:["Feature: UNIT BLDC DRIVER support","Feature: MODULE LORA868 V1.1 support","Feature: MODULE LORA868 & LORA433 block pycode update"]},time:"time : 2024.4.25"},"1.13.5":{firmware:{en:["Feature: UNIT NB-IoT2 support","Feature: BASE QRCODE2 support","Fixed: LORAWAN Driver bug fix"]},web:{en:["Feature: UNIT NB-IoT2 support","Feature: BASE QRCODE2 support"]},time:"time : 2024.6.20"},"1.13.6":{firmware:{en:["Feature: UNIT Roller485 support","Feature: UNIT LoRaE220-433 support"]},web:{en:["Feature: UNIT Roller485 support","Feature: UNIT LoRaE220-433 support"]},time:"time : 2024.7.19"},"1.13.7":{firmware:{en:["Feature: UNIT TMOS PIR support","Feature: UNIT SCROLL support","Feature: UNIT DMX support","Feature: CUSTOM AT COMMAND BLOCK (for SIM card product)","Fixed: DMX MODULE WRITE ISSUES bug fiX"]},web:{en:["Feature: UNIT TMOS PIR support","Feature: UNIT SCROLL support","Feature: UNIT DMX support","Feature: CUSTOM AT COMMAND BLOCK (for SIM card product)"]},time:"time : 2024.8.23"}},Stabile:{"1.3.2":{firmware:{en:["Add PAHUB support 2.Fix some bug","stickC: add hat support"]},web:{en:["The new unit (pahub)","Newly added HAT module. Contains(ENV,DAC,ADC,NCIR,PIR,SPEAKER)","Mobile terminal and ipad terminal UI interface optimization","Set limits on how much unit and hat can work together","Bug: The mobile side cannot add the first selected unit","Bug: Press the rest of the mouse button to fix the drag component","Bug: Fix inconsistencies between component fonts and device fonts","Bug: Fix the unit duplicate name problem","Bug: Drag areas sometimes have white edges","Bug: Jump links are hidden after the screen shrinks","Fix the fourth loop can not be shared with list-length","Fix duplicate component and variable names","Fix popover of new variable","Fix component input box input space moves cursor"]},time:"time : 2019.6.26"}}};var ue=i(40342);let de=(()=>{class e{constructor(e){this.el=e}ngAfterViewInit(){var e=this.el;if(e.nativeElement.innerText.indexOf("[url]")>-1){var t=e.nativeElement.innerText.substr(e.nativeElement.innerText.indexOf("[url]")+5,e.nativeElement.innerText.lastIndexOf("[url]")-8);e.nativeElement.innerText=e.nativeElement.innerText.replace(/\[url\]/g,"").replace(t,""),e.nativeElement.className="link",e.nativeElement.onclick=function(){window.open(t)}}}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(n.SBq))},e.\u0275dir=n.lG2({type:e,selectors:[["","appLinkChecker",""]]}),e})();const pe=["apikeyBox"];function ge(e,t){if(1&e&&(n.TgZ(0,"p",12),n._uU(1),n.qZA()),2&e){const e=t.$implicit,i=t.index;n.xp6(1),n.AsE(" ",i+1,": ",e,". ")}}function fe(e,t){if(1&e&&(n.TgZ(0,"div"),n.TgZ(1,"span",8),n._uU(2),n.qZA(),n.TgZ(3,"span",9),n._uU(4),n.qZA(),n.TgZ(5,"div",10),n.YNc(6,ge,2,2,"p",11),n.qZA(),n.qZA()),2&e){const e=n.oxw();n.xp6(2),n.Oqu(e.updata.version),n.xp6(2),n.Oqu(e.updata.time),n.xp6(2),n.Q6J("ngForOf",null==e.updata.firmware?null:e.updata.firmware.en)}}function me(e,t){if(1&e&&(n.TgZ(0,"span"),n._uU(1),n.qZA()),2&e){const e=t.$implicit,i=t.index;n.xp6(1),n.AsE(" ",i+1,": ",e,". ")}}function _e(e,t){if(1&e&&(n.TgZ(0,"div"),n.TgZ(1,"span",8),n._uU(2),n.qZA(),n.TgZ(3,"span",9),n._uU(4),n.qZA(),n.TgZ(5,"div",10),n.YNc(6,me,2,2,"span",13),n.qZA(),n.qZA()),2&e){const e=n.oxw();n.xp6(2),n.Oqu(e.updata.version),n.xp6(2),n.Oqu(e.updata.time),n.xp6(2),n.Q6J("ngForOf",null==e.updata.web?null:e.updata.web.en)}}let ve=(()=>{class e{constructor(e,t,i,n,r){this.globalOperatorSrv=e,this.storeSrv=t,this.uploadSrv=i,this.translateSrv=n,this.blocklyEditorSrv=r,this.languageList=o.bn,this.allapikey=[],this.updata={firmware:{en:[]},web:{en:[]},time:"time : 2019.7.29"},this.selectedFileType="firmware"}ngOnInit(){this.updata.version=this.storeSrv.VERSION,this.defineType=sessionStorage.getItem("_type")||"core",this.apikey$=this.storeSrv.getApikey(),setTimeout(()=>{this.allapikey=this.storeSrv.getAllkey()},0);let e="Beta";this.updata=he[e][Object.keys(he[e])[Object.keys(he[e]).length-1]]}cancel(e){if(-1==e.target.className.indexOf("wrapper--setting-panel"))return!1;this.globalOperatorSrv.maskModal.instance.removeMask(()=>{""===this.storeSrv.apiKey.value&&this.globalOperatorSrv.createMaskModal(Ve).instance.createDynamicComponent(o.eA.SETTING_PANEL)})}cancel_show(){}selectFile(e){this.selectedFileType=e}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(u.t),n.Y36(d.d),n.Y36(D.C),n.Y36(v.sK),n.Y36(ue.O))},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-updata"]],viewQuery:function(e,t){if(1&e&&n.Gf(pe,5),2&e){let e;n.iGM(e=n.CRH())&&(t.apikeyBox=e.first)}},decls:19,vars:9,consts:[[1,"wrapper--setting-panel",3,"click"],[1,"setting-panel",3,"click"],[1,"wapper-scroll"],[1,"_ngcontent-c14"],[1,"td--link"],[1,"file-type"],[3,"click"],[4,"ngIf"],[1,"versions"],[1,"span"],[1,"update_text"],["appLinkChecker","",4,"ngFor","ngForOf"],["appLinkChecker",""],[4,"ngFor","ngForOf"]],template:function(e,t){1&e&&(n.TgZ(0,"div",0),n.NdJ("click",function(e){return t.cancel(e)}),n.TgZ(1,"div",1),n.NdJ("click",function(){return t.cancel_show()}),n.TgZ(2,"header"),n.TgZ(3,"p"),n._uU(4),n.ALo(5,"translate"),n.qZA(),n.qZA(),n.TgZ(6,"div",2),n.TgZ(7,"table"),n.TgZ(8,"tr",3),n.TgZ(9,"td",4),n.TgZ(10,"div",5),n.TgZ(11,"a",6),n.NdJ("click",function(){return t.selectFile("firmware")}),n._uU(12,"firmware"),n.qZA(),n.TgZ(13,"span"),n._uU(14,"|"),n.qZA(),n.TgZ(15,"a",6),n.NdJ("click",function(){return t.selectFile("web")}),n._uU(16,"web"),n.qZA(),n.qZA(),n.YNc(17,fe,7,3,"div",7),n.YNc(18,_e,7,3,"div",7),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA()),2&e&&(n.xp6(4),n.Oqu(n.lcZ(5,7,"UPDATA")),n.xp6(7),n.ekj("selected","firmware"===t.selectedFileType),n.xp6(4),n.ekj("selected","web"===t.selectedFileType),n.xp6(2),n.Q6J("ngIf","firmware"==t.selectedFileType),n.xp6(1),n.Q6J("ngIf","web"==t.selectedFileType))},directives:[_.O5,_.sg,de],pipes:[v.X$],styles:[".wrapper--setting-panel[_ngcontent-%COMP%]{width:100%;height:100%;-webkit-animation:zoomIn .35s ease;animation:zoomIn .35s ease}.setting-panel[_ngcontent-%COMP%]{width:600px;position:relative;top:50%;left:50%;transform:translate(-50%,-50%);background-color:#383838;border-radius:10px}.setting-panel[_ngcontent-%COMP%]   .wapper-scroll[_ngcontent-%COMP%]{height:320px;overflow-y:scroll}@media only screen and (min-width: 768px) and (max-width: 1399px){.wapper-scroll[_ngcontent-%COMP%]{height:400px!important}}header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding:8px 12px;font-size:28px;font-family:Arial;border-bottom:1px solid #555;color:#fff;font-weight:bolder;height:80px;line-height:72px}footer[_ngcontent-%COMP%]{text-align:right;border-top:1px solid #555}footer[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{outline:none;padding:6px 16px;font-size:18px;border:none;border-radius:5px;margin:12px 8px;color:#fff;cursor:pointer;font-weight:bolder}footer[_ngcontent-%COMP%]   .btn.cancel[_ngcontent-%COMP%]{background-color:#ff5f2e}footer[_ngcontent-%COMP%]   .btn.ok[_ngcontent-%COMP%]{background-color:#3ac569}.td--block[_ngcontent-%COMP%]{width:100%;text-align:left;line-height:60px;padding:0 20px}._ngcontent-c14[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}._ngcontent-c14[_ngcontent-%COMP%] > td[_ngcontent-%COMP%]{width:100%;text-align:center;padding-left:40px;height:100px}._ngcontent-c14[_ngcontent-%COMP%] > td[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{padding:10px 0;position:relative;line-height:35px}.versions[_ngcontent-%COMP%]{color:#00a0c8;margin-right:60%}.span[_ngcontent-%COMP%]{color:#00a0c8}.setting-panel[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{text-align:right;font-size:18px;padding-bottom:20px;width:100%;color:#fff;font-family:Arial}.setting-panel[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:20px}.setting-panel[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td.td--link[_ngcontent-%COMP%]{text-align:left}.setting-panel[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td.td--link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#00a0c8}.setting-panel[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td.apikey[_ngcontent-%COMP%]{position:relative}.setting-panel[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td.apikey[_ngcontent-%COMP%]   .apikey-select[_ngcontent-%COMP%]{position:absolute;width:100%;color:#000;max-height:0;overflow:hidden;line-height:1.5;text-align:center;background-color:#fff;border-radius:5px;transition:all .3s ease}.setting-panel[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td.apikey[_ngcontent-%COMP%]   .apikey-select.show[_ngcontent-%COMP%]{max-height:300px}.setting-panel[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td.apikey[_ngcontent-%COMP%]   .apikey-select[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:hover{background-color:#eee}.setting-panel[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td.theme[_ngcontent-%COMP%]{display:flex;height:50px;padding:0}.setting-panel[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td.theme[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{flex:1;height:100%;line-height:50px;text-align:center;border-radius:4px;margin:0 5px;transition:all .5s cubic-bezier(.075,.82,.165,1)}.setting-panel[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td.theme[_ngcontent-%COMP%]   div.clod[_ngcontent-%COMP%]{background-color:#007acc;box-shadow:0 0 10px #007acc}.setting-panel[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td.theme[_ngcontent-%COMP%]   div.warn[_ngcontent-%COMP%]{background-color:#e92;box-shadow:0 0 10px #e92}.setting-panel[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td.theme[_ngcontent-%COMP%]   div.blank[_ngcontent-%COMP%]{background-color:#000200;box-shadow:0 0 10px #000200}.setting-panel[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td.theme[_ngcontent-%COMP%]   div.pink[_ngcontent-%COMP%]{background-color:#ffb1b0;box-shadow:0 0 10px #ffb1b0}.setting-panel[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td.theme[_ngcontent-%COMP%]   div.green[_ngcontent-%COMP%]{background-color:#2fb303;box-shadow:0 0 10px #2fb303}.setting-panel[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td.theme[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.setting-panel[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;font-size:20px;border:none;outline:none;padding:4px 8px;border-radius:4px}.setting-panel[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;height:30px;background-color:#fff;border-radius:5px;outline:none;border:none;font-size:18px;padding-left:6px}@media only screen and (min-width: 320px) and (max-height: 767px){.setting-panel[_ngcontent-%COMP%]{width:70%}.setting-panel[_ngcontent-%COMP%]   .wapper-scroll[_ngcontent-%COMP%]{height:200px;overflow-y:scroll}}.update_text[_ngcontent-%COMP%]{padding-left:20px}.update_text[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]{text-decoration:underline;cursor:pointer;transition:all .15s ease}.update_text[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]:hover{color:#00a9c8}.file-type[_ngcontent-%COMP%]{text-align:center;padding:0 40px 0 0!important}.file-type[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:underline;cursor:pointer;font-size:20px;color:#00b9f1;font-family:Arial}.file-type[_ngcontent-%COMP%]   a.selected[_ngcontent-%COMP%]{color:#fff!important}.file-type[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin:0 12px;color:#fff}.file-type[_ngcontent-%COMP%]   .selected[_ngcontent-%COMP%]{color:#fff}.selected[_ngcontent-%COMP%]{color:#fff}.update_text[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{width:100%;display:inline-block;font-size:18px}"]}),e})(),ye=(()=>{class e{constructor(e,t){this.globalOperatorSrv=e,this.storeSrv=t,this.version="",this.saveChecked=!0}ngOnInit(){this.version=this.storeSrv.VERSION}openModal(e){this.globalOperatorSrv.createMaskModal(Ve).instance.createDynamicComponent(e)}link_verstion(e){"Stabile"===e?window.open("https://flow.m5stack.com/v145"):"v2"===e&&window.open("https://uiflow2.m5stack.com/")}checkbox(e){this.saveChecked=!this.saveChecked}cancel(e){if(-1==e.target.className.indexOf("wrapper--setting-panel"))return!1;this.globalOperatorSrv.maskModal.instance.removeMask()}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(u.t),n.Y36(d.d))},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-select-version"]],decls:20,vars:0,consts:[[1,"wrapper--setting-panel",3,"click"],[1,"setting-panel"],[1,"wapper-scroll"],[1,"_ngcontent-c14"],[1,"version_btn","stabile",3,"click"],["src","../../../assets/images/UI_FLOW.png","alt","v1.4.5"],[1,"version_btn","beta"],["src","../../../assets/images/UI_FLOW.png","alt","Beta"],["src","../../../assets/images/UI_FLOW.png","alt","2.0"]],template:function(e,t){1&e&&(n.TgZ(0,"div",0),n.NdJ("click",function(e){return t.cancel(e)}),n.TgZ(1,"div",1),n.TgZ(2,"div",2),n.TgZ(3,"table"),n.TgZ(4,"tr",3),n.TgZ(5,"td"),n.TgZ(6,"div",4),n.NdJ("click",function(){return t.link_verstion("Stabile")}),n.TgZ(7,"p"),n._uU(8,"v1.4.5"),n.qZA(),n._UZ(9,"img",5),n.qZA(),n.qZA(),n.TgZ(10,"td"),n.TgZ(11,"div",6),n.TgZ(12,"p"),n._uU(13,"UIFlow1.0 Latest"),n.qZA(),n._UZ(14,"img",7),n.qZA(),n.qZA(),n.TgZ(15,"td"),n.TgZ(16,"div",4),n.NdJ("click",function(){return t.link_verstion("v2")}),n.TgZ(17,"p"),n._uU(18,"UIFlow2.0"),n.qZA(),n._UZ(19,"img",8),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA())},styles:[".wrapper--setting-panel[_ngcontent-%COMP%]{width:100%;height:100%;-webkit-animation:zoomIn .35s ease;animation:zoomIn .35s ease;cursor:pointer}.setting-panel[_ngcontent-%COMP%]{width:720px;position:relative;top:50%;left:50%;transform:translate(-50%,-50%);background-color:#383838;border-radius:10px;cursor:default}.setting-panel[_ngcontent-%COMP%]   .wapper-scroll[_ngcontent-%COMP%]{height:258px}._ngcontent-c14[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}._ngcontent-c14[_ngcontent-%COMP%] > td[_ngcontent-%COMP%]{width:100%;text-align:center;height:100px}.setting-panel[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{text-align:right;font-size:18px;padding-bottom:20px;width:100%;color:#fff;font-family:Arial}@media only screen and (min-width: 320px) and (max-height: 767px){.setting-panel[_ngcontent-%COMP%]{width:70%}.setting-panel[_ngcontent-%COMP%]   .wapper-scroll[_ngcontent-%COMP%]{height:200px}}.version_btn[_ngcontent-%COMP%]{width:227px;height:218px;display:inline-block;font-size:26px;margin-top:18px;padding-top:10px;text-align:center;border-radius:10px}.version_btn[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:6px}.version_btn[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:150px;height:150px}.stabile[_ngcontent-%COMP%]:hover, .beta[_ngcontent-%COMP%]{background-color:#1f1f1f;color:#00a2e9}.beta[_ngcontent-%COMP%]{cursor:default}.stabile[_ngcontent-%COMP%]{cursor:pointer}.checkbox[_ngcontent-%COMP%]{margin-top:22px;position:absolute;right:20px;bottom:12px;color:#fff}.checkbox[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:17px;height:17px;margin-right:5px;cursor:pointer}.checkbox[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{cursor:pointer}"]}),e})();var be=i(54120);const we=["passwordInput"];function Ae(e,t){1&e&&n._UZ(0,"img",24)}function xe(e,t){1&e&&n._UZ(0,"img",25)}function Te(e,t){1&e&&(n.TgZ(0,"div",26),n.TgZ(1,"div",27),n._UZ(2,"span",28),n._UZ(3,"span",28),n._UZ(4,"span",28),n._UZ(5,"span",28),n._UZ(6,"span",28),n._UZ(7,"span",28),n._UZ(8,"span",28),n._UZ(9,"span",28),n.qZA(),n.qZA())}let Ce=(()=>{class e{constructor(e,t,i){this.globalOperatorSrv=e,this.storeSrv=t,this.loginSrv=i,this.isShowPwd=!1,this.userName=localStorage.getItem("email")||"",this.password="",this.canClose=!0,this.loddingMode=!1,this.isAutoLogin=!1}ngOnInit(){}cancel(e){e.stopPropagation(),e.preventDefault();let t=e.target.className;if(-1!==t.indexOf("wrapper--login")){if(!this.canClose)return!1;this.globalOperatorSrv.maskModal.instance.removeMask()}else{if(-1===t.indexOf("cancel"))return!1;this.globalOperatorSrv.maskModal.instance.removeMask()}}login(){if(!this.loddingMode){if(!(this.userName&&/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/.test(this.userName)&&this.password))return void this.loginError();this.loddingMode=!0,this.loginSrv.login(this.userName,this.password,this.isAutoLogin).subscribe(e=>{this.loddingMode=!1,this.loginSrv.hardware(e.data.token).subscribe(),this.storeSrv.setLoginStatus(!0),this.globalOperatorSrv.maskModal.instance.removeMask(),l().fire({icon:"success",title:`Welcome ${this.userName}!`,showConfirmButton:!0,confirmButtonColor:window.Blockly.Msg.SWAL_PRIMARY_HUE,timer:1500})},e=>{this.loddingMode=!1,this.loginError()})}}loginError(){this.globalOperatorSrv.errSwal("Login failed, check your email or password.")}showPwd(){this.isShowPwd?(this.isShowPwd=!1,this.passwordInput.nativeElement.type="password"):(this.isShowPwd=!0,this.passwordInput.nativeElement.type="text")}openUrl(e){window.open(`https://forum.m5stack.com/${e}`,"_blank")}handleEmail(e){this.userName=e.target.value.trim(),this.canClose=""===this.userName&&""===this.password}handlePassword(e){this.password=e.target.value.trim(),this.canClose=""===this.userName&&""===this.password}handleKeyBoard(e){"Enter"===e.code&&this.login()}autoLoginClickHandler(e){e.stopPropagation(),e.preventDefault(),this.isAutoLogin=!this.isAutoLogin}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(u.t),n.Y36(d.d),n.Y36(be.j))},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-login"]],viewQuery:function(e,t){if(1&e&&n.Gf(we,5),2&e){let e;n.iGM(e=n.CRH())&&(t.passwordInput=e.first)}},decls:37,vars:9,consts:[[1,"wrapper--login",3,"click"],[1,"setting-panel"],[1,"cancel-btn",3,"click"],["src","../../../assets/images/cancel.png","alt","CLOSE","title","CLOSE",1,"cancel"],[1,"container"],[1,"logo"],["src","../../../assets/images/UI_FLOW.png","alt","UIFlow","title","UIFlow"],[1,"login-form"],[1,"login-form-li"],["src","../../../assets/images/login.png","alt","USER","title","USER"],["type","email","placeholder","Email",3,"value","input"],["src","../../../assets/images/password.png","alt","PASSWORD","title","PASSWORD"],["type","password","placeholder","Password",3,"input","keydown"],["passwordInput",""],[1,"pwd-btn",3,"click"],["src","../../../assets/images/show-pwd.png","alt","show password","title","show password",4,"ngIf","ngIfElse"],["hidePwd",""],[1,"login-switch"],["id","login-switch","type","checkbox",3,"checked","checkedChange","mouseup"],["for","login-switch",3,"click"],[1,"forget-password",3,"click"],[1,"login-btn",3,"click"],["class","loading",4,"ngIf"],[1,"register",3,"click"],["src","../../../assets/images/show-pwd.png","alt","show password","title","show password"],["src","../../../assets/images/hide-pwd.png","alt","hide password","title","hide password"],[1,"loading"],[1,"point-loading"],[1,"point"]],template:function(e,t){if(1&e&&(n.TgZ(0,"div",0),n.NdJ("click",function(e){return t.cancel(e)}),n.TgZ(1,"div",1),n.TgZ(2,"button",2),n.NdJ("click",function(e){return t.cancel(e)}),n._UZ(3,"img",3),n.qZA(),n.TgZ(4,"div",4),n.TgZ(5,"div",5),n._UZ(6,"img",6),n.qZA(),n.TgZ(7,"div",7),n.TgZ(8,"ul"),n.TgZ(9,"li",8),n.TgZ(10,"span"),n._UZ(11,"img",9),n.qZA(),n.TgZ(12,"input",10),n.NdJ("input",function(e){return t.handleEmail(e)}),n.qZA(),n.qZA(),n.TgZ(13,"li",8),n.TgZ(14,"span"),n._UZ(15,"img",11),n.qZA(),n.TgZ(16,"input",12,13),n.NdJ("input",function(e){return t.handlePassword(e)})("keydown",function(e){return t.handleKeyBoard(e)}),n.qZA(),n.TgZ(18,"span",14),n.NdJ("click",function(){return t.showPwd()}),n.YNc(19,Ae,1,0,"img",15),n.YNc(20,xe,1,0,"ng-template",null,16,n.W1O),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.TgZ(22,"div",17),n.TgZ(23,"input",18),n.NdJ("checkedChange",function(e){return t.isAutoLogin=e})("mouseup",function(e){return t.autoLoginClickHandler(e)}),n.qZA(),n.TgZ(24,"label",19),n.NdJ("click",function(e){return t.autoLoginClickHandler(e)}),n._uU(25," Auto Login "),n.qZA(),n.qZA(),n.TgZ(26,"div",20),n.NdJ("click",function(){return t.openUrl("reset")}),n.TgZ(27,"span"),n._uU(28,"Forgot password ?"),n.qZA(),n.qZA(),n.TgZ(29,"button",21),n.NdJ("click",function(){return t.login()}),n.TgZ(30,"span"),n._uU(31,"Login"),n.qZA(),n.YNc(32,Te,10,0,"div",22),n.qZA(),n.TgZ(33,"div",23),n.NdJ("click",function(){return t.openUrl("register")}),n._uU(34,"New to UIflow ? "),n.TgZ(35,"span"),n._uU(36,"Create a new account"),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA()),2&e){const e=n.MAs(21);n.xp6(12),n.s9C("value",t.userName),n.xp6(7),n.Q6J("ngIf",t.isShowPwd)("ngIfElse",e),n.xp6(4),n.Q6J("checked",t.isAutoLogin),n.xp6(6),n.Udp("pointer-events",t.loddingMode?"none":"auto"),n.ekj("active",t.loddingMode),n.xp6(3),n.Q6J("ngIf",t.loddingMode)}},directives:[_.O5],styles:[".wrapper--login[_ngcontent-%COMP%]{width:100%;height:100%;-webkit-animation:zoomIn .35s ease;animation:zoomIn .35s ease;font-family:Arial}.setting-panel[_ngcontent-%COMP%]{width:500px;height:390px;position:relative;top:50%;left:50%;transform:translate(-50%,-50%);background-color:#383838;border-radius:10px}.container[_ngcontent-%COMP%]{position:relative;width:80%;margin:0 auto;padding:16px 0}.logo[_ngcontent-%COMP%]{margin:20px 0}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block;margin:0 auto;width:70px;height:70px}.login-form-li[_ngcontent-%COMP%]{padding:8px;width:100%;height:40px;list-style:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;border-radius:4px;background-color:#fff;margin-bottom:10px;display:flex;align-items:center}.login-form-li[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px;height:20px;margin-right:8px}.login-form-li[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:90%;height:20px;font-size:18px;background-color:#fff;border:none;outline:none}.login-form-li[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:-internal-autofill-selected{box-shadow:0 0 0 1000px #fff inset}.login-form-li[_ngcontent-%COMP%]   .pwd-btn[_ngcontent-%COMP%]{cursor:pointer}.register[_ngcontent-%COMP%], .forget-password[_ngcontent-%COMP%]{color:#fff;font-size:16px;-webkit-user-select:none;-moz-user-select:none;user-select:none}.register[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .forget-password[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#00a2e9;cursor:pointer}.register[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:hover, .forget-password[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:hover{color:#0073d1}.forget-password[_ngcontent-%COMP%]{display:inline-block;position:absolute;right:0}.register[_ngcontent-%COMP%]{position:relative;width:100%;text-align:center;margin-top:30px}.cancel-btn[_ngcontent-%COMP%], .login-btn[_ngcontent-%COMP%]{border:none;cursor:pointer;outline:none}.login-btn[_ngcontent-%COMP%]{background-color:#00a2e9;border-radius:4px;width:100%;height:44px;margin-top:20px;color:#fff;font-size:20px;display:flex;justify-content:center;align-items:center}.login-btn[_ngcontent-%COMP%]:hover{background-color:#0073d1}.login-btn.active[_ngcontent-%COMP%]{background-color:#0073d1}.cancel-btn[_ngcontent-%COMP%]{position:absolute;top:10px;right:10px;width:16px;height:16px;padding:5px;border-radius:5px;background-color:transparent;box-sizing:content-box}.cancel-btn[_ngcontent-%COMP%]:hover{background-color:var(--blockCodeBtnFocus-color)}.cancel-btn[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:16px;height:16px}.loading[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-left:10px}@-webkit-keyframes pointLoading{0%{transform:scale(.3);opacity:.5}to{transform:scale(1);opacity:1}}@keyframes pointLoading{0%{transform:scale(.3);opacity:.5}to{transform:scale(1);opacity:1}}.point-loading[_ngcontent-%COMP%]{width:20px;height:20px;position:relative;margin:0 auto}.point-loading[_ngcontent-%COMP%]   .point[_ngcontent-%COMP%]{width:3px;height:3px;border-radius:50%;background:#fff;position:absolute;-webkit-animation:pointLoading 1s infinite;animation:pointLoading 1s infinite}.point-loading[_ngcontent-%COMP%]   .point[_ngcontent-%COMP%]:nth-child(1){left:0;top:50%;margin-top:-2px;-webkit-animation-delay:.13s;animation-delay:.13s}.point-loading[_ngcontent-%COMP%]   .point[_ngcontent-%COMP%]:nth-child(2){left:2.8px;top:2.8px;-webkit-animation-delay:.26s;animation-delay:.26s}.point-loading[_ngcontent-%COMP%]   .point[_ngcontent-%COMP%]:nth-child(3){left:50%;top:0;margin-left:-2px;-webkit-animation-delay:.39s;animation-delay:.39s}.point-loading[_ngcontent-%COMP%]   .point[_ngcontent-%COMP%]:nth-child(4){top:2.8px;right:2.8px;-webkit-animation-delay:.52s;animation-delay:.52s}.point-loading[_ngcontent-%COMP%]   .point[_ngcontent-%COMP%]:nth-child(5){right:0;top:50%;margin-top:-2px;-webkit-animation-delay:.65s;animation-delay:.65s}.point-loading[_ngcontent-%COMP%]   .point[_ngcontent-%COMP%]:nth-child(6){right:2.8px;bottom:2.8px;-webkit-animation-delay:.78s;animation-delay:.78s}.point-loading[_ngcontent-%COMP%]   .point[_ngcontent-%COMP%]:nth-child(7){bottom:0;left:50%;margin-left:-2px;-webkit-animation-delay:.91s;animation-delay:.91s}.point-loading[_ngcontent-%COMP%]   .point[_ngcontent-%COMP%]:nth-child(8){bottom:2.8px;left:2.8px;-webkit-animation-delay:1.04s;animation-delay:1.04s}.login-switch[_ngcontent-%COMP%]{display:inline-block;color:#fff;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer}.login-switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:15px;height:15px;margin-right:5px}"]}),e})();var Ze=i(99155),ke=i(20138),Se=i(48091);function Ee(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"li"),n.TgZ(1,"div",11),n.TgZ(2,"div",12),n._uU(3),n.qZA(),n.TgZ(4,"div",13),n._uU(5),n.qZA(),n.TgZ(6,"div",14),n._uU(7),n.qZA(),n.TgZ(8,"div",15),n._uU(9),n.ALo(10,"alias"),n.qZA(),n.qZA(),n.TgZ(11,"div",16),n.TgZ(12,"div",17),n.NdJ("click",function(){const t=n.CHM(e).$implicit;return n.oxw().load(t.id)}),n._uU(13,"Load"),n.qZA(),n.TgZ(14,"div",18),n.NdJ("click",function(){const t=n.CHM(e).$implicit;return n.oxw().del(t.id)}),n._uU(15),n.ALo(16,"translate"),n.qZA(),n.qZA(),n.qZA()}if(2&e){const e=t.$implicit,i=t.index;n.xp6(3),n.hij(" ",i+1," "),n.xp6(2),n.hij(" ",e.time," "),n.xp6(2),n.hij(" ",e.name," "),n.xp6(2),n.hij(" ",n.lcZ(10,5,null==e||null==e.data?null:e.data.type)," "),n.xp6(6),n.Oqu(n.lcZ(16,7,"DELETE"))}}function Me(e,t){1&e&&(n.TgZ(0,"div",19),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&e&&(n.xp6(1),n.Oqu(n.lcZ(2,1,"NODATA")))}function Oe(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"div",20),n.TgZ(1,"div",21),n.NdJ("click",function(){return n.CHM(e),n.oxw().clear()}),n._uU(2,"Clear All"),n.qZA(),n.qZA()}}let Ie=(()=>{class e{constructor(e,t,i,n,o,r,s){this.globalOperatorSrv=e,this.storeSrv=t,this.m5fHistorySrv=i,this.pnpSrv=n,this.uploadSrv=o,this.zenaderHelp=r,this.zrenderHelperMb=s,this.historyList=[],this.canClose=!0,this.M5F_create=Ze.G.prototype.M5F_create,this.loadImg=Ze.G.prototype.loadImg,this.updateImgHandler=Ze.G.prototype.updateImgHandler,this.changeToDefaultImgHandler=Ze.G.prototype.changeToDefaultImgHandler,this.UIHELP=this.globalOperatorSrv.ismb?this.zrenderHelperMb:this.zenaderHelp}ngOnInit(){this.m5fHistorySrv.getAllData(),this.m5fHistorySrv.getHistoryList().subscribe(e=>{if(e.length){let t=[];for(let i=0;i<e.length;i++){const n=e[i];let o=this.m5fHistorySrv.getDate(n.id);t.unshift({id:n.id,time:o,name:n.name,data:n.data})}this.historyList=t}else this.historyList=[]})}cancel(e){e.stopPropagation(),e.preventDefault();let t=e.target.className;if(-1!==t.indexOf("wrapper--m5f-history")){if(!this.canClose)return!1;this.globalOperatorSrv.maskModal.instance.removeMask()}else{if(-1===t.indexOf("cancel"))return!1;this.globalOperatorSrv.maskModal.instance.removeMask()}}load(e){l().fire({icon:"warning",text:"Load data will clear the current workspace. Are you sure you want to load?",showCancelButton:!0,showDenyButton:!0,showConfirmButton:!this.globalOperatorSrv.getIpad(),confirmButtonColor:window.Blockly.Msg.SWAL_PRIMARY_HUE,denyButtonColor:window.Blockly.Msg.SWAL_DANGER_HUE,cancelButtonColor:window.Blockly.Msg.SWAL_GRAY_HUE,confirmButtonText:"Save the file and load data",denyButtonText:"Load data but don't save",allowOutsideClick:!1}).then(t=>{t.isConfirmed?(this.saveM5F(),this.loadData(e)):t.isDenied&&this.loadData(e)})}saveM5F(){let e=this.globalOperatorSrv.saveM5F();window.doSave(JSON.stringify(e),"text/latex",this.storeSrv.projectName.value+".m5f")}loadData(e){let t=this.historyList.filter(t=>t.id===e)[0],i=t.data;this.storeSrv.setProjectName(t.name),this.M5F_create([JSON.stringify(i),null]),this.globalOperatorSrv.maskModal.instance.removeMask()}del(e){this.m5fHistorySrv.delM5fData(e)}clear(){l().fire({icon:"warning",text:"Are you sure you want to clear all record?",confirmButtonColor:window.Blockly.Msg.SWAL_PRIMARY_HUE,confirmButtonText:"OK",showCancelButton:!0,allowOutsideClick:!1}).then(e=>{e.isConfirmed&&this.m5fHistorySrv.delAllData()})}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(ke.t0),n.Y36(ke.d6),n.Y36(ke.s9),n.Y36(ke.rR),n.Y36(ke.C7),n.Y36(ke._5),n.Y36(ke.j))},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-m5f-history"]],decls:12,vars:3,consts:[[1,"wrapper--m5f-history",3,"click"],[1,"setting-panel"],[1,"setting-panel-top"],[1,"title"],[1,"cancel-btn",3,"click"],["src","../../../assets/images/cancel.png","alt","CLOSE",1,"cancel"],[1,"container"],[1,"history-list"],[4,"ngFor","ngForOf"],["class","msg",4,"ngIf"],["class","footer",4,"ngIf"],[1,"info"],[1,"info-idx"],[1,"info-id"],[1,"info-name"],[1,"info-device"],[1,"btn-box"],[1,"load-btn",3,"click"],[1,"del-btn",3,"click"],[1,"msg"],[1,"footer"],[1,"clear-btn",3,"click"]],template:function(e,t){1&e&&(n.TgZ(0,"div",0),n.NdJ("click",function(e){return t.cancel(e)}),n.TgZ(1,"div",1),n.TgZ(2,"div",2),n.TgZ(3,"div",3),n._uU(4,"Run History Record"),n.qZA(),n.TgZ(5,"span",4),n.NdJ("click",function(e){return t.cancel(e)}),n._UZ(6,"img",5),n.qZA(),n.qZA(),n.TgZ(7,"div",6),n.TgZ(8,"ul",7),n.YNc(9,Ee,17,9,"li",8),n.qZA(),n.YNc(10,Me,3,3,"div",9),n.qZA(),n.YNc(11,Oe,3,0,"div",10),n.qZA(),n.qZA()),2&e&&(n.xp6(9),n.Q6J("ngForOf",t.historyList),n.xp6(1),n.Q6J("ngIf",0===t.historyList.length),n.xp6(1),n.Q6J("ngIf",t.historyList.length))},directives:[_.sg,_.O5],pipes:[Se.p,v.X$],styles:[".wrapper--m5f-history[_ngcontent-%COMP%]{width:100%;height:100%;-webkit-animation:zoomIn .35s ease;animation:zoomIn .35s ease;font-family:Arial}.wrapper--m5f-history[_ngcontent-%COMP%]   .setting-panel[_ngcontent-%COMP%]{width:60%;min-width:628px;height:480px;position:relative;top:50%;left:50%;transform:translate(-50%,-50%);background-color:#383838;border-radius:10px;overflow:hidden}.wrapper--m5f-history[_ngcontent-%COMP%]   .setting-panel-top[_ngcontent-%COMP%]{position:relative}.wrapper--m5f-history[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:26px;text-align:center;color:#fff;margin-bottom:10px;padding:17px 0 10px;font-weight:bolder;border-bottom:2px solid #424242;-webkit-user-select:none;-moz-user-select:none;user-select:none}.wrapper--m5f-history[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{position:relative;width:90%;height:65%;margin:23px auto 0;overflow-y:auto;color:#fff}.wrapper--m5f-history[_ngcontent-%COMP%]   .history-list[_ngcontent-%COMP%]{color:#fff;width:100%;table-layout:fixed;padding:0 10px}.wrapper--m5f-history[_ngcontent-%COMP%]   .history-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;list-style:none;height:33px;margin:18px 0;padding-left:10px;border-bottom:1px #515151 solid}.wrapper--m5f-history[_ngcontent-%COMP%]   .history-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-last-child(1){border-bottom:none}.wrapper--m5f-history[_ngcontent-%COMP%]   .history-list[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{width:calc(100% - 150px);display:flex;align-items:center;padding-right:20px}.wrapper--m5f-history[_ngcontent-%COMP%]   .history-list[_ngcontent-%COMP%]   .info-idx[_ngcontent-%COMP%]{width:30px;margin-right:16px}.wrapper--m5f-history[_ngcontent-%COMP%]   .history-list[_ngcontent-%COMP%]   .info-id[_ngcontent-%COMP%]{width:168px;margin-right:16px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.wrapper--m5f-history[_ngcontent-%COMP%]   .history-list[_ngcontent-%COMP%]   .info-name[_ngcontent-%COMP%]{flex:1;margin-right:16px;min-width:100px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.wrapper--m5f-history[_ngcontent-%COMP%]   .history-list[_ngcontent-%COMP%]   .info-device[_ngcontent-%COMP%]{font-size:13px;width:100px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.wrapper--m5f-history[_ngcontent-%COMP%]   .btn-box[_ngcontent-%COMP%]{position:absolute;display:flex;right:10px;top:0}.wrapper--m5f-history[_ngcontent-%COMP%]   .clear-btn[_ngcontent-%COMP%], .wrapper--m5f-history[_ngcontent-%COMP%]   .del-btn[_ngcontent-%COMP%], .wrapper--m5f-history[_ngcontent-%COMP%]   .load-btn[_ngcontent-%COMP%]{border-radius:4px;padding:4px 12px;text-align:center;color:#fff;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;user-select:none}.wrapper--m5f-history[_ngcontent-%COMP%]   .load-btn[_ngcontent-%COMP%]{width:70px;margin-right:10px;background-color:#30a9de}.wrapper--m5f-history[_ngcontent-%COMP%]   .load-btn[_ngcontent-%COMP%]:hover{background-color:#0090ce}.wrapper--m5f-history[_ngcontent-%COMP%]   .del-btn[_ngcontent-%COMP%]{width:70px;background-color:#e53a40}.wrapper--m5f-history[_ngcontent-%COMP%]   .del-btn[_ngcontent-%COMP%]:hover{background-color:#da0007}.wrapper--m5f-history[_ngcontent-%COMP%]   .msg[_ngcontent-%COMP%]{text-align:center;-webkit-user-select:none;-moz-user-select:none;user-select:none}.wrapper--m5f-history[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]{position:absolute;bottom:0;width:100%;border-top:2px solid #424242}.wrapper--m5f-history[_ngcontent-%COMP%]   .clear-btn[_ngcontent-%COMP%]{width:100px;margin:16px auto;background-color:#e53a40}.wrapper--m5f-history[_ngcontent-%COMP%]   .clear-btn[_ngcontent-%COMP%]:hover{background-color:#da0007}.wrapper--m5f-history[_ngcontent-%COMP%]   .cancel-btn[_ngcontent-%COMP%]{position:absolute;top:10px;right:10px;width:16px;height:16px;padding:5px;border-radius:5px;background-color:transparent;box-sizing:content-box;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;user-select:none}.wrapper--m5f-history[_ngcontent-%COMP%]   .cancel-btn[_ngcontent-%COMP%]:hover{background-color:var(--blockCodeBtnFocus-color)}.wrapper--m5f-history[_ngcontent-%COMP%]   .cancel-btn[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:16px;height:16px}"]}),e})();const Pe=["passwordInput"];function Re(e,t){if(1&e&&(n.TgZ(0,"div",11),n.TgZ(1,"span",7),n._uU(2),n.qZA(),n.TgZ(3,"span",8),n._uU(4),n.qZA(),n.qZA()),2&e){const e=t.$implicit;n.xp6(1),n.ekj("new",e.isNew),n.xp6(1),n.Oqu(e.key),n.xp6(2),n.Oqu(e.desc)}}let qe=(()=>{class e{constructor(e,t){this.globalOperatorSrv=e,this.storeSrv=t,this.shortcutList=[]}ngOnInit(){this.shortcutList=[{key:"Ctrl + B",desc:"Open the recent blocks panel."},{key:"Alt + Q",desc:"Create variable"},{key:"Ctrl + R",desc:"Run"},{key:"Ctrl + D",desc:"Download"},{key:"Ctrl + Z",desc:"Undo"},{key:"Ctrl + Shift + Z",desc:"Redo"},{key:"Arrow keys",desc:"When a UI component is in focus, move it in the direction specified."},{key:"Ctrl + arrow key",desc:"When a UI component is in focus, move it to edge."},{key:"Shift + arrow key",desc:"When a UI component is in focus, change it of size or font."}]}cancel(e){e.stopPropagation(),e.preventDefault(),this.globalOperatorSrv.maskModal.instance.removeMask()}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(u.t),n.Y36(d.d))},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-shortcut-list"]],viewQuery:function(e,t){if(1&e&&n.Gf(Pe,5),2&e){let e;n.iGM(e=n.CRH())&&(t.passwordInput=e.first)}},decls:14,vars:1,consts:[[1,"shortcut-intro-wrapper"],[1,"shortcut-intro-box"],[1,"cancel-btn",3,"click"],["src","../../../assets/images/cancel.png","alt","CLOSE","title","CLOSE",1,"cancel"],[1,"shortcut-title"],[1,"shortcut-body"],[1,"shortcut-headings"],[1,"shortcut-key"],[1,"shortcut-desc"],[1,"shortcut-list"],["class","shortcut-item",4,"ngFor","ngForOf"],[1,"shortcut-item"]],template:function(e,t){1&e&&(n.TgZ(0,"div",0),n.TgZ(1,"div",1),n.TgZ(2,"button",2),n.NdJ("click",function(e){return t.cancel(e)}),n._UZ(3,"img",3),n.qZA(),n.TgZ(4,"div",4),n._uU(5,"Shortcut Keys"),n.qZA(),n.TgZ(6,"div",5),n.TgZ(7,"div",6),n.TgZ(8,"span",7),n._uU(9,"Press this key"),n.qZA(),n.TgZ(10,"span",8),n._uU(11,"To do this"),n.qZA(),n.qZA(),n.TgZ(12,"div",9),n.YNc(13,Re,5,4,"div",10),n.qZA(),n.qZA(),n.qZA(),n.qZA()),2&e&&(n.xp6(13),n.Q6J("ngForOf",t.shortcutList))},directives:[_.sg],styles:['.shortcut-intro-box[_ngcontent-%COMP%]   .cancel-btn[_ngcontent-%COMP%]{border:none;cursor:pointer;outline:none}.shortcut-intro-wrapper[_ngcontent-%COMP%]{width:100%;height:100%;-webkit-animation:zoomIn .35s ease;animation:zoomIn .35s ease;font-family:Arial}.shortcut-intro-box[_ngcontent-%COMP%]{width:680px;height:460px;position:relative;top:50%;left:50%;transform:translate(-50%,-50%);padding:10px;color:#fff;font-size:16px;border-radius:10px;background-color:#383838}.shortcut-intro-box[_ngcontent-%COMP%]   .shortcut-title[_ngcontent-%COMP%]{height:14%;padding:3px 0;font-size:28px;line-height:36px;font-weight:bolder;text-align:center}.shortcut-intro-box[_ngcontent-%COMP%]   .shortcut-body[_ngcontent-%COMP%]{height:80%;display:flex;flex-direction:column}.shortcut-intro-box[_ngcontent-%COMP%]   .shortcut-headings[_ngcontent-%COMP%]{display:flex;align-items:center;padding:8px 3px 8px 12px;border-bottom:1px solid #494949;background-color:#282828}.shortcut-intro-box[_ngcontent-%COMP%]   .shortcut-list[_ngcontent-%COMP%]{overflow-y:auto}.shortcut-intro-box[_ngcontent-%COMP%]   .shortcut-item[_ngcontent-%COMP%]{display:flex;align-items:center;padding:8px 3px 8px 12px;border-bottom:1px solid #494949}.shortcut-intro-box[_ngcontent-%COMP%]   .shortcut-key[_ngcontent-%COMP%]{width:136px;margin-right:16px;position:relative}.shortcut-intro-box[_ngcontent-%COMP%]   .shortcut-key.new[_ngcontent-%COMP%]:after{display:block}.shortcut-intro-box[_ngcontent-%COMP%]   .shortcut-key[_ngcontent-%COMP%]:after{display:none;content:"New";position:absolute;top:-17px;left:99px;padding:2px 7px;transform:scale(.6);font-size:16px;font-weight:500;line-height:18px;text-align:center;white-space:nowrap;color:#fff;background-color:#ee502f;border-radius:50px}.shortcut-intro-box[_ngcontent-%COMP%]   .shortcut-desc[_ngcontent-%COMP%]{flex:1;line-height:20px}.shortcut-intro-box[_ngcontent-%COMP%]   .cancel-btn[_ngcontent-%COMP%]{position:absolute;top:10px;right:10px;width:16px;height:16px;padding:5px;border-radius:5px;background-color:transparent;box-sizing:content-box}.shortcut-intro-box[_ngcontent-%COMP%]   .cancel-btn[_ngcontent-%COMP%]:hover{background-color:var(--blockCodeBtnFocus-color)}.shortcut-intro-box[_ngcontent-%COMP%]   .cancel-btn[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:16px;height:16px}']}),e})();var Le=i(92340),Ue=i(9582);function Be(e,t){if(1&e&&(n.TgZ(0,"li"),n._uU(1),n.ALo(2,"alias"),n.qZA()),2&e){const e=t.$implicit,i=t.index;n.xp6(1),n.AsE("",i+1,". ",n.lcZ(2,2,e),"")}}function De(e,t){if(1&e&&(n.TgZ(0,"li"),n._uU(1),n.qZA()),2&e){const e=t.$implicit,i=t.index;n.xp6(1),n.AsE("",i+1,". ",e,"")}}const Ne=function(e){return{active:e}};let Fe=(()=>{class e{constructor(e,t,i){this.globalOperatorSrv=e,this.storeSrv=t,this.guideSrv=i,this.version={V1:{name:"UIFlow1.0",type:"v1",deviceList:[o.__.ATOM,o.__.ATOM_MATRIX,o.__.ATOM_U,o.__.ATOM_DISPLAY,o.__.CORE,o.__.CORETWO,o.__.COREINK,o.__.FIRE,o.__.PAPER,o.__.M5STATION,o.__.PICO,o.__.STICK_C,o.__.STICK_C_PLUS,o.__.STICK_C_PLUS2,o.__.TOUGH]},V2:{name:"UIFlow2.0",type:"v2",deviceList:["AirQ","Atom Lite","AtomS3","AtomS3 Lite","AtomS3U","AtomU","Cardputer","Core","Core2","CoreS3","CoreInk","Fire","M5Capsule","M5Dial","M5DinMeter","M5Paper","M5Station","Stamp Pico","StampS3","StickC","StickC PLUS","StickC PLUS2","TOUGH"]}},this.selectedVersion=this.version.V1.type,this.checked=!1}selectVersion(e){this.selectedVersion=e}selectVersionConfirm(e){this.selectedVersion=e,this.confirm()}changeCheckbox(){this.checked=!this.checked}confirm(){this.checked&&localStorage.setItem("versionModal",JSON.stringify({display:"hide",ver:Le.N.version})),this.selectedVersion===this.version.V2.type?window.open("https://uiflow2.m5stack.com/"):this.selectedVersion===this.version.V1.type&&(this.globalOperatorSrv.maskModal.instance.removeMask(),"false"===(localStorage.getItem("guide")||"false")&&setTimeout(()=>{this.guideSrv.setIsOpenGuide(!0)},200))}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(u.t),n.Y36(d.d),n.Y36(Ue.C))},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-version-entry"]],decls:34,vars:17,consts:[[1,"wrapper--version-entry"],[1,"version-entry"],[1,"version-select"],[1,"left","active",3,"ngClass","click","dblclick"],[1,"version-title"],[1,"point",3,"ngClass"],["src","../../../assets/images/UI_FLOW.png","alt","UIFlow1"],[1,"support-device"],[1,"support-device-list"],[4,"ngFor","ngForOf"],[1,"right",3,"ngClass","click","dblclick"],["src","../../../assets/images/UI_FLOW.png","alt","UIFlow2"],[1,"footer"],[1,"link"],["href","https://docs.google.com/forms/d/e/1FAIpQLScQirvrTDYsBd8qmU1e-4hxRvz3Y-MDBWKG2-YxzqdQodhUzA/viewform","target","_blank"],[1,"btns"],[1,"checked",3,"click"],["type","checkbox","id","show",3,"checked"],[3,"click"]],template:function(e,t){1&e&&(n.TgZ(0,"div",0),n.TgZ(1,"div",1),n.TgZ(2,"div",2),n.TgZ(3,"div",3),n.NdJ("click",function(){return t.selectVersion(t.version.V1.type)})("dblclick",function(){return t.selectVersionConfirm(t.version.V1.type)}),n.TgZ(4,"h2",4),n._uU(5),n.qZA(),n._UZ(6,"i",5),n._UZ(7,"img",6),n.TgZ(8,"div",7),n.TgZ(9,"p"),n._uU(10,"Supported Devices: "),n.qZA(),n.TgZ(11,"ul",8),n.YNc(12,Be,3,4,"li",9),n.qZA(),n.qZA(),n.qZA(),n.TgZ(13,"div",10),n.NdJ("click",function(){return t.selectVersion(t.version.V2.type)})("dblclick",function(){return t.selectVersionConfirm(t.version.V2.type)}),n.TgZ(14,"h2",4),n._uU(15),n.qZA(),n._UZ(16,"i",5),n._UZ(17,"img",11),n.TgZ(18,"div",7),n.TgZ(19,"p"),n._uU(20,"Supported Devices: "),n.qZA(),n.TgZ(21,"ul",8),n.YNc(22,De,2,2,"li",9),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.TgZ(23,"div",12),n.TgZ(24,"div",13),n.TgZ(25,"a",14),n._uU(26," Contact form for classes and events using UIFlow. "),n.qZA(),n.qZA(),n.TgZ(27,"div",15),n.TgZ(28,"button",16),n.NdJ("click",function(){return t.changeCheckbox()}),n._UZ(29,"input",17),n.TgZ(30,"label"),n._uU(31,"Don't show again"),n.qZA(),n.qZA(),n.TgZ(32,"button",18),n.NdJ("click",function(){return t.confirm()}),n._uU(33,"Confirm"),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA()),2&e&&(n.xp6(3),n.Q6J("ngClass",n.VKq(9,Ne,t.selectedVersion===t.version.V1.type)),n.xp6(2),n.Oqu(t.version.V1.name),n.xp6(1),n.Q6J("ngClass",n.VKq(11,Ne,t.selectedVersion===t.version.V1.type)),n.xp6(6),n.Q6J("ngForOf",t.version.V1.deviceList),n.xp6(1),n.Q6J("ngClass",n.VKq(13,Ne,t.selectedVersion===t.version.V2.type)),n.xp6(2),n.Oqu(t.version.V2.name),n.xp6(1),n.Q6J("ngClass",n.VKq(15,Ne,t.selectedVersion===t.version.V2.type)),n.xp6(6),n.Q6J("ngForOf",t.version.V2.deviceList),n.xp6(7),n.Q6J("checked",t.checked))},directives:[_.mk,_.sg],pipes:[Se.p],styles:[".wrapper--version-entry[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;-webkit-animation:zoomIn .35s ease;animation:zoomIn .35s ease;color:#fff}.version-entry[_ngcontent-%COMP%]{padding:30px 10px 20px;min-width:670px;max-width:700px;position:relative;top:50%;left:50%;transform:translate(-50%,-50%);border-radius:20px;background-color:#ddfbfc;text-align:center}.version-entry[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#000}.version-select[_ngcontent-%COMP%]{display:flex;justify-content:center}.version-select[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px;height:100px}.version-select[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%], .version-select[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{position:relative;padding:10px;margin:10px 25px;min-width:260px;background-color:#323a3a;border-radius:15px;transition:all .2s linear;cursor:pointer}.version-select[_ngcontent-%COMP%]   .left.active[_ngcontent-%COMP%], .version-select[_ngcontent-%COMP%]   .right.active[_ngcontent-%COMP%]{background-color:#0e0e0e;box-shadow:8px 8px 8px #656969}.version-select[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]:hover, .version-select[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]:hover{background-color:#0e0e0e}.version-select[_ngcontent-%COMP%]   .point[_ngcontent-%COMP%]{position:absolute;left:15px;top:15px;width:15px;height:15px;border-radius:15px;transition:all .1s linear;background-color:#eb3326;box-shadow:0 0 2px 1px #ce2d22}.version-select[_ngcontent-%COMP%]   .point.active[_ngcontent-%COMP%]{background-color:#00e94e;box-shadow:0 0 2px 1px #02c543}.support-device[_ngcontent-%COMP%]{padding:2px 10px 5px;text-align:left;font-size:1.1em}.support-device-list[_ngcontent-%COMP%]{padding:2px 10px;font-size:.9em;list-style-type:none;display:flex;flex-direction:column;height:350px;flex-wrap:wrap}.support-device-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:2px}.footer[_ngcontent-%COMP%]{display:flex}.footer[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]{margin:15px 0 0 30px;width:200px}.footer[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#000}.btns[_ngcontent-%COMP%]{margin:15px 35px 5px 118px;display:flex;justify-content:flex-end}.checked[_ngcontent-%COMP%]{margin-right:5px;padding:.5em 1em;font-size:1em;display:flex;align-items:center;justify-content:center}.checked[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:18px;height:18px;margin-right:5px;cursor:pointer}.checked[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{cursor:pointer}.checked[_ngcontent-%COMP%], button[_ngcontent-%COMP%]{border:0;border-radius:8px;padding:.5em .6em;font-weight:500;color:#fff;font-size:1.1em;background-color:#00a2e9;cursor:pointer}.checked[_ngcontent-%COMP%]:hover, button[_ngcontent-%COMP%]:hover{background-color:#0377a8}"]}),e})();const He=["wrapperFullMask"],$e=["container"];function ze(e,t){}let Ve=(()=>{class e{constructor(e,t){this.resolver=e,this.globalOperatorSrv=t,this.dynamicComponent=null}ngOnInit(){}createDynamicComponent(e){let t=null;switch(e){case o.eA.UNIT_MODAL:case o.eA.HAT_MODAL:t=U;break;case o.eA.SETTING_PANEL:t=B.G;break;case o.eA.RESOURCE_MANAGER:t=ce;break;case o.eA.UPDATA_PANEL:t=ve;break;case o.eA.VERSION_PANEL:t=ye;break;case o.eA.LOGIN_MODAL:t=Ce;break;case o.eA.M5F_HISTORY:t=Ie;break;case o.eA.SHORTCUT_LIST:t=qe;break;case o.eA.VERSION_ENTRY:t=Fe}if(null===t)return;let i=this.resolver.resolveComponentFactory(t);this.dynamicComponent=this.container.createComponent(i),document.getElementsByClassName("app")[0].classList.add("blur")}removeMask(e){document.getElementsByClassName("app")[0].classList.remove("blur"),this.wrapperFullMask.nativeElement.classList.add("hide");let t=setTimeout(()=>{this.globalOperatorSrv.maskModal.destroy(),clearTimeout(t)},100);null!=e&&setTimeout(()=>{e()},200)}destroy(){}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(n._Vd),n.Y36(u.t))},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-mask"]],viewQuery:function(e,t){if(1&e&&(n.Gf(He,5),n.Gf($e,5,n.s_b)),2&e){let e;n.iGM(e=n.CRH())&&(t.wrapperFullMask=e.first),n.iGM(e=n.CRH())&&(t.container=e.first)}},decls:4,vars:0,consts:[[1,"wrapper--full--mask"],["wrapperFullMask",""],["container",""]],template:function(e,t){1&e&&(n.TgZ(0,"div",0,1),n.YNc(2,ze,0,0,"ng-template",null,2,n.W1O),n.qZA())},styles:[".wrapper--full--mask[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;z-index:9999;background-color:#000000a8;-webkit-animation:fadeIn .35s ease;animation:fadeIn .35s ease}.wrapper--full--mask.hide[_ngcontent-%COMP%]{-webkit-animation:fadeOut .35s ease;animation:fadeOut .35s ease}@-webkit-keyframes fadeIn{0%{opacity:0}to{opacity:1}}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}@-webkit-keyframes fadeOut{0%{opacity:1}to{opacity:0}}@keyframes fadeOut{0%{opacity:1}to{opacity:0}}"]}),e})()},67302:function(e,t,i){"use strict";i.d(t,{wB:function(){return n},Kt:function(){return o},E$:function(){return r},lG:function(){return s},IQ:function(){return a},Ly:function(){return l},__:function(){return c},Eq:function(){return h},pA:function(){return u},co:function(){return d},FF:function(){return p},Kk:function(){return g},px:function(){return f},g1:function(){return m},E2:function(){return _},rf:function(){return v},IK:function(){return y},eA:function(){return b},bn:function(){return w},T5:function(){return A},hj:function(){return x},k2:function(){return T},C7:function(){return C},Qf:function(){return Z},p8:function(){return k},qx:function(){return S},Ie:function(){return E},li:function(){return M},u7:function(){return O},O$:function(){return I},Fk:function(){return P},Vj:function(){return R},xb:function(){return q}});const n=`V${i(92340).N.version}`,o="Custom",r=["21","22"],s={BLACK:"#272727",WHITE:"#dadada"},a=214,l=(()=>{let e=[];for(let t=0;t<16;t++){let i=Math.floor(179/15*t+39),n=Number(i).toString(16);e.push(`#${n}${n}${n}`)}return window.Blockly.paperColors=e,e})(),c={CORE:"core",FIRE:"fire",STICK:"stick",STICK_C:"stick-C",STICK_C_PLUS:"stick-C-plus",ATOM:"atom",ATOM_MATRIX:"atom-matrix",CORETWO:"core2",COREINK:"coreInk",PAPER:"paper",PICO:"PICO",TOUGH:"tough",ATOM_U:"atom-u",ATOM_DISPLAY:"atom-display",M5STATION:"m5station",STICK_C_PLUS2:"stick-C-plus2"},h={TITLE:"title",LABEL:"label",RECTANGLE:"rectangle",CIRCLE:"circle",IMAGE:"image",SCREEN:"screen",BUTTON:"button",TRIANGLE:"triangle",LINE:"line",LABELPLUS:"labelplus",IMAGEPLUS:"imageplus",GRAPH:"graph",BARGRAPH:"bargraph",BUTTON2:"touch_button",SWITCH:"switch",SLIDER:"slider",BAR:"bar",CHECKBOX:"checkbox"},u={ID:"id",NAME:"name",COLOR:"color",BORDER_COLOR:"borderColor",BACKGROUND_COLOR:"backgroundColor",MIN_VALUE:"minValue",MAX_VALUE:"maxValue",TRACK_COLOR:"trackColor",LINE_WIDTH:"lineWidth",SELECTE_DCOLOR:"selectedColor",UNSELECTED_COLOR:"unselectedColor",TEXT:"text",LAYER:"layer",CREATE_TIME:"createTime",TYPE:"type",FONT_SIZE:"fontsize",X:"x",Y:"y",X1:"x1",Y1:"y1",X2:"x2",Y2:"y2",X3:"x3",Y3:"y3",FONT:"font",WIDTH:"width",HEIGHT:"height",RADIUS:"radius",IMAGE_PATH:"imagePath",IMAGE_WIDTH:"imageWidth",IMAGE_HEIGHT:"imageHeight",IMAGE_INVERT:"imageInvert",IMAGE_THRESHOLD:"imageThreshold",VISIBILITY:"visibility",BACKGROUND_IMAGE:"backgroundImage",ROTATION:"rotation",TEXTOFFSET:"textOffset",BGCOLOR:"bgColor",URL:"url",METHOD:"method",HEADERTYPE:"header",TIMER:"timer",UPDATE:"update",INTERVAL:"interval",DATA:"data",ERRORTEXT:"errorText",ERRORTEXTCOLOR:"errorTextColor",JSONKEY:"jsonKey",CHART_TYPE:"chartType",FG_COLOR:"foregroundColor",TENSION:"tension",SEGMENT:"segment",SAMPLESNUM:"samplesNum",REVERSED:"reversed"},d={DEFAULT:"lcd.FONT_Default",DEFAULT_SMALL:"lcd.FONT_DefaultSmall",UBUNTU_C:"lcd.FONT_Ubuntu",COMIC:"lcd.FONT_Comic",DEJAVUSANS:"lcd.FONT_DejaVu24",DEJAVUSANS_SMALL:"lcd.FONT_DejaVu18",DEJAVUSANS_18PX:"lcd.FONT_DejaVu18",DEJAVUSANS_24PX:"lcd.FONT_DejaVu24",DEJAVUSANS_40PX:"lcd.FONT_DejaVu40",DEJAVUSANS_56PX:"lcd.FONT_DejaVu56",DEJAVUSANS_72PX:"lcd.FONT_DejaVu72",FONT_UNICODE:"lcd.FONT_UNICODE",FONT_UNICODE_16PX:"lcd.FONT_UNICODE"};var p=(()=>{return(e=p||(p={}))[e["Montserrat 10"]=0]="Montserrat 10",e[e["Montserrat 14"]=1]="Montserrat 14",e[e["Montserrat 18"]=2]="Montserrat 18",e[e["Montserrat 22"]=3]="Montserrat 22",e[e["Montserrat 26"]=4]="Montserrat 26",e[e["Montserrat 30"]=5]="Montserrat 30",e[e["Montserrat 34"]=6]="Montserrat 34",e[e["Montserrat 38"]=7]="Montserrat 38",e[e["Unicode 24"]=8]="Unicode 24",p;var e})(),g=(()=>{return(e=g||(g={}))[e.FONT_MONT_10=0]="FONT_MONT_10",e[e.FONT_MONT_14=1]="FONT_MONT_14",e[e.FONT_MONT_18=2]="FONT_MONT_18",e[e.FONT_MONT_22=3]="FONT_MONT_22",e[e.FONT_MONT_26=4]="FONT_MONT_26",e[e.FONT_MONT_30=5]="FONT_MONT_30",e[e.FONT_MONT_34=6]="FONT_MONT_34",e[e.FONT_MONT_38=7]="FONT_MONT_38",e[e.FONT_UNICODE_24=8]="FONT_UNICODE_24",g;var e})();const f={A:"A",B:"B",C:"C",HAT:"HAT",A1:"A1",A2:"A2",B1:"B1",B2:"B2",C1:"C1",C2:"C2"},m={ENV:"env",ENV2:"env2",ENV3:"env3",ENV4:"env4",ENVPRO:"envpro",ANGLE:"angle",PIR:"pir",NEOPIXEL:"neopixel",JOYSTICK:"joystick",LIGHT:"light",EARTH:"earth",MAKEY:"makey",SERVO:"servo",WEIGH:"weigh",HEART:"heart",TRACK:"track",TPNX:"3.96",ADC:"adc",BUTTON:"button",COLOR:"color",DAC:"dac",DUALBUTTON:"dual_button",HUB:"hub",IR:"ir",M5CAMEAR:"m5camera",NCIR:"ncir",PROTO:"proto",RELAY:"relay",RGB:"rgb",THERMAL:"thermal",TOF:"tof",EXTIO:"ext_io",EXTIO2:"ext_io2",FINGER:"finger",RFID:"rfid",LIDARCAR:"lidarcar",CARDKB:"cardkb",PBHUB:"pbhub",PAHUB:"pahub",GPS:"gps",ACCEL:"accel",ACSOCKET:"acsocket",V:"V",IMU:"unit_imu",BPS:"bps",TVOC:"tvoc",VMETER:"VMeter",AMETER:"AMeter",KMETER:"KMeter",OP90:"OP90",OP180:"OP180",HALL:"hall",FAN:"fan",VIBRATOR:"vibrator",LASERTX:"laser_tx",LASERRX:"laser_rx",ULTRASONIC:"Ultrasonic",WATERING:"Watering",RELAY4:"relay4",DDS:"dds",UHFRFID:"uhf_rfid",UNITCAM:"unitcam",V2:"V2",OLED:"oled",NBIOT:"NBIoT",RS485:"RS485",ISO485:"ISO485",LORAWAN470:"LoRaWAN470",LORAWAN868:"LoRaWAN868",LORAWAN915:"LoRaWAN915",FADER:"fader",FADER8:"fader8",GESTURE:"gesture",MQTT:"mqtt",RTC:"rtc",LCD:"lcd",ROTARY_ENCODER:"rotary",ID:"ID",TIMERCAM:"timercam",JOYSTICKLED:"joystick_led",ENCODER:"encoder",MIC:"mic",DLIGHT:"dlight",PDM:"pdm",RELAY2:"relay2",SSR:"ssr",POESP32:"poesp32",SONICIO:"sonic_io",ANGLE8:"angle8",CATM:"catm",TUBE:"tube",BUZZER:"buzzer",LIMIT:"limit",KEY:"key",CATMGNSS:"catm_gnss",DIGICLOCK:"digi_clock",GROVE2GROVE:"grove",UWB:"uwb",CO2:"co2",ZIGBEE:"zigbee",SCALES:"scales",THERMAL2:"thermal2",NCIR2:"ncir2",FLASHLIGHT:"flash",ENCODER8:"encoder8",BPSQMP:"bpsv11",CO2L:"co2l",ACSSR:"acssr",GLASS:"glass",KMETERISO:"KMeterISO",RF433T:"RF433T",RF433R:"RF433R",HBRIDGE:"hbridge",CAN:"can",DCSSR:"dcssr",EXTENCODER:"extencoder",AIN420MA:"ain420ma",NECO:"neco",ACMEASURE:"ac_measure",CATCH:"catch",MINIOLED:"mini_oled",SERVOS8:"servos8",GLASS2:"glass2",IMUPRO:"imu_pro",LORAE220:"lorae220",TOF4M:"tof4m",REFLECTIVEIR:"reflective_ir",SYNTH:"synth",MINISCALE:"miniscales",QRCODE:"qrcode",DAC2:"dac2",ADCV11:"adc_v11",MINICAN:"mini_can",WEIGHTI2C:"weight_i2c",BLDCDRIVER:"bldc_driver",NBIOT2:"nbiot2",ROLLER485:"roller485",LORAE220433:"lorae220_433",SCROLL:"scroll",TMOS:"tmos",DMX:"dmx"},_={ENV:"hat_env",SPK:"hat_spk",PIR:"hat_pir",NCIR:"hat_ncir",ADC:"hat_adc",DAC:"hat_dac",SERVO:"hat_servo",SERVOS:"hat_servos",PUPPY:"hat_puppyC",Joystick:"hat_Joystick",BUGC:"hat_bugc",Finger:"hat_Finger",BeetleC:"hat_BeetleC",YUN:"hat_yun",JoyC:"hat_joyc",RoverC:"hat_roverc",TOF:"hat_tof",Thermal:"hat_thermal",CardKb:"hat_cardkb",ENV2:"hat_env2",ENV3:"hat_env3",RS485:"hat_rs485",CBACK:"hat_cback",SERVOS8:"hat_8servos",BALAC:"hat_balac",CBACKNBIOT:"hat_cback_nbiot",DLIGHT:"hat_dlight",HeartRate:"hat_heartrate",MiniEncoderC:"hat_mini_encoderc",MiniJoyC:"hat_mini_joyc",Vibrator:"hat_vibrator",SPK2:"hat_spk2",DAC2:"hat_dac2",BUGC2:"hat_bugc2"},v={IO:"stamp_io",TIMERPOWER:"stamp_timerpower",CATM:"stamp_catm"},y={BLOCKLY:"blockly",CODE:"code",FILE:"file",IMG:"img"};var b=(()=>{return(e=b||(b={}))[e.UNIT_MODAL=0]="UNIT_MODAL",e[e.HAT_MODAL=1]="HAT_MODAL",e[e.SETTING_PANEL=2]="SETTING_PANEL",e[e.RESOURCE_MANAGER=3]="RESOURCE_MANAGER",e[e.UPDATA_PANEL=4]="UPDATA_PANEL",e[e.ALERT_BLOCKLY=5]="ALERT_BLOCKLY",e[e.VERSION_PANEL=6]="VERSION_PANEL",e[e.LOGIN_MODAL=7]="LOGIN_MODAL",e[e.M5F_HISTORY=8]="M5F_HISTORY",e[e.SHORTCUT_LIST=9]="SHORTCUT_LIST",e[e.VERSION_ENTRY=10]="VERSION_ENTRY",b;var e})();const w=[{name:"English",file:"en"},{name:"\u7b80\u4f53\u4e2d\u6587",file:"zh-hans"},{name:"\u0420\u0443\u0441\u0441\u043a\u0438\u0439 \u044f\u0437\u044b\u043a",file:"ru"},{name:"Espa\xf1ol",file:"es"},{name:"\u65e5\u672c\u8a9e",file:"ja"},{name:"\ud55c\uad6d\uc5b4",file:"ko"},{name:"\u0e44\u0e17\u0e22",file:"th"},{name:"Deutsch",file:"de"}],A=[{name:"Local Server",url:"/v1"}],x={DISCONNECTED:"DISCONNECTED",CONNECTED:"CONNECTED",CONNECTING:"CONNECTING"},T={API_KEY:"mui_apikey",LANGUAGE:"mui_language",TOKEN:"m5token",DATA_TOKEN:"dataToken",THEME_HUE:"theme_hue",API_URL:"mui_apiurl"},C={WARNING:"warning",SUCCESS:"success",ERROR:"error",LOADING:"loading"},Z=[{icon:"WeatherStation.jpg",title:"Weather Station",description:"Display temperature, humidity, atmospheric pressure values, different animations based on humidity values",required:[{unit:"ENV",port:"A"}],file:"weather_station_demo.m5f",type:"core",others:[],isBeta:!1},{icon:"BreathingRGB.jpg",title:"Breathing RGB",description:"The RGB bar on both sides of the fuselage is like breathing, gradually lighting up and gradually extinguishing, and changing color",required:[],file:"breathing_rgb_demo.m5f",type:"core",others:[],isBeta:!1},{icon:"Neopixel.jpg",title:"Neopixel",description:"The neopixel flow is lit and extinguished, and the color of the light is randomly changed to achieve the effect of the marquee",required:[{unit:"Neopixel",port:"A"}],file:"neopixel_demo.m5f",type:"core",others:[],isBeta:!1},{icon:"PIR.jpg",title:"PIR",description:"When the human body is detected, the RGB bar is lit and the speaker emits a sound",required:[{unit:"PIR",port:"B"}],file:"pir_demo.m5f",type:"core",others:[],isBeta:!1},{icon:"Earth.png",title:"Earth",description:"Detect soil moisture and display it on the screen",required:[{unit:"Earth",port:"B"}],file:"earth_demo.m5f",type:"core",others:[],isBeta:!1},{icon:"Remote.jpg",title:"Remote",description:"Remote control of RGB bar lighting and extinction, and brightness control via mobile phone or computer",required:[],file:"remote_demo.m5f",type:"core",others:["Scan the screen or the QR code of the UIFlow menu bar to enter the control page"],isBeta:!1},{icon:"Charge.jpg",title:"Battery Animation",description:"Use different size square elements to piece together the shape of the battery, change the color of the square by program, and create an animation of battery charging",required:[],file:"charge_demo.m5f",type:"core",others:[],isBeta:!1},{icon:"Joystick.jpg",title:"Joystick",description:"Use the joystick to control the circular movement on the screen, press the rocker to make the circle animate",required:[{unit:"Joystick",port:"A"}],file:"joystick_demo.m5f",type:"core",others:[],isBeta:!1},{icon:"Light.jpg",title:"Light",description:"According to the ambient light intensity, the switch light is controlled to turn on the light at night and turn off the light during the day",required:[{unit:"Light",port:"B"}],file:"light_demo.m5f",type:"core",others:[],isBeta:!1},{icon:"ToF.jpg",title:"ToF",description:"By laser ranging, the distance from the sensor to the object is detected. When the distance is lower than the set value and closer, an alarm of different frequency will be issued according to the distance",required:[{unit:"ToF",port:"A"}],file:"tof_demo.m5f",type:"core",others:[],isBeta:!1},{icon:"RGB.jpg",title:"Traffic light",description:"Controls the three lights on the RGB Unit, changes regularly like a traffic light, and displays a countdown on the screen",required:[{unit:"RGB",port:"B"}],file:"rgb_demo.m5f",type:"core",others:[],isBeta:!1},{icon:"servoTest.jpg",title:"Servo tester",description:"Manual Mode: You can set RC servo from 0 to 180 degree.(10 degree per step.)  Center Mode: This mode will lock servo at 90 degree  Sweep Mode: This mode will loop sweeping servo to 0, 90 and 180 degree then sweep back to 90 and 0 degree",required:[{unit:"Servo",port:"A"}],file:"servo_tester_demo.m5f",type:"core",others:[],author:"pattiuak",isBeta:!1},{icon:"Neoflash.png",title:"Neoflash",description:"After reboot, breathing led. Then enter the detection mode, once the pir detected any object past in front, one led light up. After button press and the pir detect no object past,turn off all of the led.",required:[{unit:"Neoflash",port:"B"}],file:"neoflash_demo.m5f",type:"core",others:[],isBeta:!1},{icon:"Remote1.jpg",title:"Remote1",description:"The Remote block is featured with network function based on MQTT protocol,you can control your M5 remotely on a web page Just by scan the QRcode generate by your program,call firmware interface through mqtt push on control page to remotely control your M5.",required:[{unit:"ENV",port:"A"}],file:"remote1_demo.m5f",type:"core",others:[],isBeta:!1},{icon:"FlashCard.jpg",title:"Flash Card",description:"After start the device, display the title and the content of the flashcard.In this instance we have \u2018M5 Flash Card Real estate Terms Chapter 1 The button A and C ,which are located on the side the device  ,is functional for go through the list of the terms And the button B is used to flip it,just like a flash card u have words on one side and the explanation on the other side.",required:[],file:"flashcard_demo.m5f",type:"core",others:[],isBeta:!1},{icon:"module_sim800_01.png",title:"SIM800L",description:"Use the M5 core device to sent AT command to the SIM800L module via UART to realise the GSM/GPRS functions This program will teaches you how to program with UIFlow to receive SMS message",required:[],file:"sim800l_demo.m5f",type:"core",others:[],isBeta:!1},{icon:"timer.jpg",title:"Timer",description:"Three timers are set, timers 1 and 2 are automatically reloaded, and timer 3 is triggered only once. Press A to stop timers 1 and 2",required:[],file:"timer_demo.m5f",type:"core",others:[],isBeta:!0},{icon:"http-req.jpg",title:"HTTP",description:"This case program uses the HTTP function, uses M5Core to send a request to a URL (api.m5stack.com/v1), and judges the response status, obtains, and prints the data content of the response. Note: This program needs to be connected to the Internet. If you want to run it locally after downloading, you need to configure the WIFI connection program in advance.",required:[],file:"http_demo.m5f",type:"core",others:[],isBeta:!0},{icon:"esp-now.jpg",title:"ESP NOW",description:"This example program uses the ESP-NOW function to enable two M5Core devices to communicate and control the lighting and turning off of the RGB Bar. Before running the program, please add the Mac address of the slave for the Master device program.",required:[],file:"espnow_demo.m5f",type:"core",others:[],isBeta:!0},{icon:"i2c-dht12.jpg",title:"I2C DHT12",description:"This example uses PortA (G21, G22) on the M5Core for I2C communication with the DHT12 sensor module, and reads temperature, humidity, and air pressure data for display.",required:[],file:"dht12_demo.m5f",type:"core",others:[],isBeta:!0},{icon:"STICKC_PIR.jpg",title:"PIR Hat",description:"ModeA : Someone come closer a display will show content on the screen.\n The screen will turn off when detected nobody.",required:[],file:"hat_pir_demo.m5f",type:"stick-C",others:["ModeB: Continuously display content on screen.","ButtonA: Switch MODE"],isBeta:!0},{icon:"STICKC_ENV.jpg",title:"ENV Hat",description:"Display temperature, humidity, air barometric pressure as digital numbers and bar graph. ",required:[],file:"hat_env_demo.m5f",type:"stick-C",others:["LED event is the alarm of temperature lower than 20C","Text blink is the alarm of humidity higher than 60%"],isBeta:!0},{icon:"STICKC_SPK.jpg",title:"SPK Hat",description:"Control the small ball via accelerometer to select the tones.",required:[],file:"hat_spk_demo.m5f",type:"stick-C",others:["Press ButtonA to play the tone."],isBeta:!0},{icon:"STICKC_NCIR.jpg",title:"NCIR Hat",description:"Control the small ball via accelerometer to select the tones.",required:[],file:"hat_ncir_demo.m5f",type:"stick-C",others:["Press ButtonA to play the tone."],isBeta:!0},{icon:"STICKC_DAC.jpg",title:"DAC Hat",description:"Continuously generate voltage vary from 0-3V. Press Button to switch to manual mode.",required:[],file:"hat_dac_demo.m5f",type:"stick-C",others:["Plug DAC HAT into the Top slot on M5StickC"],isBeta:!0},{icon:"STICKC_ADC.jpg",title:"ADC Hat",description:"Read voltage value from ADC, and display the value in terms of data and line chart.",required:[],file:"hat_adc_demo.m5f",type:"stick-C",others:[],isBeta:!0},{icon:"STICKC_BeetleC_C.jpg",title:"BeetlcC",description:"Press button A, the BeetleC car moves forward and turns on the light. Press again to stop moving and turn off the light.",required:[],file:"beetlec_demo.m5f",type:"stick-C",others:[],isBeta:!0},{icon:"STICKC_Finger.jpg",title:"Finger",description:"Press button A to add a fingerprint according to the screen prompt. If there is already a fingerprint, press button B to clear the fingerprint and add it again.Fingerprint verification succeeds by prompting and illuminating the LED light.",required:[],file:"finger_demo.m5f",type:"stick-C",others:[],isBeta:!0},{icon:"STICKC_PuppyC.jpg",title:"PuppyC",description:"Press button A to move forward, press again to stop.",required:[],file:"puppyc_demo.m5f",type:"stick-C",others:[],isBeta:!0},{icon:"STICKC_Servo.jpg",title:"Servo",description:"Keep pressing button A, the steering angle of the servo is gradually increased. Release button A gradually returns to 0\xb0.",required:[],file:"servo_demo.m5f",type:"stick-C",others:[],isBeta:!0},{icon:"STICKC_YUN_C.jpg",title:"YUN",description:"Detect current ambient air pressure values and light intensity. When the light intensity is high, the screen displays the sun and the light color is yellow. When the light intensity is low, the screen displays the moon and the light color is blue.",required:[],file:"yun_demo.m5f",type:"stick-C",others:[],isBeta:!0},{icon:"UART_Pass_Through.jpg",title:"UART Pass Through",description:"This example program demonstrates how to implement the UART PASS-Through function, which is convenient for us to debug the serial device on the PC.",required:[],file:"uart_pass_through_demo.m5f",type:"core",others:[],isBeta:!0},{icon:"DigitalClock.jpg",title:"Digital Clock",description:"This example program will show you how to use the variable and timer functions to make a digital clock.",required:[],file:"digital_clock_demo.m5f",type:"stick-C",others:[],isBeta:!0},{icon:"DigitalClock.jpg",title:"Digital Clock",description:"This example program will show you how to use the variable and timer functions to make a digital clock.",required:[],file:"stickc_plus_digital_clock_demo.m5f",type:"stick-C-plus",others:[],isBeta:!0},{icon:"STICKC_ENV.jpg",title:"ENV Hat",description:"Display temperature, humidity, air barometric pressure as digital numbers and bar graph. ",required:[],file:"stickc_plus_env_demo.m5f",type:"stick-C-plus",others:["LED event is the alarm of temperature lower than 20C","Text blink is the alarm of humidity higher than 60%"],isBeta:!0},{icon:"STICKC_SPK.jpg",title:"SPK Hat",description:"Control the small ball via accelerometer to select the tones.",required:[],file:"stickc_plus_spk_demo.m5f",type:"stick-C-plus",others:["Press ButtonA to play the tone."],isBeta:!0},{icon:"DRAWING_BOARD.jpg",title:"Drawing Board",description:"Drawing board",required:[],file:"drawing_board_demo.m5f",type:"core2",others:[],isBeta:!0},{icon:"DTU-NB-MQTT.png",title:"DTU NB MQTT",description:"",required:[],file:"dtu_nbiot_mqtt_demo.m5f",type:"atom",others:[],isBeta:!0},{icon:"lora433_return.png",title:"LoRa433 Receiver",description:"",required:[],file:"lora433_return_demo.m5f",type:"core",others:[],isBeta:!0},{icon:"lora433_send_callback.png",title:"LoRa433 Sender",description:"",required:[],file:"lora433_send_callback_demo.m5f",type:"core",others:[],isBeta:!0},{icon:"modbus-master.png",title:"Modbus Master",description:"",required:[],file:"master_read_holding_register_demo.m5f",type:"core",others:[],isBeta:!0},{icon:"modbus-slave.png",title:"Modbus Slave",description:"",required:[],file:"slave_read_holding_register_demo.m5f",type:"core",others:[],isBeta:!0},{icon:"atom_dtu_lorawan470.png",title:"DTU LoRaWAN470",description:"",required:[],file:"atom_dtu_lorawan470_demo.m5f",type:"atom",others:[],isBeta:!0},{icon:"atom_dtu_lorawan868.png",title:"DTU LoRaWAN868",description:"",required:[],file:"atom_dtu_lorawan868_demo.m5f",type:"atom",others:[],isBeta:!0},{icon:"atom_dtu_lorawan915.png",title:"DTU LoRaWAN915",description:"",required:[],file:"atom_dtu_lorawan915_demo.m5f",type:"atom",others:[],isBeta:!0},{icon:"Rotary_Encoder_unit.png",title:"Rotary Encoder",description:"",required:[{unit:"Encoder",port:"A"}],file:"unit_rotary_encoder_demo.m5f",type:"core",others:[],isBeta:!0},{icon:"unit_uhf-rfid.png",title:"UHF-RFID",description:"",required:[{unit:"UHF-RFID",port:"C"}],file:"uhf_rfid_demo1.m5f",type:"core",others:[],isBeta:!0},{icon:"unit_uhf-rfid2.png",title:"UHF-RFID2",description:"",required:[{unit:"UHF-RFID",port:"C"}],file:"uhf_rfid_demo2.m5f",type:"core",others:[],isBeta:!0},{icon:"unit_ssr.png",title:"SSR",description:"",required:[{unit:"SSR",port:"C"}],file:"unit_ssr_demo.m5f",type:"core",others:[],isBeta:!0},{icon:"unit_relay2.png",title:"2RELAY",description:"",required:[{unit:"2RELAY",port:"A"}],file:"unit_relay2_demo.m5f",type:"core",others:[],isBeta:!0},{icon:"unit_pdm_microphone.png",title:"PDM",description:"",required:[{unit:"PDM",port:"A"}],file:"unit_pdm_microphone_demo.m5f",type:"core",others:[],isBeta:!0},{icon:"unit_sonic_io.png",title:"SONIC IO",description:"",required:[{unit:"SONIC IO",port:"B"}],file:"unit_sonic_io_demo.m5f",type:"core",others:[],isBeta:!0},{icon:"lanbase.png",title:"LAN Base",description:"",required:[],file:"lan_tcp_server_demo.m5f",type:"core",others:[],isBeta:!0},{icon:"unit_catm.png",title:"CAT-M",description:"",required:[{unit:"CAT-M",port:"C"}],file:"unit_catm_ezdata_demo.m5f",type:"core",others:[],isBeta:!0},{icon:"unit_tube.png",title:"Tube Pressure",description:"",required:[{unit:"TubePressure",port:"B"}],file:"tube_pressure_demo.m5f",type:"core",others:[],isBeta:!0},{icon:"unit_dlight.png",title:"D-Light",description:"",required:[{unit:"DLIGHT",port:"A"}],file:"unit_dlight_demo.m5f",type:"core",others:[],isBeta:!0},{icon:"unit_dds.png",title:"DDS",description:"",required:[{unit:"DDS",port:"A"}],file:"unit_dds_demo.m5f",type:"core",others:[],isBeta:!0},{icon:"servo2.png",title:"Module Servo2",description:"",required:[],file:"module_servo2_demo.m5f",type:"core",others:[],isBeta:!0},{icon:"unit rtc.png",title:"RTC & BUZZER",description:"",required:[{unit:"RTC",port:"A"},{unit:"BUZZER",port:"B"}],file:"unit_rtc_demo.m5f",type:"core",others:[],isBeta:!0},{icon:"comx_gsm.png",title:"COM GSM",description:"",required:[],file:"comx_gsm_demo.m5f",type:"core",others:[],isBeta:!0},{icon:"unit_fader.png",title:"FADER",description:"",required:[{unit:"FADER",port:"B"}],file:"unit_fader_demo.m5f",type:"core",others:[],isBeta:!0},{icon:"unit_gesture.png",title:"GESTURE",description:"",required:[{unit:"GESTURE",port:"A"}],file:"unit_gesture_demo.m5f",type:"core",others:[],isBeta:!0},{icon:"usb_module.png",title:"USB MOUSE",description:"",required:[],file:"module_usb_mouse_demo.m5f",type:"core",others:[],isBeta:!0},{icon:"unit_extio2.png",title:"UNIT EXT-IO2",description:"",required:[{unit:"EXT-IO2",port:"A"}],file:"unit_extio2_demo.m5f",type:"core",others:[],isBeta:!0},{icon:"servo8.png",title:"SERVO8",description:"",required:[],file:"servo8_demo.m5f",type:"stick-C",others:[],isBeta:!0},{icon:"unit_pbhub.png",title:"UNIT PBHUB",description:"",required:[{unit:"Pb.HUB",port:"A"}],file:"unit_pbhub_demo.m5f",type:"core",others:[],isBeta:!0},{icon:"key_limit.jpg",title:"KEY & LIMIT",description:"",required:[{unit:"KEY",port:"B"},{unit:"LIMIT",port:"A"}],file:"key_limit_demo.m5f",type:"core",others:[],isBeta:!0},{icon:"base_poe_mqtt.png",title:"BASE POE MQTT",description:"",required:[],file:"base_poe_mqtt_demo.m5f",type:"core",others:[],isBeta:!0},{icon:"robo_car.png",title:"MC4.0",description:"",required:[],file:"robocar_demo.m5f",type:"core2",others:[],isBeta:!0},{icon:"mc_units.png",title:"MC4.0 (Units)",description:"",required:[],file:"third_party_mc_demo.m5f",type:"core2",others:[],isBeta:!0},{icon:"unit_catm_gnss.png",title:"UNIT CATM-GNSS",description:"",required:[],file:"unit_catm_gnss_demo.m5f",type:"core",others:[],isBeta:!0},{icon:"tf-card.png",title:"TF CARD",description:"",required:[],file:"tfcard_demo.m5f",type:"atom",others:[],isBeta:!0},{icon:"hat_nbiot.png",title:"NBIOT MQTT",description:"",required:[],file:"hat_nbiot_mqtt_demo.m5f",type:"stick-C",others:[],isBeta:!0},{icon:"espnow_master.png",title:"ESPNOW MASTER",description:"",required:[],file:"espnow_master_demo.m5f",type:"core",others:[],isBeta:!0},{icon:"espnow_slave.png",title:"ESPNOW SLAVE",description:"",required:[],file:"espnow_slave_demo.m5f",type:"core",others:[],isBeta:!0},{icon:"hat_dlight.png",title:"DLIGHT",description:"",required:[],file:"hat_dlight_demo.m5f",type:"stick-C-plus",others:[],isBeta:!0},{icon:"unit_grove2grove.png",title:"UNIT Grove2Grove",description:"",required:[],file:"unit_grove2grove_demo.m5f",type:"core",others:[],isBeta:!0},{icon:"unit_co2.png",title:"UNIT CO2",description:"",required:[],file:"unit_co2_demo.m5f",type:"core",others:[],isBeta:!0},{icon:"unit_uwb.png",title:"UNIT UWB",description:"",required:[],file:"unit_uwb_demo.m5f",type:"core",others:[],isBeta:!0},{icon:"module_4in8out.png",title:"Module 4IN8OUT",description:"",required:[],file:"module_4in8out_demo.m5f",type:"core",others:[],isBeta:!0},{icon:"unit_oled.png",title:"UNIT OLED",description:"",required:[],file:"unit_oled_demo.m5f",type:"core",others:[],isBeta:!0},{icon:"unit_lcd.png",title:"UNIT LCD",description:"",required:[],file:"unit_lcd_demo.m5f",type:"core",others:[],isBeta:!0},{icon:"unit_poesp32.png",title:"UNIT POESP32",description:"",required:[],file:"unit_poesp32_demo.m5f",type:"core",others:[],isBeta:!0},{icon:"module_goplus2.png",title:"Module GoPlus2",description:"",required:[],file:"module_goplus2_demo.m5f",type:"core",others:[],isBeta:!0},{icon:"hat_rs485.png",title:"RS485",description:"",required:[],file:"hat_rs485_demo.m5f",type:"stick-C",others:[],isBeta:!0},{icon:"atom_dtu_cat1.jpg",title:"DTU CAT1",description:"",required:[],file:"atom_dtu_cat1_demo.m5f",type:"atom",others:[],isBeta:!0},{icon:"atom_base_hdriver.jpg",title:"HDRIVER",description:"",required:[],file:"atom_base_hdriver_demo.m5f",type:"atom",others:[],isBeta:!0},{icon:"atom_base_qrcode.jpg",title:"QRCODE",description:"",required:[],file:"atom_base_qrcode_demo.m5f",type:"atom",others:[],isBeta:!0},{icon:"atom_base_motion.jpg",title:"MOTION",description:"",required:[],file:"atom_base_motion_demo.m5f",type:"atom",others:[],isBeta:!0},{icon:"atom_base_stepmotor.jpg",title:"STEPMOTOR",description:"",required:[],file:"atom_base_stepmotor_demo.m5f",type:"atom",others:[],isBeta:!0},{icon:"ble_central.png",title:"BLE CENTRAL",description:"",required:[],file:"ble_central_demo.m5f",type:"core",others:[],isBeta:!0},{icon:"ble_peripheral.png",title:"BLE PERIPHERAL",description:"",required:[],file:"ble_peripheral_demo.m5f",type:"core",others:[],isBeta:!0},{icon:"zigbee_coordinator.png",title:"Zigbee Coordinator",description:"",required:[],file:"zigbee_coordinator_demo.m5f",type:"core",others:[],isBeta:!0},{icon:"zigbee_end_device.png",title:"Zigbee End Device",description:"",required:[],file:"zigbee_end_device_demo.m5f",type:"core",others:[],isBeta:!0},{icon:"unit_scales.png",title:"UNIT SCALES",description:"",required:[],file:"unit_scales_demo.m5f",type:"core",others:[],isBeta:!0},{icon:"unit_thermal2.png",title:"UNIT THERMAL2",description:"",required:[],file:"unit_thermal2_demo.m5f",type:"core",others:[],isBeta:!0},{icon:"module_2relay.png",title:"Module 2Relay",description:"",required:[],file:"module_2relay_demo.m5f",type:"core",others:[],isBeta:!0},{icon:"unit_ncir2.png",title:"UNIT NCIR2",description:"",required:[],file:"unit_ncir2_demo.m5f",type:"core",others:[],isBeta:!0},{icon:"base_spk.jpg",title:"SPK",description:"",required:[],file:"atom_spk_demo.m5f",type:"atom",others:[],isBeta:!0},{icon:"unit_flashlight.png",title:"UNIT FlashLight",description:"",required:[],file:"unit_flashlight_demo.m5f",type:"core",others:[],isBeta:!0},{icon:"espnow_atom_ble.png",title:"EspNow Atom BLE to Basic",description:"",required:[],file:"espnow_atom_ble_demo.m5f",type:"core",others:[],isBeta:!0},{icon:"atom.jpg",title:"toio EspNow",description:"",required:[],file:"atom_toio_demo.m5f",type:"atom",others:[],isBeta:!0},{icon:"atom.jpg",title:"Atom toio BLE",description:"",required:[],file:"atom_toio_ble_demo.m5f",type:"atom",others:[],isBeta:!0},{icon:"atom_matrix.jpg",title:"Atom toio TOF",description:"",required:[],file:"atom_toio_tof_demo.m5f",type:"atom",others:[],isBeta:!0},{icon:"module_commu.png",title:"Module COMMU",description:"",required:[],file:"module_commu_demo.m5f",type:"core",others:[],isBeta:!0},{icon:"unit_8angle.png",title:"UNIT 8ANGLE",description:"",required:[],file:"unit_8angle_demo.m5f",type:"core",others:[],isBeta:!0},{icon:"unit_8encoder.png",title:"UNIT 8ENCODER",description:"",required:[],file:"unit_8encoder_demo.m5f",type:"core",others:[],isBeta:!0},{icon:"unit_bps_qmp.png",title:"UNIT BPS V1.1",description:"",required:[],file:"unit_bps_qmp_demo.m5f",type:"core",others:[],isBeta:!0},{icon:"atom_matrix.jpg",title:"toio Mat move to target XY",description:"",required:[],file:"toio_mat_move_to_target_xy_demo.m5f",type:"atom",others:[],isBeta:!0},{icon:"atom_matrix.jpg",title:"toio Mat read PosID by Btn",description:"",required:[],file:"toio_mat_read_posid_by_btn_demo.m5f",type:"atom",others:[],isBeta:!0},{icon:"atom_matrix.jpg",title:"toio Mat read PosID in loop",description:"",required:[],file:"toio_mat_read_posid_in_loop_demo.m5f",type:"atom",others:[],isBeta:!0},{icon:"atom_matrix.jpg",title:"toio Mat read XY to Matrix",description:"",required:[],file:"toio_mat_read_xy_to_matrix_demo.m5f",type:"atom",others:[],isBeta:!0},{icon:"unit_co2l.png",title:"UNIT CO2L",description:"",required:[],file:"unit_co2l_demo.m5f",type:"core",others:[],isBeta:!0},{icon:"hat_heartrate.png",title:"Heart Rate Hat",description:"",required:[],file:"hat_heart_rate_demo.m5f",type:"stick-C-plus",others:[],isBeta:!0},{icon:"hat_mini_encoderc.png",title:"Mini EnCoderC Hat",description:"",required:[],file:"hat_mini_encoderc_demo.m5f",type:"stick-C-plus",others:[],isBeta:!0},{icon:"hat_mini_joyc.png",title:"Mini JoyC Hat",description:"",required:[],file:"hat_mini_joyc_demo.m5f",type:"stick-C-plus",others:[],isBeta:!0},{icon:"ir_nec_sender.png",title:"IR NEC SENDER",description:"",required:[],file:"ir_nec_sender_demo.m5f",type:"stick-C-plus",others:[],isBeta:!0},{icon:"ir_nec_receiver.png",title:"IR NEC RECEIVER",description:"",required:[],file:"ir_nec_receiver_demo.m5f",type:"stick-C-plus",others:[],isBeta:!0},{icon:"base_socket_kit.jpg",title:"Atom Socket",description:"",required:[],file:"atom_ac_socket_demo.m5f",type:"atom",others:[],isBeta:!0},{icon:"pm2.5.png",title:"PM2.5 SHT30 Kit",description:"",required:[],file:"pm2.5_sht30_kit_demo.m5f",type:"core",others:[],isBeta:!0},{icon:"unit_acssr.png",title:"UNIT ACSSR",description:"",required:[],file:"unit_ac_ssr_demo.m5f",type:"core",others:[],isBeta:!0},{icon:"hat_vibrator.png",title:"Vibrator Hat",description:"",required:[],file:"hat_vibrator_demo.m5f",type:"stick-C-plus",others:[],isBeta:!0},{icon:"stepmotor.png",title:"StepMotor Control",description:"",required:[],file:"step_motor_ctrl_demo.m5f",type:"core",others:[],isBeta:!0},{icon:"hat_spk2.png",title:"SPK2 Hat",description:"",required:[],file:"hat_spk2_demo.m5f",type:"stick-C-plus",others:[],isBeta:!0},{icon:"unit_glass.png",title:"UNIT GLASS",description:"",required:[],file:"unit_glass_demo.m5f",type:"core",others:[],isBeta:!0},{icon:"unit_kmeter.png",title:"UNIT KMETER",description:"",required:[],file:"unit_kmeter_demo.m5f",type:"core",others:[],isBeta:!0},{icon:"unit_kmeteriso.png",title:"UNIT KMETERISO",description:"",required:[],file:"unit_kmeteriso_demo.m5f",type:"core",others:[],isBeta:!0},{icon:"unit_rf433t.png",title:"UNIT RF433T",description:"",required:[],file:"unit_rf433t_demo.m5f",type:"core",others:[],isBeta:!0},{icon:"unit_rf433r.png",title:"UNIT RF433R",description:"",required:[],file:"unit_rf433r_demo.m5f",type:"core",others:[],isBeta:!0},{icon:"module_dualkmeter.png",title:"Module DualKmeter",description:"",required:[],file:"module_dualkmeter_demo.m5f",type:"core",others:[],isBeta:!0},{icon:"module_dmx.png",title:"Module DMX",description:"",required:[],file:"module_dmx_demo.m5f",type:"core",others:[],isBeta:!0},{icon:"module_hmi.png",title:"Module HMI",description:"",required:[],file:"module_hmi_demo.m5f",type:"core",others:[],isBeta:!0},{icon:"unit_hbridge.png",title:"Unit Hbridge",description:"",required:[],file:"unit_hbridge_demo.m5f",type:"core",others:[],isBeta:!0},{icon:"module_rs232.png",title:"Module RS232",description:"",required:[],file:"module_rs232_demo.m5f",type:"core",others:[],isBeta:!0},{icon:"unit_can.png",title:"Unit CAN",description:"",required:[],file:"unit_can_demo.m5f",type:"core",others:[],isBeta:!0},{icon:"unit_dcssr.png",title:"Unit DCSSR",description:"",required:[],file:"unit_dcssr_demo.m5f",type:"core",others:[],isBeta:!0},{icon:"unit_extencoder.png",title:"Unit ExtEncoder",description:"",required:[],file:"unit_extencoder_demo.m5f",type:"core",others:[],isBeta:!0},{icon:"unit_ain420ma.png",title:"Unit AIN4-20mA",description:"",required:[],file:"unit_ain420ma_demo.m5f",type:"core",others:[],isBeta:!0},{icon:"module_ain420ma.png",title:"Module AIN4-20mA",description:"",required:[],file:"module_ain420ma_demo.m5f",type:"core",others:[],isBeta:!0},{icon:"unit_neco.png",title:"UNIT Neco",description:"",required:[],file:"unit_neco_demo.m5f",type:"core",others:[],isBeta:!0},{icon:"unit_acmeasure.png",title:"UNIT AC Measure",description:"",required:[],file:"unit_acmeasure_demo.m5f",type:"core",others:[],isBeta:!0},{icon:"module_4relay.png",title:"Module 4Relay",description:"",required:[],file:"module_4relay_demo.m5f",type:"core",others:[],isBeta:!0},{icon:"unit_minioled.png",title:"UNIT MINI OLED",description:"",required:[],file:"unit_minioled_demo.m5f",type:"core",others:[],isBeta:!0},{icon:"unit_8servos.png",title:"UNIT 8Servos",description:"",required:[],file:"unit_8servos_demo.m5f",type:"core",others:[],isBeta:!0},{icon:"unit_env_pro.png",title:"UNIT ENV Pro",description:"",required:[],file:"unit_env_pro_demo.m5f",type:"core",others:[],isBeta:!0},{icon:"module_lan.png",title:"MODULE LAN",description:"",required:[],file:"module_lan_demo.m5f",type:"core",others:[],isBeta:!0},{icon:"unit_glass2.png",title:"UNIT GLASS2",description:"",required:[],file:"unit_glass2_demo.m5f",type:"core",others:[],isBeta:!0},{icon:"unit_lorae220.png",title:"UNIT LoRa E220",description:"",required:[],file:"unit_lora_e220_demo.m5f",type:"core",others:[],isBeta:!0},{icon:"hardware_microphone.png",title:"Microphone",description:"",required:[],file:"hardware_microphone_demo.m5f",type:"core2",others:[],isBeta:!0},{icon:"module_pps.png",title:"Module PPS",description:"",required:[],file:"module_pps_demo.m5f",type:"core",others:[],isBeta:!0},{icon:"atom_base_qrcode2.png",title:"QRCode2",description:"",required:[],file:"atom_qrcode2_demo.m5f",type:"atom",others:[],isBeta:!0},{icon:"unit_nbiot2.png",title:"Unit NBIoT2 MQTT",description:"",required:[],file:"unit_nbiot2_mqtt_demo.m5f",type:"core",others:[],isBeta:!0},{icon:"unit_lorae220_433.png",title:"Unit LoRaE220-433",description:"",required:[],file:"unit_lorae220_433_demo.m5f",type:"core",others:[],isBeta:!0},{icon:"unit_roller485.png",title:"Unit Roller485",description:"",required:[],file:"unit_roller485_demo.m5f",type:"core",others:[],isBeta:!0}],k="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAF4AAABeCAMAAACdDFNcAAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAt9QTFRFAAAAUWiXVmyXVmuUV2uUV2uUVmmWV2qVV2uXVWiTV2uWV2qVVWyTV2mWV2qVV2qVVWeSWGuUV2qVWGmUW22SV2uWV2qVV2qUV2uVV2qVVmqVV2qVV2mWWGqVV2qVV2uUV2uUWGiXVmqVV2qVWGmWVmqVV2qVVmuVWGuWV2qVV2qVV2uUeoqrkZ25m6fAnKjBk6C6fo6vXXGZj524u8TUwsrZwcjXlqK8W2+YZnmfrLbKtL7QcYKlZXidvcbWqbPJtL3PW26Yh5W0xszbydDdxs3clKG8srzOzNPgz9Xhy9Hev8bWWm6XbH2jytHeys/de4urgJCvztTfj525ipi1ztLfmaa+iZe0mKS+fY2txMvZy9HfjZq2xs3cdoaoq7XJt7/SfIysp7LIprHHr7nNYXSco67GXnGZe4qrqLLIrrjMgpGwY3adhZOyhZSzZ3qgV2qUV2mUWGuVWGuVWGyVV2qVV2qVVmqVV2qUWGqVV2yVV2qVnanAboCkWGuUvMTUZXedV2qVt8DSXnCZsbrNV2mUq7bKV2uUV2uUpK/GVmuWWGuVnqnCV2uVWGqVV2uVmKO+V2uVWGuVVmuUkp66VmqTV2qVV2uVV2qTipi2V2uWV2uWV2mWztTggpGwWGqVWGmWV2uUWGuUytDdfIurV2uUV2qVV2qTxMrZc4SmVmqVoKzEV2uUv8bWbH2iVmqVoKvDrrjLYXOcucLSY3WcusLTdIWnV2uUtL3PWW2XWGuWp7LIxc3ahZSyVmqVV2qUVmmTlaK8V2yVV2uUVmmUWGyWpK/Eoq3EVmqVWGuUsrvNZ3ifnKfAVmyTtL3PvcXVeImpt7/RyM7ciJe0j5y3anygmqW+fIytb4CkvsXWprHGwcjXiZa0bX+jxMvatr/Rx87ce4ysx83bgI+uhJOyy9HfztTgbn6iVmqVsrvPVmmUzdPfVmmWsrvPV2qVaXufV2qVVmmUVW2SV2uWVmyTtMKOhAAAAPV0Uk5TABZTbo2ZhWdMQop4IW1qUiqgqKIOgbnP1tHDn2FUyNWnMXHNTo68umvOiZ/d4+Xl497X4u3v7uTX2enr29nt6OvX4Ofi5uPr29be7tfa3+He39ni4dnk4eTe7N3h59zp7N7o5+rY59je6Onf2ODg2cvQt5+jx9Oan6Oorbeiscqftsabw7+/v828xNS4zcXLtdHDvbGj1sGvrqe/pdWrq72eydKnsLu7z6S0ubPLobe6wZ3IncmlpMSasb3QrJ3Br7S50KyZu7rNqcOft6bFyqbH0q6xobWoo8u9zK2hzsbRqNCqrNTWon/DX9VExFugh3wVZEdyTwiXAAAD2ElEQVR4nO3a+VtUVRgH8JN2gAJpmFhGJIiiICJocVIkNYOWF7OFIjIrxaV9MWQtWgykKFq01bKwogJaIamMFsuSlCyiZYiiSCvcWrT+gGbOOXebGWbumee9Tz49fH+597znvZ9n7n3u3DvLJYTlgHHjD6RoCQuPIPocdDCezRMZpekTsHFP1B2wAncnmuuHWMRTm0e3qcMYO0oOVcFYQmLjxHp8ggMpExMncTKJkMOEnoyFe5JyOEdTyRF85UhM3R2uppGj2PJoZN2RztgMcVYeg80nMDaT88di6w5HDIM5b8fn7f9rPuu47JzjTzjRGv6kyU6Wk6dMxedzpznV5J2CzU/Pc+oyIyQ/AD/Tacips1D507iaX3C68M9A5c9k5lkAUMj52Wcj8nMYeQ54ci73z0Pkz2diEeOLOH8BIn8hE4sZX8z5ixD5EiYWMl4c/IsR+blMvGSe9uKdlyLyucK8rCBfOfMvR+Qd851eWSCvB+BLvfkSVN6RY9QXhqAHvGIu0uuLl2DzjmxNv+LKUPQgt5Orrub4NdeGhAe/GV6Xdf0NpTeGiP/nt/L9hl96k4V82TJKyyus4ssYQCut4YVOqyzhFZ3Sagt4Tae0Bp3X65TejMwbdUpvQeVVvfZWsXIbIq/pcPsdYnU5Gq/TAe6sE4N0JN6gA9QrwxUovJcO0KAUEk3wlRVld90towM0KqXkoPw9np8cyu+V0QGaRK3qviD8/aLxARkd4EFRrV4ZkF+lbE0fktEBHhb1Rx4NwD9GtTwuowOsFjNPjM4/SfVZI6PDU0+LuebR+LXUmGeeNa8DPNciZp/3z79AffKieR2gtU3Mt/vj45Wtm+Al1X/ZvA7wyquiww//mrL16+7Gjk5l1JxiWgd4Y51+1/V8u1JsZI1dbyrjt5JN6wBvr/fLp7yj1LpF47vvKZX3PzCtu3fbH1+5QSk1aJ0fqn0fmdYBun35jR+Lwicd+s5NaqPdtA7Q481/ulmM67YYO+t7qTEmdIDPvPitYtj5uXfnF33yunZUOV8jRr1f+nb2fyWvA3yt50W+6fLb+q28DuDy4Qe+G6V1UF735du+H7W36wf3/NCghO7D9/0YqPsnV8+wjO7N/7xNamtJfns/rm7kf/kVWTfwrt+wdSOPro/xYzwCP4LPD+jftXKXKxPpZ+wOEsaWO7F5/mVrFwlny97dyPwQY/eQCH50WnD1Wq7aCIkUl+SeVix7+Hfx6eIPQkiUer/604WSEcX7i/0VH0EtinhUIdoaXX1QwRa8Vzp792mPWcQmYevGh0RIalpGJhYd9/c/NsH+CzjwCc7il1ZrAAAAAElFTkSuQmCC",S="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAF60lEQVRoQ9Vaf4gUZRh+3tnbb89fEWGo5+2smt7Nnv2iqy7qH0MwlDD/SbCCojRITYogjYiMJLJfYHVSKFRQBhmUFB5JoX9EZqAheLczp2Q7d90pBUJn6ny7O298662s58zet3OzgvPPHXfP+7zvM/PN9+N9hhDTdXQGpqRSYhkxd/mgFgLPAqgFhFnlFIxhgIcYNGyon0SHPE/uve00/oujBJoIiZ1pnuujtNhgWgLg4Yhcu33ifQYSP1n5CycjciCSkP6MyLLP65hoXdTEQXHE3E0GdbflZa5e3rqE9LY0m4kmfy0AJWBqvck08WcBdJeKxvaFQxdczRj9J+Kkk2uZ6BUAM7XImQ8Q0YFqLDO6QFiqFQ+cIubX2wcK23XwWk/EMVM7GLxah1BhiHh9e77QHYR3TPEqA5u1uUA7211vzXj4cYXYpjgM4I7xiKr+P2K58row/HFTdJSA3jr4FPSI5crOWjE1hdim4DoTKvhBy5X3hsVxJ5LO30JG4IXlytB6Q/9hm+JbAA9FSHjMcuUtYXEn5+B6zxdnIvCqkD2WK1cEznhBf+wzxUYDeDNKMma42QGZCYt1WifNZqM0GIVbxfjApg5Xbh0bf8UTyZnJxwn0adREAM5YrrwhLD43O9VGCXYmwA8GP5F1C59Vc1wmZHSdOKQ9xQZXU7Jc2RRWaP+c5O2+T79PRAiAU6Wi0VW9zlwmxDaFGk4bJ5gEZ4tyyp1DOBfEY5tN9wHGzxPNAWCr5cpNFZ5LQtS2w2f8FseKLRJy5ryTOB1UbC6dWkLEP8Qg5KxBuLuynbkkxEknP4xr7+T71NYx6B0PKtZJixVM+CYGIVB7s/aBwnrFVRZyojU1v2hwYOIoCRPEnQvyhSOBQysjHgXj8yi8QTFNPi2YP+idKAvpN1PP+uD34yJn378/O1i8bJ9V4c6ZyacJ9HFcuQzQhjbX+6AsxE6LvXVs5satgUHLs673XRCwL5163iB+b1wSXQCjxxqQy8iejmmYLP7VjdPCER6z8vKLIGx/RrzsM7Zo8eiCzsnrqD8tVvmEXboxWjjmZ6yBwkeBL7sp3mDgJS0eTZDBeIScdPIdJnpBM0YPRvSilffeDnzZzeQ2gDboEemhiPldyqXFLiKs0gvRRDG2WANSHcKuuOx0aieIn9Jk0oIx40uy08n9IFqkFaEN4m2WW3gucGhlxC7muG8cHyA7LRwQ2rRr1AESPrHy8sngoSX2AFiuQ6ONYfSTbZZnrGnaQXrAry1XBraHbDP5I0CL9Wi0USMNEcLAvqwrHwgqI5cWB4lwj3aJesCRxgytGsddOyOOgnGrXn2aqPLQasjLjtDjrm2KEwBu0ixRD6ZaT42Yfmsdd3OmGCbd3pieDJSn34YsiDWOu42YXMoLom0KNbt8pSleFxZ63HVMUWQgoUukiVtJo3aA6rfGegVt5Xtbk10Jg36NNREAz5NTL27jTaGeSFRbILgu5u3sG9uyf3n9FYBjimMMLIxZyG7LlSvLQvoyydUG046YEyg6CeZf1C9k0KRyEzvmyyde05Ev7Lz4RDLNc8H+HzHnuDp0ZMxTBlFDmg9XRwGubD6oxHG2g66SkOB20OhLH0uDrkrIPgY7BJQAmhuxKR52X4IbdAodU8u0nJiAze2ufK26ihjXrNotU5V01GILdJu0h0yNo26utWkRGcZ+ba4AIDGvG2vJBfoj9VptY3MlgIULXNkXVqxjJk8xaEYUMRRixdUyeuq13CpDqrfdlTfXKtI2heox3xVBSKgF1wjr7bznyRtrfdGQM8VxAubXKySS9VZJEtGC22i58q2gQiO+8KGWWyXHuK6uAkax4pqpqWVO/txwtZg/M5NnXeDiUD1PIsxqG8uhJUQFjVpyap3R+2BgdAomRnnTyIS2evx15UoxeNNYiy3sJmgLqVpnru1POKrvxDX/Uc3Yx6oMIt/AUp95aWRbgtFjEPUYPnqUYVPP+1ONrWto1VwbpmOaMUk8yOBOnQ/PCHTYPy+/t/7BSNTiq+P+B/GJYyhN4LscAAAAAElFTkSuQmCC",E={NAME:"name",COLOR:"color",SHOW_TITLE:"showTitle",SHOW_VALUE:"showValue",OFF_LABEL:"offLabel",ON_LABEL:"onLabel",OFF_COLOR:"offColor",ON_COLOR:"onColor",OFF_BG:"offBG",ON_BG:"onBG",LABEL:"label",BG_COLOR:"bgColor",MIN_VALUE:"minValue",MAX_VALUE:"maxValue",STEP:"step",EDGES:"edges",STYLE:"style",EVENT:"event",CODE:"code",VALUE:"value",INTERVAL:"interval",FONTSIZE:"fontsize",CHARTTHEME:"chartTheme",HINT:"hint",CHARACTER_LIMIT:"characterLimit",ALIGN:"align",FALLBACKURL:"fallbackUrl",XMIN:"xMin",XMAX:"xMax",YMIN:"yMin",YMAX:"yMax",CHART_LEGEND_SHOW:"showLegend",DATASTREAM_NAME:"dataStreamName",CHART_TYPE:"chartType",YAXIS_AUTO:"yAxisAuto",YAXIS_MAX_VALUE:"yAxisMax",YAXIS_MIN_VALUE:"yAxisMin",YAXIS_SUFFIX:"yAxisSuffix",EZDATA_TOKEN:"ezdataToken",TOPIC:"topic",XAXIS_DATA:"xAxisData",YAXIS_DATA:"yAxisData",MAX_COUNT:"maxCount",AUTORETURN:"autoReturn",SUFFIX:"suffix",IS_HORIZONTAL:"isHorizontal",DATA_SOURCE:"dataSource",TIMERCAM_TOKEN:"timercamToken",NEED_SHADOW:"needShadow"},M={TITLE:"title",BUTTON:"button",SWITCH:"switch",SLIDER:"slider",INPUT:"input",LABEL:"label",IMAGE:"image",STEPPER:"stepper",JOYSTICK:"joystick",CHART:"chart",GAUGE:"gauge"},O={title:"remoteplus_add_title",button:"remoteplus_add_button",switch:"remoteplus_add_switch",slider:"remoteplus_add_slider",label:"remoteplus_add_label",input:"remoteplus_add_input",image:"remoteplus_add_image",stepper:"remoteplus_add_stepper",joystick:"remoteplus_add_joystick",gauge:"remoteplus_add_gauge"};var I=(()=>{return(e=I||(I={}))[e.title=0]="title",e[e.button=1]="button",e[e.switch=2]="switch",e[e.slider=3]="slider",e[e.label=4]="label",e[e.input=5]="input",e[e.image=6]="image",e[e.stepper=7]="stepper",e[e.joystick=8]="joystick",e[e.gauge=9]="gauge",I;var e})();const P={NONE:"none",UIFLOW:"uiflow",EZDATA:"ezdata",TIMERCAM:"timercam"},R={X1:1,X2:2,X3:3,X5:5,X075:.75},q={UNIT:"https://docs.m5stack.com/en/unit/",HAT:"https://docs.m5stack.com/en/hat/",STAMP:"https://docs.m5stack.com/en/stamp/",SKU:"https://docs.m5stack.com/en/products/sku/"}},50402:function(e,t,i){"use strict";i.d(t,{Ax:function(){return M},EH:function(){return O},t2:function(){return I},EN:function(){return v},gf:function(){return k},qU:function(){return S},tE:function(){return Z},eY:function(){return y},oS:function(){return w},_G:function(){return A},hL:function(){return b},rd:function(){return x},yZ:function(){return C},x7:function(){return T}});var n=i(7637),o=i(67302),r=i(75723);class s{constructor(e){this.id=e.id||v(),this.blockId=e.blockId||"",this.createTime=Date.now()}getProp(e){return this[e]}setProp(e,t){if(e===o.Ie.IS_HORIZONTAL){let e="horizontal"===t?"horizontalOP":"verticalOP";this.options=this[e],this.w=this[e].defaultWidth,this.h=this[e].defaultHeight}let i=[o.Ie.INTERVAL,o.Ie.MAX_VALUE,o.Ie.MIN_VALUE,o.Ie.MAX_COUNT,o.Ie.XMAX,o.Ie.XMIN,o.Ie.YMAX,o.Ie.YMIN,o.Ie.CHARACTER_LIMIT];if(this.type===o.li.STEPPER&&[o.Ie.MAX_VALUE,o.Ie.MIN_VALUE,o.Ie.STEP].indexOf(e)>-1)return this[e]=Number(parseFloat(t).toFixed(this.decimalPlaces));if(i.indexOf(e)>-1)return this[e]=parseInt(t);if([o.Ie.SHOW_TITLE,o.Ie.SHOW_VALUE,o.Ie.AUTORETURN,o.Ie.IS_HORIZONTAL,o.Ie.NEED_SHADOW].indexOf(e)>-1)return this[e]="true"==t;if(this.type===o.li.CHART){let i;switch(e){case o.Ie.YAXIS_MAX_VALUE:case o.Ie.YAXIS_MIN_VALUE:i=parseInt(t);break;case o.Ie.CHART_LEGEND_SHOW:case o.Ie.YAXIS_AUTO:i="true"==t;break;default:i=t}return this.updateOptions(e,i),this[e]=i}this[e]=t}checkBoolean(e,t){return void 0!==e?e:t}checkString(e,t){return void 0!==e?e:t}checkNumber(e,t){return Object.is(e,NaN)||void 0===e?t:e}}class a extends s{constructor(e){super(e),this.name="TitleName",this.dragAndDrop=!0,this.resizable=!0,this.options={minWidth:1,minHeight:1,maxWidth:6,maxHeight:10,defaultWidth:2,defaultHeight:1},this.w=this.options.defaultWidth,this.h=this.options.defaultHeight,this.bgColor="#fff",this.color="#0080FF",this.fontsize="M",this.label="Title",this.interval=3e3,this.code="",this.event="",this.dataSource="none",this.ezdataToken=localStorage.getItem("dataToken")||"",this.topic="",this.needShadow=!1,e||(e={}),this.dragAndDrop=this.checkBoolean(e.dragAndDrop,this.dragAndDrop),this.resizable=this.checkBoolean(e.resizable,this.resizable),this.type=o.li.TITLE,this.id=e.id||this.id,this.name=e.name||this.name,this.x=Math.floor(e.x),this.y=Math.floor(e.y),this.w=Math.floor(e.w)||this.w,this.h=Math.floor(e.h)||this.h,this.color=e.color||this.color,this.bgColor=e.bgColor||this.bgColor,this.fontsize=e.fontsize||this.fontsize,this.label=e.label||this.label,this.interval=e.interval||this.interval,this.code=e.code||this.code,this.event=e.event||this.event,this.dataSource=this.checkBoolean(e.dataSource,this.dataSource),this.ezdataToken=this.checkString(e.ezdataToken,this.ezdataToken),this.topic=e.topic||this.topic}getAllProps(){let e=[{[o.Ie.NAME]:this.name},{[o.Ie.LABEL]:this.label},{[o.Ie.FONTSIZE]:this.fontsize},{[o.Ie.COLOR]:this.color},{[o.Ie.BG_COLOR]:this.bgColor},{[o.Ie.DATA_SOURCE]:this.dataSource},{[o.Ie.INTERVAL]:this.interval},{[o.Ie.EZDATA_TOKEN]:this.ezdataToken},{[o.Ie.TOPIC]:this.topic}];return"__title"===this.id&&(e=[{[o.Ie.LABEL]:this.label},{[o.Ie.FONTSIZE]:this.fontsize},{[o.Ie.COLOR]:this.color},{[o.Ie.BG_COLOR]:this.bgColor}]),e}}class l extends s{constructor(e){super(e),this.name="ButtonName",this.dragAndDrop=!0,this.resizable=!0,this.options={minWidth:2,minHeight:1,maxWidth:6,maxHeight:6,defaultWidth:2,defaultHeight:1},this.w=this.options.defaultWidth,this.h=this.options.defaultHeight,this.showTitle=!1,this.label="Btn",this.color="#fff",this.bgColor="#0080FF",this.edges="sharp",this.style="solid",this.needShadow=!1,this.code="",this.event="",e||(e={}),this.dragAndDrop=this.checkBoolean(e.dragAndDrop,this.dragAndDrop),this.resizable=this.checkBoolean(e.resizable,this.resizable),this.type=o.li.BUTTON,this.id=e.id||this.id,this.name=e.name||this.name,this.x=Math.floor(e.x),this.y=Math.floor(e.y),this.w=Math.floor(e.w)||this.w,this.h=Math.floor(e.h)||this.h,this.showTitle=this.checkBoolean(e.showTitle,this.showTitle),this.label=this.checkString(e.label,this.label),this.needShadow=this.checkBoolean(e.needShadow,this.needShadow),this.color=e.color||this.color,this.bgColor=e.bgColor||this.bgColor,this.edges=e.edges||this.edges,this.style=e.style||this.style,this.code=e.code||this.code,this.event=e.event||this.event}getAllProps(){return[{[o.Ie.NAME]:this.name},{[o.Ie.SHOW_TITLE]:this.showTitle},{[o.Ie.LABEL]:this.label},{[o.Ie.COLOR]:this.color},{[o.Ie.BG_COLOR]:this.bgColor},{[o.Ie.EDGES]:this.edges},{[o.Ie.STYLE]:this.style},{[o.Ie.NEED_SHADOW]:this.needShadow}]}}class c extends s{constructor(e){super(e),this.name="SwitchName",this.dragAndDrop=!0,this.resizable=!0,this.options={minWidth:2,minHeight:2,maxWidth:6,maxHeight:6,defaultWidth:2,defaultHeight:2},this.w=this.options.defaultWidth,this.h=this.options.defaultHeight,this.showTitle=!1,this.stateValue=!1,this.offLabel="OFF",this.onLabel="ON",this.offColor="#eee",this.onColor="#fff",this.offBG="#0080FF",this.onBG="#0080FF",this.needShadow=!1,this.code="",this.event="",e||(e={}),this.dragAndDrop=this.checkBoolean(e.dragAndDrop,this.dragAndDrop),this.resizable=this.checkBoolean(e.resizable,this.resizable),this.type=o.li.SWITCH,this.id=e.id||this.id,this.name=e.name||this.name,this.x=Math.floor(e.x),this.y=Math.floor(e.y),this.w=Math.floor(e.w)||this.w,this.h=Math.floor(e.h)||this.h,this.showTitle=this.checkBoolean(e.showTitle,this.showTitle),this.stateValue=this.checkBoolean(e.stateValue,this.stateValue),this.needShadow=this.checkBoolean(e.needShadow,this.needShadow),this.offLabel=this.checkString(e.offLabel,this.offLabel),this.onLabel=this.checkString(e.onLabel,this.onLabel),this.offColor=e.offColor||this.offColor,this.onColor=e.onColor||this.onColor,this.offBG=e.offBG||this.offBG,this.onBG=e.onBG||this.onBG,this.code=e.code||this.code,this.event=e.event||this.event}getAllProps(){return[{[o.Ie.NAME]:this.name},{[o.Ie.SHOW_TITLE]:this.showTitle},{[o.Ie.OFF_LABEL]:this.offLabel},{[o.Ie.ON_LABEL]:this.onLabel},{[o.Ie.OFF_COLOR]:this.offColor},{[o.Ie.ON_COLOR]:this.onColor},{[o.Ie.OFF_BG]:this.offBG},{[o.Ie.ON_BG]:this.onBG},{[o.Ie.NEED_SHADOW]:this.needShadow}]}}class h extends s{constructor(e){super(e),this.name="SliderName",this.dragAndDrop=!0,this.resizable=!0,this.horizontalOP={minWidth:2,minHeight:2,maxWidth:6,maxHeight:2,defaultWidth:2,defaultHeight:2},this.verticalOP={minWidth:2,minHeight:3,maxWidth:2,maxHeight:6,defaultWidth:2,defaultHeight:4},this.options=this.horizontalOP,this.w=this.options.defaultWidth,this.h=this.options.defaultHeight,this.showTitle=!1,this.showValue=!0,this.minValue=0,this.maxValue=100,this.color="#0080FF",this.isHorizontal=!0,this.needShadow=!1,this.code="",this.event="",e||(e={}),this.dragAndDrop=this.checkBoolean(e.dragAndDrop,this.dragAndDrop),this.resizable=this.checkBoolean(e.resizable,this.resizable),this.type=o.li.SLIDER,this.id=e.id||this.id,this.name=e.name||this.name,this.x=Math.floor(e.x),this.y=Math.floor(e.y),this.w=Math.floor(e.w)||this.w,this.h=Math.floor(e.h)||this.h,this.showTitle=this.checkBoolean(e.showTitle,this.showTitle),this.showValue=this.checkBoolean(e.showValue,this.showValue),this.color=e.color||this.color,this.minValue=this.checkNumber(e.minValue,this.minValue),this.maxValue=this.checkNumber(e.maxValue,this.maxValue),this.isHorizontal=this.checkBoolean(e.isHorizontal,this.isHorizontal),this.needShadow=this.checkBoolean(e.needShadow,this.needShadow),this.code=e.code||this.code,this.event=e.event||this.event}getAllProps(){return[{[o.Ie.NAME]:this.name},{[o.Ie.SHOW_TITLE]:this.showTitle},{[o.Ie.SHOW_VALUE]:this.showValue},{[o.Ie.COLOR]:this.color},{[o.Ie.IS_HORIZONTAL]:this.isHorizontal},{[o.Ie.MIN_VALUE]:this.minValue},{[o.Ie.MAX_VALUE]:this.maxValue},{[o.Ie.NEED_SHADOW]:this.needShadow}]}}class u extends s{constructor(e){super(e),this.name="InputName",this.dragAndDrop=!0,this.resizable=!0,this.options={minWidth:2,minHeight:1,maxWidth:6,maxHeight:2,defaultWidth:2,defaultHeight:2},this.w=this.options.defaultWidth,this.h=this.options.defaultHeight,this.showTitle=!1,this.color="#0080FF",this.hint="Text",this.characterLimit=8,this.fontsize="M",this.needShadow=!1,this.code="",this.event="",e||(e={}),this.dragAndDrop=this.checkBoolean(e.dragAndDrop,this.dragAndDrop),this.resizable=this.checkBoolean(e.resizable,this.resizable),this.type=o.li.INPUT,this.id=e.id||this.id,this.name=e.name||this.name,this.x=Math.floor(e.x),this.y=Math.floor(e.y),this.w=Math.floor(e.w)||this.w,this.h=Math.floor(e.h)||this.h,this.code=e.code||this.code,this.event=e.event||this.event,this.showTitle=this.checkBoolean(e.showTitle,this.showTitle),this.color=e.color||this.color,this.hint=this.checkString(e.hint,this.hint),this.characterLimit=this.checkNumber(e.characterLimit,this.characterLimit),this.fontsize=e.fontsize||this.fontsize,this.needShadow=this.checkBoolean(e.needShadow,this.needShadow)}getAllProps(){return[{[o.Ie.NAME]:this.name},{[o.Ie.SHOW_TITLE]:this.showTitle},{[o.Ie.FONTSIZE]:this.fontsize},{[o.Ie.COLOR]:this.color},{[o.Ie.HINT]:this.hint},{[o.Ie.CHARACTER_LIMIT]:this.characterLimit},{[o.Ie.NEED_SHADOW]:this.needShadow}]}}class d extends s{constructor(e){super(e),this.name="LabelName",this.dragAndDrop=!0,this.resizable=!0,this.options={minWidth:2,minHeight:1,maxWidth:6,maxHeight:6,defaultWidth:2,defaultHeight:2},this.w=this.options.defaultWidth,this.h=this.options.defaultHeight,this.showTitle=!1,this.color="#0080FF",this.interval=3e3,this.fontsize="M",this.code="",this.event="",this.dataSource="uiflow",this.ezdataToken=localStorage.getItem("dataToken")||"",this.topic="",this.needShadow=!1,e||(e={}),this.dragAndDrop=this.checkBoolean(e.dragAndDrop,this.dragAndDrop),this.resizable=this.checkBoolean(e.resizable,this.resizable),this.type=o.li.LABEL,this.id=e.id||this.id,this.name=e.name||this.name,this.x=Math.floor(e.x),this.y=Math.floor(e.y),this.w=Math.floor(e.w)||this.w,this.h=Math.floor(e.h)||this.h,this.showTitle=this.checkBoolean(e.showTitle,this.showTitle),this.color=e.color||this.color,this.interval=e.interval||this.interval,this.fontsize=e.fontsize||this.fontsize,this.code=e.code||this.code,this.event=e.event||this.event,this.dataSource=this.checkBoolean(e.dataSource,this.dataSource),this.ezdataToken=this.checkString(e.ezdataToken,this.ezdataToken),this.topic=e.topic||this.topic,this.needShadow=this.checkBoolean(e.needShadow,this.needShadow)}getAllProps(){return[{[o.Ie.NAME]:this.name},{[o.Ie.SHOW_TITLE]:this.showTitle},{[o.Ie.FONTSIZE]:this.fontsize},{[o.Ie.COLOR]:this.color},{[o.Ie.NEED_SHADOW]:this.needShadow},{[o.Ie.DATA_SOURCE]:this.dataSource},{[o.Ie.INTERVAL]:this.interval},{[o.Ie.EZDATA_TOKEN]:this.ezdataToken},{[o.Ie.TOPIC]:this.topic}]}}class p extends s{constructor(e){super(e),this.name="ImageName",this.dragAndDrop=!0,this.resizable=!0,this.options={minWidth:2,minHeight:2,maxWidth:6,maxHeight:12,defaultWidth:4,defaultHeight:4},this.w=this.options.defaultWidth,this.h=this.options.defaultHeight,this.showTitle=!1,this.fallbackUrl="",this.interval=3e3,this.code="",this.event="",this.dataSource="uiflow",this.ezdataToken=localStorage.getItem("dataToken")||"",this.topic="",this.timercamToken="",this.needShadow=!1,e||(e={}),this.dragAndDrop=this.checkBoolean(e.dragAndDrop,this.dragAndDrop),this.resizable=this.checkBoolean(e.resizable,this.resizable),this.type=o.li.IMAGE,this.id=e.id||this.id,this.name=e.name||this.name,this.x=Math.floor(e.x),this.y=Math.floor(e.y),this.w=Math.floor(e.w)||this.w,this.h=Math.floor(e.h)||this.h,this.showTitle=this.checkBoolean(e.showTitle,this.showTitle),this.fallbackUrl=this.checkString(e.fallbackUrl,this.fallbackUrl),this.interval=e.interval||this.interval,this.code=e.code||this.code,this.event=e.event||this.event,this.dataSource=this.checkBoolean(e.dataSource,this.dataSource),this.ezdataToken=this.checkString(e.ezdataToken,this.ezdataToken),this.timercamToken=this.checkString(e.timercamToken,this.timercamToken),this.topic=e.topic||this.topic,this.needShadow=this.checkBoolean(e.needShadow,this.needShadow)}getAllProps(){return[{[o.Ie.NAME]:this.name},{[o.Ie.SHOW_TITLE]:this.showTitle},{[o.Ie.FALLBACKURL]:this.fallbackUrl},{[o.Ie.NEED_SHADOW]:this.needShadow},{[o.Ie.DATA_SOURCE]:this.dataSource},{[o.Ie.INTERVAL]:this.interval},{[o.Ie.EZDATA_TOKEN]:this.ezdataToken},{[o.Ie.TOPIC]:this.topic},{[o.Ie.TIMERCAM_TOKEN]:this.timercamToken}]}}class g extends s{constructor(e){super(e),this.name="StepperName",this.dragAndDrop=!0,this.resizable=!0,this.options={minWidth:3,minHeight:2,maxWidth:6,maxHeight:2,defaultWidth:3,defaultHeight:2},this.w=this.options.defaultWidth,this.h=this.options.defaultHeight,this.showTitle=!1,this.minValue=0,this.maxValue=100,this.step=1,this.decimalPlaces=3,this.needShadow=!1,this.code="",this.event="",e||(e={}),this.dragAndDrop=this.checkBoolean(e.dragAndDrop,this.dragAndDrop),this.resizable=this.checkBoolean(e.resizable,this.resizable),this.type=o.li.STEPPER,this.id=e.id||this.id,this.name=e.name||this.name,this.x=Math.floor(e.x),this.y=Math.floor(e.y),this.w=Math.floor(e.w)||this.w,this.h=Math.floor(e.h)||this.h,this.showTitle=this.checkBoolean(e.showTitle,this.showTitle),this.minValue=this.checkNumber(e.minValue,this.minValue),this.maxValue=this.checkNumber(e.maxValue,this.maxValue),this.step=this.checkNumber(e.step,this.step),this.code=e.code||this.code,this.event=e.event||this.event,this.needShadow=this.checkBoolean(e.needShadow,this.needShadow)}getAllProps(){return[{[o.Ie.NAME]:this.name},{[o.Ie.SHOW_TITLE]:this.showTitle},{[o.Ie.MIN_VALUE]:this.minValue},{[o.Ie.MAX_VALUE]:this.maxValue},{[o.Ie.STEP]:this.step},{[o.Ie.NEED_SHADOW]:this.needShadow}]}}class f extends s{constructor(e){super(e),this.name="JoystickName",this.dragAndDrop=!0,this.resizable=!0,this.options={minWidth:4,minHeight:4,maxWidth:6,maxHeight:10,defaultWidth:6,defaultHeight:6},this.w=this.options.defaultWidth,this.h=this.options.defaultHeight,this.showTitle=!1,this.xMin=-100,this.xMax=100,this.yMin=-100,this.yMax=100,this.color="#0080ff",this.autoReturn=!0,this.needShadow=!1,this.code="",this.event="",e||(e={}),this.dragAndDrop=this.checkBoolean(e.dragAndDrop,this.dragAndDrop),this.resizable=this.checkBoolean(e.resizable,this.resizable),this.type=o.li.JOYSTICK,this.id=e.id||this.id,this.name=e.name||this.name,this.x=Math.floor(e.x),this.y=Math.floor(e.y),this.w=Math.floor(e.w)||this.w,this.h=Math.floor(e.h)||this.h,this.showTitle=this.checkBoolean(e.showTitle,this.showTitle),this.autoReturn=this.checkBoolean(e.autoReturn,this.autoReturn),this.color=e.color||this.color,this.xMin=this.checkNumber(Math.floor(e.xMin),this.xMin),this.xMax=this.checkNumber(Math.floor(e.xMax),this.xMax),this.yMin=this.checkNumber(Math.floor(e.yMin),this.yMin),this.yMax=this.checkNumber(Math.floor(e.yMax),this.yMax),this.code=e.code||this.code,this.event=e.event||this.event,this.needShadow=this.checkBoolean(e.needShadow,this.needShadow)}getAllProps(){return[{[o.Ie.NAME]:this.name},{[o.Ie.SHOW_TITLE]:this.showTitle},{[o.Ie.COLOR]:this.color},{[o.Ie.AUTORETURN]:this.autoReturn},{[o.Ie.XMIN]:this.xMin},{[o.Ie.XMAX]:this.xMax},{[o.Ie.YMIN]:this.yMin},{[o.Ie.YMAX]:this.yMax},{[o.Ie.NEED_SHADOW]:this.needShadow}]}}class m extends s{constructor(e){super(e),this.name="ChartName",this.dragAndDrop=!0,this.resizable=!0,this.options={minWidth:6,minHeight:5,maxWidth:6,maxHeight:10,defaultWidth:6,defaultHeight:6},this.w=this.options.defaultWidth,this.h=this.options.defaultHeight,this.showTitle=!1,this.color="#0080FF",this.interval=3e3,this.code="",this.event="",this.needShadow=!1,this.ezdataToken=localStorage.getItem("dataToken")||"",this.topic="",this.xAxisData="",this.yAxisData="",this.maxCount=50,this.chartTheme="",this.showLegend=!0,this.dataStreamName="Temperature",this.chartType="bar",this.yAxisAuto=!0,this.yAxisMax=30,this.yAxisMin=0,this.yAxisSuffix="\xb0C",this.chartOptions={dataZoom:{type:"inside"},grid:{left:"2%",containLabel:!0},legend:{data:[this.dataStreamName],align:"left",top:10,show:this.showLegend},xAxis:{show:!0,type:"category",boundaryGap:!0,data:[],axisTick:{show:!1}},yAxis:[{type:"value",max:this.yAxisMax,min:this.yAxisMin,axisLabel:{formatter:`{value} ${this.yAxisSuffix}`}}],series:[{name:this.dataStreamName,type:this.chartType,data:[],yAxisIndex:0,itemStyle:{color:this.color},barMaxWidth:30}]},this.dataSource="ezdata",e||(e={}),this.dragAndDrop=this.checkBoolean(e.dragAndDrop,this.dragAndDrop),this.resizable=this.checkBoolean(e.resizable,this.resizable),this.type=o.li.CHART,this.id=e.id||this.id,this.name=e.name||this.name,this.x=Math.floor(e.x),this.y=Math.floor(e.y),this.w=Math.floor(e.w)||this.w,this.h=Math.floor(e.h)||this.h,this.showTitle=this.checkBoolean(e.showTitle,this.showTitle),this.chartTheme=e.chartTheme||this.chartTheme,this.showLegend=this.checkBoolean(e.showLegend,this.showLegend),this.color=e.color||this.color,this.interval=e.interval||this.interval,this.dataStreamName=this.checkString(e.dataStreamName,this.dataStreamName),this.chartType=e.chartType||this.chartType,this.yAxisSuffix=this.checkString(e.yAxisSuffix,this.yAxisSuffix),this.ezdataToken=this.checkString(e.ezdataToken,this.ezdataToken),this.topic=e.topic||this.topic,this.xAxisData=e.xAxisData||this.xAxisData,this.yAxisData=e.yAxisData||this.yAxisData,this.maxCount=this.checkNumber(e.maxCount,this.maxCount),this.code=e.code||this.code,this.event=e.event||this.event,this.dataSource=this.checkBoolean(e.dataSource,this.dataSource),this.updateAllOptions(),this.needShadow=this.checkBoolean(e.needShadow,this.needShadow)}getAllProps(){return[{[o.Ie.NAME]:this.name},{[o.Ie.SHOW_TITLE]:this.showTitle},{[o.Ie.CHARTTHEME]:this.chartTheme},{[o.Ie.COLOR]:this.color},{[o.Ie.CHART_TYPE]:this.chartType},{[o.Ie.NEED_SHADOW]:this.needShadow},{[o.Ie.CHART_LEGEND_SHOW]:this.showLegend},{[o.Ie.DATASTREAM_NAME]:this.dataStreamName},{[o.Ie.YAXIS_SUFFIX]:this.yAxisSuffix},{[o.Ie.INTERVAL]:this.interval},{[o.Ie.EZDATA_TOKEN]:this.ezdataToken},{[o.Ie.TOPIC]:this.topic},{[o.Ie.XAXIS_DATA]:this.xAxisData},{[o.Ie.YAXIS_DATA]:this.yAxisData},{[o.Ie.MAX_COUNT]:this.maxCount}]}updateOptions(e,t){switch(this.chartOptions=Object.assign({},this.chartOptions),e){case o.Ie.CHART_LEGEND_SHOW:this.chartOptions.legend.show=t;break;case o.Ie.CHART_TYPE:this.chartOptions.series[0].type=t;break;case o.Ie.COLOR:this.chartOptions.series[0].itemStyle.color=t;break;case o.Ie.DATASTREAM_NAME:this.chartOptions.legend.data[0]=t,this.chartOptions.series[0].name=t;break;case o.Ie.YAXIS_MAX_VALUE:this.chartOptions.yAxis[0].max=t;break;case o.Ie.YAXIS_MIN_VALUE:this.chartOptions.yAxis[0].min=t;break;case o.Ie.YAXIS_SUFFIX:this.chartOptions.yAxis[0].axisLabel.formatter=`{value} ${t}`;break;case o.Ie.YAXIS_AUTO:this.chartOptions.yAxis[0].max=t?null:this.yAxisMax,this.chartOptions.yAxis[0].min=t?null:this.yAxisMin}}updateAllOptions(){[o.Ie.CHART_LEGEND_SHOW,o.Ie.CHART_TYPE,o.Ie.COLOR,o.Ie.DATASTREAM_NAME,o.Ie.YAXIS_MAX_VALUE,o.Ie.YAXIS_MIN_VALUE,o.Ie.YAXIS_SUFFIX,o.Ie.YAXIS_AUTO].forEach(e=>{this.updateOptions(e,this[e])})}}class _ extends s{constructor(e){super(e),this.name="GaugeName",this.dragAndDrop=!0,this.resizable=!0,this.options={minWidth:4,minHeight:4,maxWidth:6,maxHeight:6,defaultWidth:4,defaultHeight:4},this.w=this.options.defaultWidth,this.h=this.options.defaultHeight,this.showTitle=!1,this.color="#0080FF",this.interval=3e3,this.fontsize="M",this.label="Title",this.code="",this.event="",this.needShadow=!1,this.minValue=0,this.maxValue=100,this.suffix="\xb0C",this.dataSource="uiflow",this.ezdataToken=localStorage.getItem("dataToken")||"",this.topic="",e||(e={}),this.dragAndDrop=this.checkBoolean(e.dragAndDrop,this.dragAndDrop),this.resizable=this.checkBoolean(e.resizable,this.resizable),this.type=o.li.GAUGE,this.id=e.id||this.id,this.name=e.name||this.name,this.x=Math.floor(e.x),this.y=Math.floor(e.y),this.w=Math.floor(e.w)||this.w,this.h=Math.floor(e.h)||this.h,this.showTitle=this.checkBoolean(e.showTitle,this.showTitle),this.color=e.color||this.color,this.interval=e.interval||this.interval,this.fontsize=e.fontsize||this.fontsize,this.label=e.label||this.label,this.minValue=this.checkNumber(e.minValue,this.minValue),this.maxValue=this.checkNumber(e.maxValue,this.maxValue),this.suffix=e.suffix||this.suffix,this.code=e.code||this.code,this.event=e.event||this.event,this.dataSource=this.checkBoolean(e.dataSource,this.dataSource),this.ezdataToken=this.checkString(e.ezdataToken,this.ezdataToken),this.topic=e.topic||this.topic,this.needShadow=this.checkBoolean(e.needShadow,this.needShadow)}getAllProps(){return[{[o.Ie.NAME]:this.name},{[o.Ie.SHOW_TITLE]:this.showTitle},{[o.Ie.LABEL]:this.label},{[o.Ie.FONTSIZE]:this.fontsize},{[o.Ie.COLOR]:this.color},{[o.Ie.SUFFIX]:this.suffix},{[o.Ie.MIN_VALUE]:this.minValue},{[o.Ie.MAX_VALUE]:this.maxValue},{[o.Ie.NEED_SHADOW]:this.needShadow},{[o.Ie.DATA_SOURCE]:this.dataSource},{[o.Ie.INTERVAL]:this.interval},{[o.Ie.EZDATA_TOKEN]:this.ezdataToken},{[o.Ie.TOPIC]:this.topic}]}}const v=()=>{let e="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789`!@#$%^&*_+-=",t="";for(let i=0;i<16;i++)t+=e[Math.floor(Math.random()*e.length)];return t},y=e=>{switch(e.type){case o.Eq.SCREEN:return new n.k7(e);case o.Eq.BUTTON:return new n.r0(e);case o.Eq.TITLE:return new n.r3(e);case o.Eq.LABEL:return new n._n(e);case o.Eq.RECTANGLE:return new n.b8(e);case o.Eq.CIRCLE:return new n.HF(e);case o.Eq.IMAGE:return new n.cu(e);case o.Eq.TRIANGLE:return new n.RQ(e);case o.Eq.LINE:return new n.yk(e);case o.Eq.BUTTON2:return new n.gK(e);case o.Eq.SWITCH:return new n.qU(e);case o.Eq.SLIDER:return new n.Pi(e);case o.Eq.BAR:return new n.R2(e);case o.Eq.CHECKBOX:return new n.bK(e);case o.Eq.LABELPLUS:return new n.ju(e);case o.Eq.IMAGEPLUS:return new n.Di(e);case o.Eq.GRAPH:return new n.B$(e);case o.Eq.BARGRAPH:return new n.pc(e)}},b=e=>{switch(e.type){case o.g1.ENV:return new r.vOD(e);case o.g1.ENV2:return new r.oJw(e);case o.g1.ENV3:return new r.eLT(e);case o.g1.ANGLE:return new r.Tem(e);case o.g1.ANGLE8:return new r.g3b(e);case o.g1.PIR:return new r.Dt2(e);case o.g1.NEOPIXEL:return new r.rrx(e);case o.g1.JOYSTICK:return new r.Ss0(e);case o.g1.LIGHT:return new r.xN$(e);case o.g1.EARTH:return new r.H6I(e);case o.g1.MAKEY:return new r.Qhy(e);case o.g1.SERVO:return new r.Rbq(e);case o.g1.WEIGH:return new r.NpM(e);case o.g1.HEART:return new r.Hlb(e);case o.g1.TRACK:return new r.ztu(e);case o.g1.TPNX:return new r.bIq(e);case o.g1.ADC:return new r.zZ$(e);case o.g1.BUTTON:return new r.R5s(e);case o.g1.COLOR:return new r.tmb(e);case o.g1.DAC:return new r.KGR(e);case o.g1.DUALBUTTON:return new r.DMh(e);case o.g1.HUB:return new r.pTD(e);case o.g1.IR:return new r.uCw(e);case o.g1.M5CAMEAR:return new r.iVb(e);case o.g1.NCIR:return new r.aZe(e);case o.g1.PROTO:return new r.waU(e);case o.g1.RELAY:return new r.PV8(e);case o.g1.RGB:return new r.k9y(e);case o.g1.THERMAL:return new r.uGe(e);case o.g1.TOF:return new r.t3B(e);case o.g1.TRACK:return new r.ztu(e);case o.g1.EXTIO:return new r._rl(e);case o.g1.EXTIO2:return new r.gXc(e);case o.g1.RFID:return new r.V2p(e);case o.g1.FINGER:return new r.l4c(e);case o.g1.CARDKB:return new r.TLE(e);case o.g1.PBHUB:return new r.pw4(e);case o.g1.PAHUB:return new r.GCB(e);case o.g1.GPS:return new r.HHl(e);case o.g1.ACCEL:return new r._OS(e);case o.g1.ACSOCKET:return new r.$pm(e);case o.g1.V:return new r.Szs(e);case o.g1.IMU:return new r.Dy_(e);case o.g1.BPS:return new r.D6t(e);case o.g1.TVOC:return new r.Smv(e);case o.g1.VMETER:return new r.MW8(e);case o.g1.AMETER:return new r.MOA(e);case o.g1.OP90:return new r.Ohe(e);case o.g1.OP180:return new r.mm1(e);case o.g1.HALL:return new r.rwb(e);case o.g1.FAN:return new r.ZcI(e);case o.g1.VIBRATOR:return new r.UJM(e);case o.g1.LASERTX:return new r.gtA(e);case o.g1.LASERRX:return new r.DNN(e);case o.g1.ULTRASONIC:return new r.UQW(e);case o.g1.WATERING:return new r.MuL(e);case o.g1.RELAY4:return new r.KpY(e);case o.g1.DDS:return new r.W(e);case o.g1.UHFRFID:return new r.wKh(e);case o.g1.UNITCAM:return new r.u8U(e);case o.g1.TIMERCAM:return new r.ybB(e);case o.g1.V2:return new r.U7T(e);case o.g1.OLED:return new r.QIh(e);case o.g1.NBIOT:return new r.gyN(e);case o.g1.RS485:return new r.H7M(e);case o.g1.ISO485:return new r.dmQ(e);case o.g1.LORAWAN470:return new r.T9U(e);case o.g1.LORAWAN868:return new r.sbd(e);case o.g1.LORAWAN915:return new r.p_6(e);case o.g1.FADER:return new r.fmZ(e);case o.g1.GESTURE:return new r.stA(e);case o.g1.MQTT:return new r.YgK(e);case o.g1.RTC:return new r.JVA(e);case o.g1.LCD:return new r.PBr(e);case o.g1.ROTARY_ENCODER:return new r.vjW(e);case o.g1.ID:return new r.e9(e);case o.g1.JOYSTICKLED:return new r.YSb(e);case o.g1.ENCODER:return new r.QkU(e);case o.g1.FADER8:return new r.AIM(e);case o.g1.MIC:return new r.np4(e);case o.g1.DLIGHT:return new r.V3k(e);case o.g1.PDM:return new r.UDw(e);case o.g1.SSR:return new r.HSb(e);case o.g1.RELAY2:return new r.VY8(e);case o.g1.POESP32:return new r.Gb(e);case o.g1.KMETER:return new r.hK0(e);case o.g1.SONICIO:return new r.TPv(e);case o.g1.CATM:return new r.kVh(e);case o.g1.TUBE:return new r.Gfr(e);case o.g1.BUZZER:return new r.xts(e);case o.g1.LIMIT:return new r.Mi2(e);case o.g1.KEY:return new r.gA8(e);case o.g1.CATMGNSS:return new r.e5(e);case o.g1.DIGICLOCK:return new r.piF(e);case o.g1.GROVE2GROVE:return new r.do4(e);case o.g1.UWB:return new r.otU(e);case o.g1.CO2:return new r.$7I(e);case o.g1.ZIGBEE:return new r.h6$(e);case o.g1.SCALES:return new r.JGD(e);case o.g1.THERMAL2:return new r.yW3(e);case o.g1.NCIR2:return new r.BM_(e);case o.g1.FLASHLIGHT:return new r.HWk(e);case o.g1.ENCODER8:return new r.ilY(e);case o.g1.BPSQMP:return new r.ZkP(e);case o.g1.CO2L:return new r.nFm(e);case o.g1.ACSSR:return new r._W$(e);case o.g1.GLASS:return new r.mnq(e);case o.g1.KMETERISO:return new r.DbO(e);case o.g1.RF433T:return new r.xLY(e);case o.g1.RF433R:return new r.LPz(e);case o.g1.HBRIDGE:return new r.xBd(e);case o.g1.CAN:return new r.cPP(e);case o.g1.DCSSR:return new r.SzA(e);case o.g1.EXTENCODER:return new r.nYO(e);case o.g1.AIN420MA:return new r.$SM(e);case o.g1.NECO:return new r.ywi(e);case o.g1.ACMEASURE:return new r.CSw(e);case o.g1.CATCH:return new r.h4X(e);case o.g1.MINIOLED:return new r.lYl(e);case o.g1.SERVOS8:return new r.p6x(e);case o.g1.ENV4:return new r.B8p(e);case o.g1.ENVPRO:return new r.LO2(e);case o.g1.GLASS2:return new r.qkD(e);case o.g1.IMUPRO:return new r.IKt(e);case o.g1.LORAE220:return new r.LIQ(e);case o.g1.TOF4M:return new r.EkF(e);case o.g1.REFLECTIVEIR:return new r.Usw(e);case o.g1.SYNTH:return new r.Dpk(e);case o.g1.MINISCALE:return new r.pwT(e);case o.g1.QRCODE:return new r.US4(e);case o.g1.DAC2:return new r.UXo(e);case o.g1.ADCV11:return new r.u5g(e);case o.g1.MINICAN:return new r.YIi(e);case o.g1.WEIGHTI2C:return new r.ZyP(e);case o.g1.BLDCDRIVER:return new r.$0U(e);case o.g1.NBIOT2:return new r.ATU(e);case o.g1.ROLLER485:return new r.vdB(e);case o.g1.LORAE220433:return new r.TWN(e);case o.g1.SCROLL:return new r.GHT(e);case o.g1.TMOS:return new r.vmT(e);case o.g1.DMX:return new r.gWh(e)}},w=e=>{switch(e.type){case o.E2.ENV:return new r.ZsX(e);case o.E2.PIR:return new r.HSK(e);case o.E2.SPK:return new r.iNJ(e);case o.E2.NCIR:return new r.L1x(e);case o.E2.ADC:return new r.NM9(e);case o.E2.DAC:return new r.fDc(e);case o.E2.SERVO:return new r.IDl(e);case o.E2.SERVOS:return new r.QWm(e);case o.E2.PUPPY:return new r.iuM(e);case o.E2.Joystick:return new r.Xad(e);case o.E2.BUGC:return new r.S09(e);case o.E2.Finger:return new r.fEv(e);case o.E2.BeetleC:return new r.WcW(e);case o.E2.YUN:return new r.XHn(e);case o.E2.JoyC:return new r.XUS(e);case o.E2.RoverC:return new r.cRD(e);case o.E2.TOF:return new r.Jxw(e);case o.E2.Thermal:return new r.jL7(e);case o.E2.CardKb:return new r.Ot6(e);case o.E2.ENV2:return new r.gKv(e);case o.E2.ENV3:return new r.IUz(e);case o.E2.RS485:return new r.dh5(e);case o.E2.CBACK:return new r.UCq(e);case o.E2.SERVOS8:return new r.HEA(e);case o.E2.BALAC:return new r.lWN(e);case o.E2.CBACKNBIOT:return new r.EFS(e);case o.E2.DLIGHT:return new r.$zo(e);case o.E2.HeartRate:return new r.nb7(e);case o.E2.MiniEncoderC:return new r.INP(e);case o.E2.MiniJoyC:return new r.DQG(e);case o.E2.Vibrator:return new r.VjQ(e);case o.E2.SPK2:return new r.aEg(e);case o.E2.DAC2:return new r.RwY(e)}},A=e=>{switch(e.type){case o.rf.IO:return new r.n60(e);case o.rf.TIMERPOWER:return new r.ftu(e);case o.rf.CATM:return new r.joN(e)}},x=e=>{switch(e.type){case"button":return new n.r0({name:"button0"===e.name?"ButtonA":"button1"===e.name?"ButtonB":"ButtonC",buttonIndex:"button0"===e.name?n.N3.A:"button1"===e.name?n.N3.B:n.N3.C,text:e.text,visibility:e.visibility});case"title":return new n.r3({name:e.name,layer:e.layer,text:e.text,backgroundColor:e.backgroundColor,color:e.color});case"label":return new n._n({name:e.name,layer:e.layer,text:e.text,x:e.x,y:e.y,color:e.color,rotation:e.rotation});case"rect":return new n.b8({name:e.name,layer:e.layer,x:e.x,y:e.y,width:e.width,height:e.height,borderColor:e.borderColor,backgroundColor:e.backgroundColor});case"circle":return new n.HF({name:e.name,layer:e.layer,x:e.x,y:e.y,radius:e.radius,borderColor:e.borderColor,backgroundColor:e.backgroundColor});case"image":return new n.cu({name:e.name,layer:e.layer,x:e.x,y:e.y,imagePath:"default.jpg"})}},T=e=>{switch(e.name){case"ENV":return new r.vOD({name:e.varname,port:e.defaultPort});case"Angle":return new r.Tem({name:e.varname,port:e.defaultPort});case"PIR":return new r.Dt2({name:e.varname,port:e.defaultPort});case"Neopixel":return new r.rrx({name:e.varname,port:e.defaultPort,count:e.count});case"Joystick":return new r.Ss0({name:e.varname,port:e.defaultPort});case"Light":return new r.xN$({name:e.varname,port:e.defaultPort});case"Earth":return new r.H6I({name:e.varname,port:e.defaultPort});case"Makey":return new r.Qhy({name:e.varname,port:e.defaultPort});case"Servo":return new r.Rbq({name:e.varname,port:e.defaultPort});case"Weigh":return new r.NpM({name:e.varname,port:e.defaultPort});case"Heart":return new r.Hlb({name:e.varname,port:e.defaultPort})}},C=e=>{switch(e.name){case"hat_env":return new r.ZsX({name:e.varname,port:e.defaultPort});case"hat_pir":return new r.HSK({name:e.varname,port:e.defaultPort});case"hat_spk":return new r.iNJ({name:e.varname,port:e.defaultPort});case"hat_ncir":return new r.L1x({name:e.varname,port:e.defaultPort});case"hat_adc":return new r.NM9({name:e.varname,port:e.defaultPort});case"hat_dac":return new r.fDc({name:e.varname,port:e.defaultPort})}},Z=e=>{let t=0,i=0;switch(e){case o.__.STICK_C:t=80,i=160;break;case o.__.STICK_C_PLUS:case o.__.STICK_C_PLUS2:t=135,i=240;break;case o.__.COREINK:t=200,i=200;break;case o.__.PAPER:t=540,i=960;break;case o.__.M5STATION:t=240,i=135;break;default:t=320,i=240}return{W:t,H:i}},k=e=>{switch(e){case o.__.CORETWO:case o.__.TOUGH:return"#000";case o.__.COREINK:case o.__.PAPER:return o.lG.BLACK;default:return"#FFFFFF"}},S=e=>{let t={img:"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEAYABgAAD/4QA6RXhpZgAATU0AKgAAAAgAA1EQAAEAAAABAQAAAFERAAQAAAABAAAAAFESAAQAAAABAAAAAAAAAAD/2wBDAAIBAQIBAQICAgICAgICAwUDAwMDAwYEBAMFBwYHBwcGBwcICQsJCAgKCAcHCg0KCgsMDAwMBwkODw0MDgsMDAz/2wBDAQICAgMDAwYDAwYMCAcIDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAz/wAARCABkAGQDASIAAhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQAAAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSExBhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwD6F/bw/b48UfH74natpej6tfaT4K0y4ktLO0tJ2iW/VGKmeYqRvL4yFPyqMDGcsfmpmLNk8k8knvQTk19l/wDBNr/gnHpX7R3hubxt42e8Ph2O5a2sNPt5DCdRZP8AWO8g+ZYwflAUhiwbkAfN/e2JxGTcH5MpyXJShZWivelL9ZPVtt923Y/zXwmFz7jrPXThL2lao3JuTtGEfx5Yx0SSXZJNs+NKK/Yn/h1f8Bv+hE/8rWo//H6P+HV/wG/6ET/ytaj/APH6+C/4j5w//wA+a3/gMP8A5YfpX/EtXE//AD/of+BVP/lR+O1FfsT/AMOr/gN/0In/AJWtR/8Aj9H/AA6v+A3/AEIn/la1H/4/R/xHzh//AJ81v/AYf/LA/wCJauJ/+f8AQ/8AAqn/AMqPx2or9if+HV/wG/6ET/ytaj/8fo/4dX/Ab/oRP/K1qP8A8fo/4j5w/wD8+a3/AIDD/wCWB/xLVxP/AM/6H/gVT/5UfjtRX7E/8Or/AIDf9CJ/5WtR/wDj9H/Dq/4Df9CJ/wCVrUf/AI/R/wAR84f/AOfNb/wGH/ywP+JauJ/+f9D/AMCqf/Kj8dq1PB3jbWPh7r8Oq6Dql/o+pW5zHc2c7Qyp/wACUg4PcdDX6qfEj/gkN8HvFnhq5ttD0vUPCupNGRb3lvqFxciN+xaOZ3DLnqBtJHQg81+XPxb+GGqfBb4l614V1pEXUtDumtpihykmOVdSedrKQwyAcMOBX2vCnHuT8TqpRwifNFe9CaSbi9L2Tkmuj19Vqj8/408Nc94QlSr41xcZP3Z05NpSWtrtRknbVaa2dnoz9KP2Of8Agp7ofjD4KWrfETUo7XxRp872c8yRhRfoqqyz7RgKSGwQONyEjAOAV+W6Ssg+VmX6Givj8w8DclxOJniITlBSbfLG1lfotNF2XQ+6yv6RGf4TCU8NUpwqOCS5pX5pW6t31fd9d2Nr9iP+CVy4/YO8C8df7QJ9/wDiYXNfjvX7E/8ABK//AJMN8Cf9xD/043VZePn/ACT9H/r9H/0iobfRq/5Kev8A9eJf+nKR7p4o8Uad4K8O3mrateW+nabp8TT3NzO4SOFF5JJNfGXxD/4Ld+EdA8Ry2vh3wjq/iGxhl2fbZrtbFZlH8aIUdsHsG2nHUDpR/wAFuviJqGgfB7wl4ctZLiKz8RahNPeFDhZVt1QrG/qC0ocD1jB7CvzPr5Dwt8LcszTLFmuapz521GKbikouzbcWm22n1tbvfT7jxi8Ys3ybN3kuStU3TUXObipNuSUkkpJpJJq7s22+ltf2e/ZO/b48D/tbrNZ6TJcaT4gtkMkuk320TMgxmSNgSsijPOPmHcAYJ9ur8H/gX8RdQ+Evxi8NeItLkuI7zSdQhmUQn5pV3APH7h1LKR3DEV+8FfE+KnA2H4dxtJ4Jv2VZNpN3cXG11fqtVa+vR3tc/QvBnxExXFOX1VmEV7ai4qTSspKSfK7dH7rTS02atewUUUV+Vn7IFFFFABX46/8ABU4bf28fHeOP+PA/+U+2r9iq/Hb/AIKof8n5eO/+4f8A+m61r9v8A/8AkoK3/XmX/pdM/nr6Sn/JMUP+v8f/AE3VPnyiiiv65P4gCv2J/wCCV/8AyYb4E/7iH/pxuq/Hav1z/wCCdvjOz+HH/BNPw94i1Dzjp+g2Gr6jciJd0nlQ3t3I+0ZGW2qcDI5r8T8eKcqmQ0KcFduvFJd24VD+gvo31YUuJMTUqO0Y4ebb7JVKV2dT+33+yX/w1x8Em0qymjtfEOjzfbtKklbbE8m0q0TnBwrqcZ7MFPQEH8kfiJ8BfGnwn8QNpfiLwvrWl3iymFVltH2Tt/0zcArID2KEg9q/ar4O/tD+Cvj7oy3vhHxFpusLsDyQxS7bm3z/AM9Imw6f8CArtK/HeD/ErNOFKcssxNDngm3ySvCUW99bPR72a31Vrs/deOPCXJ+M6sM3wuJ5JtJc8LTjNLZtJq7S0TUttGnZH5X/APBPr/gnN4q+JPxM0nxV4v0e+0Dwnotyl4EvYzBcanJGQyRpGw3eWWwWcgAgEKSTlf1Qorkfih8e/BfwWsHuPFXifRdDVE3iO5uVWaQf7EQy7n2VSa+b4r4qzPivMI1Zw1StCEE3Zfi231fpokfW8F8GZTwXlkqNOpo3zTqTaV3bS+ySXRdNdW22ddRXwD+0F/wWxhs7iSx+Gnh9LsKSv9q60rLG3vHAjBsdwXYH1Svlb4kf8FBPjF8ULlmvvHetWMLZAg0qX+z41Hp+52lh/vEmvqsj8E+IMdBVcTy0Iv8Anbcv/AUnb0bTPjOIfpA8M5dN0cLzYiS6wSUf/ApNX9YqS8z9p6K/Bl/jR4xkufObxZ4mabOfMOpz7s/Xdmu9+Hf/AAUA+MXwylj/ALP8ea5dQxkfudSkGoRkf3cTBiB/ukEdsV9Divo/5jGF8PioSl2cZRX3rm/I+Xwf0msrlUtisFUjHvGUZP7ny/mftTX47f8ABVD/AJPy8d/9w/8A9N1rX2z/AME8/wDgozfftceJb7wtr2g22n69punPqRvLFz9luI1kijI8tiWR8yqfvMCM9MAH4m/4Kof8n5eO/wDuH/8Aputa38IchxuTcWYjA4+PLONGT3TTTnTs010f39zn8cOJcBn3BWGzHLZ81OWIitU001Tq3TT6r7uzZ8+UUUV/UB/HwV+pH7Mv/KGLUv8AsU/En/o2/r8t6/Uj9mX/AJQxal/2KfiT/wBG39fkfjF/yL8F/wBhNP8A9JmfuHgT/wAjTMP+wSr/AOlUz8vLK+m026jnt5pbeeI7kkjYqyH1BHIr0nwz+2j8WfCFotvY/ETxYkKjCpLqEk6oPQCQtgewrzGiv1DF5fhcUuXFUozX96Kf5pn47gs0xmDfNg6sqb/uycfyaPTvEX7aHxa8VQNFe/EXxe0TcMkWpSQKw9CIyoI9jXmt3eTahdST3Esk00rFnkkYszk9SSeSajoowuX4XCq2Gpxgv7sUvySDG5pjMY+bF1ZVGv5pOX5thRRRXYcIUUUUAfYn/BEj/k6vxB/2Kdz/AOllnXn3/BVD/k/Lx3/3D/8A03Wteg/8ESP+Tq/EH/Yp3P8A6WWdeff8FUP+T8vHf/cP/wDTda1+R4H/AJOPiP8AsGX/AKXTP3DMf+TU4X/sLf8A6RUPnyiiiv1w/Dwr9SP2Zf8AlDFqX/Yp+JP/AEbf1+W9fqR+zL/yhi1L/sU/En/o2/r8j8Yv+Rfgv+wmn/6TM/cPAn/kaZh/2CVf/SqZ+W9FFFfrh+HhRRRQAUUUUAFFFFAH2J/wRI/5Or8Qf9inc/8ApZZ159/wVQ/5Py8d/wDcP/8ATda16D/wRI/5Or8Qf9inc/8ApZZ159/wVQ/5Py8d/wDcP/8ATda1+R4H/k4+I/7Bl/6XTP3DMf8Ak1OF/wCwt/8ApFQ+fKKKK/XD8PCv1Y/4JZ+IvD/xl/YTHge4kjuG0wX+k6vaB9snk3Us0gbHUKyTFQ3TKMOxr8vfHXg+9+HvjXVtB1GJob7R7yWznRhgq8blT/Krnww+Lnib4LeJl1jwrrV/oepKhjM1rJt8xD1V1+665AOGBGQD1Ar4fjrhd8SZTHD4aryTjKNSEul0na9tbNSeq20eux+ieHXGC4UzqWKxVFzhKMqVSPXlbTdr6XTitHurq6vc+tvGX/BELx5b+JLpfD3irwjd6RvJtpNRluLe5254DqkMi5AxyG59B0rL/wCHJHxW/wChg+Hv/gdef/Iteep/wVN+PCIFHjw4UY50bTyfz8il/wCHqHx5/wCh7/8AKLp3/wAYr5inl3iRGKi8Vhnbq1K79bUz66pmnhTObksHi1fonCy8leq3b5noP/Dkj4rf9DB8Pf8AwOvP/kWj/hyR8Vv+hg+Hv/gdef8AyLXn3/D1D48/9D3/AOUXTv8A4xR/w9Q+PP8A0Pf/AJRdO/8AjFX9R8R/+gjDfdP/AOVk/wBpeFP/AEC4v74f/LD0H/hyR8Vv+hg+Hv8A4HXn/wAi0f8ADkj4rf8AQwfD3/wOvP8A5Frz7/h6h8ef+h7/APKLp3/xij/h6h8ef+h7/wDKLp3/AMYo+o+I/wD0EYb7p/8AysP7S8Kf+gXF/fD/AOWHoP8Aw5I+K3/QwfD3/wADrz/5Fo/4ckfFb/oYPh7/AOB15/8AIteff8PUPjz/AND3/wCUXTv/AIxR/wAPUPjz/wBD3/5RdO/+MUfUfEf/AKCMN90//lYf2l4U/wDQLi/vh/8ALD7p/wCCen/BPWT9j6fVtc13VrPVvE+rW4sv9CD/AGWzg3B2VWcKzlmVCSVXGwADqa/Pf/goH8R9N+K/7YvjjW9ImS60+W7itYpkO5Jvs9vFbs6nupaIkEcEEGnfET/goV8ZPip4XuNF1rxxfS6bdjbNFa2ttZNKp4Ks8EaMVPQqTgjqDXjNdnBvBubYPNa+e57XjUr1I8iUL8qjdPqo/wAqSSXdtts8/jzjzJcdkuG4d4cw86WGpS52525nK0l0lL+ZttvXRJJIKK9i+AP7EfjX9ovwVNr3h/T5JrGG8ezL4wC6ojHHr98UV9ZiuMMlw1aWHxGJhGcXZpyV0/M+LwXAuf4uhHE4bCTlCSumouzXdH3D/wAFUv2RPBfiL4Z618Svst1Y+KtPiQSTWsoSO/A+VfOQqQxUAAMu1sAAkgAD8vKKK+L8GcTWrcOQ9rJy5ZNK7bslslfZLotkffePmFoUOKqnsIKPNGMnZJXb3btu31b1YUUUV+sH4qFFFFABRRRQAUUUUAFe2fsMfs66F+0j8X7XQ9fn1OGxdst9ilSN2A5xlkbr7c0UV5OfVJ08vrTptpqLs1o18z3OGqMKuaUKdWKlFyV01dPXqmfsN8PPh5ovwo8F6f4e8P6fBpmj6XF5VvbxDhB1JJPLMSSSxySSSSSaKKK/zxrVZ1KkqlRtybbberbe7b6tn+oWHowpUo0qUVGMUkklZJJaJJaJLoj/2Q==",errorImg:"data:image/jpg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/4QBoRXhpZgAASUkqAAgAAAADABIBAwABAAAAAQAAADEBAgAQ%0AAAAAMgAAAGmHBAABAAAAQgAAAAAAAABTaG90d2VsbCAwLjI4LjQAAgACoAkAAQAAADAAAAADoAkA%0AAQAAADAAAAAAAAAA/+EJ8Gh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8APD94cGFja2V0IGJl%0AZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxu%0Aczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNC40LjAtRXhpdjIiPiA8cmRm%0AOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1u%0AcyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczpleGlmPSJodHRwOi8vbnMu%0AYWRvYmUuY29tL2V4aWYvMS4wLyIgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZm%0ALzEuMC8iIGV4aWY6UGl4ZWxYRGltZW5zaW9uPSI0OCIgZXhpZjpQaXhlbFlEaW1lbnNpb249IjQ4%0AIiB0aWZmOkltYWdlV2lkdGg9IjQ4IiB0aWZmOkltYWdlSGVpZ2h0PSI0OCIgdGlmZjpPcmllbnRh%0AdGlvbj0iMSIvPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiAgICAgICAgICAgICAgICAgICAgICAg%0AICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg%0AICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg%0AICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg%0AICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg%0AICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg%0AICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg%0AICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg%0AICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg%0AICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg%0AICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg%0AICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg%0AICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg%0AICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg%0AICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg%0AICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg%0AICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg%0AICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg%0AICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg%0AICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg%0AICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg%0AICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg%0AICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg%0AICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg%0AICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg%0AICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg%0AICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg%0AICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg%0AICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg%0AICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg%0AICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg%0AICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg%0AICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg%0AICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg%0AICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg%0AICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg%0AICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDw/eHBhY2tldCBlbmQ9InciPz7/2wBDAAEB%0AAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEB%0AAQEBAQH/2wBDAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEB%0AAQEBAQEBAQEBAQEBAQEBAQH/wAARCAAwADADASIAAhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAA%0AAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQAAAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEI%0AI0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlq%0Ac3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW%0A19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL%0A/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSExBhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLR%0AChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOE%0AhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn%0A6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwD+CjwV4K8TfEPxNpvg7wdpn9seI9Y+2f2dp32zT9P+%0A0f2fp93ql3/peqXdlYQ+TYWV1P8Av7qLzPK8qLfM8cb/ALYfAv8AY7+G/wAJzpniTV7M+LPHi6Zo%0Ab3V3rkllrGieHvEdj5F7qF/4LtpNE0uS0zq8McumatqUNxrtla2lsLO6097jUkvD9jv4Fn4T/Dez%0A1bxJpmmL488WGTXLu7fQ/sPiLw9omsWWiSW3gu+1C9gh1g/Y5NLg1LVtMljs7Wy125ubMW1w+npq%0AV59f1/E/i54uZhnuYYzh7h7FzweQYOdbB4rE4OtVhWzqtCq41pyrRdPly+Ps406NCnBOs1XqVa9e%0AhXpUqX+7n0NPoacN8AcN5N4k+JOT0c78RM7o4TOMqyrOMHhK2C4HwVfCRngqVLBTjiPacSTWIrYj%0AHY7EVmsGpYDC4XAZfmGX4rF4tAoHQD+v59aCoPUD+v59aMjOMjPpkZ/KgkDqQPqffH8yB9a/n6yt%0Aayt26H+jh8q/GP8AY/8AhL8Wjf6smmnwX4xu/tVw3ifwxDDbi+1Cf+0bj7T4h0MhNM1w3Gp6h/aG%0ArXipp/iTUzbQWzeI7eAYH4i+Pfh54z+GHiCTwt470C68Pa5Ha2t8tpcSWt1DcWV4rNb3ljqGn3F3%0Apuo2rOk1s9xYXdzDDe2t5YTPHe2V3bw/0y18l/tefA6y+K3wy1vVdG0S2uPiH4WtYNZ0G/tNOhk1%0A3VrHRvt8954T+1W2lahrWoWt9Zajq0+jaBZSW8d14qOkyPLHG1z5v734SeLWZ8P5nhMhz7G1sdw/%0Aj62GwdGrja1SrVySrOp7KlVoV6tR8mXv2q+t4eoqkacadKphnh1CvDEf53/TJ+hzwt4i8K5v4heH%0AmR4PIPEbh7B5nnGOwmSYLDYTCcdYSjh/reKwuYYHDYePt+I4fVZPKMxozoVcVUxOKwuZrMHVy+pl%0A31mowAPQUNkg464OPrihTkA+ooPAJ9j16fjX4Ktlbbof6IH4LX198af2OfjTeanqd5oGt+L9c0C4%0AvtQ1C+uLzxNo/jDR/E149xd3l5d3D6R4kW7XxJpEk9xcTyaPqs2q6O8kj3ui3rNqip4p+OP7YPxh%0A8OwWmq2uk+INJtZ9R8OnTG1/R/CngGLR4ItQn1uG405de1bR7vUdWtNPjOvXEl1fXGu3WhaYL63s%0A7fRrSwPFKfGH9sH446raQeHbXSfEGk2raYfDuozwaPF4B8KaPr66dcQ63PqEVpq2o3ej6tr0lxrx%0Aj0+6124vrq+GmaFb2dvaaNYGg6D8af2RPjT4Tv7/AMJ3eoalqF3e6Tpel6Te3l3o/wAS9Hu7z+xr%0ArStKutG8ye5u7meTTtS0rStS06TVdJ1WTwvq2reF2drKyuf78Swf1SFevDg//iL/APqdUVKiqmC5%0A+f6lVnCEacqvs/ZezvCpUhL2HsPaxjV/su7P+dGUs4/tmvgMBX8a/wDiS7/iNeFljcbPC557H2P9%0AuYOjia9fE0MH9Z+ufWeSrhcLVh/aH1/6nUng/wDWuyP3nQEKAeoHNKwyCOuRVTT7ma8sLK8uLG60%0Au4urS3uJ9MvnspL3TppokklsLyTTbzUNOe6s3Zre4fT7++smmjdrS8uYDHO9tjgE+gNfwI4uLcXZ%0AuLcXaUZptOztKLlGS7Si3GS1TaaZ/wBFdOcatOnUgpqNSEZxVSnUo1FGcVJKdGrGFWlNJpSp1YQq%0AQleM4xkml8q/sf8Axjb4tfCXTk1a/wDtfjHwWYfDHic3Fz5+oXq20IOh+Ibk3Go6jqdwdc0xEW81%0AbUDbHU/Emn+IzawCG3FfVdfzNfDzx74g+GHjPQPHfhaS1j1zw9dSXFot9areWVxDdWtxp+oWN5bs%0AyO1rqOm3d3YXD201reww3LzWF5ZXsdvdw/tj8Dv2vPhl8VrLRNG1XW7Xwv8AEO4ttOtL/QdZg/sa%0Ax1fXZIdKtrr/AIRO8nv9Qsb611DWtQkstB0afVj4quo7eV5NJaOP7TL+9eLXhJmeQZnjc+yHCVcf%0Aw/jqtbGVaGDw1SVXJatWpUqVqFWlS9rfL4XU6GKSpxpRqPDVKUFQjXxH+eX0Ofpk8K+IvC2R+Hni%0AFm2D4e8RsgweDyTCY7OMzw9HCcdYTCYbD4bA4/C4rF/VeTiSvy1KOY5Q3iamKq4dZnhcVVeYVMvy%0A76yCqDkDkfWq1zp9heTWNxd2VrdXGl3T32mT3FvFNNp17JZXmmyXljJIjPaXT6dqOoae9xbtHM1j%0AfXlozm3up43tBgehBoLKOpA/GvwWLcXeLcW1JXi7NqcXGSuukoycZLaUW07ptH+hs6cKqUakIVIq%0AdOoozippVKNSNWjNKSaU6VWEKlOSXNCpCM4tSimlr5V/a/8AjH/wqX4SammlX5tPGXjQy+GPC5tr%0Anyb+yFzCTrniC3NvqWnanbf2HpTuLLVtO+1HTPEmoeGzdW5guWIPjH+1/wDCT4S/b9JTUz4z8ZWh%0AubY+F/DEsNyLK/h/tK3Nv4g1wl9K0P7Nqenf2dq1kH1DxJphure6Phu5gJI/E74l/Evxd8WvF2oe%0AM/GeofbdVvcQ29vCrw6Zo2mQvI9noui2byTfYtKsvOlMURlmuLi4mudR1G5vdVvb6+uf3fwm8Js2%0Az/NsDnue4KtgOHcBWoY2EMbQnTqZ1Upz9pRw+Ho1OSTwTlCM8TipxdKrSaoUFVlVqVMP/nx9MX6Y%0AvCHh3whn3h/4f59g+IPEriDB4/I69fI8fRxGH4Fw2Io/V8bmOY43D+2pRz2NKtUo5XldGosVhcUp%0AY/HywkMJh8PmH//Z"};switch(e){case o.__.CORETWO:case o.__.TOUGH:case o.__.PAPER:t.img=o.p8,t.errorImg=o.qx;break;case o.__.STICK_C:case o.__.STICK_C_PLUS:case o.__.STICK_C_PLUS2:t.img="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEAYABgAAD/4QBGRXhpZgAATU0AKgAAAAgABAESAAMAAAABAAEAAFEQAAEAAAABAQAAAFERAAQAAAABAAAAAFESAAQAAAABAAAAAAAAAAD/2wBDAAIBAQIBAQICAgICAgICAwUDAwMDAwYEBAMFBwYHBwcGBwcICQsJCAgKCAcHCg0KCgsMDAwMBwkODw0MDgsMDAz/2wBDAQICAgMDAwYDAwYMCAcIDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAz/wAARCAAyADIDASIAAhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQAAAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSExBhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwD0Tw9oHxC/b5/aEktobibWvEmtyS3TyXlwwtdOgDAsxOD5UCBlUKqnqqqpJAPtX/Dk34vf9Bz4b/8Ag0vf/kOj/giaf+Mutc/7E+8/9LbCvUP+CkX/AAUg8afB740z+A/Adza6I2iQwSajqMlpHczzTSxrKsUayq0axiN0JJUsWYgFQvzf1xnue8RQ4jXDXDSpwhCmpe8tEu73sldJJI/iLhvhvhaXCr4s4sdWpOpVlH3ZO7fZbXbtKTcpLRff5f8A8OTfi9/0HPhv/wCDS9/+Q6P+HJvxe/6Dnw3/APBpe/8AyHX1l/wTP/bM1b9rX4e65B4kgtV8SeFZ4Y7m5tY/LhvYZlcxS7c4WTMUgYL8vAIA3bR9OV+a514qcY5VjamX4yUFOm7O0E1smmvJppr1P1nh/wAG+BM5y+lmeBhUdOorq85J6OzTXdNNPzR+WP8Aw5N+L3/Qc+G//g0vf/kOvJf2mP2KviB+xpPo994gbT3tdQl22mq6NdSyQxTqCwjLMkbxyYBYfKAQCVJKnH7UV8af8Fv/APk1vwt/2OFv/wCkN/XqcGeLGfZlnWHwGNcJU6kuVrlS3T6r+uh4/H3gpw3leQYnMcApxq0o80XztrRrRp9/vPlvwz/wVt+Lnhvw5p+nf2lYXv2C2jtvtF3brNcT7FC75HYEs7YyWJJJJJor5ior9xl4dcNyk5PBwu/I/nGPibxVGKjHH1bL+8z62/4IxanBov7U/iS8upY4La08FX000jnCxot3YsST6AAmvq79qj/gnn4L/bn1Kx8caD4qj0vUry2jiOqaekepWOqQrkKxVXUM4Hyh1cfKACDgY+M/+CWP/JW/iN/2TfV//R1nXzr4S8X6x4Kfz9F1bVNHmkALy2F3Jau/Hdo2Br4TNuFcfmXFWKx2WYt4etRjSSfLzJqSldNX/urdNeR+lZLxll2VcHYPLs3wSxVCtOq2uZxcXCUbNNL+89mn52dj9mP2Zf2ZPB37CvwpvrW31ILHcSC71fWdVmjg85wNoyeFjjUZ2rnjcSSSST5r8YP+Cwnwq+G9/PZ6KNY8a3kJ2+ZpkSx2QYHkedIV3D0aNXU+vp+Wfibxdq3jW5SbWtW1TWJozlJNQu5Ll1+hckj8Kz6xwPgnQr4meNz/ABUq9STu7LlTfm7tvyty222OjMPpBYnDYSGX8N4OGGpQVld87S8lZJed+Zvc/SLw7/wXM8L3OobdY8A+IbK1P/LSzvYLuT/vh/KH/j1Z3/BU745eG/2if2GvB3ifwreyX2k3HjOKLc8DwSRSJY34eNlcAgqeO4PUEgg1+d1fS3jH/lEf4P8A+yly/wDpFeV0Zh4c5NkuZ5fj8tjKEvbRjbmbVnGT63d9O/fQ5sr8VM/z/Ksyy3NZxnD2E5J8qjJNSire7ZW16q/mfNNFFFftx/Ph9Mf8Esv+StfEb/sm+r/+jrOvmWD/AFCf7or2L9jf9owfshfHebWdV0NtY065srjQtZ08hRMIZJIzIFDfKXV4VyrYDAMpK53DvLvxt+yHc3ckkXgr41WsbuWSCK6tDHED/Cu67LYHQZJPvX53PF4nLc7xWK+q1KtOtGlyypqMleKkmneStumujR+o08FhM24fwmEWLpUatCdXmjVcou03FxatFprRp7NM+Y6K+lv+Ev8A2R/+hP8Ajh/4FWX/AMlUf8Jf+yP/ANCf8cP/AAKsv/kqvS/1wqf9C/Ef+AR/+TPL/wBR6X/Qzwv/AIMl/wDIHzTX0t4y/wCUR/g//spcv/pFeUf8Jf8Asj/9Cf8AHD/wKsv/AJKrP/ar/ap8C+P/AIG+E/hl8MvCur+H/CPh2/bV5pdYdGvbm7Kypk7JJAQRPIxYtnJVQqKgB8nMMwxWbYrB0qWDq01TqxnKU4xjFRjGSeqk2221ZWPayvK8HkuDx1etjqNR1KMqcY05SlJylKFtHFJJJNttnzzRXR6f8IfFWrWEF1a6Bq9xbXUaywypbllkRhlWB7ggg0V9vLNsEnZ1Y3/xI/OVlOMauqUv/AX/AJHvH/BW3w3p3hv9sDUhp2n2VgLyyhu7gW0CxefM4LPK+0Dc7MSSx5JOSa+ZKKK8jgv/AJEeE/69w/I93j3/AJKLG/8AX2f/AKUwooor6g+TA9K6j4L6db6v8WPD9rdW8N1bT3scckUqB45FJGQVPBB9DRRXLjv93n6P8jrwP+8Q9Ufupp+n2+h2EFlZQQ2dnZxrBBBAgjigjUbVRVGAqgAAAcACiiiv848T/Gl6v8z/AFTwf8CHovyP/9k=";break;case o.__.COREINK:t.img="data:image/jpg;base64,/9j/4AAQSkZJRgABAQEAYABgAAD/2wBDAAoHBwgHBgoICAgLCgoLDhgQDg0NDh0VFhEYIx8lJCIfIiEmKzcvJik0KSEiMEExNDk7Pj4+JS5ESUM8SDc9Pjv/2wBDAQoLCw4NDhwQEBw7KCIoOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozv/wAARCABkAGQDASIAAhEBAxEB/8QAHAABAQEBAQEAAwAAAAAAAAAAAAgFBwYDAQIE/8QAPBAAAQMDAQMIBwYGAwAAAAAAAQACAwQFEQYHEiETFzFRVaSz0jdBYXWBg9MUNjiTobIiMkJScZFyc8H/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/8QAFBEBAAAAAAAAAAAAAAAAAAAAAP/aAAwDAQACEQMRAD8A8jtC2j3LVNzqKSkqX09njcY4oYnECdoP87/7s4yAeA4evJPh0XTdlmzKk1TSyXm8vk+wsl5OKnjcWmZwwXFx9TeOOHEnPEY4hzJFTPNFoTsLvc/nTmi0J2F3ufzoJmRUzzRaE7C73P505otCdhd7n86CZkVM80WhOwu9z+dOaLQnYXe5/OgmZFTPNFoTsLvc/nTmi0J2F3ufzoJmX3oq6rttWyroamWmqI87ksTy1zcjB4j2KhLrsV0hW0jo6Gnnts+6dyWKZ8gDscN5rycjPqGP8hcAu9rqbJd6u11gby9JK6N5bndOD0jIBwekewoO36O2x2yfT8Y1LViK4xvLHuazhKOkPwBgdOMezPrwi4IiAqZ2RejC0fO8aRTMqZ2RejC0fO8aRB6uurqW2UU1bWzsgp4G70kjzgNC5bdNvlupq6WG22WWugYcNnfPyPKe0N3SQOrPH2Bftt8ulTTWW2W2KRzIa2V75g043wzdwD1jLs46wOpcLQU9o3aTZNZYp4HOpLgASaSY8SB62u6HD9eB4Y4r1ykCy3Wpsd5pLnRvLJqaUPbg4z1g+wjII6iVX6AiIgIiICmba76T7v8AJ8GNUypm2u+k+7/J8GNB4xERAVM7IvRhaPneNIpmVI7Ma2K27IKGun3uRpoqmaTdGTutlkJx8Ag/s2k6MOstOchT7ouFK7lKVznYBP8AU0+wj9QPVlTjd7HdLDWOo7pQzUkwJAEjcB3HGWnocPaMhVPY9UWPUkPKWi5QVRxl0bXYkaM44sPEfELWQTzs62YXS8XeluV3oZKa0xOEh5Ybjp8DLQ1p47pyMngCM4OVQyLKvGp7HYGOddbrTUha3e5N8g5QjrDB/EfgEGqi4zqTbzuyGDTVva5oyDU1gPH/AIsB+OSfgufXHaPrG5yB8+oKyPAwG0z+QGP8Mxn4oKnRR2bjXOl5U1tQZOnfMrs/7yty3bRNX2pwNNf6xwA3Q2d/LNA/w/ICCqFM2130n3f5PgxrqmzTadU60rp7ZcKCGCqhhM4lgJDHNDmtxukkg5d1rle130n3f5PgxoPGIiICoDSX4e5vd1d+6VT+qA0l+Hub3dXfulQT+CWnIJBHrC26fW2qaWNscOork1jQA1v2p5AHUMlYiINufWuqqhrmS6iuZa4YLRVPAI6sArEJLjkkkn1lEQEREBERB03YL99q33a/xI1i7XfSfd/k+DGtrYL99q33a/xI1i7XfSfd/k+DGg8YiIgKgNJfh7m92137pVP6oDSX4e5vdtd+6VBP6IiAiIgIiICIiDpuwX77Vvu1/iRrF2u+k+7/ACfBjW1sF++1b7tf4kaxdrvpPu/yfBjQeMREQFQmySooL/swdY5HAmDlqapjDhvbshc4HHqBDyAetp6lwGspJ7fWz0VUwxz08jo5GH+lzTgj/YX1tl3uNlq/tVsrZ6Ofd3S+F5aS3IODjpGQOB6kHSKvYHfm1DxRXW3Sw5/gdMXscR7QGkfqvidguqMcLhac/wDbL9NYvO7rvt3ukHkTnd13273SDyINrmF1T2haPzZfppzC6p7QtH5sv01i87uu+3e6QeROd3XfbvdIPIg2uYXVPaFo/Nl+mnMLqntC0fmy/TWLzu677d7pB5E53dd9u90g8iDa5hdU9oWj82X6acwuqe0LR+bL9NYvO7rvt3ukHkTnd13273SDyIOr7NNmcuip6m4V9ZFUVs8fIhsGdyNmQTxOCSSG+oYx7VxvaPdaa86/u1dRvbJA6VsbHtcHNfuMazeBHSCW5HsK/N02k6wvNC+hrr3K6nk4PZHGyLfBBBBLGgkEE5HQV5hARbtk0XqDUVE6stdvfUQNkMZeP7gASP1CIOv7Y9G2eewVuqBFJFcoBGHPjdhswLmsG+D04HQRg9ecLgaIgIiICIiAiIgIiIC9DoWwUmptV0tqrXzMglyXGFwDuA6yCiIKhttto7RboLfb6dlPS07d2ONnQB/6SeJJ4kkkoiIP/9k="}return t},E=[15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],M=(e,t,i)=>{if(sessionStorage.getItem("_type")!==o.__.COREINK&&sessionStorage.getItem("_type")!==o.__.PAPER)return void i(e);let n=document.createElement("img");n.onload=()=>{let r=document.createElement("canvas");r.setAttribute("id","canvasGray"),r.setAttribute("display","none");let s=r.getContext("2d");r.setAttribute("width",`${n.width}`),r.setAttribute("height",`${n.height}`),s.drawImage(n,0,0);let a=s.getImageData(0,0,r.width,r.height);if(sessionStorage.getItem("_type")===o.__.COREINK){let e=!!t&&t.imageInvert,i=t?t.imageThreshold:128;for(let t=0;t<a.data.length;t+=4){e=e?1:0;let n=0;n=(76*(252&a.data[t])+150*(252&a.data[t+1])+30*(252&a.data[t+2])>>8>i?1:0)^e?218:39,a.data[t]=n,a.data[t+1]=n,a.data[t+2]=n}}else if(sessionStorage.getItem("_type")===o.__.PAPER)for(let e=0;e<a.data.length;e+=4){let t=a.data[e+3],i=179/15*(15-E[38*a.data[e]+75*a.data[e+1]+15*a.data[e+2]>>7])+39;a.data[e]=i,a.data[e+1]=i,a.data[e+2]=i,a.data[e+3]=t}s.putImageData(a,0,0);let l=e.replace(/(;base64).*/,"").replace(/data:/,""),c=r.toDataURL(l);i(c)},n.src=`${e}`},O=e=>{let t={};switch(e){case o.__.STICK_C:case o.__.STICK_C_PLUS:case o.__.STICK_C_PLUS2:case o.__.PICO:t={A:"(33,32,V,G)"};break;case o.__.ATOM:case o.__.ATOM_MATRIX:case o.__.ATOM_U:case o.__.ATOM_DISPLAY:t={A:"(32,26,V,G)"};break;case o.__.CORETWO:case o.__.TOUGH:t={A:"(33,32,V,G)",B:"(36,26,V,G)",C:"(13,14,V,G)",D:"(34,35,V,G)",E:"(27,19,V,G)"};break;case o.__.COREINK:t={A:"(33,32,V,G)",B:"(36,26,V,G)",C:"(16,17,V,G)",D:"(35,34,V,G)",E:"(13,25,V,G)"};break;case o.__.PAPER:t={A:"(32,25,V,G)",B:"(33,26,V,G)",C:"(19,18,V,G)"};break;case o.__.M5STATION:t={A1:"(33,32,V,G)",A2:"(33,32,V,G)",B1:"(35,25,V,G)",B2:"(36,26,V,G)",C1:"(13,14,V,G)",C2:"(16,17,V,G)"};break;default:t={A:"(22,21,V,G)",B:"(36,26,V,G)",C:"(16,17,V,G)",D:"(34,35,V,G)",E:"(5,13,V,G)"}}return t},I=e=>{switch(e.type){case o.li.TITLE:return new a(e);case o.li.BUTTON:return new l(e);case o.li.SWITCH:return new c(e);case o.li.SLIDER:return new h(e);case o.li.LABEL:return new d(e);case o.li.INPUT:return new u(e);case o.li.IMAGE:return new p(e);case o.li.STEPPER:return new g(e);case o.li.JOYSTICK:return new f(e);case o.li.CHART:return new m(e);case o.li.GAUGE:return new _(e)}}},13479:function(e,t,i){"use strict";i.d(t,{g:function(){return se}});var n=i(37716),o=i(67302),r=i(99155),s=i(90665),a=i(22e3),l=i(52634),c=i(20138),h=i(81780),u=i(38583),d=i(36853);const p=["selectBox"],g=["labelText"];function f(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"input",12),n.NdJ("colorPickerChange",function(t){return n.CHM(e),n.oxw().value=t})("colorPickerChange",function(t){return n.CHM(e),n.oxw().changePropertyEvent(t)}),n.qZA()}if(2&e){const e=n.oxw();n.Udp("background",e.value),n.Q6J("cpOKButton","Ok")("cpPosition","bottom")("colorPicker",e.value)("cpPositionOffset","-20%")("cpOutputFormat","hex")}}function m(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"input",12),n.NdJ("colorPickerChange",function(t){return n.CHM(e),n.oxw(2).value=t})("colorPickerChange",function(t){return n.CHM(e),n.oxw(2).changePropertyEvent(t)}),n.qZA()}if(2&e){const e=n.oxw(2);n.Udp("background",e.value),n.Q6J("cpOKButton","Ok")("cpPosition","bottom")("colorPicker",e.value)("cpPositionOffset","-20%")("cpOutputFormat","hex")}}function _(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"input",12),n.NdJ("colorPickerChange",function(t){return n.CHM(e),n.oxw(2).value=t})("colorPickerChange",function(t){return n.CHM(e),n.oxw(2).changePropertyEvent(t)}),n.qZA()}if(2&e){const e=n.oxw(2);n.Udp("background",e.value),n.Q6J("cpOKButton","Ok")("cpPosition","bottom")("colorPicker",e.value)("cpPositionOffset","-20%")("cpOutputFormat","hex")}}function v(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"input",12),n.NdJ("colorPickerChange",function(t){return n.CHM(e),n.oxw(2).value=t})("colorPickerChange",function(t){return n.CHM(e),n.oxw(2).changePropertyEvent(t)}),n.qZA()}if(2&e){const e=n.oxw(2);n.Udp("background",e.value),n.Q6J("cpOKButton","Ok")("cpPosition","bottom")("colorPicker",e.value)("cpPositionOffset","-20%")("cpOutputFormat","hex")}}function y(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"input",12),n.NdJ("colorPickerChange",function(t){return n.CHM(e),n.oxw(2).value=t})("colorPickerChange",function(t){return n.CHM(e),n.oxw(2).changePropertyEvent(t)}),n.qZA()}if(2&e){const e=n.oxw(2);n.Udp("background",e.value),n.Q6J("cpOKButton","Ok")("cpPosition","bottom")("colorPicker",e.value)("cpPositionOffset","-20%")("cpOutputFormat","hex")}}function b(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"input",12),n.NdJ("colorPickerChange",function(t){return n.CHM(e),n.oxw(2).value=t})("colorPickerChange",function(t){return n.CHM(e),n.oxw(2).changePropertyEvent(t)}),n.qZA()}if(2&e){const e=n.oxw(2);n.Udp("background",e.value),n.Q6J("cpOKButton","Ok")("cpPosition","auto")("colorPicker",e.value)("cpPositionOffset","-20%")("cpOutputFormat","hex")}}function w(e,t){1&e&&(n.ynx(0),n.YNc(1,m,1,7,"input",3),n.YNc(2,_,1,7,"input",3),n.YNc(3,v,1,7,"input",3),n.YNc(4,y,1,7,"input",3),n.YNc(5,b,1,7,"input",3),n.BQk()),2&e&&(n.xp6(1),n.Q6J("ngSwitchCase","foregroundColor"),n.xp6(1),n.Q6J("ngSwitchCase","backgroundColor"),n.xp6(1),n.Q6J("ngSwitchCase","borderColor"),n.xp6(1),n.Q6J("ngSwitchCase","color"),n.xp6(1),n.Q6J("ngSwitchCase","errorTextColor"))}function A(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"input",17),n.NdJ("colorPickerChange",function(t){return n.CHM(e),n.oxw(2).value=t})("colorPickerChange",function(t){return n.CHM(e),n.oxw(2).changePropertyEvent(t)})("colorPickerOpen",function(t){return n.CHM(e),n.oxw(2).pickerOpen(t)}),n.qZA()}if(2&e){const e=n.oxw(2);n.Udp("background",e.value),n.Q6J("cpOKButton","Ok")("cpPosition","bottom")("colorPicker",e.value)("cpPresetLabel",e.key)("cpAlphaChannel","disabled")("cpDisableInput",!0)("cpPresetColors",e.colorsOption)}}function x(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"input",18),n.NdJ("colorPickerChange",function(t){return n.CHM(e),n.oxw(2).value=t})("colorPickerChange",function(t){return n.CHM(e),n.oxw(2).changePropertyEvent(t)})("colorPickerOpen",function(t){return n.CHM(e),n.oxw(2).pickerOpen(t)}),n.qZA()}if(2&e){const e=n.oxw(2);n.Udp("background",e.value),n.Q6J("cpOKButton","Ok")("cpPosition","bottom")("colorPicker",e.value)("cpPresetLabel",e.key)("cpAlphaChannel","disabled")("cpDisableInput",!0)("cpPresetColors",e.colorsOption)}}function T(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"input",19),n.NdJ("colorPickerChange",function(t){return n.CHM(e),n.oxw(2).value=t})("colorPickerChange",function(t){return n.CHM(e),n.oxw(2).changePropertyEvent(t)})("colorPickerOpen",function(t){return n.CHM(e),n.oxw(2).pickerOpen(t)}),n.qZA()}if(2&e){const e=n.oxw(2);n.Udp("background",e.value),n.Q6J("cpOKButton","Ok")("cpPosition","bottom")("colorPicker",e.value)("cpPresetLabel",e.key)("cpAlphaChannel","disabled")("cpDisableInput",!0)("cpPresetColors",e.colorsOption)}}function C(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"input",20),n.NdJ("colorPickerChange",function(t){return n.CHM(e),n.oxw(2).value=t})("colorPickerChange",function(t){return n.CHM(e),n.oxw(2).changePropertyEvent(t)})("colorPickerOpen",function(t){return n.CHM(e),n.oxw(2).pickerOpen(t)}),n.qZA()}if(2&e){const e=n.oxw(2);n.Udp("background",e.value),n.Q6J("cpOKButton","Ok")("cpPosition","bottom")("colorPicker",e.value)("cpPresetLabel",e.key)("cpAlphaChannel","disabled")("cpDisableInput",!0)("cpPresetColors",e.colorsOption)}}function Z(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"input",20),n.NdJ("colorPickerChange",function(t){return n.CHM(e),n.oxw(2).value=t})("colorPickerChange",function(t){return n.CHM(e),n.oxw(2).changePropertyEvent(t)})("colorPickerOpen",function(t){return n.CHM(e),n.oxw(2).pickerOpen(t)}),n.qZA()}if(2&e){const e=n.oxw(2);n.Udp("background",e.value),n.Q6J("cpOKButton","Ok")("cpPosition","auto")("colorPicker",e.value)("cpPresetLabel",e.key)("cpAlphaChannel","disabled")("cpDisableInput",!0)("cpPresetColors",e.colorsOption)}}function k(e,t){1&e&&(n.ynx(0),n.YNc(1,A,1,9,"input",13),n.YNc(2,x,1,9,"input",14),n.YNc(3,T,1,9,"input",15),n.YNc(4,C,1,9,"input",16),n.YNc(5,Z,1,9,"input",16),n.BQk()),2&e&&(n.xp6(1),n.Q6J("ngSwitchCase","foregroundColor"),n.xp6(1),n.Q6J("ngSwitchCase","backgroundColor"),n.xp6(1),n.Q6J("ngSwitchCase","borderColor"),n.xp6(1),n.Q6J("ngSwitchCase","color"),n.xp6(1),n.Q6J("ngSwitchCase","errorTextColor"))}function S(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"select",21),n.NdJ("change",function(t){return n.CHM(e),n.oxw(2).changePropertyEvent(t)}),n.TgZ(1,"option",22),n._uU(2,"Black"),n.qZA(),n.TgZ(3,"option",23),n._uU(4,"White"),n.qZA(),n.qZA()}if(2&e){const e=n.oxw(2);n.Q6J("formControlName",e.key)("value",e.value)}}function E(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"select",21),n.NdJ("change",function(t){return n.CHM(e),n.oxw(2).changePropertyEvent(t)}),n.TgZ(1,"option",22),n._uU(2,"Black"),n.qZA(),n.TgZ(3,"option",23),n._uU(4,"White"),n.qZA(),n.qZA()}if(2&e){const e=n.oxw(2);n.Q6J("formControlName",e.key)("value",e.value)}}function M(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"select",21),n.NdJ("change",function(t){return n.CHM(e),n.oxw(2).changePropertyEvent(t)}),n.TgZ(1,"option",22),n._uU(2,"Black"),n.qZA(),n.TgZ(3,"option",23),n._uU(4,"White"),n.qZA(),n.qZA()}if(2&e){const e=n.oxw(2);n.Q6J("formControlName",e.key)("value",e.value)}}function O(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"select",21),n.NdJ("change",function(t){return n.CHM(e),n.oxw(2).changePropertyEvent(t)}),n.TgZ(1,"option",22),n._uU(2,"Black"),n.qZA(),n.TgZ(3,"option",23),n._uU(4,"White"),n.qZA(),n.qZA()}if(2&e){const e=n.oxw(2);n.Q6J("formControlName",e.key)("value",e.value)}}function I(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"select",21),n.NdJ("change",function(t){return n.CHM(e),n.oxw(2).changePropertyEvent(t)}),n.TgZ(1,"option",22),n._uU(2,"Black"),n.qZA(),n.TgZ(3,"option",23),n._uU(4,"White"),n.qZA(),n.qZA()}if(2&e){const e=n.oxw(2);n.Q6J("formControlName",e.key)("value",e.value)}}function P(e,t){1&e&&(n.ynx(0),n.YNc(1,S,5,2,"select",5),n.YNc(2,E,5,2,"select",5),n.YNc(3,M,5,2,"select",5),n.YNc(4,O,5,2,"select",5),n.YNc(5,I,5,2,"select",5),n.BQk()),2&e&&(n.xp6(1),n.Q6J("ngSwitchCase","foregroundColor"),n.xp6(1),n.Q6J("ngSwitchCase","backgroundColor"),n.xp6(1),n.Q6J("ngSwitchCase","color"),n.xp6(1),n.Q6J("ngSwitchCase","borderColor"),n.xp6(1),n.Q6J("ngSwitchCase","errorTextColor"))}function R(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"input",12),n.NdJ("colorPickerChange",function(t){return n.CHM(e),n.oxw().value=t})("colorPickerChange",function(t){return n.CHM(e),n.oxw().changePropertyEvent(t)}),n.qZA()}if(2&e){const e=n.oxw();n.Udp("background",e.value),n.Q6J("cpOKButton","Ok")("cpPosition","bottom")("colorPicker",e.value)("cpPositionOffset","-20%")("cpOutputFormat","hex")}}function q(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"input",12),n.NdJ("colorPickerChange",function(t){return n.CHM(e),n.oxw().value=t})("colorPickerChange",function(t){return n.CHM(e),n.oxw().changePropertyEvent(t)}),n.qZA()}if(2&e){const e=n.oxw();n.Udp("background",e.value),n.Q6J("cpOKButton","Ok")("cpPosition","bottom")("colorPicker",e.value)("cpPositionOffset","-20%")("cpOutputFormat","hex")}}function L(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"select",21),n.NdJ("change",function(t){return n.CHM(e),n.oxw().changePropertyEvent(t)}),n.TgZ(1,"option",24),n._uU(2),n.qZA(),n.TgZ(3,"option",25),n._uU(4),n.qZA(),n.qZA()}if(2&e){const e=n.oxw();n.Q6J("formControlName",e.key)("value",e.value),n.xp6(2),n.Oqu("True"),n.xp6(2),n.Oqu("False")}}function U(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"div",26),n.TgZ(1,"input",27),n.NdJ("input",function(t){return n.CHM(e),n.oxw().changePropertyEvent(t)}),n.qZA(),n.TgZ(2,"span"),n._uU(3),n.qZA(),n.qZA()}if(2&e){const e=n.oxw();n.xp6(1),n.Q6J("value",e.value),n.xp6(2),n.Oqu(e.value)}}function B(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"select",21),n.NdJ("change",function(t){return n.CHM(e),n.oxw().changePropertyEvent(t)}),n.TgZ(1,"option",24),n._uU(2),n.qZA(),n.TgZ(3,"option",25),n._uU(4),n.qZA(),n.qZA()}if(2&e){const e=n.oxw();n.Q6J("formControlName",e.key)("value",e.value),n.xp6(2),n.Oqu("True"),n.xp6(2),n.Oqu("False")}}function D(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"select",21),n.NdJ("change",function(t){return n.CHM(e),n.oxw().changePropertyEvent(t)}),n.TgZ(1,"option",28),n._uU(2),n.qZA(),n.TgZ(3,"option",29),n._uU(4),n.qZA(),n.qZA()}if(2&e){const e=n.oxw();n.Q6J("formControlName",e.key)("value",e.value),n.xp6(2),n.Oqu("True"),n.xp6(2),n.Oqu("False")}}function N(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"select",21),n.NdJ("change",function(t){return n.CHM(e),n.oxw().changePropertyEvent(t)}),n.TgZ(1,"option",30),n._uU(2),n.qZA(),n.TgZ(3,"option",31),n._uU(4),n.qZA(),n.qZA()}if(2&e){const e=n.oxw();n.Q6J("formControlName",e.key)("value",e.value),n.xp6(2),n.Oqu("Selected"),n.xp6(2),n.Oqu("Unselected")}}function F(e,t){if(1&e&&(n.TgZ(0,"option",33),n._uU(1),n.qZA()),2&e){const e=t.$implicit;n.Q6J("value",e.value),n.xp6(1),n.Oqu(e.name)}}function H(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"select",21),n.NdJ("change",function(t){return n.CHM(e),n.oxw().changePropertyEvent(t)}),n.YNc(1,F,2,2,"option",32),n.qZA()}if(2&e){const e=n.oxw();n.Q6J("formControlName",e.key)("value",e.value),n.xp6(1),n.Q6J("ngForOf",e.fontList)}}function $(e,t){1&e&&(n.TgZ(0,"option",37),n._uU(1,"default.png"),n.qZA())}function z(e,t){1&e&&(n.TgZ(0,"option",38),n._uU(1,"default.jpg"),n.qZA())}function V(e,t){if(1&e&&(n.TgZ(0,"option",33),n._uU(1),n.qZA()),2&e){const e=t.$implicit;n.Q6J("value",e.filename),n.xp6(1),n.Oqu(e.filename)}}function K(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"select",21,34),n.NdJ("change",function(t){return n.CHM(e),n.oxw().changePropertyEvent(t)}),n.YNc(2,$,2,0,"option",35),n.YNc(3,z,2,0,"option",36),n.YNc(4,V,2,2,"option",32),n.ALo(5,"async"),n.qZA()}if(2&e){const e=n.oxw();let t;n.Q6J("formControlName",e.key)("value",e.value),n.xp6(2),n.Q6J("ngIf",e.isCoreTwo||e.isPaper),n.xp6(1),n.Q6J("ngIf",!e.isCoreTwo&&!e.isPaper),n.xp6(1),n.Q6J("ngForOf",null==(t=n.lcZ(5,5,e.deviceInfo$))?null:t.resources)}}function W(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"a",39),n.NdJ("click",function(){return n.CHM(e),n.oxw().load()}),n._uU(1),n.qZA()}if(2&e){const e=n.oxw();n.xp6(1),n.Oqu(e.loadingText)}}function G(e,t){if(1&e&&n._UZ(0,"input",45),2&e){const e=n.oxw(2);n.s9C("accept",e.isCoreTwo?"image/png":".bmp,.jpeg,.jpg,.png,.pbm")}}function Y(e,t){1&e&&n._UZ(0,"input",46)}function j(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"div",40),n.TgZ(1,"button",41),n.NdJ("click",function(){return n.CHM(e),n.oxw().uploadImgHandler()}),n._UZ(2,"img",42),n.qZA(),n.YNc(3,G,1,1,"input",43),n.YNc(4,Y,1,0,"input",44),n.qZA()}if(2&e){const e=n.oxw();n.xp6(1),n.Q6J("disabled",e.uploading),n.xp6(2),n.Q6J("ngIf",!e.isCoreInk),n.xp6(1),n.Q6J("ngIf",e.isCoreInk)}}function X(e,t){if(1&e&&(n.TgZ(0,"option",33),n._uU(1),n.qZA()),2&e){const e=t.$implicit;n.Q6J("value",e.value),n.xp6(1),n.Oqu(e.name)}}function J(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"select",21),n.NdJ("change",function(t){return n.CHM(e),n.oxw().changePropertyEvent(t)}),n.YNc(1,X,2,2,"option",32),n.qZA()}if(2&e){const e=n.oxw();n.Q6J("formControlName",e.key)("value",e.value),n.xp6(1),n.Q6J("ngForOf",e.updateList)}}function Q(e,t){if(1&e&&(n.TgZ(0,"option",33),n._uU(1),n.qZA()),2&e){const e=t.$implicit;n.Q6J("value",e.value),n.xp6(1),n.Oqu(e.name)}}function ee(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"select",21),n.NdJ("change",function(t){return n.CHM(e),n.oxw().changePropertyEvent(t)}),n.YNc(1,Q,2,2,"option",32),n.qZA()}if(2&e){const e=n.oxw();n.Q6J("formControlName",e.key)("value",e.value),n.xp6(1),n.Q6J("ngForOf",e.setChartList())}}function te(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"input",47),n.NdJ("input",function(t){return n.CHM(e),n.oxw().changePropertyEvent(t)})("keydown",function(t){return n.CHM(e),n.oxw().handleKeydown(t)}),n.qZA()}if(2&e){const e=n.oxw();n.ekj("patten",e.ispatten),n.Q6J("value",e.value)}}function ie(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"input",48,49),n.NdJ("input",function(t){return n.CHM(e),n.oxw().changePropertyEvent(t)}),n.qZA()}if(2&e){const e=n.oxw();n.ekj("patten",e.ispatten),n.Q6J("value",e.value)}}function ne(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"input",48),n.NdJ("input",function(t){return n.CHM(e),n.oxw().changePropertyEvent(t)}),n.qZA()}if(2&e){const e=n.oxw();n.ekj("patten",e.ispatten),n.Q6J("value",e.value)}}const oe=[];for(var re in o.Kk)isNaN(re)||oe.push({name:o.FF[re],value:o.Kk[re]});let se=(()=>{class e{constructor(e,t,i,s,a,l,c,h,u){this.storeSrv=e,this.uploadSrv=t,this.zrenderHelperSrvmb=i,this.globalOperatorSrv=s,this.translate=a,this.codeEditorSrv=l,this.codeMakerSrv=c,this.seniorOperatorSrv=h,this.m5fHistorySrv=u,this.changePropertyEmitter=new n.vpe,this.updateImgEmitter=new n.vpe,this.changeToDefaultImgEmitter=new n.vpe,this.key="Unknow",this.value="Null",this.name="Null",this.loadingText="Reload",this.ispatten=!1,this.toLoadImg="",this.colorsOption=o.Ly,this.isCoreTwo=sessionStorage.getItem("_type")==o.__.CORETWO||sessionStorage.getItem("_type")==o.__.TOUGH,this.isCoreInk=sessionStorage.getItem("_type")==o.__.COREINK,this.isPaper=sessionStorage.getItem("_type")==o.__.PAPER,this.exec=r.G.prototype.execCode,this.stick=!0,this.fontList=[{name:"Default",value:"lcd.FONT_Default"},{name:"Default Small",value:"lcd.FONT_DefaultSmall"},{name:"Ubuntu-C",value:"lcd.FONT_Ubuntu"},{name:"Comic",value:"lcd.FONT_Comic"},{name:"DejaVuSans 18",value:"lcd.FONT_DejaVu18"},{name:"DejaVuSans 24",value:"lcd.FONT_DejaVu24"},{name:"DejaVuSans 40",value:"lcd.FONT_DejaVu40"},{name:"DejaVuSans 56",value:"lcd.FONT_DejaVu56"},{name:"DejaVuSans 72",value:"lcd.FONT_DejaVu72"},{name:"Unicode 16",value:"lcd.FONT_UNICODE"},{name:"Unicode 24",value:"lcd.FONT_UNICODE"}],this.methodList=[{name:"GET",value:"GET"}],this.updateList=[{name:"ON",value:"True"},{name:"OFF",value:"False"}],this.chartType=[{name:"LINE",value:"M5ChartGraph.LINE"},{name:"BAR",value:"M5ChartGraph.BAR"},{name:"AUDIO",value:"M5ChartGraph.AUDIO"}],this.barType=[{name:"HORIZON",value:"M5BarGraph.HORIZON"},{name:"VERTICAL",value:" M5BarGraph.VERTICAL"}]}ngOnInit(){if(this.deviceInfo$=this.storeSrv.getDeviceInfo(),this.globalOperatorSrv.ismb){document.getElementsByClassName("header")[0].classList.add("header_mb"),document.getElementsByClassName("wrapper--property--panel")[0].getElementsByTagName("table")[0].classList.add("table_mb");for(var e=0;e<document.getElementsByClassName("property-key").length;e++)try{document.getElementsByClassName("property-key")[e].classList.add("property-key_mb"),document.getElementsByClassName("property-value")[e].classList.add("property-value_mb")}catch(t){}}for(let i in this.propertyItem)this.key=i,this.value=this.propertyItem[i],this.translate.get(i).subscribe(e=>{this.name=e});this.form=new s.cw({[this.key]:new s.NI(this.value)}),this.fontList="Stabile"==localStorage.getItem("versions")?this.fontList.filter(e=>-1===["Unicode 16","Unicode 24"].indexOf(e.name)):"stick-C"==sessionStorage.getItem("_type")||"stick-C-plus"==sessionStorage.getItem("_type")||"stick-C-plus2"==sessionStorage.getItem("_type")?this.fontList.filter(e=>-1===["Unicode 24"].indexOf(e.name)):this.fontList.filter(e=>-1===["Unicode 16"].indexOf(e.name)),(sessionStorage.getItem("_type")==o.__.CORETWO||sessionStorage.getItem("_type")==o.__.TOUGH)&&(this.fontList=oe)}ngAfterViewInit(){if(this.labelText){let e=this.labelText.nativeElement.value;this.labelText.nativeElement.focus(),this.labelText.nativeElement.setSelectionRange(0,e.length)}}handleKeydown(e){if(32==e.keyCode)return e.preventDefault(),!1}IsNmeRepetition(e){let t=window.BlocklyEditor.getAllVariables();for(let n=0;n<t.length;n++)if(t[n].name==e)return!0;let i=this.storeSrv.getComponentList().source._value;for(let n=0;n<i.length;n++)if(i[n].name==e)return!0;return!1}changePropertyEvent(e){let t=/^[0-9]+$/gi;if("name"===this.key){let t=/^\w+$/gi;if(e.target.value=e.target.value.replace(/(^\s+)|(\s+$)/g,"_"),!t.test(e.target.value))return void(this.ispatten=!0);if(this.ispatten=!1,this.IsNmeRepetition(e.target.value))return void(this.ispatten=!0)}else if("x"===this.key||"y"===this.key||"radius"===this.key||"rotation"===this.key||this.key===o.pA.X1||this.key===o.pA.X2||this.key===o.pA.X3||this.key===o.pA.Y1||this.key===o.pA.Y2||this.key===o.pA.Y3||this.key===o.pA.LINE_WIDTH||this.key===o.pA.TEXTOFFSET||this.key===o.pA.INTERVAL){let i=t.test(e.target.value);this.ispatten=!i}else if(this.key===o.pA.WIDTH){const i=e.target.value;let n=t.test(i);this.ispatten=(this.selectedComponent.type===o.Eq.SWITCH||this.selectedComponent.type===o.Eq.BAR)&&i<=this.selectedComponent.height||!n}else if(this.key===o.pA.HEIGHT){const i=e.target.value;let n=t.test(i);this.ispatten=(this.selectedComponent.type===o.Eq.SWITCH||this.selectedComponent.type===o.Eq.BAR)&&i>=this.selectedComponent.width||!n}else if(this.key===o.pA.MIN_VALUE){const i=e.target.value;let n=t.test(i)&&i<=this.selectedComponent.maxValue;this.ispatten=!n}else if(this.key===o.pA.MAX_VALUE){const i=e.target.value;let n=t.test(i)&&i>=this.selectedComponent.minValue;this.ispatten=!n}else if("layer"===this.key){if(!(t.test(e.target.value)&&Number(e.target.value)>2))return void(this.ispatten=!0);this.ispatten=!1}else if("text"===this.key){if(!(e.target.value.replace(/(\s*)/g,"").length>0))return void(this.ispatten=!0);if(/^[\u0020-\u007f]+$/.test(e.target.value))this.ispatten=!1;else{if(this.selectedComponent.font!=o.co.FONT_UNICODE&&this.selectedComponent.font!=o.co.FONT_UNICODE_16PX&&this.selectedComponent.font!=o.Kk[8])return void(this.ispatten=!0);this.ispatten=!1}this.ispatten=!1}if(!this.ispatten){if(sessionStorage.getItem("_type")==o.__.PAPER&&(this.key===o.pA.BACKGROUND_COLOR||this.key===o.pA.BORDER_COLOR||this.key===o.pA.COLOR)&&this.pickerChangeSelected(e),"string"==typeof e)return this.changePropertyEmitter.emit({key:this.key,value:e,obj:null});if("layer"===this.key)return this.changePropertyEmitter.emit({key:this.key,value:Number(e.target.value),obj:e});if("update"===this.key)return this.changePropertyEmitter.emit({key:"timer",value:e.target.value,obj:e});if("tension"===this.key)return this.changePropertyEmitter.emit({key:this.key,value:e.target.value,obj:e});if("segment"===this.key)return this.changePropertyEmitter.emit({key:this.key,value:e.target.value,obj:e});this.changePropertyEmitter.emit({key:this.key,value:e.target.value,obj:e}),"imagePath"===this.key&&(this.toLoadImg=e.target.value,this.loadImg(!0)),this.key===o.pA.IMAGE_THRESHOLD&&(this.value=e.target.value,this.updateGrayImg()),this.key===o.pA.IMAGE_INVERT&&this.updateGrayImg()}}updateGrayImg(){let e=this.selectedComponent.imagePath;if("default.jpg"===e)this.changeToDefaultImgEmitter.emit();else{let t=this.storeSrv.deviceInfo.value,i="";if(null!==t&&(i=t.resources.filter(t=>t.filename===e)[0].base64),""!==i)return void this.updateImgEmitter.emit(i);this.uploadSrv.reloadImg(e).subscribe(i=>{if(0===i.code&&""!==i.data&&"base64"===i.type){let n=i.data.replace("/\n/g","");this.updateImgEmitter.emit(`data:image/jpg;base64,${n}`),t.resources=t.resources.map(t=>(t.filename===e&&(t.base64=`data:image/jpg;base64,${n}`),t)),this.storeSrv.setDeviceInfo(t)}},e=>{})}}load(){this.uploadSrv.getDeviceInfo().subscribe(e=>{this.loadImg(!1)},e=>{this.seniorOperatorSrv.requestError(0,e)})}loadImg(e){let t=this.selectBox.nativeElement.value;if("default.jpg"===t||"default.png"===t)return this.changeToDefaultImgEmitter.emit(),void(e&&this.beforeExecCode());let i=this.storeSrv.deviceInfo.value,n="";if(null!==i&&(n=i.resources.filter(e=>e.filename===t)[0].base64),""!==n)return this.updateImgEmitter.emit(n),void(e&&this.beforeExecCode());this.loadingText="Loading",this.uploadSrv.reloadImg(t).subscribe(n=>{if(0===n.code&&""!==n.data&&"base64"===n.type){let o=n.data.replace("/\n/g","");this.updateImgEmitter.emit(`data:image/jpg;base64,${o}`),i.resources=i.resources.map(e=>(e.filename===this.selectBox.nativeElement.value&&(e.base64=`data:image/jpg;base64,${o}`),e)),this.storeSrv.setDeviceInfo(i),this.selectBox.nativeElement.value=t,e&&this.beforeExecCode()}this.loadingText="Reload"},e=>{this.loadingText="Reload"})}uploadImgHandler(){if(""===this.storeSrv.apiKey.value)return void this.translate.get("KEY_ISNULL_ERROR").subscribe(e=>{this.globalOperatorSrv.createMessageBox().instance.error(e)});this.uploadSrv.getDeviceInfo().subscribe(e=>{},e=>{this.seniorOperatorSrv.requestError(0,e)});let e=document.getElementById("__uploadImgBox");e.click(),e.onchange=e=>{if(0===e.target.files.length)return e.target.value="",void this.globalOperatorSrv.createMessageBox().instance.error("");if(e.target.files[0].size>5e4)return e.target.value="",void this.translate.get("FILE_SIZE_ERROR").subscribe(e=>{this.globalOperatorSrv.createMessageBox().instance.error(e)});const t=e.target.files[0].name.replace(/\.(pbm|PBM|jpg|JPG|jpeg|JPEG|bmp|BMP|png|PNG)$/,"");if(t.length>30)return e.target.value="",void this.translate.get("FILE_NAME_EROR").subscribe(e=>{this.globalOperatorSrv.createMessageBox().instance.error(e)});if(t.length>0&&/[^A-Za-z0-9_.@\$\^&\-\+\~()!\s]+/.test(t))return e.target.value="",void this.globalOperatorSrv.createMessageBox().instance.error("Filename must be English or number or special characters (.@$^&()!_-+~).");let i=e.target.files[0];this.uploadSrv.uploadImg(e.target.files[0]).subscribe(t=>{if(200===t.status){let t=new FileReader,n=this;t.onload=function(){let e=n.storeSrv.deviceInfo.value;0===e.resources.filter(e=>e.filename===i.name).length?(e.resources.push({filename:i.name,base64:this.result.toString()}),window.Blockly.ResImages.push(i.name)):e.resources.forEach(e=>{e.filename===i.name&&(e.base64=this.result.toString())}),n.storeSrv.setDeviceInfo(e)},t.readAsDataURL(i),e.target.value=""}},t=>{this.seniorOperatorSrv.requestError(0,t),e.target.value=""})}}beforeExecCode(){this.codeEditorSrv.updateWorkspaceValue();let e=sessionStorage.getItem("_type");if(e===o.__.COREINK||e===o.__.PAPER){let e=window.BlocklyEditor.getAllBlocks().findIndex(e=>"screen_set_show"===e.type&&!e.disabled||"screen_set_paritalshow"===e.type&&!e.disabled),t='Lack block "Set screen set show" or "Set screen partial show".',i=this;-1===e?this.globalOperatorSrv.warnSwal(t,function(){i.execCode()}):this.execCode()}else this.execCode()}execCode(){this.exec()}pickerOpen(e){this.pickerChangeSelected(e)}pickerChangeSelected(e){let t=this.colorsOption.indexOf(e),i=document.getElementById(this.key);if(!i)return;let n=i.nextElementSibling.querySelectorAll(".preset-color");n.forEach(e=>{e.classList.remove("selected")}),n[t].classList.add("selected")}setChartList(){var e,t;const i=null===(t=null===(e=this.globalOperatorSrv.selectedComponent)||void 0===e?void 0:e.value)||void 0===t?void 0:t.type;return i===o.Eq.GRAPH?this.chartType:i===o.Eq.BARGRAPH?this.barType:void 0}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(a.d),n.Y36(l.C),n.Y36(c.j),n.Y36(c.t0),n.Y36(h.sK),n.Y36(c.hN),n.Y36(c.Ax),n.Y36(c.VY),n.Y36(c.s9))},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-property-item"]],viewQuery:function(e,t){if(1&e&&(n.Gf(p,5),n.Gf(g,5)),2&e){let e;n.iGM(e=n.CRH())&&(t.selectBox=e.first),n.iGM(e=n.CRH())&&(t.labelText=e.first)}},inputs:{propertyItem:"propertyItem",selectedComponent:"selectedComponent"},outputs:{changePropertyEmitter:"changePropertyEmitter",updateImgEmitter:"updateImgEmitter",changeToDefaultImgEmitter:"changeToDefaultImgEmitter"},decls:25,vars:22,consts:[[1,"property-key"],[1,"property-value",3,"ngSwitch"],[3,"formGroup"],["class","back_input","readonly","readonly","spellcheck","false",3,"cpOKButton","background","cpPosition","colorPicker","cpPositionOffset","cpOutputFormat","colorPickerChange",4,"ngSwitchCase"],[4,"ngIf"],[3,"formControlName","value","change",4,"ngSwitchCase"],["class","imageThreshold",4,"ngSwitchCase"],["class","btn--reload-image",3,"click",4,"ngIf"],["class","btn--upload-img",4,"ngIf"],["type","text","spellcheck","false",3,"value","patten","input","keydown",4,"ngSwitchCase"],["type","text","spellcheck","false",3,"value","patten","input",4,"ngSwitchCase"],["type","text","spellcheck","false",3,"value","patten","input",4,"ngSwitchDefault"],["readonly","readonly","spellcheck","false",1,"back_input",3,"cpOKButton","cpPosition","colorPicker","cpPositionOffset","cpOutputFormat","colorPickerChange"],["id","foregroundColor","class","back_input paperColor","readonly","readonly","spellcheck","false",3,"cpOKButton","background","cpPosition","colorPicker","cpPresetLabel","cpAlphaChannel","cpDisableInput","cpPresetColors","colorPickerChange","colorPickerOpen",4,"ngSwitchCase"],["id","backgroundColor","class","back_input paperColor","readonly","readonly","spellcheck","false",3,"cpOKButton","background","cpPosition","colorPicker","cpPresetLabel","cpAlphaChannel","cpDisableInput","cpPresetColors","colorPickerChange","colorPickerOpen",4,"ngSwitchCase"],["id","borderColor","class","back_input paperColor","readonly","readonly","spellcheck","false",3,"cpOKButton","background","cpPosition","colorPicker","cpPresetLabel","cpAlphaChannel","cpDisableInput","cpPresetColors","colorPickerChange","colorPickerOpen",4,"ngSwitchCase"],["id","color","class","back_input paperColor","readonly","readonly","spellcheck","false",3,"cpOKButton","background","cpPosition","colorPicker","cpPresetLabel","cpAlphaChannel","cpDisableInput","cpPresetColors","colorPickerChange","colorPickerOpen",4,"ngSwitchCase"],["id","foregroundColor","readonly","readonly","spellcheck","false",1,"back_input","paperColor",3,"cpOKButton","cpPosition","colorPicker","cpPresetLabel","cpAlphaChannel","cpDisableInput","cpPresetColors","colorPickerChange","colorPickerOpen"],["id","backgroundColor","readonly","readonly","spellcheck","false",1,"back_input","paperColor",3,"cpOKButton","cpPosition","colorPicker","cpPresetLabel","cpAlphaChannel","cpDisableInput","cpPresetColors","colorPickerChange","colorPickerOpen"],["id","borderColor","readonly","readonly","spellcheck","false",1,"back_input","paperColor",3,"cpOKButton","cpPosition","colorPicker","cpPresetLabel","cpAlphaChannel","cpDisableInput","cpPresetColors","colorPickerChange","colorPickerOpen"],["id","color","readonly","readonly","spellcheck","false",1,"back_input","paperColor",3,"cpOKButton","cpPosition","colorPicker","cpPresetLabel","cpAlphaChannel","cpDisableInput","cpPresetColors","colorPickerChange","colorPickerOpen"],[3,"formControlName","value","change"],["value","#272727"],["value","#dadada"],["value","true"],["value","false"],[1,"imageThreshold"],["type","range","min","0","max","255","step","1",1,"imageThreshold_input",3,"value","input"],["value","True"],["value","False"],["value","1"],["value","0"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["selectBox",""],["value","default.png",4,"ngIf"],["value","default.jpg",4,"ngIf"],["value","default.png"],["value","default.jpg"],[1,"btn--reload-image",3,"click"],[1,"btn--upload-img"],[1,"btn--add",3,"disabled","click"],["src","./../../../assets/images/add-img.png"],["id","__uploadImgBox","type","file","multiple","false","style","display:none",3,"accept",4,"ngIf"],["id","__uploadImgBox","type","file","multiple","false","accept",".bmp,.jpeg,.jpg,.pbm","style","display:none",4,"ngIf"],["id","__uploadImgBox","type","file","multiple","false",2,"display","none",3,"accept"],["id","__uploadImgBox","type","file","multiple","false","accept",".bmp,.jpeg,.jpg,.pbm",2,"display","none"],["type","text","spellcheck","false",3,"value","input","keydown"],["type","text","spellcheck","false",3,"value","input"],["labelText",""]],template:function(e,t){1&e&&(n.TgZ(0,"td",0),n._uU(1),n.qZA(),n.TgZ(2,"td",1),n.TgZ(3,"form",2),n.YNc(4,f,1,7,"input",3),n.YNc(5,w,6,5,"ng-container",4),n.YNc(6,k,6,5,"ng-container",4),n.YNc(7,P,6,5,"ng-container",4),n.YNc(8,R,1,7,"input",3),n.YNc(9,q,1,7,"input",3),n.YNc(10,L,5,4,"select",5),n._uU(11," \xa0"),n.YNc(12,U,4,2,"div",6),n.YNc(13,B,5,4,"select",5),n.YNc(14,D,5,4,"select",5),n.YNc(15,N,5,4,"select",5),n.YNc(16,H,2,3,"select",5),n.YNc(17,K,6,7,"select",5),n.YNc(18,W,2,1,"a",7),n.YNc(19,j,5,3,"div",8),n.YNc(20,J,2,3,"select",5),n.YNc(21,ee,2,3,"select",5),n.YNc(22,te,1,3,"input",9),n.YNc(23,ie,2,3,"input",10),n.YNc(24,ne,1,3,"input",11),n.qZA(),n.qZA()),2&e&&(n.xp6(1),n.hij(" ",t.name+":","\n"),n.xp6(1),n.Q6J("ngSwitch",t.key),n.xp6(1),n.Q6J("formGroup",t.form),n.xp6(1),n.Q6J("ngSwitchCase","trackColor"),n.xp6(1),n.Q6J("ngIf",!t.isCoreInk&&!t.isPaper),n.xp6(1),n.Q6J("ngIf",t.isPaper),n.xp6(1),n.Q6J("ngIf",t.isCoreInk),n.xp6(1),n.Q6J("ngSwitchCase","unselectedColor"),n.xp6(1),n.Q6J("ngSwitchCase","selectedColor"),n.xp6(1),n.Q6J("ngSwitchCase","visibility"),n.xp6(2),n.Q6J("ngSwitchCase","imageThreshold"),n.xp6(1),n.Q6J("ngSwitchCase","imageInvert"),n.xp6(1),n.Q6J("ngSwitchCase","reversed"),n.xp6(1),n.Q6J("ngSwitchCase","status"),n.xp6(1),n.Q6J("ngSwitchCase","font"),n.xp6(1),n.Q6J("ngSwitchCase","imagePath"),n.xp6(1),n.Q6J("ngIf","imagePath"==t.key),n.xp6(1),n.Q6J("ngIf","imagePath"==t.key),n.xp6(1),n.Q6J("ngSwitchCase","update"),n.xp6(1),n.Q6J("ngSwitchCase","chartType"),n.xp6(1),n.Q6J("ngSwitchCase","name"),n.xp6(1),n.Q6J("ngSwitchCase","text"))},directives:[u.RF,s._Y,s.JL,s.sg,u.n9,u.O5,u.ED,d.Kk,s.EJ,s.JJ,s.u,s.YN,s.Kr,u.sg],pipes:[u.Ov],styles:[".property-key[_ngcontent-%COMP%], .property-value[_ngcontent-%COMP%]{font-family:Arial;font-size:14px;text-align:right}.property-key[_ngcontent-%COMP%]{width:6em;font-size:18px}.property-value[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-size:18px;padding-left:4px}.property-value[_ngcontent-%COMP%]   input.patten[_ngcontent-%COMP%]{border:1px solid red;outline:1px solid red}.property-value[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{outline:none;border:none;background-color:#fff;font-size:18px;padding-left:4px;max-width:230px}.property-value[_ngcontent-%COMP%]   .btn--reload-image[_ngcontent-%COMP%]{margin:0 6px;cursor:pointer;color:#007acc;-webkit-user-select:none;-moz-user-select:none;user-select:none}.property-key_mb[_ngcontent-%COMP%]{max-width:6em;overflow:hidden;font-size:16px}.header_mb[_ngcontent-%COMP%] > .name[_ngcontent-%COMP%]{font-size:18px}.property-value_mb[_ngcontent-%COMP%], .property-value_mb[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{font-size:16px}.table_mb[_ngcontent-%COMP%]{height:200px;overflow-y:scroll}.property-value_mb[_ngcontent-%COMP%] > .ng-star-inserted[_ngcontent-%COMP%]{max-width:86px;widows:86px}.back_input[_ngcontent-%COMP%]{cursor:pointer}.back_input[_ngcontent-%COMP%]:hover{border:2px solid #FF83FA}.btn--upload-img[_ngcontent-%COMP%]{height:100%;display:inline-block}.btn--add[_ngcontent-%COMP%]{height:22px;outline:none;border:none;background:none;cursor:pointer}.btn--add[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:22px;vertical-align:bottom}.imageThreshold[_ngcontent-%COMP%]{height:100%;display:inline-block}.imageThreshold[_ngcontent-%COMP%]   .imageThreshold_input[_ngcontent-%COMP%]{width:150px;height:10px;border-radius:10px;outline:none;-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;margin-right:6px;padding-left:0}.imageThreshold[_ngcontent-%COMP%]   input[type=range][_ngcontent-%COMP%]::-webkit-slider-thumb{-webkit-appearance:none;-moz-appearance:none;appearance:none;width:14px;height:14px;border-radius:50%;border:2px solid #303131;background-color:#303131}.imageThreshold[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:16px}[_nghost-%COMP%]     .paperColor+color-picker .saturation-lightness, [_nghost-%COMP%]     .paperColor+color-picker .hue-alpha{display:none}[_nghost-%COMP%]     .paperColor+color-picker .preset-area{text-align:left}[_nghost-%COMP%]     .paperColor+color-picker .preset-area hr{display:none}[_nghost-%COMP%]     .paperColor+color-picker .preset-color.selected{border:2px solid #000}[_nghost-%COMP%]     .paperColor+color-picker .preset-color:hover{border:1px solid #FF83FA}"]}),e})()},92340:function(e,t,i){"use strict";i.d(t,{N:function(){return n}});const n={production:!0,apiUrl:"https://api.m5stack.com/v1",loginUrl:"https://sso.m5stack.com/auth",cloudUrl:"https://cloud.m5stack.com/api",version:"1.13.7",versionChunk:"104",remoteUrl:"https://flow.m5stack.com"}},4632:function(e,t,i){"use strict";var n=i(38583),o=i(37716);class r extends n.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class s extends r{static makeCurrent(){(0,n.HT)(new s)}onAndCancel(e,t,i){return e.addEventListener(t,i,!1),()=>{e.removeEventListener(t,i,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=(l=l||document.querySelector("base"),l?l.getAttribute("href"):null);return null==t?null:function(e){a=a||document.createElement("a"),a.setAttribute("href",e);const t=a.pathname;return"/"===t.charAt(0)?t:`/${t}`}(t)}resetBaseElement(){l=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return(0,n.Mx)(document.cookie,e)}}let a,l=null;const c=new o.OlP("TRANSITION_ID"),h=[{provide:o.ip1,useFactory:function(e,t,i){return()=>{i.get(o.CZH).donePromise.then(()=>{const i=(0,n.q)(),o=t.querySelectorAll(`style[ng-transition="${e}"]`);for(let e=0;e<o.length;e++)i.remove(o[e])})}},deps:[c,n.K0,o.zs3],multi:!0}];class u{static init(){(0,o.VLi)(new u)}addToWindow(e){o.dqk.getAngularTestability=(t,i=!0)=>{const n=e.findTestabilityInTree(t,i);if(null==n)throw new Error("Could not find testability for element.");return n},o.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),o.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),o.dqk.frameworkStabilizers||(o.dqk.frameworkStabilizers=[]),o.dqk.frameworkStabilizers.push(e=>{const t=o.dqk.getAllAngularTestabilities();let i=t.length,n=!1;const r=function(t){n=n||t,i--,0==i&&e(n)};t.forEach(function(e){e.whenStable(r)})})}findTestabilityInTree(e,t,i){if(null==t)return null;const o=e.getTestability(t);return null!=o?o:i?(0,n.q)().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let d=(()=>{class e{build(){return new XMLHttpRequest}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac}),e})();const p=new o.OlP("EventManagerPlugins");let g=(()=>{class e{constructor(e,t){this._zone=t,this._eventNameToPlugin=new Map,e.forEach(e=>e.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,t,i){return this._findPluginFor(t).addEventListener(e,t,i)}addGlobalEventListener(e,t,i){return this._findPluginFor(t).addGlobalEventListener(e,t,i)}getZone(){return this._zone}_findPluginFor(e){const t=this._eventNameToPlugin.get(e);if(t)return t;const i=this._plugins;for(let n=0;n<i.length;n++){const t=i[n];if(t.supports(e))return this._eventNameToPlugin.set(e,t),t}throw new Error(`No event manager plugin found for event ${e}`)}}return e.\u0275fac=function(t){return new(t||e)(o.LFG(p),o.LFG(o.R0b))},e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac}),e})();class f{constructor(e){this._doc=e}addGlobalEventListener(e,t,i){const o=(0,n.q)().getGlobalEventTarget(this._doc,e);if(!o)throw new Error(`Unsupported event target ${o} for event ${t}`);return this.addEventListener(o,t,i)}}let m=(()=>{class e{constructor(){this._stylesSet=new Set}addStyles(e){const t=new Set;e.forEach(e=>{this._stylesSet.has(e)||(this._stylesSet.add(e),t.add(e))}),this.onStylesAdded(t)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac}),e})(),_=(()=>{class e extends m{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,t,i){e.forEach(e=>{const n=this._doc.createElement("style");n.textContent=e,i.push(t.appendChild(n))})}addHost(e){const t=[];this._addStylesToHost(this._stylesSet,e,t),this._hostNodes.set(e,t)}removeHost(e){const t=this._hostNodes.get(e);t&&t.forEach(v),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((t,i)=>{this._addStylesToHost(e,i,t)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(v))}}return e.\u0275fac=function(t){return new(t||e)(o.LFG(n.K0))},e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac}),e})();function v(e){(0,n.q)().remove(e)}const y={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},b=/%COMP%/g,w="%COMP%",A=`_nghost-${w}`,x=`_ngcontent-${w}`;function T(e,t,i){for(let n=0;n<t.length;n++){let o=t[n];Array.isArray(o)?T(e,o,i):(o=o.replace(b,e),i.push(o))}return i}function C(e){return t=>{if("__ngUnwrap__"===t)return e;!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}let Z=(()=>{class e{constructor(e,t,i){this.eventManager=e,this.sharedStylesHost=t,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new k(e)}createRenderer(e,t){if(!e||!t)return this.defaultRenderer;switch(t.encapsulation){case o.ifc.Emulated:{let i=this.rendererByCompId.get(t.id);return i||(i=new S(this.eventManager,this.sharedStylesHost,t,this.appId),this.rendererByCompId.set(t.id,i)),i.applyToHost(e),i}case 1:case o.ifc.ShadowDom:return new E(this.eventManager,this.sharedStylesHost,e,t);default:if(!this.rendererByCompId.has(t.id)){const e=T(t.id,t.styles,[]);this.sharedStylesHost.addStyles(e),this.rendererByCompId.set(t.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return e.\u0275fac=function(t){return new(t||e)(o.LFG(g),o.LFG(_),o.LFG(o.AFp))},e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac}),e})();class k{constructor(e){this.eventManager=e,this.data=Object.create(null)}destroy(){}createElement(e,t){return t?document.createElementNS(y[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,i){e&&e.insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?document.querySelector(e):e;if(!i)throw new Error(`The selector "${e}" did not match any elements`);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,n){if(n){t=n+":"+t;const o=y[n];o?e.setAttributeNS(o,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const n=y[i];n?e.removeAttributeNS(n,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,n){n&(o.JOm.DashCase|o.JOm.Important)?e.style.setProperty(t,i,n&o.JOm.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&o.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e[t]=i}setValue(e,t){e.nodeValue=t}listen(e,t,i){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,C(i)):this.eventManager.addEventListener(e,t,C(i))}}class S extends k{constructor(e,t,i,n){super(e),this.component=i;const o=T(n+"-"+i.id,i.styles,[]);t.addStyles(o),this.contentAttr=x.replace(b,n+"-"+i.id),this.hostAttr=A.replace(b,n+"-"+i.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}class E extends k{constructor(e,t,i,n){super(e),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=T(n.id,n.styles,[]);for(let r=0;r<o.length;r++){const e=document.createElement("style");e.textContent=o[r],this.shadowRoot.appendChild(e)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let M=(()=>{class e extends f{constructor(e){super(e)}supports(e){return!0}addEventListener(e,t,i){return e.addEventListener(t,i,!1),()=>this.removeEventListener(e,t,i)}removeEventListener(e,t,i){return e.removeEventListener(t,i)}}return e.\u0275fac=function(t){return new(t||e)(o.LFG(n.K0))},e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac}),e})();const O=["alt","control","meta","shift"],I={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},P={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},R={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let q=(()=>{class e extends f{constructor(e){super(e)}supports(t){return null!=e.parseEventName(t)}addEventListener(t,i,o){const r=e.parseEventName(i),s=e.eventCallback(r.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,n.q)().onAndCancel(t,r.domEventName,s))}static parseEventName(t){const i=t.toLowerCase().split("."),n=i.shift();if(0===i.length||"keydown"!==n&&"keyup"!==n)return null;const o=e._normalizeKey(i.pop());let r="";if(O.forEach(e=>{const t=i.indexOf(e);t>-1&&(i.splice(t,1),r+=e+".")}),r+=o,0!=i.length||0===o.length)return null;const s={};return s.domEventName=n,s.fullKey=r,s}static getEventFullKey(e){let t="",i=function(e){let t=e.key;if(null==t){if(t=e.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===e.location&&P.hasOwnProperty(t)&&(t=P[t]))}return I[t]||t}(e);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),O.forEach(n=>{n!=i&&R[n](e)&&(t+=n+".")}),t+=i,t}static eventCallback(t,i,n){return o=>{e.getEventFullKey(o)===t&&n.runGuarded(()=>i(o))}}static _normalizeKey(e){switch(e){case"esc":return"escape";default:return e}}}return e.\u0275fac=function(t){return new(t||e)(o.LFG(n.K0))},e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac}),e})(),L=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=(0,o.Yz7)({factory:function(){return(0,o.LFG)(U)},token:e,providedIn:"root"}),e})(),U=(()=>{class e extends L{constructor(e){super(),this._doc=e}sanitize(e,t){if(null==t)return null;switch(e){case o.q3G.NONE:return t;case o.q3G.HTML:return(0,o.qzn)(t,"HTML")?(0,o.z3N)(t):(0,o.EiD)(this._doc,String(t)).toString();case o.q3G.STYLE:return(0,o.qzn)(t,"Style")?(0,o.z3N)(t):t;case o.q3G.SCRIPT:if((0,o.qzn)(t,"Script"))return(0,o.z3N)(t);throw new Error("unsafe value used in a script context");case o.q3G.URL:return(0,o.yhl)(t),(0,o.qzn)(t,"URL")?(0,o.z3N)(t):(0,o.mCW)(String(t));case o.q3G.RESOURCE_URL:if((0,o.qzn)(t,"ResourceURL"))return(0,o.z3N)(t);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return(0,o.JVY)(e)}bypassSecurityTrustStyle(e){return(0,o.L6k)(e)}bypassSecurityTrustScript(e){return(0,o.eBb)(e)}bypassSecurityTrustUrl(e){return(0,o.LAX)(e)}bypassSecurityTrustResourceUrl(e){return(0,o.pB0)(e)}}return e.\u0275fac=function(t){return new(t||e)(o.LFG(n.K0))},e.\u0275prov=(0,o.Yz7)({factory:function(){return function(e){return new U(e.get(n.K0))}((0,o.LFG)(o.gxx))},token:e,providedIn:"root"}),e})();const B=(0,o.eFA)(o._c5,"browser",[{provide:o.Lbi,useValue:n.bD},{provide:o.g9A,useValue:function(){s.makeCurrent(),u.init()},multi:!0},{provide:n.K0,useFactory:function(){return(0,o.RDi)(document),document},deps:[]}]),D=[[],{provide:o.zSh,useValue:"root"},{provide:o.qLn,useFactory:function(){return new o.qLn},deps:[]},{provide:p,useClass:M,multi:!0,deps:[n.K0,o.R0b,o.Lbi]},{provide:p,useClass:q,multi:!0,deps:[n.K0]},[],{provide:Z,useClass:Z,deps:[g,_,o.AFp]},{provide:o.FYo,useExisting:Z},{provide:m,useExisting:_},{provide:_,useClass:_,deps:[n.K0]},{provide:o.dDg,useClass:o.dDg,deps:[o.R0b]},{provide:g,useClass:g,deps:[p,o.R0b]},{provide:n.JF,useClass:d,deps:[]},[]];let N=(()=>{class e{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:e,providers:[{provide:o.AFp,useValue:t.appId},{provide:c,useExisting:o.AFp},h]}}}return e.\u0275fac=function(t){return new(t||e)(o.LFG(e,12))},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({providers:D,imports:[n.ez,o.hGG]}),e})();"undefined"!=typeof window&&window;var F=i(91841),H=i(17238);function $(){return"undefined"!=typeof window&&void 0!==window.document}function z(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function V(e){switch(e.length){case 0:return new H.ZN;case 1:return e[0];default:return new H.ZE(e)}}function K(e,t,i,n,o={},r={}){const s=[],a=[];let l=-1,c=null;if(n.forEach(e=>{const i=e.offset,n=i==l,h=n&&c||{};Object.keys(e).forEach(i=>{let n=i,a=e[i];if("offset"!==i)switch(n=t.normalizePropertyName(n,s),a){case H.k1:a=o[i];break;case H.l3:a=r[i];break;default:a=t.normalizeStyleValue(i,n,a,s)}h[n]=a}),n||a.push(h),c=h,l=i}),s.length){const e="\n - ";throw new Error(`Unable to animate due to the following errors:${e}${s.join(e)}`)}return a}function W(e,t,i,n){switch(t){case"start":e.onStart(()=>n(i&&G(i,"start",e)));break;case"done":e.onDone(()=>n(i&&G(i,"done",e)));break;case"destroy":e.onDestroy(()=>n(i&&G(i,"destroy",e)))}}function G(e,t,i){const n=i.totalTime,o=Y(e.element,e.triggerName,e.fromState,e.toState,t||e.phaseName,null==n?e.totalTime:n,!!i.disabled),r=e._data;return null!=r&&(o._data=r),o}function Y(e,t,i,n,o="",r=0,s){return{element:e,triggerName:t,fromState:i,toState:n,phaseName:o,totalTime:r,disabled:!!s}}function j(e,t,i){let n;return e instanceof Map?(n=e.get(t),n||e.set(t,n=i)):(n=e[t],n||(n=e[t]=i)),n}function X(e){const t=e.indexOf(":");return[e.substring(1,t),e.substr(t+1)]}let J=(e,t)=>!1,Q=(e,t)=>!1,ee=(e,t,i)=>[];const te=z();(te||"undefined"!=typeof Element)&&(J=$()?(e,t)=>{for(;t&&t!==document.documentElement;){if(t===e)return!0;t=t.parentNode||t.host}return!1}:(e,t)=>e.contains(t),Q=(()=>{if(te||Element.prototype.matches)return(e,t)=>e.matches(t);{const e=Element.prototype,t=e.matchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector;return t?(e,i)=>t.apply(e,[i]):Q}})(),ee=(e,t,i)=>{let n=[];if(i){const i=e.querySelectorAll(t);for(let e=0;e<i.length;e++)n.push(i[e])}else{const i=e.querySelector(t);i&&n.push(i)}return n});let ie=null,ne=!1;function oe(e){ie||(ie=("undefined"!=typeof document?document.body:null)||{},ne=!!ie.style&&"WebkitAppearance"in ie.style);let t=!0;return ie.style&&!function(e){return"ebkit"==e.substring(1,6)}(e)&&(t=e in ie.style,!t&&ne&&(t="Webkit"+e.charAt(0).toUpperCase()+e.substr(1)in ie.style)),t}const re=Q,se=J,ae=ee;function le(e){const t={};return Object.keys(e).forEach(i=>{const n=i.replace(/([a-z])([A-Z])/g,"$1-$2");t[n]=e[i]}),t}let ce=(()=>{class e{validateStyleProperty(e){return oe(e)}matchesElement(e,t){return re(e,t)}containsElement(e,t){return se(e,t)}query(e,t,i){return ae(e,t,i)}computeStyle(e,t,i){return i||""}animate(e,t,i,n,o,r=[],s){return new H.ZN(i,n)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac}),e})(),he=(()=>{class e{}return e.NOOP=new ce,e})();const ue="ng-enter",de="ng-leave",pe="ng-trigger",ge=".ng-trigger",fe="ng-animating",me=".ng-animating";function _e(e){if("number"==typeof e)return e;const t=e.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:ve(parseFloat(t[1]),t[2])}function ve(e,t){switch(t){case"s":return 1e3*e;default:return e}}function ye(e,t,i){return e.hasOwnProperty("duration")?e:function(e,t,i){let n,o=0,r="";if("string"==typeof e){const i=e.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===i)return t.push(`The provided timing value "${e}" is invalid.`),{duration:0,delay:0,easing:""};n=ve(parseFloat(i[1]),i[2]);const s=i[3];null!=s&&(o=ve(parseFloat(s),i[4]));const a=i[5];a&&(r=a)}else n=e;if(!i){let i=!1,r=t.length;n<0&&(t.push("Duration values below 0 are not allowed for this animation step."),i=!0),o<0&&(t.push("Delay values below 0 are not allowed for this animation step."),i=!0),i&&t.splice(r,0,`The provided timing value "${e}" is invalid.`)}return{duration:n,delay:o,easing:r}}(e,t,i)}function be(e,t={}){return Object.keys(e).forEach(i=>{t[i]=e[i]}),t}function we(e,t,i={}){if(t)for(let n in e)i[n]=e[n];else be(e,i);return i}function Ae(e,t,i){return i?t+":"+i+";":""}function xe(e){let t="";for(let i=0;i<e.style.length;i++){const n=e.style.item(i);t+=Ae(0,n,e.style.getPropertyValue(n))}for(const i in e.style)e.style.hasOwnProperty(i)&&!i.startsWith("_")&&(t+=Ae(0,Pe(i),e.style[i]));e.setAttribute("style",t)}function Te(e,t,i){e.style&&(Object.keys(t).forEach(n=>{const o=Ie(n);i&&!i.hasOwnProperty(n)&&(i[n]=e.style[o]),e.style[o]=t[n]}),z()&&xe(e))}function Ce(e,t){e.style&&(Object.keys(t).forEach(t=>{const i=Ie(t);e.style[i]=""}),z()&&xe(e))}function Ze(e){return Array.isArray(e)?1==e.length?e[0]:(0,H.vP)(e):e}const ke=new RegExp("{{\\s*(.+?)\\s*}}","g");function Se(e){let t=[];if("string"==typeof e){let i;for(;i=ke.exec(e);)t.push(i[1]);ke.lastIndex=0}return t}function Ee(e,t,i){const n=e.toString(),o=n.replace(ke,(e,n)=>{let o=t[n];return t.hasOwnProperty(n)||(i.push(`Please provide a value for the animation param ${n}`),o=""),o.toString()});return o==n?e:o}function Me(e){const t=[];let i=e.next();for(;!i.done;)t.push(i.value),i=e.next();return t}const Oe=/-+([a-z0-9])/g;function Ie(e){return e.replace(Oe,(...e)=>e[1].toUpperCase())}function Pe(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Re(e,t){return 0===e||0===t}function qe(e,t,i){const n=Object.keys(i);if(n.length&&t.length){let r=t[0],s=[];if(n.forEach(e=>{r.hasOwnProperty(e)||s.push(e),r[e]=i[e]}),s.length)for(var o=1;o<t.length;o++){let i=t[o];s.forEach(function(t){i[t]=Ue(e,t)})}}return t}function Le(e,t,i){switch(t.type){case 7:return e.visitTrigger(t,i);case 0:return e.visitState(t,i);case 1:return e.visitTransition(t,i);case 2:return e.visitSequence(t,i);case 3:return e.visitGroup(t,i);case 4:return e.visitAnimate(t,i);case 5:return e.visitKeyframes(t,i);case 6:return e.visitStyle(t,i);case 8:return e.visitReference(t,i);case 9:return e.visitAnimateChild(t,i);case 10:return e.visitAnimateRef(t,i);case 11:return e.visitQuery(t,i);case 12:return e.visitStagger(t,i);default:throw new Error(`Unable to resolve animation metadata node #${t.type}`)}}function Ue(e,t){return window.getComputedStyle(e)[t]}function Be(e,t){const i=[];return"string"==typeof e?e.split(/\s*,\s*/).forEach(e=>function(e,t,i){if(":"==e[0]){const n=function(e,t){switch(e){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,t)=>parseFloat(t)>parseFloat(e);case":decrement":return(e,t)=>parseFloat(t)<parseFloat(e);default:return t.push(`The transition alias value "${e}" is not supported`),"* => *"}}(e,i);if("function"==typeof n)return void t.push(n);e=n}const n=e.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==n||n.length<4)return i.push(`The provided transition expression "${e}" is not supported`),t;const o=n[1],r=n[2],s=n[3];t.push(Fe(o,s));"<"==r[0]&&!("*"==o&&"*"==s)&&t.push(Fe(s,o))}(e,i,t)):i.push(e),i}const De=new Set(["true","1"]),Ne=new Set(["false","0"]);function Fe(e,t){const i=De.has(e)||Ne.has(e),n=De.has(t)||Ne.has(t);return(o,r)=>{let s="*"==e||e==o,a="*"==t||t==r;return!s&&i&&"boolean"==typeof o&&(s=o?De.has(e):Ne.has(e)),!a&&n&&"boolean"==typeof r&&(a=r?De.has(t):Ne.has(t)),s&&a}}const He=new RegExp("s*:selfs*,?","g");function $e(e,t,i){return new ze(e).build(t,i)}class ze{constructor(e){this._driver=e}build(e,t){const i=new Ve(t);return this._resetContextStyleTimingState(i),Le(this,Ze(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,n=t.depCount=0;const o=[],r=[];return"@"==e.name.charAt(0)&&t.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),e.definitions.forEach(e=>{if(this._resetContextStyleTimingState(t),0==e.type){const i=e,n=i.name;n.toString().split(/\s*,\s*/).forEach(e=>{i.name=e,o.push(this.visitState(i,t))}),i.name=n}else if(1==e.type){const o=this.visitTransition(e,t);i+=o.queryCount,n+=o.depCount,r.push(o)}else t.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:e.name,states:o,transitions:r,queryCount:i,depCount:n,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),n=e.options&&e.options.params||null;if(i.containsDynamicStyles){const o=new Set,r=n||{};if(i.styles.forEach(e=>{if(Ke(e)){const t=e;Object.keys(t).forEach(e=>{Se(t[e]).forEach(e=>{r.hasOwnProperty(e)||o.add(e)})})}}),o.size){const i=Me(o.values());t.errors.push(`state("${e.name}", ...) must define default values for all the following style substitutions: ${i.join(", ")}`)}}return{type:0,name:e.name,style:i,options:n?{params:n}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=Le(this,Ze(e.animation),t);return{type:1,matchers:Be(e.expr,t.errors),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:We(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(e=>Le(this,e,t)),options:We(e.options)}}visitGroup(e,t){const i=t.currentTime;let n=0;const o=e.steps.map(e=>{t.currentTime=i;const o=Le(this,e,t);return n=Math.max(n,t.currentTime),o});return t.currentTime=n,{type:3,steps:o,options:We(e.options)}}visitAnimate(e,t){const i=function(e,t){let i=null;if(e.hasOwnProperty("duration"))i=e;else if("number"==typeof e)return Ge(ye(e,t).duration,0,"");const n=e;if(n.split(/\s+/).some(e=>"{"==e.charAt(0)&&"{"==e.charAt(1))){const e=Ge(0,0,"");return e.dynamic=!0,e.strValue=n,e}return i=i||ye(n,t),Ge(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let n,o=e.styles?e.styles:(0,H.oB)({});if(5==o.type)n=this.visitKeyframes(o,t);else{let o=e.styles,r=!1;if(!o){r=!0;const e={};i.easing&&(e.easing=i.easing),o=(0,H.oB)(e)}t.currentTime+=i.duration+i.delay;const s=this.visitStyle(o,t);s.isEmptyStep=r,n=s}return t.currentAnimateTimings=null,{type:4,timings:i,style:n,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[];Array.isArray(e.styles)?e.styles.forEach(e=>{"string"==typeof e?e==H.l3?i.push(e):t.errors.push(`The provided style string value ${e} is not allowed.`):i.push(e)}):i.push(e.styles);let n=!1,o=null;return i.forEach(e=>{if(Ke(e)){const t=e,i=t.easing;if(i&&(o=i,delete t.easing),!n)for(let e in t)if(t[e].toString().indexOf("{{")>=0){n=!0;break}}}),{type:6,styles:i,easing:o,offset:e.offset,containsDynamicStyles:n,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let n=t.currentTime,o=t.currentTime;i&&o>0&&(o-=i.duration+i.delay),e.styles.forEach(e=>{"string"!=typeof e&&Object.keys(e).forEach(i=>{if(!this._driver.validateStyleProperty(i))return void t.errors.push(`The provided animation property "${i}" is not a supported CSS property for animations`);const r=t.collectedStyles[t.currentQuerySelector],s=r[i];let a=!0;s&&(o!=n&&o>=s.startTime&&n<=s.endTime&&(t.errors.push(`The CSS property "${i}" that exists between the times of "${s.startTime}ms" and "${s.endTime}ms" is also being animated in a parallel animation between the times of "${o}ms" and "${n}ms"`),a=!1),o=s.startTime),a&&(r[i]={startTime:o,endTime:n}),t.options&&function(e,t,i){const n=t.params||{},o=Se(e);o.length&&o.forEach(e=>{n.hasOwnProperty(e)||i.push(`Unable to resolve the local animation param ${e} in the given list of values`)})}(e[i],t.options,t.errors)})})}visitKeyframes(e,t){const i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push("keyframes() must be placed inside of a call to animate()"),i;let n=0;const o=[];let r=!1,s=!1,a=0;const l=e.steps.map(e=>{const i=this._makeStyleAst(e,t);let l=null!=i.offset?i.offset:function(e){if("string"==typeof e)return null;let t=null;if(Array.isArray(e))e.forEach(e=>{if(Ke(e)&&e.hasOwnProperty("offset")){const i=e;t=parseFloat(i.offset),delete i.offset}});else if(Ke(e)&&e.hasOwnProperty("offset")){const i=e;t=parseFloat(i.offset),delete i.offset}return t}(i.styles),c=0;return null!=l&&(n++,c=i.offset=l),s=s||c<0||c>1,r=r||c<a,a=c,o.push(c),i});s&&t.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),r&&t.errors.push("Please ensure that all keyframe offsets are in order");const c=e.steps.length;let h=0;n>0&&n<c?t.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==n&&(h=1/(c-1));const u=c-1,d=t.currentTime,p=t.currentAnimateTimings,g=p.duration;return l.forEach((e,n)=>{const r=h>0?n==u?1:h*n:o[n],s=r*g;t.currentTime=d+p.delay+s,p.duration=s,this._validateStyleAst(e,t),e.offset=r,i.styles.push(e)}),i}visitReference(e,t){return{type:8,animation:Le(this,Ze(e.animation),t),options:We(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:We(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:We(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,n=e.options||{};t.queryCount++,t.currentQuery=e;const[o,r]=function(e){const t=!!e.split(/\s*,\s*/).find(e=>":self"==e);return t&&(e=e.replace(He,"")),[e=e.replace(/@\*/g,ge).replace(/@\w+/g,e=>ge+"-"+e.substr(1)).replace(/:animating/g,me),t]}(e.selector);t.currentQuerySelector=i.length?i+" "+o:o,j(t.collectedStyles,t.currentQuerySelector,{});const s=Le(this,Ze(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:o,limit:n.limit||0,optional:!!n.optional,includeSelf:r,animation:s,originalSelector:e.selector,options:We(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push("stagger() can only be used inside of query()");const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:ye(e.timings,t.errors,!0);return{type:12,animation:Le(this,Ze(e.animation),t),timings:i,options:null}}}class Ve{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function Ke(e){return!Array.isArray(e)&&"object"==typeof e}function We(e){return e?(e=be(e)).params&&(e.params=function(e){return e?be(e):null}(e.params)):e={},e}function Ge(e,t,i){return{duration:e,delay:t,easing:i}}function Ye(e,t,i,n,o,r,s=null,a=!1){return{type:1,element:e,keyframes:t,preStyleProps:i,postStyleProps:n,duration:o,delay:r,totalTime:o+r,easing:s,subTimeline:a}}class je{constructor(){this._map=new Map}consume(e){let t=this._map.get(e);return t?this._map.delete(e):t=[],t}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const Xe=new RegExp(":enter","g"),Je=new RegExp(":leave","g");function Qe(e,t,i,n,o,r={},s={},a,l,c=[]){return(new et).buildKeyframes(e,t,i,n,o,r,s,a,l,c)}class et{buildKeyframes(e,t,i,n,o,r,s,a,l,c=[]){l=l||new je;const h=new it(e,t,l,n,o,c,[]);h.options=a,h.currentTimeline.setStyles([r],null,h.errors,a),Le(this,i,h);const u=h.timelines.filter(e=>e.containsAnimation());if(u.length&&Object.keys(s).length){const e=u[u.length-1];e.allowOnlyTimelineStyles()||e.setStyles([s],null,h.errors,a)}return u.length?u.map(e=>e.buildKeyframes()):[Ye(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.consume(t.element);if(i){const n=t.createSubContext(e.options),o=t.currentTimeline.currentTime,r=this._visitSubInstructions(i,n,n.options);o!=r&&t.transformIntoNewTimeline(r)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,i){let n=t.currentTimeline.currentTime;const o=null!=i.duration?_e(i.duration):null,r=null!=i.delay?_e(i.delay):null;return 0!==o&&e.forEach(e=>{const i=t.appendInstructionToTimeline(e,o,r);n=Math.max(n,i.duration+i.delay)}),n}visitReference(e,t){t.updateOptions(e.options,!0),Le(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let n=t;const o=e.options;if(o&&(o.params||o.delay)&&(n=t.createSubContext(o),n.transformIntoNewTimeline(),null!=o.delay)){6==n.previousNode.type&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=tt);const e=_e(o.delay);n.delayNextStep(e)}e.steps.length&&(e.steps.forEach(e=>Le(this,e,n)),n.currentTimeline.applyStylesToKeyframe(),n.subContextCount>i&&n.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let n=t.currentTimeline.currentTime;const o=e.options&&e.options.delay?_e(e.options.delay):0;e.steps.forEach(r=>{const s=t.createSubContext(e.options);o&&s.delayNextStep(o),Le(this,r,s),n=Math.max(n,s.currentTimeline.currentTime),i.push(s.currentTimeline)}),i.forEach(e=>t.currentTimeline.mergeTimelineCollectedStyles(e)),t.transformIntoNewTimeline(n),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return ye(t.params?Ee(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),n=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),n.snapshotCurrentStyles());const o=e.style;5==o.type?this.visitKeyframes(o,t):(t.incrementTime(i.duration),this.visitStyle(o,t),n.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,n=t.currentAnimateTimings;!n&&i.getCurrentStyleProperties().length&&i.forwardFrame();const o=n&&n.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(o):i.setStyles(e.styles,o,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,n=t.currentTimeline.duration,o=i.duration,r=t.createSubContext().currentTimeline;r.easing=i.easing,e.styles.forEach(e=>{r.forwardTime((e.offset||0)*o),r.setStyles(e.styles,e.easing,t.errors,t.options),r.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(r),t.transformIntoNewTimeline(n+o),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,n=e.options||{},o=n.delay?_e(n.delay):0;o&&(6===t.previousNode.type||0==i&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=tt);let r=i;const s=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!n.optional,t.errors);t.currentQueryTotal=s.length;let a=null;s.forEach((i,n)=>{t.currentQueryIndex=n;const s=t.createSubContext(e.options,i);o&&s.delayNextStep(o),i===t.element&&(a=s.currentTimeline),Le(this,e.animation,s),s.currentTimeline.applyStylesToKeyframe(),r=Math.max(r,s.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(r),a&&(t.currentTimeline.mergeTimelineCollectedStyles(a),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,n=t.currentTimeline,o=e.timings,r=Math.abs(o.duration),s=r*(t.currentQueryTotal-1);let a=r*t.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":a=s-a;break;case"full":a=i.currentStaggerTime}const l=t.currentTimeline;a&&l.delayNextStep(a);const c=l.currentTime;Le(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=n.currentTime-c+(n.startTime-i.currentTimeline.startTime)}}const tt={};class it{constructor(e,t,i,n,o,r,s,a){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=n,this._leaveClassName=o,this.errors=r,this.timelines=s,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=tt,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new nt(this._driver,t,0),s.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let n=this.options;null!=i.duration&&(n.duration=_e(i.duration)),null!=i.delay&&(n.delay=_e(i.delay));const o=i.params;if(o){let e=n.params;e||(e=this.options.params={}),Object.keys(o).forEach(i=>{(!t||!e.hasOwnProperty(i))&&(e[i]=Ee(o[i],e,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(e=>{i[e]=t[e]})}}return e}createSubContext(e=null,t,i){const n=t||this.element,o=new it(this._driver,n,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(n,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=tt,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const n={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=i?i:0)+e.delay,easing:""},o=new ot(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,n,e.stretchStartingKeyframe);return this.timelines.push(o),n}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,n,o,r){let s=[];if(n&&s.push(this.element),e.length>0){e=(e=e.replace(Xe,"."+this._enterClassName)).replace(Je,"."+this._leaveClassName);let t=this._driver.query(this.element,e,1!=i);0!==i&&(t=i<0?t.slice(t.length+i,t.length):t.slice(0,i)),s.push(...t)}return!o&&0==s.length&&r.push(`\`query("${t}")\` returned zero elements. (Use \`query("${t}", { optional: true })\` if you wish to allow this.)`),s}}class nt{constructor(e,t,i,n){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=n,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new nt(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(e=>{this._backFill[e]=this._globalTimelineStyles[e]||H.l3,this._currentKeyframe[e]=H.l3}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,n){t&&(this._previousKeyframe.easing=t);const o=n&&n.params||{},r=function(e,t){const i={};let n;return e.forEach(e=>{"*"===e?(n=n||Object.keys(t),n.forEach(e=>{i[e]=H.l3})):we(e,!1,i)}),i}(e,this._globalTimelineStyles);Object.keys(r).forEach(e=>{const t=Ee(r[e],o,i);this._pendingStyles[e]=t,this._localTimelineStyles.hasOwnProperty(e)||(this._backFill[e]=this._globalTimelineStyles.hasOwnProperty(e)?this._globalTimelineStyles[e]:H.l3),this._updateStyle(e,t)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(t=>{this._currentKeyframe[t]=e[t]}),Object.keys(this._localTimelineStyles).forEach(e=>{this._currentKeyframe.hasOwnProperty(e)||(this._currentKeyframe[e]=this._localTimelineStyles[e])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const i=this._styleSummary[t],n=e._styleSummary[t];(!i||n.time>i.time)&&this._updateStyle(t,n.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let n=[];this._keyframes.forEach((o,r)=>{const s=we(o,!0);Object.keys(s).forEach(i=>{const n=s[i];n==H.k1?e.add(i):n==H.l3&&t.add(i)}),i||(s.offset=r/this.duration),n.push(s)});const o=e.size?Me(e.values()):[],r=t.size?Me(t.values()):[];if(i){const e=n[0],t=be(e);e.offset=0,t.offset=1,n=[e,t]}return Ye(this.element,n,o,r,this.duration,this.startTime,this.easing,!1)}}class ot extends nt{constructor(e,t,i,n,o,r,s=!1){super(e,t,r.delay),this.keyframes=i,this.preStyleProps=n,this.postStyleProps=o,this._stretchStartingKeyframe=s,this.timings={duration:r.duration,delay:r.delay,easing:r.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:n}=this.timings;if(this._stretchStartingKeyframe&&t){const o=[],r=i+t,s=t/r,a=we(e[0],!1);a.offset=0,o.push(a);const l=we(e[0],!1);l.offset=rt(s),o.push(l);const c=e.length-1;for(let n=1;n<=c;n++){let s=we(e[n],!1);s.offset=rt((t+s.offset*i)/r),o.push(s)}i=r,t=0,n="",e=o}return Ye(this.element,e,this.preStyleProps,this.postStyleProps,i,t,n,!0)}}function rt(e,t=3){const i=Math.pow(10,t-1);return Math.round(e*i)/i}class st{}class at extends st{normalizePropertyName(e,t){return Ie(e)}normalizeStyleValue(e,t,i,n){let o="";const r=i.toString().trim();if(lt[t]&&0!==i&&"0"!==i)if("number"==typeof i)o="px";else{const t=i.match(/^[+-]?[\d\.]+([a-z]*)$/);t&&0==t[1].length&&n.push(`Please provide a CSS unit value for ${e}:${i}`)}return r+o}}const lt=(()=>function(e){const t={};return e.forEach(e=>t[e]=!0),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function ct(e,t,i,n,o,r,s,a,l,c,h,u,d){return{type:0,element:e,triggerName:t,isRemovalTransition:o,fromState:i,fromStyles:r,toState:n,toStyles:s,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:h,totalTime:u,errors:d}}const ht={};class ut{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,n){return function(e,t,i,n,o){return e.some(e=>e(t,i,n,o))}(this.ast.matchers,e,t,i,n)}buildStyles(e,t,i){const n=this._stateStyles["*"],o=this._stateStyles[e],r=n?n.buildStyles(t,i):{};return o?o.buildStyles(t,i):r}build(e,t,i,n,o,r,s,a,l,c){const h=[],u=this.ast.options&&this.ast.options.params||ht,d=this.buildStyles(i,s&&s.params||ht,h),p=a&&a.params||ht,g=this.buildStyles(n,p,h),f=new Set,m=new Map,_=new Map,v="void"===n,y={params:Object.assign(Object.assign({},u),p)},b=c?[]:Qe(e,t,this.ast.animation,o,r,d,g,y,l,h);let w=0;if(b.forEach(e=>{w=Math.max(e.duration+e.delay,w)}),h.length)return ct(t,this._triggerName,i,n,v,d,g,[],[],m,_,w,h);b.forEach(e=>{const i=e.element,n=j(m,i,{});e.preStyleProps.forEach(e=>n[e]=!0);const o=j(_,i,{});e.postStyleProps.forEach(e=>o[e]=!0),i!==t&&f.add(i)});const A=Me(f.values());return ct(t,this._triggerName,i,n,v,d,g,b,A,m,_,w)}}class dt{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i={},n=be(this.defaultParams);return Object.keys(e).forEach(t=>{const i=e[t];null!=i&&(n[t]=i)}),this.styles.styles.forEach(e=>{if("string"!=typeof e){const o=e;Object.keys(o).forEach(e=>{let r=o[e];r.length>1&&(r=Ee(r,n,t));const s=this.normalizer.normalizePropertyName(e,t);r=this.normalizer.normalizeStyleValue(e,s,r,t),i[s]=r})}}),i}}class pt{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states={},t.states.forEach(e=>{this.states[e.name]=new dt(e.style,e.options&&e.options.params||{},i)}),gt(this.states,"true","1"),gt(this.states,"false","0"),t.transitions.forEach(t=>{this.transitionFactories.push(new ut(e,t,this.states))}),this.fallbackTransition=function(e,t,i){return new ut(e,{type:1,animation:{type:2,steps:[],options:null},matchers:[(e,t)=>!0],options:null,queryCount:0,depCount:0},t)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,n){return this.transitionFactories.find(o=>o.match(e,t,i,n))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function gt(e,t,i){e.hasOwnProperty(t)?e.hasOwnProperty(i)||(e[i]=e[t]):e.hasOwnProperty(i)&&(e[t]=e[i])}const ft=new je;class mt{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations={},this._playersById={},this.players=[]}register(e,t){const i=[],n=$e(this._driver,t,i);if(i.length)throw new Error(`Unable to build the animation due to the following errors: ${i.join("\n")}`);this._animations[e]=n}_buildPlayer(e,t,i){const n=e.element,o=K(0,this._normalizer,0,e.keyframes,t,i);return this._driver.animate(n,o,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const n=[],o=this._animations[e];let r;const s=new Map;if(o?(r=Qe(this._driver,t,o,ue,de,{},{},i,ft,n),r.forEach(e=>{const t=j(s,e.element,{});e.postStyleProps.forEach(e=>t[e]=null)})):(n.push("The requested animation doesn't exist or has already been destroyed"),r=[]),n.length)throw new Error(`Unable to create the animation due to the following errors: ${n.join("\n")}`);s.forEach((e,t)=>{Object.keys(e).forEach(i=>{e[i]=this._driver.computeStyle(t,i,H.l3)})});const a=V(r.map(e=>{const t=s.get(e.element);return this._buildPlayer(e,{},t)}));return this._playersById[e]=a,a.onDestroy(()=>this.destroy(e)),this.players.push(a),a}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw new Error(`Unable to find the timeline player referenced by ${e}`);return t}listen(e,t,i,n){const o=Y(t,"","","");return W(this._getPlayer(e),i,o,n),()=>{}}command(e,t,i,n){if("register"==i)return void this.register(e,n[0]);if("create"==i)return void this.create(e,t,n[0]||{});const o=this._getPlayer(e);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(n[0]));break;case"destroy":this.destroy(e)}}}const _t="ng-animate-queued",vt="ng-animate-disabled",yt=".ng-animate-disabled",bt=[],wt={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},At={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},xt="__ng_removed";class Tt{constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=null!=(n=i?e.value:e)?n:null,i){const t=be(e);delete t.value,this.options=t}else this.options={};var n;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const e=this.options.params;Object.keys(t).forEach(i=>{null==e[i]&&(e[i]=t[i])})}}}const Ct="void",Zt=new Tt(Ct);class kt{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,qt(t,this._hostClassName)}listen(e,t,i,n){if(!this._triggers.hasOwnProperty(t))throw new Error(`Unable to listen on the animation trigger event "${i}" because the animation trigger "${t}" doesn't exist!`);if(null==i||0==i.length)throw new Error(`Unable to listen on the animation trigger "${t}" because the provided event is undefined!`);if("start"!=(o=i)&&"done"!=o)throw new Error(`The provided animation trigger event "${i}" for the animation trigger "${t}" is not supported!`);var o;const r=j(this._elementListeners,e,[]),s={name:t,phase:i,callback:n};r.push(s);const a=j(this._engine.statesByElement,e,{});return a.hasOwnProperty(t)||(qt(e,pe),qt(e,pe+"-"+t),a[t]=Zt),()=>{this._engine.afterFlush(()=>{const e=r.indexOf(s);e>=0&&r.splice(e,1),this._triggers[t]||delete a[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw new Error(`The provided animation trigger "${e}" has not been registered!`);return t}trigger(e,t,i,n=!0){const o=this._getTrigger(t),r=new Et(this.id,t,e);let s=this._engine.statesByElement.get(e);s||(qt(e,pe),qt(e,pe+"-"+t),this._engine.statesByElement.set(e,s={}));let a=s[t];const l=new Tt(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&a&&l.absorbOptions(a.options),s[t]=l,a||(a=Zt),l.value!==Ct&&a.value===l.value){if(!function(e,t){const i=Object.keys(e),n=Object.keys(t);if(i.length!=n.length)return!1;for(let o=0;o<i.length;o++){const n=i[o];if(!t.hasOwnProperty(n)||e[n]!==t[n])return!1}return!0}(a.params,l.params)){const t=[],i=o.matchStyles(a.value,a.params,t),n=o.matchStyles(l.value,l.params,t);t.length?this._engine.reportError(t):this._engine.afterFlush(()=>{Ce(e,i),Te(e,n)})}return}const c=j(this._engine.playersByElement,e,[]);c.forEach(e=>{e.namespaceId==this.id&&e.triggerName==t&&e.queued&&e.destroy()});let h=o.matchTransition(a.value,l.value,e,l.params),u=!1;if(!h){if(!n)return;h=o.fallbackTransition,u=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:h,fromState:a,toState:l,player:r,isFallbackTransition:u}),u||(qt(e,_t),r.onStart(()=>{Lt(e,_t)})),r.onDone(()=>{let t=this.players.indexOf(r);t>=0&&this.players.splice(t,1);const i=this._engine.playersByElement.get(e);if(i){let e=i.indexOf(r);e>=0&&i.splice(e,1)}}),this.players.push(r),c.push(r),r}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,i)=>{delete t[e]}),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(t=>t.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(e=>e.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,ge,!0);i.forEach(e=>{if(e[xt])return;const i=this._engine.fetchNamespacesByElement(e);i.size?i.forEach(i=>i.triggerLeaveAnimation(e,t,!1,!0)):this.clearElementCache(e)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(e=>this.clearElementCache(e)))}triggerLeaveAnimation(e,t,i,n){const o=this._engine.statesByElement.get(e);if(o){const r=[];if(Object.keys(o).forEach(t=>{if(this._triggers[t]){const i=this.trigger(e,t,Ct,n);i&&r.push(i)}}),r.length)return this._engine.markElementAsRemoved(this.id,e,!0,t),i&&V(r).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const n=new Set;t.forEach(t=>{const o=t.name;if(n.has(o))return;n.add(o);const r=this._triggers[o].fallbackTransition,s=i[o]||Zt,a=new Tt(Ct),l=new Et(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:r,fromState:s,toState:a,player:l,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let n=!1;if(i.totalAnimations){const t=i.players.length?i.playersByQueriedElement.get(e):[];if(t&&t.length)n=!0;else{let t=e;for(;t=t.parentNode;)if(i.statesByElement.get(t)){n=!0;break}}}if(this.prepareLeaveAnimationListeners(e),n)i.markElementAsRemoved(this.id,e,!1,t);else{const n=e[xt];(!n||n===wt)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){qt(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const n=i.player;if(n.destroyed)return;const o=i.element,r=this._elementListeners.get(o);r&&r.forEach(t=>{if(t.name==i.triggerName){const n=Y(o,i.triggerName,i.fromState.value,i.toState.value);n._data=e,W(i.player,t.phase,n,t.callback)}}),n.markedForDestroy?this._engine.afterFlush(()=>{n.destroy()}):t.push(i)}),this._queue=[],t.sort((e,t)=>{const i=e.transition.ast.depCount,n=t.transition.ast.depCount;return 0==i||0==n?i-n:this._engine.driver.containsElement(e.element,t.element)?1:-1})}destroy(e){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(t=>t.element===e)||t,t}}class St{constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(e,t)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(t=>{t.queued&&e.push(t)})}),e}createNamespace(e,t){const i=new kt(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList.length-1;if(i>=0){let n=!1;for(let o=i;o>=0;o--)if(this.driver.containsElement(this._namespaceList[o].hostElement,t)){this._namespaceList.splice(o+1,0,e),n=!0;break}n||this._namespaceList.splice(0,0,e)}else this._namespaceList.push(e);return this.namespacesByHostElement.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let n=this._namespaceLookup[e];n&&n.register(t,i)&&this.totalAnimations++}destroy(e,t){if(!e)return;const i=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[e];const t=this._namespaceList.indexOf(i);t>=0&&this._namespaceList.splice(t,1)}),this.afterFlushAnimationsDone(()=>i.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i){const e=Object.keys(i);for(let n=0;n<e.length;n++){const o=i[e[n]].namespaceId;if(o){const e=this._fetchNamespace(o);e&&t.add(e)}}}return t}trigger(e,t,i,n){if(Mt(t)){const o=this._fetchNamespace(e);if(o)return o.trigger(t,i,n),!0}return!1}insertNode(e,t,i,n){if(!Mt(t))return;const o=t[xt];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const e=this.collectedLeaveElements.indexOf(t);e>=0&&this.collectedLeaveElements.splice(e,1)}if(e){const n=this._fetchNamespace(e);n&&n.insertNode(t,i)}n&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),qt(e,vt)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Lt(e,vt))}removeNode(e,t,i,n){if(Mt(t)){const o=e?this._fetchNamespace(e):null;if(o?o.removeNode(t,n):this.markElementAsRemoved(e,t,!1,n),i){const i=this.namespacesByHostElement.get(t);i&&i.id!==e&&i.removeNode(t,n)}}else this._onRemovalComplete(t,n)}markElementAsRemoved(e,t,i,n){this.collectedLeaveElements.push(t),t[xt]={namespaceId:e,setForRemoval:n,hasAnimation:i,removedBeforeQueried:!1}}listen(e,t,i,n,o){return Mt(t)?this._fetchNamespace(e).listen(t,i,n,o):()=>{}}_buildInstruction(e,t,i,n,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,n,e.fromState.options,e.toState.options,t,o)}destroyInnerAnimations(e){let t=this.driver.query(e,ge,!0);t.forEach(e=>this.destroyActiveAnimationsForElement(e)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,me,!0),t.forEach(e=>this.finishActiveQueriedAnimationOnElement(e)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(e=>{e.queued?e.markedForDestroy=!0:e.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(e=>e.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return V(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[xt];if(t&&t.setForRemoval){if(e[xt]=wt,t.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}this.driver.matchesElement(e,yt)&&this.markElementAsDisabled(e,!1),this.driver.query(e,yt,!0).forEach(e=>{this.markElementAsDisabled(e,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((e,t)=>this._balanceNamespaceList(e,t)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)qt(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let e=0;e<i.length;e++)i[e]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(e=>e()),this._flushFns=[],this._whenQuietFns.length){const e=this._whenQuietFns;this._whenQuietFns=[],t.length?V(t).onDone(()=>{e.forEach(e=>e())}):e.forEach(e=>e())}}reportError(e){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${e.join("\n")}`)}_flushAnimations(e,t){const i=new je,n=[],o=new Map,r=[],s=new Map,a=new Map,l=new Map,c=new Set;this.disabledNodes.forEach(e=>{c.add(e);const t=this.driver.query(e,".ng-animate-queued",!0);for(let i=0;i<t.length;i++)c.add(t[i])});const h=this.bodyNode,u=Array.from(this.statesByElement.keys()),d=Pt(u,this.collectedEnterElements),p=new Map;let g=0;d.forEach((e,t)=>{const i=ue+g++;p.set(t,i),e.forEach(e=>qt(e,i))});const f=[],m=new Set,_=new Set;for(let M=0;M<this.collectedLeaveElements.length;M++){const e=this.collectedLeaveElements[M],t=e[xt];t&&t.setForRemoval&&(f.push(e),m.add(e),t.hasAnimation?this.driver.query(e,".ng-star-inserted",!0).forEach(e=>m.add(e)):_.add(e))}const v=new Map,y=Pt(u,Array.from(m));y.forEach((e,t)=>{const i=de+g++;v.set(t,i),e.forEach(e=>qt(e,i))}),e.push(()=>{d.forEach((e,t)=>{const i=p.get(t);e.forEach(e=>Lt(e,i))}),y.forEach((e,t)=>{const i=v.get(t);e.forEach(e=>Lt(e,i))}),f.forEach(e=>{this.processLeaveNode(e)})});const b=[],w=[];for(let M=this._namespaceList.length-1;M>=0;M--)this._namespaceList[M].drainQueuedTransitions(t).forEach(e=>{const t=e.player,o=e.element;if(b.push(t),this.collectedEnterElements.length){const e=o[xt];if(e&&e.setForMove)return void t.destroy()}const c=!h||!this.driver.containsElement(h,o),u=v.get(o),d=p.get(o),g=this._buildInstruction(e,i,d,u,c);if(g.errors&&g.errors.length)w.push(g);else{if(c)return t.onStart(()=>Ce(o,g.fromStyles)),t.onDestroy(()=>Te(o,g.toStyles)),void n.push(t);if(e.isFallbackTransition)return t.onStart(()=>Ce(o,g.fromStyles)),t.onDestroy(()=>Te(o,g.toStyles)),void n.push(t);g.timelines.forEach(e=>e.stretchStartingKeyframe=!0),i.append(o,g.timelines),r.push({instruction:g,player:t,element:o}),g.queriedElements.forEach(e=>j(s,e,[]).push(t)),g.preStyleProps.forEach((e,t)=>{const i=Object.keys(e);if(i.length){let e=a.get(t);e||a.set(t,e=new Set),i.forEach(t=>e.add(t))}}),g.postStyleProps.forEach((e,t)=>{const i=Object.keys(e);let n=l.get(t);n||l.set(t,n=new Set),i.forEach(e=>n.add(e))})}});if(w.length){const e=[];w.forEach(t=>{e.push(`@${t.triggerName} has failed due to:\n`),t.errors.forEach(t=>e.push(`- ${t}\n`))}),b.forEach(e=>e.destroy()),this.reportError(e)}const A=new Map,x=new Map;r.forEach(e=>{const t=e.element;i.has(t)&&(x.set(t,t),this._beforeAnimationBuild(e.player.namespaceId,e.instruction,A))}),n.forEach(e=>{const t=e.element;this._getPreviousPlayers(t,!1,e.namespaceId,e.triggerName,null).forEach(e=>{j(A,t,[]).push(e),e.destroy()})});const T=f.filter(e=>Dt(e,a,l)),C=new Map;It(C,this.driver,_,l,H.l3).forEach(e=>{Dt(e,a,l)&&T.push(e)});const Z=new Map;d.forEach((e,t)=>{It(Z,this.driver,new Set(e),a,H.k1)}),T.forEach(e=>{const t=C.get(e),i=Z.get(e);C.set(e,Object.assign(Object.assign({},t),i))});const k=[],S=[],E={};r.forEach(e=>{const{element:t,player:r,instruction:s}=e;if(i.has(t)){if(c.has(t))return r.onDestroy(()=>Te(t,s.toStyles)),r.disabled=!0,r.overrideTotalTime(s.totalTime),void n.push(r);let e=E;if(x.size>1){let i=t;const n=[];for(;i=i.parentNode;){const t=x.get(i);if(t){e=t;break}n.push(i)}n.forEach(t=>x.set(t,e))}const i=this._buildAnimation(r.namespaceId,s,A,o,Z,C);if(r.setRealPlayer(i),e===E)k.push(r);else{const t=this.playersByElement.get(e);t&&t.length&&(r.parentPlayer=V(t)),n.push(r)}}else Ce(t,s.fromStyles),r.onDestroy(()=>Te(t,s.toStyles)),S.push(r),c.has(t)&&n.push(r)}),S.forEach(e=>{const t=o.get(e.element);if(t&&t.length){const i=V(t);e.setRealPlayer(i)}}),n.forEach(e=>{e.parentPlayer?e.syncPlayerEvents(e.parentPlayer):e.destroy()});for(let M=0;M<f.length;M++){const e=f[M],t=e[xt];if(Lt(e,de),t&&t.hasAnimation)continue;let i=[];if(s.size){let t=s.get(e);t&&t.length&&i.push(...t);let n=this.driver.query(e,me,!0);for(let e=0;e<n.length;e++){let t=s.get(n[e]);t&&t.length&&i.push(...t)}}const n=i.filter(e=>!e.destroyed);n.length?Ut(this,e,n):this.processLeaveNode(e)}return f.length=0,k.forEach(e=>{this.players.push(e),e.onDone(()=>{e.destroy();const t=this.players.indexOf(e);this.players.splice(t,1)}),e.play()}),k}elementContainsData(e,t){let i=!1;const n=t[xt];return n&&n.setForRemoval&&(i=!0),this.playersByElement.has(t)&&(i=!0),this.playersByQueriedElement.has(t)&&(i=!0),this.statesByElement.has(t)&&(i=!0),this._fetchNamespace(e).elementContainsData(t)||i}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,n,o){let r=[];if(t){const t=this.playersByQueriedElement.get(e);t&&(r=t)}else{const t=this.playersByElement.get(e);if(t){const e=!o||o==Ct;t.forEach(t=>{t.queued||!e&&t.triggerName!=n||r.push(t)})}}return(i||n)&&(r=r.filter(e=>!(i&&i!=e.namespaceId||n&&n!=e.triggerName))),r}_beforeAnimationBuild(e,t,i){const n=t.element,o=t.isRemovalTransition?void 0:e,r=t.isRemovalTransition?void 0:t.triggerName;for(const s of t.timelines){const e=s.element,a=e!==n,l=j(i,e,[]);this._getPreviousPlayers(e,a,o,r,t.toState).forEach(e=>{const t=e.getRealPlayer();t.beforeDestroy&&t.beforeDestroy(),e.destroy(),l.push(e)})}Ce(n,t.fromStyles)}_buildAnimation(e,t,i,n,o,r){const s=t.triggerName,a=t.element,l=[],c=new Set,h=new Set,u=t.timelines.map(t=>{const u=t.element;c.add(u);const d=u[xt];if(d&&d.removedBeforeQueried)return new H.ZN(t.duration,t.delay);const p=u!==a,g=function(e){const t=[];return Bt(e,t),t}((i.get(u)||bt).map(e=>e.getRealPlayer())).filter(e=>!!e.element&&e.element===u),f=o.get(u),m=r.get(u),_=K(0,this._normalizer,0,t.keyframes,f,m),v=this._buildPlayer(t,_,g);if(t.subTimeline&&n&&h.add(u),p){const t=new Et(e,s,u);t.setRealPlayer(v),l.push(t)}return v});l.forEach(e=>{j(this.playersByQueriedElement,e.element,[]).push(e),e.onDone(()=>function(e,t,i){let n;if(e instanceof Map){if(n=e.get(t),n){if(n.length){const e=n.indexOf(i);n.splice(e,1)}0==n.length&&e.delete(t)}}else if(n=e[t],n){if(n.length){const e=n.indexOf(i);n.splice(e,1)}0==n.length&&delete e[t]}return n}(this.playersByQueriedElement,e.element,e))}),c.forEach(e=>qt(e,fe));const d=V(u);return d.onDestroy(()=>{c.forEach(e=>Lt(e,fe)),Te(a,t.toStyles)}),h.forEach(e=>{j(n,e,[]).push(d)}),d}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new H.ZN(e.duration,e.delay)}}class Et{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new H.ZN,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(i=>W(e,t,void 0,i))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){j(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function Mt(e){return e&&1===e.nodeType}function Ot(e,t){const i=e.style.display;return e.style.display=null!=t?t:"none",i}function It(e,t,i,n,o){const r=[];i.forEach(e=>r.push(Ot(e)));const s=[];n.forEach((i,n)=>{const r={};i.forEach(e=>{const i=r[e]=t.computeStyle(n,e,o);(!i||0==i.length)&&(n[xt]=At,s.push(n))}),e.set(n,r)});let a=0;return i.forEach(e=>Ot(e,r[a++])),s}function Pt(e,t){const i=new Map;if(e.forEach(e=>i.set(e,[])),0==t.length)return i;const n=new Set(t),o=new Map;function r(e){if(!e)return 1;let t=o.get(e);if(t)return t;const s=e.parentNode;return t=i.has(s)?s:n.has(s)?1:r(s),o.set(e,t),t}return t.forEach(e=>{const t=r(e);1!==t&&i.get(t).push(e)}),i}const Rt="$$classes";function qt(e,t){if(e.classList)e.classList.add(t);else{let i=e[Rt];i||(i=e[Rt]={}),i[t]=!0}}function Lt(e,t){if(e.classList)e.classList.remove(t);else{let i=e[Rt];i&&delete i[t]}}function Ut(e,t,i){V(i).onDone(()=>e.processLeaveNode(t))}function Bt(e,t){for(let i=0;i<e.length;i++){const n=e[i];n instanceof H.ZE?Bt(n.players,t):t.push(n)}}function Dt(e,t,i){const n=i.get(e);if(!n)return!1;let o=t.get(e);return o?n.forEach(e=>o.add(e)):t.set(e,n),i.delete(e),!0}class Nt{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(e,t)=>{},this._transitionEngine=new St(e,t,i),this._timelineEngine=new mt(e,t,i),this._transitionEngine.onRemovalComplete=(e,t)=>this.onRemovalComplete(e,t)}registerTrigger(e,t,i,n,o){const r=e+"-"+n;let s=this._triggerCache[r];if(!s){const e=[],t=$e(this._driver,o,e);if(e.length)throw new Error(`The animation trigger "${n}" has failed to build due to the following errors:\n - ${e.join("\n - ")}`);s=function(e,t,i){return new pt(e,t,i)}(n,t,this._normalizer),this._triggerCache[r]=s}this._transitionEngine.registerTrigger(t,n,s)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,n){this._transitionEngine.insertNode(e,t,i,n)}onRemove(e,t,i,n){this._transitionEngine.removeNode(e,t,n||!1,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,n){if("@"==i.charAt(0)){const[e,o]=X(i);this._timelineEngine.command(e,t,o,n)}else this._transitionEngine.trigger(e,t,i,n)}listen(e,t,i,n,o){if("@"==i.charAt(0)){const[e,n]=X(i);return this._timelineEngine.listen(e,t,n,o)}return this._transitionEngine.listen(e,t,i,n,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function Ft(e,t){let i=null,n=null;return Array.isArray(t)&&t.length?(i=$t(t[0]),t.length>1&&(n=$t(t[t.length-1]))):t&&(i=$t(t)),i||n?new Ht(e,i,n):null}let Ht=(()=>{class e{constructor(t,i,n){this._element=t,this._startStyles=i,this._endStyles=n,this._state=0;let o=e.initialStylesByElement.get(t);o||e.initialStylesByElement.set(t,o={}),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&Te(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Te(this._element,this._initialStyles),this._endStyles&&(Te(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(e.initialStylesByElement.delete(this._element),this._startStyles&&(Ce(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Ce(this._element,this._endStyles),this._endStyles=null),Te(this._element,this._initialStyles),this._state=3)}}return e.initialStylesByElement=new WeakMap,e})();function $t(e){let t=null;const i=Object.keys(e);for(let n=0;n<i.length;n++){const o=i[n];zt(o)&&(t=t||{},t[o]=e[o])}return t}function zt(e){return"display"===e||"position"===e}const Vt="animation",Kt="animationend";class Wt{constructor(e,t,i,n,o,r,s){this._element=e,this._name=t,this._duration=i,this._delay=n,this._easing=o,this._fillMode=r,this._onDoneFn=s,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=e=>this._handleCallback(e)}apply(){(function(e,t){const i=Qt(e,"").trim();let n=0;i.length&&(function(e,t){let i=0;for(let n=0;n<e.length;n++)","===e.charAt(n)&&i++;return i}(i)+1,t=`${i}, ${t}`),Jt(e,"",t)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),Xt(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){Gt(this._element,this._name,"paused")}resume(){Gt(this._element,this._name,"running")}setPosition(e){const t=Yt(this._element,this._name);this._position=e*this._duration,Jt(this._element,"Delay",`-${this._position}ms`,t)}getPosition(){return this._position}_handleCallback(e){const t=e._ngTestManualTimestamp||Date.now(),i=1e3*parseFloat(e.elapsedTime.toFixed(3));e.animationName==this._name&&Math.max(t-this._startTime,0)>=this._delay&&i>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),Xt(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(e,t){const i=Qt(e,"").split(","),n=jt(i,t);n>=0&&(i.splice(n,1),Jt(e,"",i.join(",")))}(this._element,this._name))}}function Gt(e,t,i){Jt(e,"PlayState",i,Yt(e,t))}function Yt(e,t){const i=Qt(e,"");return i.indexOf(",")>0?jt(i.split(","),t):jt([i],t)}function jt(e,t){for(let i=0;i<e.length;i++)if(e[i].indexOf(t)>=0)return i;return-1}function Xt(e,t,i){i?e.removeEventListener(Kt,t):e.addEventListener(Kt,t)}function Jt(e,t,i,n){const o=Vt+t;if(null!=n){const t=e.style[o];if(t.length){const e=t.split(",");e[n]=i,i=e.join(",")}}e.style[o]=i}function Qt(e,t){return e.style[Vt+t]||""}class ei{constructor(e,t,i,n,o,r,s,a){this.element=e,this.keyframes=t,this.animationName=i,this._duration=n,this._delay=o,this._finalStyles=s,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=r||"linear",this.totalTime=n+o,this._buildStyler()}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(e=>e()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(e){this._styler.setPosition(e)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new Wt(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(e=>e()),t.length=0}beforeDestroy(){this.init();const e={};if(this.hasStarted()){const t=this._state>=3;Object.keys(this._finalStyles).forEach(i=>{"offset"!=i&&(e[i]=t?this._finalStyles[i]:Ue(this.element,i))})}this.currentSnapshot=e}}class ti extends H.ZN{constructor(e,t){super(),this.element=e,this._startingStyles={},this.__initialized=!1,this._styles=le(t)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(e=>{this._startingStyles[e]=this.element.style[e]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(e=>this.element.style.setProperty(e,this._styles[e])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(e=>{const t=this._startingStyles[e];t?this.element.style.setProperty(e,t):this.element.style.removeProperty(e)}),this._startingStyles=null,super.destroy())}}class ii{constructor(){this._count=0}validateStyleProperty(e){return oe(e)}matchesElement(e,t){return re(e,t)}containsElement(e,t){return se(e,t)}query(e,t,i){return ae(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}buildKeyframeElement(e,t,i){i=i.map(e=>le(e));let n=`@keyframes ${t} {\n`,o="";i.forEach(e=>{o=" ";const t=parseFloat(e.offset);n+=`${o}${100*t}% {\n`,o+=" ",Object.keys(e).forEach(t=>{const i=e[t];switch(t){case"offset":return;case"easing":return void(i&&(n+=`${o}animation-timing-function: ${i};\n`));default:return void(n+=`${o}${t}: ${i};\n`)}}),n+=`${o}}\n`}),n+="}\n";const r=document.createElement("style");return r.textContent=n,r}animate(e,t,i,n,o,r=[],s){const a=r.filter(e=>e instanceof ei),l={};Re(i,n)&&a.forEach(e=>{let t=e.currentSnapshot;Object.keys(t).forEach(e=>l[e]=t[e])});const c=function(e){let t={};return e&&(Array.isArray(e)?e:[e]).forEach(e=>{Object.keys(e).forEach(i=>{"offset"==i||"easing"==i||(t[i]=e[i])})}),t}(t=qe(e,t,l));if(0==i)return new ti(e,c);const h="gen_css_kf_"+this._count++,u=this.buildKeyframeElement(e,h,t);(function(e){var t;const i=null===(t=e.getRootNode)||void 0===t?void 0:t.call(e);return"undefined"!=typeof ShadowRoot&&i instanceof ShadowRoot?i:document.head})(e).appendChild(u);const d=Ft(e,t),p=new ei(e,t,h,i,n,o,c,d);return p.onDestroy(()=>{var e;(e=u).parentNode.removeChild(e)}),p}}class ni{constructor(e,t,i,n){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=n,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,i){return e.animate(t,i)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(t=>{"offset"!=t&&(e[t]=this._finished?this._finalKeyframe[t]:Ue(this.element,t))}),this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(e=>e()),t.length=0}}class oi{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(ri().toString()),this._cssKeyframesDriver=new ii}validateStyleProperty(e){return oe(e)}matchesElement(e,t){return re(e,t)}containsElement(e,t){return se(e,t)}query(e,t,i){return ae(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}overrideWebAnimationsSupport(e){this._isNativeImpl=e}animate(e,t,i,n,o,r=[],s){if(!s&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(e,t,i,n,o,r);const a={duration:i,delay:n,fill:0==n?"both":"forwards"};o&&(a.easing=o);const l={},c=r.filter(e=>e instanceof ni);Re(i,n)&&c.forEach(e=>{let t=e.currentSnapshot;Object.keys(t).forEach(e=>l[e]=t[e])});const h=Ft(e,t=qe(e,t=t.map(e=>we(e,!1)),l));return new ni(e,t,a,h)}}function ri(){return $()&&Element.prototype.animate||{}}let si=(()=>{class e extends H._j{constructor(e,t){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(t.body,{id:"0",encapsulation:o.ifc.None,styles:[],data:{animation:[]}})}build(e){const t=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(e)?(0,H.vP)(e):e;return ci(this._renderer,null,t,"register",[i]),new ai(t,this._renderer)}}return e.\u0275fac=function(t){return new(t||e)(o.LFG(o.FYo),o.LFG(n.K0))},e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac}),e})();class ai extends H.LC{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new li(this._id,e,t||{},this._renderer)}}class li{constructor(e,t,i,n){this.id=e,this.element=t,this._renderer=n,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return ci(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}function ci(e,t,i,n,o){return e.setProperty(t,`@@${i}:${n}`,o)}const hi="@.disabled";let ui=(()=>{class e{constructor(e,t,i){this.delegate=e,this.engine=t,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),t.onRemovalComplete=(e,t)=>{t&&t.parentNode(e)&&t.removeChild(e.parentNode,e)}}createRenderer(e,t){const i=this.delegate.createRenderer(e,t);if(!(e&&t&&t.data&&t.data.animation)){let e=this._rendererCache.get(i);return e||(e=new di("",i,this.engine),this._rendererCache.set(i,e)),e}const n=t.id,o=t.id+"-"+this._currentId;this._currentId++,this.engine.register(o,e);const r=t=>{Array.isArray(t)?t.forEach(r):this.engine.registerTrigger(n,o,e,t.name,t)};return t.data.animation.forEach(r),new pi(this,o,i,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,i){e>=0&&e<this._microtaskId?this._zone.run(()=>t(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(e=>{const[t,i]=e;t(i)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([t,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return e.\u0275fac=function(t){return new(t||e)(o.LFG(o.FYo),o.LFG(Nt),o.LFG(o.R0b))},e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac}),e})();class di{constructor(e,t,i){this.namespaceId=e,this.delegate=t,this.engine=i,this.destroyNode=this.delegate.destroyNode?e=>t.destroyNode(e):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,n=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,n)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate,i)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,n){this.delegate.setAttribute(e,t,i,n)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,n){this.delegate.setStyle(e,t,i,n)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==hi?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class pi extends di{constructor(e,t,i,n){super(t,i,n),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==hi?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.substr(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const n=function(e){switch(e){case"body":return document.body;case"document":return document;case"window":return window;default:return e}}(e);let o=t.substr(1),r="";return"@"!=o.charAt(0)&&([o,r]=function(e){const t=e.indexOf(".");return[e.substring(0,t),e.substr(t+1)]}(o)),this.engine.listen(this.namespaceId,n,o,r,e=>{this.factory.scheduleListenerCallback(e._data||-1,i,e)})}return this.delegate.listen(e,t,i)}}let gi=(()=>{class e extends Nt{constructor(e,t,i){super(e.body,t,i)}ngOnDestroy(){this.flush()}}return e.\u0275fac=function(t){return new(t||e)(o.LFG(n.K0),o.LFG(he),o.LFG(st))},e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac}),e})();const fi=new o.OlP("AnimationModuleType"),mi=[{provide:H._j,useClass:si},{provide:st,useFactory:function(){return new at}},{provide:Nt,useClass:gi},{provide:o.FYo,useFactory:function(e,t,i){return new ui(e,t,i)},deps:[Z,Nt,o.R0b]}],_i=[{provide:he,useFactory:function(){return"function"==typeof ri()?new oi:new ii}},{provide:fi,useValue:"BrowserAnimations"},...mi],vi=[{provide:he,useClass:ce},{provide:fi,useValue:"NoopAnimations"},...mi];let yi=(()=>{class e{static withConfig(t){return{ngModule:e,providers:t.disableAnimations?vi:_i}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({providers:_i,imports:[N]}),e})();var bi=i(81780);class wi{constructor(e,t="/assets/i18n/",i=".json"){this.http=e,this.prefix=t,this.suffix=i}getTranslation(e){return this.http.get(`${this.prefix}${e}${this.suffix}`)}}var Ai=i(90665),xi=i(36853),Ti=i(76246);function Ci(e){return new wi(e)}let Zi=(()=>{class e{constructor(e){e.setDefaultLang("en"),e.use("en")}}return e.\u0275fac=function(t){return new(t||e)(o.LFG(bi.sK))},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({providers:[],imports:[[n.ez,F.JF,Ai.u5,Ai.UX,xi.e4,yi,Ti.qZ,bi.aw.forRoot({loader:{provide:bi.Zw,useFactory:Ci,deps:[F.eN]}})],bi.aw,n.ez]}),e})();var ki=i(99263),Si=i(65126),Ei=i(67302),Mi=i(40342),Oi=i(61797);let Ii=(()=>{class e{constructor(e,t,i,n){this.service=e,this.el=t,this.renderer2=i,this.global=n,this.Alert_Blockly="122",this.exampleVisibility=!1,this.languageList=Ei.bn}ngOnInit(){this.Alert_Blockly=this.service.blockly_alert;var e,t,i=this;this.global.getAlert().subscribe({next:n=>{if(!n||i.Alert_Blockly===n)return i.Alert_Blockly=n,!1;i.Alert_Blockly=n,this.exampleVisibility?(this.exampleVisibility=!1,t&&clearTimeout(e),t=setTimeout(()=>{this.exampleVisibility=!0},300)):this.exampleVisibility=!0,e&&clearTimeout(e),e=setTimeout(()=>{this.exampleVisibility=!1},4e3)}})}hide_alert(){this.exampleVisibility=!1}}return e.\u0275fac=function(t){return new(t||e)(o.Y36(Mi.O),o.Y36(o.SBq),o.Y36(o.Qsj),o.Y36(Oi.t))},e.\u0275dir=o.lG2({type:e,selectors:[["","appHighlight",""]]}),e})();var Pi=i(48091);let Ri=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[[Zi,ki.NY,Ai.u5,Ai.UX]]}),e})();o.B6R(Si.G,[Ai._Y,Ai.JL,Ai.sg,n.O5,n.sg,Ai.EJ,Ai.JJ,Ai.u,Ai.YN,Ai.Kr,Ii],[bi.X$,n.gd,n.Ov,Pi.p]);let qi=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[[Zi,xi.e4,Ai.u5,Ai.UX]]}),e})();var Li=i(20138),Ui=i(92340),Bi=i(4829),Di=i(9582),Ni=i(89628),Fi=i(75319);const Hi=["guide"];function $i(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"div",7),o.TgZ(1,"div",8),o.NdJ("click",function(){return o.CHM(e),o.oxw().show()}),o._UZ(2,"img",9),o.qZA(),o.qZA()}}function zi(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"div",10),o.TgZ(1,"div",11),o._UZ(2,"img",12),o.qZA(),o.TgZ(3,"h1"),o._uU(4),o.ALo(5,"translate"),o.qZA(),o.TgZ(6,"div",13),o._uU(7),o.ALo(8,"translate"),o.qZA(),o.TgZ(9,"div",14),o.NdJ("click",function(){return o.CHM(e),o.oxw().start()}),o._uU(10),o.ALo(11,"translate"),o.qZA(),o.TgZ(12,"div",15),o.NdJ("click",function(){return o.CHM(e),o.oxw().close()}),o._uU(13),o.ALo(14,"translate"),o.qZA(),o.TgZ(15,"div",16),o.TgZ(16,"button",17),o.NdJ("click",function(){return o.CHM(e),o.oxw().dontShow()}),o._UZ(17,"input",18),o.TgZ(18,"label"),o._uU(19),o.ALo(20,"translate"),o.qZA(),o.qZA(),o.qZA(),o.qZA()}if(2&e){const e=o.oxw();o.xp6(4),o.Oqu(o.lcZ(5,6,"GUIDE_WELCOME")),o.xp6(3),o.hij(" ",o.lcZ(8,8,"GUIDE_MSG")," "),o.xp6(3),o.hij(" ",o.lcZ(11,10,"GUIDE_START")," "),o.xp6(3),o.hij(" ",o.lcZ(14,12,"GUIDE_SKIP")," "),o.xp6(4),o.Q6J("checked",e.checked),o.xp6(2),o.Oqu(o.lcZ(20,14,"GUIDE_DONT_SHOW"))}}const Vi=function(e){return{active:e}};function Ki(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"a",30),o.NdJ("click",function(){o.CHM(e);const t=o.oxw().$implicit;return o.oxw(2).toggleContent(t.content)}),o._uU(1),o.ALo(2,"translate"),o.qZA()}if(2&e){const e=o.oxw().$implicit,t=o.oxw(2);o.Q6J("ngClass",o.VKq(4,Vi,t.content===e.content)),o.xp6(1),o.Oqu(o.lcZ(2,2,e.name))}}function Wi(e,t){if(1&e&&(o.TgZ(0,"span"),o._uU(1),o.ALo(2,"translate"),o.qZA()),2&e){const e=o.oxw().$implicit;o.xp6(1),o.Oqu(o.lcZ(2,1,e.name))}}function Gi(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"li",32),o.TgZ(1,"a",30),o.NdJ("click",function(){const t=o.CHM(e).$implicit;return o.oxw(4).toggleContent(t.content)}),o._uU(2),o.ALo(3,"translate"),o.qZA(),o.qZA()}if(2&e){const e=t.$implicit,i=o.oxw(4);o.xp6(1),o.Q6J("ngClass",o.VKq(4,Vi,i.content===e.content)),o.xp6(1),o.Oqu(o.lcZ(3,2,e.name))}}function Yi(e,t){if(1&e&&(o.TgZ(0,"ul"),o.YNc(1,Gi,4,6,"li",31),o.qZA()),2&e){const e=o.oxw().$implicit;o.xp6(1),o.Q6J("ngForOf",e.child)}}function ji(e,t){if(1&e&&(o.TgZ(0,"li"),o.YNc(1,Ki,3,6,"a",29),o.YNc(2,Wi,3,3,"span",24),o.YNc(3,Yi,2,1,"ul",24),o.qZA()),2&e){const e=t.$implicit;o.xp6(1),o.Q6J("ngIf","burning"===e.content),o.xp6(1),o.Q6J("ngIf",""===e.content),o.xp6(1),o.Q6J("ngIf",e.child.length>0)}}function Xi(e,t){1&e&&(o.TgZ(0,"div",33),o.TgZ(1,"h2"),o._uU(2),o.ALo(3,"translate"),o.qZA(),o.TgZ(4,"div",34),o.TgZ(5,"h4"),o._uU(6),o.ALo(7,"translate"),o.qZA(),o.TgZ(8,"p"),o._uU(9),o.ALo(10,"translate"),o.TgZ(11,"a",35),o._uU(12),o.ALo(13,"translate"),o.qZA(),o.qZA(),o._UZ(14,"img",36),o.qZA(),o.TgZ(15,"div",34),o.TgZ(16,"h4"),o._uU(17),o.ALo(18,"translate"),o.qZA(),o.TgZ(19,"p"),o._uU(20),o.ALo(21,"translate"),o.qZA(),o.TgZ(22,"p"),o._uU(23),o.ALo(24,"translate"),o.qZA(),o.TgZ(25,"p"),o._uU(26),o.ALo(27,"translate"),o.qZA(),o.TgZ(28,"p"),o._uU(29),o.ALo(30,"translate"),o.qZA(),o._UZ(31,"img",37),o.qZA(),o.TgZ(32,"div",34),o.TgZ(33,"h4"),o._uU(34),o.ALo(35,"translate"),o.qZA(),o.TgZ(36,"p"),o._uU(37),o.ALo(38,"translate"),o.qZA(),o.TgZ(39,"p"),o._uU(40),o.ALo(41,"translate"),o.qZA(),o._UZ(42,"img",38),o.TgZ(43,"p"),o._uU(44),o.ALo(45,"translate"),o.qZA(),o.TgZ(46,"p"),o._uU(47),o.ALo(48,"translate"),o.qZA(),o._UZ(49,"img",39),o.TgZ(50,"p"),o._uU(51),o.ALo(52,"translate"),o.qZA(),o._UZ(53,"img",40),o.qZA(),o.qZA()),2&e&&(o.xp6(2),o.Oqu(o.lcZ(3,15,"GUIDE_FIRMWARE_BURN_TITLE")),o.xp6(4),o.Oqu(o.lcZ(7,17,"GUIDE_STEP1")),o.xp6(3),o.Oqu(o.lcZ(10,19,"GUIDE_FIRMWARE_BURN_STEP1_MSG1")),o.xp6(3),o.Oqu(o.lcZ(13,21,"GUIDE_FIRMWARE_BURN_STEP1_MSG2")),o.xp6(5),o.Oqu(o.lcZ(18,23,"GUIDE_STEP2")),o.xp6(3),o.Oqu(o.lcZ(21,25,"GUIDE_FIRMWARE_BURN_STEP2_MSG1")),o.xp6(3),o.hij("1. ",o.lcZ(24,27,"GUIDE_FIRMWARE_BURN_STEP2_MSG2"),""),o.xp6(3),o.hij("2. ",o.lcZ(27,29,"GUIDE_FIRMWARE_BURN_STEP2_MSG3"),""),o.xp6(3),o.hij("3. ",o.lcZ(30,31,"GUIDE_FIRMWARE_BURN_STEP2_MSG4"),""),o.xp6(5),o.Oqu(o.lcZ(35,33,"GUIDE_STEP3")),o.xp6(3),o.Oqu(o.lcZ(38,35,"GUIDE_FIRMWARE_BURN_STEP3_MSG1")),o.xp6(3),o.hij("1. ",o.lcZ(41,37,"GUIDE_FIRMWARE_BURN_STEP3_MSG2"),""),o.xp6(4),o.hij("2. ",o.lcZ(45,39,"GUIDE_FIRMWARE_BURN_STEP3_MSG3"),""),o.xp6(3),o.Oqu(o.lcZ(48,41,"GUIDE_FIRMWARE_BURN_STEP3_MSG4")),o.xp6(4),o.hij("3. ",o.lcZ(52,43,"GUIDE_FIRMWARE_BURN_STEP3_MSG5"),""))}function Ji(e,t){1&e&&(o.TgZ(0,"div"),o.TgZ(1,"div",34),o.TgZ(2,"h2"),o._uU(3),o.ALo(4,"translate"),o.qZA(),o.qZA(),o.TgZ(5,"div",34),o.TgZ(6,"h4"),o._uU(7),o.ALo(8,"translate"),o.qZA(),o.TgZ(9,"p"),o._uU(10),o.ALo(11,"translate"),o.qZA(),o.qZA(),o.TgZ(12,"div",34),o.TgZ(13,"h4"),o._uU(14),o.ALo(15,"translate"),o.qZA(),o.TgZ(16,"p"),o._uU(17),o.ALo(18,"translate"),o.qZA(),o.TgZ(19,"p"),o._uU(20),o.ALo(21,"translate"),o.qZA(),o.TgZ(22,"p"),o._uU(23),o.ALo(24,"translate"),o.qZA(),o._UZ(25,"img",41),o.qZA(),o.qZA()),2&e&&(o.xp6(3),o.Oqu(o.lcZ(4,7,"GUIDE_CONNECT_DEVICE_TITLE")),o.xp6(4),o.Oqu(o.lcZ(8,9,"GUIDE_STEP1")),o.xp6(3),o.Oqu(o.lcZ(11,11,"GUIDE_CONNECT_DEVICE_STEP1_MSG1")),o.xp6(4),o.Oqu(o.lcZ(15,13,"GUIDE_STEP2")),o.xp6(3),o.hij("1. ",o.lcZ(18,15,"GUIDE_CONNECT_DEVICE_STEP2_MSG1"),""),o.xp6(3),o.hij("2. ",o.lcZ(21,17,"GUIDE_CONNECT_DEVICE_STEP2_MSG2"),""),o.xp6(3),o.hij("3. ",o.lcZ(24,19,"GUIDE_CONNECT_DEVICE_STEP2_MSG3"),""))}function Qi(e,t){1&e&&(o.TgZ(0,"div"),o.TgZ(1,"div",34),o.TgZ(2,"h2"),o._uU(3),o.ALo(4,"translate"),o.qZA(),o.qZA(),o.TgZ(5,"div",34),o.TgZ(6,"h4"),o._uU(7),o.ALo(8,"translate"),o.qZA(),o.TgZ(9,"p"),o._uU(10),o.ALo(11,"translate"),o.qZA(),o._UZ(12,"img",42),o.qZA(),o.TgZ(13,"div",34),o.TgZ(14,"h4"),o._uU(15),o.ALo(16,"translate"),o.qZA(),o.TgZ(17,"p"),o._uU(18),o.ALo(19,"translate"),o.qZA(),o._UZ(20,"img",43),o.qZA(),o.TgZ(21,"div",34),o.TgZ(22,"h4"),o._uU(23),o.ALo(24,"translate"),o.qZA(),o.TgZ(25,"p"),o._uU(26),o.ALo(27,"translate"),o.qZA(),o._UZ(28,"img",44),o.qZA(),o.qZA()),2&e&&(o.xp6(3),o.Oqu(o.lcZ(4,7,"GUIDE_RUN_PROGRAM_TITLE")),o.xp6(4),o.Oqu(o.lcZ(8,9,"GUIDE_STEP1")),o.xp6(3),o.Oqu(o.lcZ(11,11,"GUIDE_RUN_PROGRAM_STEP1_MSG1")),o.xp6(5),o.Oqu(o.lcZ(16,13,"GUIDE_STEP2")),o.xp6(3),o.Oqu(o.lcZ(19,15,"GUIDE_RUN_PROGRAM_STEP2_MSG1")),o.xp6(5),o.Oqu(o.lcZ(24,17,"GUIDE_STEP3")),o.xp6(3),o.Oqu(o.lcZ(27,19,"GUIDE_RUN_PROGRAM_STEP3_MSG1")))}function en(e,t){1&e&&(o.TgZ(0,"div"),o.TgZ(1,"div",34),o.TgZ(2,"h2"),o._uU(3),o.ALo(4,"translate"),o.qZA(),o.qZA(),o.TgZ(5,"div",34),o.TgZ(6,"p"),o._uU(7),o.ALo(8,"translate"),o.qZA(),o._UZ(9,"img",45),o.qZA(),o.TgZ(10,"div",34),o.TgZ(11,"p"),o._uU(12),o.ALo(13,"translate"),o.qZA(),o._UZ(14,"img",46),o.qZA(),o.qZA()),2&e&&(o.xp6(3),o.Oqu(o.lcZ(4,3,"GUIDE_SAVE_PROGRAM_TITLE")),o.xp6(4),o.Oqu(o.lcZ(8,5,"GUIDE_SAVE_PROGRAM_SAVE_MSG1")),o.xp6(5),o.Oqu(o.lcZ(13,7,"GUIDE_SAVE_PROGRAM_LOAD_MSG1")))}function tn(e,t){1&e&&(o.TgZ(0,"div"),o.TgZ(1,"div",34),o.TgZ(2,"h2"),o._uU(3),o.ALo(4,"translate"),o.qZA(),o.qZA(),o.TgZ(5,"div",34),o.TgZ(6,"p"),o._uU(7),o.ALo(8,"translate"),o.qZA(),o.qZA(),o.TgZ(9,"div",34),o.TgZ(10,"p"),o._uU(11),o.ALo(12,"translate"),o.qZA(),o._UZ(13,"img",47),o.qZA(),o.TgZ(14,"div",34),o.TgZ(15,"p"),o._uU(16),o.ALo(17,"translate"),o.qZA(),o._UZ(18,"img",48),o.qZA(),o.qZA()),2&e&&(o.xp6(3),o.Oqu(o.lcZ(4,4,"GUIDE_DOWNLOAD_PROGRAM_TITLE")),o.xp6(4),o.Oqu(o.lcZ(8,6,"GUIDE_DOWNLOAD_PROGRAM_MSG1")),o.xp6(4),o.Oqu(o.lcZ(12,8,"GUIDE_DOWNLOAD_PROGRAM_MSG2")),o.xp6(5),o.Oqu(o.lcZ(17,10,"GUIDE_DOWNLOAD_PROGRAM_MSG3")))}function nn(e,t){1&e&&(o.TgZ(0,"div"),o.TgZ(1,"div",34),o.TgZ(2,"h2"),o._uU(3),o.ALo(4,"translate"),o.qZA(),o._UZ(5,"img",49),o.qZA(),o.TgZ(6,"div",34),o.TgZ(7,"h4"),o._uU(8),o.ALo(9,"translate"),o.qZA(),o.TgZ(10,"p"),o._uU(11),o.ALo(12,"translate"),o.qZA(),o.qZA(),o.TgZ(13,"div",34),o.TgZ(14,"h4"),o._uU(15),o.ALo(16,"translate"),o.qZA(),o.TgZ(17,"p"),o._uU(18),o.ALo(19,"translate"),o.qZA(),o.qZA(),o.TgZ(20,"div",34),o.TgZ(21,"h4"),o._uU(22),o.ALo(23,"translate"),o.qZA(),o.TgZ(24,"p"),o._uU(25),o.ALo(26,"translate"),o.qZA(),o.qZA(),o.TgZ(27,"div",34),o.TgZ(28,"h4"),o._uU(29),o.ALo(30,"translate"),o.qZA(),o.TgZ(31,"p"),o._uU(32),o.ALo(33,"translate"),o.qZA(),o.qZA(),o.TgZ(34,"div",34),o.TgZ(35,"h4"),o._uU(36),o.ALo(37,"translate"),o.qZA(),o.TgZ(38,"p"),o._uU(39),o.ALo(40,"translate"),o.qZA(),o.qZA(),o.TgZ(41,"div",34),o.TgZ(42,"h4"),o._uU(43),o.ALo(44,"translate"),o.qZA(),o.TgZ(45,"p"),o._uU(46),o.ALo(47,"translate"),o.qZA(),o.qZA(),o.qZA()),2&e&&(o.xp6(3),o.Oqu(o.lcZ(4,13,"GUIDE_OVERVIEW_TITLE")),o.xp6(5),o.hij("1. ",o.lcZ(9,15,"GUIDE_HEADER_TITLE"),""),o.xp6(3),o.Oqu(o.lcZ(12,17,"GUIDE_OVERVIEW_POINT1_MSG")),o.xp6(4),o.hij("2. ",o.lcZ(16,19,"GUIDE_UI_EDIT_AREA_TITLE"),""),o.xp6(3),o.Oqu(o.lcZ(19,21,"GUIDE_OVERVIEW_POINT2_MSG")),o.xp6(4),o.hij("3. ",o.lcZ(23,23,"GUIDE_SELECTION_AREA_TITLE"),""),o.xp6(3),o.Oqu(o.lcZ(26,25,"GUIDE_OVERVIEW_POINT3_MSG")),o.xp6(4),o.hij("4. ",o.lcZ(30,27,"GUIDE_TOOLBOX_TITLE"),""),o.xp6(3),o.Oqu(o.lcZ(33,29,"GUIDE_OVERVIEW_POINT4_MSG")),o.xp6(4),o.hij("5. ",o.lcZ(37,31,"GUIDE_PROGRAMMING_TITLE"),""),o.xp6(3),o.Oqu(o.lcZ(40,33,"GUIDE_OVERVIEW_POINT5_MSG")),o.xp6(4),o.hij("6. ",o.lcZ(44,35,"GUIDE_DEVICE_SETTING_TITLE"),""),o.xp6(3),o.Oqu(o.lcZ(47,37,"GUIDE_OVERVIEW_POINT6_MSG")))}function on(e,t){1&e&&(o.TgZ(0,"div"),o.TgZ(1,"h2"),o._uU(2),o.ALo(3,"translate"),o.qZA(),o.TgZ(4,"div",34),o._UZ(5,"img",50),o.TgZ(6,"p"),o.TgZ(7,"span",51),o._uU(8),o.ALo(9,"translate"),o.qZA(),o._uU(10),o.ALo(11,"translate"),o.qZA(),o.TgZ(12,"p"),o.TgZ(13,"span",51),o._uU(14),o.ALo(15,"translate"),o.qZA(),o._uU(16),o.ALo(17,"translate"),o.qZA(),o.TgZ(18,"ul",52),o.TgZ(19,"span",51),o._uU(20,"3."),o.qZA(),o.TgZ(21,"li"),o.TgZ(22,"span",51),o._uU(23),o.ALo(24,"translate"),o.qZA(),o._uU(25),o.ALo(26,"translate"),o.qZA(),o.TgZ(27,"li"),o.TgZ(28,"span",51),o._uU(29),o.ALo(30,"translate"),o.qZA(),o._uU(31),o.ALo(32,"translate"),o.qZA(),o.TgZ(33,"li"),o.TgZ(34,"span",51),o._uU(35),o.ALo(36,"translate"),o.qZA(),o._uU(37),o.ALo(38,"translate"),o.qZA(),o.TgZ(39,"li"),o.TgZ(40,"span",51),o._uU(41),o.ALo(42,"translate"),o.qZA(),o._uU(43),o.ALo(44,"translate"),o.qZA(),o.TgZ(45,"li"),o.TgZ(46,"span",51),o._uU(47),o.ALo(48,"translate"),o.qZA(),o._uU(49),o.ALo(50,"translate"),o.qZA(),o.qZA(),o.TgZ(51,"ul",52),o.TgZ(52,"span",51),o._uU(53,"4."),o.qZA(),o.TgZ(54,"li"),o.TgZ(55,"span",51),o._uU(56),o.ALo(57,"translate"),o.qZA(),o._uU(58),o.ALo(59,"translate"),o.qZA(),o.TgZ(60,"li"),o.TgZ(61,"span",51),o._uU(62),o.ALo(63,"translate"),o.qZA(),o._uU(64),o.ALo(65,"translate"),o.qZA(),o.TgZ(66,"li"),o.TgZ(67,"span",51),o._uU(68),o.ALo(69,"translate"),o.qZA(),o._uU(70),o.ALo(71,"translate"),o.qZA(),o.TgZ(72,"li"),o.TgZ(73,"span",51),o._uU(74),o.ALo(75,"translate"),o.qZA(),o._uU(76),o.ALo(77,"translate"),o.qZA(),o.TgZ(78,"li"),o.TgZ(79,"span",51),o._uU(80),o.ALo(81,"translate"),o.qZA(),o._uU(82),o.ALo(83,"translate"),o.qZA(),o.qZA(),o.TgZ(84,"ul",52),o.TgZ(85,"span",51),o._uU(86,"5."),o.qZA(),o.TgZ(87,"li"),o.TgZ(88,"span",51),o._uU(89),o.ALo(90,"translate"),o.qZA(),o._uU(91),o.ALo(92,"translate"),o.qZA(),o.TgZ(93,"li"),o.TgZ(94,"span",51),o._uU(95),o.ALo(96,"translate"),o.qZA(),o._uU(97),o.ALo(98,"translate"),o.qZA(),o.TgZ(99,"li"),o.TgZ(100,"span",51),o._uU(101),o.ALo(102,"translate"),o.qZA(),o._uU(103),o.ALo(104,"translate"),o.qZA(),o.TgZ(105,"li"),o.TgZ(106,"span",51),o._uU(107),o.ALo(108,"translate"),o.qZA(),o._uU(109),o.ALo(110,"translate"),o.qZA(),o.TgZ(111,"li"),o.TgZ(112,"span",51),o._uU(113),o.ALo(114,"translate"),o.qZA(),o._uU(115),o.ALo(116,"translate"),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&e&&(o.xp6(2),o.Oqu(o.lcZ(3,35,"GUIDE_HEADER_TITLE")),o.xp6(6),o.hij("1. ",o.lcZ(9,37,"GUIDE_HEADER_POINT1_B1_MSG1"),""),o.xp6(2),o.hij(" ",o.lcZ(11,39,"GUIDE_HEADER_POINT1_B1_MSG2"),""),o.xp6(4),o.hij("2. ",o.lcZ(15,41,"GUIDE_HEADER_POINT2_B1_MSG1"),""),o.xp6(2),o.hij(" ",o.lcZ(17,43,"GUIDE_HEADER_POINT2_B1_MSG2"),""),o.xp6(7),o.Oqu(o.lcZ(24,45,"GUIDE_HEADER_POINT3_B1_MSG1")),o.xp6(2),o.Oqu(o.lcZ(26,47,"GUIDE_HEADER_POINT3_B1_MSG2")),o.xp6(4),o.Oqu(o.lcZ(30,49,"GUIDE_HEADER_POINT3_B2_MSG1")),o.xp6(2),o.Oqu(o.lcZ(32,51,"GUIDE_HEADER_POINT3_B2_MSG2")),o.xp6(4),o.Oqu(o.lcZ(36,53,"GUIDE_HEADER_POINT3_B3_MSG1")),o.xp6(2),o.Oqu(o.lcZ(38,55,"GUIDE_HEADER_POINT3_B3_MSG2")),o.xp6(4),o.Oqu(o.lcZ(42,57,"GUIDE_HEADER_POINT3_B4_MSG1")),o.xp6(2),o.Oqu(o.lcZ(44,59,"GUIDE_HEADER_POINT3_B4_MSG2")),o.xp6(4),o.Oqu(o.lcZ(48,61,"GUIDE_HEADER_POINT3_B5_MSG1")),o.xp6(2),o.Oqu(o.lcZ(50,63,"GUIDE_HEADER_POINT3_B5_MSG2")),o.xp6(7),o.Oqu(o.lcZ(57,65,"GUIDE_HEADER_POINT4_B1_MSG1")),o.xp6(2),o.Oqu(o.lcZ(59,67,"GUIDE_HEADER_POINT4_B1_MSG2")),o.xp6(4),o.Oqu(o.lcZ(63,69,"GUIDE_HEADER_POINT4_B2_MSG1")),o.xp6(2),o.Oqu(o.lcZ(65,71,"GUIDE_HEADER_POINT4_B2_MSG2")),o.xp6(4),o.Oqu(o.lcZ(69,73,"GUIDE_HEADER_POINT4_B3_MSG1")),o.xp6(2),o.Oqu(o.lcZ(71,75,"GUIDE_HEADER_POINT4_B3_MSG2")),o.xp6(4),o.Oqu(o.lcZ(75,77,"GUIDE_HEADER_POINT4_B4_MSG1")),o.xp6(2),o.Oqu(o.lcZ(77,79,"GUIDE_HEADER_POINT4_B4_MSG2")),o.xp6(4),o.Oqu(o.lcZ(81,81,"GUIDE_HEADER_POINT4_B5_MSG1")),o.xp6(2),o.Oqu(o.lcZ(83,83,"GUIDE_HEADER_POINT4_B5_MSG2")),o.xp6(7),o.Oqu(o.lcZ(90,85,"GUIDE_HEADER_POINT5_B1_MSG1")),o.xp6(2),o.Oqu(o.lcZ(92,87,"GUIDE_HEADER_POINT5_B1_MSG2")),o.xp6(4),o.Oqu(o.lcZ(96,89,"GUIDE_HEADER_POINT5_B2_MSG1")),o.xp6(2),o.Oqu(o.lcZ(98,91,"GUIDE_HEADER_POINT5_B2_MSG2")),o.xp6(4),o.Oqu(o.lcZ(102,93,"GUIDE_HEADER_POINT5_B3_MSG1")),o.xp6(2),o.Oqu(o.lcZ(104,95,"GUIDE_HEADER_POINT5_B3_MSG2")),o.xp6(4),o.Oqu(o.lcZ(108,97,"GUIDE_HEADER_POINT5_B4_MSG1")),o.xp6(2),o.Oqu(o.lcZ(110,99,"GUIDE_HEADER_POINT5_B4_MSG2")),o.xp6(4),o.Oqu(o.lcZ(114,101,"GUIDE_HEADER_POINT5_B5_MSG1")),o.xp6(2),o.Oqu(o.lcZ(116,103,"GUIDE_HEADER_POINT5_B5_MSG2")))}function rn(e,t){1&e&&(o.TgZ(0,"div"),o.TgZ(1,"h2"),o._uU(2),o.ALo(3,"translate"),o.qZA(),o.TgZ(4,"div"),o.TgZ(5,"div",34),o.TgZ(6,"p"),o._uU(7),o.ALo(8,"translate"),o.qZA(),o._UZ(9,"img",53),o.qZA(),o.TgZ(10,"div",34),o.TgZ(11,"p"),o._uU(12),o.ALo(13,"translate"),o.qZA(),o._UZ(14,"img",54),o.qZA(),o.qZA(),o.qZA()),2&e&&(o.xp6(2),o.Oqu(o.lcZ(3,3,"GUIDE_UI_EDIT_AREA_TITLE")),o.xp6(5),o.Oqu(o.lcZ(8,5,"GUIDE_UIEDITOR_MSG1")),o.xp6(5),o.Oqu(o.lcZ(13,7,"GUIDE_UIEDITOR_MSG2")))}function sn(e,t){1&e&&(o.TgZ(0,"div"),o.TgZ(1,"h2"),o._uU(2),o.ALo(3,"translate"),o.qZA(),o.TgZ(4,"div",34),o.TgZ(5,"p"),o._uU(6),o.ALo(7,"translate"),o.qZA(),o._UZ(8,"img",55),o.qZA(),o.TgZ(9,"div",34),o.TgZ(10,"p"),o._uU(11),o.ALo(12,"translate"),o.qZA(),o._UZ(13,"img",56),o.qZA(),o.qZA()),2&e&&(o.xp6(2),o.Oqu(o.lcZ(3,3,"GUIDE_SELECTION_AREA_TITLE")),o.xp6(4),o.Oqu(o.lcZ(7,5,"GUIDE_SELECTION_MSG1")),o.xp6(5),o.Oqu(o.lcZ(12,7,"GUIDE_SELECTION_MSG2")))}function an(e,t){1&e&&(o.TgZ(0,"div"),o.TgZ(1,"h2"),o._uU(2),o.ALo(3,"translate"),o.qZA(),o._UZ(4,"div",34),o.qZA()),2&e&&(o.xp6(2),o.Oqu(o.lcZ(3,1,"GUIDE_TOOLBOX_TITLE")))}function ln(e,t){1&e&&(o.TgZ(0,"div"),o.TgZ(1,"h2"),o._uU(2),o.ALo(3,"translate"),o.qZA(),o.TgZ(4,"div",34),o.TgZ(5,"p"),o._uU(6),o.ALo(7,"translate"),o.qZA(),o._UZ(8,"img",57),o.qZA(),o.TgZ(9,"div",34),o.TgZ(10,"p"),o._uU(11),o.ALo(12,"translate"),o.qZA(),o._UZ(13,"img",58),o.qZA(),o.qZA()),2&e&&(o.xp6(2),o.Oqu(o.lcZ(3,3,"GUIDE_PROGRAMMING_TITLE")),o.xp6(4),o.Oqu(o.lcZ(7,5,"GUIDE_PRIGRAMMING_MSG1")),o.xp6(5),o.Oqu(o.lcZ(12,7,"GUIDE_PRIGRAMMING_MSG2")))}function cn(e,t){1&e&&(o.TgZ(0,"div"),o.TgZ(1,"h2"),o._uU(2),o.ALo(3,"translate"),o.qZA(),o.TgZ(4,"div",34),o.TgZ(5,"p"),o._uU(6),o.ALo(7,"translate"),o.qZA(),o.TgZ(8,"p"),o._uU(9),o.ALo(10,"translate"),o.qZA(),o.TgZ(11,"p"),o._uU(12),o.ALo(13,"translate"),o.qZA(),o.TgZ(14,"p"),o._uU(15),o.ALo(16,"translate"),o.qZA(),o.TgZ(17,"p"),o._uU(18),o.ALo(19,"translate"),o.qZA(),o.TgZ(20,"p"),o._uU(21),o.ALo(22,"translate"),o.qZA(),o.TgZ(23,"p"),o._uU(24),o.ALo(25,"translate"),o.qZA(),o._UZ(26,"img",59),o.qZA(),o.TgZ(27,"div",34),o.TgZ(28,"p"),o._uU(29),o.ALo(30,"translate"),o.qZA(),o._UZ(31,"img",60),o.qZA(),o.qZA()),2&e&&(o.xp6(2),o.Oqu(o.lcZ(3,9,"GUIDE_DEVICE_SETTING_TITLE")),o.xp6(4),o.hij("1. ",o.lcZ(7,11,"GUIDE_DEVICE_SETTING_POINT1"),""),o.xp6(3),o.hij("2. ",o.lcZ(10,13,"GUIDE_DEVICE_SETTING_POINT2"),""),o.xp6(3),o.hij("3. ",o.lcZ(13,15,"GUIDE_DEVICE_SETTING_POINT3"),""),o.xp6(3),o.hij("4. ",o.lcZ(16,17,"GUIDE_DEVICE_SETTING_POINT4"),""),o.xp6(3),o.hij("5. ",o.lcZ(19,19,"GUIDE_DEVICE_SETTING_POINT5"),""),o.xp6(3),o.hij("6. ",o.lcZ(22,21,"GUIDE_DEVICE_SETTING_POINT6"),""),o.xp6(3),o.hij("7. ",o.lcZ(25,23,"GUIDE_DEVICE_SETTING_POINT7"),""),o.xp6(5),o.Oqu(o.lcZ(30,25,"GUIDE_DEVICE_SETTING_APIKEY")))}function hn(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"button",61),o.NdJ("click",function(){return o.CHM(e),o.oxw(2).prev()}),o._uU(1),o.ALo(2,"translate"),o.qZA()}2&e&&(o.xp6(1),o.Oqu(o.lcZ(2,1,"GUIDE_PREV_PAGE")))}function un(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"button",62),o.NdJ("click",function(){return o.CHM(e),o.oxw(2).next()}),o._uU(1),o.ALo(2,"translate"),o.qZA()}2&e&&(o.xp6(1),o.Oqu(o.lcZ(2,1,"GUIDE_NEXT_PAGE")))}function dn(e,t){if(1&e&&(o.TgZ(0,"div",19),o.TgZ(1,"div",20),o.TgZ(2,"ul"),o.YNc(3,ji,4,3,"li",21),o.qZA(),o.qZA(),o.TgZ(4,"div",13),o.YNc(5,Xi,54,45,"div",22),o.TgZ(6,"div",23),o.YNc(7,Ji,26,21,"div",24),o.YNc(8,Qi,29,21,"div",24),o.YNc(9,en,15,9,"div",24),o.YNc(10,tn,19,12,"div",24),o.qZA(),o.TgZ(11,"div",25),o.YNc(12,nn,48,39,"div",24),o.YNc(13,on,117,105,"div",24),o.YNc(14,rn,15,9,"div",24),o.YNc(15,sn,14,9,"div",24),o.YNc(16,an,5,3,"div",24),o.YNc(17,ln,14,9,"div",24),o.YNc(18,cn,32,27,"div",24),o.qZA(),o.TgZ(19,"div",26),o.YNc(20,hn,3,3,"button",27),o.YNc(21,un,3,3,"button",28),o.qZA(),o.qZA(),o.qZA()),2&e){const e=o.oxw();o.xp6(3),o.Q6J("ngForOf",e.TITLE),o.xp6(2),o.Q6J("ngIf","burning"==e.content),o.xp6(2),o.Q6J("ngIf","connect"==e.content),o.xp6(1),o.Q6J("ngIf","run"==e.content),o.xp6(1),o.Q6J("ngIf","save"==e.content),o.xp6(1),o.Q6J("ngIf","download"==e.content),o.xp6(2),o.Q6J("ngIf","overview"==e.content),o.xp6(1),o.Q6J("ngIf","header"==e.content),o.xp6(1),o.Q6J("ngIf","uieditor"==e.content),o.xp6(1),o.Q6J("ngIf","selection"==e.content),o.xp6(1),o.Q6J("ngIf","toolbox"==e.content),o.xp6(1),o.Q6J("ngIf","programming"==e.content),o.xp6(1),o.Q6J("ngIf","setting"==e.content),o.xp6(2),o.Q6J("ngIf",!e.isFirstPage()),o.xp6(1),o.Q6J("ngIf",!e.isLastPage())}}const pn=[{content:"burning",name:"GUIDE_FIRMWARE_BURN_TITLE",child:[]},{content:"",name:"GUIDE_DEVELOP_TITLE",child:[{content:"connect",name:"GUIDE_CONNECT_DEVICE_TITLE"},{content:"run",name:"GUIDE_RUN_PROGRAM_TITLE"},{content:"save",name:"GUIDE_SAVE_PROGRAM_TITLE"},{content:"download",name:"GUIDE_DOWNLOAD_PROGRAM_TITLE"}]},{content:"",name:"GUIDE_INTERFACE_TITLE",child:[{content:"overview",name:"GUIDE_OVERVIEW_TITLE"},{content:"header",name:"GUIDE_HEADER_TITLE"},{content:"uieditor",name:"GUIDE_UI_EDIT_AREA_TITLE"},{content:"selection",name:"GUIDE_SELECTION_AREA_TITLE"},{content:"programming",name:"GUIDE_PROGRAMMING_TITLE"},{content:"setting",name:"GUIDE_DEVICE_SETTING_TITLE"}]}],gn=["burning","connect","run","save","download","overview","header","uieditor","selection","programming","setting"];let fn=(()=>{class e{constructor(e){this.guideSrv=e,this.subscription=new Fi.w,this.page=1,this.content="burning",this.isHidden=!1,this.showGuide=!0,this.checked=!1,this.TITLE=pn}ngOnInit(){this.checked="true"===localStorage.getItem("guide"),this.subscription.add(this.guideSrv.getIsShowGuide().subscribe(e=>{this.isHidden=!e})),this.showGuide=!0}start(){this.page=2}show(){this.isHidden=!1,this.guideSrv.setIsShowGuide(!0)}close(){this.guideSrv.setIsOpenGuide(!1)}hide(){this.guideSrv.setIsShowGuide(!1),this.isHidden=!0}toggleContent(e){this.content=e}dontShow(){this.checked=!this.checked,localStorage.setItem("guide",String(this.checked))}next(){this.content=gn[gn.indexOf(this.content)+1]}prev(){this.content=gn[gn.indexOf(this.content)-1]}isFirstPage(){return 0===gn.indexOf(this.content)}isLastPage(){return gn.indexOf(this.content)===gn.length-1}}return e.\u0275fac=function(t){return new(t||e)(o.Y36(Di.C))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-guide"]],viewQuery:function(e,t){if(1&e&&o.Gf(Hi,5),2&e){let e;o.iGM(e=o.CRH())&&(t.guide=e.first)}},decls:9,vars:5,consts:[["class","guide-panel-icon",4,"ngIf"],[1,"wrapper--guide"],[1,"guide"],[1,"hidden-btn",3,"click"],[1,"close-btn",3,"click"],["class","welcome",4,"ngIf"],["class","start",4,"ngIf"],[1,"guide-panel-icon"],[1,"guide-btn",3,"click"],["src","../../../assets/images/guide.png","alt","USER_GUIDE","title","User Guide"],[1,"welcome"],[1,"logo"],["src","../../../assets/images/UI_FLOW.png","alt",""],[1,"content"],[1,"start-btn",3,"click"],[1,"skip-btn",3,"click"],[1,"checked"],[3,"click"],["type","checkbox","id","show",3,"checked"],[1,"start"],[1,"guide-btns"],[4,"ngFor","ngForOf"],["class","first",4,"ngIf"],[1,"third"],[4,"ngIf"],[1,"second"],[1,"page-btns"],["class","page-btn-prev",3,"click",4,"ngIf"],["class","page-btn-next",3,"click",4,"ngIf"],[3,"ngClass","click",4,"ngIf"],[3,"ngClass","click"],["class","second-li",4,"ngFor","ngForOf"],[1,"second-li"],[1,"first"],[1,"content-item"],["href","https://docs.m5stack.com/en/download?id=m5burner","target","_blank"],["src","../../../assets/images/guide/bunner_download.png","alt","bunner"],["src","../../../assets/images/guide/download_firmware.png","alt","download_firmware"],["src","../../../assets/images/guide/connect_device.png","alt","connect_device"],["src","../../../assets/images/guide/wifi_config.png","alt","wifi_config"],["src","../../../assets/images/guide/burn_success.png","alt","burn_success"],["src","../../../assets/images/guide/setting.png","alt","setting"],["src","../../../assets/images/guide/drag.png","alt",""],["src","../../../assets/images/guide/dragblock.png","alt",""],["src","../../../assets/images/guide/run.png","alt",""],["src","../../../assets/images/guide/save.png","alt","save"],["src","../../../assets/images/guide/load.png","alt","load"],["src","../../../assets/images/guide/uploading.png","alt","uploading"],["src","../../../assets/images/guide/resetting.png","alt","resetting"],["src","../../../assets/images/guide/overview.png","alt","layout"],["src","../../../assets/images/guide/header_detail.png","alt","header"],[1,"text-bold"],[1,"item-list"],["src","../../../assets/images/guide/ui_drag.png","alt","ui_select"],["src","../../../assets/images/guide/ui_select.png","alt","ui_select"],["src","../../../assets/images/guide/unit_select.png","alt","unit_select"],["src","../../../assets/images/guide/unit_selected.png","alt","unit_selected"],["src","../../../assets/images/guide/program_block.png","alt","program_block"],["src","../../../assets/images/guide/program_python.png","alt","program_block"],["src","../../../assets/images/guide/device_setting.png","alt","device_setting"],["src","../../../assets/images/guide/setting_pannel.png","alt","setting_pannel"],[1,"page-btn-prev",3,"click"],[1,"page-btn-next",3,"click"]],template:function(e,t){1&e&&(o.YNc(0,$i,3,0,"div",0),o.TgZ(1,"div",1),o.TgZ(2,"div",2),o.TgZ(3,"div",3),o.NdJ("click",function(){return t.hide()}),o._uU(4,"_"),o.qZA(),o.TgZ(5,"div",4),o.NdJ("click",function(){return t.close()}),o._uU(6,"X"),o.qZA(),o.YNc(7,zi,21,16,"div",5),o.YNc(8,dn,22,15,"div",6),o.qZA(),o.qZA()),2&e&&(o.Q6J("ngIf",t.isHidden),o.xp6(1),o.ekj("hidden",t.isHidden),o.xp6(6),o.Q6J("ngIf",1==t.page),o.xp6(1),o.Q6J("ngIf",2==t.page))},directives:[n.O5,n.sg,n.mk],pipes:[bi.X$],styles:[".guide-panel-icon[_ngcontent-%COMP%]{position:fixed;width:50px;height:50px;top:100px;right:0;border-radius:25px 0 0 25px;background-color:#4d4d4d86;cursor:pointer;display:flex;align-items:center;justify-content:center}.guide-panel-icon[_ngcontent-%COMP%]   .guide-btn[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;border:1px solid #fff;background:#00a2e9;display:flex;align-items:center;justify-content:center}.guide-panel-icon[_ngcontent-%COMP%]   .guide-btn[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:65%}.wrapper--guide[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;z-index:9999;background-color:#000000a8;-webkit-animation:fadeIn .35s ease;animation:fadeIn .35s ease;color:#414141}.wrapper--guide.hidden[_ngcontent-%COMP%]{transform:translate(-200%,-200%)}img[_ngcontent-%COMP%]{margin:10px;width:95%}.guide[_ngcontent-%COMP%]{padding:40px 0 20px;height:600px;width:1000px;position:relative;top:50%;left:50%;transform:translate(-50%,-50%);border-radius:20px;background-color:#ddfbfc;text-align:center}.hidden-btn[_ngcontent-%COMP%], .close-btn[_ngcontent-%COMP%]{position:absolute;right:10px;top:8px;width:30px;height:30px;font-size:20px;text-align:center;line-height:30px;border-radius:8px;cursor:pointer}.hidden-btn[_ngcontent-%COMP%]{right:40px;vertical-align:top}.hidden-btn[_ngcontent-%COMP%]:hover, .close-btn[_ngcontent-%COMP%]:hover{color:#fff;background-color:#00a2e9}.welcome[_ngcontent-%COMP%]{padding-top:20px;font-size:18px}.welcome[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{height:30%;width:126px;margin:20px auto 0}.welcome[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.welcome[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:20px 0 30px;font-size:26px;font-weight:normal}.welcome[_ngcontent-%COMP%]   .start-btn[_ngcontent-%COMP%]{margin:100px auto 20px;width:150px;border:0;border-radius:8px;padding:10px 50px;font-weight:500;color:#fff;font-size:1.1em;background-color:#00a2e9;cursor:pointer}.welcome[_ngcontent-%COMP%]   .start-btn[_ngcontent-%COMP%]:hover{background-color:#0377a8}.welcome[_ngcontent-%COMP%]   .skip-btn[_ngcontent-%COMP%]{margin:0 auto;width:150px;color:#00a2e9;cursor:pointer}.welcome[_ngcontent-%COMP%]   .skip-btn[_ngcontent-%COMP%]:hover{text-decoration:underline}.start[_ngcontent-%COMP%]{display:flex;height:100%;width:100%;text-align:left}.start[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{height:100%;width:100%;padding:0 10px;overflow:auto;display:flex;flex-direction:column}.start[_ngcontent-%COMP%]   .content-item[_ngcontent-%COMP%]{margin:10px}.start[_ngcontent-%COMP%]   .content-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding-left:1em}.start[_ngcontent-%COMP%]   .content-item[_ngcontent-%COMP%]   .item-list[_ngcontent-%COMP%]{padding-left:1em}.start[_ngcontent-%COMP%]   .content-item[_ngcontent-%COMP%]   .item-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-left:2em}.start[_ngcontent-%COMP%]   .text-bold[_ngcontent-%COMP%]{font-weight:bold}.start[_ngcontent-%COMP%]   .guide-btns[_ngcontent-%COMP%]{border-right:1px solid #b6cccd}.start[_ngcontent-%COMP%]   .guide-btns[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{width:210px;word-wrap:break-word}.start[_ngcontent-%COMP%]   .guide-btns[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:10px;margin:5px;font-size:16px;list-style-type:none;font-weight:bold;border-bottom:1px solid #b6cccd}.start[_ngcontent-%COMP%]   .guide-btns[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{color:#000;text-decoration:none;cursor:pointer}.start[_ngcontent-%COMP%]   .guide-btns[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:hover{text-decoration:underline}.start[_ngcontent-%COMP%]   .guide-btns[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{border:none}.start[_ngcontent-%COMP%]   .guide-btns[_ngcontent-%COMP%]   .second-li[_ngcontent-%COMP%]{padding:5px;border:none;font-weight:normal}.start[_ngcontent-%COMP%]   .guide-btns[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] > a.active[_ngcontent-%COMP%]{color:#00a2e9;font-weight:bold}.checked[_ngcontent-%COMP%]{margin-right:5px;padding:.5em 1em;font-size:16px;display:flex;align-items:center;justify-content:center}.checked[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:15px;height:15px;margin-right:5px;cursor:pointer}.checked[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{cursor:pointer}.checked[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:flex;align-items:center;margin-top:10px;border:0;border-radius:8px;font-weight:500;font-size:16px;cursor:pointer;background:none}.page-btns[_ngcontent-%COMP%]{margin-top:auto;padding:0 1em;width:100%;display:flex;justify-content:space-between}.page-btns[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:8px 12px;font-size:16px;border-radius:5px;border:none;background:#00a2e9;color:#fff;cursor:pointer}.page-btns[_ngcontent-%COMP%]   .page-btn-next[_ngcontent-%COMP%]{margin-left:auto}"]}),e})();function mn(e,t){1&e&&(o.TgZ(0,"div",3),o._UZ(1,"div",4),o.qZA())}function _n(e,t){1&e&&o._UZ(0,"app-guide")}let vn=(()=>{class e{constructor(e,t,i,n,o,r){this.globalOperatorSrv=e,this.uploadSrv=t,this.storeSrv=i,this.translate=n,this.zrenderWorkspace=o,this.guideSrv=r,this.isPhone=!1;let s=localStorage.getItem("mui_language")||"en";n.setDefaultLang("en"),n.use(s),this.openGuide$=this.guideSrv.getIsOpenGuide()}ngOnInit(){if(localStorage.getItem("autoLogin")&&"false"===localStorage.getItem("autoLogin")&&(this.storeSrv.setApikey(""),localStorage.setItem("AllAPIKEY",JSON.stringify([])),localStorage.removeItem("autoLogin")),window.remoteURL="http://"+window.location.host,window["remote-beta-URL"]="http://"+window.location.host,window.remotePlusURL="http://"+window.location.host,window.startClientWidth=document.body.clientWidth,window.onorientationchange=function(e){window.UIEditor.resize(),window.zrenderWorkspace.redrawSvg()},window.onresize=function(e){(window.startClientWidth<=1400&&document.body.clientWidth>1400||window.startClientWidth>1400&&document.body.clientWidth<=1400&&window.UIEditor)&&window.UIEditor.resize(),window.startClientWidth=document.body.clientWidth},Ui.N.production?window.onbeforeunload=function(e){(e=window.event||e).returnValue="Are you sure you want to close this page?"}:document.title="M5Flow \u5f00\u53d1\u5185\u6d4b\u7248",/Android|iPhone|BlackBerry|iPad|webOS|iPod/i.test(navigator.userAgent)){var e=document.getElementsByClassName("ipone_h");for(let t=0;t<e.length;t++)e[t].classList.add("ipone_hide");document.body.addEventListener("touchmove",function(e){e.preventDefault()},!1)}/Android|iPhone|BlackBerry|webOS|iPod/i.test(navigator.userAgent)&&(this.globalOperatorSrv.ismb=!0),/iPad/i.test(navigator.userAgent)&&this.globalOperatorSrv.setIpad(!0),document.documentElement.hasAttribute("theme")&&document.documentElement.removeAttribute("theme"),localStorage.getItem(Ei.k2.THEME_HUE)?this.globalOperatorSrv.setThemeColor():(localStorage.setItem(Ei.k2.THEME_HUE,JSON.stringify(Ei.IQ)),this.globalOperatorSrv.setThemeColor(Ei.IQ));let t=[],i=window.FontFace;const n=new i("Comic","url('./assets/fonts/comic.ttf')"),o=new i("DejaVuSans","url('./assets/fonts/DejaVuSans.ttf')"),r=new i("Ubuntu-C","url('./assets/fonts/Ubuntu-C.ttf')"),s=new i("Montserrat","url('./assets/fonts/Montserrat-Medium.ttf')");t.push(n,o,r,s),t.forEach(e=>{this.fontload(e)})}fontload(e){document.fonts.add(e),e.load(),e.loaded.then(()=>{}).catch(e=>{console.log(e)})}stopPropagation(e){/Android|webOS|iPad|iPhone|iPod|BlackBerry/i.test(navigator.userAgent)||(this.globalOperatorSrv.setSelectedComponent(null),this.globalOperatorSrv.setSelectedUnit(null),this.globalOperatorSrv.setSelectedStamp(null),this.globalOperatorSrv.setSelectedRemotePlus(null))}}return e.\u0275fac=function(t){return new(t||e)(o.Y36(Li.t0),o.Y36(Li.C7),o.Y36(Li.d6),o.Y36(bi.sK),o.Y36(Bi._),o.Y36(Di.C))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-root"]],decls:5,vars:4,consts:[["id","app",1,"app",3,"mousedown"],["class","orientation-show",4,"ngIf"],[4,"ngIf"],[1,"orientation-show"],[1,"phone-re"]],template:function(e,t){1&e&&(o.TgZ(0,"div",0),o.NdJ("mousedown",function(e){return t.stopPropagation(e)}),o._UZ(1,"router-outlet"),o.qZA(),o.YNc(2,mn,2,0,"div",1),o.YNc(3,_n,1,0,"app-guide",2),o.ALo(4,"async")),2&e&&(o.xp6(2),o.Q6J("ngIf",t.isPhone),o.xp6(1),o.Q6J("ngIf",o.lcZ(4,2,t.openGuide$)))},directives:[Ni.lC,n.O5,fn],pipes:[n.Ov],styles:[".app[_ngcontent-%COMP%]{filter:blur(0px);transition:all .1s ease}.app.blur[_ngcontent-%COMP%]{filter:blur(2px)}.orientation-show[_ngcontent-%COMP%]{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background-color:#000;color:#fff;text-align:center;z-index:100001}.orientation-show[_ngcontent-%COMP%]   .phone-re[_ngcontent-%COMP%]{width:128px;height:128px;position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background-size:128px 128px;background-image:url(phone-re.397f6b2c7f29d3d1e9bd.png);-webkit-animation:retote 2s infinite;animation:retote 2s infinite}@media all and (orientation: portrait){.orientation-show[_ngcontent-%COMP%]{display:block}}@-webkit-keyframes retote{0%{transform:translate(-50%,-50%) rotate(0)}to{transform:translate(-50%,-50%) rotate(90deg)}}@keyframes retote{0%{transform:translate(-50%,-50%) rotate(0)}to{transform:translate(-50%,-50%) rotate(90deg)}}"]}),e})();var yn=i(67709),bn=i(66682),wn=i(25917),An=i(22759),xn=i(77393),Tn=i(11456);function Cn(e,t=Tn.P){return i=>i.lift(new Zn(e,t))}class Zn{constructor(e,t){this.dueTime=e,this.scheduler=t}call(e,t){return t.subscribe(new kn(e,this.dueTime,this.scheduler))}}class kn extends xn.L{constructor(e,t,i){super(e),this.dueTime=t,this.scheduler=i,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(Sn,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:e}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(e)}}clearDebounce(){const e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)}}function Sn(e){e.debouncedNext()}var En=i(45435),Mn=i(93342),On=i(88002),In=i(42145),Pn=i(78345),Rn=i(43190),qn=i(46782);class Ln{constructor(e,t){this.compare=e,this.keySelector=t}call(e,t){return t.subscribe(new Un(e,this.compare,this.keySelector))}}class Un extends xn.L{constructor(e,t,i){super(e),this.keySelector=i,this.hasKey=!1,"function"==typeof t&&(this.compare=t)}compare(e,t){return e===t}_next(e){let t;try{const{keySelector:i}=this;t=i?i(e):e}catch(n){return this.destination.error(n)}let i=!1;if(this.hasKey)try{const{compare:e}=this;i=e(this.key,t)}catch(n){return this.destination.error(n)}else this.hasKey=!0;i||(this.key=t,this.destination.next(e))}}var Bn=i(94458),Dn=i(15257);class Nn{constructor(e){this.total=e}call(e,t){return t.subscribe(new Fn(e,this.total))}}class Fn extends xn.L{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){++this.count>this.total&&this.destination.next(e)}}const Hn=["positionHighlight"],$n=["*"],zn={setCssElementPosition:function(e,t){e.style.left=t.x+"px",e.style.top=t.y+"px"},resetCSSElementPosition:function(e){e.style.left="",e.style.top=""},setTransform:function(e,t){const i=`translate(${t.x}px,${t.y}px)`;e.style.transform=i,e.style.WebkitTransform=i,e.style.MozTransform=i,e.style.msTransform=i,e.style.OTransform=i},resetTransform:function(e){e.style.transform="",e.style.WebkitTransform="",e.style.MozTransform="",e.style.msTransform="",e.style.OTransform=""},clearSelection:()=>{document.selection?document.selection.empty():window.getSelection&&window.getSelection().removeAllRanges()},isElementFitContainer:function(e,t){const i=t.getBoundingClientRect(),n=e.getBoundingClientRect();return n.left>i.left&&n.right<i.right&&n.top>i.top&&n.bottom<i.bottom},isElementIntersectContainer:function(e,t){const i=t.getBoundingClientRect(),n=e.getBoundingClientRect(),o=n.right-n.left,r=n.bottom-n.top;return n.left+o/2>i.left&&n.right-o/2<i.right&&n.top+r/2>i.top&&n.bottom-r/2<i.bottom},isElementTouchContainer:function(e,t){const i=t.getBoundingClientRect(),n=e.getBoundingClientRect();return n.right>i.left&&n.bottom>i.top&&n.left<i.right&&n.top<i.bottom},isCursorAboveElement:function(e,t){const i=t.getBoundingClientRect();return e.pageX>i.left&&e.pageX<i.right&&e.pageY>i.top&&e.pageY<i.bottom},getElementOuterHeight:function(e){const t=window.getComputedStyle(e);return parseFloat(t.getPropertyValue("height"))+parseFloat(t.getPropertyValue("padding-top"))+parseFloat(t.getPropertyValue("padding-bottom"))},getRelativeCoordinates:(e,t)=>{const i=t.getBoundingClientRect(),n=e.getBoundingClientRect();return{top:n.top-i.top,left:n.left-i.left}},getScrollableContainer(e){const t=/(auto|scroll)/,i=(e,t)=>null===e.parentNode?t:i(e.parentNode,t.concat([e])),n=(e,t)=>getComputedStyle(e,null).getPropertyValue(t),o=e=>t.test((e=>n(e,"overflow")+n(e,"overflow-y")+n(e,"overflow-x"))(e));return(e=>{if(!(e instanceof HTMLElement||e instanceof SVGElement))return;const t=i(e.parentNode,[]);for(let i=0;i<t.length;i+=1)if(o(t[i]))return t[i];return document.scrollingElement||document.documentElement})(e)}},Vn=function(e){for(let t=0;t<e;t++)this.push(null)};Vn.prototype=[];class Kn{constructor(e,t){this.options=t,this.items=e,this.adjustSizeOfItems(),this.generateGrid()}toString(){const e=this.grid.length;let t,i,n,o="\n #|",r="\n --";for(i=0;i<e;i++)o+=" "+this.padNumber(i," "),r+="---";for(o+=r,i=0;i<this.options.lanes;i++)for(o+="\n"+this.padNumber(i," ")+"|",n=0;n<e;n++)o+=" ",t=this.grid[n][i],o+=t?this.padNumber(this.items.indexOf(t),"0"):"--";return o+="\n",o}setOption(e,t){this.options[e]=t}generateGrid(){let e;for(this.resetGrid(),e=0;e<this.items.length;e++)this.markItemPositionToGrid(this.items[e])}resizeGrid(e){let t=0;this.options.lanes=e,this.adjustSizeOfItems(),this.sortItemsByPosition(),this.resetGrid();for(let i=0;i<this.items.length;i++){const e=this.items[i],n=this.getItemPosition(e);this.updateItemPosition(e,this.findPositionForItem(e,{x:t,y:0})),t=Math.max(t,n.x)}this.pullItemsToLeft()}findPositionForItem(e,t,i){let n,o,r;for(n=t.x;n<this.grid.length;n++)if(void 0!==i){if(r=[n,i],this.itemFitsAtPosition(e,r))return r}else for(o=t.y;o<this.options.lanes;o++)if(r=[n,o],this.itemFitsAtPosition(e,r))return r;const s=this.grid.length;let a=0;return void 0!==i&&this.itemFitsAtPosition(e,[s,i])&&(a=i),[s,a]}moveAndResize(e,t,i){const n=this.getItemPosition({x:t[0],y:t[1],w:e.w,h:e.h}),o=i.w||e.w,r=i.h||e.h;this.updateItemPosition(e,[n.x,n.y]),this.updateItemSize(e,o,r),this.resolveCollisions(e)}moveItemToPosition(e,t){const i=this.getItemPosition({x:t[0],y:t[1],w:e.w,h:e.h});this.updateItemPosition(e,[i.x,i.y]),this.resolveCollisions(e)}resizeItem(e,t){this.updateItemSize(e,t.w||e.w,t.h||e.h),this.pullItemsToLeft(e)}getChangedItems(e,t){return this.items.map(i=>{const n=[],o={},r=e.find(e=>e.$element===i.$element);if(!r)return{item:i,changes:["x","y","w","h"],isNew:!0};const s=r.getValueX(t);i.getValueX(t)!==s&&(n.push("x"),(s||0===s)&&(o.x=s));const a=r.getValueY(t);return i.getValueY(t)!==a&&(n.push("y"),(a||0===a)&&(o.y=a)),i.getValueW(t)!==r.getValueW(t)&&(n.push("w"),o.w=r.w),i.getValueH(t)!==r.getValueH(t)&&(n.push("h"),o.h=r.h),{item:i,oldValues:o,changes:n,isNew:!1}}).filter(e=>e.changes.length)}resolveCollisions(e){this.tryToResolveCollisionsLocally(e)||this.pullItemsToLeft(e),(this.options.floating||this.getItemsCollidingWithItem(e).length)&&this.pullItemsToLeft()}pushCollidingItems(e){this.sortItemsByPosition(),this.resetGrid(),this.generateGrid(),this.items.filter(t=>!this.isItemFloating(t)&&t!==e).forEach(e=>{this.tryToResolveCollisionsLocally(e)||this.pullItemsToLeft(e)})}pullItemsToLeft(e){if("none"!==this.options.direction){if(this.sortItemsByPosition(),this.resetGrid(),e){const t=this.getItemPosition(e);this.updateItemPosition(e,[t.x,t.y])}this.items.filter(t=>!t.dragAndDrop&&t!==e).forEach(e=>{const t=this.getItemPosition(e);this.updateItemPosition(e,[t.x,t.y])});for(let t=0;t<this.items.length;t++){const i=this.items[t],n=this.getItemPosition(i);if(e&&i===e||!i.dragAndDrop||!this.options.floating&&this.isItemFloating(i)&&!this.getItemsCollidingWithItem(i).length)continue;const o=this.findLeftMostPositionForItem(i),r=this.findPositionForItem(i,{x:o,y:0},n.y);this.updateItemPosition(i,r)}}}isOverFixedArea(e,t,i,n,o=null){let r={x:e,y:t,w:i,h:n};"horizontal"!==this.options.direction&&(r={x:t,y:e,w:n,h:i});for(let s=r.x;s<r.x+r.w;s++)for(let e=r.y;e<r.y+r.h;e++)if(this.grid[s]&&this.grid[s][e]&&this.grid[s][e]!==o&&!this.grid[s][e].dragAndDrop)return!0;return!1}checkItemAboveEmptyArea(e,t){let i={x:t.x,y:t.y,w:e.w,h:e.h};return!e.itemPrototype&&e.x===t.x&&e.y===t.y||("horizontal"===this.options.direction&&(i={x:t.y,y:t.x,w:i.h,h:i.w}),!this.checkItemsInArea(i.y,i.y+i.h-1,i.x,i.x+i.w-1,e))}fixItemsPositions(e){const t=this.items.filter(e=>e.itemComponent).filter(t=>this.isItemValidForGrid(t,e)),i=this.items.filter(e=>e.itemComponent).filter(t=>!this.isItemValidForGrid(t,e)),n=new Kn([],e);n.items=t.map(t=>t.copyForBreakpoint(e.breakpoint)),n.generateGrid(),i.forEach(t=>{const i=t.copyForBreakpoint(e.breakpoint),o=n.findPositionForItem(i,{x:0,y:0});n.items.push(i),n.setItemPosition(i,o),n.markItemPositionToGrid(i)}),n.pullItemsToLeft(),n.pushCollidingItems(),this.items.forEach(t=>{const i=n.items.filter(e=>e.$element===t.$element)[0];t.setValueX(i.x,e.breakpoint),t.setValueY(i.y,e.breakpoint),t.setValueW(i.w,e.breakpoint),t.setValueH(i.h,e.breakpoint),t.autoSize=i.autoSize})}deleteItemPositionFromGrid(e){const t=this.getItemPosition(e);let i,n;for(i=t.x;i<t.x+t.w;i++)if(this.grid[i])for(n=t.y;n<t.y+t.h;n++)this.grid[i][n]===e&&(this.grid[i][n]=null)}isItemFloating(e){if(e.itemComponent&&e.itemComponent.isDragging)return!1;const t=this.getItemPosition(e);return 0!==t.x&&(this.grid[t.x-1]||[]).slice(t.y,t.y+t.h).reduce((e,t)=>e&&!t,!0)}isItemValidForGrid(e,t){const i="horizontal"===t.direction?{x:e.getValueY(t.breakpoint),y:e.getValueX(t.breakpoint),w:e.getValueH(t.breakpoint),h:Math.min(e.getValueW(this.options.breakpoint),t.lanes)}:{x:e.getValueX(t.breakpoint),y:e.getValueY(t.breakpoint),w:Math.min(e.getValueW(this.options.breakpoint),t.lanes),h:e.getValueH(t.breakpoint)};return"number"==typeof i.x&&"number"==typeof i.y&&i.x+i.w<=t.lanes}findDefaultPositionHorizontal(e,t){for(const i of this.grid){const n=this.grid.indexOf(i);let o=0;for(;o<i.length-t+1;){if(!this.checkItemsInArea(n,n+e-1,o,o+t-1))return[n,o];o++}}return[this.grid.length,0]}findDefaultPositionVertical(e,t){for(const i of this.grid){const n=this.grid.indexOf(i);let o=0;for(;o<i.length-e+1;){if(!this.checkItemsInArea(n,n+t-1,o,o+e-1))return[o,n];o++}}return[0,this.grid.length]}checkItemsInArea(e,t,i,n,o){for(let r=e;r<=t;r++)for(let e=i;e<=n;e++)if(this.grid[r]&&this.grid[r][e]&&(!o||this.grid[r][e]!==o))return!0;return!1}sortItemsByPosition(){this.items.sort((e,t)=>{const i=this.getItemPosition(e),n=this.getItemPosition(t);return i.x!==n.x?i.x-n.x:i.y!==n.y?i.y-n.y:0})}adjustSizeOfItems(){for(let e=0;e<this.items.length;e++){const t=this.items[e];void 0===t.autoSize&&(t.autoSize=0===t.w||0===t.h),t.autoSize&&("horizontal"===this.options.direction?t.h=this.options.lanes:t.w=this.options.lanes)}}resetGrid(){this.grid=[]}itemFitsAtPosition(e,t){const i=this.getItemPosition(e);let n,o;if(t[0]<0||t[1]<0||t[1]+Math.min(i.h,this.options.lanes)>this.options.lanes||this.isOverFixedArea(e.x,e.y,e.w,e.h))return!1;for(n=t[0];n<t[0]+i.w;n++){const r=this.grid[n];if(r)for(o=t[1];o<t[1]+i.h;o++)if(r[o]&&r[o]!==e)return!1}return!0}updateItemPosition(e,t){null!==e.x&&null!==e.y&&this.deleteItemPositionFromGrid(e),this.setItemPosition(e,t),this.markItemPositionToGrid(e)}updateItemSize(e,t,i){null!==e.x&&null!==e.y&&this.deleteItemPositionFromGrid(e),e.w=t,e.h=i,this.markItemPositionToGrid(e)}markItemPositionToGrid(e){const t=this.getItemPosition(e);let i,n;for(this.ensureColumns(t.x+t.w),i=t.x;i<t.x+t.w;i++)for(n=t.y;n<t.y+t.h;n++)this.grid[i][n]=e}ensureColumns(e){for(let t=0;t<e;t++)this.grid[t]||this.grid.push(new Vn(this.options.lanes))}getItemsCollidingWithItem(e){const t=[];for(let i=0;i<this.items.length;i++)e!==this.items[i]&&this.itemsAreColliding(e,this.items[i])&&t.push(i);return t}itemsAreColliding(e,t){const i=this.getItemPosition(e),n=this.getItemPosition(t);return!(n.x>=i.x+i.w||n.x+n.w<=i.x||n.y>=i.y+i.h||n.y+n.h<=i.y)}tryToResolveCollisionsLocally(e){const t=this.getItemsCollidingWithItem(e);if(!t.length)return!0;const i=new Kn(this.items.map(e=>e.copy()),this.options);let n,o,r,s;for(let a=0;a<t.length;a++){const l=i.items[t[a]],c=this.getItemPosition(l),h=this.getItemPosition(e);if(n=[h.x-c.w,c.y],o=[h.x+h.w,c.y],r=[c.x,h.y-c.h],s=[c.x,h.y+h.h],i.itemFitsAtPosition(l,n))i.updateItemPosition(l,n);else if(i.itemFitsAtPosition(l,r))i.updateItemPosition(l,r);else if(i.itemFitsAtPosition(l,s))i.updateItemPosition(l,s);else{if(!i.itemFitsAtPosition(l,o))return!1;i.updateItemPosition(l,o)}}return this.items.forEach((e,t)=>{const n=i.items.filter(t=>t.$element===e.$element)[0];e.x=n.x,e.y=n.y,e.w=n.w,e.h=n.h,e.autoSize=n.autoSize}),this.generateGrid(),!0}findLeftMostPositionForItem(e){let t=0;const i=this.getItemPosition(e);for(let n=0;n<this.grid.length;n++)for(let o=i.y;o<i.y+i.h;o++){const i=this.grid[n][o];if(!i)continue;const r=this.getItemPosition(i);this.items.indexOf(i)<this.items.indexOf(e)&&(t=r.x+r.w)}return t}findItemByPosition(e,t){for(let i=0;i<this.items.length;i++)if(this.items[i].x===e&&this.items[i].y===t)return this.items[i]}getItemByAttribute(e,t){for(let i=0;i<this.items.length;i++)if(this.items[i][e]===t)return this.items[i];return null}padNumber(e,t){return e>=10?e:t+e}getItemPosition(e){return"horizontal"===this.options.direction?e:{x:e.y,y:e.x,w:e.h,h:e.w}}setItemPosition(e,t){"horizontal"===this.options.direction?(e.x=t[0],e.y=t[1]):(e.x=t[1],e.y=t[0])}}let Wn=(()=>{class e{constructor(){this.items=[],this._items=[],this._itemsMap={},this.disabledItems=[],this.debounceRenderSubject=new yn.xQ,this.itemRemoveSubject=new yn.xQ,this.isInit=!1,this.itemRemoveSubject.pipe(Cn(0)).subscribe(()=>{this.gridList.pullItemsToLeft(),this.render(),this.updateCachedItems()}),this.debounceRenderSubject.pipe(Cn(0)).subscribe(()=>this.render())}isInitialized(){return this.isInit}registerItem(e){return this.items.push(e),e}init(e){this.gridsterComponent=e,this.draggableOptions=e.draggableOptions,this.gridsterOptions=e.gridsterOptions}start(){this.updateMaxItemSize(),this.$positionHighlight&&this.removePositionHighlight(),this.initGridList(),this.isInit=!0,setTimeout(()=>{this.copyItems(),this.fixItemsPositions(),this.gridsterComponent.reflowGridster(!0),this.gridsterComponent.setReady()})}initGridList(){this.gridList=new Kn(this.items,this.options)}render(){this.updateMaxItemSize(),this.gridList.generateGrid(),this.applySizeToItems(),this.applyPositionToItems(),this.refreshLines()}reflow(){this.calculateCellSize(),this.render()}fixItemsPositions(){this.options.responsiveSizes?this.gridList.fixItemsPositions(this.options):(this.gridList.fixItemsPositions(this.gridsterOptions.basicOptions),this.gridsterOptions.responsiveOptions.forEach(e=>{this.gridList.fixItemsPositions(e)})),this.updateCachedItems()}removeItem(e){this.items.indexOf(e)>=0&&this.items.splice(this.items.indexOf(e),1),this.gridList.deleteItemPositionFromGrid(e),this.removeItemFromCache(e)}onResizeStart(e){this.currentElement=e.$element,this.copyItems(),this._maxGridCols=this.gridList.grid.length,this.highlightPositionForItem(e),this.gridsterComponent.isResizing=!0,this.refreshLines()}onResizeDrag(e){const t=this.snapItemSizeToGrid(e),i=this.dragSizeChanged(t),n=this.snapItemPositionToGrid(e),o=this.dragPositionChanged(n);(i||o)&&(this.restoreCachedItems(),this.gridList.generateGrid(),this.previousDragPosition=n,this.previousDragSize=t,this.gridList.moveAndResize(e,n,{w:t[0],h:t[1]}),this.applyPositionToItems(!0),this.highlightPositionForItem(e))}onResizeStop(e){this.currentElement=void 0,this.updateCachedItems(),this.previousDragSize=null,this.removePositionHighlight(),this.gridsterComponent.isResizing=!1,this.gridList.pullItemsToLeft(e),this.debounceRenderSubject.next(),this.fixItemsPositions()}onStart(e){this.currentElement=e.$element,this.copyItems(),this._maxGridCols=this.gridList.grid.length,this.gridsterComponent.isDragging=!0,this.gridsterComponent.updateGridsterElementData(),this.refreshLines()}onDrag(e){const t=this.snapItemPositionToGrid(e);if(this.dragPositionChanged(t)){if(this.restoreCachedItems(),this.gridList.generateGrid(),this.previousDragPosition=t,"none"===this.options.direction&&!this.gridList.checkItemAboveEmptyArea(e,{x:t[0],y:t[1]}))return;this.gridList.moveItemToPosition(e,t),this.applyPositionToItems(!0),this.highlightPositionForItem(e)}}cancel(){this.restoreCachedItems(),this.previousDragPosition=null,this.updateMaxItemSize(),this.applyPositionToItems(),this.removePositionHighlight(),this.currentElement=void 0,this.gridsterComponent.isDragging=!1}onDragOut(e){this.cancel();const t=this.items.indexOf(e);t>=0&&this.items.splice(t,1),this.gridList.pullItemsToLeft(),this.render()}onStop(e){this.currentElement=void 0,this.updateCachedItems(),this.previousDragPosition=null,this.removePositionHighlight(),this.gridList.pullItemsToLeft(e),this.gridsterComponent.isDragging=!1,this.refreshLines()}calculateCellSize(){"horizontal"===this.options.direction?(this.cellHeight=this.calculateCellHeight(),this.cellWidth=this.options.cellWidth||this.cellHeight*this.options.widthHeightRatio):(this.cellWidth=this.calculateCellWidth(),this.cellHeight=this.options.cellHeight||this.cellWidth/this.options.widthHeightRatio),this.options.heightToFontSizeRatio&&(this._fontSize=this.cellHeight*this.options.heightToFontSizeRatio)}applyPositionToItems(e){this.options.shrink||(e=!0);for(let i=0;i<this.items.length;i++)this.isCurrentElement(this.items[i].$element)||this.items[i].applyPosition(this);const t=this.gridsterComponent.$element.firstChild;if("horizontal"===this.options.direction){const i=e?this.maxItemWidth:0;t.style.height="",t.style.width=(this.gridList.grid.length+i)*this.cellWidth+"px"}else this.gridList.grid.length&&(t.style.height=(this.gridList.grid.length+(e?this.maxItemHeight:0))*this.cellHeight+"px",t.style.width="")}refreshLines(){const e=this.gridsterComponent.$element.firstChild;if(this.options.lines&&this.options.lines.visible&&(this.gridsterComponent.isDragging||this.gridsterComponent.isResizing||this.options.lines.always)){const t=this.options.lines.color||"#d8d8d8",i=this.options.lines.backgroundColor||"transparent",n=this.options.lines.width||1,o=n/2;e.style.backgroundSize=`${this.cellWidth}px ${this.cellHeight}px`,e.style.backgroundPosition=`-${o}px -${o}px`,e.style.backgroundImage=`\n                linear-gradient(to right, ${t} ${n}px, ${i} ${n}px),\n                linear-gradient(to bottom, ${t} ${n}px, ${i} ${n}px)\n            `}else e.style.backgroundSize="",e.style.backgroundPosition="",e.style.backgroundImage=""}removeItemFromCache(e){this._items=this._items.filter(t=>t.$element!==e.$element),Object.keys(this._itemsMap).forEach(t=>{this._itemsMap[t]=this._itemsMap[t].filter(t=>t.$element!==e.$element)})}copyItems(){this._items=this.items.filter(e=>this.isValidGridItem(e)).map(e=>e.copyForBreakpoint(null)),this.gridsterOptions.responsiveOptions.forEach(e=>{this._itemsMap[e.breakpoint]=this.items.filter(e=>this.isValidGridItem(e)).map(t=>t.copyForBreakpoint(e.breakpoint))})}updateMaxItemSize(){this.maxItemWidth=Math.max.apply(null,this.items.map(e=>e.w)),this.maxItemHeight=Math.max.apply(null,this.items.map(e=>e.h))}restoreCachedItems(){const e=this.options.breakpoint?this._itemsMap[this.options.breakpoint]:this._items;this.items.filter(e=>this.isValidGridItem(e)).forEach(t=>{const i=e.filter(e=>e.$element===t.$element)[0];t.x=i.x,t.y=i.y,t.w=i.w,t.h=i.h,t.autoSize=i.autoSize})}isValidGridItem(e){return"none"!==this.options.direction||!!e.itemComponent}calculateCellWidth(){return parseFloat(window.getComputedStyle(this.gridsterComponent.$element).width)/this.options.lanes}calculateCellHeight(){return parseFloat(window.getComputedStyle(this.gridsterComponent.$element).height)/this.options.lanes}applySizeToItems(){for(let e=0;e<this.items.length;e++)this.items[e].applySize(),this.options.heightToFontSizeRatio&&(this.items[e].$element.style["font-size"]=this._fontSize)}isCurrentElement(e){return!!this.currentElement&&e===this.currentElement}snapItemSizeToGrid(e){const t=parseInt(e.$element.style.width,10)-1,i=parseInt(e.$element.style.height,10)-1;let n=Math.round(t/this.cellWidth),o=Math.round(i/this.cellHeight);return n=Math.max(n,1),o=Math.max(o,1),this.gridList.isOverFixedArea(e.x,e.y,n,o,e)?[e.w,e.h]:[n,o]}generateItemPosition(e){let t;if(e.itemPrototype){const i=e.itemPrototype.getPositionToGridster(this);t={x:Math.round(i.x/this.cellWidth),y:Math.round(i.y/this.cellHeight)}}else t={x:Math.round(e.positionX/this.cellWidth),y:Math.round(e.positionY/this.cellHeight)};return t}snapItemPositionToGrid(e){const t=this.generateItemPosition(e);let i=t.x,n=t.y;return i=Math.max(i,0),n=Math.max(n,0),i="horizontal"===this.options.direction?Math.min(i,this._maxGridCols):Math.min(i,Math.max(0,this.options.lanes-e.w)),this.gridList.isOverFixedArea(i,n,e.w,e.h)?[e.x,e.y]:[i,n]}dragSizeChanged(e){return!this.previousDragSize||e[0]!==this.previousDragSize[0]||e[1]!==this.previousDragSize[1]}dragPositionChanged(e){return!this.previousDragPosition||e[0]!==this.previousDragPosition[0]||e[1]!==this.previousDragPosition[1]}highlightPositionForItem(e){const t=e.calculateSize(this),i=e.calculatePosition(this);this.$positionHighlight.style.width=t.width+"px",this.$positionHighlight.style.height=t.height+"px",this.$positionHighlight.style.left=i.left+"px",this.$positionHighlight.style.top=i.top+"px",this.$positionHighlight.style.display="",this.options.heightToFontSizeRatio&&(this.$positionHighlight.style["font-size"]=this._fontSize)}updateCachedItems(){this.triggerOnChange(null),this.gridsterOptions.responsiveOptions.forEach(e=>{this.triggerOnChange(e.breakpoint)}),this.copyItems()}triggerOnChange(e){this.gridList.getChangedItems((e?this._itemsMap[e]:this._items)||[],e).filter(e=>e.item.itemComponent).forEach(t=>{t.changes.indexOf("x")>=0&&t.item.triggerChangeX(e),t.changes.indexOf("y")>=0&&t.item.triggerChangeY(e),t.changes.indexOf("w")>=0&&t.item.triggerChangeW(e),t.changes.indexOf("h")>=0&&t.item.triggerChangeH(e),t.item.itemComponent.change.emit({item:t.item,oldValues:t.oldValues||{},isNew:t.isNew,changes:t.changes,breakpoint:e})})}removePositionHighlight(){this.$positionHighlight.style.display="none"}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac}),e})(),Gn=(()=>{class e{constructor(){this.isDragging=!1,this.dragSubject=new yn.xQ,this.dragStartSubject=new yn.xQ,this.dragStopSubject=new yn.xQ}observeDropOver(e){return this.dragStopSubject.pipe((0,En.h)(t=>{const i=e.gridsterComponent.$element;return![].slice.call(i.querySelectorAll("gridster")).reduce((i,n)=>i||this.isOverGridster(t.item,n,t.event,e.options),!1)&&this.isOverGridster(t.item,i,t.event,e.options)}),(0,Mn.b)(t=>{t.item.onDrop(e)}))}observeDropOut(e){return this.dragStopSubject.pipe((0,En.h)(t=>!this.isOverGridster(t.item,e.gridsterComponent.$element,t.event,e.options)),(0,Mn.b)(e=>{e.item.onCancel()}))}observeDragOver(e){const t=this.dragSubject.pipe((0,On.U)(t=>({item:t.item,event:t.event,isOver:this.isOverGridster(t.item,e.gridsterComponent.$element,t.event,e.options),isDrop:!1}))),i=this.dragStopSubject.pipe((0,On.U)(t=>({item:t.item,event:t.event,isOver:this.isOverGridster(t.item,e.gridsterComponent.$element,t.event,e.options),isDrop:!0}))),n=(0,bn.T)(this.dragStartSubject.pipe((0,On.U)(()=>({item:null,isOver:!1,isDrop:!1}))),t,i).pipe((0,In.R)((e,t)=>({item:t.item,event:t.event,isOver:t.isOver,isEnter:!1===e.isOver&&!0===t.isOver,isOut:!0===e.isOver&&!1===t.isOver&&!e.isDrop,isDrop:t.isDrop})),(0,En.h)(e=>!e.isDrop),(0,Pn.B)()),o=this.createDragEnterObservable(n,e),r=this.createDragOutObservable(n,e),s=o.pipe((0,Rn.w)(()=>this.dragSubject.pipe((0,qn.R)(r))),(0,On.U)(e=>e.item));return{dragEnter:o,dragOut:r,dragOver:s}}dragItemStart(e,t){this.isDragging=!0,this.dragStartSubject.next({item:e,event:t})}dragItemStop(e,t){this.isDragging=!1,this.dragStopSubject.next({item:e,event:t})}updatePrototypePosition(e,t){this.dragSubject.next({item:e,event:t})}createDragOverObservable(e,t){return e.pipe((0,En.h)(e=>e.isOver&&!e.isEnter&&!e.isOut),(0,On.U)(e=>e.item),(0,Mn.b)(e=>e.onOver(t)))}createDragEnterObservable(e,t){return e.pipe((0,En.h)(e=>e.isEnter),(0,On.U)(e=>e.item),(0,Mn.b)(e=>e.onEnter(t)))}createDragOutObservable(e,t){return e.pipe((0,En.h)(e=>e.isOut),(0,On.U)(e=>e.item),(0,Mn.b)(e=>e.onOut(t)))}isOverGridster(e,t,i,n){const o=e.$element,r=t.parentElement&&t.parentElement.closest("gridster-item");if(r)return this.isOverGridster(e,r,i,n);switch(n.tolerance){case"fit":return zn.isElementFitContainer(o,t);case"intersect":return zn.isElementIntersectContainer(o,t);case"touch":return zn.isElementTouchContainer(o,t);default:return zn.isCursorAboveElement(i,t)}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac}),e})();class Yn{constructor(e,t){this.defaults={lanes:5,direction:"horizontal",widthHeightRatio:1,shrink:!1,responsiveView:!0,responsiveSizes:!1,responsiveToParent:!1,dragAndDrop:!0,resizable:!1,useCSSTransforms:!1,floating:!0,tolerance:"pointer"},this.responsiveOptions=[],this.breakpointsMap={sm:576,md:768,lg:992,xl:1200};const i=e.responsiveToParent?t:window;this.basicOptions=e,this.responsiveOptions=this.extendResponsiveOptions(e.responsiveOptions||[]),this.change=(0,bn.T)((0,wn.of)(this.getOptionsByWidth(this.getElementWidth(i))),(0,An.R)(window,"resize").pipe(Cn(e.responsiveDebounce||0),(0,On.U)(e=>this.getOptionsByWidth(this.getElementWidth(i))))).pipe(function(e,t){return e=>e.lift(new Ln(null,t))}(0,e=>e.minWidth))}getOptionsByWidth(e){let t=0,i=Object.assign({},this.defaults,this.basicOptions);for(;this.responsiveOptions[t];)this.responsiveOptions[t].minWidth<=e&&(i=this.responsiveOptions[t]),t++;return i}extendResponsiveOptions(e){return e.filter(e=>e.breakpoint).map(e=>Object.assign({minWidth:this.breakpointsMap[e.breakpoint]||0},e)).sort((e,t)=>e.minWidth-t.minWidth).map(e=>Object.assign({},this.defaults,this.basicOptions,e))}getElementWidth(e){return e===window?window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth:e.clientWidth}}let jn=(()=>{class e{constructor(e,t,i,n){this.zone=e,this.gridsterPrototype=n,this.optionsChange=new o.vpe,this.ready=new o.vpe,this.reflow=new o.vpe,this.prototypeDrop=new o.vpe,this.prototypeEnter=new o.vpe,this.prototypeOut=new o.vpe,this.draggableOptions={},this.isDragging=!1,this.isResizing=!1,this.isReady=!1,this.isPrototypeEntered=!1,this.isDisabled=!1,this.subscription=new Fi.w,this.gridster=i,this.$element=t.nativeElement}ngOnInit(){this.gridsterOptions=new Yn(this.options,this.$element),this.options.useCSSTransforms&&this.$element.classList.add("css-transform"),this.subscription.add(this.gridsterOptions.change.subscribe(e=>{this.gridster.options=e,this.gridster.gridList&&(this.gridster.gridList.options=e),setTimeout(()=>this.optionsChange.emit(e))})),this.gridster.init(this),this.subscription.add((0,An.R)(window,"resize").pipe(Cn(this.gridster.options.responsiveDebounce||0),(0,En.h)(()=>this.gridster.options.responsiveView)).subscribe(()=>this.reload())),this.zone.runOutsideAngular(()=>{this.subscription.add((0,An.R)(document,"scroll",{passive:!0}).subscribe(()=>this.updateGridsterElementData()));const e=zn.getScrollableContainer(this.$element);e&&this.subscription.add((0,An.R)(e,"scroll",{passive:!0}).subscribe(()=>this.updateGridsterElementData()))})}ngAfterContentInit(){this.gridster.start(),this.updateGridsterElementData(),this.connectGridsterPrototype(),this.gridster.$positionHighlight=this.$positionHighlight.nativeElement}ngOnDestroy(){this.subscription.unsubscribe()}setOption(e,t){return"dragAndDrop"===e&&(t?this.enableDraggable():this.disableDraggable()),"resizable"===e&&(t?this.enableResizable():this.disableResizable()),"lanes"===e&&(this.gridster.options.lanes=t,this.gridster.gridList.fixItemsPositions(this.gridster.options),this.reflowGridster()),"direction"===e&&(this.gridster.options.direction=t,this.gridster.gridList.pullItemsToLeft()),"widthHeightRatio"===e&&(this.gridster.options.widthHeightRatio=parseFloat(t||1)),"responsiveView"===e&&(this.gridster.options.responsiveView=!!t),this.gridster.gridList.setOption(e,t),this}reload(){return setTimeout(()=>{this.gridster.fixItemsPositions(),this.reflowGridster()}),this}reflowGridster(e=!1){this.gridster.reflow(),this.reflow.emit({isInit:e,gridsterComponent:this})}updateGridsterElementData(){this.gridster.gridsterScrollData=this.getScrollPositionFromParents(this.$element),this.gridster.gridsterRect=this.$element.getBoundingClientRect()}setReady(){setTimeout(()=>this.isReady=!0),this.ready.emit()}adjustItemsHeightToContent(e=".gridster-item-inner"){this.gridster.items.map(t=>{const i=t.$element.querySelector(e),n=i.lastElementChild,o=zn.getRelativeCoordinates(i,t.$element),r=i.getBoundingClientRect();return{item:t,contentHeight:n.getBoundingClientRect().bottom-r.top,scrollElDistance:o}}).forEach(e=>{e.item.h=Math.ceil(e.contentHeight/(this.gridster.cellHeight-e.scrollElDistance.top))}),this.gridster.fixItemsPositions(),this.gridster.reflow()}disable(e){const t=this.gridster.items.indexOf(e.itemComponent);this.isDisabled=!0,t>=0&&delete this.gridster.items[this.gridster.items.indexOf(e.itemComponent)],this.gridster.onDragOut(e)}enable(){this.isDisabled=!1}getScrollPositionFromParents(e,t={scrollTop:0,scrollLeft:0}){return e.parentElement&&e.parentElement!==document.body?(t.scrollTop+=e.parentElement.scrollTop,t.scrollLeft+=e.parentElement.scrollLeft,this.getScrollPositionFromParents(e.parentElement,t)):{scrollTop:t.scrollTop,scrollLeft:t.scrollLeft}}connectGridsterPrototype(){this.gridsterPrototype.observeDropOut(this.gridster).subscribe();const e=this.gridsterPrototype.observeDropOver(this.gridster).pipe((0,Bn.O)(new yn.xQ)),t=this.gridsterPrototype.observeDragOver(this.gridster);t.dragOver.pipe((0,En.h)(()=>!this.isDisabled)).subscribe(e=>{!this.isPrototypeEntered||this.gridster.onDrag(e.item)}),t.dragEnter.pipe((0,En.h)(()=>!this.isDisabled)).subscribe(e=>{this.isPrototypeEntered=!0,this.gridster.items.indexOf(e.item)<0&&this.gridster.items.push(e.item),this.gridster.onStart(e.item),e.setDragContextGridster(this.gridster),this.parent&&this.parent.disable(e.item),this.prototypeEnter.emit({item:e.item})}),t.dragOut.pipe((0,En.h)(()=>!this.isDisabled)).subscribe(e=>{!this.isPrototypeEntered||(this.gridster.onDragOut(e.item),this.isPrototypeEntered=!1,this.prototypeOut.emit({item:e.item}),this.parent&&(this.parent.enable(),this.parent.isPrototypeEntered=!0,this.parent.gridster.items.indexOf(e.item)<0&&this.parent.gridster.items.push(e.item),this.parent.gridster.onStart(e.item),e.setDragContextGridster(this.parent.gridster),setTimeout(()=>{this.parent.prototypeEnter.emit({item:e.item}),e.onEnter(this.parent.gridster)})))}),e.pipe((0,En.h)(()=>!this.isDisabled)).subscribe(e=>{!this.isPrototypeEntered||(this.gridster.onStop(e.item.item),this.gridster.removeItem(e.item.item),this.isPrototypeEntered=!1,this.parent&&this.parent.enable(),this.prototypeDrop.emit({item:e.item.item}))}),e.connect()}enableDraggable(){this.gridster.options.dragAndDrop=!0,this.gridster.items.filter(e=>e.itemComponent&&e.itemComponent.dragAndDrop).forEach(e=>e.itemComponent.enableDragDrop())}disableDraggable(){this.gridster.options.dragAndDrop=!1,this.gridster.items.filter(e=>e.itemComponent).forEach(e=>e.itemComponent.disableDraggable())}enableResizable(){this.gridster.options.resizable=!0,this.gridster.items.filter(e=>e.itemComponent&&e.itemComponent.resizable).forEach(e=>e.itemComponent.enableResizable())}disableResizable(){this.gridster.options.resizable=!1,this.gridster.items.forEach(e=>e.itemComponent.disableResizable())}}return e.\u0275fac=function(t){return new(t||e)(o.Y36(o.R0b),o.Y36(o.SBq),o.Y36(Wn),o.Y36(Gn))},e.\u0275cmp=o.Xpm({type:e,selectors:[["ngx-gridster"]],viewQuery:function(e,t){if(1&e&&o.Gf(Hn,7),2&e){let e;o.iGM(e=o.CRH())&&(t.$positionHighlight=e.first)}},hostVars:6,hostBindings:function(e,t){2&e&&o.ekj("gridster--dragging",t.isDragging)("gridster--resizing",t.isResizing)("gridster--ready",t.isReady)},inputs:{draggableOptions:"draggableOptions",options:"options",parent:"parent"},outputs:{optionsChange:"optionsChange",ready:"ready",reflow:"reflow",prototypeDrop:"prototypeDrop",prototypeEnter:"prototypeEnter",prototypeOut:"prototypeOut"},features:[o._Bn([Wn])],ngContentSelectors:$n,decls:5,vars:0,consts:[[1,"gridster-container"],[1,"position-highlight",2,"display","none"],["positionHighlight",""],[1,"inner"]],template:function(e,t){1&e&&(o.F$t(),o.TgZ(0,"div",0),o.Hsn(1),o.TgZ(2,"div",1,2),o._UZ(4,"div",3),o.qZA(),o.qZA())},styles:["\n            ngx-gridster {\n                position: relative;\n                display: block;\n                left: 0;\n                width: 100%;\n            }\n\n            ngx-gridster.gridster--dragging {\n                -moz-user-select: none;\n                -khtml-user-select: none;\n                -webkit-user-select: none;\n                -ms-user-select: none;\n                user-select: none;\n            }\n\n            ngx-gridster .gridster-container {\n                position: relative;\n                width: 100%;\n                list-style: none;\n                -webkit-transition: width 0.2s, height 0.2s;\n                transition: width 0.2s, height 0.2s;\n            }\n\n            ngx-gridster .position-highlight {\n                display: block;\n                position: absolute;\n                z-index: 1;\n            }\n        "],encapsulation:2,changeDetection:0}),e})(),Xn=(()=>{class e{get $element(){return this.getItem().$element}get x(){const e=this.getItem();return this.getValueX(e.gridster?e.gridster.options.breakpoint:null)}set x(e){const t=this.getItem();this.setValueX(e,t.gridster?t.gridster.options.breakpoint:null)}get y(){const e=this.getItem();return this.getValueY(e.gridster?e.gridster.options.breakpoint:null)}set y(e){const t=this.getItem();this.setValueY(e,t.gridster?t.gridster.options.breakpoint:null)}get w(){const e=this.getItem();return this.getValueW(e.gridster?e.gridster.options.breakpoint:null)}set w(e){const t=this.getItem();this.setValueW(e,t.gridster?t.gridster.options.breakpoint:null)}get h(){const e=this.getItem();return this.getValueH(e.gridster?e.gridster.options.breakpoint:null)}set h(e){const t=this.getItem();this.setValueH(e,t.gridster?t.gridster.options.breakpoint:null)}get autoSize(){return this.getItem().autoSize}set autoSize(e){this.getItem().autoSize=e}get dragAndDrop(){return!!this.getItem().dragAndDrop}get resizable(){return!!this.getItem().resizable}get positionX(){const e=this.itemComponent||this.itemPrototype;return e?e.positionX:null}get positionY(){const e=this.itemComponent||this.itemPrototype;return e?e.positionY:null}setFromGridsterItem(e){if(this.isItemSet())throw new Error("GridListItem is already set.");return this.itemComponent=e,this}setFromGridsterItemPrototype(e){if(this.isItemSet())throw new Error("GridListItem is already set.");return this.itemPrototype=e,this}setFromObjectLiteral(e){if(this.isItemSet())throw new Error("GridListItem is already set.");return this.itemObject=e,this}copy(){return(new e).setFromObjectLiteral({$element:this.$element,x:this.x,y:this.y,w:this.w,h:this.h,autoSize:this.autoSize,dragAndDrop:this.dragAndDrop,resizable:this.resizable})}copyForBreakpoint(t){return(new e).setFromObjectLiteral({$element:this.$element,x:this.getValueX(t),y:this.getValueY(t),w:this.getValueW(t),h:this.getValueH(t),autoSize:this.autoSize,dragAndDrop:this.dragAndDrop,resizable:this.resizable})}getValueX(e){return this.getItem()[this.getXProperty(e)]}getValueY(e){return this.getItem()[this.getYProperty(e)]}getValueW(e){return this.getItem()[this.getWProperty(e)]||1}getValueH(e){return this.getItem()[this.getHProperty(e)]||1}setValueX(e,t){this.getItem()[this.getXProperty(t)]=e}setValueY(e,t){this.getItem()[this.getYProperty(t)]=e}setValueW(e,t){this.getItem()[this.getWProperty(t)]=e}setValueH(e,t){this.getItem()[this.getHProperty(t)]=e}triggerChangeX(e){const t=this.itemComponent;t&&t[this.getXProperty(e)+"Change"].emit(this.getValueX(e))}triggerChangeY(e){const t=this.itemComponent;t&&t[this.getYProperty(e)+"Change"].emit(this.getValueY(e))}triggerChangeW(e){const t=this.itemComponent;t&&t[this.getWProperty(e)+"Change"].emit(this.getValueW(e))}triggerChangeH(e){const t=this.itemComponent;t&&t[this.getHProperty(e)+"Change"].emit(this.getValueH(e))}hasPositions(e){const t=this.getValueX(e),i=this.getValueY(e);return(t||0===t)&&(i||0===i)}applyPosition(e){const t=this.calculatePosition(e);this.itemComponent.positionX=t.left,this.itemComponent.positionY=t.top,this.itemComponent.updateElemenetPosition()}calculatePosition(e){return e||this.itemComponent?{left:this.x*(e=e||this.itemComponent.gridster).cellWidth,top:this.y*e.cellHeight}:{left:0,top:0}}applySize(e){const t=this.calculateSize(e);this.$element.style.width=t.width+"px",this.$element.style.height=t.height+"px"}calculateSize(e){if(!e&&!this.itemComponent)return{width:0,height:0};let t=this.getValueW((e=e||this.itemComponent.gridster).options.breakpoint),i=this.getValueH(e.options.breakpoint);return"vertical"===e.options.direction&&(t=Math.min(t,e.options.lanes)),"horizontal"===e.options.direction&&(i=Math.min(i,e.options.lanes)),{width:t*e.cellWidth,height:i*e.cellHeight}}getXProperty(t){return t&&this.itemComponent?e.X_PROPERTY_MAP[t]:"x"}getYProperty(t){return t&&this.itemComponent?e.Y_PROPERTY_MAP[t]:"y"}getWProperty(t){if(this.itemPrototype)return this.itemPrototype[e.W_PROPERTY_MAP[t]]?e.W_PROPERTY_MAP[t]:"w";const i=this.getItem();return t&&i.gridster&&i.gridster.options.responsiveSizes?e.W_PROPERTY_MAP[t]:"w"}getHProperty(t){if(this.itemPrototype)return this.itemPrototype[e.H_PROPERTY_MAP[t]]?e.H_PROPERTY_MAP[t]:"h";const i=this.getItem();return t&&i.gridster&&i.gridster.options.responsiveSizes?e.H_PROPERTY_MAP[t]:"h"}getItem(){const e=this.itemComponent||this.itemPrototype||this.itemObject;if(!e)throw new Error("GridListItem is not set.");return e}isItemSet(){return this.itemComponent||this.itemPrototype||this.itemObject}}return e.BREAKPOINTS=["sm","md","lg","xl"],e.X_PROPERTY_MAP={sm:"xSm",md:"xMd",lg:"xLg",xl:"xXl"},e.Y_PROPERTY_MAP={sm:"ySm",md:"yMd",lg:"yLg",xl:"yXl"},e.W_PROPERTY_MAP={sm:"wSm",md:"wMd",lg:"wLg",xl:"wXl"},e.H_PROPERTY_MAP={sm:"hSm",md:"hMd",lg:"hLg",xl:"hXl"},e})();class Jn{constructor(e){e.touches?(this.touchEvent=e,this.setDataFromTouchEvent(this.touchEvent)):(this.mouseEvent=e,this.setDataFromMouseEvent(this.mouseEvent))}isTouchEvent(){return!!this.touchEvent}pauseEvent(){const e=this.touchEvent||this.mouseEvent;return e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),e.cancelBubble=!0,e.returnValue=!1,!1}getRelativeCoordinates(e){const t=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop,i=window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft,n=e.getBoundingClientRect();return{x:this.pageX-n.left-i,y:this.pageY-n.top-t}}setDataFromMouseEvent(e){this.target=e.target,this.clientX=e.clientX,this.clientY=e.clientY,this.pageX=e.pageX,this.pageY=e.pageY,this.type=e.type}setDataFromTouchEvent(e){const t=e.touches[0]||e.changedTouches[0];this.target=e.target,this.clientX=t.clientX,this.clientY=t.clientY,this.pageX=t.pageX,this.pageY=t.pageY,this.type=e.type}}let Qn=(()=>{class e{constructor(e,t={}){this.mousemove=(0,bn.T)((0,An.R)(document,"mousemove"),(0,An.R)(document,"touchmove",{passive:!1})).pipe((0,Pn.B)()),this.mouseup=(0,bn.T)((0,An.R)(document,"mouseup"),(0,An.R)(document,"touchend"),(0,An.R)(document,"touchcancel")).pipe((0,Pn.B)()),this.config={handlerClass:null,scroll:!0,scrollEdge:36,scrollDirection:null},this.autoScrollingInterval=[],this.element=e,this.mousedown=(0,bn.T)((0,An.R)(e,"mousedown"),(0,An.R)(e,"touchstart")).pipe((0,Pn.B)()),this.config=Object.assign(Object.assign({},this.config),t),this.dragStart=this.createDragStartObservable().pipe((0,Pn.B)()),this.dragMove=this.createDragMoveObservable(this.dragStart),this.dragStop=this.createDragStopObservable(this.dragStart),this.fixProblemWithDnDForIE(e),this.requestAnimationFrame=window.requestAnimationFrame||(e=>setTimeout(e,1e3/60)),this.cancelAnimationFrame=window.cancelAnimationFrame||(e=>clearTimeout(e))}createDragStartObservable(){return this.mousedown.pipe((0,On.U)(e=>new Jn(e)),(0,En.h)(e=>this.isDragingByHandler(e)),(0,Mn.b)(e=>{e.isTouchEvent()||e.pauseEvent(),document.activeElement&&document.activeElement.blur(),zn.clearSelection()}),(0,Rn.w)(e=>this.mousemove.pipe((0,On.U)(e=>new Jn(e)),(0,En.h)(t=>this.inRange(e,t,5)),(0,On.U)(()=>e),(0,qn.R)(this.mouseup),(0,Dn.q)(1))))}createDragMoveObservable(e){return e.pipe((0,Mn.b)(e=>{this.addTouchActionNone(e.target)}),(0,Rn.w)(e=>this.mousemove.pipe(e=>e.lift(new Nn(1)),(0,On.U)(e=>new Jn(e)),(0,Mn.b)(t=>{t.pauseEvent(),e.pauseEvent()}),(0,qn.R)(this.mouseup))),(0,En.h)(e=>!!e),(0,Mn.b)(e=>{this.config.scroll&&this.startScroll(this.element,e)}))}createDragStopObservable(e){return e.pipe((0,Rn.w)(()=>this.mouseup.pipe((0,Dn.q)(1))),(0,On.U)(e=>new Jn(e)),(0,Mn.b)(e=>{e.target&&this.removeTouchActionNone(e.target),this.autoScrollingInterval.forEach(e=>this.cancelAnimationFrame(e))}))}startScroll(e,t){const i=this.getScrollContainer(e);this.autoScrollingInterval.forEach(e=>this.cancelAnimationFrame(e)),i?this.startScrollForContainer(t,i):this.startScrollForWindow(t)}startScrollForContainer(e,t){(!this.config.scrollDirection||"vertical"===this.config.scrollDirection)&&this.startScrollVerticallyForContainer(e,t),(!this.config.scrollDirection||"horizontal"===this.config.scrollDirection)&&this.startScrollHorizontallyForContainer(e,t)}startScrollVerticallyForContainer(t,i){t.pageY-this.getOffset(i).top<this.config.scrollEdge?this.startAutoScrolling(i,-e.SCROLL_SPEED,"scrollTop"):this.getOffset(i).top+i.getBoundingClientRect().height-t.pageY<this.config.scrollEdge&&this.startAutoScrolling(i,e.SCROLL_SPEED,"scrollTop")}startScrollHorizontallyForContainer(t,i){t.pageX-i.getBoundingClientRect().left<this.config.scrollEdge?this.startAutoScrolling(i,-e.SCROLL_SPEED,"scrollLeft"):this.getOffset(i).left+i.getBoundingClientRect().width-t.pageX<this.config.scrollEdge&&this.startAutoScrolling(i,e.SCROLL_SPEED,"scrollLeft")}startScrollForWindow(e){(!this.config.scrollDirection||"vertical"===this.config.scrollDirection)&&this.startScrollVerticallyForWindow(e),(!this.config.scrollDirection||"horizontal"===this.config.scrollDirection)&&this.startScrollHorizontallyForWindow(e)}startScrollVerticallyForWindow(t){const i=document.scrollingElement||document.documentElement||document.body;t.pageY-window.pageYOffset<this.config.scrollEdge?this.startAutoScrolling(i,-e.SCROLL_SPEED,"scrollTop"):window.innerHeight-(t.pageY-window.pageYOffset)<this.config.scrollEdge&&this.startAutoScrolling(i,e.SCROLL_SPEED,"scrollTop")}startScrollHorizontallyForWindow(t){const i=document.scrollingElement||document.documentElement||document.body;t.pageX-window.pageXOffset<this.config.scrollEdge?this.startAutoScrolling(i,-e.SCROLL_SPEED,"scrollLeft"):window.innerWidth-(t.pageX-window.pageXOffset)<this.config.scrollEdge&&this.startAutoScrolling(i,e.SCROLL_SPEED,"scrollLeft")}getScrollContainer(e){const t=zn.getElementOuterHeight(e);return e.scrollHeight>Math.ceil(t)?e:new RegExp("(body|html)","i").test(e.parentNode.tagName)?null:this.getScrollContainer(e.parentNode)}startAutoScrolling(e,t,i){return this.autoScrollingInterval.push(this.requestAnimationFrame((function(){this.startAutoScrolling(e,t,i)}).bind(this))),e[i]+=.25*t}getOffset(e){const t=e.getBoundingClientRect();return{left:t.left+this.getScroll("scrollLeft","pageXOffset"),top:t.top+this.getScroll("scrollTop","pageYOffset")}}getScroll(e,t){return void 0!==window[t]?window[t]:document.documentElement.clientHeight?document.documentElement[e]:document.body[e]}isDragingByHandler(e){return!!this.isValidDragHandler(e.target)&&(!this.config.handlerClass||this.config.handlerClass&&this.hasElementWithClass(this.config.handlerClass,e.target))}isValidDragHandler(e){return-1===["input","textarea"].indexOf(e.tagName.toLowerCase())}inRange(e,t,i){return Math.abs(t.clientX-e.clientX)>i||Math.abs(t.clientY-e.clientY)>i}hasElementWithClass(e,t){for(;t!==this.element;){if(t.classList.contains(e))return!0;t=t.parentElement}return!1}pauseEvent(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),e.cancelBubble=!0,e.returnValue=!1}fixProblemWithDnDForIE(e){this.isTouchDevice()&&this.isIEorEdge()&&e.style&&(e.style["touch-action"]="none")}removeTouchActionNone(e){!e.style||(e.style["touch-action"]="")}addTouchActionNone(e){!e.style||(e.style["touch-action"]="none")}isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints}isIEorEdge(){const e=window.navigator.userAgent,t=e.indexOf("MSIE ");if(t>0)return parseInt(e.substring(t+5,e.indexOf(".",t)),10);if(e.indexOf("Trident/")>0){const t=e.indexOf("rv:");return parseInt(e.substring(t+3,e.indexOf(".",t)),10)}const i=e.indexOf("Edge/");return i>0&&parseInt(e.substring(i+5,e.indexOf(".",i)),10)}}return e.SCROLL_SPEED=20,e})(),eo=(()=>{class e{constructor(e,t,i,n){this.zone=e,this.gridsterPrototypeService=t,this.xChange=new o.vpe(!0),this.yChange=new o.vpe(!0),this.xSmChange=new o.vpe(!0),this.ySmChange=new o.vpe(!0),this.xMdChange=new o.vpe(!0),this.yMdChange=new o.vpe(!0),this.xLgChange=new o.vpe(!0),this.yLgChange=new o.vpe(!0),this.xXlChange=new o.vpe(!0),this.yXlChange=new o.vpe(!0),this.wChange=new o.vpe(!0),this.hChange=new o.vpe(!0),this.wSmChange=new o.vpe(!0),this.hSmChange=new o.vpe(!0),this.wMdChange=new o.vpe(!0),this.hMdChange=new o.vpe(!0),this.wLgChange=new o.vpe(!0),this.hLgChange=new o.vpe(!0),this.wXlChange=new o.vpe(!0),this.hXlChange=new o.vpe(!0),this.change=new o.vpe(!0),this.start=new o.vpe(!0),this.end=new o.vpe(!0),this.dragAndDrop=!0,this.resizable=!0,this.options={},this.isDragging=!1,this.isResizing=!1,this.defaultOptions={minWidth:1,minHeight:1,maxWidth:1/0,maxHeight:1/0,defaultWidth:1,defaultHeight:1},this.subscriptions=[],this.dragSubscriptions=[],this.resizeSubscriptions=[],this.gridster=n,this.elementRef=i,this.$element=i.nativeElement,this.item=(new Xn).setFromGridsterItem(this),this.gridster.isInitialized()&&this.preventAnimation()}set positionX(e){this._positionX=e}get positionX(){return this._positionX}set positionY(e){this._positionY=e}get positionY(){return this._positionY}ngOnInit(){this.options=Object.assign(this.defaultOptions,this.options),this.w=this.w||this.options.defaultWidth,this.h=this.h||this.options.defaultHeight,this.wSm=this.wSm||this.w,this.hSm=this.hSm||this.h,this.wMd=this.wMd||this.w,this.hMd=this.hMd||this.h,this.wLg=this.wLg||this.w,this.hLg=this.hLg||this.h,this.wXl=this.wXl||this.w,this.hXl=this.hXl||this.h,this.gridster.isInitialized()&&this.setPositionsOnItem(),this.gridster.registerItem(this.item),this.gridster.calculateCellSize(),this.item.applySize(),this.item.applyPosition(),this.gridster.options.dragAndDrop&&this.dragAndDrop&&this.enableDragDrop(),this.gridster.isInitialized()&&(this.gridster.render(),this.gridster.updateCachedItems())}ngAfterViewInit(){this.gridster.options.resizable&&this.item.resizable&&this.enableResizable()}ngOnChanges(e){if(!this.gridster.gridList)return;let t=!1;["w",...Object.keys(Xn.W_PROPERTY_MAP).map(e=>Xn.W_PROPERTY_MAP[e])].filter(t=>e[t]&&!e[t].isFirstChange()).forEach(i=>{e[i].currentValue>this.options.maxWidth&&(this[i]=this.options.maxWidth,setTimeout(()=>this[i+"Change"].emit(this[i]))),t=!0}),["h",...Object.keys(Xn.H_PROPERTY_MAP).map(e=>Xn.H_PROPERTY_MAP[e])].filter(t=>e[t]&&!e[t].isFirstChange()).forEach(i=>{e[i].currentValue>this.options.maxHeight&&(this[i]=this.options.maxHeight,setTimeout(()=>this[i+"Change"].emit(this[i]))),t=!0}),["x","y",...Object.keys(Xn.X_PROPERTY_MAP).map(e=>Xn.X_PROPERTY_MAP[e]),...Object.keys(Xn.Y_PROPERTY_MAP).map(e=>Xn.Y_PROPERTY_MAP[e])].filter(t=>e[t]&&!e[t].isFirstChange()).forEach(e=>t=!0),e.dragAndDrop&&!e.dragAndDrop.isFirstChange()&&(e.dragAndDrop.currentValue&&this.gridster.options.dragAndDrop?this.enableDragDrop():this.disableDraggable()),e.resizable&&!e.resizable.isFirstChange()&&(e.resizable.currentValue&&this.gridster.options.resizable?this.enableResizable():this.disableResizable()),t&&this.gridster.gridsterComponent.isReady&&this.gridster.debounceRenderSubject.next()}ngOnDestroy(){this.gridster.removeItem(this.item),this.gridster.itemRemoveSubject.next(this.item),this.subscriptions.forEach(e=>{e.unsubscribe()}),this.disableDraggable(),this.disableResizable()}updateElemenetPosition(){this.gridster.options.useCSSTransforms?zn.setTransform(this.$element,{x:this._positionX,y:this._positionY}):zn.setCssElementPosition(this.$element,{x:this._positionX,y:this._positionY})}setPositionsOnItem(){this.item.hasPositions(this.gridster.options.breakpoint)||this.setPositionsForGrid(this.gridster.options),this.gridster.gridsterOptions.responsiveOptions.filter(e=>!this.item.hasPositions(e.breakpoint)).forEach(e=>this.setPositionsForGrid(e))}enableResizable(){this.resizeSubscriptions.length||this.zone.runOutsideAngular(()=>{this.getResizeHandlers().forEach(e=>{const t=this.getResizeDirection(e);this.hasResizableHandle(t)&&(e.style.display="block");const i=new Qn(e,this.getResizableOptions());let n,o,r;const s=i.dragStart.subscribe(e=>{this.zone.run(()=>{this.isResizing=!0,n=e,o=this.createResizeStartObject(t),r=e.getRelativeCoordinates(this.$element),this.gridster.onResizeStart(this.item),this.onStart("resize")})}),a=i.dragMove.subscribe(e=>{const i=this.gridster.gridsterScrollData;this.resizeElement({direction:t,startData:o,position:{x:e.clientX-r.x-this.gridster.gridsterRect.left,y:e.clientY-r.y-this.gridster.gridsterRect.top},startEvent:n,moveEvent:e,scrollDiffX:i.scrollLeft-o.scrollLeft,scrollDiffY:i.scrollTop-o.scrollTop}),this.gridster.onResizeDrag(this.item)}),l=i.dragStop.subscribe(()=>{this.zone.run(()=>{this.isResizing=!1,this.gridster.onResizeStop(this.item),this.onEnd("resize")})});this.resizeSubscriptions=this.resizeSubscriptions.concat([s,a,l])})})}disableResizable(){this.resizeSubscriptions.forEach(e=>{e.unsubscribe()}),this.resizeSubscriptions=[],[].forEach.call(this.$element.querySelectorAll(".gridster-item-resizable-handler"),e=>{e.style.display=""})}enableDragDrop(){this.dragSubscriptions.length||this.zone.runOutsideAngular(()=>{let e;const t=new Qn(this.$element,this.getDraggableOptions()),i=t.dragStart.subscribe(t=>{this.zone.run(()=>{this.gridster.onStart(this.item),this.isDragging=!0,this.onStart("drag"),e=t.getRelativeCoordinates(this.$element)})}),n=t.dragMove.subscribe(t=>{this.positionY=t.clientY-e.y-this.gridster.gridsterRect.top,this.positionX=t.clientX-e.x-this.gridster.gridsterRect.left,this.updateElemenetPosition(),this.gridster.onDrag(this.item)}),o=t.dragStop.subscribe(()=>{this.zone.run(()=>{this.gridster.onStop(this.item),this.gridster.debounceRenderSubject.next(),this.isDragging=!1,this.onEnd("drag")})});this.dragSubscriptions=this.dragSubscriptions.concat([i,n,o])})}disableDraggable(){this.dragSubscriptions.forEach(e=>{e.unsubscribe()}),this.dragSubscriptions=[]}getResizeHandlers(){return[].filter.call(this.$element.children[0].children,e=>e.classList.contains("gridster-item-resizable-handler"))}getDraggableOptions(){return Object.assign({scrollDirection:this.gridster.options.direction},this.gridster.draggableOptions)}getResizableOptions(){const e={};return(this.gridster.draggableOptions.scroll||!1===this.gridster.draggableOptions.scroll)&&(e.scroll=this.gridster.draggableOptions.scroll),this.gridster.draggableOptions.scrollEdge&&(e.scrollEdge=this.gridster.draggableOptions.scrollEdge),e.scrollDirection=this.gridster.options.direction,e}hasResizableHandle(e){const t=this.gridster.options.resizeHandles;return this.gridster.options.resizable&&this.item.resizable&&(!t||t&&!!t[e])}setPositionsForGrid(e){let t,i;const n=this.findPosition(e);t="horizontal"===e.direction?n[0]:n[1],i="horizontal"===e.direction?n[1]:n[0],this.item.setValueX(t,e.breakpoint),this.item.setValueY(i,e.breakpoint),setTimeout(()=>{this.item.triggerChangeX(e.breakpoint),this.item.triggerChangeY(e.breakpoint)})}findPosition(e){return new Kn(this.gridster.items.map(t=>t.copyForBreakpoint(e.breakpoint)),e).findPositionForItem(this.item,{x:0,y:0})}createResizeStartObject(e){const t=this.gridster.gridsterScrollData;return{top:this.positionY,left:this.positionX,height:parseInt(this.$element.style.height,10),width:parseInt(this.$element.style.width,10),minX:Math.max(this.item.x+this.item.w-this.options.maxWidth,0),maxX:this.item.x+this.item.w-this.options.minWidth,minY:Math.max(this.item.y+this.item.h-this.options.maxHeight,0),maxY:this.item.y+this.item.h-this.options.minHeight,minW:this.options.minWidth,maxW:Math.min(this.options.maxWidth,"vertical"===this.gridster.options.direction&&e.indexOf("w")<0?this.gridster.options.lanes-this.item.x:this.options.maxWidth,e.indexOf("w")>=0?this.item.x+this.item.w:this.options.maxWidth),minH:this.options.minHeight,maxH:Math.min(this.options.maxHeight,"horizontal"===this.gridster.options.direction&&e.indexOf("n")<0?this.gridster.options.lanes-this.item.y:this.options.maxHeight,e.indexOf("n")>=0?this.item.y+this.item.h:this.options.maxHeight),scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}onEnd(e){this.end.emit({action:e,item:this.item})}onStart(e){this.start.emit({action:e,item:this.item})}preventAnimation(){return this.$element.classList.add("no-transition"),setTimeout(()=>{this.$element.classList.remove("no-transition")},500),this}getResizeDirection(e){for(let t=e.classList.length-1;t>=0;t--)if(e.classList[t].match("handle-"))return e.classList[t].split("-")[1]}resizeElement(e){e.direction.indexOf("n")>=0&&this.resizeToNorth(e),e.direction.indexOf("w")>=0&&this.resizeToWest(e),e.direction.indexOf("e")>=0&&this.resizeToEast(e),e.direction.indexOf("s")>=0&&this.resizeToSouth(e)}resizeToNorth(e){const t=e.startData.height+e.startEvent.clientY-e.moveEvent.clientY-e.scrollDiffY;t<e.startData.minH*this.gridster.cellHeight?this.setMinHeight("n",e):t>e.startData.maxH*this.gridster.cellHeight?this.setMaxHeight("n",e):(this.positionY=e.position.y,this.$element.style.height=t+"px")}resizeToWest(e){const t=e.startData.width+e.startEvent.clientX-e.moveEvent.clientX-e.scrollDiffX;t<e.startData.minW*this.gridster.cellWidth?this.setMinWidth("w",e):t>e.startData.maxW*this.gridster.cellWidth?this.setMaxWidth("w",e):(this.positionX=e.position.x,this.updateElemenetPosition(),this.$element.style.width=t+"px")}resizeToEast(e){const t=e.startData.width+e.moveEvent.clientX-e.startEvent.clientX+e.scrollDiffX;t>e.startData.maxW*this.gridster.cellWidth?this.setMaxWidth("e",e):t<e.startData.minW*this.gridster.cellWidth?this.setMinWidth("e",e):this.$element.style.width=t+"px"}resizeToSouth(e){const t=e.startData.height+e.moveEvent.clientY-e.startEvent.clientY+e.scrollDiffY;t>e.startData.maxH*this.gridster.cellHeight?this.setMaxHeight("s",e):t<e.startData.minH*this.gridster.cellHeight?this.setMinHeight("s",e):this.$element.style.height=t+"px"}setMinHeight(e,t){"n"===e?(this.$element.style.height=t.startData.minH*this.gridster.cellHeight+"px",this.positionY=t.startData.maxY*this.gridster.cellHeight):this.$element.style.height=t.startData.minH*this.gridster.cellHeight+"px"}setMinWidth(e,t){"w"===e?(this.$element.style.width=t.startData.minW*this.gridster.cellWidth+"px",this.positionX=t.startData.maxX*this.gridster.cellWidth,this.updateElemenetPosition()):this.$element.style.width=t.startData.minW*this.gridster.cellWidth+"px"}setMaxHeight(e,t){"n"===e?(this.$element.style.height=t.startData.maxH*this.gridster.cellHeight+"px",this.positionY=t.startData.minY*this.gridster.cellHeight):this.$element.style.height=t.startData.maxH*this.gridster.cellHeight+"px"}setMaxWidth(e,t){"w"===e?(this.$element.style.width=t.startData.maxW*this.gridster.cellWidth+"px",this.positionX=t.startData.minX*this.gridster.cellWidth,this.updateElemenetPosition()):this.$element.style.width=t.startData.maxW*this.gridster.cellWidth+"px"}}return e.\u0275fac=function(t){return new(t||e)(o.Y36(o.R0b),o.Y36(Gn),o.Y36(o.SBq),o.Y36(Wn))},e.\u0275cmp=o.Xpm({type:e,selectors:[["ngx-gridster-item"]],hostVars:4,hostBindings:function(e,t){2&e&&o.ekj("is-dragging",t.isDragging)("is-resizing",t.isResizing)},inputs:{dragAndDrop:"dragAndDrop",resizable:"resizable",options:"options",w:"w",h:"h",wSm:"wSm",hSm:"hSm",wMd:"wMd",hMd:"hMd",wLg:"wLg",hLg:"hLg",wXl:"wXl",hXl:"hXl",x:"x",y:"y",xSm:"xSm",ySm:"ySm",xMd:"xMd",yMd:"yMd",xLg:"xLg",yLg:"yLg",xXl:"xXl",yXl:"yXl"},outputs:{xChange:"xChange",yChange:"yChange",xSmChange:"xSmChange",ySmChange:"ySmChange",xMdChange:"xMdChange",yMdChange:"yMdChange",xLgChange:"xLgChange",yLgChange:"yLgChange",xXlChange:"xXlChange",yXlChange:"yXlChange",wChange:"wChange",hChange:"hChange",wSmChange:"wSmChange",hSmChange:"hSmChange",wMdChange:"wMdChange",hMdChange:"hMdChange",wLgChange:"wLgChange",hLgChange:"hLgChange",wXlChange:"wXlChange",hXlChange:"hXlChange",change:"change",start:"start",end:"end"},features:[o.TTD],ngContentSelectors:$n,decls:10,vars:0,consts:[[1,"gridster-item-inner"],[1,"gridster-item-resizable-handler","handle-s"],[1,"gridster-item-resizable-handler","handle-e"],[1,"gridster-item-resizable-handler","handle-n"],[1,"gridster-item-resizable-handler","handle-w"],[1,"gridster-item-resizable-handler","handle-se"],[1,"gridster-item-resizable-handler","handle-ne"],[1,"gridster-item-resizable-handler","handle-sw"],[1,"gridster-item-resizable-handler","handle-nw"]],template:function(e,t){1&e&&(o.F$t(),o.TgZ(0,"div",0),o.Hsn(1),o._UZ(2,"div",1),o._UZ(3,"div",2),o._UZ(4,"div",3),o._UZ(5,"div",4),o._UZ(6,"div",5),o._UZ(7,"div",6),o._UZ(8,"div",7),o._UZ(9,"div",8),o.qZA())},styles:["\n    ngx-gridster-item {\n        display: block;\n        position: absolute;\n        top: 0;\n        left: 0;\n        z-index: 1;\n        -webkit-transition: none;\n        transition: none;\n    }\n\n    .gridster--ready ngx-gridster-item {\n        transition: all 200ms ease;\n        transition-property: left, top;\n    }\n\n    .gridster--ready.css-transform ngx-gridster-item  {\n        transition-property: transform;\n    }\n\n    .gridster--ready ngx-gridster-item.is-dragging,\n    .gridster--ready ngx-gridster-item.is-resizing {\n        -webkit-transition: none;\n        transition: none;\n        z-index: 9999;\n    }\n\n    ngx-gridster-item.no-transition {\n        -webkit-transition: none;\n        transition: none;\n    }\n    ngx-gridster-item .gridster-item-resizable-handler {\n        position: absolute;\n        z-index: 2;\n        display: none;\n    }\n\n    ngx-gridster-item .gridster-item-resizable-handler.handle-n {\n      cursor: n-resize;\n      height: 10px;\n      right: 0;\n      top: 0;\n      left: 0;\n    }\n\n    ngx-gridster-item .gridster-item-resizable-handler.handle-e {\n      cursor: e-resize;\n      width: 10px;\n      bottom: 0;\n      right: 0;\n      top: 0;\n    }\n\n    ngx-gridster-item .gridster-item-resizable-handler.handle-s {\n      cursor: s-resize;\n      height: 10px;\n      right: 0;\n      bottom: 0;\n      left: 0;\n    }\n\n    ngx-gridster-item .gridster-item-resizable-handler.handle-w {\n      cursor: w-resize;\n      width: 10px;\n      left: 0;\n      top: 0;\n      bottom: 0;\n    }\n\n    ngx-gridster-item .gridster-item-resizable-handler.handle-ne {\n      cursor: ne-resize;\n      width: 10px;\n      height: 10px;\n      right: 0;\n      top: 0;\n    }\n\n    ngx-gridster-item .gridster-item-resizable-handler.handle-nw {\n      cursor: nw-resize;\n      width: 10px;\n      height: 10px;\n      left: 0;\n      top: 0;\n    }\n\n    ngx-gridster-item .gridster-item-resizable-handler.handle-se {\n      cursor: se-resize;\n      width: 0;\n      height: 0;\n      right: 0;\n      bottom: 0;\n      border-style: solid;\n      border-width: 0 0 10px 10px;\n      border-color: transparent;\n    }\n\n    ngx-gridster-item .gridster-item-resizable-handler.handle-sw {\n      cursor: sw-resize;\n      width: 10px;\n      height: 10px;\n      left: 0;\n      bottom: 0;\n    }\n\n    ngx-gridster-item:hover .gridster-item-resizable-handler.handle-se {\n      border-color: transparent transparent #ccc\n    }\n    "],encapsulation:2,changeDetection:0}),e})(),to=(()=>{class e{constructor(e,t,i){this.zone=e,this.elementRef=t,this.gridsterPrototype=i,this.drop=new o.vpe,this.start=new o.vpe,this.cancel=new o.vpe,this.enter=new o.vpe,this.out=new o.vpe,this.config={},this.x=0,this.y=0,this.autoSize=!1,this.isDragging=!1,this.subscribtions=[],this.item=(new Xn).setFromGridsterItemPrototype(this)}get dragAndDrop(){return!0}get gridster(){return this.dragContextGridster}ngOnInit(){this.wSm=this.wSm||this.w,this.hSm=this.hSm||this.h,this.wMd=this.wMd||this.w,this.hMd=this.hMd||this.h,this.wLg=this.wLg||this.w,this.hLg=this.hLg||this.h,this.wXl=this.wXl||this.w,this.hXl=this.hXl||this.h,this.zone.runOutsideAngular(()=>{this.enableDragDrop()})}ngOnDestroy(){this.subscribtions.forEach(e=>{e.unsubscribe()})}onDrop(e){this.config.helper||this.$element.parentNode.removeChild(this.$element),this.drop.emit({item:this.item,gridster:e})}onCancel(){this.cancel.emit({item:this.item})}onEnter(e){this.enter.emit({item:this.item,gridster:e})}onOver(e){}onOut(e){this.out.emit({item:this.item,gridster:e})}getPositionToGridster(e){const t=this.getContainerCoordsToGridster(e);return{y:this.positionY-t.top,x:this.positionX-t.left}}setDragContextGridster(e){this.dragContextGridster=e}getContainerCoordsToGridster(e){return{left:e.gridsterRect.left-this.parentRect.left,top:e.gridsterRect.top-this.parentRect.top}}enableDragDrop(){let e;const t=new Qn(this.elementRef.nativeElement),i=t.dragStart.subscribe(t=>{this.zone.run(()=>{this.$element=this.provideDragElement(),this.containerRectange=this.$element.parentElement.getBoundingClientRect(),this.updateParentElementData(),this.onStart(t),e=t.getRelativeCoordinates(this.$element)})}),n=t.dragMove.subscribe(t=>{this.setElementPosition(this.$element,{x:t.clientX-e.x-this.parentRect.left,y:t.clientY-e.y-this.parentRect.top}),this.onDrag(t)}),o=t.dragStop.subscribe(e=>{this.zone.run(()=>{this.onStop(e),this.$element=null})}),r=(0,An.R)(document,"scroll").subscribe(()=>{this.$element&&this.updateParentElementData()});this.subscribtions=this.subscribtions.concat([i,n,o,r])}setElementPosition(e,t){this.positionX=t.x,this.positionY=t.y,zn.setCssElementPosition(e,t)}updateParentElementData(){this.parentRect=this.$element.parentElement.getBoundingClientRect(),this.parentOffset={left:this.$element.parentElement.offsetLeft,top:this.$element.parentElement.offsetTop}}onStart(e){this.isDragging=!0,this.$element.style.pointerEvents="none",this.$element.style.position="absolute",this.gridsterPrototype.dragItemStart(this,e),this.start.emit({item:this.item})}onDrag(e){this.gridsterPrototype.updatePrototypePosition(this,e)}onStop(e){this.gridsterPrototype.dragItemStop(this,e),this.isDragging=!1,this.$element.style.pointerEvents="auto",this.$element.style.position="",zn.resetCSSElementPosition(this.$element),this.config.helper&&this.$element.parentNode.removeChild(this.$element)}provideDragElement(){let e=this.elementRef.nativeElement;return this.config.helper?(e=e.cloneNode(!0),document.body.appendChild(this.fixStylesForBodyHelper(e))):this.fixStylesForRelativeElement(e),e}fixStylesForRelativeElement(e){if("absolute"===window.getComputedStyle(e).position)return e;const t=this.elementRef.nativeElement.getBoundingClientRect();return this.containerRectange=e.parentElement.getBoundingClientRect(),e.style.position="absolute",this.setElementPosition(e,{x:t.left-this.containerRectange.left,y:t.top-this.containerRectange.top}),e}fixStylesForBodyHelper(e){const t=document.body.getBoundingClientRect(),i=this.elementRef.nativeElement.getBoundingClientRect();return e.style.position="absolute",this.setElementPosition(e,{x:i.left-t.left,y:i.top-t.top}),e}}return e.\u0275fac=function(t){return new(t||e)(o.Y36(o.R0b),o.Y36(o.SBq),o.Y36(Gn))},e.\u0275dir=o.lG2({type:e,selectors:[["","ngxGridsterItemPrototype",""]],inputs:{config:"config",wSm:"wSm",hSm:"hSm",wMd:"wMd",hMd:"hMd",wLg:"wLg",hLg:"hLg",wXl:"wXl",hXl:"hXl",data:"data",w:"w",h:"h"},outputs:{drop:"drop",start:"start",cancel:"cancel",enter:"enter",out:"out"}}),e})(),io=(()=>{class e{static forRoot(){return{ngModule:e,providers:[Gn]}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[[n.ez]]}),e})();var no=i(50402),oo=i(8318);function ro(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"input",7),o.NdJ("colorPickerChange",function(t){return o.CHM(e),o.oxw().value=t})("colorPickerChange",function(t){return o.CHM(e),o.oxw().changePropertyEvent(t)}),o.qZA()}if(2&e){const e=o.oxw();o.Udp("background",e.value),o.Q6J("cpOKButton","Ok")("cpPosition","bottom")("colorPicker",e.value)("cpPositionOffset","-20%")("cpOutputFormat","hex")}}function so(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"input",7),o.NdJ("colorPickerChange",function(t){return o.CHM(e),o.oxw().value=t})("colorPickerChange",function(t){return o.CHM(e),o.oxw().changePropertyEvent(t)}),o.qZA()}if(2&e){const e=o.oxw();o.Udp("background",e.value),o.Q6J("cpOKButton","Ok")("cpPosition","bottom")("colorPicker",e.value)("cpPositionOffset","-20%")("cpOutputFormat","hex")}}function ao(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"input",7),o.NdJ("colorPickerChange",function(t){return o.CHM(e),o.oxw().value=t})("colorPickerChange",function(t){return o.CHM(e),o.oxw().changePropertyEvent(t)}),o.qZA()}if(2&e){const e=o.oxw();o.Udp("background",e.value),o.Q6J("cpOKButton","Ok")("cpPosition","bottom")("colorPicker",e.value)("cpPositionOffset","-20%")("cpOutputFormat","hex")}}function lo(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"input",7),o.NdJ("colorPickerChange",function(t){return o.CHM(e),o.oxw().value=t})("colorPickerChange",function(t){return o.CHM(e),o.oxw().changePropertyEvent(t)}),o.qZA()}if(2&e){const e=o.oxw();o.Udp("background",e.value),o.Q6J("cpOKButton","Ok")("cpPosition","bottom")("colorPicker",e.value)("cpPositionOffset","-20%")("cpOutputFormat","hex")}}function co(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"input",7),o.NdJ("colorPickerChange",function(t){return o.CHM(e),o.oxw().value=t})("colorPickerChange",function(t){return o.CHM(e),o.oxw().changePropertyEvent(t)}),o.qZA()}if(2&e){const e=o.oxw();o.Udp("background",e.value),o.Q6J("cpOKButton","Ok")("cpPosition","bottom")("colorPicker",e.value)("cpPositionOffset","-20%")("cpOutputFormat","hex")}}function ho(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"input",7),o.NdJ("colorPickerChange",function(t){return o.CHM(e),o.oxw().value=t})("colorPickerChange",function(t){return o.CHM(e),o.oxw().changePropertyEvent(t)}),o.qZA()}if(2&e){const e=o.oxw();o.Udp("background",e.value),o.Q6J("cpOKButton","Ok")("cpPosition","bottom")("colorPicker",e.value)("cpPositionOffset","-20%")("cpOutputFormat","hex")}}function uo(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"select",8),o.NdJ("change",function(t){return o.CHM(e),o.oxw().changePropertyEvent(t)}),o.TgZ(1,"option",9),o._uU(2),o.qZA(),o.TgZ(3,"option",10),o._uU(4),o.qZA(),o.qZA()}if(2&e){const e=o.oxw();o.Q6J("formControlName",e.key)("value",e.value),o.xp6(2),o.Oqu("True"),o.xp6(2),o.Oqu("False")}}function po(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"select",8),o.NdJ("change",function(t){return o.CHM(e),o.oxw().changePropertyEvent(t)}),o.TgZ(1,"option",9),o._uU(2),o.qZA(),o.TgZ(3,"option",10),o._uU(4),o.qZA(),o.qZA()}if(2&e){const e=o.oxw();o.Q6J("formControlName",e.key)("value",e.value),o.xp6(2),o.Oqu("True"),o.xp6(2),o.Oqu("False")}}function go(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"select",8),o.NdJ("change",function(t){return o.CHM(e),o.oxw().changePropertyEvent(t)}),o.TgZ(1,"option",9),o._uU(2),o.qZA(),o.TgZ(3,"option",10),o._uU(4),o.qZA(),o.qZA()}if(2&e){const e=o.oxw();o.Q6J("formControlName",e.key)("value",e.value),o.xp6(2),o.Oqu("True"),o.xp6(2),o.Oqu("False")}}function fo(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"select",8),o.NdJ("change",function(t){return o.CHM(e),o.oxw().changePropertyEvent(t)}),o.TgZ(1,"option",9),o._uU(2),o.qZA(),o.TgZ(3,"option",10),o._uU(4),o.qZA(),o.qZA()}if(2&e){const e=o.oxw();o.Q6J("formControlName",e.key)("value",e.value),o.xp6(2),o.Oqu("True"),o.xp6(2),o.Oqu("False")}}function mo(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"select",8),o.NdJ("change",function(t){return o.CHM(e),o.oxw().changePropertyEvent(t)}),o.TgZ(1,"option",11),o._uU(2),o.qZA(),o.TgZ(3,"option",12),o._uU(4),o.qZA(),o.qZA()}if(2&e){const e=o.oxw();o.Q6J("formControlName",e.key)("value",e.value),o.xp6(2),o.Oqu("Sharp"),o.xp6(2),o.Oqu("Pill")}}function _o(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"select",8),o.NdJ("change",function(t){return o.CHM(e),o.oxw().changePropertyEvent(t)}),o.TgZ(1,"option",13),o._uU(2),o.qZA(),o.TgZ(3,"option",14),o._uU(4),o.qZA(),o.qZA()}if(2&e){const e=o.oxw();o.Q6J("formControlName",e.key)("value",e.value),o.xp6(2),o.Oqu("Solid"),o.xp6(2),o.Oqu("Outline")}}function vo(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"select",8),o.NdJ("change",function(t){return o.CHM(e),o.oxw().changePropertyEvent(t)}),o.TgZ(1,"option",15),o._uU(2),o.qZA(),o.TgZ(3,"option",16),o._uU(4),o.qZA(),o.TgZ(5,"option",17),o._uU(6),o.qZA(),o.TgZ(7,"option",18),o._uU(8),o.qZA(),o.TgZ(9,"option",19),o._uU(10),o.qZA(),o.qZA()}if(2&e){const e=o.oxw();o.Q6J("formControlName",e.key)("value",e.value),o.xp6(2),o.Oqu("Center"),o.xp6(2),o.Oqu("Left"),o.xp6(2),o.Oqu("Right"),o.xp6(2),o.Oqu("Top"),o.xp6(2),o.Oqu("Bottom")}}function yo(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"select",8),o.NdJ("change",function(t){return o.CHM(e),o.oxw().changePropertyEvent(t)}),o.TgZ(1,"option",20),o._uU(2),o.qZA(),o.TgZ(3,"option",21),o._uU(4),o.qZA(),o.TgZ(5,"option",22),o._uU(6),o.qZA(),o.qZA()}if(2&e){const e=o.oxw();o.Q6J("formControlName",e.key)("value",e.value),o.xp6(2),o.Oqu("Small"),o.xp6(2),o.Oqu("Medium"),o.xp6(2),o.Oqu("Large")}}function bo(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"select",8),o.NdJ("change",function(t){return o.CHM(e),o.oxw().changePropertyEvent(t)}),o.TgZ(1,"option",9),o._uU(2),o.qZA(),o.TgZ(3,"option",10),o._uU(4),o.qZA(),o.qZA()}if(2&e){const e=o.oxw();o.Q6J("formControlName",e.key)("value",e.value),o.xp6(2),o.Oqu("True"),o.xp6(2),o.Oqu("False")}}function wo(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"select",8),o.NdJ("change",function(t){return o.CHM(e),o.oxw().changePropertyEvent(t)}),o.TgZ(1,"option",23),o._uU(2),o.qZA(),o.TgZ(3,"option",24),o._uU(4),o.qZA(),o.qZA()}if(2&e){const e=o.oxw();o.Q6J("formControlName",e.key)("value",e.value),o.xp6(2),o.Oqu("Default"),o.xp6(2),o.Oqu("Dark")}}function Ao(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"select",8),o.NdJ("change",function(t){return o.CHM(e),o.oxw().changePropertyEvent(t)}),o.TgZ(1,"option",25),o._uU(2),o.qZA(),o.TgZ(3,"option",26),o._uU(4),o.qZA(),o.qZA()}if(2&e){const e=o.oxw();o.Q6J("formControlName",e.key)("value",e.value),o.xp6(2),o.Oqu("Bar"),o.xp6(2),o.Oqu("Line")}}function xo(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"select",8),o.NdJ("change",function(t){return o.CHM(e),o.oxw().changePropertyEvent(t)}),o.TgZ(1,"option",9),o._uU(2),o.qZA(),o.TgZ(3,"option",10),o._uU(4),o.qZA(),o.qZA()}if(2&e){const e=o.oxw();o.Q6J("formControlName",e.key)("value",e.value),o.xp6(2),o.Oqu("Horizontal"),o.xp6(2),o.Oqu("Vertical")}}function To(e,t){if(1&e&&(o.TgZ(0,"option",28),o._uU(1),o.qZA()),2&e){const e=t.$implicit;o.s9C("value",e.value),o.xp6(1),o.Oqu(e.name)}}function Co(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"select",8),o.NdJ("change",function(t){return o.CHM(e),o.oxw().changePropertyEvent(t)}),o.YNc(1,To,2,2,"option",27),o.qZA()}if(2&e){const e=o.oxw();o.Q6J("formControlName",e.key)("value",e.value),o.xp6(1),o.Q6J("ngForOf",e.dataSourceOP)}}function Zo(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"input",29),o.NdJ("input",function(t){return o.CHM(e),o.oxw().changePropertyEvent(t)})("keydown",function(t){return o.CHM(e),o.oxw().handleKeydown(t)}),o.qZA()}if(2&e){const e=o.oxw();o.ekj("patten",e.ispatten),o.Q6J("value",e.value)}}function ko(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"input",30),o.NdJ("input",function(t){return o.CHM(e),o.oxw().changePropertyEvent(t)}),o.qZA()}if(2&e){const e=o.oxw();o.ekj("patten",e.ispatten),o.Q6J("value",e.value)}}let So=(()=>{class e{constructor(e,t){this.translate=e,this.globalOperatorSrv=t,this.changePropertyEmitter=new o.vpe,this.key="Null",this.value="Null",this.name="Null",this.ispatten=!1,this.selectedRemote=null,this.dataSourceOP=[]}ngOnInit(){this.globalOperatorSrv.getSelectedRemotePlus().subscribe(e=>{this.globalOperatorSrv.getRemoteGenerate().source._value||null!==e&&(this.selectedRemote=e)});let e=[Ei.Ie.MAX_VALUE,Ei.Ie.MIN_VALUE,Ei.Ie.STEP];for(let i in this.propertyItem)this.key=i,this.value=this.propertyItem[i],this.selectedRemote.type===Ei.li.STEPPER&&e.indexOf(this.key)>-1&&(this.value=parseFloat(this.value).toFixed(3)),this.translate.get(i).subscribe(e=>{this.name=e});this.form=new Ai.cw({[this.key]:new Ai.NI(this.value)});let t=[{name:"UIFlow Block",value:Ei.Fk.UIFLOW},{name:"EzData",value:Ei.Fk.EZDATA}];this.selectedRemote.type===Ei.li.TITLE?t.push({name:"None",value:Ei.Fk.NONE}):this.selectedRemote.type===Ei.li.IMAGE&&t.push({name:"TimerCAM",value:Ei.Fk.TIMERCAM}),this.dataSourceOP=t}handleKeydown(e){if(32==e.keyCode)return e.preventDefault(),!1}changePropertyEvent(e){let t=/^[0-9]+$/gi,i=/^\-?[0-9]+(.[0-9]{1,3})?$/gi,n=/^\-?[0-9]+$/gi;if(this.key===Ei.Ie.NAME){let t=e.target.value;if(!/^[a-zA-Z0-9_]+$/gi.test(t)||""===t.trim())return void(this.ispatten=!0);this.ispatten=!1}if(this.key===Ei.Ie.INTERVAL){let i=e.target.value;if(!t.test(i)||Number(i)<3e3)return void(this.ispatten=!0);this.ispatten=!1}if([Ei.Ie.MAX_VALUE,Ei.Ie.MIN_VALUE,Ei.Ie.YAXIS_MAX_VALUE,Ei.Ie.YAXIS_MIN_VALUE,Ei.Ie.XMAX,Ei.Ie.XMIN,Ei.Ie.YMAX,Ei.Ie.YMIN].indexOf(this.key)>-1){let o=e.target.value,r=t;switch(this.selectedRemote.type){case Ei.li.STEPPER:r=i;break;case Ei.li.JOYSTICK:case Ei.li.SLIDER:r=n}let s=r.test(o);switch(this.key){case Ei.Ie.MAX_VALUE:this.ispatten=!(s&&o>=this.selectedRemote.minValue);break;case Ei.Ie.MIN_VALUE:this.ispatten=!(s&&o<=this.selectedRemote.maxValue);break;case Ei.Ie.YAXIS_MAX_VALUE:this.ispatten=!(s&&o>=this.selectedRemote.yAxisMin);break;case Ei.Ie.YAXIS_MIN_VALUE:this.ispatten=!(s&&o<=this.selectedRemote.yAxisMax);break;case Ei.Ie.XMAX:this.ispatten=!(s&&o>=this.selectedRemote.xMin);break;case Ei.Ie.XMIN:this.ispatten=!(s&&o<=this.selectedRemote.xMax);break;case Ei.Ie.YMAX:this.ispatten=!(s&&o>=this.selectedRemote.yMin);break;case Ei.Ie.YMIN:this.ispatten=!(s&&o<=this.selectedRemote.yMax)}}if([Ei.Ie.CHARACTER_LIMIT,Ei.Ie.MAX_COUNT].indexOf(this.key)>-1){let i=t.test(e.target.value);this.ispatten=!i}if(this.key===Ei.Ie.STEP){let t=i.test(e.target.value);this.ispatten=!t}if(!this.ispatten){if("string"==typeof e)return this.changePropertyEmitter.emit({key:this.key,value:e,obj:null});this.changePropertyEmitter.emit({key:this.key,value:e.target.value,obj:e})}}}return e.\u0275fac=function(t){return new(t||e)(o.Y36(bi.sK),o.Y36(Li.t0))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-remote-property-item"]],inputs:{propertyItem:"propertyItem"},outputs:{changePropertyEmitter:"changePropertyEmitter"},decls:25,vars:23,consts:[[1,"remote-property-key"],[1,"remote-property-value",3,"ngSwitch"],[3,"formGroup"],["class","remote-value-color","readonly","readonly","spellcheck","false",3,"cpOKButton","background","cpPosition","colorPicker","cpPositionOffset","cpOutputFormat","colorPickerChange",4,"ngSwitchCase"],["class","remote-value-select",3,"formControlName","value","change",4,"ngSwitchCase"],["class","remote-value-input","type","text","spellcheck","false",3,"value","patten","input","keydown",4,"ngSwitchCase"],["class","remote-value-input","type","text","spellcheck","false",3,"value","patten","input",4,"ngSwitchDefault"],["readonly","readonly","spellcheck","false",1,"remote-value-color",3,"cpOKButton","cpPosition","colorPicker","cpPositionOffset","cpOutputFormat","colorPickerChange"],[1,"remote-value-select",3,"formControlName","value","change"],["value","true"],["value","false"],["value","sharp"],["value","pill"],["value","solid"],["value","outline"],["value","center"],["value","left"],["value","right"],["value","top"],["value","bottom"],["value","S"],["value","M"],["value","L"],["value",""],["value","dark"],["value","bar"],["value","line"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["type","text","spellcheck","false",1,"remote-value-input",3,"value","input","keydown"],["type","text","spellcheck","false",1,"remote-value-input",3,"value","input"]],template:function(e,t){1&e&&(o.TgZ(0,"td",0),o._uU(1),o.qZA(),o.TgZ(2,"td",1),o.TgZ(3,"form",2),o.YNc(4,ro,1,7,"input",3),o.YNc(5,so,1,7,"input",3),o.YNc(6,ao,1,7,"input",3),o.YNc(7,lo,1,7,"input",3),o.YNc(8,co,1,7,"input",3),o.YNc(9,ho,1,7,"input",3),o.YNc(10,uo,5,4,"select",4),o.YNc(11,po,5,4,"select",4),o.YNc(12,go,5,4,"select",4),o.YNc(13,fo,5,4,"select",4),o.YNc(14,mo,5,4,"select",4),o.YNc(15,_o,5,4,"select",4),o.YNc(16,vo,11,7,"select",4),o.YNc(17,yo,7,5,"select",4),o.YNc(18,bo,5,4,"select",4),o.YNc(19,wo,5,4,"select",4),o.YNc(20,Ao,5,4,"select",4),o.YNc(21,xo,5,4,"select",4),o.YNc(22,Co,2,3,"select",4),o.YNc(23,Zo,1,3,"input",5),o.YNc(24,ko,1,3,"input",6),o.qZA(),o.qZA()),2&e&&(o.xp6(1),o.hij(" ",t.name+":","\n"),o.xp6(1),o.Q6J("ngSwitch",t.key),o.xp6(1),o.Q6J("formGroup",t.form),o.xp6(1),o.Q6J("ngSwitchCase","offColor"),o.xp6(1),o.Q6J("ngSwitchCase","onColor"),o.xp6(1),o.Q6J("ngSwitchCase","offBG"),o.xp6(1),o.Q6J("ngSwitchCase","onBG"),o.xp6(1),o.Q6J("ngSwitchCase","color"),o.xp6(1),o.Q6J("ngSwitchCase","bgColor"),o.xp6(1),o.Q6J("ngSwitchCase","showTitle"),o.xp6(1),o.Q6J("ngSwitchCase","showValue"),o.xp6(1),o.Q6J("ngSwitchCase","autoReturn"),o.xp6(1),o.Q6J("ngSwitchCase","needShadow"),o.xp6(1),o.Q6J("ngSwitchCase","edges"),o.xp6(1),o.Q6J("ngSwitchCase","style"),o.xp6(1),o.Q6J("ngSwitchCase","align"),o.xp6(1),o.Q6J("ngSwitchCase","fontsize"),o.xp6(1),o.Q6J("ngSwitchCase","showLegend"),o.xp6(1),o.Q6J("ngSwitchCase","chartTheme"),o.xp6(1),o.Q6J("ngSwitchCase","chartType"),o.xp6(1),o.Q6J("ngSwitchCase","isHorizontal"),o.xp6(1),o.Q6J("ngSwitchCase","dataSource"),o.xp6(1),o.Q6J("ngSwitchCase","name"))},directives:[n.RF,Ai._Y,Ai.JL,Ai.sg,n.n9,n.ED,xi.Kk,Ai.EJ,Ai.JJ,Ai.u,Ai.YN,Ai.Kr,n.sg],styles:[".remote-property-key[_ngcontent-%COMP%]{display:inline-block;width:50%;text-align:right}.remote-property-value[_ngcontent-%COMP%]{display:inline-block;width:50%;padding-left:2px}.remote-value-select[_ngcontent-%COMP%]{border-radius:5px}.remote-value-color[_ngcontent-%COMP%]{width:50px;border-radius:5px}.remote-value-input[_ngcontent-%COMP%]{border-radius:5px;padding:0 2px;width:110px;height:24px}.remote-value-input[_ngcontent-%COMP%]:focus.patten{border:2px solid red;outline:0px solid red}.remote-value-input.patten[_ngcontent-%COMP%]{border:2px solid red;outline:0px solid red}"]}),e})(),Eo=(()=>{class e{constructor(e){this.ref=e}ngAfterViewInit(){let e=this.ref.element.nativeElement.querySelectorAll(".remote-property-key");e.length>0&&e[0].innerHTML.indexOf("Topic")>-1&&(e[0].innerHTML=" List: \n")}}return e.\u0275fac=function(t){return new(t||e)(o.Y36(o.s_b))},e.\u0275dir=o.lG2({type:e,selectors:[["","appRemoteAlias",""]]}),e})();function Mo(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"tr",5),o.TgZ(1,"app-remote-property-item",6),o.NdJ("changePropertyEmitter",function(t){return o.CHM(e),o.oxw().changePropertyHandler(t)}),o.qZA(),o.qZA()}if(2&e){const e=t.$implicit;o.xp6(1),o.Q6J("propertyItem",e)}}function Oo(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"tr"),o.TgZ(1,"div",7),o.NdJ("click",function(){return o.CHM(e),o.oxw().delRemote()}),o._UZ(2,"span",8),o.TgZ(3,"span"),o._uU(4,"Delete"),o.qZA(),o.qZA(),o.qZA()}}let Io=(()=>{class e{constructor(e,t){this.globalOperatorSrv=e,this.codeEditorSrv=t,this.delRemoteEmitter=new o.vpe,this.selectedRemote=null,this.selectedRemoteProperty=[],this.showItem=!0,this.selectedRemote$=this.globalOperatorSrv.getSelectedRemotePlus()}ngOnInit(){this.globalOperatorSrv.getSelectedRemotePlus().subscribe(e=>{this.globalOperatorSrv.getRemoteGenerate().source._value||null===e||(this.selectedRemote=e,this.selectedRemoteProperty=e.getAllProps(),[Ei.li.LABEL,Ei.li.IMAGE,Ei.li.GAUGE,Ei.li.TITLE].indexOf(this.selectedRemote.type)>-1&&this.checkItem(this.selectedRemote.dataSource))})}stopPropagation(e){e.stopPropagation()}changePropertyHandler(e){if(null!==this.selectedRemote){if(e.key===Ei.Ie.NAME)return this.selectedRemote.setProp(Ei.Ie.NAME,e.value),void this.setBlockName(e.value);if(e.key===Ei.Ie.INTERVAL)return this.selectedRemote.setProp(Ei.Ie.INTERVAL,e.value),void this.setLabelInterval(e.value);e.key===Ei.Ie.DATA_SOURCE&&(this.setBlock(e.value===Ei.Fk.UIFLOW),this.checkItem(e.value)),this.selectedRemote.setProp(e.key,e.value)}}delRemote(){return this.delRemoteEmitter.emit()}closePanel(){this.globalOperatorSrv.setSelectedRemotePlus(null)}setBlockName(e){let t=window.BlocklyEditor.getBlockById(this.selectedRemote.blockId);t&&t.getField("NAME").setValue(e)}setLabelInterval(e){let t=window.BlocklyEditor.getBlockById(this.selectedRemote.blockId);t&&t.getField("interval").setValue(e)}checkItem(e){this.subProperty([Ei.Ie.INTERVAL,Ei.Ie.EZDATA_TOKEN,Ei.Ie.TOPIC,Ei.Ie.TIMERCAM_TOKEN]),e===Ei.Fk.UIFLOW?[Ei.Ie.INTERVAL].forEach(e=>{this.addProperty(e)}):e===Ei.Fk.EZDATA?[Ei.Ie.INTERVAL,Ei.Ie.EZDATA_TOKEN,Ei.Ie.TOPIC].forEach(e=>{this.addProperty(e)}):e===Ei.Fk.TIMERCAM&&[Ei.Ie.INTERVAL,Ei.Ie.TIMERCAM_TOKEN].forEach(e=>{this.addProperty(e)})}addProperty(e){this.selectedRemoteProperty.filter(t=>e.indexOf(Object.keys(t)[0])>-1).length<=0&&this.selectedRemoteProperty.push({[e]:this.selectedRemote[e]})}subProperty(e){this.selectedRemoteProperty=this.selectedRemoteProperty.filter(t=>e.indexOf(Object.keys(t)[0])<0)}setBlock(e){if(e){let e=this.selectedRemote.name,t=this.selectedRemote.type,i=Number(Ei.O$[t]),n=window.BlocklyEditor.newBlock(Ei.u7[t],window.Blockly.utils.genUid());if(n.moveBy(50,80*(i+1)+50),n.getRelativeToSurfaceXY(),n.initSvg(),n.render(),[Ei.li.TITLE,Ei.li.LABEL,Ei.li.GAUGE,Ei.li.CHART,Ei.li.IMAGE].indexOf(t)>-1){let i=this.globalOperatorSrv.getRemoteVarBlockName(t,e);this.globalOperatorSrv.setRemoteConnBlock(n,i)}this.selectedRemote.setProp("blockId",n.id)}else{let e=this.selectedRemote.blockId;e&&window.BlocklyEditor.getBlockById(e)&&(window.BlocklyEditor.getBlockById(e).dispose(),this.selectedRemote.setProp("blockId",""),this.selectedRemote.setProp("code",""),this.selectedRemote.setProp("event",""),this.codeEditorSrv.updateWorkspaceValue())}}}return e.\u0275fac=function(t){return new(t||e)(o.Y36(Li.t0),o.Y36(oo.h))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-remote-property-panel"]],outputs:{delRemoteEmitter:"delRemoteEmitter"},decls:7,vars:6,consts:[[1,"widget-property",3,"mousedown"],[1,"property-close-btn",3,"click"],["src","../../../assets/images/cancel.png","alt","CLOSE","title","CLOSE",1,"cancel"],["class","remote-property",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"remote-property"],["appRemoteAlias","",3,"propertyItem","changePropertyEmitter"],[1,"remote-del-btn",3,"click"],[1,"remote-del-icon"]],template:function(e,t){1&e&&(o.TgZ(0,"div",0),o.NdJ("mousedown",function(e){return t.stopPropagation(e)}),o.ALo(1,"async"),o.TgZ(2,"span",1),o.NdJ("click",function(){return t.closePanel()}),o._UZ(3,"img",2),o.qZA(),o.TgZ(4,"table"),o.YNc(5,Mo,2,1,"tr",3),o.YNc(6,Oo,5,0,"tr",4),o.qZA(),o.qZA()),2&e&&(o.ekj("show",null!==o.lcZ(1,4,t.selectedRemote$)),o.xp6(5),o.Q6J("ngForOf",t.selectedRemoteProperty),o.xp6(1),o.Q6J("ngIf",t.selectedRemote&&"__title"!==t.selectedRemote.id))},directives:[n.sg,n.O5,So,Eo],pipes:[n.Ov],styles:[".widget-property[_ngcontent-%COMP%]{position:absolute;top:62px;left:-300px;display:none;width:290px;padding:10px 0 8px;border-radius:5px;background-color:#ffffffe6}.widget-property[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%;height:100%}.widget-property[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{display:flex;flex-direction:column}.widget-property.show[_ngcontent-%COMP%]{display:block}app-remote-property-item[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%;height:34px;padding:5px 0}.remote-del-btn[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:120px;height:36px;margin:10px auto 0;border-radius:5px;color:#d81e06;font-size:18px;cursor:pointer}.remote-del-btn[_ngcontent-%COMP%]:hover{background-color:#c5c5c5}.remote-del-icon[_ngcontent-%COMP%]{display:inline-block;width:20px;height:20px;background-repeat:no-repeat;background-image:url(del.082776258987088b25c4.svg);background-position:center center;background-size:100%;margin-right:4px}.property-close-btn[_ngcontent-%COMP%]{position:absolute;top:-23px;right:10px;background-color:transparent;cursor:pointer}.property-close-btn[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:14px;height:14px}"]}),e})();var Po=i(95252),Ro=i(59193),qo=i(18891);class Lo{constructor(e){this._changes=e}static of(e){return new Lo(e)}notEmpty(e){if(this._changes[e]){const t=this._changes[e].currentValue;if(null!=t)return(0,wn.of)(t)}return Ro.E}has(e){return this._changes[e]?(0,wn.of)(this._changes[e].currentValue):Ro.E}notFirst(e){return this._changes[e]&&!this._changes[e].isFirstChange()?(0,wn.of)(this._changes[e].currentValue):Ro.E}notFirstAndEmpty(e){if(this._changes[e]&&!this._changes[e].isFirstChange()){const t=this._changes[e].currentValue;if(null!=t)return(0,wn.of)(t)}return Ro.E}}let Uo=(()=>{class e{constructor(e,t){this.el=e,this.ngZone=t,this.autoResize=!0,this.loadingType="default",this.detectEventChanges=!0,this.chartInit=new o.vpe,this.chartClick=this.createLazyEvent("click"),this.chartDblClick=this.createLazyEvent("dblclick"),this.chartMouseDown=this.createLazyEvent("mousedown"),this.chartMouseMove=this.createLazyEvent("mousemove"),this.chartMouseUp=this.createLazyEvent("mouseup"),this.chartMouseOver=this.createLazyEvent("mouseover"),this.chartMouseOut=this.createLazyEvent("mouseout"),this.chartGlobalOut=this.createLazyEvent("globalout"),this.chartContextMenu=this.createLazyEvent("contextmenu"),this.chartLegendSelectChanged=this.createLazyEvent("legendselectchanged"),this.chartLegendSelected=this.createLazyEvent("legendselected"),this.chartLegendUnselected=this.createLazyEvent("legendunselected"),this.chartLegendScroll=this.createLazyEvent("legendscroll"),this.chartDataZoom=this.createLazyEvent("datazoom"),this.chartDataRangeSelected=this.createLazyEvent("datarangeselected"),this.chartTimelineChanged=this.createLazyEvent("timelinechanged"),this.chartTimelinePlayChanged=this.createLazyEvent("timelineplaychanged"),this.chartRestore=this.createLazyEvent("restore"),this.chartDataViewChanged=this.createLazyEvent("dataviewchanged"),this.chartMagicTypeChanged=this.createLazyEvent("magictypechanged"),this.chartPieSelectChanged=this.createLazyEvent("pieselectchanged"),this.chartPieSelected=this.createLazyEvent("pieselected"),this.chartPieUnselected=this.createLazyEvent("pieunselected"),this.chartMapSelectChanged=this.createLazyEvent("mapselectchanged"),this.chartMapSelected=this.createLazyEvent("mapselected"),this.chartMapUnselected=this.createLazyEvent("mapunselected"),this.chartAxisAreaSelected=this.createLazyEvent("axisareaselected"),this.chartFocusNodeAdjacency=this.createLazyEvent("focusnodeadjacency"),this.chartUnfocusNodeAdjacency=this.createLazyEvent("unfocusnodeadjacency"),this.chartBrush=this.createLazyEvent("brush"),this.chartBrushSelected=this.createLazyEvent("brushselected"),this.chartRendered=this.createLazyEvent("rendered"),this.chartFinished=this.createLazyEvent("finished"),this.currentOffsetWidth=0,this.currentOffsetHeight=0}ngOnChanges(e){const t=Lo.of(e);t.notFirstAndEmpty("options").subscribe(e=>this.onOptionsChange(e)),t.notFirstAndEmpty("merge").subscribe(e=>this.setOption(e)),t.has("loading").subscribe(e=>this.toggleLoading(!!e)),t.notFirst("theme").subscribe(()=>this.refreshChart())}ngOnInit(){this.resizeSub=(0,An.R)(window,"resize").pipe(Cn(50)).subscribe(()=>{this.autoResize&&window.innerWidth!==this.currentWindowWidth&&(this.currentWindowWidth=window.innerWidth,this.currentOffsetWidth=this.el.nativeElement.offsetWidth,this.currentOffsetHeight=this.el.nativeElement.offsetHeight,this.resize())})}ngOnDestroy(){this.resizeSub&&this.resizeSub.unsubscribe(),this.dispose()}ngDoCheck(){if(this.chart&&this.autoResize){const e=this.el.nativeElement.offsetWidth,t=this.el.nativeElement.offsetHeight;(this.currentOffsetWidth!==e||this.currentOffsetHeight!==t)&&(this.currentOffsetWidth=e,this.currentOffsetHeight=t,this.resize())}}ngAfterViewInit(){setTimeout(()=>this.initChart())}dispose(){this.chart&&(this.chart.dispose(),this.chart=null)}resize(){this.chart&&this.chart.resize()}toggleLoading(e){this.chart&&(e?this.chart.showLoading(this.loadingType,this.loadingOpts):this.chart.hideLoading())}setOption(e,t){this.chart&&this.chart.setOption(e,t)}refreshChart(){this.dispose(),this.initChart()}createChart(){this.currentWindowWidth=window.innerWidth,this.currentOffsetWidth=this.el.nativeElement.offsetWidth,this.currentOffsetHeight=this.el.nativeElement.offsetHeight;const e=this.el.nativeElement;if(window&&window.getComputedStyle){const t=window.getComputedStyle(e,null).getPropertyValue("height");(!t||"0px"===t)&&(!e.style.height||"0px"===e.style.height)&&(e.style.height="400px")}return this.ngZone.runOutsideAngular(()=>(0,Po.init)(e,this.theme,this.initOpts))}initChart(){this.onOptionsChange(this.options),this.merge&&this.chart&&this.setOption(this.merge)}onOptionsChange(e){e&&(this.chart||(this.chart=this.createChart(),this.chartInit.emit(this.chart)),this.chart.setOption(this.options,!0))}createLazyEvent(e){return this.chartInit.pipe((0,Rn.w)(t=>new qo.y(i=>(t.on(e,e=>this.ngZone.run(()=>i.next(e))),()=>t.off(e)))))}}return e.\u0275fac=function(t){return new(t||e)(o.Y36(o.SBq),o.Y36(o.R0b))},e.\u0275dir=o.lG2({type:e,selectors:[["echarts"],["","echarts",""]],inputs:{autoResize:"autoResize",loadingType:"loadingType",detectEventChanges:"detectEventChanges",options:"options",theme:"theme",loading:"loading",initOpts:"initOpts",merge:"merge",loadingOpts:"loadingOpts"},outputs:{chartInit:"chartInit",chartClick:"chartClick",chartDblClick:"chartDblClick",chartMouseDown:"chartMouseDown",chartMouseMove:"chartMouseMove",chartMouseUp:"chartMouseUp",chartMouseOver:"chartMouseOver",chartMouseOut:"chartMouseOut",chartGlobalOut:"chartGlobalOut",chartContextMenu:"chartContextMenu",chartLegendSelectChanged:"chartLegendSelectChanged",chartLegendSelected:"chartLegendSelected",chartLegendUnselected:"chartLegendUnselected",chartLegendScroll:"chartLegendScroll",chartDataZoom:"chartDataZoom",chartDataRangeSelected:"chartDataRangeSelected",chartTimelineChanged:"chartTimelineChanged",chartTimelinePlayChanged:"chartTimelinePlayChanged",chartRestore:"chartRestore",chartDataViewChanged:"chartDataViewChanged",chartMagicTypeChanged:"chartMagicTypeChanged",chartPieSelectChanged:"chartPieSelectChanged",chartPieSelected:"chartPieSelected",chartPieUnselected:"chartPieUnselected",chartMapSelectChanged:"chartMapSelectChanged",chartMapSelected:"chartMapSelected",chartMapUnselected:"chartMapUnselected",chartAxisAreaSelected:"chartAxisAreaSelected",chartFocusNodeAdjacency:"chartFocusNodeAdjacency",chartUnfocusNodeAdjacency:"chartUnfocusNodeAdjacency",chartBrush:"chartBrush",chartBrushSelected:"chartBrushSelected",chartRendered:"chartRendered",chartFinished:"chartFinished"},features:[o.TTD]}),e})(),Bo=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[[]]}),e})(),Do=(()=>{class e{transform(e){return Math.round(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=o.Yjl({name:"mathRound",type:e,pure:!0}),e})();const No=["joystickCanvas"],Fo=["gaugeSvg"],Ho=["slider"];function $o(e,t){if(1&e&&(o.TgZ(0,"div",5),o.TgZ(1,"div",6),o._uU(2),o.qZA(),o.qZA()),2&e){const e=o.oxw();o.xp6(2),o.Oqu(e.remote.name)}}function zo(e,t){if(1&e&&(o.ynx(0),o.TgZ(1,"div",7),o._uU(2),o.qZA(),o.BQk()),2&e){const e=o.oxw();o.xp6(1),o.Q6J("ngStyle",e.titleStyleMethod()),o.xp6(1),o.hij("","none"!==e.remote.dataSource&&e.isRemoteGenerate?e.titleValue:e.remote.label," ")}}function Vo(e,t){if(1&e){const e=o.EpF();o.ynx(0),o.TgZ(1,"div",8),o.NdJ("click",function(){return o.CHM(e),o.oxw().btnHandleChange()}),o.TgZ(2,"div",9),o._uU(3),o.qZA(),o.qZA(),o.BQk()}if(2&e){const e=o.oxw();o.xp6(1),o.ekj("radius","pill"===e.remote.edges),o.Q6J("ngStyle",e.btnStyleMethod()),o.xp6(2),o.Oqu(e.remote.label)}}function Ko(e,t){if(1&e&&(o.TgZ(0,"div",13),o._uU(1),o.qZA()),2&e){const e=o.oxw(2);o.xp6(1),o.hij(" ",e.remote.onLabel,"")}}function Wo(e,t){if(1&e&&(o.TgZ(0,"div",13),o._uU(1),o.qZA()),2&e){const e=o.oxw(2);o.xp6(1),o.hij(" ",e.remote.offLabel,"")}}function Go(e,t){if(1&e){const e=o.EpF();o.ynx(0),o.TgZ(1,"div",10),o.NdJ("click",function(){return o.CHM(e),o.oxw().switchHandleChange()}),o.YNc(2,Ko,2,1,"div",11),o._UZ(3,"div",12),o.YNc(4,Wo,2,1,"div",11),o.qZA(),o.BQk()}if(2&e){const e=o.oxw();o.xp6(1),o.ekj("on",e.remote.stateValue),o.Q6J("ngStyle",e.switchStyleMethod(e.remote.stateValue)),o.xp6(1),o.Q6J("ngIf",e.remote.stateValue),o.xp6(2),o.Q6J("ngIf",!e.remote.stateValue)}}function Yo(e,t){if(1&e&&(o.TgZ(0,"span",21),o._uU(1),o.qZA()),2&e){const e=o.oxw(2);o.xp6(1),o.Oqu(e.sliderValue)}}function jo(e,t){if(1&e){const e=o.EpF();o.ynx(0),o.TgZ(1,"div",14),o.NdJ("mouseup",function(t){return o.CHM(e),o.oxw().sliderEnd(t)})("touchend",function(t){return o.CHM(e),o.oxw().sliderEnd(t)})("touchcancel",function(t){return o.CHM(e),o.oxw().sliderEnd(t)}),o.YNc(2,Yo,2,1,"span",15),o.TgZ(3,"div",16,17),o._UZ(5,"div",18),o._UZ(6,"div",19),o.TgZ(7,"div",20),o.NdJ("mousedown",function(t){return o.CHM(e),o.oxw().sliderStart(t)})("touchstart",function(t){return o.CHM(e),o.oxw().sliderStart(t)})("touchmove",function(t){return o.CHM(e),o.oxw().sliderMove(t)})("mousemove",function(t){return o.CHM(e),o.oxw().sliderMove(t)}),o.qZA(),o.qZA(),o.qZA(),o.BQk()}if(2&e){const e=o.oxw();o.xp6(1),o.ekj("vertical",!e.remote.isHorizontal),o.xp6(1),o.Q6J("ngIf",e.remote.showValue),o.xp6(4),o.Udp("background",e.remote.color),o.xp6(1),o.Udp("background",e.remote.color)}}function Xo(e,t){if(1&e&&(o.ynx(0),o.TgZ(1,"div",22),o.TgZ(2,"span",23),o._uU(3),o.qZA(),o.qZA(),o.BQk()),2&e){const e=o.oxw();o.xp6(1),o.Q6J("ngStyle",e.labelStyleMethod()),o.xp6(2),o.Oqu(e.labelValue)}}function Jo(e,t){1&e&&o._UZ(0,"div",27)}function Qo(e,t){if(1&e){const e=o.EpF();o.ynx(0),o.TgZ(1,"div",24),o.YNc(2,Jo,1,0,"div",25),o.TgZ(3,"input",26),o.NdJ("input",function(t){return o.CHM(e),o.oxw().inputhHandleChange(t)}),o.qZA(),o.qZA(),o.BQk()}if(2&e){const e=o.oxw();o.xp6(2),o.Q6J("ngIf",!e.isRemoteGenerate),o.xp6(1),o.Q6J("disabled",!e.isRemoteGenerate)("maxLength",e.remote.characterLimit)("placeholder",e.remote.hint)("ngStyle",e.inputStyleMethod())}}function er(e,t){if(1&e){const e=o.EpF();o.ynx(0),o.TgZ(1,"img",31),o.NdJ("error",function(){return o.CHM(e),o.oxw(2).imgError()}),o.qZA(),o.BQk()}if(2&e){const e=o.oxw(2);o.xp6(1),o.Q6J("src",e.imageValue,o.LSH)}}function tr(e,t){1&e&&(o.O4$(),o.TgZ(0,"svg",32),o.TgZ(1,"title"),o._uU(2,"image"),o.qZA(),o.TgZ(3,"g",33),o._UZ(4,"path",34),o._UZ(5,"path",35),o._UZ(6,"path",36),o.qZA(),o.qZA())}function ir(e,t){if(1&e&&(o.ynx(0),o.TgZ(1,"div",28),o.YNc(2,er,2,1,"ng-container",29),o.YNc(3,tr,7,0,"ng-template",null,30,o.W1O),o.qZA(),o.BQk()),2&e){const e=o.MAs(4),t=o.oxw();o.xp6(2),o.Q6J("ngIf",t.imageValue||t.remote.fallbackUrl)("ngIfElse",e)}}function nr(e,t){if(1&e){const e=o.EpF();o.ynx(0),o.TgZ(1,"div",37),o.TgZ(2,"div",38),o.NdJ("click",function(){return o.CHM(e),o.oxw().stepperSubtract()}),o._uU(3,"-"),o.qZA(),o.TgZ(4,"div",39),o._uU(5),o.qZA(),o.TgZ(6,"div",40),o.NdJ("click",function(){return o.CHM(e),o.oxw().stepperAdd()}),o._uU(7,"+"),o.qZA(),o.qZA(),o.BQk()}if(2&e){const e=o.oxw();o.xp6(5),o.Oqu(e.stepperValue)}}function or(e,t){if(1&e&&(o.TgZ(0,"span"),o._uU(1),o.ALo(2,"mathRound"),o.qZA()),2&e){const e=o.oxw(2);o.xp6(1),o.hij("x:",o.lcZ(2,1,(e.remote.xMax+e.remote.xMin)/2),"")}}function rr(e,t){if(1&e&&(o.TgZ(0,"span"),o._uU(1),o.ALo(2,"mathRound"),o.qZA()),2&e){const e=o.oxw(2);o.xp6(1),o.hij("y:",o.lcZ(2,1,(e.remote.yMax+e.remote.yMin)/2),"")}}function sr(e,t){if(1&e&&(o.TgZ(0,"span"),o._uU(1),o.qZA()),2&e){const e=o.oxw(2);o.xp6(1),o.hij("x:",e.joystickValue.X,"")}}function ar(e,t){if(1&e&&(o.TgZ(0,"span"),o._uU(1),o.qZA()),2&e){const e=o.oxw(2);o.xp6(1),o.hij("y:",e.joystickValue.Y,"")}}function lr(e,t){if(1&e){const e=o.EpF();o.ynx(0),o.TgZ(1,"div",41),o.TgZ(2,"canvas",42,43),o.NdJ("mousedown",function(t){return o.CHM(e),o.oxw().startJoystickDrawing(t)})("mouseup",function(){return o.CHM(e),o.oxw().stopJoystickDrawing()})("mousemove",function(t){return o.CHM(e),o.oxw().joystickDrawing(t)})("touchstart",function(t){return o.CHM(e),o.oxw().startJoystickDrawing(t)})("touchend",function(){return o.CHM(e),o.oxw().stopJoystickDrawing()})("touchcancel",function(){return o.CHM(e),o.oxw().stopJoystickDrawing()})("touchmove",function(t){return o.CHM(e),o.oxw().joystickDrawing(t)}),o.qZA(),o.TgZ(4,"div",44),o.YNc(5,or,3,3,"span",45),o.YNc(6,rr,3,3,"span",45),o.YNc(7,sr,2,1,"span",45),o.YNc(8,ar,2,1,"span",45),o.qZA(),o.qZA(),o.BQk()}if(2&e){const e=o.oxw();o.xp6(2),o.Q6J("ngStyle",e.joystickStyleMethod()),o.xp6(3),o.Q6J("ngIf",!e.isRemoteGenerate),o.xp6(1),o.Q6J("ngIf",!e.isRemoteGenerate),o.xp6(1),o.Q6J("ngIf",e.isRemoteGenerate),o.xp6(1),o.Q6J("ngIf",e.isRemoteGenerate)}}function cr(e,t){1&e&&o._UZ(0,"div",49)}function hr(e,t){if(1&e&&(o.ynx(0),o.TgZ(1,"div",46),o.YNc(2,cr,1,0,"div",47),o._UZ(3,"div",48),o.qZA(),o.BQk()),2&e){const e=o.oxw();o.xp6(2),o.Q6J("ngIf",!e.isRemoteGenerate),o.xp6(1),o.Q6J("options",e.remote.chartOptions)("merge",e.updateOptions)("theme",e.remote.chartTheme)}}function ur(e,t){if(1&e&&(o.ynx(0),o.TgZ(1,"div",50),o.O4$(),o.TgZ(2,"svg",51,52),o._UZ(4,"path",53),o._UZ(5,"path",54),o.TgZ(6,"text",55),o._uU(7),o.qZA(),o.TgZ(8,"text",56),o._uU(9),o.qZA(),o.qZA(),o.kcU(),o.TgZ(10,"div",57),o.TgZ(11,"div",58),o._uU(12),o.qZA(),o.TgZ(13,"span"),o._uU(14),o.TgZ(15,"span",59),o._uU(16),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.BQk()),2&e){const e=o.oxw();o.xp6(7),o.Oqu(e.remote.minValue),o.xp6(2),o.Oqu(e.remote.maxValue),o.xp6(1),o.Q6J("ngStyle",e.gaugeStyleMethod()),o.xp6(2),o.Oqu(e.remote.label),o.xp6(2),o.hij("",e.gaugeValue," "),o.xp6(2),o.Oqu(e.remote.suffix)}}function dr(e,t){1&e&&(o.TgZ(0,"div",60),o.TgZ(1,"div",61),o._UZ(2,"span"),o._UZ(3,"span"),o._UZ(4,"span"),o.qZA(),o.qZA())}let pr=(()=>{class e{constructor(e,t){this.globalOperatorSrv=e,this.remotePlusSrv=t,this.isRemoteGenerate=!1,this.sliderValue=50,this.titleValue="",this.labelValue="123",this.imageValue="",this.stepperValue=0,this.timerCamUrl="",this.ctx=null,this.canvas=null,this.joystickOrigin={x:0,y:0},this.joystickRadius=0,this.coord={X:0,Y:0},this.joystickValue={X:0,Y:0},this.paint=!1,this.seriesData=[],this.xAxisData=[],this.gaugeValue=0,this.remoteApiKey=null,this.reqSub=null,this.timer=null,this.dataLoadding=!1,this.isSliderMove=!1}ngOnInit(){if(this.globalOperatorSrv.getRemoteGenerate().subscribe(e=>{this.isRemoteGenerate=e}),this.isRemoteGenerate){if(this.stepperValue=this.remote.minValue?this.remote.minValue:0,this.sliderValue=this.remote.minValue?this.remote.minValue:0,this.labelValue=null,this.imageValue="",this.remotePlusSrv.getRemotePlusKey().subscribe(e=>{this.remoteApiKey=e}),this.remote.dataSource===Ei.Fk.TIMERCAM&&(this.getTimerCamValue(),this.timer=setInterval(()=>{this.updateTimerCamValue()},this.remote.interval)),[Ei.li.LABEL,Ei.li.IMAGE,Ei.li.CHART,Ei.li.GAUGE,Ei.li.TITLE].indexOf(this.remote.type)>-1&&!/^__/g.test(this.remote.id)){if(this.remote.dataSource===Ei.Fk.NONE||this.remote.dataSource===Ei.Fk.TIMERCAM||(this.remote.dataSource===Ei.Fk.EZDATA?this.remotePlusSrv.addToPreReqList(this.remoteApiKey,this.remote.event,{token:this.remote.ezdataToken,topic:this.remote.topic,count:this.remote.maxCount}):this.remotePlusSrv.addToPreReqList(this.remoteApiKey,this.remote.event),""===this.remotePlusSrv.getPreReq(this.remoteApiKey,this.remote.event).data&&(this.dataLoadding=!0),this.timer=setInterval(()=>{this.getValue()},this.remote.interval),0===this.updateTotal))return;this.remotePlusSrv.preReqList.length==this.updateTotal&&this.remotePlusSrv.initRemoteData()}this.remote.type===Ei.li.JOYSTICK&&this.setJoystickOriginValue()}else this.remote.type===Ei.li.CHART&&"__tool_chart"!==this.remote.id&&this.setChartDefaultData()}ngOnDestroy(){this.timer&&clearInterval(this.timer)}ngAfterViewInit(){this.remote.type===Ei.li.JOYSTICK&&"__tool_joystick"!==this.remote.id?this.createJoystick():this.remote.type!==Ei.li.GAUGE||this.isRemoteGenerate?this.remote.type===Ei.li.SLIDER&&this.isRemoteGenerate&&this.setSliderTrack():this.setGaugeDefaultData()}decodeUnicode(e){return e.replace(/\\u[\dA-Fa-f]{4}/g,function(e){return String.fromCharCode(parseInt(e.replace(/\\u/g,""),16))})}getValue(){this.dataLoadding=!0;let e=null;if(this.remote.dataSource===Ei.Fk.EZDATA){if(e={token:this.remote.ezdataToken,topic:this.remote.topic,count:this.remote.maxCount},!this.remote.ezdataToken)return void this.globalOperatorSrv.createMessageBox().instance.error("Invalid token");if(!this.remote.topic)return void this.globalOperatorSrv.createMessageBox().instance.error("Invalid topic")}this.reqSub=this.remotePlusSrv.remote(this.remoteApiKey,this.remote.event,e,this.remote.dataSource).subscribe(e=>{let t=e;if(this.remote.type===Ei.li.LABEL)this.labelValue=this.decodeUnicode(t.data).replace(/^'/,"").replace(/'$/,"");else if(this.remote.type===Ei.li.IMAGE){if("none"===t.data||(this.imageValue=t.data.replace(/^'/,"").replace(/'$/,""),/^\/\//.test(this.imageValue)))return;/^(http|https):\/\//.test(this.imageValue)||(this.imageValue="http://"+this.imageValue)}else if(this.remote.type===Ei.li.CHART)-1===t.status?this.globalOperatorSrv.createMessageBox().instance.error(t.errMsg):this.updateChartData(t.data);else if(this.remote.type===Ei.li.GAUGE){let e=t.data.substr(0,t.data.indexOf(".")+3);this.gaugeValue=Number(e),this.updateGaugeData(this.gaugeValue)}else this.remote.type===Ei.li.TITLE&&(this.titleValue=this.decodeUnicode(t.data).replace(/^'/,"").replace(/'$/,""));this.reqSub.unsubscribe(),this.dataLoadding=!1},e=>{this.reqSub.unsubscribe(),this.remote.type===Ei.li.IMAGE&&(this.imageValue=""),this.dataLoadding=!1},()=>{this.reqSub.unsubscribe(),this.dataLoadding=!1})}getTimerCamValue(){this.remote.timercamToken?(this.timerCamUrl=`https://api.m5stack.com:5004/timer-cam/image?tok=${this.remote.timercamToken}`,this.imageValue=this.timerCamUrl):this.globalOperatorSrv.createMessageBox().instance.error("Invalid token")}imgError(){this.remote.fallbackUrl&&(this.imageValue=this.remote.fallbackUrl)}updateTimerCamValue(){""!==this.imageValue&&(this.imageValue=this.timerCamUrl+"&v="+Math.random().toString(36).slice(-8))}getFontSize(){let e=16;switch(this.remote.fontsize){case"S":e=16;break;case"M":e=22;break;case"L":e=32}return e}titleStyleMethod(){if("__tool_title"===this.remote.id)return;let e=this.getFontSize();return{color:this.remote.color,"background-color":this.remote.bgColor,"font-size":`${e}px`}}btnStyleMethod(){if("__tool_button"===this.remote.id)return;let e;return e="outline"===this.remote.style?{"background-color":"transparent",color:this.remote.color,border:`2px solid ${this.remote.bgColor}`}:{"background-color":this.remote.bgColor,color:this.remote.color,border:`2px solid ${this.remote.bgColor}`},e}switchStyleMethod(e){return"__tool_switch"===this.remote.id?void 0:{"background-color":e?this.remote.onBG:this.remote.offBG,color:e?this.remote.onColor:this.remote.offColor}}labelStyleMethod(){if("__tool_label"===this.remote.id)return;let e=this.getFontSize();return{color:this.remote.color,"font-size":`${e}px`}}inputStyleMethod(){if("__tool_input"===this.remote.id)return;let e=this.getFontSize();return{color:this.remote.color,"font-size":`${e}px`}}joystickStyleMethod(){if("__tool_joystick"!==this.remote.id&&!this.isRemoteGenerate&&null!==this.canvas)try{this.joystickResize()}catch(e){console.log(e)}}gaugeStyleMethod(){if("__gauge"===this.remote.id)return;let e=this.getFontSize();const t={color:this.remote.color,"font-size":`${e}px`};return this.gaugeSvg&&this.gaugeSvg.nativeElement.children[1].setAttribute("stroke",this.remote.color),t}stopPropagation(e){!this.isRemoteGenerate||e.stopPropagation()}btnHandleChange(){!this.isRemoteGenerate||this.remotePlusSrv.remote(this.remoteApiKey,this.remote.event).subscribe()}switchHandleChange(){!this.isRemoteGenerate||(this.remote.stateValue=!this.remote.stateValue,this.remotePlusSrv.remote(this.remoteApiKey,this.remote.event,this.remote.stateValue?1:0).subscribe())}inputhHandleChange(e){let t=e.target.value;!this.isRemoteGenerate||t.trim().length>0&&(this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.remotePlusSrv.remote(this.remoteApiKey,this.remote.event,`'${t}'`).subscribe()},400))}stepperSubtract(){if(!this.isRemoteGenerate)return;let e=Number((1*this.stepperValue-1*this.remote.step).toFixed(this.remote.decimalPlaces));this.stepperValue=e>=this.remote.minValue?e:this.remote.minValue,this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.remotePlusSrv.remote(this.remoteApiKey,this.remote.event,this.stepperValue).subscribe()},400)}stepperAdd(){if(!this.isRemoteGenerate)return;let e=Number((1*this.stepperValue+1*this.remote.step).toFixed(this.remote.decimalPlaces));this.stepperValue=e<=this.remote.maxValue?e:this.remote.maxValue,this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.remotePlusSrv.remote(this.remoteApiKey,this.remote.event,this.stepperValue).subscribe()},400)}updateChartData(e){let t=[],i=[];!e||(e.forEach(e=>{e[this.remote.xAxisData]&&(t.unshift({name:e[this.remote.xAxisData],value:e[this.remote.yAxisData]}),i.unshift(e[this.remote.xAxisData]))}),this.updateOptions={xAxis:{data:i},series:[{data:t}]})}setChartDefaultData(){let e=new Date,t=this.remote.yAxisMax,i=this.remote.yAxisMin,n=[],o=[];for(let r=0;r<this.remote.maxCount;r++){let s=Math.round(i+Math.random()*(t-i));s=0===s?s+1:s,n.push(s);let a=new Date(e.getTime()-8e3*r);o.unshift(a.toLocaleTimeString().replace(/^\D*/,""))}this.remote.chartOptions.xAxis.data=o,this.remote.chartOptions.series[0].data=n,this.remote.chartOptions.dataZoom.start=0}createJoystick(){this.canvas=this.joystickCanvas.nativeElement,this.ctx=this.canvas.getContext("2d"),this.joystickResize()}setJoystickOriginValue(){this.joystickValue.X=Math.round((this.remote.xMax+this.remote.xMin)/2),this.joystickValue.Y=Math.round((this.remote.yMax+this.remote.yMin)/2)}joystickResize(){let e=this.canvas.getClientRects()[0],t=e.width,i=e.height;this.ctx.canvas.width=t,this.ctx.canvas.height=i,this.joystickOrigin.x=t/2,this.joystickOrigin.y=i/2,this.joystickRadius=Math.round(.5*(Math.min(t,i)/2-10)),this.drawJoystickBG(),this.drawJoystick(this.joystickOrigin.x,this.joystickOrigin.y)}drawJoystickBG(){let e=this.joystickOrigin.x,t=this.joystickOrigin.y,i=Math.round(Math.min(this.ctx.canvas.width,this.ctx.canvas.height)/2-10);this.ctx.beginPath(),this.ctx.arc(e,t,i,0,2*Math.PI,!0),this.ctx.strokeStyle="#e6e6e6",this.ctx.lineWidth=5,this.ctx.stroke()}drawJoystick(e,t){let i=this.joystickRadius;this.ctx.beginPath(),this.ctx.arc(e,t,i,0,2*Math.PI,!0),this.ctx.fillStyle=this.remote.color,this.ctx.fill(),this.ctx.strokeStyle="#e6e6e6",this.ctx.lineWidth=8,this.ctx.stroke(),this.ctx.beginPath(),this.ctx.arc(e,t,i,0,2*Math.PI,!0);let n=this.ctx.createRadialGradient(e,t,0,e,t,i-10);n.addColorStop(0,"rgba(255,255,255,0.26)"),n.addColorStop(1,"rgba(255,255,255,0)"),this.ctx.fillStyle=n,this.ctx.fill()}getPosition(e){let t;if(e.touches){t=e.touches[0];for(let i=0;i<e.touches.length;i++)e.touches[i].target===this.joystickCanvas.nativeElement&&(t=e.touches[i])}let i=e.clientY||t.clientY,n=(window.innerWidth-15)/6,o=this.remote.y*n;this.coord.X=(e.clientX||t.clientX)-5-2-5-this.remote.x*n,this.coord.Y=i-5-48-5-2-2-o}isInCircle(){let e=this.joystickOrigin.y;return this.joystickRadius>=Math.sqrt(Math.pow(this.coord.X-this.joystickOrigin.x,2)+Math.pow(this.coord.Y-e,2))}startJoystickDrawing(e){!this.isRemoteGenerate||(this.paint=!0,this.getPosition(e),this.isInCircle()&&(this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.drawJoystickBG(),this.drawJoystick(this.coord.X,this.coord.Y),this.joystickDrawing(e),this.sendJoystickValue()))}stopJoystickDrawing(){!this.isRemoteGenerate||(this.paint=!1,this.remote.autoReturn&&(this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.drawJoystickBG(),this.drawJoystick(this.joystickOrigin.x,this.joystickOrigin.y),this.setJoystickOriginValue()),this.remotePlusSrv.remote(this.remoteApiKey,this.remote.event,`${this.joystickValue.X},${this.joystickValue.Y}`).subscribe(),this.timeout&&clearTimeout(this.timeout))}joystickDrawing(e){if(this.isRemoteGenerate&&this.paint){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.drawJoystickBG();let t,i,n=Math.atan2(this.coord.Y-this.joystickOrigin.y,this.coord.X-this.joystickOrigin.x);this.isInCircle()?(t=this.coord.X,i=this.coord.Y,this.drawJoystick(t,i)):(t=this.joystickRadius*Math.cos(n)+this.joystickOrigin.x,i=this.joystickRadius*Math.sin(n)+this.joystickOrigin.y,this.drawJoystick(t,i)),this.getPosition(e);let o=(this.joystickOrigin.y-i)/(2*this.joystickRadius/(this.remote.yMax-this.remote.yMin));const r=(e,t,i)=>e<=t&&e>=i?e:e>t?t:e<i?i:void 0;let s=(this.remote.yMax+this.remote.yMin)/2;this.joystickValue.X=r(Math.round((t-this.joystickOrigin.x)/(2*this.joystickRadius/(this.remote.xMax-this.remote.xMin))+(this.remote.xMax+this.remote.xMin)/2),this.remote.xMax,this.remote.xMin),this.joystickValue.Y=r(Math.round(o+s),this.remote.yMax,this.remote.yMin)}}sendJoystickValue(){this.timeout=setInterval(()=>{this.remotePlusSrv.remote(this.remoteApiKey,this.remote.event,`${this.joystickValue.X},${this.joystickValue.Y}`).subscribe()},500)}setGaugeDefaultData(){let e=297;this.timer=setInterval(()=>{e-10<=79?(e=79,this.gaugeValue=100):(e-=21.8,this.gaugeValue=this.gaugeValue+10),this.updateGaugePath(e)},500)}updateGaugeData(e){if(isNaN(e))return;let t=297-218/(this.remote.maxValue-this.remote.minValue)*e*1;t=t<79?79:t,this.updateGaugePath(t)}updateGaugePath(e){this.gaugeSvg.nativeElement.children[1].setAttribute("stroke-dashoffset",`${e}px`)}sliderStart(e){!this.isRemoteGenerate||(this.isSliderMove=!0,this.setSliderValue(e))}sliderMove(e){!this.isRemoteGenerate||(this.isSliderMove&&this.setSliderValue(e),e.stopPropagation(),e.preventDefault())}sliderEnd(e){!this.isRemoteGenerate||(this.isSliderMove=!1)}setSliderValue(e){let t,i=e.clientX||e.touches[0].clientX,n=e.clientY||e.touches[0].clientY,o=this.slider.nativeElement.getElementsByClassName("slider-rail")[0].getClientRects()[0],r=this.slider.nativeElement.getElementsByClassName("slider-track")[0],s=this.slider.nativeElement.getElementsByClassName("slider-thumb")[0],a=s.getClientRects()[0].width,l=this.remote.maxValue-this.remote.minValue,c=a/2;if(this.remote.isHorizontal){let e=i-o.x,n=o.width-a/2;t=Math.floor((e-a/2)/(o.width-a)*l+this.remote.minValue),t<=this.remote.minValue?(e=c,t=this.remote.minValue):t>=this.remote.maxValue&&(e=n,t=this.remote.maxValue),s.style.left=e-a/2+"px",r.style.width=`${e}px`}else{let e=n-o.y,i=o.height-a/2,h=o.height-a;t=Math.floor((h-(e-a/2))/h*l+this.remote.minValue),t<=this.remote.minValue?(e=i,t=this.remote.minValue):t>=this.remote.maxValue&&(e=c,t=this.remote.maxValue),s.style.top=e-a/2+"px",r.style.height=o.height-e+"px"}this.sliderValue=t,this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.remotePlusSrv.remote(this.remoteApiKey,this.remote.event,this.sliderValue).subscribe()},300)}setSliderTrack(){let e=this.slider.nativeElement.getElementsByClassName("slider-rail")[0].getClientRects()[0],t=this.slider.nativeElement.getElementsByClassName("slider-track")[0],i=this.slider.nativeElement.getElementsByClassName("slider-thumb")[0];if(!i.getClientRects().length)return;let n=i.getClientRects()[0].width,o=this.remote.maxValue-this.remote.minValue,r=n/2,s=this.sliderValue;if(this.remote.isHorizontal){let a=(s-this.remote.minValue)/o*(e.width-n)+n/2,l=e.width-n/2;s<=this.remote.minValue?(a=r,s=this.remote.minValue):s>=this.remote.maxValue&&(a=l,s=this.remote.maxValue),i.style.left=a-n/2+"px",t.style.width=`${a}px`}else{let a=(s-this.remote.minValue)/o*(e.height-n)+n/2,l=e.height-n/2;s<=this.remote.minValue?(a=l,s=this.remote.minValue):s>=this.remote.maxValue&&(a=r,s=this.remote.maxValue),i.style.top=a-n/2+"px",t.style.height=e.height-a+"px"}}}return e.\u0275fac=function(t){return new(t||e)(o.Y36(Li.t0),o.Y36(Li.R_))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-remote-widget-body"]],viewQuery:function(e,t){if(1&e&&(o.Gf(No,5),o.Gf(Fo,5),o.Gf(Ho,5)),2&e){let e;o.iGM(e=o.CRH())&&(t.joystickCanvas=e.first),o.iGM(e=o.CRH())&&(t.gaugeSvg=e.first),o.iGM(e=o.CRH())&&(t.slider=e.first)}},inputs:{remote:"remote",updateTotal:"updateTotal",gridsterItem:"gridsterItem"},decls:15,vars:14,consts:[["class","panel-heading",4,"ngIf"],[1,"panel-body",3,"click"],[3,"ngSwitch"],[4,"ngSwitchCase"],["class","data-loading-wrapper",4,"ngIf"],[1,"panel-heading"],[1,"panel-title"],[1,"tool-title-body",3,"ngStyle"],[1,"tool-btn-body",3,"ngStyle","click"],[1,"tool-btn"],[1,"tool-switch-body",3,"ngStyle","click"],["class","tool-switch-label",4,"ngIf"],[1,"tool-switch-round"],[1,"tool-switch-label"],[1,"tool-slider-body",3,"mouseup","touchend","touchcancel"],["class","tool-slider-label",4,"ngIf"],[1,"tool-slider-box"],["slider",""],[1,"slider-rail"],[1,"slider-track"],[1,"slider-thumb",3,"mousedown","touchstart","touchmove","mousemove"],[1,"tool-slider-label"],[1,"tool-label-body",3,"ngStyle"],[1,"tool-label-label"],[1,"tool-input-body"],["class","input-mash",4,"ngIf"],["type","text","spellcheck","false",3,"disabled","maxLength","placeholder","ngStyle","input"],[1,"input-mash"],[1,"tool-image-body"],[4,"ngIf","ngIfElse"],["defaultImg",""],[3,"src","error"],["xmlns","http://www.w3.org/2000/svg","width","6em","height","6em","viewBox","0 0 143 143"],["fill","#969696"],["id","Layer","d","M111.38 52.19l-41.49 39.41-15.68-15.08c-0.9-0.85-1.79-1.28-3.14-1.28-1.34 0-2.24 0.43-3.13 1.28l-22.12 21.34c-1.79 1.71-2.07 3.99-0.28 5.69 1.79 1.71 3.64 1.43 5.43-0.28l19.65-17.78 15.68 14.65c0.9 0.85 1.79 1.28 3.14 1.28 1.34 0 2.24-0.43 3.14-1.28l44.21-42.25c1.79-1.71 1.93-3.85 0.14-5.55-1.34-2.13-3.75-1.85-5.55-0.15z","fill","#969696",1,"shp0"],["id","image copy","fill-rule","evenodd","d","M44.64 64.31c-6.73 0-12.89-6.16-12.89-12.89 0-6.73 6.16-12.89 12.89-12.88 6.73 0 12.89 6.16 12.89 12.88 0 6.73-6.16 12.89-12.89 12.89z m0-20.06c-4.04 0-7.17 3.13-7.17 7.17s3.13 7.17 7.17 7.18c4.04 0 7.17-3.13 7.18-7.18s-3.13-7.17-7.18-7.17z","fill","#969696",1,"shp0"],["id","Layer","fill-rule","evenodd","d","M134.4 30.29v83.62c0 6.57-4.03 11.95-8.96 11.95h-107.52c-4.93 0-8.96-5.38-8.96-11.95v-83.62c0-6.57 4.03-11.95 8.96-11.95h107.52c4.93 0 8.96 5.38 8.96 11.95z m-8.96 3.45c0-3.58-1.79-5.97-4.48-5.97h-98.56c-2.69 0-4.48 2.39-4.48 5.97v77.56c0 3.58 1.79 5.97 4.48 5.97h98.56c2.69 0 4.48-2.39 4.48-5.97v-77.56z","fill","#969696",1,"shp0"],[1,"tool-stepper-body"],[1,"stepper-subtract",3,"click"],[1,"stepper-value"],[1,"stepper-add",3,"click"],[1,"tool-joystick-body"],[3,"ngStyle","mousedown","mouseup","mousemove","touchstart","touchend","touchcancel","touchmove"],["joystickCanvas",""],[1,"joystick-value-wrapper"],[4,"ngIf"],[1,"tool-chart-body"],["class","chart-mash",4,"ngIf"],["echarts","",1,"chart-content",3,"options","merge","theme"],[1,"chart-mash"],[1,"tool-gauge-body"],["viewBox","0 0 100 100","data-test-id","CircularProgressbar"],["gaugeSvg",""],["d","\n                M 50,50\n                m 0,-44.5\n                a 44.5,44.5 0 1 1 0,89\n                a 44.5,44.5 0 1 1 0,-89\n              ","stroke-width","6","fill-opacity","0",1,"CircularProgressbar-trail",2,"stroke","rgb(217, 217, 217)","transform","rotate(0.61turn)","transform-origin","center center","stroke-dasharray","219px, 219px","stroke-dashoffset","0px"],["d","\n                M 50,50\n                m 0,-44.5\n                a 44.5,44.5 0 1 1 0,89\n                a 44.5,44.5 0 1 1 0,-89\n              ","stroke-width","6","fill-opacity","0","stroke","rgb(0,128,255);","stroke-dashoffset","297px",1,"CircularProgressbar-path",2,"transform","rotate(0.61turn)","transform-origin","center center","stroke-dasharray","298px, 298px"],["x","20","y","98",1,"CircularProgressbar-label",2,"fill","rgb(55, 65, 70)","font-size","9px"],["x","66","y","98",1,"CircularProgressbar-label",2,"fill","rgb(55, 65, 70)","font-size","9px"],[1,"gauge-value",3,"ngStyle"],[1,"gauge-label"],[1,"gauge-suffix"],[1,"data-loading-wrapper"],[1,"data-loading"]],template:function(e,t){1&e&&(o.YNc(0,$o,3,1,"div",0),o.TgZ(1,"div",1),o.NdJ("click",function(e){return t.stopPropagation(e)}),o.ynx(2,2),o.YNc(3,zo,3,2,"ng-container",3),o.YNc(4,Vo,4,4,"ng-container",3),o.YNc(5,Go,5,5,"ng-container",3),o.YNc(6,jo,8,7,"ng-container",3),o.YNc(7,Xo,4,2,"ng-container",3),o.YNc(8,Qo,4,5,"ng-container",3),o.YNc(9,ir,5,2,"ng-container",3),o.YNc(10,nr,8,1,"ng-container",3),o.YNc(11,lr,9,5,"ng-container",3),o.YNc(12,hr,4,4,"ng-container",3),o.YNc(13,ur,17,6,"ng-container",3),o.BQk(),o.YNc(14,dr,5,0,"div",4),o.qZA()),2&e&&(o.Q6J("ngIf",t.remote.showTitle),o.xp6(2),o.Q6J("ngSwitch",t.remote.type),o.xp6(1),o.Q6J("ngSwitchCase","title"),o.xp6(1),o.Q6J("ngSwitchCase","button"),o.xp6(1),o.Q6J("ngSwitchCase","switch"),o.xp6(1),o.Q6J("ngSwitchCase","slider"),o.xp6(1),o.Q6J("ngSwitchCase","label"),o.xp6(1),o.Q6J("ngSwitchCase","input"),o.xp6(1),o.Q6J("ngSwitchCase","image"),o.xp6(1),o.Q6J("ngSwitchCase","stepper"),o.xp6(1),o.Q6J("ngSwitchCase","joystick"),o.xp6(1),o.Q6J("ngSwitchCase","chart"),o.xp6(1),o.Q6J("ngSwitchCase","gauge"),o.xp6(1),o.Q6J("ngIf",t.dataLoadding))},directives:[n.O5,n.RF,n.n9,n.PC,Uo],pipes:[Do],styles:[".stepper-value[_ngcontent-%COMP%], .stepper-add[_ngcontent-%COMP%], .stepper-subtract[_ngcontent-%COMP%], .tool-image-body[_ngcontent-%COMP%], .tool-label-body[_ngcontent-%COMP%], .tool-btn-body[_ngcontent-%COMP%], .tool-title-body[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.tool-title-body[_ngcontent-%COMP%]{width:100%;height:100%;overflow:hidden;color:#0080ff}.tool-btn-body[_ngcontent-%COMP%]{width:100%;height:100%;background-color:#0080ff;border:2px solid #0080FF;color:#fff;font-size:20px;overflow:hidden;border-radius:3px}.tool-btn-body.radius[_ngcontent-%COMP%]{border-radius:150px}.tool-btn[_ngcontent-%COMP%]{word-break:break-word;text-align:center}.tool-switch-body[_ngcontent-%COMP%]{position:relative;padding:0 6px;display:flex;align-items:center;width:100%;height:44px;border-radius:44px;color:#fff;background-color:#6d6d6d;box-shadow:inset 1px 1px 1px 1px #707070;font-size:16px;overflow:hidden}.tool-switch-body.on[_ngcontent-%COMP%]{justify-content:flex-end}.tool-switch-label[_ngcontent-%COMP%]{font-size:14px;margin:0 5px}.tool-switch-round[_ngcontent-%COMP%]{width:30px;height:30px;border-radius:50%;background-color:#fff;flex-shrink:0}.tool-slider-body[_ngcontent-%COMP%]{width:100%;height:90%;display:flex;align-items:center;justify-content:space-around;flex-direction:column;overflow:hidden}.tool-slider-body[_ngcontent-%COMP%]   .tool-slider-input-box[_ngcontent-%COMP%]{width:100%;height:100%;background-color:#008b8b}.tool-slider-body.vertical[_ngcontent-%COMP%]{height:100%}.tool-slider-body.vertical[_ngcontent-%COMP%]   .tool-slider-label[_ngcontent-%COMP%]{margin-bottom:7px}.tool-slider-body.vertical[_ngcontent-%COMP%]   .tool-slider-input[_ngcontent-%COMP%]{transform:rotate(-90deg)}.tool-slider-body.vertical[_ngcontent-%COMP%]   .tool-slider-box[_ngcontent-%COMP%]{width:auto;height:100%;display:flex;align-items:flex-end}.tool-slider-body.vertical[_ngcontent-%COMP%]   .slider-rail[_ngcontent-%COMP%]{width:10px;height:100%}.tool-slider-body.vertical[_ngcontent-%COMP%]   .slider-track[_ngcontent-%COMP%]{width:10px;height:50%}.tool-slider-body.vertical[_ngcontent-%COMP%]   .slider-thumb[_ngcontent-%COMP%]{top:calc(50% - 12px)}.tool-slider-label[_ngcontent-%COMP%]{color:#303131;font-size:20px;margin-bottom:6px;margin-top:5px}.tool-slider-box[_ngcontent-%COMP%]{width:98%;position:relative;margin-bottom:10px;touch-action:pan-y}.slider-rail[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:10px;border-radius:10px;background-color:#eee}.slider-track[_ngcontent-%COMP%]{position:relative;width:50%;height:10px;border-radius:10px;background-color:#0080ff}.slider-thumb[_ngcontent-%COMP%]{position:absolute;top:-6px;left:calc(50% - 12px);width:24px;height:24px;border-radius:50%;border:6px solid #fff;background:#0080FF;box-shadow:0 0 1px 1px #afafaf;touch-action:pan-y}.tool-label-body[_ngcontent-%COMP%]{font-size:16px;color:#0080ff}.tool-input-body[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center}.tool-input-body[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;height:90%}.tool-input-body[_ngcontent-%COMP%]   .input-mash[_ngcontent-%COMP%]{width:95%;height:86%;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);z-index:99}.tool-image-body[_ngcontent-%COMP%]{width:100%;height:100%}.tool-image-body[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto}.tool-stepper-body[_ngcontent-%COMP%]{width:100%;height:40px;display:flex;align-items:center;border:1px solid #8e8e8e;border-radius:2px;font-size:24px}.stepper-add[_ngcontent-%COMP%], .stepper-subtract[_ngcontent-%COMP%]{width:34px;height:100%;color:#0080ff}.stepper-add[_ngcontent-%COMP%]{border-left:1px solid #8e8e8e}.stepper-subtract[_ngcontent-%COMP%]{border-right:1px solid #8e8e8e}.stepper-value[_ngcontent-%COMP%]{height:100%;flex:1;overflow:hidden}.tool-joystick-body[_ngcontent-%COMP%]{width:100%;height:100%;position:relative;display:flex;justify-content:center}.tool-joystick-body[_ngcontent-%COMP%]   canvas[_ngcontent-%COMP%]{width:100%;height:100%;touch-action:none}.tool-joystick-body[_ngcontent-%COMP%]   .joystick-value-wrapper[_ngcontent-%COMP%]{position:absolute;bottom:0;left:4px;color:#3e3e3e}.tool-joystick-body[_ngcontent-%COMP%]   .joystick-value-wrapper[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-right:6px}.tool-chart-body[_ngcontent-%COMP%]{width:100%;height:100%}.tool-chart-body[_ngcontent-%COMP%]   .chart-mash[_ngcontent-%COMP%]{width:95%;height:95%;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);z-index:99}.chart-content[_ngcontent-%COMP%]{height:100%}.tool-gauge-body[_ngcontent-%COMP%]{width:90%;height:96%;position:relative}.CircularProgressbar-trail[_ngcontent-%COMP%]{stroke-linecap:round}.CircularProgressbar-path[_ngcontent-%COMP%]{stroke-linecap:round;transition:stroke-dashoffset .5s ease 0s}.CircularProgressbar-text[_ngcontent-%COMP%]{text-anchor:middle}.gauge-value[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);display:flex;flex-direction:column;align-items:center}.gauge-value[_ngcontent-%COMP%]   .gauge-label[_ngcontent-%COMP%]{margin-bottom:5px;font-size:18px}.gauge-value[_ngcontent-%COMP%]   .gauge-suffix[_ngcontent-%COMP%]{font-size:60%}.data-loading-wrapper[_ngcontent-%COMP%]{width:100%;position:absolute;bottom:3px;display:flex;justify-content:center;align-items:flex-end;zoom:1;-webkit-user-select:none;-moz-user-select:none;user-select:none}.data-loading[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block;width:6px;height:6px;margin-right:5px;border-radius:50%;background:#37c0ff;-webkit-animation:load .96s ease infinite}.data-loading[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:last-child{margin-right:0}.data-loading[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(1){-webkit-animation-delay:.16s}.data-loading[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(2){-webkit-animation-delay:.32s}.data-loading[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-delay:.48s}@-webkit-keyframes load{0%{opacity:1;-webkit-transform:scale(1.3)}to{opacity:.2;-webkit-transform:scale(.3)}}@keyframes load{0%{opacity:1;-webkit-transform:scale(1.3)}to{opacity:.2;-webkit-transform:scale(.3)}}"]}),e})();const gr=function(e){return{helper:!0,type:e}};let fr=(()=>{class e{constructor(){this.overEmitter=new o.vpe,this.outEmitter=new o.vpe,this.addWidgetEmitter=new o.vpe}ngOnInit(){}addWidget(e){return this.addWidgetEmitter.emit(e)}over(e){return this.overEmitter.emit(e)}out(e){return this.outEmitter.emit(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-remote-toolbar-item"]],inputs:{option:"option"},outputs:{overEmitter:"overEmitter",outEmitter:"outEmitter",addWidgetEmitter:"addWidgetEmitter"},decls:4,vars:9,consts:[["ngxGridsterItemPrototype","",1,"gridster-item-prototype",3,"config","w","h","drop","enter","out"],["_ngcontent-uoe-1","",1,"gridster-item-inner",2,"width","0","height","0"],["_ngcontent-uoe-2","",3,"remote"]],template:function(e,t){1&e&&(o.TgZ(0,"div",0),o.NdJ("drop",function(e){return t.addWidget(e)})("enter",function(e){return t.over(e)})("out",function(e){return t.out(e)}),o._UZ(1,"div"),o.TgZ(2,"div",1),o._UZ(3,"app-remote-widget-body",2),o.qZA(),o.qZA()),2&e&&(o.Q6J("config",o.VKq(7,gr,t.option.type))("w",t.option.w)("h",t.option.h),o.xp6(1),o.Gre("toolbar-item toolbar-",t.option.type,""),o.xp6(2),o.Q6J("remote",t.option))},directives:[to,pr],styles:[".gridster-item-prototype[_ngcontent-%COMP%]{display:block;position:relative;z-index:99;text-align:center;padding:5px;width:100%;height:50px;cursor:pointer}.toolbar-item[_ngcontent-%COMP%]{width:40px;height:40px;background-repeat:no-repeat;background-position:center center;background-size:100%}.toolbar-title[_ngcontent-%COMP%]{background-image:url(title.8e093163be0d9549f847.svg)}.toolbar-button[_ngcontent-%COMP%]{background-image:url(button.e60a149c14f88b34a56c.svg)}.toolbar-switch[_ngcontent-%COMP%]{background-image:url(switch.a8d99ccfe4215e800634.svg)}.toolbar-slider[_ngcontent-%COMP%]{background-image:url(slider-horizontal.fbc2c62af514d8a53544.svg)}.toolbar-input[_ngcontent-%COMP%]{background-image:url(input.817569b6a9deff9a910c.svg)}.toolbar-label[_ngcontent-%COMP%]{background-image:url(label.026ce051a440b1f78c6c.svg)}.toolbar-image[_ngcontent-%COMP%]{background-image:url(image.bc2e32dd4b5b000f5090.svg)}.toolbar-stepper[_ngcontent-%COMP%]{background-image:url(stepper.c004c92555dd52873234.svg)}.toolbar-joystick[_ngcontent-%COMP%]{background-image:url(joystick.cd472cdbbb741c66b0f9.svg)}.toolbar-chart[_ngcontent-%COMP%]{background-image:url(chart.09d400e0415201b4546f.svg)}.toolbar-gauge[_ngcontent-%COMP%]{background-image:url(gauge.6fa7e724b2d0b1a66124.svg)}"]}),e})();function mr(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"span",28),o.NdJ("click",function(){return o.CHM(e),o.oxw().showQRCode()}),o._UZ(1,"img",29),o.qZA()}}function _r(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"span",30),o.NdJ("click",function(){return o.CHM(e),o.oxw().getRemoteKey()}),o._UZ(1,"img",31),o.qZA()}}function vr(e,t){if(1&e&&(o.TgZ(0,"span",36),o._uU(1),o.qZA()),2&e){const e=o.oxw(2);o.xp6(1),o.Oqu(e.copyTip)}}function yr(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"div",32),o._UZ(1,"qrcode",33),o.ALo(2,"async"),o.TgZ(3,"button",34),o.NdJ("click",function(){return o.CHM(e),o.oxw().copyQRcodeUrl()}),o._uU(4),o.qZA(),o.YNc(5,vr,2,1,"span",35),o.qZA()}if(2&e){const e=o.oxw();o.xp6(1),o.Q6J("qrdata",o.lcZ(2,5,e.remotePlusUrl$))("width",128)("errorCorrectionLevel","M"),o.xp6(3),o.Oqu("Copy Url"),o.xp6(1),o.Q6J("ngIf",""!==e.copyTip)}}function br(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"ngx-gridster-item",37,38),o.NdJ("xChange",function(t){return o.CHM(e).$implicit.x=t})("yChange",function(t){return o.CHM(e).$implicit.y=t})("wChange",function(t){return o.CHM(e).$implicit.w=t})("hChange",function(t){return o.CHM(e).$implicit.h=t})("change",function(t){o.CHM(e);const i=o.oxw(),n=o.MAs(32);return i.widgetChange(t,n)})("click",function(){const t=o.CHM(e).$implicit;return o.oxw().selectedRemote(t)})("dblclick",function(){const t=o.CHM(e).$implicit;return o.oxw().copyRemote(t)}),o.ALo(2,"async"),o.TgZ(3,"div",39),o._UZ(4,"app-remote-widget-body",40),o.qZA(),o.qZA()}if(2&e){const e=t.$implicit,i=o.MAs(1),n=o.oxw();o.ekj("banClick",("label"===e.type||"image"===e.type)&&o.lcZ(2,14,n.remoteGenerate$))("noShadow",!e.needShadow),o.Q6J("options",e.options)("dragAndDrop",e.dragAndDrop)("resizable",e.resizable)("x",e.x)("y",e.y)("w",e.w)("h",e.h),o.xp6(4),o.Q6J("remote",e)("updateTotal",n.updateTotal)("gridsterItem",i)}}function wr(e,t){if(1&e){const e=o.EpF();o.ynx(0),o.TgZ(1,"app-remote-toolbar-item",41),o.NdJ("overEmitter",function(t){return o.CHM(e),o.oxw().over(t)})("outEmitter",function(t){return o.CHM(e),o.oxw().out(t)})("addWidgetEmitter",function(t){return o.CHM(e),o.oxw().addRemoteFromDrag(t)}),o.qZA(),o.BQk()}if(2&e){const e=t.$implicit;o.xp6(1),o.Q6J("option",e)}}let Ar=(()=>{class e{constructor(e,t,i,n,o,r,s,a){this.route=e,this.Router=t,this.storeSrv=i,this.globalOperatorSrv=n,this.remotePlusSrv=o,this.translate=r,this.codeEditorSrv=s,this.uploadSrv=a,this.isShowQRcode=!1,this.copyTip="",this.updateTotal=0,this.remoteTitle="",this.toolBar=[],this.gridsterOptions={lanes:6,direction:"vertical",floating:!1,dragAndDrop:!0,resizable:!0,resizeHandles:{s:!0,e:!0,se:!0},widthHeightRatio:1,lines:{visible:!0,color:"#ddd",width:2},shrink:!0,useCSSTransforms:!0,responsiveView:!1,responsiveDebounce:500,responsiveSizes:!0},this.gridsterDraggableOptions={handlerClass:"panel-wrapper"},this.remotePlus=[],this.mode$=this.globalOperatorSrv.getMode(),this.showRemotePreview$=this.globalOperatorSrv.getRemotePreviewVisibility(),this.remoteGenerate$=this.globalOperatorSrv.getRemoteGenerate(),this.remotePlusUrl$=this.globalOperatorSrv.getRemotePlusUrl(),this.isShowQRbtn$=this.globalOperatorSrv.getRemotePlusQRBtnShow()}ngOnInit(){this.route.queryParams.subscribe(e=>{this.remoteID=e.id;let t=this.Router.url.split("?")[0];("/remote"===t||"/remote/"===t)&&(this.globalOperatorSrv.setRemoteGenerate(!0),this.getCfg())}),this.createToolBar(),this.createTitleRemote(),this.globalOperatorSrv.getRemotePlus().subscribe(e=>{this.remotePlus=[],e.length>0&&e.forEach(e=>{e.type===Ei.li.TITLE&&"__title"===e.id?this.titleRemote=e:this.remotePlus.push(e)})})}getCfg(){let e=[Ei.li.LABEL,Ei.li.IMAGE,Ei.li.CHART,Ei.li.GAUGE,Ei.li.TITLE];!this.remoteGenerate$.source._value||this.remotePlusSrv.getRemoteCfg(this.remoteID).subscribe(t=>{let i=JSON.parse(t.data);if("v2"===i.version)i.data.sort((e,t)=>e.y===t.y?e.x-t.x:e.y-t.y),this.globalOperatorSrv.setRemotePlus(i.data),this.remotePlusSrv.setRemotePlusKey(i.id),this.updateTotal=0,i.data.forEach(t=>{if(e.indexOf(t.type)>-1&&!/^__/g.test(t.id)){if(t.type===Ei.li.TITLE&&!t.dataSource)return;t.dataSource!==Ei.Fk.NONE&&this.updateTotal++}});else{let e="No remote data";this.globalOperatorSrv.createMessageBox().instance.error(e)}})}createTitleRemote(){this.globalOperatorSrv.addRemotePlus({id:"__title",type:Ei.li.TITLE,name:"M5RemoteTitle",label:"M5Remote",color:"#fff",bgColor:"#0080FF",dragAndDrop:!1,resizable:!1})}titleHandle(){this.globalOperatorSrv.setSelectedRemotePlus(this.titleRemote)}titleStyleMethod(e){let t,i=16;switch(this.titleRemote.fontsize){case"S":i=16;break;case"M":i=22;break;case"L":i=32}return t="color"===e?{color:this.titleRemote.color,"font-size":`${i}px`}:{"background-color":this.titleRemote.bgColor},t}onReflow(e){}optionsChange(e){this.gridsterOptions=e}widgetChange(e,t){}createToolBar(){[Ei.li.TITLE,Ei.li.BUTTON,Ei.li.SWITCH,Ei.li.SLIDER,Ei.li.LABEL,Ei.li.INPUT,Ei.li.IMAGE,Ei.li.STEPPER,Ei.li.CHART,Ei.li.JOYSTICK,Ei.li.GAUGE].forEach(e=>{this.toolBar.push((0,no.t2)({id:`__tool_${e}`,type:e}))})}createRemoteBlock(e,t,i,n){if(e===Ei.li.CHART||!n&&e===Ei.li.TITLE||n&&"uiflow"!==n)return"";let o=Number(Ei.O$[e]),r=window.BlocklyEditor.newBlock(Ei.u7[e],window.Blockly.utils.genUid());if(r.moveBy(50,80*(o+1)+50),r.getRelativeToSurfaceXY(),r.initSvg(),r.render(),[Ei.li.SWITCH,Ei.li.SLIDER,Ei.li.INPUT,Ei.li.STEPPER,Ei.li.JOYSTICK].indexOf(e)>-1){let t=r.getVarModels()[0].id_,i=this.globalOperatorSrv.createVariablesBlock(t),n=this.globalOperatorSrv.createPrintBlock();if(n.getInput("TEXT").connection.connect(i.getConnections_()[0]),r.getInput("STACK").connection.connect(n.getConnections_()[0]),e===Ei.li.JOYSTICK){let e=r.getVarModels()[1].id_,t=this.globalOperatorSrv.createVariablesBlock(e),i=this.globalOperatorSrv.createPrintBlock();i.getInput("TEXT").connection.connect(t.getConnections_()[0]),r.getInput("STACK").connection.connect(i.getConnections_()[0])}}if([Ei.li.TITLE,Ei.li.LABEL,Ei.li.GAUGE,Ei.li.CHART,Ei.li.IMAGE].indexOf(e)>-1){let i=this.globalOperatorSrv.getRemoteVarBlockName(e,t);this.globalOperatorSrv.setRemoteConnBlock(r,i)}this.globalOperatorSrv.setRemotePlusBlockId(i,r.id)}addRemoteFromDrag(e){const t=e.item,i=e.item.itemPrototype.config.type;let n=this.globalOperatorSrv.getRemoteDefauleName(i),o=this.globalOperatorSrv.addRemotePlus({type:i,name:n,x:t.x,y:t.y});this.createRemoteBlock(i,n,o)}over(e){const t=e.item.calculateSize(e.gridster);e.item.itemPrototype.$element.querySelector(".gridster-item-inner").style.width=t.width+"px",e.item.itemPrototype.$element.querySelector(".gridster-item-inner").style.height=t.height+"px",e.item.itemPrototype.$element.classList.add("is-over")}out(e){e.item.itemPrototype.$element.querySelector(".gridster-item-inner").style.width="",e.item.itemPrototype.$element.querySelector(".gridster-item-inner").style.height="",e.item.itemPrototype.$element.classList.remove("is-over")}selectedRemote(e){this.remoteGenerate$.source._value||this.globalOperatorSrv.setSelectedRemotePlus(e)}copyRemote(e){if(this.remoteGenerate$.source._value)return;let t=this.globalOperatorSrv.getRemoteDefauleName(e.type),i=this.globalOperatorSrv.addRemotePlus(Object.assign(Object.assign({},e),{id:(0,no.EN)(),name:t,x:void 0,y:void 0}));this.createRemoteBlock(e.type,t,i,e.dataSource)}deleteRemote(){let e=this;this.globalOperatorSrv.warnSwal("Are you sure you want to delete it?",function(){let t=e.globalOperatorSrv.selectedRemotePlus.value.blockId,i=e.globalOperatorSrv.selectedRemotePlus.value.id;t&&window.BlocklyEditor.getBlockById(t)&&(window.BlocklyEditor.getBlockById(t).dispose(),e.codeEditorSrv.updateWorkspaceValue()),e.globalOperatorSrv.removeRemotePlusById("id",i),e.globalOperatorSrv.setSelectedRemotePlus(null)},"Delete")}closePreview(){this.globalOperatorSrv.setRemotePreviewVisibility(!1),this.globalOperatorSrv.setSelectedRemotePlus(null)}showQRCode(){if(this.globalOperatorSrv.remotePlusUrl.value)return this.isShowQRcode?this.isShowQRcode=!1:void(this.isShowQRcode=!0);this.translate.get("REMOTE_ERROR").subscribe(e=>{this.globalOperatorSrv.createMessageBox().instance.error(e)})}copyQRcodeUrl(){this.copyTip="Copied",new window.ClipboardJS(".btn-clipboard",{text:(function(){return this.globalOperatorSrv.remotePlusUrl.value}).bind(this)});let e=setTimeout(()=>{this.copyTip="",clearTimeout(e)},3e3)}getRemoteKey(){let e=window.Blockly.RemotePlus,t=[];if(""===this.storeSrv.apiKey.value)return void this.translate.get("KEY_ISNULL_ERROR").subscribe(e=>{this.globalOperatorSrv.createMessageBox().instance.error(e)});for(let n=0;n<e.length;n++)t.push(Object.assign(Object.assign({},e[n]),{dragAndDrop:!1,resizable:!1}));let i=JSON.stringify({id:this.storeSrv.apiKey.value,data:t,version:"v2"});this.uploadSrv.getRemoteKey(i).subscribe(e=>{e.data&&(window.Blockly.REMOTE_PLUS_KEY=e.data,this.globalOperatorSrv.setRemotePlusUrl(`http://${window.location.host}/remote?id=${e.data}`),this.globalOperatorSrv.createMessageBox().instance.success("Request successful."),this.isShowQRcode=!0)})}}return e.\u0275fac=function(t){return new(t||e)(o.Y36(Ni.gz),o.Y36(Ni.F0),o.Y36(Li.d6),o.Y36(Li.t0),o.Y36(Li.R_),o.Y36(bi.sK),o.Y36(Li.hN),o.Y36(Li.C7))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-remote-preview"]],viewQuery:function(e,t){if(1&e&&o.Gf(jn,7),2&e){let e;o.iGM(e=o.CRH())&&(t.gridster=e.first)}},decls:38,vars:30,consts:[[1,"wrapper--remote-preview"],[1,"preview-title"],["class","preview-qrcode-btn",3,"click",4,"ngIf"],["class","preview-run-btn",3,"click",4,"ngIf"],["class","wrapper--qrcode",4,"ngIf"],[1,"preview-close-btn",3,"click"],["src","../../../assets/images/cancel.png","alt","CLOSE","title","CLOSE"],[1,"preview-container"],[1,"phone-wrapper"],[1,"phone-btn1"],[1,"phone-btn2"],[1,"phone-btn3"],[1,"phone-btn4"],[1,"phone-screen"],[1,"preview-content"],[1,"content-header",3,"ngStyle","click"],[1,"header-title",3,"ngStyle"],[1,"header-refresh",3,"click"],["viewBox","64 64 896 896","fill","currentColor","width","0.8em","height","0.8em","data-icon","sync","aria-hidden","true"],["d","M168 504.2c1-43.7 10-86.1 26.9-126 17.3-41 42.1-77.7 73.7-109.4S337 212.3 378 195c42.4-17.9 87.4-27 133.9-27s91.5 9.1 133.8 27A341.5 341.5 0 0 1 755 268.8c9.9 9.9 19.2 20.4 27.8 31.4l-60.2 47a8 8 0 0 0 3 14.1l175.7 43c5 1.2 9.9-2.6 9.9-7.7l.8-180.9c0-6.7-7.7-10.5-12.9-6.3l-56.4 44.1C765.8 155.1 646.2 92 511.8 92 282.7 92 96.3 275.6 92 503.8a8 8 0 0 0 8 8.2h60c4.4 0 7.9-3.5 8-7.8zm756 7.8h-60c-4.4 0-7.9 3.5-8 7.8-1 43.7-10 86.1-26.9 126-17.3 41-42.1 77.8-73.7 109.4A342.45 342.45 0 0 1 512.1 856a342.24 342.24 0 0 1-243.2-100.8c-9.9-9.9-19.2-20.4-27.8-31.4l60.2-47a8 8 0 0 0-3-14.1l-175.7-43c-5-1.2-9.9 2.6-9.9 7.7l-.7 181c0 6.7 7.7 10.5 12.9 6.3l56.4-44.1C258.2 868.9 377.8 932 512.2 932c229.2 0 415.5-183.7 419.8-411.8a8 8 0 0 0-8-8.2z"],[1,"content-workspace"],[1,"dashboard",3,"options","draggableOptions","reflow","optionsChange"],["gridster1",""],[3,"options","dragAndDrop","resizable","x","y","w","h","banClick","noShadow","xChange","yChange","wChange","hChange","change","click","dblclick",4,"ngFor","ngForOf"],[1,"phone-bangs"],[1,"remote-widgetbar"],[4,"ngFor","ngForOf"],[3,"delRemoteEmitter"],[1,"preview-qrcode-btn",3,"click"],["src","../../../assets/images/erweima.svg","alt","QRCode"],[1,"preview-run-btn",3,"click"],["src","../../../assets/images/remote/run.svg","alt","run"],[1,"wrapper--qrcode"],[3,"qrdata","width","errorCorrectionLevel"],[1,"btn-clipboard",3,"click"],["class","tip--copy",4,"ngIf"],[1,"tip--copy"],[3,"options","dragAndDrop","resizable","x","y","w","h","xChange","yChange","wChange","hChange","change","click","dblclick"],["gridsterItem",""],[1,"panel-wrapper"],[3,"remote","updateTotal","gridsterItem"],[3,"option","overEmitter","outEmitter","addWidgetEmitter"]],template:function(e,t){1&e&&(o.TgZ(0,"div",0),o.ALo(1,"async"),o.ALo(2,"async"),o.ALo(3,"async"),o.TgZ(4,"div",1),o.TgZ(5,"span"),o._uU(6,"Remote Preview"),o.qZA(),o.YNc(7,mr,2,0,"span",2),o.ALo(8,"async"),o.YNc(9,_r,2,0,"span",3),o.ALo(10,"async"),o.YNc(11,yr,6,7,"div",4),o.ALo(12,"async"),o.TgZ(13,"span",5),o.NdJ("click",function(){return t.closePreview()}),o._UZ(14,"img",6),o.qZA(),o.qZA(),o.TgZ(15,"div",7),o.TgZ(16,"div",8),o._UZ(17,"div",9),o._UZ(18,"div",10),o._UZ(19,"div",11),o._UZ(20,"div",12),o.TgZ(21,"div",13),o.TgZ(22,"div",14),o.TgZ(23,"div",15),o.NdJ("click",function(){return t.titleHandle()}),o.TgZ(24,"div",16),o._uU(25),o.qZA(),o.TgZ(26,"div",17),o.NdJ("click",function(){return t.getCfg()}),o.ALo(27,"async"),o.O4$(),o.TgZ(28,"svg",18),o._UZ(29,"path",19),o.qZA(),o.qZA(),o.qZA(),o.kcU(),o.TgZ(30,"div",20),o.TgZ(31,"ngx-gridster",21,22),o.NdJ("reflow",function(e){return t.onReflow(e)})("optionsChange",function(e){return t.optionsChange(e)}),o.YNc(33,br,5,16,"ngx-gridster-item",23),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(34,"div",24),o.qZA(),o.TgZ(35,"div",25),o.YNc(36,wr,2,1,"ng-container",26),o.qZA(),o.qZA(),o.TgZ(37,"app-remote-property-panel",27),o.NdJ("delRemoteEmitter",function(){return t.deleteRemote()}),o.qZA(),o.qZA()),2&e&&(o.ekj("show",o.lcZ(1,16,t.showRemotePreview$)&&"blockly"===o.lcZ(2,18,t.mode$))("generate",o.lcZ(3,20,t.remoteGenerate$)),o.xp6(7),o.Q6J("ngIf",o.lcZ(8,22,t.isShowQRbtn$)),o.xp6(2),o.Q6J("ngIf",o.lcZ(10,24,t.isShowQRbtn$)),o.xp6(2),o.Q6J("ngIf",o.lcZ(12,26,t.remotePlusUrl$)&&t.isShowQRcode),o.xp6(12),o.Q6J("ngStyle",t.titleStyleMethod("bg")),o.xp6(1),o.Q6J("ngStyle",t.titleStyleMethod("color")),o.xp6(1),o.hij(" ",t.titleRemote.label,""),o.xp6(1),o.ekj("pointer",o.lcZ(27,28,t.remoteGenerate$)),o.xp6(5),o.Q6J("options",t.gridsterOptions)("draggableOptions",t.gridsterDraggableOptions),o.xp6(2),o.Q6J("ngForOf",t.remotePlus),o.xp6(3),o.Q6J("ngForOf",t.toolBar))},directives:[n.O5,n.PC,jn,n.sg,Io,ki.Vo,eo,pr,fr],pipes:[n.Ov],styles:[".dashboard{flex:1}.banClick{pointer-events:none}.noShadow .gridster-item-inner{box-shadow:none}.panel-wrapper{width:100%;height:100%;cursor:pointer;overflow:hidden}app-remote-widget-body{width:100%;height:100%;display:flex;flex-direction:column;position:relative}.panel-heading{border-bottom:1px solid #F0F0F0;display:block;position:relative;width:100%;text-align:center;overflow:hidden;padding:2px;margin:0}.panel-heading .panel-title{font-size:12px}.panel-body{padding:2px;width:100%;height:100%;flex:1;display:flex;justify-content:center;align-items:center;overflow:hidden}.position-highlight .inner{position:absolute;top:5px;bottom:5px;left:5px;right:5px;background-color:#0000001f;border:1px solid transparent;transition:background 3s;border-radius:3px;box-shadow:0 1px 3px #0000001f,0 1px 2px #0000003d}.gridster-item-inner{position:absolute;background:#fff;border:1px solid transparent;top:5px;bottom:5px;left:5px;right:5px;transition:background 3s;border-radius:3px;box-shadow:0 1px 4px #00000047,0 1px 3px #0000005e}.is-dragging .gridster-item-inner{box-shadow:0 2px 6px #0000003d,0 2px 4px #0000007a;top:-3px;bottom:13px}.gridster-item-prototype.is-over .gridster-item-inner{visibility:visible}.gridster-item-prototype .gridster-item-inner{position:absolute;top:0;left:0;overflow:auto;width:80px;height:60px;visibility:hidden;transition:width .2s ease-in-out,height .2s ease-in-out}.wrapper--remote-preview{display:block;visibility:hidden;position:fixed;right:75px;top:47%;transform:translateY(-50%);z-index:1099;font-family:Arial}.wrapper--remote-preview.show{visibility:visible}.wrapper--remote-preview.generate{visibility:visible;position:relative;width:100vw;height:100vh;right:0;top:0;transform:translateY(0)}.wrapper--remote-preview.generate .preview-container{width:100%;height:100%}.wrapper--remote-preview.generate .preview-content{width:100%;height:100%;box-shadow:none}.wrapper--remote-preview.generate .phone-wrapper{width:100%;border-radius:unset;background-color:unset}.wrapper--remote-preview.generate .phone-screen{width:100%;height:100%;padding-top:unset;border:unset;border-radius:unset;overflow:unset}.wrapper--remote-preview.generate app-remote-property-panel,.wrapper--remote-preview.generate .preview-title,.wrapper--remote-preview.generate .remote-widgetbar,.wrapper--remote-preview.generate .phone-bangs,.wrapper--remote-preview.generate .phone-btn1,.wrapper--remote-preview.generate .phone-btn2,.wrapper--remote-preview.generate .phone-btn3,.wrapper--remote-preview.generate .phone-btn4{display:none}.preview-title{position:relative;font-size:18px;color:#fff;margin:5px 0;display:flex;align-items:center}.preview-qrcode-btn,.preview-run-btn{margin-left:23px;cursor:pointer}.wrapper--qrcode{position:absolute;right:31%;top:53px;background-color:#fffffff5;border-radius:5px;z-index:1099;padding:10px;transition:all 25ms ease}.wrapper--qrcode button{outline:none;border:none;margin-top:6px;padding:4px 12px;font-family:Arial;color:#fff;background-color:orange;border-radius:4px;cursor:pointer}.wrapper--qrcode .tip--copy{font-size:12px;margin-left:4px;color:#3ac569;font-weight:bolder;font-family:Arial,Helvetica,sans-serif}.preview-close-btn{position:absolute;top:0;right:10px;background-color:transparent;cursor:pointer}.preview-close-btn img{width:16px;height:16px}.preview-container{display:flex;height:653.6px;position:relative}.preview-content{width:100%;height:100%;flex:1 0px;display:flex;flex-direction:column;overflow:auto;background-color:#fff;padding:5px}.preview-content .content-header{position:relative;width:calc(100% - 10px);height:48px;background-color:#0080ff;border-radius:5px;margin:0 5px;overflow:hidden}.preview-content .content-header .header-title{font-size:20px;color:#fff;line-height:48px;text-align:center}.preview-content .content-header .header-refresh{width:30px;height:100%;position:absolute;top:0;right:10px;font-size:28px;color:#fff;display:flex;justify-content:center;align-items:center}.preview-content .content-header .header-refresh.pointer{cursor:pointer}.preview-content .content-workspace{width:100%;flex:1 0px;display:flex;flex-direction:column;overflow:auto}@media only screen and (min-height: 320px) and (max-height: 767px){.preview-container{height:559px}}.remote-widgetbar{width:50px;height:100%;margin-left:17px;background-color:#484443;border-radius:5px;overflow-x:hidden;overflow-y:auto}.phone-wrapper{position:relative;width:328px;height:100%;background-color:#7a7a7a;border-radius:45px;display:flex;justify-content:center;align-items:center}.phone-screen{width:97%;height:98.5%;padding-top:27px;background-color:#fff;border-radius:43px;border:11px solid #000;z-index:5;overflow:hidden}.phone-bangs{position:absolute;top:10px;left:50%;transform:translate(-50%);width:50%;height:30px;background-color:#000;border-radius:0 0 20px 20px;z-index:5}.phone-btn1{position:absolute;top:87px;left:-3px;width:3px;height:18px;background-color:#575555;border-radius:5px}.phone-btn2{position:absolute;top:144px;left:-3px;width:3px;height:44px;background-color:#575555;border-radius:5px}.phone-btn3{position:absolute;top:202px;left:-3px;width:3px;height:46px;background-color:#575555;border-radius:5px}.phone-btn4{position:absolute;top:157px;right:-3px;width:3px;height:78px;background-color:#575555;border-radius:5px}\n"],encapsulation:2}),e})();var xr=i(99155),Tr=i(26215);let Cr={};const Zr={UI:"ui",BASE:"base",MODULES:"modules",HAT:"hat",GRAPHIC:"graphic",EMOJI:"emoji",THIRDPARTY:"thirdparty",THIRDPARTYSEP:"thirdpartySep"};Cr[Ei.__.CORE]=[Zr.BASE,Zr.HAT,"microphone","rtc","led","axp","touch","vibration","battery","sht30","ir","grove","rs485","lidarbot","audio","blynk","ble_uart","ble_peripheral","ble_central","ble","toio","robocar"],Cr[Ei.__.FIRE]=[Zr.BASE,Zr.HAT,Zr.THIRDPARTY,Zr.THIRDPARTYSEP,"microphone","rtc","led","axp","touch","vibration","battery","sht30","ir","grove","rs485","lidarbot","audio","ble_uart"],Cr[Ei.__.CORETWO]=[Zr.BASE,Zr.HAT,"led","axp","battery","sht30","ir","grove","rs485","lidarbot","bala2","module_display","mycobot","mycobotpro","tello","toio","ble_uart"],Cr[Ei.__.TOUGH]=[Zr.BASE,Zr.HAT,Zr.THIRDPARTY,Zr.THIRDPARTYSEP,"led","axp","battery","sht30","ir","grove","rs485","lidarbot","bala2","module_display","ble_uart"],Cr[Ei.__.STICK_C]=[Zr.BASE,Zr.MODULES,Zr.EMOJI,Zr.THIRDPARTY,Zr.THIRDPARTYSEP,"speaker","rgb","power","touch","vibration","battery","sht30","sdcard","grove","rs485","audio","blynk","ble_uart","ble_peripheral","ble_central","ble"],Cr[Ei.__.STICK_C_PLUS]=[Zr.BASE,Zr.MODULES,Zr.EMOJI,Zr.THIRDPARTY,Zr.THIRDPARTYSEP,"rgb","power","touch","vibration","battery","sht30","sdcard","grove","rs485","audio","blynk","ble_uart","ble_peripheral","ble_central","ble"],Cr[Ei.__.STICK_C_PLUS2]=[Zr.BASE,Zr.MODULES,Zr.EMOJI,Zr.THIRDPARTY,Zr.THIRDPARTYSEP,"microphone","rgb","axp","touch","vibration","battery","sht30","sdcard","grove","rs485","audio","blynk","ble_uart","ble_peripheral","ble_central","ble"],Cr[Ei.__.COREINK]=[Zr.BASE,Zr.MODULES,Zr.EMOJI,Zr.THIRDPARTY,Zr.THIRDPARTYSEP,"microphone","rgb","imu","axp","touch","vibration","sht30","ir","sdcard","grove","rs485","audio","timer_cam","echo_stt","blynk","ble_uart","ble_peripheral","ble_central","ble"],Cr[Ei.__.PAPER]=[Zr.BASE,Zr.MODULES,Zr.HAT,Zr.EMOJI,Zr.THIRDPARTY,Zr.THIRDPARTYSEP,"speaker","microphone","rgb","imu","led","axp","vibration","ir","sdcard","grove","rs485","audio","timer_cam","echo_stt","blynk","ble_uart","ble_peripheral","ble_central","ble"],Cr[Ei.__.ATOM]=[Zr.UI,Zr.MODULES,Zr.HAT,Zr.GRAPHIC,Zr.EMOJI,"speaker","microphone","imu","rtc","led","power","axp","touch","vibration","battery","sht30","sdcard","grove","rs485","audio","timer_cam","echo_stt","blynk","ble_uart","ble_peripheral","ble_central","ble","mycobot","mycobotpro","tello","robocar"],Cr[Ei.__.ATOM_MATRIX]=[Zr.UI,Zr.MODULES,Zr.HAT,Zr.GRAPHIC,Zr.EMOJI,"speaker","microphone","rtc","led","power","axp","touch","vibration","battery","sht30","sdcard","grove","rs485","audio","timer_cam","echo_stt","blynk","ble_uart","ble_peripheral","ble_central","ble","mycobot","mycobotpro","tello","robocar"],Cr[Ei.__.ATOM_U]=[Zr.UI,Zr.BASE,Zr.MODULES,Zr.HAT,Zr.GRAPHIC,Zr.EMOJI,Zr.THIRDPARTY,Zr.THIRDPARTYSEP,"speaker","imu","rtc","led","power","axp","touch","vibration","battery","sht30","sdcard","grove","rs485","audio","timer_cam","echo_stt","blynk","ble_uart","ble_peripheral","ble_central","ble"],Cr[Ei.__.ATOM_DISPLAY]=[Zr.MODULES,Zr.HAT,Zr.EMOJI,Zr.THIRDPARTY,Zr.THIRDPARTYSEP,"speaker","microphone","imu","rtc","led","power","axp","touch","vibration","battery","sht30","sdcard","grove","rs485","audio","timer_cam","echo_stt","blynk","ble_uart","ble_peripheral","ble_central","ble"],Cr[Ei.__.PICO]=[Zr.UI,Zr.MODULES,Zr.HAT,Zr.GRAPHIC,Zr.EMOJI,Zr.THIRDPARTY,Zr.THIRDPARTYSEP,"speaker","microphone","imu","rtc","led","power","axp","touch","vibration","battery","sht30","sdcard","grove","rs485","audio","timer_cam","echo_stt","blynk","ble_uart","ble_peripheral","ble_central","ble"],Cr[Ei.__.M5STATION]=[Zr.BASE,Zr.MODULES,Zr.HAT,Zr.THIRDPARTY,Zr.THIRDPARTYSEP,"speaker","microphone","led","power","touch","vibration","battery","sht30","ir","sdcard","audio","blynk","ble_uart","ble_peripheral","ble_central","ble"];var kr=i(54569),Sr=i(88259),Er=i.n(Sr);function Mr(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"div",49),o.NdJ("click",function(){const t=o.CHM(e).index;return o.oxw().pnpNavClick(t)}),o.TgZ(1,"p",50),o._uU(2),o.qZA(),o.qZA()}if(2&e){const e=t.$implicit,i=t.index,n=o.oxw();o.ekj("selected",n.showNavItem===i),o.xp6(2),o.Oqu(e)}}function Or(e,t){1&e&&(o.TgZ(0,"div",51),o._uU(1,"URL is required. "),o.qZA())}function Ir(e,t){1&e&&o._UZ(0,"img",52)}function Pr(e,t){1&e&&o._UZ(0,"img",53)}function Rr(e,t){1&e&&(o.TgZ(0,"div",51),o._uU(1,"Token is required."),o.qZA())}function qr(e,t){1&e&&o._UZ(0,"span",58)}function Lr(e,t){if(1&e&&(o.TgZ(0,"div",55),o.TgZ(1,"div",56),o.YNc(2,qr,1,0,"span",57),o.qZA(),o.qZA()),2&e){const e=o.oxw(2);o.xp6(2),o.Q6J("ngForOf",e.loadingPoint)}}function Ur(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"div",54),o.NdJ("click",function(){return o.CHM(e),o.oxw().pnpLogin()}),o.TgZ(1,"span"),o._uU(2,"Login"),o.qZA(),o.YNc(3,Lr,3,1,"div",39),o.qZA()}if(2&e){const e=o.oxw();o.xp6(3),o.Q6J("ngIf",e.isLoginLoading)}}function Br(e,t){if(1&e&&(o.TgZ(0,"div",51),o._uU(1),o.qZA()),2&e){const e=o.oxw();o.xp6(1),o.Oqu(e.errorMsg)}}function Dr(e,t){1&e&&o._UZ(0,"span",58)}function Nr(e,t){if(1&e&&(o.TgZ(0,"div",55),o.TgZ(1,"div",56),o.YNc(2,Dr,1,0,"span",57),o.qZA(),o.qZA()),2&e){const e=o.oxw();o.xp6(2),o.Q6J("ngForOf",e.loadingPoint)}}function Fr(e,t){1&e&&o._UZ(0,"span",58)}function Hr(e,t){if(1&e&&(o.TgZ(0,"div",55),o.TgZ(1,"div",56),o.YNc(2,Fr,1,0,"span",57),o.qZA(),o.qZA()),2&e){const e=o.oxw();o.xp6(2),o.Q6J("ngForOf",e.loadingPoint)}}function $r(e,t){1&e&&o._UZ(0,"span",58)}function zr(e,t){if(1&e&&(o.TgZ(0,"div",55),o.TgZ(1,"div",56),o.YNc(2,$r,1,0,"span",57),o.qZA(),o.qZA()),2&e){const e=o.oxw();o.xp6(2),o.Q6J("ngForOf",e.loadingPoint)}}function Vr(e,t){if(1&e&&(o.TgZ(0,"option",59),o._uU(1),o.qZA()),2&e){const e=t.$implicit;o.s9C("value",e.id),o.xp6(1),o.AsE("",e.name," (",e.template,") ")}}function Kr(e,t){1&e&&(o.ynx(0),o.TgZ(1,"div",48),o._uU(2,"Please login first!"),o.qZA(),o.BQk())}function Wr(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"span",66),o.NdJ("click",function(){return o.CHM(e),o.oxw(2).exportModel()}),o._uU(1,"Export"),o.qZA()}}function Gr(e,t){if(1&e&&o._UZ(0,"pre",67),2&e){const e=o.oxw(2);o.Q6J("innerHtml",e.templatePreviewHtml,o.oJD)}}function Yr(e,t){if(1&e&&o._UZ(0,"pre",67),2&e){const e=o.oxw(2);o.Q6J("innerHtml",e.modelPreviewHtml,o.oJD)}}function jr(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"div",60),o.NdJ("mousedown",function(){return o.CHM(e),o.oxw().modelUpdate()}),o.TgZ(1,"div",61),o.TgZ(2,"span",62),o.NdJ("click",function(){return o.CHM(e),o.oxw().showPreviewNavItem=0}),o._uU(3,"Template"),o.qZA(),o.TgZ(4,"span",62),o.NdJ("click",function(){return o.CHM(e),o.oxw().showPreviewNavItem=1}),o._uU(5,"Model Preview"),o.qZA(),o.YNc(6,Wr,2,0,"span",63),o.qZA(),o.TgZ(7,"div",64),o.YNc(8,Gr,1,1,"pre",65),o.YNc(9,Yr,1,1,"pre",65),o.qZA(),o.qZA()}if(2&e){const e=o.oxw();o.xp6(2),o.ekj("selected",0===e.showPreviewNavItem),o.xp6(2),o.ekj("selected",1===e.showPreviewNavItem),o.xp6(2),o.Q6J("ngIf",1===e.showPreviewNavItem),o.xp6(2),o.Q6J("ngIf",0===e.showPreviewNavItem),o.xp6(1),o.Q6J("ngIf",1===e.showPreviewNavItem)}}let Xr=(()=>{class e{constructor(e,t,i,n){this.storeSrv=e,this.pnpSrv=t,this.globalOperatorSrv=i,this.formBuilder=n,this.showNav=!1,this.showNavItem=-1,this.showPreviewNavItem=0,this.isLogin=!1,this.canLogin=!0,this.isShowToken=!1,this.isLoginLoading=!1,this.isTemplateLoading=!1,this.isDeviceLoading=!1,this.isDeviceListLoading=!1,this.loadingPoint=[1,1,1,1,1,1,1,1],this.submitted=!1,this.errorMsg="",this.allDevices=[],this.templateList=[],this.devicesList=[],this.templatePreviewHtml="",this.modelPreviewHtml="",this.loginForm=this.formBuilder.group({url:["",Ai.kI.required],token:["",Ai.kI.required]}),this.infoForm=this.formBuilder.group({scopeId:[""],modelId:[""],templateName:[""],deviceName:[""],deviceId:[""]})}ngOnInit(){this.pnpSrv.getScopeId().subscribe(e=>{this.infoForm.patchValue({scopeId:e})}),this.pnpSrv.getModelId().subscribe(e=>{this.infoForm.patchValue({modelId:e}),this.checkTemplateName()}),this.pnpSrv.getTemplateName().subscribe(e=>{this.infoForm.patchValue({templateName:e})}),this.globalOperatorSrv.getPnpPanelVisibility().subscribe(e=>{e||(this.showNav=!1,this.showNavItem=-1)}),this.pnpSrv.getTemplate().subscribe(e=>{this.updatePreview()})}hiddenPanel(){this.showNav=!1,this.showNavItem=-1,this.globalOperatorSrv.setPnpPanelVisibility(!1)}pnpNavClick(e){this.showNavItem=e,this.globalOperatorSrv.setPnpPanelVisibility(!0)}modelUpdate(){}formChange(e,t){this.submitted=!1;let i=t.target.value;this.canLogin=""===i||i!==(e?this.pnpSrv.token:this.pnpSrv.subdomain)}showToken(){this.isShowToken=!this.isShowToken}pnpLogin(){if(this.submitted=!0,this.loginForm.invalid)return;this.errorMsg="";let e=this.loginForm.value,t=e.url,i=e.token;!t||!i||(this.isLoginLoading=!0,this.pnpSrv.subdomain=t,this.pnpSrv.token=i,this.pnpSrv.checkAllPnpBlock(),this.pnpSrv.getDevices().subscribe(e=>{e.value.length?(this.allDevices=e.value,this.pnpSrv.getScopeID(e.value[0].id||"").subscribe(e=>{e.idScope&&this.pnpSrv.setScopeId(e.idScope)})):this.pnpSrv.createDevices("test","test").subscribe(e=>{this.pnpSrv.getScopeID("test").subscribe(e=>{e.idScope&&(this.pnpSrv.setScopeId(e.idScope),this.pnpSrv.delDevices("test").subscribe())})}),this.pnpSrv.getTemplatesList().subscribe(e=>{this.handleTemplateName(e.value)},e=>{},()=>{this.isLogin=!0,this.canLogin=!1,this.isLoginLoading=!1,Er().fire({icon:"success",text:"You are successfully logged in!",confirmButtonColor:window.Blockly.Msg.SWAL_PRIMARY_HUE,allowOutsideClick:!1}),this.updatePreview()})},e=>{this.errorMsg="Incorrect URL or token.",this.isLogin=!1,this.canLogin=!0,this.isLoginLoading=!1}))}checkTemplateName(){if(!this.templateList.length)return;let e=this.templateList.filter(e=>e.capabilityModel["@id"]===this.pnpSrv.modelId.value);e.length?(this.pnpSrv.setTemplateName(e[0].displayName),this.pnpSrv.templateId=e[0]["@id"]):(this.pnpSrv.setTemplateName(),this.pnpSrv.templateId=""),this.handleDevicesList()}handleTemplateName(e){e.length?(this.templateList=e,this.checkTemplateName()):this.pnpSrv.setTemplateName()}handleDevicesList(){if(!this.allDevices.length)return;let e=[];this.allDevices.forEach(t=>{let i="Unassigned";if(this.pnpSrv.templateId&&t.template){if(t.template!==this.pnpSrv.templateId)return;this.templateList.forEach(e=>{e["@id"]===t.template&&(i=e.displayName)})}else if(!this.pnpSrv.templateId&&t.template)return;e.push({id:t.id,name:t.displayName,template:i})}),this.devicesList=e}createTemplateDtmi(){return`dtmi:modelDefinition:${this.pnpSrv.createRandom(Math.floor(4*Math.random()+7))}:${this.pnpSrv.createRandom(Math.floor(5*Math.random()+7))}`}handleTemplate(){let e="None"===this.infoForm.value.templateName,t=this;if(this.pnpSrv.checkAllPnpBlock(),e){if(!this.pnpSrv.getModelComponentList().source._value.length)return void Er().fire({icon:"warning",text:"Your model is still empty!",confirmButtonColor:window.Blockly.Msg.SWAL_PRIMARY_HUE,allowOutsideClick:!1});Er().fire({title:"Do you want to create new template?",inputPlaceholder:"New template name:",input:"text",inputValidator:e=>{if(!e)return"Invalid template name"},showCancelButton:!0,confirmButtonColor:window.Blockly.Msg.SWAL_PRIMARY_HUE,cancelButtonColor:window.Blockly.Msg.SWAL_GRAY_HUE,allowOutsideClick:!1}).then(function(e){if(e.isConfirmed){t.pnpSrv.swalLoading(),t.isTemplateLoading=!0;let i=t.createTemplateDtmi();t.pnpSrv.createTemplate(i,e.value).subscribe(e=>{t.pnpSrv.getTemplatesList().subscribe(e=>{t.handleTemplateName(e.value),t.isTemplateLoading=!1,t.pnpSrv.swalLoadingClose()},e=>{t.isTemplateLoading=!1,t.pnpSrv.swalLoadingClose()})},e=>{t.pnpSrv.swalLoadingClose();let i=e.error.error.message.match(/^(.+?\.){1}/)[0]||"Failed to create template";Er().fire({icon:"error",title:"error",text:i,confirmButtonColor:window.Blockly.Msg.SWAL_PRIMARY_HUE}),t.isTemplateLoading=!1})}})}else this.pnpSrv.swalLoading(),this.isTemplateLoading=!0,this.pnpSrv.updateTemplate().subscribe(e=>{this.pnpSrv.swalLoadingClose(),Er().fire({icon:"success",text:"You are successfully update!",showConfirmButton:!0,confirmButtonColor:window.Blockly.Msg.SWAL_PRIMARY_HUE}),this.isTemplateLoading=!1},e=>{this.pnpSrv.swalLoadingClose(),this.isTemplateLoading=!1})}createDevice(){let e=this;this.pnpSrv.templateId?Er().fire({title:"Do you want to create new device?",html:'<div><span class="pnp-new-device-span">Device ID:</span><input id="pnp-new-device-id" class="swal2-input pnp-new-device" type="text" oninput="pnpHandleNewDeviceId(event)"></div><div><span class="pnp-new-device-span">Device name:</span><input id="pnp-new-device-name" class="swal2-input pnp-new-device" type="text"  oninput="pnpHandleNewDeviceName(event)"></div>',showCancelButton:!0,confirmButtonColor:window.Blockly.Msg.SWAL_PRIMARY_HUE,cancelButtonColor:window.Blockly.Msg.SWAL_GRAY_HUE,allowOutsideClick:!1,didOpen:()=>{window.firstHandlePnpNewDeviceId=!0},preConfirm:()=>{let e=document.getElementById("pnp-new-device-id").value;return e&&/^[A-Za-z0-9]+-*[A-Za-z0-9]*/g.test(e)?(Er().resetValidationMessage(),[e,document.getElementById("pnp-new-device-name").value]):void Er().showValidationMessage("Invalid ID")}}).then(function(t){if(t.isConfirmed){let i=t.value[0],n=t.value[1];return e.isDeviceLoading=!0,void e.pnpSrv.createDevices(i,n).subscribe(t=>{t&&(e.handleDeviceId(i),e.infoForm.patchValue({deviceName:i}),e.getDeviceList())},e=>{},()=>{e.isDeviceLoading=!1})}}):Er().fire({icon:"warning",text:"Please create a new template first!",confirmButtonColor:window.Blockly.Msg.SWAL_PRIMARY_HUE,allowOutsideClick:!1})}selectDevice(e){this.handleDeviceId(e.target.value)}handleDeviceId(e){this.pnpSrv.setDeviceId(e),this.pnpSrv.setDeviceKey(""),this.pnpSrv.getScopeID(e).subscribe(e=>{e.symmetricKey&&this.pnpSrv.setDeviceKey(e.symmetricKey.primaryKey)}),this.infoForm.patchValue({deviceId:e})}getDeviceList(){this.isDeviceListLoading=!0,this.pnpSrv.getDevices().subscribe(e=>{this.allDevices=e.value,this.handleDevicesList(),this.isDeviceListLoading=!1},e=>{this.isDeviceListLoading=!1})}syntaxHighlight(e){return"string"!=typeof e&&(e=JSON.stringify(e,void 0,2)),(e=e.replace(/&/g,"&").replace(/</g,"<").replace(/>/g,">")).replace(/("(\\u[a-zA-Z0-9]{4}|\\[^u]|[^\\"])*"(\s*:)?|\b(true|false|null)\b|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)/g,function(e){var t="number";return/^"/.test(e)?t=/:$/.test(e)?"key":"string":/true|false/.test(e)?t="boolean":/null/.test(e)&&(t="null"),'<span class="'+t+'">'+e+"</span>"})}updatePreview(){!this.storeSrv.pnpEnable.value||!this.isLogin||(this.modelPreviewHtml=this.syntaxHighlight(this.pnpSrv.model),this.templatePreviewHtml=this.syntaxHighlight(this.pnpSrv.template.value))}exportModel(){window.doSave(JSON.stringify(this.pnpSrv.model,void 0,2),"text/latex",this.storeSrv.type.value+".json")}tokenLink(){let e=this.loginForm.value.url;e?window.open(`https://${e}.${this.pnpSrv.baseDomain}/permissions/tokens`,"_blank"):this.globalOperatorSrv.errSwal("URL is still empty!")}deviceIdLink(){this.pnpSrv.subdomain&&this.pnpSrv.deviceId.value?window.open(`https://${this.pnpSrv.subdomain}.${this.pnpSrv.baseDomain}/devices/details/${this.pnpSrv.deviceId.value}`,"_blank"):this.globalOperatorSrv.errSwal("Device is still empty!")}}return e.\u0275fac=function(t){return new(t||e)(o.Y36(Li.d6),o.Y36(Li.rR),o.Y36(Li.t0),o.Y36(Ai.qu))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-pnp-control"]],decls:98,vars:34,consts:[[1,"pnp-control-icon",3,"click"],["src","../../../assets/images/pnp-logo.svg"],[1,"pnp-control-panel-wrapper"],[1,"pnp-control-panel"],[1,"pnp-panel-nav"],["class","pnp-panel-nav-item",3,"selected","click",4,"ngFor","ngForOf"],[1,"pnp-hidden-icon",3,"click"],["t","1652165814495","viewBox","0 0 1024 1024","version","1.1","xmlns","http://www.w3.org/2000/svg","p-id","1113","width","200","height","200",1,"icon"],["d","M489.792 853.824a32 32 0 1 0 40.704 49.408L993.92 521.664 531.072 121.28a32 32 0 1 0-41.856 48.384l405.44 350.72-404.864 333.44z","p-id","1114","fill","#ffffff"],["d","M41.792 853.824a32 32 0 1 0 40.704 49.408L545.92 521.664 83.072 121.28a32 32 0 1 0-41.856 48.384l405.44 350.72-404.864 333.44z","p-id","1115","fill","#ffffff"],[1,"pnp-panel-content"],["data-pageid","0",1,"pnp-panel-page"],[1,"pnp-form"],[3,"formGroup"],[1,"pnp-form-item"],[1,"pnp-form-desc"],[1,"tooltip-icon"],["src","../../../assets/images/question2.svg"],[1,"tooltip-msg","msg-url"],[1,"pnp-form-url"],["formControlName","url","type","text","spellcheck","false","placeholder","Application URL",3,"input"],["class","error-message",4,"ngIf"],[1,"tooltip-icon",3,"click"],["t","1653384472812","viewBox","0 0 1024 1024","version","1.1","xmlns","http://www.w3.org/2000/svg","p-id","6144","width","200","height","200",1,"icon"],["d","M512 1016.32c-278.016 0-504.32-226.304-504.32-504.32S233.984 7.68 512 7.68s504.32 226.304 504.32 504.32-226.304 504.32-504.32 504.32z m0-965.632C257.536 50.688 50.688 257.536 50.688 512s206.848 461.312 461.312 461.312c254.464 0 461.312-206.848 461.312-461.312S766.464 50.688 512 50.688z","p-id","6145","fill","#707070"],["d","M512 1016.32c-144.384 0-256.512-222.208-256.512-504.32S367.616 7.68 512 7.68s256.512 222.208 256.512 504.32-114.176 504.32-256.512 504.32z m0-965.632c-116.224 0-213.504 211.456-213.504 461.312s96.768 461.312 213.504 461.312 213.504-211.456 213.504-461.312S626.176 50.688 512 50.688z","p-id","6146","fill","#707070"],["d","M512 330.752c-133.632 0-267.264-34.304-385.536-99.328-10.752-6.656-14.848-19.456-8.704-30.208 6.656-10.752 19.456-14.848 30.208-8.704C257.536 253.44 385.024 285.696 512 285.696c129.536 0 254.464-32.256 366.592-94.72 10.752-6.656 23.552-2.048 30.208 8.704 6.656 10.752 2.048 23.552-8.704 30.208-118.784 66.56-252.416 100.864-388.096 100.864zM141.312 845.824c-8.704 0-14.848-4.096-19.456-10.752-6.656-10.752-2.048-23.552 8.704-30.208 116.224-62.464 247.808-96.768 379.392-96.768s263.168 32.256 379.392 94.72c10.752 6.656 14.848 19.456 8.704 30.208-6.656 10.752-19.456 14.848-30.208 8.704-110.08-60.416-232.96-90.624-357.888-90.624s-249.856 32.256-359.936 90.624c-2.048 4.096-4.608 4.096-8.704 4.096zM994.816 538.112H29.184c-12.8 0-21.504-8.704-21.504-21.504s8.704-21.504 21.504-21.504h965.632c12.8 0 21.504 8.704 21.504 21.504s-10.752 21.504-21.504 21.504z","p-id","6147","fill","#707070"],[1,"pnp-form-token"],["formControlName","token","spellcheck","false",3,"type","input"],[1,"pwd-btn",3,"click"],["src","../../../assets/images/show-pwd.png","alt","show token","title","show token",4,"ngIf","ngIfElse"],["hideToken",""],["class","pnp-form-login-btn",3,"click",4,"ngIf"],[1,"pnp-info-form",3,"formGroup"],[1,"divider"],["formControlName","scopeId","type","text","disabled","true"],["formControlName","modelId","type","text","disabled","true"],[1,"pnp-form-btn",3,"click"],[1,"pnp-btn"],["class","loading",4,"ngIf"],["formControlName","templateName","type","text","disabled","true"],["formControlName","deviceName",1,"pnp-form-device",3,"change"],[3,"value",4,"ngFor","ngForOf"],["formControlName","deviceId","type","text","disabled","true"],["data-pageid","1",1,"pnp-panel-page"],[4,"ngIf","ngIfElse"],["preview",""],["data-pageid","2",1,"pnp-panel-page"],[1,"warnning-msg"],[1,"pnp-panel-nav-item",3,"click"],[1,"pnp-panel-nav-item-title"],[1,"error-message"],["src","../../../assets/images/show-pwd.png","alt","show token","title","show token"],["src","../../../assets/images/hide-pwd.png","alt","hide token","title","hide token"],[1,"pnp-form-login-btn",3,"click"],[1,"loading"],[1,"point-loading"],["class","point",4,"ngFor","ngForOf"],[1,"point"],[3,"value"],[1,"model-preview",3,"mousedown"],[1,"model-preview-nav"],[1,"model-preview-nav-item",3,"click"],["class","export-btn",3,"click",4,"ngIf"],[1,"model-preview-content"],["class","pnp-template-preview",3,"innerHtml",4,"ngIf"],[1,"export-btn",3,"click"],[1,"pnp-template-preview",3,"innerHtml"]],template:function(e,t){if(1&e&&(o.TgZ(0,"div",0),o.NdJ("click",function(){return t.showNav=!0}),o._UZ(1,"img",1),o.qZA(),o.TgZ(2,"div",2),o.TgZ(3,"div",3),o.TgZ(4,"div",4),o.YNc(5,Mr,3,3,"div",5),o.TgZ(6,"div",6),o.NdJ("click",function(){return t.hiddenPanel()}),o.O4$(),o.TgZ(7,"svg",7),o._UZ(8,"path",8),o._UZ(9,"path",9),o.qZA(),o.qZA(),o.qZA(),o.kcU(),o.TgZ(10,"div",10),o.TgZ(11,"div",11),o.TgZ(12,"div",12),o.TgZ(13,"form",13),o.TgZ(14,"div",14),o.TgZ(15,"div",15),o.TgZ(16,"span"),o._uU(17,"IoT Central App"),o.qZA(),o.TgZ(18,"span",16),o._UZ(19,"img",17),o.TgZ(20,"span",18),o._uU(21,"The URL prefix of your IoT Central App."),o.qZA(),o.qZA(),o.qZA(),o.TgZ(22,"div",19),o.TgZ(23,"input",20),o.NdJ("input",function(e){return t.formChange(0,e)}),o.qZA(),o.TgZ(24,"span"),o._uU(25,".azureiotcentral.com"),o.qZA(),o.qZA(),o.YNc(26,Or,2,0,"div",21),o.qZA(),o.TgZ(27,"div",14),o.TgZ(28,"div",15),o.TgZ(29,"span"),o._uU(30,"API Token"),o.qZA(),o.TgZ(31,"span",22),o.NdJ("click",function(){return t.tokenLink()}),o.O4$(),o.TgZ(32,"svg",23),o._UZ(33,"path",24),o._UZ(34,"path",25),o._UZ(35,"path",26),o.qZA(),o.qZA(),o.qZA(),o.kcU(),o.TgZ(36,"div",27),o.TgZ(37,"input",28),o.NdJ("input",function(e){return t.formChange(1,e)}),o.qZA(),o.TgZ(38,"span",29),o.NdJ("click",function(){return t.showToken()}),o.YNc(39,Ir,1,0,"img",30),o.YNc(40,Pr,1,0,"ng-template",null,31,o.W1O),o.qZA(),o.qZA(),o.YNc(42,Rr,2,0,"div",21),o.qZA(),o.qZA(),o.YNc(43,Ur,4,1,"div",32),o.YNc(44,Br,2,1,"div",21),o.TgZ(45,"form",33),o._UZ(46,"div",34),o.TgZ(47,"div",14),o.TgZ(48,"div",15),o._uU(49,"Scope ID"),o.qZA(),o._UZ(50,"input",35),o.qZA(),o.TgZ(51,"div",14),o.TgZ(52,"div",15),o._uU(53,"Model ID"),o.qZA(),o._UZ(54,"input",36),o.qZA(),o.TgZ(55,"div",14),o.TgZ(56,"div",15),o.TgZ(57,"span"),o._uU(58,"Device Template"),o.qZA(),o.TgZ(59,"div",37),o.NdJ("click",function(){return t.handleTemplate()}),o.TgZ(60,"div",38),o.TgZ(61,"span"),o._uU(62),o.qZA(),o.YNc(63,Nr,3,1,"div",39),o.qZA(),o.qZA(),o.qZA(),o._UZ(64,"input",40),o.qZA(),o.TgZ(65,"div",14),o.TgZ(66,"div",15),o.TgZ(67,"span"),o._uU(68,"Device Name"),o.qZA(),o.TgZ(69,"div",37),o.NdJ("click",function(){return t.createDevice()}),o.TgZ(70,"div",38),o.TgZ(71,"span"),o._uU(72,"New"),o.qZA(),o.YNc(73,Hr,3,1,"div",39),o.qZA(),o.qZA(),o.TgZ(74,"div",37),o.NdJ("click",function(){return t.getDeviceList()}),o.TgZ(75,"div",38),o.TgZ(76,"span"),o._uU(77,"Reload"),o.qZA(),o.YNc(78,zr,3,1,"div",39),o.qZA(),o.qZA(),o.qZA(),o.TgZ(79,"select",41),o.NdJ("change",function(e){return t.selectDevice(e)}),o.YNc(80,Vr,2,3,"option",42),o.qZA(),o.qZA(),o.TgZ(81,"div",14),o.TgZ(82,"div",15),o.TgZ(83,"span"),o._uU(84,"Device ID"),o.qZA(),o.TgZ(85,"span",22),o.NdJ("click",function(){return t.deviceIdLink()}),o.O4$(),o.TgZ(86,"svg",23),o._UZ(87,"path",24),o._UZ(88,"path",25),o._UZ(89,"path",26),o.qZA(),o.qZA(),o.qZA(),o.kcU(),o._UZ(90,"input",43),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(91,"div",44),o.YNc(92,Kr,3,0,"ng-container",45),o.YNc(93,jr,10,7,"ng-template",null,46,o.W1O),o.qZA(),o.TgZ(95,"div",47),o.TgZ(96,"div",48),o._uU(97,"custom pnp blocks"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&e){const e=o.MAs(41),i=o.MAs(94);o.ekj("show",t.storeSrv.pnpEnable.value),o.xp6(2),o.ekj("show",t.storeSrv.pnpEnable.value),o.xp6(1),o.ekj("show",t.showNavItem>-1),o.xp6(1),o.Q6J("@dropdownAnim",t.showNav?"show":"hide"),o.xp6(1),o.Q6J("ngForOf",t.pnpSrv.controlNav),o.xp6(5),o.ekj("show",t.showNavItem>-1),o.xp6(1),o.ekj("selected",0===t.showNavItem),o.xp6(2),o.Q6J("formGroup",t.loginForm),o.xp6(13),o.Q6J("ngIf",t.submitted&&t.loginForm.controls.url.errors),o.xp6(11),o.Q6J("type",t.isShowToken?"text":"password"),o.xp6(2),o.Q6J("ngIf",t.isShowToken)("ngIfElse",e),o.xp6(3),o.Q6J("ngIf",t.submitted&&t.loginForm.controls.token.errors),o.xp6(1),o.Q6J("ngIf",t.canLogin),o.xp6(1),o.Q6J("ngIf",""!==t.errorMsg),o.xp6(1),o.ekj("show",t.isLogin),o.Q6J("formGroup",t.infoForm),o.xp6(17),o.Oqu("None"===t.infoForm.value.templateName?"New":"Update"),o.xp6(1),o.Q6J("ngIf",t.isTemplateLoading),o.xp6(10),o.Q6J("ngIf",t.isDeviceLoading),o.xp6(5),o.Q6J("ngIf",t.isDeviceListLoading),o.xp6(2),o.Q6J("ngForOf",t.devicesList),o.xp6(11),o.ekj("selected",1===t.showNavItem),o.xp6(1),o.Q6J("ngIf",!t.isLogin)("ngIfElse",i),o.xp6(3),o.ekj("selected",2===t.showNavItem)}},directives:[n.sg,Ai._Y,Ai.JL,Ai.sg,Ai.Fj,Ai.JJ,Ai.u,n.O5,Ai.EJ,Ai.YN,Ai.Kr],styles:['.pnp-control-icon[_ngcontent-%COMP%]{display:none;position:fixed;top:77px;right:0;justify-content:center;align-items:center;width:62px;height:54px;border-radius:9px 0 0 9px;background-color:#0078d4;cursor:pointer}.pnp-control-icon.show[_ngcontent-%COMP%]{display:flex}.pnp-control-icon[_ngcontent-%COMP%]:hover{background-color:#32a6ff}.pnp-control-icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:30px;height:30px}.pnp-control-panel-wrapper[_ngcontent-%COMP%]{display:none;position:fixed;top:77px;right:0;font-family:Arial;z-index:80;font-size:16px}.pnp-control-panel-wrapper.show[_ngcontent-%COMP%]{display:block}.pnp-control-panel[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:row-reverse;overflow:hidden;border-radius:10px 0 0 10px}.pnp-control-panel.show[_ngcontent-%COMP%]{min-height:780px;height:calc(100vh - 200px);border:4px solid #0078d4;background-color:#fff}.pnp-panel-nav[_ngcontent-%COMP%]{position:relative;width:65px;height:100%;background-color:#0078d4;overflow:hidden}.pnp-panel-nav-item[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%;padding:16px 0;font-size:16px;writing-mode:vertical-rl;color:#fff;border-radius:0 6px 6px 0;background-color:#0078d4;cursor:pointer;transition:all .1s ease;position:relative}.pnp-panel-nav-item[_ngcontent-%COMP%]:after{content:"";display:block;position:absolute;width:48px;height:1px;background-color:#3e93d4;bottom:0;left:50%;transform:translate(-50%)}.pnp-panel-nav-item.selected[_ngcontent-%COMP%]{font-weight:bold;color:#0078d4;background-color:#fff}.pnp-panel-nav-item.selected[_ngcontent-%COMP%]:after{display:none}.pnp-panel-nav-item[_ngcontent-%COMP%]:hover{background-color:#32a6ff}.pnp-panel-nav-item[_ngcontent-%COMP%]   .pnp-panel-nav-item-title[_ngcontent-%COMP%]{transform:rotate(180deg)}.pnp-hidden-icon[_ngcontent-%COMP%]{display:flex;align-items:center;margin:0 auto;width:100%;height:60px;border-radius:0 6px 6px 0;cursor:pointer}.pnp-hidden-icon[_ngcontent-%COMP%]:hover{background-color:#32a6ff}.pnp-hidden-icon[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{display:block;margin:0 auto;width:22px;height:22px}.pnp-panel-content[_ngcontent-%COMP%]{display:none;width:320px;height:100%;background:#fff;overflow:hidden;transition:all .1s ease}.pnp-panel-content.show[_ngcontent-%COMP%]{display:block}.pnp-panel-page[_ngcontent-%COMP%]{display:none;width:100%;transition:all .1s ease}.pnp-panel-page.selected[_ngcontent-%COMP%]{display:block}.pnp-panel-page[_ngcontent-%COMP%]   .pnp-form[_ngcontent-%COMP%]{width:82%;margin:50px auto 0}.pnp-panel-page[_ngcontent-%COMP%]   .pnp-form-item[_ngcontent-%COMP%]{margin:0 auto 16px}.pnp-panel-page[_ngcontent-%COMP%]   .pnp-form-item[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;height:40px;padding:0 5px}.pnp-panel-page[_ngcontent-%COMP%]   .pnp-form-url[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:50%;outline:none;margin-right:2px}.pnp-panel-page[_ngcontent-%COMP%]   .pnp-form-url[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px}.pnp-panel-page[_ngcontent-%COMP%]   .pnp-form-token[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;border:1px solid #000}.pnp-panel-page[_ngcontent-%COMP%]   .pnp-form-token[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:87%;background-color:#fff;border:none;outline:none}.pnp-panel-page[_ngcontent-%COMP%]   .pnp-form-token[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:-internal-autofill-selected{box-shadow:0 0 0 1000px #fff inset}.pnp-panel-page[_ngcontent-%COMP%]   .pnp-form-token[_ngcontent-%COMP%]   .pwd-btn[_ngcontent-%COMP%]{position:absolute;right:6px;cursor:pointer}.pnp-panel-page[_ngcontent-%COMP%]   .pnp-form-token[_ngcontent-%COMP%]   .pwd-btn[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:22px;height:22px}.pnp-panel-page[_ngcontent-%COMP%]   .pnp-form-desc[_ngcontent-%COMP%]{margin-bottom:6px}.pnp-panel-page[_ngcontent-%COMP%]   .tooltip-icon[_ngcontent-%COMP%]{position:relative;display:inline-block;margin-left:6px;cursor:pointer}.pnp-panel-page[_ngcontent-%COMP%]   .tooltip-icon[_ngcontent-%COMP%]:hover > .tooltip-msg[_ngcontent-%COMP%]{display:flex}.pnp-panel-page[_ngcontent-%COMP%]   .tooltip-icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:18px;height:18px}.pnp-panel-page[_ngcontent-%COMP%]   .tooltip-icon[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:18px;height:18px}.pnp-panel-page[_ngcontent-%COMP%]   .tooltip-icon[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]:hover   path[_ngcontent-%COMP%]{fill:#0078d4}.pnp-panel-page[_ngcontent-%COMP%]   .tooltip-icon[_ngcontent-%COMP%]   .tooltip-msg[_ngcontent-%COMP%]{position:absolute;top:32px;display:none;height:auto;padding:5px 10px;font-size:14px;line-height:20px;border-radius:5px;box-shadow:2px 2px 3px #aaa;background-color:#f1f1f1;z-index:8}.pnp-panel-page[_ngcontent-%COMP%]   .tooltip-icon[_ngcontent-%COMP%]   .tooltip-msg[_ngcontent-%COMP%]:before{content:" ";position:absolute;border-bottom:8px solid #f1f1f1;border-left:8px solid transparent;border-right:12px solid transparent;top:-8px}.pnp-panel-page[_ngcontent-%COMP%]   .tooltip-icon[_ngcontent-%COMP%]   .tooltip-msg.msg-url[_ngcontent-%COMP%]{width:267px;left:-97px}.pnp-panel-page[_ngcontent-%COMP%]   .tooltip-icon[_ngcontent-%COMP%]   .tooltip-msg.msg-url[_ngcontent-%COMP%]:before{left:97px}.pnp-panel-page[_ngcontent-%COMP%]   .tooltip-icon[_ngcontent-%COMP%]   .tooltip-msg.msg-token[_ngcontent-%COMP%]{width:260px;left:-72px}.pnp-panel-page[_ngcontent-%COMP%]   .tooltip-icon[_ngcontent-%COMP%]   .tooltip-msg.msg-token[_ngcontent-%COMP%]:before{left:72px}.pnp-panel-page[_ngcontent-%COMP%]   .pnp-form-login-btn[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;margin:0 auto;width:100px;height:40px;border-radius:6px;color:#fff;background-color:#0078d4;cursor:pointer}.pnp-panel-page[_ngcontent-%COMP%]   .pnp-form-login-btn[_ngcontent-%COMP%]:hover{background-color:#32a6ff}.pnp-panel-page[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{text-align:center;color:red;margin:4px 0 6px}.pnp-panel-page[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]{width:100%;height:1px;background-color:#888;opacity:.3;margin-bottom:26px}.pnp-panel-page[_ngcontent-%COMP%]   .pnp-info-form[_ngcontent-%COMP%]{display:none;margin-top:26px}.pnp-panel-page[_ngcontent-%COMP%]   .pnp-info-form.show[_ngcontent-%COMP%]{display:block}.pnp-panel-page[_ngcontent-%COMP%]   .pnp-form-btn[_ngcontent-%COMP%]{display:inline-block;min-width:50px;height:26px;padding:0 10px;color:#fff;background-color:#0078d4;border-radius:5px;margin-left:10px;font-size:14px;text-align:center;line-height:34px;cursor:pointer}.pnp-panel-page[_ngcontent-%COMP%]   .pnp-form-btn[_ngcontent-%COMP%]   .pnp-btn[_ngcontent-%COMP%]{height:26px}.pnp-panel-page[_ngcontent-%COMP%]   .pnp-form-btn[_ngcontent-%COMP%]:hover{background-color:#32a6ff}.pnp-panel-page[_ngcontent-%COMP%]   .pnp-form-device[_ngcontent-%COMP%]{width:100%;height:30px;font-size:15px}.pnp-panel-page[_ngcontent-%COMP%]   .warnning-msg[_ngcontent-%COMP%]{width:100%;height:50%;display:flex;justify-content:center;align-items:center}.model-preview[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%}.model-preview[_ngcontent-%COMP%]   .model-preview-nav[_ngcontent-%COMP%]{display:flex;align-items:center;width:90%;height:45px;margin:15px auto 10px;font-size:15px;border-bottom:1px solid #d7d7d7}.model-preview[_ngcontent-%COMP%]   .model-preview-nav-item[_ngcontent-%COMP%]{padding:7px;height:100%;color:#4b4b4b;line-height:30px;cursor:pointer}.model-preview[_ngcontent-%COMP%]   .model-preview-nav-item.selected[_ngcontent-%COMP%]{color:#189cff;border-bottom:2px solid #189cff}.model-preview[_ngcontent-%COMP%]   .model-preview-nav-item[_ngcontent-%COMP%]:hover{color:#32a6ff}.model-preview[_ngcontent-%COMP%]   .export-btn[_ngcontent-%COMP%]{width:80px;padding:5px;border-radius:5px;margin-left:10px;box-shadow:0 2px #00000004;color:#fff;text-align:center;cursor:pointer;background-color:#32a6ff}.model-preview[_ngcontent-%COMP%]   .export-btn[_ngcontent-%COMP%]:hover{background-color:#0078d4}.model-preview[_ngcontent-%COMP%]   .model-preview-content[_ngcontent-%COMP%]{flex:1;overflow:auto}.model-preview[_ngcontent-%COMP%]   .pnp-template-preview[_ngcontent-%COMP%]{width:100%;height:100%;font-size:14px;padding:5px}.model-preview[_ngcontent-%COMP%]   .pnp-template-preview[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px;height:6px}.model-preview[_ngcontent-%COMP%]   .pnp-template-preview[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{-webkit-box-shadow:inset 0 0 5px rgba(0,0,0,.2);background:#909090}.model-preview[_ngcontent-%COMP%]   .pnp-template-preview[_ngcontent-%COMP%]::-webkit-scrollbar-track{-webkit-box-shadow:inset 0 0 5px rgba(0,0,0,.2);background:#EDEDED}.pnp-btn[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.loading[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-left:10px}@-webkit-keyframes pointLoading{0%{transform:scale(.3);opacity:.5}to{transform:scale(1);opacity:1}}@keyframes pointLoading{0%{transform:scale(.3);opacity:.5}to{transform:scale(1);opacity:1}}.point-loading[_ngcontent-%COMP%]{width:20px;height:20px;position:relative;margin:0 auto}.point-loading[_ngcontent-%COMP%]   .point[_ngcontent-%COMP%]{width:3px;height:3px;border-radius:50%;background:#fff;position:absolute;-webkit-animation:pointLoading 1s infinite;animation:pointLoading 1s infinite}.point-loading[_ngcontent-%COMP%]   .point[_ngcontent-%COMP%]:nth-child(1){left:0;top:50%;margin-top:-2px;-webkit-animation-delay:.13s;animation-delay:.13s}.point-loading[_ngcontent-%COMP%]   .point[_ngcontent-%COMP%]:nth-child(2){left:2.8px;top:2.8px;-webkit-animation-delay:.26s;animation-delay:.26s}.point-loading[_ngcontent-%COMP%]   .point[_ngcontent-%COMP%]:nth-child(3){left:50%;top:0;margin-left:-2px;-webkit-animation-delay:.39s;animation-delay:.39s}.point-loading[_ngcontent-%COMP%]   .point[_ngcontent-%COMP%]:nth-child(4){top:2.8px;right:2.8px;-webkit-animation-delay:.52s;animation-delay:.52s}.point-loading[_ngcontent-%COMP%]   .point[_ngcontent-%COMP%]:nth-child(5){right:0;top:50%;margin-top:-2px;-webkit-animation-delay:.65s;animation-delay:.65s}.point-loading[_ngcontent-%COMP%]   .point[_ngcontent-%COMP%]:nth-child(6){right:2.8px;bottom:2.8px;-webkit-animation-delay:.78s;animation-delay:.78s}.point-loading[_ngcontent-%COMP%]   .point[_ngcontent-%COMP%]:nth-child(7){bottom:0;left:50%;margin-left:-2px;-webkit-animation-delay:.91s;animation-delay:.91s}.point-loading[_ngcontent-%COMP%]   .point[_ngcontent-%COMP%]:nth-child(8){bottom:2.8px;left:2.8px;-webkit-animation-delay:1.04s;animation-delay:1.04s}.login-switch[_ngcontent-%COMP%]{display:inline-block;color:#fff;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer}.login-switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:15px;height:15px;margin-right:5px}'],data:{animation:[kr.vJ,kr.y1]}}),e})();const Jr=["wrapperBlocklyEditor"],Qr=["wrapperBlocklyToolbox"];let es=(()=>{class e{constructor(e,t,i,n){this.blocklyEditorSrv=e,this.globalOperator=t,this.storeSrv=i,this.zrenderService=n,this.screenIndex=12,this.cont=0,this.blockly_alert="",this.alert=new Tr.X(this.blockly_alert)}ngOnInit(){this.blocklyEditorSrv.init({wrapperId:this.wrapperBlocklyEditor.nativeElement.id,toolboxId:this.wrapperBlocklyToolbox.nativeElement.id,language:localStorage.getItem(Ei.k2.LANGUAGE)||"en"}),this.storeSrv.getType().subscribe(e=>{this.storeSrv.removeUnitList(),this.storeSrv.removeHatList(),this.storeSrv.removeStampList();try{this.zrenderService.updateUnitSvg(),this.zrenderService.updateHatSvg(),this.zrenderService.updateStampSvg()}catch(t){}try{this.handleCategory(e)}catch(t){}}),this.storeSrv.getComponentList().subscribe(e=>{if(0!==e.length)try{this.hideAllItem("ui"),this.hideAllItem("display_ui"),window.BlocklyEditor.toolbox_.getToolboxItemById("screen").show(),window.BlocklyEditor.toolbox_.getToolboxItemById("display_module_screen").show(),this.setUI_show(e.filter(e=>!e.screenType||"default"===e.screenType)),this.setUI_show(e.filter(e=>"display_module"===e.screenType))}catch(t){}}),this.storeSrv.getUnitList().subscribe(e=>{try{this.hideAllItem("units")}catch(t){}try{let t=e.length,i=window.Blockly.Msg.UNITS;window.BlocklyEditor.toolbox_.getToolboxItemById("units").labelDom_.innerText=t>0?`${i} (${t})`:`${i}`}catch(t){}this.setUnit_show(e)}),this.storeSrv.getHatList().subscribe(e=>{try{this.hideAllItem("hat")}catch(t){}try{let t=e.length,i=window.Blockly.Msg.HAT;window.BlocklyEditor.toolbox_.getToolboxItemById("hat").labelDom_.innerText=t>0?`${i} (${t})`:`${i}`}catch(t){}this.setHat_show(e)}),this.storeSrv.getStampList().subscribe(e=>{try{this.hideAllItem("stamps")}catch(t){}this.setStamp_show(e);try{let t=e.length,i=window.Blockly.Msg.STAMPS;window.BlocklyEditor.toolbox_.getToolboxItemById("stamps").labelDom_.innerText=t>0?`${i} (${t})`:`${i}`}catch(t){}})}ngAfterViewInit(){let e=location.search.includes("examples")||!1;this.storeSrv.setHiddenBlockly().subscribe(()=>{setTimeout(()=>{window.Blockly.svgResize(this.blocklyEditorSrv.workspace);let t=sessionStorage.getItem("_type")||"core";this.handleCategory(t),e&&(this.setUI_show(this.storeSrv.componentList.value),this.setUnit_show(this.storeSrv.unitList.value),this.setHat_show(this.storeSrv.hatList.value)),this.storeSrv.loddingMODE.next(!1),this.wrapperBlocklyEditor.nativeElement.getElementsByClassName("blocklyToolboxDiv")[0].setAttribute("title","Open The Recent Blocks Panel (Ctrl+B)")},500)})}setUI_show(e){e.forEach(e=>{try{window.BlocklyEditor.toolbox_.getToolboxItemById(e.screenType?"default"===e.screenType?e.type:e.screenType+"_"+e.type:e.type).show()}catch(t){}})}setHat_show(e){for(let i=0;i<e.length;i++){const n=e[i];try{window.BlocklyEditor.toolbox_.getToolboxItemById(n.type).show()}catch(t){}}}setUnit_show(e){for(let i=0;i<e.length;i++){let n=e[i].type;[Ei.g1.ENV2,Ei.g1.ENV3,Ei.g1.ENV4].indexOf(n)>-1&&(n=Ei.g1.ENV),(n===Ei.g1.OP90||n===Ei.g1.OP180)&&(n="op");try{window.BlocklyEditor.toolbox_.getToolboxItemById(`unit_${n}`).show()}catch(t){console.log(t)}}}setStamp_show(e){e.forEach(e=>{try{window.BlocklyEditor.toolbox_.getToolboxItemById(e.type).show()}catch(t){}})}stopPropagation(){this.globalOperator.setSelectedComponent(null),this.globalOperator.setSelectedUnit(null),this.globalOperator.setSelectedHat(null),this.globalOperator.setSelectedStamp(null),this.globalOperator.setSelectedRemotePlus(null)}handleCategory(e){this.showFirstCategory(),this.showAllItem("hardwares"),this.showAllItem("modules"),this.showAllItem("mediatrans"),this.showAllItem("advanced"),this.hideAllItem("ui"),this.hideAllItem("display_ui"),window.BlocklyEditor.toolbox_.getToolboxItemById("screen").show(),window.BlocklyEditor.toolbox_.getToolboxItemById("display_module_screen").show(),this.hideAllItem("units"),this.hideAllItem("hat"),Cr[e]?this.setHideByIdList(Cr[e]):(this.storeSrv.setType(Ei.__.CORE),this.setHideByIdList(Cr[Ei.__.CORE]))}showFirstCategory(){let e=Object.values(Zr);for(let t=0;t<e.length;t++)window.BlocklyEditor.toolbox_.getToolboxItemById(e[t]).show()}setHideByIdList(e){for(let t=0;t<e.length;t++)window.BlocklyEditor.toolbox_.getToolboxItemById(e[t]).hide()}showAllItem(e){let t=window.BlocklyEditor.toolbox_.getToolboxItemById(e).toolboxItems_;for(let i=0;i<t.length;i++)t[i].show()}hideAllItem(e){let t=window.BlocklyEditor.toolbox_.getToolboxItemById(e).toolboxItems_;for(let i=0;i<t.length;i++)t[i].hide()}}return e.\u0275fac=function(t){return new(t||e)(o.Y36(Li.O1),o.Y36(Li.t0),o.Y36(Li.d6),o.Y36(Bi._))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-blockly-editor"]],viewQuery:function(e,t){if(1&e&&(o.Gf(Jr,7),o.Gf(Qr,7)),2&e){let e;o.iGM(e=o.CRH())&&(t.wrapperBlocklyEditor=e.first),o.iGM(e=o.CRH())&&(t.wrapperBlocklyToolbox=e.first)}},decls:8891,vars:0,consts:[[1,"wrapper--blockly",3,"click"],["id","wrapper_blockly_editor",1,"wrapper--blockly-editor"],["wrapperBlocklyEditor",""],["id","blocklyTrashIcon"],["aria-hidden","true",1,"trash","icon"],["id","wrapper_blockly_toolbox",2,"display","none"],["wrapperBlocklyToolbox",""],["name","%{BKY_EVENT}","colour","%{BKY_BASIC_HUE}","custom","EVENT"],["type","basic_on_loop"],["type","button_callback"],["type","button_state"],["type","button_multiBtnCb"],["type","button_ispressed"],["type","timer_callback"],["type","timer_setTimerAttr"],["name","period"],["type","math_number"],["name","NUM"],["type","timer_setStart"],["type","timer_setStop"],["colour","%{BKY_COMPONENT_HUE}","name","%{BKY_UI}"],["colour","%{BKY_COMPONENT_TITLE_HUE}","name","%{BKY_TITLE}","custom","TITLE"],["colour","%{BKY_COMPONENT_LABEL_HUE}","name","%{BKY_LABEL}","custom","LABEL"],["colour","%{BKY_COMPONENT_RECT_HUE}","name","%{BKY_RECT}","custom","RECT"],["colour","%{BKY_COMPONENT_CIRCLE_HUE}","name","%{BKY_CIRCLE}","custom","CIRCLE"],["type","circle_set_size"],["name","RADIUS"],["type","circle_set_position"],["name","X"],["name","Y"],["type","circle_set_position_x"],["type","circle_set_position_y"],["type","circle_set_bgcolor"],["type","circle_set_bgcolor_rgb"],["name","R"],["name","G"],["name","B"],["type","circle_set_bordercolor"],["type","circle_set_bordercolor_rgb"],["type","circle_set_mode"],["colour","%{BKY_COMPONENT_IMAGE_HUE}","name","%{BKY_IMAGE}","custom","IMAGE"],["colour","%{BKY_COMPONENT_TRIANGLE_HUE}","name","%{BKY_TRIANGLE}","custom","TRIANGLE"],["type","triangle_set_size"],["name","X1"],["name","Y1"],["name","X2"],["name","Y2"],["name","X3"],["name","Y3"],["type","triangle_set_bgcolor"],["type","triangle_set_bgcolor_rgb"],["type","triangle_set_bordercolor"],["type","triangle_set_bordercolor_rgb"],["type","triangle_set_mode"],["colour","%{BKY_COMPONENT_LINE_HUE}","name","%{BKY_LINE}","custom","LINE"],["colour","%{BKY_COMPONENT_CIRCLE_HUE}","name","%{BKY_TOUCH_BUTTON}"],["type","button_set_pos"],["type","button_set_align"],["type","button_set_size"],["name","w"],["name","h"],["type","button_set_hidden"],["type","button_set_bgcolor"],["type","button_set_bgcolor_rgb"],["type","math_slider"],["name","NUM","min","0","max","255"],["type","button_set_text"],["name","text"],["type","text"],["name","TEXT"],["type","button_set_textcolor"],["type","button_set_textcolor_rgb"],["type","button_set_text_font"],["type","button_delete"],["type","button_set_cb"],["type","button_get_state"],["colour","%{BKY_SPEAKER_HUE}","name","%{BKY_SWITCH}"],["type","switch_set_pos"],["type","switch_set_align"],["type","switch_set_size"],["type","switch_set_hidden"],["type","switch_set_bgcolor"],["type","switch_set_bgcolor_rgb"],["type","switch_set_color"],["type","switch_set_color_rgb"],["type","switch_set_on"],["type","switch_set_off"],["type","switch_set_toggle"],["type","switch_delete"],["type","switch_set_cb"],["type","switch_get_state"],["colour","%{BKY_TIMER_HUE}","name","%{BKY_SLIDER}"],["type","slider_set_pos"],["type","slider_set_align"],["type","slider_set_size"],["type","slider_set_hidden"],["type","slider_set_bgcolor"],["type","slider_set_bgcolor_rgb"],["type","slider_set_color"],["type","slider_set_color_rgb"],["type","slider_set_value"],["name","value"],["type","slider_set_range"],["name","MIN"],["name","MAX"],["type","slider_delete"],["type","slider_set_cb"],["type","slider_get_value"],["colour","%{BKY_LISTS_HUE}","name","%{BKY_BAR}"],["type","bar_set_pos"],["type","bar_set_align"],["type","bar_set_size"],["type","bar_set_hidden"],["type","bar_set_bgcolor"],["type","bar_set_bgcolor_rgb"],["type","bar_set_color"],["type","bar_set_color_rgb"],["type","bar_set_value"],["type","bar_set_range"],["type","bar_delete"],["type","bar_get_value"],["colour","%{BKY_MAP_HUE}","name","%{BKY_CHECKBOX}"],["type","checkbox_set_pos"],["type","checkbox_set_align"],["type","checkbox_set_hidden"],["type","checkbox_set_text"],["type","checkbox_set_text_font"],["type","checkbox_set_color"],["type","checkbox_set_color_rgb"],["type","checkbox_set_selected_color"],["type","checkbox_set_selected_color_rgb"],["type","checkbox_set_checked"],["type","checkbox_delete"],["type","checkbox_set_cb"],["colour","%{BKY_COMPONENT_SCREEN_HUE}","name","%{BKY_SCREEN}","custom","SCREEN"],["colour","%{BKY_PINS_HUE}","name","%{BKY_HARDWARES}"],["colour","%{BKY_SPEAKER_HUE}","name","%{BKY_SPEAKER}","custom","SPEAKER"],["colour","%{BKY_PINS_HUE}","name","%{BKY_MICROPHONE}"],["type","microphone_recordfile"],["name","seconds"],["name","filename"],["colour","%{BKY_RGB_HUE}","name","%{BKY_RGB}","custom","RGB"],["colour","%{BKY_TIMER_HUE}","name","%{BKY_IMU}"],["text","%{BKY_IMU}","web-class","blockly-title--style","callbackKey","hardwareDocs","url","imu"],["type","IMU_GET_X"],["type","IMU_GET_Y"],["type","IMU_GET_ACC_X"],["type","IMU_GET_ACC_Y"],["type","IMU_GET_ACC_Z"],["type","IMU_GET_Gyr_X"],["type","IMU_GET_Gyr_Y"],["type","IMU_GET_Gyr_Z"],["colour","%{BKY_HARDWARE_RTC}","name","RTC","custom","RTC"],["colour","%{BKY_HARDWARE_LED}","name","LED","custom","LED"],["type","m5ledoff"],["type","m5ledon"],["colour","%{BKY_HARDWARE_AXP_HUE}","name","%{BKY_AXP}"],["text","%{BKY_AXP}","web-class","blockly-title--style","callbackKey","hardwareDocs","url","power-m5stickc"],["type","axp_get_charge_state"],["type","axp_get_bat_voltage"],["type","axp_get_bat_voltage_percent"],["type","axp_get_bat_current"],["type","axp_get_vin_voltage"],["type","axp_get_vin_current"],["type","axp_get_vbus_voltage"],["type","axp_get_vbus_current"],["type","axp_get_axp192_temperature"],["type","axp_power_off"],["type","axp_set_charge_current"],["type","axp_set_ldo2_voltage"],["name","ANGLEX"],["colour","%{BKY_POWER_HUE}","name","%{BKY_POWER}","custom","POWER"],["colour","%{BKY_LCD_HUE}","name","%{BKY_TOUCH}","custom","TOUCH"],["colour","%{BKY_LOOPS_HUE}","name","%{BKY_VIBRATION}"],["type","power_set_vibration_enable"],["type","power_set_vibration_intensity"],["name","intensity"],["colour","%{BKY_DHT_HUE}","name","%{BKY_BATTERY}"],["type","battery_voltage"],["colour","%{BKY_MATH_HUE}","name","%{BKY_SHT30}"],["type","sht30_get_humidity"],["type","sht30_get_temperature"],["colour","%{BKY_MODBUS_MASTER_HUE}","name","%{BKY_WDT}"],["text","%{BKY_WDT}","web-class","blockly-title--style","callbackKey","hardwareDocs","url","watch-dog-timer"],["text","\u25b6 %{BKY_DEMO}","web-class","blockly-button--style","callbackKey","selected"],["type","wdt_init","hidden","true"],["name","timeout"],["name","LOOP"],["type","timer_delay"],["name","DELAY"],["type","wdt_feed"],["web-class","blockly-divider--style"],["type","wdt_init"],["colour","%{BKY_TEXTS_HUE}","name","%{BKY_BASE}"],["colour","%{BKY_DHT_HUE}","name","%{BKY_HDRIVER}"],["text","%{BKY_HDRIVER}","web-class","blockly-title--style","callbackKey","atomDocs","url","atom_hdriver"],["type","hdriver_init"],["type","hdriver_set_speed"],["name","speed"],["name","NUM","min","-100","max","100"],["type","hdriver_get_voltage"],["type","hdriver_get_status"],["colour","%{BKY_SPEAKER_HUE}","name","%{BKY_MOTION}"],["text","%{BKY_MOTION}","web-class","blockly-title--style","callbackKey","atomDocs","url","atom_motion"],["type","motion_init"],["type","motion_get_servo_angle"],["name","ch"],["name","NUM","min","1","max","4"],["type","motion_set_servo_angle"],["name","angle"],["name","NUM","min","0","max","180"],["type","motion_get_servo_pulse"],["type","motion_set_servo_pulse"],["name","pulse"],["name","NUM","min","500","max","2500"],["type","motion_get_motor_speed"],["name","NUM","min","1","max","2"],["type","motion_set_motor_speed"],["name","NUM","min","-127","max","127"],["colour","%{BKY_UART_HUE}","name","%{BKY_GPS}"],["text","%{BKY_GPS}","web-class","blockly-title--style","callbackKey","atomDocs","url","atomicgps"],["type","base_gps_init"],["name","timezone"],["name","formatting"],["text","%{BKY_GPS_TIME}","web-class","blockly-subclass--style"],["type","base_gps_timestamp"],["type","base_gps_date"],["text","%{BKY_GPS_POSITION}","web-class","blockly-subclass--style"],["type","base_gps_latitude"],["type","base_gps_longitude"],["type","base_gps_speed"],["type","base_gps_course"],["type","base_gps_altitude"],["type","base_gps_geoid_height"],["text","%{BKY_GPS_INFO}","web-class","blockly-subclass--style"],["type","base_gps_satellites_in_view"],["type","base_gps_satellites_in_use"],["type","base_gps_satellites_used"],["type","base_gps_last_sv_sentence"],["type","base_gps_total_sv_sentence"],["type","base_gps_satellite_data"],["type","base_gps_hdop"],["type","base_gps_pdop"],["type","base_gps_vdop"],["type","base_gps_deinit"],["colour","%{BKY_LCD_HUE}","name","%{BKY_QRCODE}"],["text","%{BKY_QRCODE}","web-class","blockly-title--style","callbackKey","atomDocs","url","atomic_qr"],["type","base_qrcode_init"],["type","base_qrcode_read"],["type","base_qrcode_status"],["width","295","web-class","blockly-divider-nowidth"],["text","Please use QR Code to scan the QR","web-class","blockly-subclass--style"],["gap","8"],["text","code below to switch modes.","web-class","blockly-subclass--style"],["text","Currently, it supports key trigger","web-class","blockly-subclass--style"],["text","mode and continuous mode.","web-class","blockly-subclass--style"],["gap","32"],["text","Manual Trigger Mode","web-class","blockly-subclass--style"],["type","base_qrcode_manual_mode"],["text","Continuous Mode","web-class","blockly-subclass--style"],["type","base_qrcode_continuous_mode"],["colour","%{BKY_MATH_HUE}","name","%{BKY_STEP_MOTOR}"],["text","%{BKY_STEP_MOTOR}","web-class","blockly-title--style","callbackKey","atomDocs","url","atomic_step_motor"],["type","base_stepmotor_init"],["type","base_stepmotor_move_steps"],["name","steps"],["name","clockwise"],["type","base_stepmotor_move_circles"],["name","circle"],["type","base_stepmotor_enable"],["type","base_stepmotor_disbale"],["type","base_stepmotor_reset"],["type","base_stepmotor_get_voltage"],["type","base_stepmotor_get_status"],["colour","%{BKY_PINS_HUE}","name","%{BKY_UNITS}"],["colour","%{BKY_DHT_HUE}","name","%{BKY_ENV}"],["text","%{BKY_ENV}","web-class","blockly-title--style","callbackKey","unitsDocs","url","env"],["text","\u25b6 %{BKY_UNIT_ENV_READ}","web-class","blockly-button--style","callbackKey","selected"],["type","basic_on_loop","hidden","true"],["type","text_print"],["type","dht12_pressure"],["type","dht12_get_temperature"],["type","dht12_get_humidity"],["type","timer_delay_ms"],["colour","%{BKY_PINS_HUE}","name","%{BKY_ANGLE}"],["text","%{BKY_ANGLE}","web-class","blockly-title--style","callbackKey","unitsDocs","url","angle"],["text","\u25b6 %{BKY_UNIT_ANGLE_READ}","web-class","blockly-button--style","callbackKey","selected"],["type","angle_read"],["colour","%{BKY_SERVO_HUE}","name","%{BKY_PIR}"],["text","%{BKY_PIR}","web-class","blockly-title--style","callbackKey","unitsDocs","url","pir"],["text","\u25b6 %{BKY_UNIT_PIR_DEMO_READ}","web-class","blockly-button--style","callbackKey","selected"],["type","controls_ifelse"],["name","IF0"],["type","logic_compare"],["name","OP"],["name","A"],["type","pir_read"],["name","DO0"],["name","ELSE"],["colour","%{BKY_PINS_HUE}","name","%{BKY_NEOPIXEL}"],["text","%{BKY_NEOPIXEL}","web-class","blockly-title--style","callbackKey","unitsDocs","url","rgb-led"],["text","\u25b6 %{BKY_UNIT_NEOPIXEL_FLASH_LED}","web-class","blockly-button--style","callbackKey","selected"],["type","variables_set"],["name","VAR"],["name","VALUE"],["type","math_random_int"],["name","FROM"],["name","TO"],["type","controls_for"],["name","BY"],["name","DO"],["type","rgb_multi_set_color_from_rgb"],["type","variables_get"],["type","rgb_multi_set_color_from"],["name","COLOR"],["type","rgb_multi_set_color"],["name","INDEX"],["type","rgb_multi_set_color_all"],["type","rgb_multi_set_brightness"],["name","BRIGHTNESS"],["type","rgb_multi_set_show_lock"],["type","rgb_multi_show"],["type","rgb_multi_set_hexagon_matrix"],["type","rgb_multi_set_hexagon_matrix_rgb"],["colour","%{BKY_DHT_HUE}","name","%{BKY_JOYSTICK}"],["text","%{BKY_JOYSTICK}","web-class","blockly-title--style","callbackKey","unitsDocs","url","joystick"],["text","\u25b6 %{BKY_UNIT_JOYSTICK_DEMO_READ}","web-class","blockly-button--style","callbackKey","selected"],["type","joystick_x"],["type","joystick_y"],["type","joystick_press"],["type","joystick_reversal_x"],["type","joystick_reversal_y"],["colour","%{BKY_SPEAKER_HUE}","name","%{BKY_LIGHT}"],["text","%{BKY_LIGHT}","web-class","blockly-title--style","callbackKey","unitsDocs","url","light"],["text","\u25b6 %{BKY_UNIT_LIGHT_DEMO_READ}","web-class","blockly-button--style","callbackKey","selected"],["type","light_d_read"],["type","light_a_read"],["colour","%{BKY_GPIO_HUE}","name","%{BKY_EARTH}"],["text","%{BKY_EARTH}","web-class","blockly-title--style","callbackKey","unitsDocs","url","earth"],["text","\u25b6 %{BKY_UNIT_EARTH_DEMO_READ}","web-class","blockly-button--style","callbackKey","selected"],["type","earth_a_read"],["type","earth_d_read"],["colour","%{BKY_NXT_MOTOR_HUE}","name","%{BKY_MAKEY}"],["text","%{BKY_MAKEY}","web-class","blockly-title--style","callbackKey","unitsDocs","url","makey"],["text","\u25b6 %{BKY_UNIT_MAKEY_DEMO_READ}","web-class","blockly-button--style","callbackKey","selected"],["type","text_print","hidden","true"],["type","makey_value"],["type","makey_all_value"],["colour","%{BKY_SERVO_HUE}","name","%{BKY_SERVO}"],["text","%{BKY_SERVO}","web-class","blockly-title--style","callbackKey","unitsDocs","url","servo"],["text","\u25b6 %{BKY_UNIT_SERVO_DEMO_CONTROL}","web-class","blockly-button--style","callbackKey","selected"],["type","servo_unit_write_angle","hidden","true"],["name","ANGLE"],["type","servo_unit_write_angle"],["type","servo_unit_write_us"],["name","TIME"],["colour","%{BKY_DAC_HUE}","name","%{BKY_WEIGHT}"],["text","%{BKY_WEIGHT}","web-class","blockly-title--style","callbackKey","unitsDocs","url","weight"],["text","\u25b6 %{BKY_UNIT_WEIGHT_DEMO_READ}","web-class","blockly-button--style","callbackKey","selected"],["type","weigh_get_weight"],["type","controls_if"],["name","BUTTON"],["name","EVENT"],["type","weigh_zero"],["type","weigh_get_rawData"],["colour","%{BKY_RGB_HUE}","name","%{BKY_HEART}"],["text","%{BKY_HEART}","web-class","blockly-title--style","callbackKey","unitsDocs","url","heart"],["text","\u25b6 %{BKY_UNIT_HEART_DEMO_READ}","web-class","blockly-button--style","callbackKey","selected"],["type","heart_set_led_current","hidden","true"],["name","VARNAME1"],["name","VARNAME2"],["type","heart_set_mode"],["name","VARNAME"],["type","heart_get_heartrate"],["type","heart_get_spo2"],["type","heart_set_led_current"],["colour","%{BKY_TRACK_HUE}","name","%{BKY_TRACK}"],["text","%{BKY_TRACK}","web-class","blockly-title--style","callbackKey","unitsDocs","url","trace"],["text","\u25b6 %{BKY_UNIT_TRACE_DEMO_READ}","web-class","blockly-button--style","callbackKey","selected"],["type","m5track_get_digital"],["name","DIGITAL"],["type","m5track_get_analog"],["type","m5track_set_analog"],["name","NUM1"],["colour","%{BKY_TRACK_HUE}","name","%{BKY_BUTTON}"],["text","%{BKY_BUTTON}","web-class","blockly-title--style","callbackKey","unitsDocs","url","button"],["text","\u25b6 %{BKY_UNIT_BUTTON_DEMO_READ}","web-class","blockly-button--style","callbackKey","selected"],["type","unit_button_state"],["type","unit_button_callback"],["colour","%{BKY_RGB_HUE}","name","%{BKY_DUAL_BUTTON}"],["text","%{BKY_DUAL_BUTTON}","web-class","blockly-title--style","callbackKey","unitsDocs","url","dual-button"],["text","\u25b6 %{BKY_UNIT_DUAL_BUTTON_DEMO_READ}","web-class","blockly-button--style","callbackKey","selected"],["elseif","1"],["type","unit_dual_button_state"],["name","BTN"],["type","rgb_set_all"],["name","IF1"],["name","DO1"],["type","unit_dual_button_callback"],["colour","%{BKY_PINS_HUE}","name","RGB"],["text","RGB","web-class","blockly-title--style","callbackKey","unitsDocs","url","rgb"],["text","\u25b6 %{BKY_UNIT_RGB_DEMO_SET}","web-class","blockly-button--style","callbackKey","selected"],["type","rgb_unit_set_color"],["type","rgb_unit_set_color_from"],["type","rgb_unit_set_color_all"],["type","rgb_unit_set_brightness"],["colour","%{BKY_SERVO_HUE}","name","%{BKY_RELAY}"],["text","%{BKY_RELAY}","web-class","blockly-title--style","callbackKey","unitsDocs","url","relay"],["text","\u25b6 %{BKY_UNIT_RELAY_DEMO_SET}","web-class","blockly-button--style","callbackKey","selected"],["type","set_relay_on"],["type","set_relay_off"],["colour","%{BKY_PINS_HUE}","name","ADC"],["text","ADC","web-class","blockly-title--style","callbackKey","unitsDocs","url","adc"],["text","\u25b6 %{BKY_UNIT_ADC_DEMO_READ}","web-class","blockly-button--style","callbackKey","selected"],["type","unit_adc_state"],["name","ADC"],["colour","%{BKY_DHT_HUE}","name","DAC"],["text","DAC","web-class","blockly-title--style","callbackKey","unitsDocs","url","dac"],["text","\u25b6 %{BKY_UNIT_DAC_DEMO_SET}","web-class","blockly-button--style","callbackKey","selected"],["type","unit_dac_state"],["name","DAC"],["name","SAVE"],["type","text_add"],["name","arg0"],["type","convent_str"],["name","arg1"],["type","unit_dac_writeData"],["colour","%{BKY_SPEAKER_HUE}","name","ToF"],["text","ToF","web-class","blockly-title--style","callbackKey","unitsDocs","url","tof"],["text","\u25b6 %{BKY_UNIT_TOF_DEMO_READ}","web-class","blockly-button--style","callbackKey","selected"],["type","unit_tof_state"],["name","TOF"],["colour","%{BKY_SPEAKER_HUE}","name","NCIR"],["text","NCIR","web-class","blockly-title--style","callbackKey","unitsDocs","url","ncir"],["text","\u25b6 %{BKY_UNIT_NCIR_DEMO_GET}","web-class","blockly-button--style","callbackKey","selected"],["type","unit_ncir_read"],["name","IR"],["colour","%{BKY_SPEAKER_HUE}","name","IR"],["text","IR","web-class","blockly-title--style","callbackKey","unitsDocs","url","ir"],["text","\u25b6 %{BKY_UNIT_IR_DEMO_READ}","web-class","blockly-button--style","callbackKey","selected"],["type","unit_ir_on"],["type","unit_ir_state"],["width","326","web-class","blockly-divider-nowidth"],["text","%{BKY_IR_NEC_MODE}","web-class","blockly-subclass--style"],["text","%{BKY_IR_NEC_MODE_TIPS}","web-class","blockly-subclass--style"],["type","unit_ir_nec_tx"],["name","addr"],["name","data"],["type","unit_ir_nec_cb"],["text","%{BKY_IR_GPIO_MODE}","web-class","blockly-subclass--style"],["type","unit_ir_off"],["colour","%{BKY_DHT_HUE}","name","EXT.IO"],["text","EXT.IO","web-class","blockly-title--style","callbackKey","unitsDocs","url","extio"],["text","\u25b6 %{BKY_UNIT_EXTIO_DEMO_SET}","web-class","blockly-button--style","callbackKey","selected"],["type","extio_set_port","hidden","true"],["name","EXTIO"],["name","MODE"],["type","extio_set_digiWrite"],["name","PIN"],["type","extio_set_port"],["type","extio_set_pin"],["type","extio_set_digiWritePort"],["type","extio_set_digiRead"],["type","extio_get_digiReadPort"],["colour","%{BKY_TIMER_HUE}","name","Color"],["text","Color","web-class","blockly-title--style","callbackKey","unitsDocs","url","color"],["text","\u25b6 %{BKY_UNIT_COLOR_DEMO_READ}","web-class","blockly-button--style","callbackKey","selected"],["type","color_getR"],["type","color_getG"],["type","color_getB"],["type","color_getD"],["colour","%{BKY_SPEAKER_HUE}","name","FINGER"],["text","FINGER","web-class","blockly-title--style","callbackKey","unitsDocs","url","finger"],["text","\u25b6 %{BKY_UNIT_FINGER_DEMO_ENTER}","web-class","blockly-button--style","callbackKey","selected"],["type","finger_add_user","hidden","true"],["name","STATE"],["name","ACCESS"],["name","ID"],["text","\u25b6 %{BKY_UNIT_FINGER_DEMO_READ}","web-class","blockly-button--style","callbackKey","selected"],["type","finger_read","hidden","true"],["name","FUNC"],["type","logic_operation"],["type","finger_get_access"],["type","finger_get_id"],["type","finger_get_state"],["type","finger_removeAll"],["type","finger_remove_user"],["type","finger_add_user"],["type","finger_read"],["type","finger_getUnknown"],["colour","%{BKY_TIMER_HUE}","name","RFID"],["text","RFID","web-class","blockly-title--style","callbackKey","unitsDocs","url","rfid"],["text","\u25b6 %{BKY_UNIT_RFID_DEMO_READ}","web-class","blockly-button--style","callbackKey","selected"],["type","rfid_cardOn"],["name","RFID"],["type","rfid_uid"],["type","rfid_readStr"],["type","write_block"],["name","VALUE1"],["colour","%{BKY_TIMER_HUE}","name","CardKB"],["text","CardKB","web-class","blockly-title--style","callbackKey","unitsDocs","url","cardkb"],["text","\u25b6 %{BKY_UNIT_CARKB_DEMO_READ_VALUE}","web-class","blockly-button--style","callbackKey","selected"],["type","cardkb_getkey"],["name","KEY"],["type","cardkb_getstring"],["name","STR"],["type","cardkb_getpress"],["colour","%{BKY_PBHUB_HUE}","name","%{BKY_PB_HUB}"],["text","PB HUB","web-class","blockly-title--style","callbackKey","unitsDocs","url","pbhub"],["text","\u25b6 %{BKY_UNIT_PBHUB_DEMO_SET}","web-class","blockly-button--style","callbackKey","selected"],["type","pbhub_setBrightness","hidden","true"],["name","digitalWriteNum"],["name","val"],["type","pbhub_setColor"],["name","begin"],["name","count"],["type","pbhub_digital_read"],["type","pbhub_digital_write"],["type","pbhub_analogRead"],["name","num"],["type","pbhub_setRgbNum"],["type","pbhub_setColorPos"],["type","pbhub_setBrightness"],["colour","%{BKY_PAHUB_HUE}","name","%{BKY_PA_HUB}"],["text","PA HUB","web-class","blockly-title--style","callbackKey","unitsDocs","url","pahub"],["text","\u25b6 %{BKY_UNIT_PAHUB_DEMO_OPEN}","web-class","blockly-button--style","callbackKey","selected"],["type","iic_set","hidden","true"],["name","i2c"],["name","PORT"],["name","ADDRESS"],["name","FREQ"],["type","pahub_select"],["name","pos"],["name","res"],["type","pahub_port"],["type","pahub_only_on"],["colour","%{BKY_THERMAL_HUE}","name","%{BKY_THERMAL}"],["text","%{BKY_THERMAL}","web-class","blockly-title--style","callbackKey","unitsDocs","url","thermal"],["type","unit_thermal_getTmp"],["name","x"],["name","y"],["type","unit_thermal_getCenterTmp"],["type","unit_thermal_getMaxTmp"],["type","unit_thermal_getMinTmp"],["type","unit_thermal_setColorMaxTmp"],["name","tmp"],["type","unit_thermal_setColorMinTmp"],["type","unit_thermal_update"],["colour","%{BKY_SPEAKER_HUE}","name","GPS","custom","UNIT_GPS"],["colour","%{BKY_UNIT_ACCEL_HUE}","name","%{BKY_UNIT_ACCEL}"],["text","%{BKY_UNIT_ACCEL}","web-class","blockly-title--style","callbackKey","unitsDocs","url","accel"],["text","\u25b6 %{BKY_UNIT_ACCEL_DEMO_READ_VALUE}","web-class","blockly-button--style","callbackKey","selected"],["type","unit_accel_get_x_acc"],["name","POS"],["type","unit_accel_get_y_acc"],["type","unit_accel_get_z_acc"],["colour","%{BKY_UNIT_ACSOCKET_HUE}","name","%{BKY_UNIT_ACSOCKET}"],["text","%{BKY_UNIT_ACSOCKET}","web-class","blockly-title--style","callbackKey","unitsDocs","url","ac_socket"],["text","\u25b6 %{BKY_UNIT_ACSOCKET_DEMO_SET_VALUE}","web-class","blockly-button--style","callbackKey","selected"],["type","unit_acsocket_set_value","hidden","true"],["type","unit_acsocket_set_value"],["colour","%{BKY_UNIT_V_HUE}","name","%{BKY_UNIT_V}"],["colour","%{BKY_UNIT_V_HUE}","name","%{BKY_UNIT_V_MOTION_DETECT}"],["text","%{BKY_UNIT_V}","web-class","blockly-title--style","callbackKey","unitsDocs","url","v_function"],["text","\u25b6 %{BKY_UNIT_V_MOTION_DEMO}","web-class","blockly-button--style","callbackKey","selected"],["type","v_motion_detect_init","hidden","true"],["type","v_set_detect_threshold"],["name","THRESHOLD"],["type","v_set_detect_mode"],["type","v_get_max_difference"],["type","v_motion_detect_init"],["type","v_get_rate_difference"],["type","v_motion_set_scan_interval"],["type","v_motion_get_track_box_number"],["type","v_motion_get_track_box_detail"],["name","number"],["colour","%{BKY_RGB_HUE}","name","%{BKY_UNIT_V_TARGET_TRACK}"],["text","\u25b6 %{BKY_UNIT_V_TRACK_DEMO}","web-class","blockly-button--style","callbackKey","selected"],["type","v_target_track_init","hidden","true"],["type","v_set_track_coordinate"],["name","width"],["name","height"],["type","lists_getIndex"],["statement","false","at","true"],["name","WHERE"],["type","v_get_target_track_box_detail"],["name","AT"],["type","v_target_track_init"],["colour","%{BKY_EMOJI_HUE}","name","%{BKY_UNIT_V_COLOR_TRACK}"],["text","\u25b6 %{BKY_UNIT_V_COLOR_DEMO}","web-class","blockly-button--style","callbackKey","selected"],["type","v_color_track_init","hidden","true"],["type","v_color_get_track_box_detail"],["type","v_color_get_track_box_number"],["type","v_color_track_init"],["type","v_set_track_color"],["name","Lmin"],["name","Lmax"],["name","Amin"],["name","Amax"],["name","Bmin"],["name","Bmax"],["type","v_color_set_scan_interval"],["type","v_set_merge_threshold"],["name","n"],["type","v_set_threshold"],["colour","%{BKY_UNIT_V_FACE_HUE}","name","%{BKY_UNIT_V_FACE_DETECT}"],["text","\u25b6 %{BKY_UNIT_V_FACE_DEMO}","web-class","blockly-button--style","callbackKey","selected"],["type","v_face_detect_init","hidden","true"],["type","v_get_face_number"],["type","v_get_face_detail"],["type","text_math_split"],["type","math_arithmetic"],["type","v_face_detect_init"],["colour","%{BKY_TEXTS_HUE}","name","%{BKY_UNIT_V_QR_CODE}"],["text","\u25b6 %{BKY_UNIT_V_QR_DEMO}","web-class","blockly-button--style","callbackKey","selected"],["type","v_qr_init","hidden","true"],["type","v_get_qr_version"],["type","v_get_qr_text"],["type","v_qr_init"],["colour","%{BKY_DAC_HUE}","name","%{BKY_UNIT_V_APRILTAG}"],["text","\u25b6 %{BKY_UNIT_V_APRILTAG_DEMO}","web-class","blockly-button--style","callbackKey","selected"],["type","v_apriltag_init","hidden","true"],["type","v_get_apriltag_location"],["type","v_get_apriltag_rotation"],["type","v_get_apriltag_Translation"],["type","v_apriltag_init"],["colour","%{BKY_TIMER_HUE}","name","%{BKY_UNIT_V_BAR_CODE}"],["text","\u25b6 %{BKY_UNIT_V_BAR_DEMO}","web-class","blockly-button--style","callbackKey","selected"],["type","v_bar_init","hidden","true"],["type","v_get_bar_text"],["type","v_get_bar_rotation"],["type","v_get_bar_type"],["type","v_get_bar_location"],["type","v_bar_init"],["colour","%{BKY_PINS_HUE}","name","%{BKY_UNIT_V_DATAMATRIX_CODE}"],["text","\u25b6 %{BKY_UNIT_V_DM_DEMO}","web-class","blockly-button--style","callbackKey","selected"],["type","v_datamatrix_init","hidden","true"],["type","v_get_datamatrix_rotation"],["type","v_get_datamatrix_location"],["type","v_get_datamatrix_text"],["type","v_datamatrix_init"],["colour","%{BKY_MAP_HUE}","name","%{BKY_UNIT_V_LINE_TRACKER}"],["text","\u25b6 %{BKY_UNIT_V_LINE_DEMO}","web-class","blockly-button--style","callbackKey","selected"],["type","v_line_tracker_init","hidden","true"],["type","v_get_angle"],["type","v_line_tracker_init"],["type","v_set_line_color"],["type","v_set_line_area_weight"],["name","weight0"],["name","weight1"],["name","weight2"],["colour","%{BKY_ECHO_STT_HUE}","name","%{BKY_UNIT_V_TAG_READER}"],["text","\u25b6 %{BKY_UNIT_V_TAG_DEMO}","web-class","blockly-button--style","callbackKey","selected"],["type","v_tag_reader_init","hidden","true"],["type","v_get_total_number"],["type","v_get_tag_location"],["type","v_get_code"],["type","v_get_binstr"],["type","v_tag_reader_init"],["colour","%{BKY_UNIT_IMU_HUE}","name","%{BKY_UNIT_IMU}"],["text","%{BKY_UNIT_IMU}","web-class","blockly-title--style","callbackKey","unitsDocs","url","imu"],["type","unit_imu_get_acc_x"],["type","unit_imu_get_acc_y"],["type","unit_imu_get_acc_z"],["type","unit_imu_get_gyr_x"],["type","unit_imu_get_gyr_y"],["type","unit_imu_get_gyr_z"],["colour","%{BKY_UNIT_BPS_HUE}","name","%{BKY_UNIT_BPS}"],["text","%{BKY_UNIT_BPS}","web-class","blockly-title--style","callbackKey","unitsDocs","url","bps"],["text","\u25b6 %{BKY_UNIT_BPS_DEMO_READ}","web-class","blockly-button--style","callbackKey","selected"],["type","bps_get_pressure"],["type","bps_get_temperature"],["colour","%{BKY_LCD_HUE}","name","%{BKY_UNIT_TVOC}"],["text","%{BKY_UNIT_TVOC}","web-class","blockly-title--style","callbackKey","unitsDocs","url","tvoc"],["text","\u25b6 %{BKY_UNIT_TVOC_DEMO_READ}","web-class","blockly-button--style","callbackKey","selected"],["type","tvoc_get_iaq_baseline"],["type","tvoc_get_tvoc"],["type","tvoc_get_eco2"],["type","tvoc_get_h2"],["type","tvoc_get_ethanol"],["type","tvoc_baseline_tvoc"],["type","tvoc_get_baseline_eco2"],["colour","%{BKY_EMOJI_HUE}","name","%{BKY_UNIT_VMETER}"],["text","%{BKY_UNIT_VMETER}","web-class","blockly-title--style","callbackKey","unitsDocs","url","vmeter"],["text","\u25b6 %{BKY_UNIT_VMETER_DEMO_READ}","web-class","blockly-button--style","callbackKey","selected"],["type","text","disabled","true"],["type","vmeter_voltage"],["type","vmeter_set_mode"],["type","vmeter_set_rate"],["type","vmeter_set_gain"],["type","vmeter_raw"],["colour","%{BKY_TIMER_HUE}","name","%{BKY_UNIT_AMETER}"],["text","%{BKY_UNIT_AMETER}","web-class","blockly-title--style","callbackKey","unitsDocs","url","ameter"],["text","\u25b6 %{BKY_UNIT_AMETER_DEMO_READ}","web-class","blockly-button--style","callbackKey","selected"],["type","ameter_current"],["type","ameter_set_mode"],["type","ameter_set_rate"],["type","ameter_set_gain"],["type","ameter_raw"],["colour","%{BKY_MATH_HUE}","name","%{BKY_UNIT_OP}"],["text","OP.90","web-class","blockly-title--style","callbackKey","unitsDocs","url","op90"],["text","OP.180","web-class","blockly-title--style","callbackKey","unitsDocs","url","op180"],["text","\u25b6 %{BKY_UNIT_OP_DEMO_READ}","web-class","blockly-button--style","callbackKey","selected"],["type","op_value"],["colour","%{BKY_LOGIC_HUE}","name","%{BKY_UNIT_HALL}"],["text","%{BKY_UNIT_HALL}","web-class","blockly-title--style","callbackKey","unitsDocs","url","hall"],["text","\u25b6 %{BKY_UNIT_HALL_DEMO_READ}","web-class","blockly-button--style","callbackKey","selected"],["type","hall_value"],["colour","%{BKY_UART_HUE}","name","%{BKY_UNIT_FAN}"],["text","%{BKY_UNIT_FAN}","web-class","blockly-title--style","callbackKey","unitsDocs","url","unit_fan"],["text","\u25b6 %{BKY_UNIT_FAN_DEMO_SET}","web-class","blockly-button--style","callbackKey","selected"],["type","fan_on"],["type","fan_off"],["colour","%{BKY_SERVO_HUE}","name","%{BKY_UNIT_VIBRATOR}"],["text","%{BKY_UNIT_VIBRATOR}","web-class","blockly-title--style","callbackKey","unitsDocs","url","vibrator"],["text","\u25b6 %{BKY_UNIT_VIBRATOR_DEMO_SET}","web-class","blockly-button--style","callbackKey","selected"],["type","vibrator_on"],["type","vibrator_off"],["colour","%{BKY_LCD_HUE}","name","%{BKY_UNIT_LASERTX}"],["text","%{BKY_UNIT_LASERTX}","web-class","blockly-title--style","callbackKey","unitsDocs","url","laser-tx"],["text","\u25b6 %{BKY_UNIT_LASERTX_DEMO_CONTROL}","web-class","blockly-button--style","callbackKey","selected"],["type","lasertx_on"],["type","lasertx_off"],["colour","%{BKY_TEXTS_HUE}","name","%{BKY_UNIT_LASERRX}"],["text","%{BKY_UNIT_LASERRX}","web-class","blockly-title--style","callbackKey","unitsDocs","url","laser-rx"],["text","\u25b6 %{BKY_UNIT_LASERRX_DEMO_RETURN}","web-class","blockly-button--style","callbackKey","selected"],["type","laserrx_get_value"],["colour","%{BKY_FUNCTION_HUE}","name","%{BKY_UNIT_ULTRASONIC}"],["text","%{BKY_UNIT_ULTRASONIC}","web-class","blockly-title--style","callbackKey","unitsDocs","url","sonic"],["text","\u25b6 %{BKY_UNIT_ULTRA_DEMO_READ}","web-class","blockly-button--style","callbackKey","selected"],["type","Ultrasonic_distance"],["colour","%{BKY_EEPROM_HUE}","name","%{BKY_UNIT_WATERING}"],["text","%{BKY_UNIT_WATERING}","web-class","blockly-title--style","callbackKey","unitsDocs","url","watering"],["text","\u25b6 %{BKY_UNIT_WATERING_DEMO_READ}","web-class","blockly-button--style","callbackKey","selected"],["type","watering_get_adc_value"],["type","watering_set_pump_status"],["name","status"],["name","NUM","max","1","step","1"],["name","NUM","min","0","max","1"],["type","watering_set_pump_status_dropdown"],["colour","%{BKY_ECHO_STT_HUE}","name","%{BKY_UNIT_RELAY4}"],["text","%{BKY_UNIT_RELAY4}","web-class","blockly-title--style","callbackKey","unitsDocs","url","4relay"],["type","relay4_get_mode"],["type","relay4_set_mode"],["type","relay4_get_led_status"],["type","relay4_set_led_status"],["name","state"],["type","relay4_get_status"],["type","relay4_set_status"],["colour","%{BKY_MOTOR_HUE}","name","%{BKY_UNIT_DDS}"],["text","%{BKY_UNIT_DDS}","web-class","blockly-title--style","callbackKey","unitsDocs","url","dds"],["text","\u25b6 %{BKY_SINE_SIGNAL}","web-class","blockly-button--style","callbackKey","selected"],["type","dds_set_mode","hidden","true"],["name","mode"],["type","dds_output"],["name","freqnum"],["name","phasenum"],["text","\u25b6 %{BKY_UNIT_DDS_DEMO_OUTPUT}","web-class","blockly-button--style","callbackKey","selected"],["type","dds_quick_output","hidden","true"],["name","freq"],["name","phase"],["type","dds_set_mode"],["type","dds_quick_output"],["type","dds_reset"],["colour","%{BKY_LISTS_HUE}","name","%{BKY_UNIT_UHF_RFID}"],["text","%{BKY_UNIT_UHF_RFID}","web-class","blockly-title--style","callbackKey","unitsDocs","url","uhf_rfid"],["text","\u25b6 %{BKY_GET_CARD_EPC}","web-class","blockly-button--style","callbackKey","selected"],["type","uhf_rfid_single_polling"],["type","text_length"],["type","uhf_rfid_hardware_version"],["type","uhf_rfid_software_version"],["type","uhf_rfid_manufacturer"],["type","uhf_rfid_multiple_polling_start"],["name","counts"],["name","NUM","min","0","max","65535"],["type","uhf_rfid_multiple_polling_read"],["type","uhf_rfid_multiple_polling_stop"],["type","uhf_rfid_select_tag_param"],["name","pointer"],["name","epc"],["type","uhf_rfid_get_select_tag_param"],["type","uhf_rfid_set_select_mode"],["type","uhf_rfid_read_memory_bank"],["name","sa"],["name","data_len"],["name","mem_bank"],["name","access_password"],["type","uhf_rfid_write_memory_bank"],["type","uhf_rfid_inactivated_tag"],["name","kill_password"],["type","uhf_rfid_set_region"],["type","uhf_rfid_get_region"],["type","uhf_rfid_set_channel_freq"],["name","ch_freq"],["type","uhf_rfid_get_channel_freq"],["type","uhf_rfid_enable_automatic_freq_hopping"],["type","uhf_rfid_disabel_automatic_freq_hopping"],["type","uhf_rfid_get_tx_power"],["type","uhf_rfid_set_tx_power"],["name","tx_power"],["type","uhf_rfid_enable_continuous_carrier"],["type","uhf_rfid_disable_continuous_carrier"],["type","uhf_rfid_sleep"],["type","uhf_rfid_wakeup"],["type","uhf_rfid_write_custom_command"],["colour","%{BKY_GPS_HUE}","name","%{BKY_UNIT_CAM}"],["text","%{BKY_UNIT_CAM}","web-class","blockly-title--style","callbackKey","unitsDocs","url","unit_cam"],["text","\u25b6 %{BKY_BTN_CONTROL_CLOUD_MODE}","web-class","blockly-button--style","callbackKey","selected"],["type","button_callback","hidden","true"],["type","unit_cam_set_wifi"],["name","ssid"],["name","pwd"],["type","unit_cam_set_upload_time"],["name","time"],["name","NUM","min","5","max","65536","step","1"],["type","unit_cam_set_mode"],["text","\u25b6 %{BKY_BTN_CONTROL_SHOW_QRCODE}","web-class","blockly-button--style","callbackKey","selected"],["type","unit_cam_get_token"],["type","lcd_qrcode"],["type","unit_cam_get_qrcodeurl"],["name","version"],["name","NUM","min","1","max","10","step","1"],["text","\u25b6 %{BKY_BTN_CONTROL_UART_MODE}","web-class","blockly-button--style","callbackKey","selected"],["type","unit_cam_set_show"],["type","unit_cam_set_size"],["name","size"],["width","509","web-class","blockly-divider-nowidth"],["text","Cloud mode","web-class","blockly-subclass--style"],["name","NUM","min","5","max","65536"],["text","UART mode","web-class","blockly-subclass--style"],["type","unit_cam_set_position"],["text","Command","web-class","blockly-subclass--style"],["type","unit_cam_set_brightness"],["name","brightness"],["name","NUM","min","0","max","1024"],["colour","%{BKY_TEXTS_HUE}","name","%{BKY_UNIT_V2}"],["colour","%{BKY_TEXTS_HUE}","name","%{BKY_UNIT_V2_FACE_DETECTOR}"],["text","%{BKY_UNIT_V2}","web-class","blockly-title--style","callbackKey","unitsDocs","url","unitv2"],["type","v2_face_init"],["type","v2_face_get_number"],["type","v2_face_get_detail"],["colour","%{BKY_MOTOR_HUE}","name","%{BKY_UNIT_V2_OBJECT_RECOGNITION}"],["type","v2_object_init"],["type","v2_object_get_number"],["type","v2_object_get_detail"],["colour","%{BKY_DAC_HUE}","name","%{BKY_UNIT_V2_CODE_DETECTOR}"],["type","v2_code_init"],["type","v2_code_get_number"],["type","v2_code_get_detail"],["colour","%{BKY_MOTOR_HUE}","name","%{BKY_MODULES}"],["colour","%{BKY_FACES_CALCULATOR_HUE}","name","%{BKY_FACES_CALCULATOR}"],["text","%{BKY_FACES_CALCULATOR}","web-class","blockly-title--style","callbackKey","facesDocs","url","calculator"],["text","\u25b6 %{BKY_GET_KEYBOARD_CHARACTER}","web-class","blockly-button--style","callbackKey","selected"],["type","faces_readStr","hidden","true"],["text","\u25b6 %{BKY_GET_KEYBOARD_ASIIC}","web-class","blockly-button--style","callbackKey","selected"],["type","faces_readKey","hidden","true"],["text","\u25b6 %{BKY_CLEAR_CHARACTERS}","web-class","blockly-button--style","callbackKey","selected"],["type","faces_clearStr","hidden","true"],["text","\u25b6 %{BKY_DELETE_BYTE}","web-class","blockly-button--style","callbackKey","selected"],["type","faces_deleteStrLast","hidden","true"],["text","\u25b6 %{BKY_GET_BTN_STATUS}","web-class","blockly-button--style","callbackKey","selected"],["type","faces_isNewKeyPress","hidden","true"],["type","faces_readStr"],["type","faces_readKey"],["type","faces_clearStr"],["type","faces_deleteStrLast"],["type","faces_isNewKeyPress"],["colour","%{BKY_FACES_ENCODE_HUE}","name","%{BKY_FACES_ENCODE}"],["text","%{BKY_FACES_ENCODE}","web-class","blockly-title--style","callbackKey","facesDocs","url","encoder"],["text","\u25b6 %{BKY_SET_LED_COLOR}","web-class","blockly-button--style","callbackKey","selected"],["type","faces_encode_setLed","hidden","true"],["text","\u25b6 %{BKY_RESET_ENCODER}","web-class","blockly-button--style","callbackKey","selected"],["type","faces_encode_clearValue","hidden","true"],["text","\u25b6 %{BKY_GET_ENCODER}","web-class","blockly-button--style","callbackKey","selected"],["type","faces_encode_getValue","hidden","true"],["text","\u25b6 %{BKY_GET_DIRECTION_ROTATION}","web-class","blockly-button--style","callbackKey","selected"],["type","faces_encode_getDir","hidden","true"],["text","\u25b6 %{BKY_RETURN_ENCODER}","web-class","blockly-button--style","callbackKey","selected"],["type","faces_encode_getPress","hidden","true"],["type","faces_encode_setLed"],["type","faces_encode_clearValue"],["type","faces_encode_getValue"],["type","faces_encode_getDir"],["type","faces_encode_getPress"],["colour","%{BKY_FACES_FINGER_HUE}","name","%{BKY_FACES_FINGER}"],["text","%{BKY_FACES_FINGER}","web-class","blockly-title--style","callbackKey","facesDocs","url","finger"],["text","\u25b6 %{BKY_FACES_FINGER_DEMO_GET}","web-class","blockly-button--style","callbackKey","selected"],["type","faces_finger_get_state"],["type","faces_finger_get_access"],["type","faces_finger_get_id"],["type","faces_finger_removeAll"],["type","faces_finger_remove_user"],["type","faces_finger_add_user"],["type","faces_finger_read"],["type","faces_finger_getUnknown"],["colour","%{BKY_FACES_GAMEBOY_HUE}","name","%{BKY_FACES_GAMEBOY}"],["text","%{BKY_FACES_GAMEBOY}","web-class","blockly-title--style","callbackKey","facesDocs","url","gameboy"],["text","\u25b6 %{BKY_GAMEBOY_DEMO_GET}","web-class","blockly-button--style","callbackKey","selected"],["type","faces_gameboy_getStatus"],["name","key"],["type","faces_gameboy_getPressed"],["colour","%{BKY_FACES_JOYSTICK_HUE}","name","%{BKY_FACES_JOYSTICK}"],["text","%{BKY_FACES_JOYSTICK}","web-class","blockly-title--style","callbackKey","facesDocs","url","joystick"],["text","\u25b6 %{BKY_JOYSTICK_DEMO_READ}","web-class","blockly-button--style","callbackKey","selected"],["type","faces_joystick_x"],["type","faces_joystick_y"],["type","faces_joystick_press"],["type","faces_joystick_invert_x"],["type","faces_joystick_invert_y"],["type","faces_joystick_setLed"],["name","NUM","min","0","max","3"],["colour","%{BKY_FACES_KEYBOARD_HUE}","name","%{BKY_FACES_KEYBOARD}"],["text","%{BKY_FACES_KEYBOARD}","web-class","blockly-title--style","callbackKey","facesDocs","url","keyboard"],["text","\u25b6 %{BKY_KEYBOARD_DEMO_RETURN}","web-class","blockly-button--style","callbackKey","selected"],["type","faces_keyboard_isNewKeyPress"],["type","faces_keyboard_readStr"],["type","faces_keyboard_clearStr"],["type","faces_keyboard_deleteStrLast"],["type","faces_keyboard_readKey"],["colour","%{BKY_FACES_RFID_HUE}","name","%{BKY_FACES_RFID}"],["text","%{BKY_FACES_RFID}","web-class","blockly-title--style","callbackKey","facesDocs","url","rfid"],["text","\u25b6 %{BKY_RFID_DEMO_RETURN}","web-class","blockly-button--style","callbackKey","selected"],["type","faces_rfid_cardOn"],["type","faces_rfid_uid"],["type","faces_rfid_readStr"],["type","faces_write_block"],["colour","%{BKY_SPEAKER_HUE}","name","%{BKY_LIDARBAR}"],["type","lidarcar_setrgb"],["type","lidarcar_setOnergb"],["type","lidarcar_goahead"],["type","lidarcar_setStepMotor"],["name","NUM2"],["name","NUM3"],["type","lidarcar_setServo"],["type","lidarcar_control"],["name","NUMX"],["name","NUMY"],["type","lidarcar_drawMap"],["type","lidarcar_getdistance"],["name","NUY"],["colour","%{BKY_TIMER_HUE}","name","%{BKY_LORAWAN}"],["colour","%{BKY_TIMER_HUE}","name","P2P"],["text","%{BKY_LORAWAN}","web-class","blockly-title--style","callbackKey","modulesDocs","url","lorawan"],["text","\u25b6 %{BKY_LORAWAN_SET_FREQUENCY}","web-class","blockly-button--style","callbackKey","selected"],["type","lorawan_initp2p","hidden","true"],["text","\u25b6 %{BKY_LORAWAN_SEND_DATA}","web-class","blockly-button--style","callbackKey","selected"],["type","lorawan_txt","hidden","true"],["text","\u25b6 %{BKY_LORAWAN_RECEIVE_DATA}","web-class","blockly-button--style","callbackKey","selected"],["type","lorawan_initrx","hidden","true"],["type","lorawan_data"],["type","lorawan_initrx"],["type","lorawan_initp2p"],["type","lorawan_txt"],["colour","%{BKY_LCD_HUE}","name","Network"],["type","lorawan_network_reset"],["type","lorawan_network_reset_default"],["type","lorawan_network_get_devaddr"],["type","lorawan_network_set_devaddr"],["name","devaddr"],["type","lorawan_network_get_deveui"],["type","lorawan_network_set_deveui"],["name","deveui"],["type","lorawan_network_get_appeui"],["type","lorawan_network_set_appeui"],["name","appeui"],["type","lorawan_network_set_appkey"],["name","AppKey"],["type","lorawan_network_set_appsessionkey"],["name","AppSKey"],["type","lorawan_network_set_nwkskey"],["name","NWKSKEY"],["type","lorawan_network_set_mode"],["type","lorawan_network_get_band_plan"],["type","lorawan_network_set_band_plan"],["type","lorawan_network_get_datarate"],["type","lorawan_network_set_datarate"],["name","datarate"],["name","NUM","min","0","max","15"],["type","lorawan_network_set_default_datarate"],["type","lorawan_network_get_channel_frequency"],["name","ch_id"],["name","NUM","min","0","max","95"],["type","lorawan_network_set_channel_frequency"],["type","lorawan_network_del_channel_frequency"],["type","lorawan_network_get_enable_channels"],["type","lorawan_network_enable_channels"],["type","lorawan_network_get_adaptive_status"],["type","lorawan_network_set_adaptive_status"],["type","lorawan_network_get_class_mode"],["type","lorawan_network_set_class_mode"],["type","lorawan_network_set_tx_power"],["name","power"],["type","lorawan_network_join"],["type","lorawan_network_get_port"],["type","lorawan_network_set_port"],["name","port"],["name","NUM","min","0","max","233"],["type","lorawan_network_send_confirm_msg"],["name","msg"],["type","lorawan_network_send_unconfirm_msg"],["type","lorawan_network_send_confirm_hex_msg"],["type","lorawan_network_send_unconfirm_hex_msg"],["type","lorawan_network_get_downlink_msg"],["type","lorawan_network_get_downlink_status"],["type","lorawan_network_set_unconfirmed_repeat_time"],["name","times"],["type","lorawan_network_set_confirmed_repeat_time"],["type","lorawan_network_get_rxwin2_config"],["type","lorawan_network_set_rxwin2_daterate"],["type","lorawan_network_set_rxwin2_spreadfactor"],["name","sf"],["name","bw"],["type","lorawan_network_get_rxwin1_config"],["type","lorawan_network_set_rxwin1_channel_frequency"],["type","lorawan_network_go_to_sleep"],["type","lorawan_network_wakeup"],["colour","%{BKY_MOTOR_HUE}","name","%{BKY_STEP_MOTOR}"],["text","%{BKY_STEP_MOTOR}","web-class","blockly-title--style","callbackKey","modulesDocs","url","stepmotor"],["text","\u25b6 %{BKY_STEP_MOTOR_SET_ADDRESS}","web-class","blockly-button--style","callbackKey","selected"],["type","motor_instance","hidden","true"],["text","\u25b6 %{BKY_STEP_MOTOR_SET_MOTOR}","web-class","blockly-button--style","callbackKey","selected"],["type","motor_move_xyz","hidden","true"],["name","Z"],["name","SPEED"],["text","\u25b6 %{BKY_STEP_MOTOR_RUN_CODE}","web-class","blockly-button--style","callbackKey","selected"],["type","motor_g_code","hidden","true"],["text","\u25b6 %{BKY_STEP_MOTOR_SET_MODE}","web-class","blockly-button--style","callbackKey","selected"],["type","motor_set_mode","hidden","true"],["text","\u25b6 %{BKY_STEP_MOTOR_LOCK_MOTOR}","web-class","blockly-button--style","callbackKey","selected"],["type","motor_lock","hidden","true"],["text","\u25b6 %{BKY_STEP_MOTOR_UNLOCK_MOTOR}","web-class","blockly-button--style","callbackKey","selected"],["type","motor_unlock","hidden","true"],["type","motor_instance"],["type","motor_move_xyz"],["type","motor_g_code"],["type","motor_set_mode"],["type","motor_lock"],["type","motor_unlock"],["text","%{BKY_SERVO}","web-class","blockly-title--style","callbackKey","modulesDocs","url","servo"],["text","\u25b6 %{BKY_SERVO_DEMO_SET}","web-class","blockly-button--style","callbackKey","selected"],["type","servo_angle"],["type","servo_write"],["colour","%{BKY_LISTS_HUE}","name","%{BKY_SERVO2}"],["text","%{BKY_SERVO2}","web-class","blockly-title--style","callbackKey","modulesDocs","url","servo2"],["text","\u25b6 %{BKY_SERVO2_DEMO_SET}","web-class","blockly-button--style","callbackKey","selected"],["type","servo2_position"],["name","NUM","max","15","step","1"],["name","DEGREES"],["name","NUM","max","180","step","1"],["type","servo2_release"],["colour","260","name","%{BKY_BALA}"],["text","%{BKY_BALA}","web-class","blockly-title--style","callbackKey","modulesDocs","url","bala"],["text","\u25b6 %{BKY_BALA_SET_MOTOR}","web-class","blockly-button--style","callbackKey","selected"],["type","m5bala_move","hidden","true"],["text","\u25b6 %{BKY_BALA_SET_NUMBER}","web-class","blockly-button--style","callbackKey","selected"],["type","m5bala_turn","hidden","true"],["text","\u25b6 %{BKY_BALA_SET_DEGREE}","web-class","blockly-button--style","callbackKey","selected"],["type","m5bala_rotate","hidden","true"],["text","\u25b6 %{BKY_BALA_RETURN_ANGLE}","web-class","blockly-button--style","callbackKey","selected"],["type","m5bala_get_angle","hidden","true"],["text","\u25b6 %{BKY_BALA_SET_OFFSET}","web-class","blockly-button--style","callbackKey","selected"],["type","m5bala_set_offset","hidden","true"],["text","\u25b6 %{BKY_BALA_AUTO_BALANCE}","web-class","blockly-button--style","callbackKey","selected"],["type","m5bala_loop","hidden","true"],["type","m5bala_move"],["type","m5bala_turn"],["type","m5bala_rotate"],["type","m5bala_get_angle"],["type","m5bala_set_offset"],["type","m5bala_loop"],["colour","%{BKY_NXT_MOTOR_HUE}","name","%{BKY_BALA_MOTOR}"],["text","%{BKY_BALA_MOTOR}","web-class","blockly-title--style","callbackKey","modulesDocs","url","bala-motor"],["text","\u25b6 %{BKY_BALAMOTOR_DEMO_SET}","web-class","blockly-button--style","callbackKey","selected"],["type","nxt_run","hidden","true"],["name","DIRECTION"],["name","DISTANCE"],["type","nxt_set_pwm"],["type","nxt_run"],["type","nxt_run_goto"],["type","nxt_stop"],["type","nxt_read_encoder"],["colour","%{BKY_LEGO_MOTOR_HUE}","name","%{BKY_LEGO_MOTOR}"],["text","%{BKY_LEGO_MOTOR}","web-class","blockly-title--style","callbackKey","modulesDocs","url","lego"],["type","lego_set_pwm"],["name","PWM"],["type","lego_stop"],["type","lego_clear"],["type","lego_read_encoder"],["colour","%{BKY_PW2_5_HUE}","name","%{BKY_PM_2_5}"],["text","%{BKY_PM_2_5}","web-class","blockly-title--style","callbackKey","modulesDocs","url","pm25"],["text","\u25b6 %{BKY_PM25_DEMO_READ}","web-class","blockly-button--style","callbackKey","selected"],["type","get_num_above"],["name","select"],["type","get_pm_factory"],["colour","%{BKY_CELLULAR_HUE}","name","%{BKY_CELLULAR}"],["type","Cellular_writeAT"],["name","cmd"],["type","Cellular_waitResponse"],["type","Cellular_getResponse"],["type","Cellular_testAT"],["type","Cellular_restart"],["type","Cellular_getSimState"],["type","Cellular_init"],["type","Cellular_gprsConnect"],["name","apn"],["name","user"],["type","Cellular_connect"],["name","host"],["type","Cellular_send"],["type","Cellular_send_line"],["type","Cellular_getAvailable"],["type","Cellular_read"],["type","Cellular_connected"],["type","Cellular_getLocalIP"],["type","Cellular_gprsDisconect"],["type","Cellular_getNetworkState"],["colour","%{BKY_BASEX_HUE}","name","%{BKY_BASEX}"],["text","%{BKY_BASEX}","web-class","blockly-title--style","callbackKey","modulesDocs","url","basex"],["text","\u25b6 %{BKY_BASEX_DEMO_SET}","web-class","blockly-button--style","callbackKey","selected"],["type","basex_get_encoder"],["type","basex_set_position_pid_max_speed"],["type","basex_set_speed_point"],["type","basex_set_mode"],["type","basex_set_encoder"],["type","basex_set_motor_speed"],["type","basex_get_speed_20ms"],["type","basex_set_position_point"],["type","basex_run_ahead"],["type","basex_set_servo_angle"],["type","basex_set_servo_pulse"],["colour","%{BKY_PLUS_HUE}","name","%{BKY_PLUS}"],["text","%{BKY_PLUS}","web-class","blockly-title--style","callbackKey","modulesDocs","url","plus"],["text","\u25b6 %{BKY_PLUS_DEMO_READ}","web-class","blockly-button--style","callbackKey","selected"],["type","plus_get_encode"],["type","plus_get_press"],["type","plus_clean_encode"],["colour","%{BKY_GO_PLUS_HUE}","name","%{BKY_GO_PLUS}"],["text","%{BKY_GO_PLUS}","web-class","blockly-title--style","callbackKey","modulesDocs","url","goplus"],["text","\u25b6 %{BKY_GOPLUS_DEMO_READ}","web-class","blockly-button--style","callbackKey","selected"],["type","go_plus_set_motor_speed","hidden","true"],["type","go_plus_digital_read"],["type","go_plus_analog_read"],["type","go_plus_set_servo"],["type","go_plus_set_motor_speed"],["colour","%{BKY_LOGIC_HUE}","name","%{BKY_GO_PLUS2}"],["text","%{BKY_GO_PLUS2}","web-class","blockly-title--style","callbackKey","modulesDocs","url","goplus2"],["type","go_plus2_set_servo_angle"],["type","go_plus2_set_servo_plus"],["name","plus"],["type","go_plus2_set_motor_speed"],["type","go_plus2_digital_read"],["type","go_plus2_analog_read"],["type","go_plus2_digital_write"],["colour","%{BKY_GPS_HUE}","name","%{BKY_GPS}"],["text","%{BKY_GPS}","web-class","blockly-title--style","callbackKey","modulesDocs","url","gps"],["text","\u25b6 %{BKY_GPS_DEMO_READ}","web-class","blockly-button--style","callbackKey","selected"],["type","gps_get_latitude"],["type","gps_get_longitude"],["type","gps_set_custom"],["name","TX"],["name","RX"],["type","gps_get_state"],["type","gps_get_satellite_num"],["type","gps_get_positioning_quality"],["type","gps_get_speed"],["type","gps_get_course"],["type","gps_set_time_zone"],["name","ZONE"],["colour","%{BKY_PINS_HUE}","name","%{BKY_GRBL}"],["text","%{BKY_GRBL}","web-class","blockly-title--style","callbackKey","modulesDocs","url","grbl13.2"],["text","\u25b6 %{BKY_GRBL_CONTROL_MOTOR}","web-class","blockly-button--style","callbackKey","selected"],["type","grbl_set_mode","hidden","true"],["type","grbl_turn"],["name","z"],["width","432","web-class","blockly-divider-nowidth"],["text","Init","web-class","blockly-subclass--style"],["type","grbl_set_mode"],["text","Motor","web-class","blockly-subclass--style"],["type","grbl_read_idle"],["type","grbl_wait_idle"],["type","grbl_lock_motor"],["type","grbl_unlock_motor"],["text","G-code","web-class","blockly-subclass--style"],["type","grbl_g_code"],["name","code"],["type","grbl_read_line"],["type","grbl_read_clean"],["text","Limit","web-class","blockly-subclass--style"],["type","grbl_unlock"],["type","grbl_in_lock"],["colour","%{BKY_EEPROM_HUE}","name","%{BKY_COMX}"],["colour","%{BKY_LISTS_HUE}","name","%{BKY_LORAWAN470}"],["text","%{BKY_LORAWAN470}","web-class","blockly-title--style","callbackKey","comxDocs","url","comx_lorawan470"],["type","lorawan470_init","hidden","true"],["name","tx"],["name","rx"],["type","lorawan470_config_otaa"],["name","appkey"],["type","lorawan470_frequency_band_mask"],["name","channel"],["type","lorawan470_set_rx_window_param"],["name","rx2_dr"],["name","rx1_offset"],["name","rx2_freq"],["type","lorawan470_set_class_mode"],["name","class_mode"],["type","lorawan470_set_uplink_mode"],["type","lorawan470_join"],["name","para1"],["name","para2"],["name","para3"],["name","NUM","min","7","max","255","step","1"],["name","para4"],["name","NUM","min","1","max","256","step","1"],["type","logic_boolean"],["name","BOOL"],["type","logic_negate"],["type","lorawan470_check_join_status"],["type","lorawan470_send_data"],["isconfirm","true"],["name","confirmOP"],["name","payload"],["name","nbtrials"],["name","NUM","min","1","max","15"],["type","lorawan470_check_downlink_data"],["type","lorawan470_init"],["type","lorawan470_config_abp"],["name","appskey"],["name","nwkskey"],["type","lorawan470_get_abp_config"],["type","lorawan470_get_otaa_config"],["name","NUM","min","7","max","255"],["name","NUM","min","1","max","256"],["type","lorawan470_set_uplink_app_port"],["name","NUM","min","1","max","233"],["type","lorawan470_check_sent_status"],["colour","%{BKY_PINS_HUE}","name","%{BKY_LORAWAN915}"],["text","%{BKY_LORAWAN915}","web-class","blockly-title--style","callbackKey","comxDocs","url","comx_lorawan915"],["type","lorawan915_init","hidden","true"],["type","lorawan915_config_otaa"],["type","lorawan915_frequency_band_mask"],["type","lorawan915_set_rx_window_param"],["type","lorawan915_set_class_mode"],["type","lorawan915_set_uplink_mode"],["type","lorawan915_join"],["type","lorawan915_check_join_status"],["type","lorawan915_send_data"],["type","lorawan915_check_downlink_data"],["type","lorawan915_init"],["type","lorawan915_config_abp"],["type","lorawan915_get_abp_config"],["type","lorawan915_get_otaa_config"],["type","lorawan915_set_uplink_app_port"],["type","lorawan915_check_sent_status"],["colour","%{BKY_HAT_HUE}","name","%{BKY_COMLTE}"],["text","%{BKY_COMLTE}","web-class","blockly-title--style","callbackKey","comxDocs","url","comx_lte"],["text","\u25b6 %{BKY_COMLTE_SET_HTTP_GET}","web-class","blockly-button--style","callbackKey","selected"],["type","comlte_init","hidden","true"],["type","comlte_check_status"],["type","comlte_check_single_quality"],["type","comlte_check_network_registration"],["type","comlte_check_gprs_network_registration"],["type","comlte_http_get"],["pinned","false","h","80","w","160"],["name","url"],["text","\u25b6 %{BKY_COMLTE_SET_HTTP_POST}","web-class","blockly-button--style","callbackKey","selected"],["type","map_on_loop"],["type","create_map_key"],["type","comlte_http_post"],["name","type"],["type","dumps_json"],["name","JSON_VAR"],["type","get_map_key"],["name","map"],["type","loads_json"],["width","1131","web-class","blockly-divider-nowidth"],["type","comlte_init"],["type","comlte_power_down_module"],["type","comlte_reset_module"],["type","comlte_enable_pdp_context"],["text","HTTP(S) request methods","web-class","blockly-subclass--style"],["type","comlte_http_terminate"],["colour","%{BKY_PWM_HUE}","name","%{BKY_NBIOT}"],["text","%{BKY_NBIOT}","web-class","blockly-title--style","callbackKey","comxDocs","url","comx_nb-iot"],["text","\u25b6 %{BKY_NBIOT_DEMO_SET}","web-class","blockly-button--style","callbackKey","selected"],["type","nbiot_init","hidden","true"],["type","nbiot_coap_connect"],["name","ip"],["type","nbiot_coap_get"],["isToken","false"],["name","tokenChoose"],["type","nbiot_coap_post"],["name","format"],["type","nbiot_coap_put"],["width","952","web-class","blockly-divider-nowidth"],["type","nbiot_init"],["type","nbiot_power_down_module"],["type","nbiot_reset_module"],["type","nbiot_check_status"],["type","nbiot_check_single_quality"],["type","nbiot_check_network_registration"],["type","nbiot_check_gprs_network_registration"],["type","nbiot_enable_pdp_context"],["text","%{BKY_NBIOT_COAP_TITLE}","web-class","blockly-subclass--style"],["type","nbiot_coap_destroy"],["text","%{BKY_NBIOT_MQTT_TITLE}","web-class","blockly-subclass--style"],["type","nbiot_mqtt_connect"],["name","server"],["name","client_id"],["name","username"],["name","passwd"],["name","keepalive"],["type","nbiot_mqtt_disconnect"],["type","nbiot_mqtt_sub"],["name","topic"],["name","qos"],["type","nbiot_mqtt_sub_cb"],["type","nbiot_mqtt_unsubscribe"],["type","nbiot_mqtt_publish"],["type","nbiot_mqtt_check_connection"],["type","nbiot_mqtt_poll"],["colour","%{BKY_HAT_HUE}","name","%{BKY_HAT}"],["colour","%{BKY_HAT_ENV_HUE}","name","%{BKY_HAT_ENV}"],["text","%{BKY_HAT_ENV}","web-class","blockly-title--style","callbackKey","hatDocs","url","env"],["text","\u25b6 %{BKY_HAT_ENV_READ_VALUE}","web-class","blockly-button--style","callbackKey","selected"],["type","hat_env_get_temperature"],["type","hat_env_get_humidity"],["type","hat_env_pressure"],["colour","%{BKY_HAT_PIR_SERVO_HUE}","name","%{BKY_HAT_PIR}"],["text","%{BKY_HAT_PIR}","web-class","blockly-title--style","callbackKey","hatDocs","url","pir"],["text","\u25b6 %{BKY_HAT_PIR_RETURN_STATUS}","web-class","blockly-button--style","callbackKey","selected"],["type","hat_pir_read"],["colour","%{BKY_HAT_SPEAKER_HUE}","name","%{BKY_HAT_SPK}"],["text","%{BKY_HAT_SPK}","web-class","blockly-title--style","callbackKey","hatDocs","url","spk"],["text","\u25b6 %{BKY_HAT_SPK_OUTPUT}","web-class","blockly-button--style","callbackKey","selected"],["type","hat_speaker_sing","hidden","true"],["name","TONE"],["name","BEAT"],["type","hat_speaker_sing"],["type","hat_speaker_tone"],["name","TIMEOUT"],["type","hat_speaker_vol"],["name","VOLUME"],["colour","%{BKY_HAT_NCIR_HUE}","name","%{BKY_HAT_NCIR}"],["text","%{BKY_HAT_NCIR}","web-class","blockly-title--style","callbackKey","hatDocs","url","ncir"],["text","\u25b6 %{BKY_HAT_NCIR_READ_VALUE}","web-class","blockly-button--style","callbackKey","selected"],["type","hat_ncir_read"],["colour","%{BKY_HAT_ADC_HUE}","name","%{BKY_HAT_ADC}"],["text","%{BKY_HAT_ADC}","web-class","blockly-title--style","callbackKey","hatDocs","url","adc"],["text","\u25b6 %{BKY_HAT_ADC_READ}","web-class","blockly-button--style","callbackKey","selected"],["type","hat_adc_state"],["colour","%{BKY_HAT_DAC_HUE}","name","%{BKY_HAT_DAC}"],["text","%{BKY_HAT_DAC}","web-class","blockly-title--style","callbackKey","hatDocs","url","dac"],["text","\u25b6 %{BKY_HAT_DAC_OUTPUT}","web-class","blockly-button--style","callbackKey","selected"],["type","hat_dac_state","hidden","true"],["type","hat_dac_state"],["type","hat_dac_writeData"],["colour","%{BKY_HAT_YUN_HUE}","name","%{BKY_HAT_YUN}"],["text","%{BKY_HAT_YUN}","web-class","blockly-title--style","callbackKey","hatDocs","url","yun"],["text","\u25b6 %{BKY_HAT_YUN_READ_VALUE}","web-class","blockly-button--style","callbackKey","selected"],["type","get_hat_yun_temperature"],["type","get_hat_yun_humidity"],["type","get_hat_yun_pressure"],["type","get_hat_yun_brightness"],["type","yun_hat_set_color"],["type","yun_hat_set_color_all"],["colour","%{BKY_HAT_SERVO_HUE}","name","%{BKY_HAT_SERVO}"],["text","%{BKY_HAT_SERVO}","web-class","blockly-title--style","callbackKey","hatDocs","url","servo"],["text","\u25b6 %{BKY_HAT_SERVO_RUN}","web-class","blockly-button--style","callbackKey","selected"],["type","servo_hat_write"],["type","servo_hat_angle"],["colour","%{BKY_HAT_SERVOS_HUE}","name","%{BKY_HAT_SERVOS}"],["text","%{BKY_HAT_SERVOS}","web-class","blockly-title--style","callbackKey","hatDocs","url","8servos"],["type","hat_servos_angle"],["type","hat_servos_write"],["type","servos_set_all"],["type","servos_set_all_rgb"],["colour","%{BKY_HAT_PUPPY_HUE}","name","%{BKY_HAT_PUPPY}"],["text","%{BKY_HAT_PUPPY}","web-class","blockly-title--style","callbackKey","hatDocs","url","puppyc"],["text","\u25b6 %{BKY_HAT_PUPPYC_MOVE}","web-class","blockly-button--style","callbackKey","selected"],["type","hat_puppy_all_angle"],["name","zero"],["name","one"],["name","two"],["name","three"],["type","hat_puppy_angle"],["colour","%{BKY_HAT_JOYSTICK_HUE}","name","%{BKY_HAT_JOYSTICK}"],["text","%{BKY_HAT_JOYSTICK}","web-class","blockly-title--style","callbackKey","hatDocs","url","joystick"],["text","\u25b6 %{BKY_HAT_JOYSTICK_READ}","web-class","blockly-button--style","callbackKey","selected"],["type","hat_joystick_x"],["type","hat_joystick_y"],["type","hat_joystick_press"],["type","hat_joystick_reversal_x"],["type","hat_joystick_reversal_y"],["colour","%{BKY_HAT_BUGC_HUE}","name","%{BKY_HAT_BUGC}"],["text","%{BKY_HAT_BUGC}","web-class","blockly-title--style","callbackKey","hatDocs","url","bugc"],["text","\u25b6 %{BKY_HAT_BUGC_SETUP}","web-class","blockly-button--style","callbackKey","selected"],["type","hat_bugc_set_all_pulse"],["name","num1"],["name","num2"],["name","num3"],["name","num4"],["type","hat_bugc_rgb_set_all_rgb"],["type","hat_bugc_set_pulse"],["type","hat_bugc_rgb_set_all"],["type","hat_bugc_rgb_set_all2"],["colour","%{BKY_HAT_FINGER_HUE}","name","%{BKY_HAT_FINGER}"],["text","%{BKY_HAT_FINGER}","web-class","blockly-title--style","callbackKey","hatDocs","url","finger"],["text","\u25b6 %{BKY_HAT_FINGER_DEMO_READ}","web-class","blockly-button--style","callbackKey","selected"],["type","hat_finger_read","hidden","true"],["type","hat_finger_get_access"],["type","hat_finger_get_id"],["type","screen_set_bgcolor"],["type","hat_finger_get_state"],["type","hat_finger_removeAll"],["type","hat_finger_remove_user"],["type","hat_finger_add_user"],["type","hat_finger_read"],["type","hat_finger_getUnknown"],["colour","%{BKY_HAT_BEETLEC_HUE}","name","%{BKY_HAT_BEETLEC}"],["text","%{BKY_HAT_BEETLEC}","web-class","blockly-title--style","callbackKey","hatDocs","url","beetlec"],["text","\u25b6 %{BKY_HAT_BEETLEC_SETUP}","web-class","blockly-button--style","callbackKey","selected"],["type","set_beetleC_wheel_speed"],["name","direction"],["type","beetleC_hat_set_color_all"],["type","beetleC_hat_set_color"],["colour","%{BKY_HAT_JOYC_HUE}","name","%{BKY_HAT_JOYC}"],["text","%{BKY_HAT_JOYC}","web-class","blockly-title--style","callbackKey","hatDocs","url","joyc"],["text","\u25b6 %{BKY_HAT_JOYC_READ}","web-class","blockly-button--style","callbackKey","selected"],["type","hat_joyc_get_x"],["name","SIDE"],["type","hat_joyc_get_y"],["type","hat_joyc_get_angle"],["type","hat_joyc_get_distance"],["type","hat_joyc_get_press"],["type","hat_joyc_set_led_color"],["colour","%{BKY_HAT_ROVERC_HUE}","name","%{BKY_HAT_ROVERC}"],["text","%{BKY_HAT_ROVERC}","web-class","blockly-title--style","callbackKey","hatDocs","url","roverc"],["text","\u25b6 %{BKY_HAT_ROVERC_RUN}","web-class","blockly-button--style","callbackKey","selected"],["type","hat_roverc_set_all_pulse"],["name","PULSE0"],["name","PULSE1"],["name","PULSE2"],["name","PULSE3"],["type","hat_roverc_set_speed"],["type","hat_roverc_set_pulse"],["name","PULSE"],["type","hat_roverc_set_servo_angle"],["type","hat_roverc_set_servo_pulse"],["colour","%{BKY_HAT_TOF_HUE}","name","%{BKY_HAT_TOF}"],["text","%{BKY_HAT_TOF}","web-class","blockly-title--style","callbackKey","hatDocs","url","tof"],["text","\u25b6 %{BKY_HAT_TOF_READ}","web-class","blockly-button--style","callbackKey","selected"],["type","hat_tof_get_distance"],["colour","%{BKY_HAT_THERMAL_HUE}","name","%{BKY_HAT_THERMAL}"],["text","%{BKY_HAT_THERMAL}","web-class","blockly-title--style","callbackKey","hatDocs","url","thermal"],["text","\u25b6 %{BKY_HAT_THERMAL_READ}","web-class","blockly-button--style","callbackKey","selected"],["type","hat_thermal_update"],["name","SHOW"],["name","SHOWCENTER"],["type","hat_thermal_get_center_temperature"],["type","hat_thermal_get_max_temperature"],["type","hat_thermal_get_min_temperature"],["type","hat_thermal_get_temperature"],["type","hat_thermal_set_max_visible_temperature"],["name","TEMP"],["type","hat_thermal_set_min_visible_temperature"],["colour","%{BKY_HAT_CARDKB_HUE}","name","%{BKY_HAT_CARDKB}"],["text","%{BKY_HAT_CARDKB}","web-class","blockly-title--style","callbackKey","hatDocs","url","cardkb"],["text","\u25b6 %{BKY_HAT_CARDKB_READ_VALUE}","web-class","blockly-button--style","callbackKey","selected"],["type","hat_cardkb_get_key"],["type","hat_cardkb_get_string"],["type","hat_cardkb_get_pressed"],["colour","%{BKY_HAT_ADC_HUE}","name","%{BKY_HAT_ENV2}"],["text","%{BKY_HAT_ENV2}","web-class","blockly-title--style","callbackKey","hatDocs","url","envII"],["text","\u25b6 %{BKY_HAT_EVN2_READ_VALUE}","web-class","blockly-button--style","callbackKey","selected"],["type","hat_env2_pressure"],["type","hat_env2_get_temperature"],["type","hat_env2_get_humidity"],["colour","%{BKY_TIMER_HUE}","name","%{BKY_IOTCLOUD}"],["colour","%{BKY_AZURE_HUE}","name","%{BKY_AZURE}"],["text","%{BKY_AZURE}","web-class","blockly-title--style","callbackKey","iotDocs","url","azure"],["text","IoT Hub","web-class","blockly-subclass--style"],["type","azure_init_iothub"],["name","connection"],["text","IoT Central","web-class","blockly-subclass--style"],["type","azure_init_central"],["name","scope_id"],["name","device_id"],["name","device_key"],["type","azure_start"],["type","azure_sub"],["type","azure_publish"],["name","MSG"],["type","azure_sub_direct"],["name","content"],["type","azure_sub_twin_desired"],["type","azure_update_property"],["type","azure_retrieve_twin_property"],["colour","%{BKY_AWS_HUE}","name","%{BKY_AWS}"],["type","aws_init"],["name","things_name"],["type","aws_start"],["type","aws_sub"],["type","aws_publish"],["type","aws_get_topic_data"],["colour","%{BKY_TENCENT_HUE}","name","%{BKY_TENCENT}"],["text","%{BKY_TENCENT}","web-class","blockly-title--style","callbackKey","iotDocs","url","tencent"],["type","tencent_init"],["name","productid"],["name","devicename"],["name","sceret"],["type","tencent_start"],["type","tencent_sub"],["type","tencent_get_topic_data"],["type","tencent_publish"],["type","tencent_sub_msg"],["type","tencent_get_property_topic_data"],["type","tencent_publish_property_msg"],["colour","%{BKY_IOT_BLYNK_HUE}","name","%{BKY_IOT_BLYNK}"],["text","%{BKY_IOT_BLYNK}","web-class","blockly-title--style","callbackKey","iotDocs","url","blynk"],["type","iot_blynk_init"],["name","token"],["type","iot_blynk_init_customer"],["name","heartbeat"],["type","iot_blynk_disconnect"],["type","iot_blynk_email"],["name","to"],["name","subject"],["name","body"],["type","iot_blynk_tweet"],["type","iot_blynk_notify"],["type","iot_blynk_set_property"],["name","v_pin"],["name","property_name"],["type","iot_blynk_virtual_write"],["type","iot_blynk_virtual_sync"],["type","iot_blynk_event_write"],["type","iot_blynk_event_read"],["type","iot_blynk_run"],["gap","64"],["name","%{BKY_VARIABLES}","colour","%{BKY_VARIABLES_HUE}","custom","VARIABLE"],["colour","%{BKY_MATH_HUE}","name","%{BKY_MATH}"],["text","%{BKY_MATH}","web-class","blockly-title--style","callbackKey","dataStructureDocs","url","operation"],["type","math_arithmetic_arr"],["type","math_bit_operation"],["type","math_constant"],["type","math_modulo"],["type","math_number_property"],["type","math_on_list"],["type","math_random_float"],["type","math_round"],["type","math_single"],["type","math_trig"],["type","convent_int"],["type","convent_float"],["type","math_get_bit"],["type","math_set_bit"],["type","math_clear_bit"],["type","math_reverse_bit"],["type","math_int_from_bytes"],["colour","%{BKY_LOOPS_HUE}","name","%{BKY_LOOPS}"],["text","%{BKY_LOOPS}","web-class","blockly-title--style","callbackKey","logicDocs","url","loop"],["type","controls_repeat"],["type","controls_whileUntil"],["type","controls_forEach"],["type","controls_flow_statements"],["colour","%{BKY_LOGIC_HUE}","name","%{BKY_LOGIC}"],["text","%{BKY_LOGIC}","web-class","blockly-title--style","callbackKey","logicDocs","url","logic"],["type","logic_try_except"],["type","logic_null"],["type","logic_ternary"],["type","logic_switch"],["colour","%{BKY_LCD_HUE}","name","%{BKY_GRAPHIC}","custom","GRAPHIC"],["colour","%{BKY_EMOJI_HUE}","name","%{BKY_EMOJI}"],["text","%{BKY_EMOJI}","web-class","blockly-title--style","callbackKey","logicDocs","url","emoji"],["type","emoji_show"],["type","emoji_set_single"],["type","emoji_change"],["colour","%{BKY_TIMER_HUE}","name","%{BKY_TIMER}"],["type","timer_get_ms"],["colour","%{BKY_FUNCTION_HUE}","name","%{BKY_FUNCTIONS}","custom","PROCEDURE"],["colour","%{BKY_TEXTS_HUE}","name","%{BKY_TEXT}"],["text","%{BKY_TEXT}","web-class","blockly-title--style","callbackKey","dataStructureDocs","url","text"],["type","text_changeCase"],["type","text_charAt"],["type","text_count"],["type","text_isEmpty"],["type","text_replace"],["type","text_trim"],["type","text_prompt"],["type","text_prompt_ext"],["type","decode_str"],["type","encode_str"],["colour","%{BKY_LISTS_HUE}","name","%{BKY_LISTS}"],["text","%{BKY_LISTS}","web-class","blockly-title--style","callbackKey","dataStructureDocs","url","array"],["type","lists_length"],["type","lists_isEmpty"],["type","lists_indexOf"],["type","lists_create_empty"],["type","lists_create_with"],["type","lists_getSublist"],["type","lists_repeat"],["type","lists_reverse"],["type","lists_setIndex"],["type","lists_split"],["colour","%{BKY_MAP_HUE}","name","%{BKY_MAP}"],["text","%{BKY_MAP}","web-class","blockly-title--style","callbackKey","dataStructureDocs","url","map"],["type","map_clear"],["type","get_map_in"],["type","add_map_key"],["type","set_map_key"],["type","delete_map_key"],["colour","%{BKY_JSON_HUE}","name","%{BKY_JSON}"],["text","%{BKY_JSON}","web-class","blockly-title--style","callbackKey","dataStructureDocs","url","json"],["colour","%{BKY_ADVANCED_HUE}","name","%{BKY_ADVANCED}"],["colour","#ff1199","name","SDCard"],["text","SDCard","web-class","blockly-title--style","callbackKey","advancedDocs","url","sdcard"],["text","\u25b6 %{BKY_READ_FILE}","web-class","blockly-button--style","callbackKey","selected"],["type","open_sdcard_file","hidden","true"],["name","open"],["name","do"],["type","lcd_print"],["type","file_read_all"],["text","\u25b6 %{BKY_WRITE_FILE}","web-class","blockly-button--style","callbackKey","selected"],["type","file_write"],["name","write"],["type","open_sdcard_file"],["type","file_read"],["name","bytes"],["type","file_read_line"],["type","file_set_seek"],["name","seek"],["type","file_get_seek"],["type","listdir"],["name","listdirPath"],["type","mkdir"],["name","mkdirPath"],["type","remove"],["name","removePath"],["type","rmdir"],["name","rmdirPath"],["type","rename"],["name","renamePath"],["name","toPath"],["type","sdcard_isfile"],["name","path"],["type","sdcard_isdirectory"],["type","sdcard_isexist"],["name","file"],["colour","%{BKY_PINS_HUE}","name","%{BKY_EASY}"],["text","%{BKY_EASY}","web-class","blockly-title--style","callbackKey","advancedDocs","url","easy-io"],["type","pins_analog_read"],["type","pins_analog_read_value"],["type","pins_analog_write"],["name","DUTY"],["type","pins_digital_read"],["type","pins_digital_write"],["type","pins_analog_toggle"],["type","pins_set_map"],["name","MAP"],["name","FROM_LOW"],["name","FROM_HIGH"],["name","TO_LOW"],["name","TO_HIGH"],["colour","%{BKY_GPIO_HUE}","name","%{BKY_PIN}",2,"padding-left","30px"],["text","%{BKY_PIN}","web-class","blockly-title--style","callbackKey","advancedDocs","url","pin"],["type","pin_pinout"],["name","NUM","min","0","max","36"],["type","pin_on"],["type","pin_off"],["type","pin_get_value"],["type","pin_set_value"],["colour","%{BKY_PWM_HUE}","name","%{BKY_PWM}"],["text","%{BKY_PWM}","web-class","blockly-title--style","callbackKey","advancedDocs","url","pwm"],["text","\u25b6 %{BKY_PWM_SETUP}","web-class","blockly-button--style","callbackKey","selected"],["type","pwm","hidden","true"],["name","pin"],["name","freg"],["name","duty"],["text","\u25b6 %{BKY_INCREMENTAL_PWM}","web-class","blockly-button--style","callbackKey","selected"],["type","controls_for","hidden","true"],["type","pwm_duty"],["text","\u25b6 %{BKY_PWM_CONTROL}","web-class","blockly-button--style","callbackKey","selected"],["text","\u25b6 %{BKY_PWM_CONTROL180}","web-class","blockly-button--style","callbackKey","selected"],["type","pwm"],["type","pwm_freq"],["type","pwm_pause"],["type","pwm_resume"],["type","pwm_hold_us"],["colour","%{BKY_ADC_HUE}","name","%{BKY_ADC}"],["text","%{BKY_ADC}","web-class","blockly-title--style","callbackKey","advancedDocs","url","adc"],["text","\u25b6 %{BKY_ADC_SET_PIN}","web-class","blockly-button--style","callbackKey","selected"],["type","adc","hidden","true"],["name","NUM","min","32","max","39"],["text","\u25b6 %{BKY_ADC_SET_WIDTH}","web-class","blockly-button--style","callbackKey","selected"],["type","adc_width","hidden","true"],["text","\u25b6 %{BKY_ADC_SET_GAIN}","web-class","blockly-button--style","callbackKey","selected"],["type","adc_atten","hidden","true"],["text","\u25b6 %{BKY_ADC_DEMO_READ}","web-class","blockly-button--style","callbackKey","selected"],["type","adc_read"],["name","adc"],["type","adc"],["type","adc_width"],["type","adc_atten"],["colour","%{BKY_DAC_HUE}","name","%{BKY_DAC}"],["text","%{BKY_DAC}","web-class","blockly-title--style","callbackKey","advancedDocs","url","dac"],["text","\u25b6 %{BKY_DAC_SET_CHANNEL}","web-class","blockly-button--style","callbackKey","selected"],["type","dac","hidden","true"],["text","\u25b6 %{BKY_DAC_WRITE_VALUE}","web-class","blockly-button--style","callbackKey","selected"],["type","dac_write","hidden","true"],["text","\u25b6 %{BKY_DAC_SET_FREQ}","web-class","blockly-button--style","callbackKey","selected"],["type","dac_beep","hidden","true"],["name","NUM","min","16","max","32000"],["name","duration"],["name","scale"],["text","\u25b6 %{BKY_DAC_SET_OUTPUT}","web-class","blockly-button--style","callbackKey","selected"],["type","dac_waveform","hidden","true"],["name","offset"],["name","invert"],["text","\u25b6 %{BKY_DAC_STOP_OUTPUT}","web-class","blockly-button--style","callbackKey","selected"],["type","dac_stopwave","hidden","true"],["text","\u25b6 %{BKY_DAC_SET_FREQUENCY}","web-class","blockly-button--style","callbackKey","selected"],["type","dac_freq","hidden","true"],["type","dac"],["type","dac_write"],["type","dac_beep"],["type","dac_waveform"],["type","dac_stopwave"],["type","dac_freq"],["colour","%{BKY_UART_HUE}","name","%{BKY_UART}"],["text","%{BKY_UART}","web-class","blockly-title--style","callbackKey","advancedDocs","url","uart"],["text","\u25b6 %{BKY_UART_READ_DATA}","web-class","blockly-button--style","callbackKey","selected"],["type","uart","hidden","true"],["name","BAUD"],["name","USE_TIMER"],["name","NUM","min","0","max","34"],["type","uart_any"],["type","uart_read"],["width","604","web-class","blockly-divider-nowidth"],["type","uart"],["text","Write","web-class","blockly-subclass--style"],["type","uart_write_number"],["type","uart_write_line"],["type","uart_write"],["type","uart_write_raw_data"],["text","Read","web-class","blockly-subclass--style"],["type","uart_read_characters"],["type","uart_readline"],["colour","%{BKY_IIC_HUE}","name","%{BKY_IIC}","custom","IIC"],["type","iic_set"],["type","iic_set_C"],["name","sda"],["name","scl"],["type","iic_write_byte"],["type","iic_write_big"],["type","iic_read_req"],["type","iic_read_res"],["type","iic_read_reg"],["type","iic_read"],["type","iic_available"],["type","iic_scan"],["type","iic_write_mem_data"],["name","REG"],["name","DATA"],["type","iic_write_data"],["type","iic_read_mem_data"],["type","iic_read_data"],["type","iic_get_data_in_list"],["colour","#2b90d9","name","%{BKY_EXECUTE}"],["text","%{BKY_EXECUTE}","web-class","blockly-title--style","callbackKey","advancedDocs","url","execute"],["type","execute"],["colour","%{BKY_PINS_HUE}","name","Network","custom","NETWORK"],["colour","%{BKY_ESPNOW_HUE}","name","%{BKY_ESPNOW}"],["text","%{BKY_ESPNOW}","web-class","blockly-title--style","callbackKey","advancedDocs","url","esp-now"],["text","\u25b6 %{BKY_ESP_NOW_INIT}","web-class","blockly-button--style","callbackKey","selected"],["type","espnow_get_mac_addr"],["type","espnow_add_peer"],["name","MAC"],["text","\u25b6 %{BKY_ESP_NOW_RECEIVE}","web-class","blockly-button--style","callbackKey","selected"],["type","espnow_recv_cb","hidden","true"],["name","MAC_ADDR"],["text","\u25b6 %{BKY_ESP_NOW_CHECK}","web-class","blockly-button--style","callbackKey","selected"],["type","espnow_send_cb","hidden","true"],["name","FLAG"],["text","\u25b6 %{BKY_ESP_NOW_BROADCAST}","web-class","blockly-button--style","callbackKey","selected"],["type","espnow_broadcast","hidden","true"],["text","\u25b6 %{BKY_ESP_NOW_SEND}","web-class","blockly-button--style","callbackKey","selected"],["type","espnow_send","hidden","true"],["type","espnow_set_channel"],["name","NUM","min","1","max","13"],["type","espnow_set_pmk"],["type","espnow_broadcast"],["type","espnow_recv_cb"],["type","espnow_send_cb"],["type","espnow_send"],["colour","%{BKY_RGB_HUE}","name","MQTT","custom","MQTT"],["colour","#7AC5CD","name","%{BKY_HTTP}"],["text","%{BKY_HTTP}","web-class","blockly-title--style","callbackKey","advancedDocs","url","http"],["text","\u25b6 %{BKY_HTTP_CONVERT_DATA}","web-class","blockly-button--style","callbackKey","selected"],["type","loads_json","hidden","true"],["type","get_data"],["text","\u25b6 %{BKY_HTTP_CHECK_CODE}","web-class","blockly-button--style","callbackKey","selected"],["type","controls_if","hidden","true"],["elseif","2","else","1"],["type","get_status_code"],["name","IF2"],["type","http_request"],["name","headers"],["colour","%{BKY_DAC_HUE}","name","%{BKY_SOCKET}"],["colour","%{BKY_TEXTS_HUE}","name","%{BKY_UDP_SERVER}"],["text","%{BKY_UDP_SERVER}","web-class","blockly-title--style nounderline"],["text","\u25b6 %{BKY_UDP_RECEIVE_DATA}","web-class","blockly-button--style","callbackKey","selected"],["type","socket_udp_server_start","hidden","true"],["type","socket_udp_server_recv"],["name","bufsize"],["type","socket_udp_server_start"],["type","socket_udp_server_sendto"],["type","socket_udp_server_read"],["type","socket_udp_server_close"],["colour","%{BKY_LISTS_HUE}","name","%{BKY_UDP_CLIENT}"],["text","%{BKY_UDP_CLIENT}","web-class","blockly-title--style nounderline"],["type","socket_udp_client_start","hidden","true"],["type","socket_udp_client_sendmsg"],["type","socket_udp_client_recv"],["type","socket_udp_client_start"],["type","socket_udp_client_sendto"],["type","socket_udp_write"],["type","socket_udp_client_read"],["type","socket_udp_client_close"],["colour","%{BKY_MODBUS_MASTER_HUE}","name","%{BKY_MODBUS_MASTER}"],["text","%{BKY_MODBUS_MASTER}","web-class","blockly-title--style","callbackKey","advancedDocs","url","modbus-master"],["text","\u25b6 %{BKY_MODBUS_MASTER_DEMO_INIT}","web-class","blockly-button--style","callbackKey","selected"],["type","modbus_master_init","hidden","true"],["name","UART"],["name","CRC"],["text","\u25b6 %{BKY_MODBUS_MASTER_DEMO_SEND}","web-class","blockly-button--style","callbackKey","selected"],["type","modbus_master_send","hidden","true"],["name","ADDR"],["name","REG_ADDR"],["text","\u25b6 %{BKY_MODBUS_MASTER_DEMO_CHECK}","web-class","blockly-button--style","callbackKey","selected"],["type","modbus_master_any"],["type","modbus_master_read"],["text","\u25b6 %{BKY_MODBUS_MASTER_DEMO_RECEIVE}","web-class","blockly-button--style","callbackKey","selected"],["type","modbus_master_recv_cb","hidden","true"],["name","CB"],["type","modbus_master_init"],["type","modbus_master_send"],["type","modbus_master_recv_cb"],["colour","%{BKY_MODBUS_SLAVE_HUE}","name","%{BKY_MODBUS_SLAVE}"],["text","%{BKY_MODBUS_SLAVE}","web-class","blockly-title--style","callbackKey","advancedDocs","url","modbus-slave"],["text","\u25b6 %{BKY_MODBUS_SLAVE_DEMO_INIT}","web-class","blockly-button--style","callbackKey","selected"],["type","modbus_slave_init","hidden","true"],["text","\u25b6 %{BKY_MODBUS_SLAVE_DEMO_WRITE}","web-class","blockly-button--style","callbackKey","selected"],["type","modbus_slave_init_func","hidden","true"],["name","METHOD"],["text","\u25b6 %{BKY_MODBUS_SLAVE_DEMO_READ}","web-class","blockly-button--style","callbackKey","selected"],["text","\u25b6 %{BKY_MODBUS_SLAVE_DEMO_RECEIVE}","web-class","blockly-button--style","callbackKey","selected"],["type","modbus_slave_write_cb","hidden","true"],["type","modbus_slave_send"],["type","modbus_slave_init"],["type","modbus_slave_init_func"],["type","modbus_slave_update_func"],["type","modbus_slave_read"],["type","modbus_slave_write_cb"],["type","modbus_slave_get_func"],["colour","%{BKY_TIMER_HUE}","name","%{BKY_CAN}"],["type","can_init"],["name","bus"],["type","can_state"],["type","can_any"],["type","can_send"],["name","id"],["type","can_recv"],["type","can_set_filter"],["name","bank"],["type","can_clearfilter"],["type","can_clear_tx_queue"],["type","can_clear_rx_queue"],["type","can_restart"],["type","can_deinit"],["colour","%{BKY_EEPROM_HUE}","name","%{BKY_EEPROM}"],["text","%{BKY_EEPROM}","web-class","blockly-title--style","callbackKey","advancedDocs","url","eeprom"],["text","\u25b6 %{BKY_EEPROM_DEMO_CREATE}","web-class","blockly-button--style","callbackKey","selected"],["type","eeprom_write_str","hidden","true"],["text","\u25b6 %{BKY_EEPROM_DEMO_READ_STRING}","web-class","blockly-button--style","callbackKey","selected"],["type","eeprom_read_str","hidden","true"],["text","\u25b6 %{BKY_EEPROM_DEMO_READ_INT}","web-class","blockly-button--style","callbackKey","selected"],["type","eeprom_read_int","hidden","true"],["type","eeprom_write_str"],["type","eeprom_read_str"],["type","eeprom_read_int"],["colour","%{BKY_BLYNK_HUE}","name","%{BKY_BLYNK}"],["text","%{BKY_BLYNK}","web-class","blockly-title--style","callbackKey","advancedDocs","url","blynksupport-m5stack-fire-only"],["type","blynk_init"],["name","NAME"],["name","TOKEN"],["type","blynk_virtual_write"],["name","NUMBER"],["type","blynk_notify"],["type","blynk_tweet"],["type","blynk_event_write"],["type","blynk_event_read"],["type","blynk_on_event"],["colour","%{BKY_BLE_UART_HUE}","name","%{BKY_BLE_UART}"],["text","%{BKY_BLE_UART}","web-class","blockly-title--style","callbackKey","advancedDocs","url","ble-uartsupport-m5stack-fire-only"],["type","ble_uart_init"],["type","ble_uart_write"],["type","ble_uart_any"],["type","ble_uart_read"],["type","ble_uart_read_number"],["type","ble_uart_on_recv"],["colour","%{BKY_ECHO_STT_HUE}","name","%{BKY_ECHO_STT}"],["text","%{BKY_ECHO_STT}","web-class","blockly-title--style","callbackKey","advancedDocs","url","echo-stt"],["type","echo_stt_init"],["type","echo_stt_recv_data"],["type","echo_stt_get_text"],["colour","%{BKY_SERVO_HUE}","name","%{BKY_PIN_SERVO}"],["text","%{BKY_PIN_SERVO}","web-class","blockly-title--style","callbackKey","advancedDocs","url","pin-servo"],["text","\u25b6 %{BKY_PIN_SERVO_INIT}","web-class","blockly-button--style","callbackKey","selected"],["type","servo_init","hidden","true"],["name","MIN_US"],["name","MAX_US"],["text","\u25b6 %{BKY_PIN_SERVO_SET_DEGREE}","web-class","blockly-button--style","callbackKey","selected"],["type","servo_write_angle","hidden","true"],["text","\u25b6 %{BKY_PIN_SERVO_SET_DURATION}","web-class","blockly-button--style","callbackKey","selected"],["type","servo_write_us","hidden","true"],["type","servo_init"],["type","servo_write_angle"],["type","servo_write_us"],["colour","%{BKY_LCD_HUE}","name","%{BKY_NTP}"],["text","%{BKY_NTP}","web-class","blockly-title--style","callbackKey","advancedDocs","url","ntp"],["type","ntp_init"],["type","ntp_init_dropdown"],["type","ntp_get_timestamp"],["type","ntp_get_date_format"],["type","ntp_get_time_format"],["type","ntp_get_date_time_format"],["name","date"],["type","ntp_get_year"],["type","ntp_get_month"],["type","ntp_get_day"],["type","ntp_get_weekday"],["type","ntp_get_hour"],["type","ntp_get_minute"],["type","ntp_get_second"],["colour","%{BKY_UART_HUE}","name","%{BKY_MEDIATRANS}"],["colour","%{BKY_UART_HUE}","name","%{BKY_MIC_RECORD}"],["type","micrecord_second"],["type","micrecord_server"],["name","second"],["type","micrecord_file"],["colour","%{BKY_RGB_HUE}","name","%{BKY_TIMER_CAM}","custom","TIMERCAM"],["colour","%{BKY_TEXTS_HUE}","name","%{BKY_AUDIO_PLAY}"],["type","audio_init"],["type","audio_set_play"],["type","audio_get_state"],["type","audio_deinit"],["colour","%{BKY_PINS_HUE}","name","%{BKY_THIRDPARTY}"],["colour","%{BKY_COMPONENT_LINE_HUE}","name","%{BKY_MYCOBOT}"],["text","MyCobot","web-class","blockly-title--style","callbackKey","thirdPartyLink","url","mycobot"],["type","mycobot_init"],["text","Overall status","web-class","blockly-subclass--style"],["type","mycobot_power_on"],["type","mycobot_power_off"],["type","mycobot_get_status"],["type","mycobot_set_free_mode"],["text","MDI mode and operation","web-class","blockly-subclass--style"],["type","mycobot_get_angles"],["type","mycobot_send_angle"],["name","NUM","min","1","max","6"],["name","degree"],["name","NUM","min","-180","max","180"],["name","NUM","min","0","max","100"],["type","mycobot_send_all_angles"],["type","mycobot_send_all_angles_degree"],["name","degree1"],["name","degree2"],["name","degree3"],["name","degree4"],["name","degree5"],["name","degree6"],["type","mycobot_get_radians"],["type","mycobot_send_radians"],["type","mycobot_send_radians_copy"],["name","radians1"],["name","radians2"],["name","radians3"],["name","radians4"],["name","radians5"],["name","radians6"],["type","mycobot_get_coords"],["type","mycobot_send_coord"],["name","coord"],["type","mycobot_send_coords"],["type","mycobot_send_coords_list"],["name","coord1"],["name","coord2"],["name","coord3"],["name","coord4"],["name","coord5"],["name","coord6"],["type","mycobot_pause"],["type","mycobot_resume"],["type","mycobot_stop"],["type","mycobot_ispause"],["type","mycobot_is_in_position"],["type","mycobot_ismoving"],["text","JOG mode and operation","web-class","blockly-subclass--style"],["type","mycobot_jog_angle"],["name","joint_id"],["type","mycobot_jog_coord"],["name","coord_id"],["type","mycobot_jog_stop"],["text","Running status and Settings","web-class","blockly-subclass--style"],["type","mycobot_get_speed"],["type","mycobot_set_speed"],["type","mycobot_get_joint_min_angle"],["type","mycobot_get_joint_max_angle"],["text","Servo control","web-class","blockly-subclass--style"],["type","mycobot_is_servo_enable"],["name","servo_id"],["type","mycobot_is_allservo_enable"],["type","mycobot_release_servo"],["type","mycobot_focus_servo"],["text","Atom IO","web-class","blockly-subclass--style"],["type","mycobot_set_atom_color"],["type","mycobot_set_pin_mode"],["name","pin_no"],["type","mycobot_set_digital_output"],["name","pin_signal"],["type","mycobot_get_digital_input"],["type","mycobot_set_pwm_mode"],["type","mycobot_set_pwm_output"],["name","pin_val"],["type","mycobot_get_gripper_value"],["type","mycobot_set_gripper_value"],["name","NUM","min","0","max","4096"],["type","mycobot_set_gripper_state"],["type","mycobot_set_gripper_ini"],["type","mycobot_is_gripper_moving"],["colour","%{BKY_TEXTS_HUE}","name","%{BKY_MYCOBOT_PRO}"],["text","MyCobotPro","web-class","blockly-title--style","callbackKey","thirdPartyLink","url","mycobotpro"],["type","mycobotpro_init"],["type","mycobotpro_power_on"],["type","mycobotpro_power_off"],["type","mycobotpro_get_status"],["type","mycobotpro_set_free_mode"],["type","mycobotpro_get_angles"],["type","mycobotpro_send_angle"],["type","mycobotpro_send_all_angles"],["type","mycobotpro_send_all_angles_degree"],["type","mycobotpro_get_radians"],["type","mycobotpro_send_radians"],["type","mycobotpro_send_radians_copy"],["type","mycobotpro_get_coords"],["type","mycobotpro_send_coord"],["type","mycobotpro_send_coords"],["type","mycobotpro_send_coords_list"],["type","mycobotpro_pause"],["type","mycobotpro_resume"],["type","mycobotpro_stop"],["type","mycobotpro_ispause"],["type","mycobotpro_is_in_position"],["type","mycobotpro_ismoving"],["type","mycobotpro_jog_angle"],["type","mycobotpro_jog_coord"],["type","mycobotpro_jog_stop"],["type","mycobotpro_get_speed"],["type","mycobotpro_set_speed"],["type","mycobotpro_get_joint_min_angle"],["type","mycobotpro_get_joint_max_angle"],["type","mycobotpro_is_servo_enable"],["type","mycobotpro_is_allservo_enable"],["type","mycobotpro_release_servo"],["type","mycobotpro_focus_servo"],["type","mycobotpro_set_atom_color"],["type","mycobotpro_set_pin_mode"],["type","mycobotpro_set_digital_output"],["type","mycobotpro_get_digital_input"],["type","mycobotpro_set_pwm_mode"],["type","mycobotpro_set_pwm_output"],["type","mycobotpro_get_gripper_value"],["type","mycobotpro_set_gripper_value"],["type","mycobotpro_set_gripper_state"],["type","mycobotpro_set_gripper_ini"],["type","mycobotpro_is_gripper_moving"],["text","Collision check","web-class","blockly-subclass--style"],["type","mycobotpro_get_joint_current"],["type","mycobotpro_set_joint_current"],["type","mycobotpro_set_current_state"],["colour","#307A06","name","Tello"],["text","Tello","web-class","blockly-title--style nounderline"],["text","Author: gperrella","web-class","blockly-author--style","callbackKey","thirdPartyLink","url","tello"],["type","__Tello_initDrone"],["type","__Tello_connectDrone"],["type","__Tello_takeoffDrone"],["type","__Tello_landDrone"],["type","__Tello_rotateCW"],["type","__Tello_rotateCCW"],["type","__Tello_flipRight"],["type","__Tello_flipLeft"],["type","__Tello_moveUp"],["name","cm"],["type","__Tello_moveDown"],["type","__Tello_moveForward"],["type","__Tello_moveBackward"],["type","__Tello_moveLeft"],["type","__Tello_moveRight"],["colour","%{BKY_REMOTE_HUE}","name","%{BKY_REMOTE}"],["text","%{BKY_REMOTE}","web-class","blockly-title--style","callbackKey","advancedDocs","url","remote"],["type","remote_set_title"],["name","title"],["type","remote_set_qrcode"],["name","SIZE"],["type","remote_add_switch"],["type","remote_add_button"],["type","remote_add_slider"],["type","remote_add_input"],["type","remote_add_label"],["colour","%{BKY_CUSTOM_HUE}","name","%{BKY_CUSTOM}"],["text","%{BKY_CUSTOM}","web-class","blockly-title--style","callbackKey","logicDocs","url","blockly_custom"],["text","%{BKY_CUSTOM_CREATE}","web-class","blockly-btn--style","callbackKey","goToBlockMakerHandler"],["text","%{BKY_CUSTOM_OPEN}","web-class","blockly-btn--style","callbackKey","addThirdPartyBlockHandler"],["text","%{BKY_CUSTOM_USER}","web-class","blockly-btn--style","callbackKey","goToBlockUserManual"],["type","file","id","__openM5BBox","accept",".m5b",2,"display","none"]],template:function(e,t){1&e&&(o.TgZ(0,"div",0),o.NdJ("click",function(){return t.stopPropagation()}),o._UZ(1,"div",1,2),o.TgZ(3,"div",3),o._UZ(4,"i",4),o.qZA(),o.TgZ(5,"xml",5,6),o.TgZ(7,"category",7),o._UZ(8,"block",8),o._UZ(9,"block",9),o._UZ(10,"block",10),o._UZ(11,"block",11),o._UZ(12,"block",12),o._UZ(13,"block",13),o.TgZ(14,"block",14),o.TgZ(15,"value",15),o.TgZ(16,"shadow",16),o.TgZ(17,"field",17),o._uU(18,"100"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(19,"block",18),o.TgZ(20,"value",15),o.TgZ(21,"shadow",16),o.TgZ(22,"field",17),o._uU(23,"100"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(24,"block",19),o.qZA(),o.TgZ(25,"category",20),o._UZ(26,"category",21),o._UZ(27,"category",22),o._UZ(28,"category",23),o.TgZ(29,"category",24),o.TgZ(30,"block",25),o.TgZ(31,"value",26),o.TgZ(32,"shadow",16),o.TgZ(33,"field",17),o._uU(34,"20"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(35,"block",27),o.TgZ(36,"value",28),o.TgZ(37,"shadow",16),o.TgZ(38,"field",17),o._uU(39,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(40,"value",29),o.TgZ(41,"shadow",16),o.TgZ(42,"field",17),o._uU(43,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(44,"block",30),o.TgZ(45,"value",28),o.TgZ(46,"shadow",16),o.TgZ(47,"field",17),o._uU(48,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(49,"block",31),o.TgZ(50,"value",29),o.TgZ(51,"shadow",16),o.TgZ(52,"field",17),o._uU(53,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(54,"block",32),o.TgZ(55,"block",33),o.TgZ(56,"value",34),o.TgZ(57,"shadow",16),o.TgZ(58,"field",17),o._uU(59,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(60,"value",35),o.TgZ(61,"shadow",16),o.TgZ(62,"field",17),o._uU(63,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(64,"value",36),o.TgZ(65,"shadow",16),o.TgZ(66,"field",17),o._uU(67,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(68,"block",37),o.TgZ(69,"block",38),o.TgZ(70,"value",34),o.TgZ(71,"shadow",16),o.TgZ(72,"field",17),o._uU(73,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(74,"value",35),o.TgZ(75,"shadow",16),o.TgZ(76,"field",17),o._uU(77,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(78,"value",36),o.TgZ(79,"shadow",16),o.TgZ(80,"field",17),o._uU(81,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(82,"block",39),o.qZA(),o._UZ(83,"category",40),o.TgZ(84,"category",41),o.TgZ(85,"block",42),o.TgZ(86,"value",43),o.TgZ(87,"shadow",16),o.TgZ(88,"field",17),o._uU(89,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(90,"value",44),o.TgZ(91,"shadow",16),o.TgZ(92,"field",17),o._uU(93,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(94,"value",45),o.TgZ(95,"shadow",16),o.TgZ(96,"field",17),o._uU(97,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(98,"value",46),o.TgZ(99,"shadow",16),o.TgZ(100,"field",17),o._uU(101,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(102,"value",47),o.TgZ(103,"shadow",16),o.TgZ(104,"field",17),o._uU(105,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(106,"value",48),o.TgZ(107,"shadow",16),o.TgZ(108,"field",17),o._uU(109,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(110,"block",49),o.TgZ(111,"block",50),o.TgZ(112,"value",34),o.TgZ(113,"shadow",16),o.TgZ(114,"field",17),o._uU(115,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(116,"value",35),o.TgZ(117,"shadow",16),o.TgZ(118,"field",17),o._uU(119,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(120,"value",36),o.TgZ(121,"shadow",16),o.TgZ(122,"field",17),o._uU(123,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(124,"block",51),o.TgZ(125,"block",52),o.TgZ(126,"value",34),o.TgZ(127,"shadow",16),o.TgZ(128,"field",17),o._uU(129,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(130,"value",35),o.TgZ(131,"shadow",16),o.TgZ(132,"field",17),o._uU(133,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(134,"value",36),o.TgZ(135,"shadow",16),o.TgZ(136,"field",17),o._uU(137,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(138,"block",53),o.qZA(),o._UZ(139,"category",54),o.TgZ(140,"category",55),o.TgZ(141,"block",56),o.TgZ(142,"value",28),o.TgZ(143,"shadow",16),o.TgZ(144,"field",17),o._uU(145,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(146,"value",29),o.TgZ(147,"shadow",16),o.TgZ(148,"field",17),o._uU(149,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(150,"block",57),o.TgZ(151,"value",28),o.TgZ(152,"shadow",16),o.TgZ(153,"field",17),o._uU(154,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(155,"value",29),o.TgZ(156,"shadow",16),o.TgZ(157,"field",17),o._uU(158,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(159,"block",58),o.TgZ(160,"value",59),o.TgZ(161,"shadow",16),o.TgZ(162,"field",17),o._uU(163,"70"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(164,"value",60),o.TgZ(165,"shadow",16),o.TgZ(166,"field",17),o._uU(167,"30"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(168,"block",61),o._UZ(169,"block",62),o.TgZ(170,"block",63),o.TgZ(171,"value",34),o.TgZ(172,"shadow",64),o.TgZ(173,"field",65),o._uU(174,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(175,"value",35),o.TgZ(176,"shadow",64),o.TgZ(177,"field",65),o._uU(178,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(179,"value",36),o.TgZ(180,"shadow",64),o.TgZ(181,"field",65),o._uU(182,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(183,"block",66),o.TgZ(184,"value",67),o.TgZ(185,"shadow",68),o.TgZ(186,"field",69),o._uU(187,"Button"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(188,"block",70),o.TgZ(189,"block",71),o.TgZ(190,"value",34),o.TgZ(191,"shadow",64),o.TgZ(192,"field",65),o._uU(193,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(194,"value",35),o.TgZ(195,"shadow",64),o.TgZ(196,"field",65),o._uU(197,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(198,"value",36),o.TgZ(199,"shadow",64),o.TgZ(200,"field",65),o._uU(201,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(202,"block",72),o._UZ(203,"block",73),o._UZ(204,"block",74),o._UZ(205,"block",75),o.qZA(),o.TgZ(206,"category",76),o.TgZ(207,"block",77),o.TgZ(208,"value",28),o.TgZ(209,"shadow",16),o.TgZ(210,"field",17),o._uU(211,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(212,"value",29),o.TgZ(213,"shadow",16),o.TgZ(214,"field",17),o._uU(215,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(216,"block",78),o.TgZ(217,"value",28),o.TgZ(218,"shadow",16),o.TgZ(219,"field",17),o._uU(220,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(221,"value",29),o.TgZ(222,"shadow",16),o.TgZ(223,"field",17),o._uU(224,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(225,"block",79),o.TgZ(226,"value",59),o.TgZ(227,"shadow",16),o.TgZ(228,"field",17),o._uU(229,"70"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(230,"value",60),o.TgZ(231,"shadow",16),o.TgZ(232,"field",17),o._uU(233,"30"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(234,"block",80),o._UZ(235,"block",81),o.TgZ(236,"block",82),o.TgZ(237,"value",34),o.TgZ(238,"shadow",64),o.TgZ(239,"field",65),o._uU(240,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(241,"value",35),o.TgZ(242,"shadow",64),o.TgZ(243,"field",65),o._uU(244,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(245,"value",36),o.TgZ(246,"shadow",64),o.TgZ(247,"field",65),o._uU(248,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(249,"block",83),o.TgZ(250,"block",84),o.TgZ(251,"value",34),o.TgZ(252,"shadow",64),o.TgZ(253,"field",65),o._uU(254,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(255,"value",35),o.TgZ(256,"shadow",64),o.TgZ(257,"field",65),o._uU(258,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(259,"value",36),o.TgZ(260,"shadow",64),o.TgZ(261,"field",65),o._uU(262,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(263,"block",85),o._UZ(264,"block",86),o._UZ(265,"block",87),o._UZ(266,"block",88),o._UZ(267,"block",89),o._UZ(268,"block",90),o.qZA(),o.TgZ(269,"category",91),o.TgZ(270,"block",92),o.TgZ(271,"value",28),o.TgZ(272,"shadow",16),o.TgZ(273,"field",17),o._uU(274,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(275,"value",29),o.TgZ(276,"shadow",16),o.TgZ(277,"field",17),o._uU(278,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(279,"block",93),o.TgZ(280,"value",28),o.TgZ(281,"shadow",16),o.TgZ(282,"field",17),o._uU(283,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(284,"value",29),o.TgZ(285,"shadow",16),o.TgZ(286,"field",17),o._uU(287,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(288,"block",94),o.TgZ(289,"value",59),o.TgZ(290,"shadow",16),o.TgZ(291,"field",17),o._uU(292,"70"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(293,"value",60),o.TgZ(294,"shadow",16),o.TgZ(295,"field",17),o._uU(296,"12"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(297,"block",95),o._UZ(298,"block",96),o.TgZ(299,"block",97),o.TgZ(300,"value",34),o.TgZ(301,"shadow",64),o.TgZ(302,"field",65),o._uU(303,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(304,"value",35),o.TgZ(305,"shadow",64),o.TgZ(306,"field",65),o._uU(307,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(308,"value",36),o.TgZ(309,"shadow",64),o.TgZ(310,"field",65),o._uU(311,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(312,"block",98),o.TgZ(313,"block",99),o.TgZ(314,"value",34),o.TgZ(315,"shadow",64),o.TgZ(316,"field",65),o._uU(317,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(318,"value",35),o.TgZ(319,"shadow",64),o.TgZ(320,"field",65),o._uU(321,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(322,"value",36),o.TgZ(323,"shadow",64),o.TgZ(324,"field",65),o._uU(325,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(326,"block",100),o.TgZ(327,"value",101),o.TgZ(328,"shadow",16),o.TgZ(329,"field",17),o._uU(330,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(331,"block",102),o.TgZ(332,"value",103),o.TgZ(333,"shadow",16),o.TgZ(334,"field",17),o._uU(335,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(336,"value",104),o.TgZ(337,"shadow",16),o.TgZ(338,"field",17),o._uU(339,"100"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(340,"block",105),o._UZ(341,"block",106),o._UZ(342,"block",107),o.qZA(),o.TgZ(343,"category",108),o.TgZ(344,"block",109),o.TgZ(345,"value",28),o.TgZ(346,"shadow",16),o.TgZ(347,"field",17),o._uU(348,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(349,"value",29),o.TgZ(350,"shadow",16),o.TgZ(351,"field",17),o._uU(352,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(353,"block",110),o.TgZ(354,"value",28),o.TgZ(355,"shadow",16),o.TgZ(356,"field",17),o._uU(357,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(358,"value",29),o.TgZ(359,"shadow",16),o.TgZ(360,"field",17),o._uU(361,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(362,"block",111),o.TgZ(363,"value",59),o.TgZ(364,"shadow",16),o.TgZ(365,"field",17),o._uU(366,"70"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(367,"value",60),o.TgZ(368,"shadow",16),o.TgZ(369,"field",17),o._uU(370,"12"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(371,"block",112),o._UZ(372,"block",113),o.TgZ(373,"block",114),o.TgZ(374,"value",34),o.TgZ(375,"shadow",64),o.TgZ(376,"field",65),o._uU(377,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(378,"value",35),o.TgZ(379,"shadow",64),o.TgZ(380,"field",65),o._uU(381,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(382,"value",36),o.TgZ(383,"shadow",64),o.TgZ(384,"field",65),o._uU(385,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(386,"block",115),o.TgZ(387,"block",116),o.TgZ(388,"value",34),o.TgZ(389,"shadow",64),o.TgZ(390,"field",65),o._uU(391,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(392,"value",35),o.TgZ(393,"shadow",64),o.TgZ(394,"field",65),o._uU(395,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(396,"value",36),o.TgZ(397,"shadow",64),o.TgZ(398,"field",65),o._uU(399,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(400,"block",117),o.TgZ(401,"value",101),o.TgZ(402,"shadow",16),o.TgZ(403,"field",17),o._uU(404,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(405,"block",118),o.TgZ(406,"value",103),o.TgZ(407,"shadow",16),o.TgZ(408,"field",17),o._uU(409,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(410,"value",104),o.TgZ(411,"shadow",16),o.TgZ(412,"field",17),o._uU(413,"100"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(414,"block",119),o._UZ(415,"block",120),o.qZA(),o.TgZ(416,"category",121),o.TgZ(417,"block",122),o.TgZ(418,"value",28),o.TgZ(419,"shadow",16),o.TgZ(420,"field",17),o._uU(421,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(422,"value",29),o.TgZ(423,"shadow",16),o.TgZ(424,"field",17),o._uU(425,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(426,"block",123),o.TgZ(427,"value",28),o.TgZ(428,"shadow",16),o.TgZ(429,"field",17),o._uU(430,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(431,"value",29),o.TgZ(432,"shadow",16),o.TgZ(433,"field",17),o._uU(434,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(435,"block",124),o.TgZ(436,"block",125),o.TgZ(437,"value",67),o.TgZ(438,"shadow",68),o.TgZ(439,"field",69),o._uU(440,"Text"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(441,"block",126),o._UZ(442,"block",127),o.TgZ(443,"block",128),o.TgZ(444,"value",34),o.TgZ(445,"shadow",64),o.TgZ(446,"field",65),o._uU(447,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(448,"value",35),o.TgZ(449,"shadow",64),o.TgZ(450,"field",65),o._uU(451,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(452,"value",36),o.TgZ(453,"shadow",64),o.TgZ(454,"field",65),o._uU(455,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(456,"block",129),o.TgZ(457,"block",130),o.TgZ(458,"value",34),o.TgZ(459,"shadow",64),o.TgZ(460,"field",65),o._uU(461,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(462,"value",35),o.TgZ(463,"shadow",64),o.TgZ(464,"field",65),o._uU(465,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(466,"value",36),o.TgZ(467,"shadow",64),o.TgZ(468,"field",65),o._uU(469,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(470,"block",131),o._UZ(471,"block",132),o._UZ(472,"block",133),o.qZA(),o._UZ(473,"category",134),o.qZA(),o.TgZ(474,"category",135),o._UZ(475,"category",136),o.TgZ(476,"category",137),o.TgZ(477,"block",138),o.TgZ(478,"value",139),o.TgZ(479,"shadow",16),o.TgZ(480,"field",17),o._uU(481,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(482,"value",140),o.TgZ(483,"shadow",68),o._UZ(484,"field",69),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(485,"category",141),o.TgZ(486,"category",142),o._UZ(487,"button",143),o._UZ(488,"block",144),o._UZ(489,"block",145),o._UZ(490,"block",146),o._UZ(491,"block",147),o._UZ(492,"block",148),o._UZ(493,"block",149),o._UZ(494,"block",150),o._UZ(495,"block",151),o.qZA(),o._UZ(496,"category",152),o.TgZ(497,"category",153),o._UZ(498,"block",154),o._UZ(499,"block",155),o.qZA(),o.TgZ(500,"category",156),o._UZ(501,"button",157),o._UZ(502,"block",158),o._UZ(503,"block",159),o._UZ(504,"block",160),o._UZ(505,"block",161),o._UZ(506,"block",162),o._UZ(507,"block",163),o._UZ(508,"block",164),o._UZ(509,"block",165),o._UZ(510,"block",166),o._UZ(511,"block",167),o._UZ(512,"block",168),o.TgZ(513,"block",169),o.TgZ(514,"value",170),o.TgZ(515,"shadow",16),o.TgZ(516,"field",17),o._uU(517,"2.4"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(518,"category",171),o._UZ(519,"category",172),o.TgZ(520,"category",173),o._UZ(521,"block",174),o.TgZ(522,"block",175),o.TgZ(523,"value",176),o.TgZ(524,"shadow",16),o.TgZ(525,"field",17),o._uU(526,"50"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(527,"category",177),o._UZ(528,"block",178),o.qZA(),o.TgZ(529,"category",179),o._UZ(530,"block",180),o._UZ(531,"block",181),o.qZA(),o.TgZ(532,"category",182),o._UZ(533,"button",183),o._UZ(534,"button",184),o.TgZ(535,"block",185),o.TgZ(536,"value",186),o.TgZ(537,"shadow",16),o.TgZ(538,"field",17),o._uU(539,"2000"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(540,"next"),o.TgZ(541,"block",8),o.TgZ(542,"statement",187),o.TgZ(543,"block",188),o.TgZ(544,"value",189),o.TgZ(545,"shadow",16),o.TgZ(546,"field",17),o._uU(547,"3000"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(548,"next"),o._UZ(549,"block",190),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(550,"button",191),o.TgZ(551,"block",192),o.TgZ(552,"value",186),o.TgZ(553,"shadow",16),o.TgZ(554,"field",17),o._uU(555,"2000"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(556,"block",190),o.qZA(),o.qZA(),o.TgZ(557,"category",193),o.TgZ(558,"category",194),o._UZ(559,"button",195),o._UZ(560,"block",196),o.TgZ(561,"block",197),o.TgZ(562,"value",198),o.TgZ(563,"shadow",64),o.TgZ(564,"field",199),o._uU(565,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(566,"block",200),o._UZ(567,"block",201),o.qZA(),o.TgZ(568,"category",202),o._UZ(569,"button",203),o._UZ(570,"block",204),o.TgZ(571,"block",205),o.TgZ(572,"value",206),o.TgZ(573,"shadow",64),o.TgZ(574,"field",207),o._uU(575,"1"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(576,"block",208),o.TgZ(577,"value",206),o.TgZ(578,"shadow",64),o.TgZ(579,"field",207),o._uU(580,"1"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(581,"value",209),o.TgZ(582,"shadow",64),o.TgZ(583,"field",210),o._uU(584,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(585,"block",211),o.TgZ(586,"value",206),o.TgZ(587,"shadow",64),o.TgZ(588,"field",207),o._uU(589,"1"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(590,"block",212),o.TgZ(591,"value",206),o.TgZ(592,"shadow",64),o.TgZ(593,"field",207),o._uU(594,"1"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(595,"value",213),o.TgZ(596,"shadow",64),o.TgZ(597,"field",214),o._uU(598,"500"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(599,"block",215),o.TgZ(600,"value",206),o.TgZ(601,"shadow",64),o.TgZ(602,"field",216),o._uU(603,"1"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(604,"block",217),o.TgZ(605,"value",206),o.TgZ(606,"shadow",64),o.TgZ(607,"field",216),o._uU(608,"1"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(609,"value",198),o.TgZ(610,"shadow",64),o.TgZ(611,"field",218),o._uU(612,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(613,"category",219),o._UZ(614,"button",220),o.TgZ(615,"block",221),o.TgZ(616,"value",222),o.TgZ(617,"shadow",16),o.TgZ(618,"field",17),o._uU(619,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(620,"value",223),o.TgZ(621,"shadow",68),o._UZ(622,"field",69),o.qZA(),o.qZA(),o.qZA(),o._UZ(623,"button",224),o._UZ(624,"block",225),o._UZ(625,"block",226),o._UZ(626,"button",227),o._UZ(627,"block",228),o._UZ(628,"block",229),o._UZ(629,"block",230),o._UZ(630,"block",231),o._UZ(631,"block",232),o._UZ(632,"block",233),o._UZ(633,"button",234),o._UZ(634,"block",235),o._UZ(635,"block",236),o._UZ(636,"block",237),o._UZ(637,"block",238),o._UZ(638,"block",239),o._UZ(639,"block",240),o._UZ(640,"block",241),o._UZ(641,"block",242),o._UZ(642,"block",243),o._UZ(643,"block",244),o.qZA(),o.TgZ(644,"category",245),o._UZ(645,"button",246),o._UZ(646,"block",247),o._UZ(647,"block",248),o._UZ(648,"block",249),o._UZ(649,"button",250),o._UZ(650,"button",251),o._UZ(651,"sep",252),o._UZ(652,"button",253),o._UZ(653,"sep",252),o._UZ(654,"button",254),o._UZ(655,"sep",252),o._UZ(656,"button",255),o._UZ(657,"sep",256),o._UZ(658,"button",257),o._UZ(659,"block",258),o._UZ(660,"button",259),o._UZ(661,"block",260),o.qZA(),o.TgZ(662,"category",261),o._UZ(663,"button",262),o._UZ(664,"block",263),o.TgZ(665,"block",264),o.TgZ(666,"value",265),o.TgZ(667,"shadow",16),o.TgZ(668,"field",17),o._uU(669,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(670,"value",266),o.TgZ(671,"shadow",16),o.TgZ(672,"field",17),o._uU(673,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(674,"block",267),o.TgZ(675,"value",268),o.TgZ(676,"shadow",16),o.TgZ(677,"field",17),o._uU(678,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(679,"value",266),o.TgZ(680,"shadow",16),o.TgZ(681,"field",17),o._uU(682,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(683,"block",269),o._UZ(684,"block",270),o._UZ(685,"block",271),o._UZ(686,"block",272),o._UZ(687,"block",273),o.qZA(),o.qZA(),o.TgZ(688,"category",274),o.TgZ(689,"category",275),o._UZ(690,"button",276),o._UZ(691,"button",277),o.TgZ(692,"block",278),o.TgZ(693,"statement",187),o.TgZ(694,"block",279),o.TgZ(695,"value",69),o._UZ(696,"block",280),o.qZA(),o.TgZ(697,"next"),o.TgZ(698,"block",279),o.TgZ(699,"value",69),o._UZ(700,"block",281),o.qZA(),o.TgZ(701,"next"),o.TgZ(702,"block",279),o.TgZ(703,"value",69),o._UZ(704,"block",282),o.qZA(),o.TgZ(705,"next"),o.TgZ(706,"block",283),o.TgZ(707,"value",189),o.TgZ(708,"shadow",16),o.TgZ(709,"field",17),o._uU(710,"10"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(711,"button",191),o._UZ(712,"block",280),o._UZ(713,"block",281),o._UZ(714,"block",282),o.qZA(),o.TgZ(715,"category",284),o._UZ(716,"button",285),o._UZ(717,"button",286),o.TgZ(718,"block",278),o.TgZ(719,"statement",187),o.TgZ(720,"block",279),o.TgZ(721,"value",69),o._UZ(722,"block",287),o.qZA(),o.TgZ(723,"next"),o.TgZ(724,"block",283),o.TgZ(725,"value",189),o.TgZ(726,"shadow",16),o.TgZ(727,"field",17),o._uU(728,"10"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(729,"button",191),o._UZ(730,"block",287),o.qZA(),o.TgZ(731,"category",288),o._UZ(732,"button",289),o._UZ(733,"button",290),o.TgZ(734,"block",278),o.TgZ(735,"statement",187),o.TgZ(736,"block",291),o.TgZ(737,"value",292),o.TgZ(738,"block",293),o.TgZ(739,"field",294),o._uU(740,"EQ"),o.qZA(),o.TgZ(741,"value",295),o._UZ(742,"block",296),o.qZA(),o.TgZ(743,"value",36),o.TgZ(744,"block",16),o.TgZ(745,"field",17),o._uU(746,"1"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(747,"statement",297),o.TgZ(748,"block",279),o.TgZ(749,"value",69),o.TgZ(750,"block",68),o.TgZ(751,"field",69),o._uU(752,"PIR Status: Detected"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(753,"statement",298),o.TgZ(754,"block",279),o.TgZ(755,"value",69),o.TgZ(756,"block",68),o.TgZ(757,"field",69),o._uU(758,"PIR Status: Not detected"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(759,"button",191),o._UZ(760,"block",296),o.qZA(),o.TgZ(761,"category",299),o._UZ(762,"button",300),o._UZ(763,"button",301),o.TgZ(764,"block",278),o.TgZ(765,"statement",187),o.TgZ(766,"block",302),o.TgZ(767,"field",303),o._uU(768,"R"),o.qZA(),o.TgZ(769,"value",304),o.TgZ(770,"block",305),o.TgZ(771,"value",306),o.TgZ(772,"block",16),o.TgZ(773,"field",17),o._uU(774,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(775,"value",307),o.TgZ(776,"block",16),o.TgZ(777,"field",17),o._uU(778,"255"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(779,"next"),o.TgZ(780,"block",302),o.TgZ(781,"field",303),o._uU(782,"G"),o.qZA(),o.TgZ(783,"value",304),o.TgZ(784,"block",305),o.TgZ(785,"value",306),o.TgZ(786,"block",16),o.TgZ(787,"field",17),o._uU(788,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(789,"value",307),o.TgZ(790,"block",16),o.TgZ(791,"field",17),o._uU(792,"255"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(793,"next"),o.TgZ(794,"block",302),o.TgZ(795,"field",303),o._uU(796,"B"),o.qZA(),o.TgZ(797,"value",304),o.TgZ(798,"block",305),o.TgZ(799,"value",306),o.TgZ(800,"block",16),o.TgZ(801,"field",17),o._uU(802,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(803,"value",307),o.TgZ(804,"block",16),o.TgZ(805,"field",17),o._uU(806,"255"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(807,"next"),o.TgZ(808,"block",308),o.TgZ(809,"field",303),o._uU(810,"i"),o.qZA(),o.TgZ(811,"value",306),o.TgZ(812,"block",16),o.TgZ(813,"field",17),o._uU(814,"1"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(815,"value",307),o.TgZ(816,"block",16),o.TgZ(817,"field",17),o._uU(818,"30"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(819,"value",309),o.TgZ(820,"block",16),o.TgZ(821,"field",17),o._uU(822,"1"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(823,"statement",310),o.TgZ(824,"block",311),o.TgZ(825,"value",306),o.TgZ(826,"shadow",16),o.TgZ(827,"field",17),o._uU(828,"1"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(829,"value",307),o.TgZ(830,"shadow",16),o.TgZ(831,"field",17),o._uU(832,"30"),o.qZA(),o.qZA(),o.TgZ(833,"block",312),o.TgZ(834,"field",303),o._uU(835,"i"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(836,"value",34),o.TgZ(837,"shadow",16),o.TgZ(838,"field",17),o._uU(839,"0"),o.qZA(),o.qZA(),o.TgZ(840,"block",312),o.TgZ(841,"field",303),o._uU(842,"R"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(843,"value",35),o.TgZ(844,"shadow",16),o.TgZ(845,"field",17),o._uU(846,"0"),o.qZA(),o.qZA(),o.TgZ(847,"block",312),o.TgZ(848,"field",303),o._uU(849,"G"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(850,"value",36),o.TgZ(851,"shadow",16),o.TgZ(852,"field",17),o._uU(853,"0"),o.qZA(),o.qZA(),o.TgZ(854,"block",312),o.TgZ(855,"field",303),o._uU(856,"B"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(857,"next"),o.TgZ(858,"block",283),o.TgZ(859,"value",189),o.TgZ(860,"shadow",16),o.TgZ(861,"field",17),o._uU(862,"500"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(863,"next"),o.TgZ(864,"block",308),o.TgZ(865,"field",303),o._uU(866,"i"),o.qZA(),o.TgZ(867,"value",306),o.TgZ(868,"block",16),o.TgZ(869,"field",17),o._uU(870,"1"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(871,"value",307),o.TgZ(872,"block",16),o.TgZ(873,"field",17),o._uU(874,"30"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(875,"value",309),o.TgZ(876,"block",16),o.TgZ(877,"field",17),o._uU(878,"1"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(879,"statement",310),o.TgZ(880,"block",313),o.TgZ(881,"field",314),o._uU(882,"#000000"),o.qZA(),o.TgZ(883,"value",306),o.TgZ(884,"shadow",16),o.TgZ(885,"field",17),o._uU(886,"1"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(887,"value",307),o.TgZ(888,"shadow",16),o.TgZ(889,"field",17),o._uU(890,"5"),o.qZA(),o.qZA(),o.TgZ(891,"block",312),o.TgZ(892,"field",303),o._uU(893,"i"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(894,"next"),o.TgZ(895,"block",283),o.TgZ(896,"value",189),o.TgZ(897,"shadow",16),o.TgZ(898,"field",17),o._uU(899,"500"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(900,"button",191),o.TgZ(901,"block",315),o.TgZ(902,"value",316),o.TgZ(903,"shadow",16),o.TgZ(904,"field",17),o._uU(905,"1"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(906,"block",313),o.TgZ(907,"value",306),o.TgZ(908,"shadow",16),o.TgZ(909,"field",17),o._uU(910,"1"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(911,"value",307),o.TgZ(912,"shadow",16),o.TgZ(913,"field",17),o._uU(914,"5"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(915,"block",311),o.TgZ(916,"value",306),o.TgZ(917,"shadow",16),o.TgZ(918,"field",17),o._uU(919,"1"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(920,"value",307),o.TgZ(921,"shadow",16),o.TgZ(922,"field",17),o._uU(923,"5"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(924,"value",34),o.TgZ(925,"shadow",16),o.TgZ(926,"field",17),o._uU(927,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(928,"value",35),o.TgZ(929,"shadow",16),o.TgZ(930,"field",17),o._uU(931,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(932,"value",36),o.TgZ(933,"shadow",16),o.TgZ(934,"field",17),o._uU(935,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(936,"block",317),o.TgZ(937,"block",318),o.TgZ(938,"value",319),o.TgZ(939,"shadow",16),o.TgZ(940,"field",17),o._uU(941,"20"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(942,"block",320),o._UZ(943,"block",321),o._UZ(944,"block",322),o.TgZ(945,"block",323),o.TgZ(946,"value",34),o.TgZ(947,"shadow",16),o.TgZ(948,"field",17),o._uU(949,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(950,"value",35),o.TgZ(951,"shadow",16),o.TgZ(952,"field",17),o._uU(953,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(954,"value",36),o.TgZ(955,"shadow",16),o.TgZ(956,"field",17),o._uU(957,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(958,"category",324),o._UZ(959,"button",325),o._UZ(960,"button",326),o.TgZ(961,"block",278),o.TgZ(962,"statement",187),o.TgZ(963,"block",279),o.TgZ(964,"value",69),o._UZ(965,"block",327),o.qZA(),o.TgZ(966,"next"),o.TgZ(967,"block",279),o.TgZ(968,"value",69),o._UZ(969,"block",328),o.qZA(),o.TgZ(970,"next"),o.TgZ(971,"block",279),o.TgZ(972,"value",69),o._UZ(973,"block",329),o.qZA(),o.TgZ(974,"next"),o.TgZ(975,"block",188),o.TgZ(976,"value",189),o.TgZ(977,"shadow",16),o.TgZ(978,"field",17),o._uU(979,"0.2"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(980,"button",191),o._UZ(981,"block",327),o._UZ(982,"block",328),o._UZ(983,"block",329),o._UZ(984,"block",330),o._UZ(985,"block",331),o.qZA(),o.TgZ(986,"category",332),o._UZ(987,"button",333),o._UZ(988,"button",334),o.TgZ(989,"block",278),o.TgZ(990,"statement",187),o.TgZ(991,"block",279),o.TgZ(992,"value",69),o._UZ(993,"block",335),o.qZA(),o.TgZ(994,"next"),o.TgZ(995,"block",279),o.TgZ(996,"value",69),o._UZ(997,"block",336),o.qZA(),o.TgZ(998,"next"),o.TgZ(999,"block",188),o.TgZ(1e3,"value",189),o.TgZ(1001,"shadow",16),o.TgZ(1002,"field",17),o._uU(1003,"0.2"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(1004,"button",191),o._UZ(1005,"block",336),o._UZ(1006,"block",335),o.qZA(),o.TgZ(1007,"category",337),o._UZ(1008,"button",338),o._UZ(1009,"button",339),o.TgZ(1010,"block",278),o.TgZ(1011,"statement",187),o.TgZ(1012,"block",279),o.TgZ(1013,"value",69),o._UZ(1014,"block",340),o.qZA(),o.TgZ(1015,"next"),o.TgZ(1016,"block",279),o.TgZ(1017,"value",69),o._UZ(1018,"block",341),o.qZA(),o.TgZ(1019,"next"),o.TgZ(1020,"block",188),o.TgZ(1021,"value",189),o.TgZ(1022,"shadow",16),o.TgZ(1023,"field",17),o._uU(1024,"0.2"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(1025,"button",191),o._UZ(1026,"block",340),o._UZ(1027,"block",341),o.qZA(),o.TgZ(1028,"category",342),o._UZ(1029,"button",343),o._UZ(1030,"button",344),o.TgZ(1031,"block",345),o.TgZ(1032,"value",69),o.TgZ(1033,"block",68),o.TgZ(1034,"field",69),o._uU(1035,"Value"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(1036,"next"),o.TgZ(1037,"block",8),o.TgZ(1038,"statement",187),o.TgZ(1039,"block",279),o.TgZ(1040,"value",69),o._UZ(1041,"block",346),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(1042,"button",191),o._UZ(1043,"block",346),o._UZ(1044,"block",347),o.qZA(),o.TgZ(1045,"category",348),o._UZ(1046,"button",349),o._UZ(1047,"button",350),o.TgZ(1048,"block",351),o.TgZ(1049,"value",352),o.TgZ(1050,"shadow",16),o.TgZ(1051,"field",17),o._uU(1052,"90"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(1053,"button",191),o.TgZ(1054,"block",353),o.TgZ(1055,"value",352),o.TgZ(1056,"shadow",16),o.TgZ(1057,"field",17),o._uU(1058,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(1059,"block",354),o.TgZ(1060,"value",355),o.TgZ(1061,"shadow",16),o.TgZ(1062,"field",17),o._uU(1063,"600"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(1064,"category",356),o._UZ(1065,"button",357),o._UZ(1066,"button",358),o.TgZ(1067,"block",278),o.TgZ(1068,"statement",187),o.TgZ(1069,"block",279),o.TgZ(1070,"value",69),o._UZ(1071,"block",359),o.qZA(),o.TgZ(1072,"next"),o.TgZ(1073,"block",188),o.TgZ(1074,"value",189),o.TgZ(1075,"shadow",16),o.TgZ(1076,"field",17),o._uU(1077,"0.1"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(1078,"next"),o.TgZ(1079,"block",360),o.TgZ(1080,"value",292),o.TgZ(1081,"block",12),o.TgZ(1082,"field",361),o._uU(1083,"A"),o.qZA(),o.TgZ(1084,"field",362),o._uU(1085,"isPressed"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(1086,"statement",297),o.TgZ(1087,"block",188),o.TgZ(1088,"value",189),o.TgZ(1089,"shadow",16),o.TgZ(1090,"field",17),o._uU(1091,"0.1"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(1092,"next"),o._UZ(1093,"block",363),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(1094,"button",191),o._UZ(1095,"block",363),o._UZ(1096,"block",359),o._UZ(1097,"block",364),o.qZA(),o.TgZ(1098,"category",365),o._UZ(1099,"button",366),o._UZ(1100,"button",367),o.TgZ(1101,"block",368),o.TgZ(1102,"field",369),o._uU(1103,"0x04"),o.qZA(),o.TgZ(1104,"field",370),o._uU(1105,"0x01"),o.qZA(),o.TgZ(1106,"next"),o.TgZ(1107,"block",371),o.TgZ(1108,"field",372),o._uU(1109,"0x03"),o.qZA(),o.TgZ(1110,"next"),o.TgZ(1111,"block",8),o.TgZ(1112,"statement",187),o.TgZ(1113,"block",279),o.TgZ(1114,"value",69),o._UZ(1115,"block",373),o.qZA(),o.TgZ(1116,"next"),o.TgZ(1117,"block",279),o.TgZ(1118,"value",69),o._UZ(1119,"block",374),o.qZA(),o.TgZ(1120,"next"),o.TgZ(1121,"block",188),o.TgZ(1122,"value",189),o.TgZ(1123,"shadow",16),o.TgZ(1124,"field",17),o._uU(1125,"0.3"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(1126,"button",191),o._UZ(1127,"block",373),o._UZ(1128,"block",374),o._UZ(1129,"block",371),o._UZ(1130,"block",375),o.qZA(),o.TgZ(1131,"category",376),o._UZ(1132,"button",377),o._UZ(1133,"button",378),o.TgZ(1134,"block",278),o.TgZ(1135,"statement",187),o.TgZ(1136,"block",279),o.TgZ(1137,"value",69),o.TgZ(1138,"block",68),o.TgZ(1139,"field",69),o._uU(1140,"Sensor 0: "),o.qZA(),o.qZA(),o.qZA(),o.TgZ(1141,"next"),o.TgZ(1142,"block",279),o.TgZ(1143,"value",69),o.TgZ(1144,"block",379),o.TgZ(1145,"field",380),o._uU(1146,"1"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(1147,"next"),o.TgZ(1148,"block",279),o.TgZ(1149,"value",69),o.TgZ(1150,"block",68),o.TgZ(1151,"field",69),o._uU(1152," Sensor 1: "),o.qZA(),o.qZA(),o.qZA(),o.TgZ(1153,"next"),o.TgZ(1154,"block",279),o.TgZ(1155,"value",69),o.TgZ(1156,"block",379),o.TgZ(1157,"field",380),o._uU(1158,"2"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(1159,"next"),o.TgZ(1160,"block",279),o.TgZ(1161,"value",69),o.TgZ(1162,"block",68),o.TgZ(1163,"field",69),o._uU(1164," Sensor 2: "),o.qZA(),o.qZA(),o.qZA(),o.TgZ(1165,"next"),o.TgZ(1166,"block",279),o.TgZ(1167,"value",69),o.TgZ(1168,"block",379),o.TgZ(1169,"field",380),o._uU(1170,"3"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(1171,"next"),o.TgZ(1172,"block",279),o.TgZ(1173,"value",69),o.TgZ(1174,"block",68),o.TgZ(1175,"field",69),o._uU(1176," Sensor 3: "),o.qZA(),o.qZA(),o.qZA(),o.TgZ(1177,"next"),o.TgZ(1178,"block",279),o.TgZ(1179,"value",69),o.TgZ(1180,"block",379),o.TgZ(1181,"field",380),o._uU(1182,"4"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(1183,"button",191),o._UZ(1184,"block",381),o._UZ(1185,"block",379),o.TgZ(1186,"block",382),o.TgZ(1187,"value",17),o.TgZ(1188,"shadow",16),o.TgZ(1189,"field",17),o._uU(1190,"10"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(1191,"value",383),o.TgZ(1192,"shadow",16),o.TgZ(1193,"field",17),o._uU(1194,"10"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(1195,"category",384),o._UZ(1196,"button",385),o._UZ(1197,"button",386),o.TgZ(1198,"block",278),o.TgZ(1199,"statement",187),o.TgZ(1200,"block",291),o.TgZ(1201,"value",292),o.TgZ(1202,"block",387),o.TgZ(1203,"field",362),o._uU(1204,"wasPressed"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(1205,"statement",297),o.TgZ(1206,"block",279),o.TgZ(1207,"value",69),o.TgZ(1208,"block",68),o.TgZ(1209,"field",69),o._uU(1210,"Pressed"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(1211,"statement",298),o.TgZ(1212,"block",279),o.TgZ(1213,"value",69),o.TgZ(1214,"block",68),o.TgZ(1215,"field",69),o._uU(1216,"Released"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(1217,"button",191),o._UZ(1218,"block",388),o._UZ(1219,"block",387),o.qZA(),o.TgZ(1220,"category",389),o._UZ(1221,"button",390),o._UZ(1222,"button",391),o.TgZ(1223,"block",278),o.TgZ(1224,"statement",187),o.TgZ(1225,"block",360),o._UZ(1226,"mutation",392),o.TgZ(1227,"value",292),o.TgZ(1228,"block",393),o.TgZ(1229,"field",394),o._uU(1230,"btnBlue"),o.qZA(),o.TgZ(1231,"field",362),o._uU(1232,"wasPressed"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(1233,"statement",297),o.TgZ(1234,"block",395),o.TgZ(1235,"field",314),o._uU(1236,"#000099"),o.qZA(),o.TgZ(1237,"next"),o.TgZ(1238,"block",279),o.TgZ(1239,"value",69),o.TgZ(1240,"block",68),o.TgZ(1241,"field",69),o._uU(1242,"Blue button pressed"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(1243,"value",396),o.TgZ(1244,"block",393),o.TgZ(1245,"field",394),o._uU(1246,"btnRed"),o.qZA(),o.TgZ(1247,"field",362),o._uU(1248,"wasPressed"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(1249,"statement",397),o.TgZ(1250,"block",395),o.TgZ(1251,"field",314),o._uU(1252,"#cc0000"),o.qZA(),o.TgZ(1253,"next"),o.TgZ(1254,"block",279),o.TgZ(1255,"value",69),o.TgZ(1256,"block",68),o.TgZ(1257,"field",69),o._uU(1258,"Red button pressed"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(1259,"button",191),o._UZ(1260,"block",398),o._UZ(1261,"block",393),o.qZA(),o.TgZ(1262,"category",399),o._UZ(1263,"button",400),o._UZ(1264,"button",401),o.TgZ(1265,"block",278),o.TgZ(1266,"statement",187),o.TgZ(1267,"block",402),o.TgZ(1268,"field",314),o._uU(1269,"#ff0000"),o.qZA(),o.TgZ(1270,"value",316),o.TgZ(1271,"shadow",16),o.TgZ(1272,"field",17),o._uU(1273,"1"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(1274,"next"),o.TgZ(1275,"block",402),o.TgZ(1276,"field",314),o._uU(1277,"#33ff33"),o.qZA(),o.TgZ(1278,"value",316),o.TgZ(1279,"shadow",16),o.TgZ(1280,"field",17),o._uU(1281,"2"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(1282,"next"),o.TgZ(1283,"block",402),o.TgZ(1284,"field",314),o._uU(1285,"#3366ff"),o.qZA(),o.TgZ(1286,"value",316),o.TgZ(1287,"shadow",16),o.TgZ(1288,"field",17),o._uU(1289,"3"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(1290,"next"),o.TgZ(1291,"block",188),o.TgZ(1292,"value",189),o.TgZ(1293,"shadow",16),o.TgZ(1294,"field",17),o._uU(1295,"0.1"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(1296,"button",191),o.TgZ(1297,"block",402),o.TgZ(1298,"value",316),o.TgZ(1299,"shadow",16),o.TgZ(1300,"field",17),o._uU(1301,"1"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(1302,"block",403),o.TgZ(1303,"value",306),o.TgZ(1304,"shadow",16),o.TgZ(1305,"field",17),o._uU(1306,"1"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(1307,"value",307),o.TgZ(1308,"shadow",16),o.TgZ(1309,"field",17),o._uU(1310,"3"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(1311,"block",404),o.TgZ(1312,"block",405),o.TgZ(1313,"value",319),o.TgZ(1314,"shadow",16),o.TgZ(1315,"field",17),o._uU(1316,"20"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(1317,"category",406),o._UZ(1318,"button",407),o._UZ(1319,"button",408),o.TgZ(1320,"block",278),o.TgZ(1321,"statement",187),o.TgZ(1322,"block",409),o.TgZ(1323,"next"),o.TgZ(1324,"block",279),o.TgZ(1325,"value",69),o.TgZ(1326,"block",68),o.TgZ(1327,"field",69),o._uU(1328,"Relay ON"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(1329,"next"),o.TgZ(1330,"block",188),o.TgZ(1331,"value",189),o.TgZ(1332,"shadow",16),o.TgZ(1333,"field",17),o._uU(1334,"1"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(1335,"next"),o.TgZ(1336,"block",410),o.TgZ(1337,"next"),o.TgZ(1338,"block",279),o.TgZ(1339,"value",69),o.TgZ(1340,"block",68),o.TgZ(1341,"field",69),o._uU(1342,"Relay OFF"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(1343,"next"),o.TgZ(1344,"block",188),o.TgZ(1345,"value",189),o.TgZ(1346,"shadow",16),o.TgZ(1347,"field",17),o._uU(1348,"1"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(1349,"button",191),o._UZ(1350,"block",409),o._UZ(1351,"block",410),o.qZA(),o.TgZ(1352,"category",411),o._UZ(1353,"button",412),o._UZ(1354,"button",413),o.TgZ(1355,"block",278),o.TgZ(1356,"statement",187),o.TgZ(1357,"block",279),o.TgZ(1358,"value",69),o.TgZ(1359,"block",414),o.TgZ(1360,"field",415),o._uU(1361,"adc0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(1362,"next"),o.TgZ(1363,"block",188),o.TgZ(1364,"value",189),o.TgZ(1365,"shadow",16),o.TgZ(1366,"field",17),o._uU(1367,"0.1"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(1368,"button",191),o._UZ(1369,"block",414),o.qZA(),o.TgZ(1370,"category",416),o._UZ(1371,"button",417),o._UZ(1372,"button",418),o.TgZ(1373,"block",278),o.TgZ(1374,"statement",187),o.TgZ(1375,"block",308),o.TgZ(1376,"field",303),o._uU(1377,"i"),o.qZA(),o.TgZ(1378,"value",306),o.TgZ(1379,"block",16),o.TgZ(1380,"field",17),o._uU(1381,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(1382,"value",307),o.TgZ(1383,"block",16),o.TgZ(1384,"field",17),o._uU(1385,"3"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(1386,"value",309),o.TgZ(1387,"block",16),o.TgZ(1388,"field",17),o._uU(1389,"1"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(1390,"statement",310),o.TgZ(1391,"block",419),o.TgZ(1392,"field",420),o._uU(1393,"dac0"),o.qZA(),o.TgZ(1394,"field",421),o._uU(1395,"True"),o.qZA(),o.TgZ(1396,"value",306),o.TgZ(1397,"shadow",16),o.TgZ(1398,"field",17),o._uU(1399,"1"),o.qZA(),o.qZA(),o.TgZ(1400,"block",312),o.TgZ(1401,"field",303),o._uU(1402,"i"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(1403,"next"),o.TgZ(1404,"block",279),o.TgZ(1405,"value",69),o.TgZ(1406,"block",422),o.TgZ(1407,"value",423),o.TgZ(1408,"shadow",68),o._UZ(1409,"field",69),o.qZA(),o.TgZ(1410,"block",424),o.TgZ(1411,"value",304),o.TgZ(1412,"block",312),o.TgZ(1413,"field",303),o._uU(1414,"i"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(1415,"value",425),o.TgZ(1416,"block",68),o.TgZ(1417,"field",69),o._uU(1418,"V"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(1419,"next"),o.TgZ(1420,"block",188),o.TgZ(1421,"value",189),o.TgZ(1422,"shadow",16),o.TgZ(1423,"field",17),o._uU(1424,"1"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(1425,"button",191),o.TgZ(1426,"block",419),o.TgZ(1427,"value",306),o.TgZ(1428,"shadow",16),o.TgZ(1429,"field",17),o._uU(1430,"1"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(1431,"block",426),o.TgZ(1432,"value",306),o.TgZ(1433,"shadow",16),o.TgZ(1434,"field",17),o._uU(1435,"1"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(1436,"category",427),o._UZ(1437,"button",428),o._UZ(1438,"button",429),o.TgZ(1439,"block",278),o.TgZ(1440,"statement",187),o.TgZ(1441,"block",279),o.TgZ(1442,"value",69),o.TgZ(1443,"block",430),o.TgZ(1444,"field",431),o._uU(1445,"tof0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(1446,"next"),o.TgZ(1447,"block",188),o.TgZ(1448,"value",189),o.TgZ(1449,"shadow",16),o.TgZ(1450,"field",17),o._uU(1451,"0.1"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(1452,"button",191),o._UZ(1453,"block",430),o.qZA(),o.TgZ(1454,"category",432),o._UZ(1455,"button",433),o._UZ(1456,"button",434),o.TgZ(1457,"block",278),o.TgZ(1458,"statement",187),o.TgZ(1459,"block",279),o.TgZ(1460,"value",69),o.TgZ(1461,"block",435),o.TgZ(1462,"field",436),o._uU(1463,"ncir0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(1464,"next"),o.TgZ(1465,"block",188),o.TgZ(1466,"value",189),o.TgZ(1467,"shadow",16),o.TgZ(1468,"field",17),o._uU(1469,"0.2"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(1470,"button",191),o._UZ(1471,"block",435),o.qZA(),o.TgZ(1472,"category",437),o._UZ(1473,"button",438),o._UZ(1474,"button",439),o.TgZ(1475,"block",278),o.TgZ(1476,"statement",187),o.TgZ(1477,"block",440),o.TgZ(1478,"field",436),o._uU(1479,"ir0"),o.qZA(),o.TgZ(1480,"next"),o.TgZ(1481,"block",291),o.TgZ(1482,"value",292),o.TgZ(1483,"block",293),o.TgZ(1484,"field",294),o._uU(1485,"EQ"),o.qZA(),o.TgZ(1486,"value",295),o.TgZ(1487,"block",441),o.TgZ(1488,"field",436),o._uU(1489,"ir0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(1490,"value",36),o.TgZ(1491,"block",16),o.TgZ(1492,"field",17),o._uU(1493,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(1494,"statement",297),o.TgZ(1495,"block",279),o.TgZ(1496,"value",69),o.TgZ(1497,"block",68),o.TgZ(1498,"field",69),o._uU(1499,"Detected"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(1500,"next"),o.TgZ(1501,"block",188),o.TgZ(1502,"value",189),o.TgZ(1503,"shadow",16),o.TgZ(1504,"field",17),o._uU(1505,"0.1"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(1506,"statement",298),o.TgZ(1507,"block",279),o.TgZ(1508,"value",69),o.TgZ(1509,"block",68),o.TgZ(1510,"field",69),o._uU(1511,"Not detected"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(1512,"button",442),o._UZ(1513,"button",443),o._UZ(1514,"sep",252),o._UZ(1515,"button",444),o.TgZ(1516,"block",445),o.TgZ(1517,"value",446),o.TgZ(1518,"shadow",16),o.TgZ(1519,"field",17),o._uU(1520,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(1521,"value",447),o.TgZ(1522,"shadow",16),o.TgZ(1523,"field",17),o._uU(1524,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(1525,"block",448),o._UZ(1526,"button",449),o._UZ(1527,"block",441),o._UZ(1528,"block",440),o._UZ(1529,"block",450),o.qZA(),o.TgZ(1530,"category",451),o._UZ(1531,"button",452),o._UZ(1532,"button",453),o.TgZ(1533,"block",454),o.TgZ(1534,"field",455),o._uU(1535,"ext_io0"),o.qZA(),o.TgZ(1536,"field",456),o._uU(1537,"ALL_OUTPUT"),o.qZA(),o.TgZ(1538,"next"),o.TgZ(1539,"block",8),o.TgZ(1540,"statement",187),o.TgZ(1541,"block",457),o.TgZ(1542,"field",455),o._uU(1543,"ext_io0"),o.qZA(),o.TgZ(1544,"field",458),o._uU(1545,"1"),o.qZA(),o.TgZ(1546,"field",304),o._uU(1547,"0"),o.qZA(),o.TgZ(1548,"next"),o.TgZ(1549,"block",188),o.TgZ(1550,"value",189),o.TgZ(1551,"shadow",16),o.TgZ(1552,"field",17),o._uU(1553,"0.2"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(1554,"next"),o.TgZ(1555,"block",457),o.TgZ(1556,"field",455),o._uU(1557,"ext_io0"),o.qZA(),o.TgZ(1558,"field",458),o._uU(1559,"2"),o.qZA(),o.TgZ(1560,"field",304),o._uU(1561,"0"),o.qZA(),o.TgZ(1562,"next"),o.TgZ(1563,"block",188),o.TgZ(1564,"value",189),o.TgZ(1565,"shadow",16),o.TgZ(1566,"field",17),o._uU(1567,"0.2"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(1568,"next"),o.TgZ(1569,"block",457),o.TgZ(1570,"field",455),o._uU(1571,"ext_io0"),o.qZA(),o.TgZ(1572,"field",458),o._uU(1573,"3"),o.qZA(),o.TgZ(1574,"field",304),o._uU(1575,"0"),o.qZA(),o.TgZ(1576,"next"),o.TgZ(1577,"block",188),o.TgZ(1578,"value",189),o.TgZ(1579,"shadow",16),o.TgZ(1580,"field",17),o._uU(1581,"0.2"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(1582,"next"),o.TgZ(1583,"block",457),o.TgZ(1584,"field",455),o._uU(1585,"ext_io0"),o.qZA(),o.TgZ(1586,"field",458),o._uU(1587,"4"),o.qZA(),o.TgZ(1588,"field",304),o._uU(1589,"0"),o.qZA(),o.TgZ(1590,"next"),o.TgZ(1591,"block",188),o.TgZ(1592,"value",189),o.TgZ(1593,"shadow",16),o.TgZ(1594,"field",17),o._uU(1595,"0.2"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(1596,"next"),o.TgZ(1597,"block",457),o.TgZ(1598,"field",455),o._uU(1599,"ext_io0"),o.qZA(),o.TgZ(1600,"field",458),o._uU(1601,"1"),o.qZA(),o.TgZ(1602,"field",304),o._uU(1603,"1"),o.qZA(),o.TgZ(1604,"next"),o.TgZ(1605,"block",188),o.TgZ(1606,"value",189),o.TgZ(1607,"shadow",16),o.TgZ(1608,"field",17),o._uU(1609,"0.2"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(1610,"next"),o.TgZ(1611,"block",457),o.TgZ(1612,"field",455),o._uU(1613,"ext_io0"),o.qZA(),o.TgZ(1614,"field",458),o._uU(1615,"2"),o.qZA(),o.TgZ(1616,"field",304),o._uU(1617,"1"),o.qZA(),o.TgZ(1618,"next"),o.TgZ(1619,"block",188),o.TgZ(1620,"value",189),o.TgZ(1621,"shadow",16),o.TgZ(1622,"field",17),o._uU(1623,"0.2"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(1624,"next"),o.TgZ(1625,"block",457),o.TgZ(1626,"field",455),o._uU(1627,"ext_io0"),o.qZA(),o.TgZ(1628,"field",458),o._uU(1629,"3"),o.qZA(),o.TgZ(1630,"field",304),o._uU(1631,"1"),o.qZA(),o.TgZ(1632,"next"),o.TgZ(1633,"block",188),o.TgZ(1634,"value",189),o.TgZ(1635,"shadow",16),o.TgZ(1636,"field",17),o._uU(1637,"0.2"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(1638,"next"),o.TgZ(1639,"block",457),o.TgZ(1640,"field",455),o._uU(1641,"ext_io0"),o.qZA(),o.TgZ(1642,"field",458),o._uU(1643,"4"),o.qZA(),o.TgZ(1644,"field",304),o._uU(1645,"1"),o.qZA(),o.TgZ(1646,"next"),o.TgZ(1647,"block",188),o.TgZ(1648,"value",189),o.TgZ(1649,"shadow",16),o.TgZ(1650,"field",17),o._uU(1651,"0.2"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(1652,"button",191),o._UZ(1653,"block",459),o._UZ(1654,"block",460),o.TgZ(1655,"block",461),o.TgZ(1656,"value",306),o.TgZ(1657,"shadow",16),o.TgZ(1658,"field",17),o._uU(1659,"1"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(1660,"block",457),o._UZ(1661,"block",462),o._UZ(1662,"block",463),o.qZA(),o.TgZ(1663,"category",464),o._UZ(1664,"button",465),o._UZ(1665,"button",466),o.TgZ(1666,"block",278),o.TgZ(1667,"statement",187),o.TgZ(1668,"block",279),o.TgZ(1669,"value",69),o.TgZ(1670,"block",422),o.TgZ(1671,"value",423),o.TgZ(1672,"shadow",68),o.TgZ(1673,"field",69),o._uU(1674,"R:"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(1675,"value",425),o.TgZ(1676,"block",424),o.TgZ(1677,"value",304),o.TgZ(1678,"block",467),o.TgZ(1679,"field",314),o._uU(1680,"color0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(1681,"next"),o.TgZ(1682,"block",279),o.TgZ(1683,"value",69),o.TgZ(1684,"block",422),o.TgZ(1685,"value",423),o.TgZ(1686,"shadow",68),o.TgZ(1687,"field",69),o._uU(1688,"G:"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(1689,"value",425),o.TgZ(1690,"block",424),o.TgZ(1691,"value",304),o.TgZ(1692,"block",468),o.TgZ(1693,"field",314),o._uU(1694,"color0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(1695,"next"),o.TgZ(1696,"block",279),o.TgZ(1697,"value",69),o.TgZ(1698,"block",422),o.TgZ(1699,"value",423),o.TgZ(1700,"shadow",68),o.TgZ(1701,"field",69),o._uU(1702,"B:"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(1703,"value",425),o.TgZ(1704,"block",424),o.TgZ(1705,"value",304),o.TgZ(1706,"block",469),o.TgZ(1707,"field",314),o._uU(1708,"color0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(1709,"button",191),o._UZ(1710,"block",470),o._UZ(1711,"block",467),o._UZ(1712,"block",468),o._UZ(1713,"block",469),o.qZA(),o.TgZ(1714,"category",471),o._UZ(1715,"button",472),o._UZ(1716,"button",473),o.TgZ(1717,"block",474),o.TgZ(1718,"field",475),o._uU(1719,"finger0"),o.qZA(),o.TgZ(1720,"field",476),o._uU(1721,"1"),o.qZA(),o.TgZ(1722,"value",477),o.TgZ(1723,"shadow",16),o.TgZ(1724,"field",17),o._uU(1725,"1"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(1726,"button",478),o.TgZ(1727,"block",479),o.TgZ(1728,"statement",480),o.TgZ(1729,"block",360),o.TgZ(1730,"value",292),o.TgZ(1731,"block",481),o.TgZ(1732,"field",294),o._uU(1733,"AND"),o.qZA(),o.TgZ(1734,"value",295),o.TgZ(1735,"block",293),o.TgZ(1736,"field",294),o._uU(1737,"EQ"),o.qZA(),o.TgZ(1738,"value",295),o._UZ(1739,"block",482),o.qZA(),o.TgZ(1740,"value",36),o.TgZ(1741,"block",16),o.TgZ(1742,"field",17),o._uU(1743,"1"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(1744,"value",36),o.TgZ(1745,"block",293),o.TgZ(1746,"field",294),o._uU(1747,"EQ"),o.qZA(),o.TgZ(1748,"value",295),o._UZ(1749,"block",483),o.qZA(),o.TgZ(1750,"value",36),o.TgZ(1751,"block",16),o.TgZ(1752,"field",17),o._uU(1753,"1"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(1754,"statement",297),o.TgZ(1755,"block",395),o.TgZ(1756,"field",314),o._uU(1757,"#33ff33"),o.qZA(),o.TgZ(1758,"next"),o.TgZ(1759,"block",188),o.TgZ(1760,"value",189),o.TgZ(1761,"shadow",16),o.TgZ(1762,"field",17),o._uU(1763,"1"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(1764,"next"),o.TgZ(1765,"block",395),o.TgZ(1766,"field",314),o._uU(1767,"#000000"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(1768,"button",191),o._UZ(1769,"block",484),o._UZ(1770,"block",482),o._UZ(1771,"block",483),o._UZ(1772,"block",485),o.TgZ(1773,"block",486),o.TgZ(1774,"value",477),o.TgZ(1775,"shadow",16),o.TgZ(1776,"field",17),o._uU(1777,"1"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(1778,"block",487),o.TgZ(1779,"value",477),o.TgZ(1780,"shadow",16),o.TgZ(1781,"field",17),o._uU(1782,"1"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(1783,"value",476),o.TgZ(1784,"shadow",16),o.TgZ(1785,"field",17),o._uU(1786,"1"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(1787,"block",488),o._UZ(1788,"block",489),o.qZA(),o.TgZ(1789,"category",490),o._UZ(1790,"button",491),o._UZ(1791,"button",492),o.TgZ(1792,"block",278),o.TgZ(1793,"statement",187),o.TgZ(1794,"block",279),o.TgZ(1795,"value",69),o.TgZ(1796,"block",493),o.TgZ(1797,"field",494),o._uU(1798,"rfid0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(1799,"next"),o.TgZ(1800,"block",279),o.TgZ(1801,"value",69),o.TgZ(1802,"block",495),o.TgZ(1803,"field",494),o._uU(1804,"rfid0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(1805,"next"),o.TgZ(1806,"block",188),o.TgZ(1807,"value",189),o.TgZ(1808,"shadow",16),o.TgZ(1809,"field",17),o._uU(1810,"0.5"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(1811,"button",191),o.TgZ(1812,"block",496),o.TgZ(1813,"value",304),o.TgZ(1814,"shadow",16),o.TgZ(1815,"field",17),o._uU(1816,"1"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(1817,"block",497),o.TgZ(1818,"value",304),o.TgZ(1819,"shadow",68),o.TgZ(1820,"field",17),o._uU(1821,"1"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(1822,"value",498),o.TgZ(1823,"shadow",16),o.TgZ(1824,"field",17),o._uU(1825,"1"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(1826,"block",493),o._UZ(1827,"block",495),o.qZA(),o.TgZ(1828,"category",499),o._UZ(1829,"button",500),o._UZ(1830,"button",501),o.TgZ(1831,"block",278),o.TgZ(1832,"statement",187),o.TgZ(1833,"block",279),o.TgZ(1834,"value",69),o.TgZ(1835,"block",502),o.TgZ(1836,"field",503),o._uU(1837,"cardkb0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(1838,"next"),o.TgZ(1839,"block",279),o.TgZ(1840,"value",69),o.TgZ(1841,"block",504),o.TgZ(1842,"field",505),o._uU(1843,"cardkb0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(1844,"next"),o.TgZ(1845,"block",188),o.TgZ(1846,"value",189),o.TgZ(1847,"shadow",16),o.TgZ(1848,"field",17),o._uU(1849,"0.1"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(1850,"button",191),o._UZ(1851,"block",502),o._UZ(1852,"block",504),o._UZ(1853,"block",506),o.qZA(),o.TgZ(1854,"category",507),o._UZ(1855,"button",508),o._UZ(1856,"button",509),o.TgZ(1857,"block",510),o.TgZ(1858,"field",511),o._uU(1859,"2"),o.qZA(),o.TgZ(1860,"value",512),o.TgZ(1861,"shadow",16),o.TgZ(1862,"field",17),o._uU(1863,"100"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(1864,"next"),o.TgZ(1865,"block",513),o.TgZ(1866,"field",511),o._uU(1867,"2"),o.qZA(),o.TgZ(1868,"field",314),o._uU(1869,"#ff0000"),o.qZA(),o.TgZ(1870,"value",514),o.TgZ(1871,"shadow",16),o.TgZ(1872,"field",17),o._uU(1873,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(1874,"value",515),o.TgZ(1875,"shadow",16),o.TgZ(1876,"field",17),o._uU(1877,"3"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(1878,"button",191),o._UZ(1879,"block",516),o.TgZ(1880,"block",517),o.TgZ(1881,"value",512),o.TgZ(1882,"shadow",16),o.TgZ(1883,"field",17),o._uU(1884,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(1885,"block",518),o.TgZ(1886,"value",519),o.TgZ(1887,"shadow",16),o.TgZ(1888,"field",17),o._uU(1889,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(1890,"block",520),o.TgZ(1891,"value",512),o.TgZ(1892,"shadow",16),o.TgZ(1893,"field",17),o._uU(1894,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(1895,"block",521),o.TgZ(1896,"block",513),o.TgZ(1897,"value",514),o.TgZ(1898,"shadow",16),o.TgZ(1899,"field",17),o._uU(1900,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(1901,"value",515),o.TgZ(1902,"shadow",16),o.TgZ(1903,"field",17),o._uU(1904,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(1905,"block",522),o.TgZ(1906,"value",512),o.TgZ(1907,"shadow",16),o.TgZ(1908,"field",17),o._uU(1909,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(1910,"category",523),o._UZ(1911,"button",524),o._UZ(1912,"button",525),o.TgZ(1913,"block",526),o.TgZ(1914,"field",527),o._uU(1915,"i2c0"),o.qZA(),o.TgZ(1916,"field",528),o._uU(1917,"PORTA"),o.qZA(),o.TgZ(1918,"field",529),o._uU(1919,"0x70"),o.qZA(),o.TgZ(1920,"field",530),o._uU(1921,"400000"),o.qZA(),o.TgZ(1922,"next"),o.TgZ(1923,"block",531),o.TgZ(1924,"field",532),o._uU(1925,"0"),o.qZA(),o.TgZ(1926,"field",533),o._uU(1927,"0"),o.qZA(),o.TgZ(1928,"next"),o.TgZ(1929,"block",279),o.TgZ(1930,"value",69),o.TgZ(1931,"block",68),o.TgZ(1932,"field",69),o._uU(1933,"Close"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(1934,"next"),o.TgZ(1935,"block",534),o.TgZ(1936,"field",533),o._uU(1937,"0x01"),o.qZA(),o.TgZ(1938,"next"),o.TgZ(1939,"block",279),o.TgZ(1940,"value",69),o.TgZ(1941,"block",68),o.TgZ(1942,"field",69),o._uU(1943,"Open"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(1944,"button",191),o._UZ(1945,"block",531),o._UZ(1946,"block",535),o._UZ(1947,"block",534),o.qZA(),o.TgZ(1948,"category",536),o._UZ(1949,"button",537),o.TgZ(1950,"block",538),o.TgZ(1951,"value",539),o.TgZ(1952,"shadow",16),o.TgZ(1953,"field",17),o._uU(1954,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(1955,"value",540),o.TgZ(1956,"shadow",16),o.TgZ(1957,"field",17),o._uU(1958,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(1959,"block",541),o._UZ(1960,"block",542),o._UZ(1961,"block",543),o.TgZ(1962,"block",544),o.TgZ(1963,"value",545),o.TgZ(1964,"shadow",16),o.TgZ(1965,"field",17),o._uU(1966,"35"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(1967,"block",546),o.TgZ(1968,"value",545),o.TgZ(1969,"shadow",16),o.TgZ(1970,"field",17),o._uU(1971,"24"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(1972,"block",547),o.TgZ(1973,"value",539),o.TgZ(1974,"shadow",16),o.TgZ(1975,"field",17),o._uU(1976,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(1977,"value",540),o.TgZ(1978,"shadow",16),o.TgZ(1979,"field",17),o._uU(1980,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(1981,"category",548),o.TgZ(1982,"category",549),o._UZ(1983,"button",550),o._UZ(1984,"button",551),o.TgZ(1985,"block",278),o.TgZ(1986,"statement",187),o.TgZ(1987,"block",279),o.TgZ(1988,"value",69),o.TgZ(1989,"block",552),o.TgZ(1990,"field",553),o._uU(1991,"accel0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(1992,"next"),o.TgZ(1993,"block",279),o.TgZ(1994,"value",69),o.TgZ(1995,"block",554),o.TgZ(1996,"field",553),o._uU(1997,"accel0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(1998,"next"),o.TgZ(1999,"block",279),o.TgZ(2e3,"value",69),o.TgZ(2001,"block",555),o.TgZ(2002,"field",553),o._uU(2003,"accel0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(2004,"button",191),o._UZ(2005,"block",552),o._UZ(2006,"block",554),o._UZ(2007,"block",555),o.qZA(),o.TgZ(2008,"category",556),o._UZ(2009,"button",557),o._UZ(2010,"button",558),o.TgZ(2011,"block",559),o.TgZ(2012,"value",304),o.TgZ(2013,"shadow",16),o.TgZ(2014,"field",17),o._uU(2015,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(2016,"button",191),o.TgZ(2017,"block",560),o.TgZ(2018,"value",304),o.TgZ(2019,"shadow",16),o.TgZ(2020,"field",17),o._uU(2021,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(2022,"category",561),o.TgZ(2023,"category",562),o._UZ(2024,"button",563),o._UZ(2025,"button",564),o.TgZ(2026,"block",565),o.TgZ(2027,"next"),o.TgZ(2028,"block",566),o.TgZ(2029,"value",567),o.TgZ(2030,"shadow",16),o.TgZ(2031,"field",17),o._uU(2032,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(2033,"next"),o.TgZ(2034,"block",568),o.TgZ(2035,"field",372),o._uU(2036,"0"),o.qZA(),o.TgZ(2037,"next"),o.TgZ(2038,"block",8),o.TgZ(2039,"statement",187),o.TgZ(2040,"block",291),o.TgZ(2041,"value",292),o.TgZ(2042,"block",293),o.TgZ(2043,"field",294),o._uU(2044,"GTE"),o.qZA(),o.TgZ(2045,"value",295),o._UZ(2046,"block",569),o.qZA(),o.TgZ(2047,"value",36),o.TgZ(2048,"block",16),o.TgZ(2049,"field",17),o._uU(2050,"50"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(2051,"statement",297),o.TgZ(2052,"block",279),o.TgZ(2053,"value",69),o.TgZ(2054,"block",68),o.TgZ(2055,"field",69),o._uU(2056,"Moved"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(2057,"statement",298),o.TgZ(2058,"block",279),o.TgZ(2059,"value",69),o.TgZ(2060,"block",68),o.TgZ(2061,"field",69),o._uU(2062,"Not Move"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(2063,"button",191),o._UZ(2064,"block",570),o.TgZ(2065,"block",566),o.TgZ(2066,"value",567),o.TgZ(2067,"shadow",16),o.TgZ(2068,"field",17),o._uU(2069,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(2070,"block",568),o._UZ(2071,"block",571),o._UZ(2072,"block",569),o.TgZ(2073,"block",572),o.TgZ(2074,"value",539),o.TgZ(2075,"shadow",16),o.TgZ(2076,"field",17),o._uU(2077,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(2078,"value",540),o.TgZ(2079,"shadow",16),o.TgZ(2080,"field",17),o._uU(2081,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(2082,"block",573),o.TgZ(2083,"block",574),o.TgZ(2084,"value",575),o.TgZ(2085,"shadow",16),o.TgZ(2086,"field",17),o._uU(2087,"1"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(2088,"category",576),o._UZ(2089,"button",563),o._UZ(2090,"button",577),o.TgZ(2091,"block",578),o.TgZ(2092,"next"),o.TgZ(2093,"block",579),o.TgZ(2094,"value",28),o.TgZ(2095,"shadow",16),o.TgZ(2096,"field",17),o._uU(2097,"50"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(2098,"value",29),o.TgZ(2099,"shadow",16),o.TgZ(2100,"field",17),o._uU(2101,"50"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(2102,"value",580),o.TgZ(2103,"shadow",16),o.TgZ(2104,"field",17),o._uU(2105,"30"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(2106,"value",581),o.TgZ(2107,"shadow",16),o.TgZ(2108,"field",17),o._uU(2109,"30"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(2110,"next"),o.TgZ(2111,"block",8),o.TgZ(2112,"statement",187),o.TgZ(2113,"block",279),o.TgZ(2114,"value",69),o.TgZ(2115,"block",422),o.TgZ(2116,"value",423),o.TgZ(2117,"shadow",68),o.TgZ(2118,"field",69),o._uU(2119,"X :"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(2120,"value",425),o.TgZ(2121,"block",422),o.TgZ(2122,"value",423),o.TgZ(2123,"shadow",68),o._UZ(2124,"field",69),o.qZA(),o.TgZ(2125,"block",582),o._UZ(2126,"mutation",583),o.TgZ(2127,"field",456),o._uU(2128,"GET"),o.qZA(),o.TgZ(2129,"field",584),o._uU(2130,"FROM_START"),o.qZA(),o.TgZ(2131,"value",304),o._UZ(2132,"block",585),o.qZA(),o.TgZ(2133,"value",586),o.TgZ(2134,"block",16),o.TgZ(2135,"field",17),o._uU(2136,"1"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(2137,"value",425),o.TgZ(2138,"block",422),o.TgZ(2139,"value",423),o.TgZ(2140,"shadow",68),o.TgZ(2141,"field",69),o._uU(2142,"Y :"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(2143,"value",425),o.TgZ(2144,"block",582),o._UZ(2145,"mutation",583),o.TgZ(2146,"field",456),o._uU(2147,"GET"),o.qZA(),o.TgZ(2148,"field",584),o._uU(2149,"FROM_START"),o.qZA(),o.TgZ(2150,"value",304),o._UZ(2151,"block",585),o.qZA(),o.TgZ(2152,"value",586),o.TgZ(2153,"block",16),o.TgZ(2154,"field",17),o._uU(2155,"3"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(2156,"next"),o.TgZ(2157,"block",188),o.TgZ(2158,"value",189),o.TgZ(2159,"shadow",16),o.TgZ(2160,"field",17),o._uU(2161,"1"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(2162,"button",191),o._UZ(2163,"block",587),o.TgZ(2164,"block",579),o.TgZ(2165,"value",28),o.TgZ(2166,"shadow",16),o.TgZ(2167,"field",17),o._uU(2168,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(2169,"value",29),o.TgZ(2170,"shadow",16),o.TgZ(2171,"field",17),o._uU(2172,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(2173,"value",580),o.TgZ(2174,"shadow",16),o.TgZ(2175,"field",17),o._uU(2176,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(2177,"value",581),o.TgZ(2178,"shadow",16),o.TgZ(2179,"field",17),o._uU(2180,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(2181,"block",585),o.qZA(),o.TgZ(2182,"category",588),o._UZ(2183,"button",563),o._UZ(2184,"button",589),o.TgZ(2185,"block",590),o.TgZ(2186,"next"),o.TgZ(2187,"block",8),o.TgZ(2188,"statement",187),o.TgZ(2189,"block",302),o.TgZ(2190,"field",303),o._uU(2191,"box_detail"),o.qZA(),o.TgZ(2192,"value",304),o.TgZ(2193,"block",591),o.TgZ(2194,"value",575),o.TgZ(2195,"shadow",16),o.TgZ(2196,"field",17),o._uU(2197,"1"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(2198,"next"),o.TgZ(2199,"block",279),o.TgZ(2200,"value",69),o.TgZ(2201,"block",422),o.TgZ(2202,"value",423),o.TgZ(2203,"shadow",68),o.TgZ(2204,"field",69),o._uU(2205,"Box number: "),o.qZA(),o.qZA(),o.qZA(),o.TgZ(2206,"value",425),o._UZ(2207,"block",592),o.qZA(),o.qZA(),o.qZA(),o.TgZ(2208,"next"),o.TgZ(2209,"block",279),o.TgZ(2210,"value",69),o.TgZ(2211,"block",422),o.TgZ(2212,"value",423),o.TgZ(2213,"shadow",68),o.TgZ(2214,"field",69),o._uU(2215,"Box1 pixels changed: "),o.qZA(),o.qZA(),o.qZA(),o.TgZ(2216,"value",425),o.TgZ(2217,"block",582),o._UZ(2218,"mutation",583),o.TgZ(2219,"field",456),o._uU(2220,"GET"),o.qZA(),o.TgZ(2221,"field",584),o._uU(2222,"FROM_START"),o.qZA(),o.TgZ(2223,"value",304),o.TgZ(2224,"block",312),o.TgZ(2225,"field",303),o._uU(2226,"box_detail"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(2227,"value",586),o.TgZ(2228,"block",16),o.TgZ(2229,"field",17),o._uU(2230,"1"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(2231,"next"),o.TgZ(2232,"block",279),o.TgZ(2233,"value",69),o.TgZ(2234,"block",422),o.TgZ(2235,"value",423),o.TgZ(2236,"shadow",68),o.TgZ(2237,"field",69),o._uU(2238,"Box1 x: "),o.qZA(),o.qZA(),o.qZA(),o.TgZ(2239,"value",425),o.TgZ(2240,"block",582),o._UZ(2241,"mutation",583),o.TgZ(2242,"field",456),o._uU(2243,"GET"),o.qZA(),o.TgZ(2244,"field",584),o._uU(2245,"FROM_START"),o.qZA(),o.TgZ(2246,"value",304),o.TgZ(2247,"block",312),o.TgZ(2248,"field",303),o._uU(2249,"box_detail"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(2250,"value",586),o.TgZ(2251,"block",16),o.TgZ(2252,"field",17),o._uU(2253,"2"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(2254,"next"),o.TgZ(2255,"block",279),o.TgZ(2256,"value",69),o.TgZ(2257,"block",422),o.TgZ(2258,"value",423),o.TgZ(2259,"shadow",68),o.TgZ(2260,"field",69),o._uU(2261,"Box1 y: "),o.qZA(),o.qZA(),o.qZA(),o.TgZ(2262,"value",425),o.TgZ(2263,"block",582),o._UZ(2264,"mutation",583),o.TgZ(2265,"field",456),o._uU(2266,"GET"),o.qZA(),o.TgZ(2267,"field",584),o._uU(2268,"FROM_START"),o.qZA(),o.TgZ(2269,"value",304),o.TgZ(2270,"block",312),o.TgZ(2271,"field",303),o._uU(2272,"box_detail"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(2273,"value",586),o.TgZ(2274,"block",16),o.TgZ(2275,"field",17),o._uU(2276,"3"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(2277,"next"),o.TgZ(2278,"block",279),o.TgZ(2279,"value",69),o.TgZ(2280,"block",422),o.TgZ(2281,"value",423),o.TgZ(2282,"shadow",68),o.TgZ(2283,"field",69),o._uU(2284,"Box1 w: "),o.qZA(),o.qZA(),o.qZA(),o.TgZ(2285,"value",425),o.TgZ(2286,"block",582),o._UZ(2287,"mutation",583),o.TgZ(2288,"field",456),o._uU(2289,"GET"),o.qZA(),o.TgZ(2290,"field",584),o._uU(2291,"FROM_START"),o.qZA(),o.TgZ(2292,"value",304),o.TgZ(2293,"block",312),o.TgZ(2294,"field",303),o._uU(2295,"box_detail"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(2296,"value",586),o.TgZ(2297,"block",16),o.TgZ(2298,"field",17),o._uU(2299,"4"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(2300,"next"),o.TgZ(2301,"block",279),o.TgZ(2302,"value",69),o.TgZ(2303,"block",422),o.TgZ(2304,"value",423),o.TgZ(2305,"shadow",68),o.TgZ(2306,"field",69),o._uU(2307,"Box1 h: "),o.qZA(),o.qZA(),o.qZA(),o.TgZ(2308,"value",425),o.TgZ(2309,"block",582),o._UZ(2310,"mutation",583),o.TgZ(2311,"field",456),o._uU(2312,"GET"),o.qZA(),o.TgZ(2313,"field",584),o._uU(2314,"FROM_START"),o.qZA(),o.TgZ(2315,"value",304),o.TgZ(2316,"block",312),o.TgZ(2317,"field",303),o._uU(2318,"box_detail"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(2319,"value",586),o.TgZ(2320,"block",16),o.TgZ(2321,"field",17),o._uU(2322,"5"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(2323,"button",191),o._UZ(2324,"block",593),o.TgZ(2325,"block",594),o.TgZ(2326,"value",595),o.TgZ(2327,"shadow",16),o.TgZ(2328,"field",17),o._uU(2329,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(2330,"value",596),o.TgZ(2331,"shadow",16),o.TgZ(2332,"field",17),o._uU(2333,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(2334,"value",597),o.TgZ(2335,"shadow",16),o.TgZ(2336,"field",17),o._uU(2337,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(2338,"value",598),o.TgZ(2339,"shadow",16),o.TgZ(2340,"field",17),o._uU(2341,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(2342,"value",599),o.TgZ(2343,"shadow",16),o.TgZ(2344,"field",17),o._uU(2345,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(2346,"value",600),o.TgZ(2347,"shadow",16),o.TgZ(2348,"field",17),o._uU(2349,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(2350,"block",601),o.TgZ(2351,"value",539),o.TgZ(2352,"shadow",16),o.TgZ(2353,"field",17),o._uU(2354,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(2355,"value",540),o.TgZ(2356,"shadow",16),o.TgZ(2357,"field",17),o._uU(2358,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(2359,"block",602),o.TgZ(2360,"value",603),o.TgZ(2361,"shadow",16),o.TgZ(2362,"field",17),o._uU(2363,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(2364,"block",604),o.TgZ(2365,"value",580),o.TgZ(2366,"shadow",16),o.TgZ(2367,"field",17),o._uU(2368,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(2369,"value",581),o.TgZ(2370,"shadow",16),o.TgZ(2371,"field",17),o._uU(2372,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(2373,"block",592),o.TgZ(2374,"block",591),o.TgZ(2375,"value",575),o.TgZ(2376,"shadow",16),o.TgZ(2377,"field",17),o._uU(2378,"1"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(2379,"category",605),o._UZ(2380,"button",563),o._UZ(2381,"button",606),o.TgZ(2382,"block",607),o.TgZ(2383,"next"),o.TgZ(2384,"block",8),o.TgZ(2385,"statement",187),o.TgZ(2386,"block",279),o.TgZ(2387,"value",69),o.TgZ(2388,"block",422),o.TgZ(2389,"value",423),o.TgZ(2390,"shadow",68),o.TgZ(2391,"field",69),o._uU(2392,"FaceNumber: "),o.qZA(),o.qZA(),o.qZA(),o.TgZ(2393,"value",425),o._UZ(2394,"block",608),o.qZA(),o.qZA(),o.qZA(),o.TgZ(2395,"next"),o.TgZ(2396,"block",302),o.TgZ(2397,"field",303),o._uU(2398,"data_detail"),o.qZA(),o.TgZ(2399,"value",304),o.TgZ(2400,"block",609),o.TgZ(2401,"value",575),o.TgZ(2402,"shadow",16),o.TgZ(2403,"field",17),o._uU(2404,"1"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(2405,"next"),o.TgZ(2406,"block",279),o.TgZ(2407,"value",69),o.TgZ(2408,"block",422),o.TgZ(2409,"value",423),o.TgZ(2410,"shadow",68),o.TgZ(2411,"field",69),o._uU(2412,"Face1 value: "),o.qZA(),o.qZA(),o.qZA(),o.TgZ(2413,"value",425),o.TgZ(2414,"block",422),o.TgZ(2415,"value",423),o.TgZ(2416,"shadow",68),o._UZ(2417,"field",69),o.qZA(),o.TgZ(2418,"block",610),o.TgZ(2419,"value",423),o.TgZ(2420,"block",611),o.TgZ(2421,"field",294),o._uU(2422,"MULTIPLY"),o.qZA(),o.TgZ(2423,"value",295),o.TgZ(2424,"block",582),o._UZ(2425,"mutation",583),o.TgZ(2426,"field",456),o._uU(2427,"GET"),o.qZA(),o.TgZ(2428,"field",584),o._uU(2429,"FROM_START"),o.qZA(),o.TgZ(2430,"value",304),o.TgZ(2431,"block",312),o.TgZ(2432,"field",303),o._uU(2433,"data_detail"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(2434,"value",586),o.TgZ(2435,"block",16),o.TgZ(2436,"field",17),o._uU(2437,"1"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(2438,"value",36),o.TgZ(2439,"block",16),o.TgZ(2440,"field",17),o._uU(2441,"100"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(2442,"value",425),o.TgZ(2443,"shadow",16),o.TgZ(2444,"field",17),o._uU(2445,"2"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(2446,"value",425),o.TgZ(2447,"block",68),o.TgZ(2448,"field",69),o._uU(2449,"%"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(2450,"next"),o.TgZ(2451,"block",279),o.TgZ(2452,"value",69),o.TgZ(2453,"block",422),o.TgZ(2454,"value",423),o.TgZ(2455,"shadow",68),o.TgZ(2456,"field",69),o._uU(2457,"Face1 X: "),o.qZA(),o.qZA(),o.qZA(),o.TgZ(2458,"value",425),o.TgZ(2459,"block",582),o._UZ(2460,"mutation",583),o.TgZ(2461,"field",456),o._uU(2462,"GET"),o.qZA(),o.TgZ(2463,"field",584),o._uU(2464,"FROM_START"),o.qZA(),o.TgZ(2465,"value",304),o.TgZ(2466,"block",312),o.TgZ(2467,"field",303),o._uU(2468,"data_detail"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(2469,"value",586),o.TgZ(2470,"block",16),o.TgZ(2471,"field",17),o._uU(2472,"2"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(2473,"next"),o.TgZ(2474,"block",279),o.TgZ(2475,"value",69),o.TgZ(2476,"block",422),o.TgZ(2477,"value",423),o.TgZ(2478,"shadow",68),o.TgZ(2479,"field",69),o._uU(2480,"Face1 Y: "),o.qZA(),o.qZA(),o.qZA(),o.TgZ(2481,"value",425),o.TgZ(2482,"block",582),o._UZ(2483,"mutation",583),o.TgZ(2484,"field",456),o._uU(2485,"GET"),o.qZA(),o.TgZ(2486,"field",584),o._uU(2487,"FROM_START"),o.qZA(),o.TgZ(2488,"value",304),o.TgZ(2489,"block",312),o.TgZ(2490,"field",303),o._uU(2491,"data_detail"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(2492,"value",586),o.TgZ(2493,"block",16),o.TgZ(2494,"field",17),o._uU(2495,"3"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(2496,"next"),o.TgZ(2497,"block",279),o.TgZ(2498,"value",69),o.TgZ(2499,"block",422),o.TgZ(2500,"value",423),o.TgZ(2501,"shadow",68),o.TgZ(2502,"field",69),o._uU(2503,"Face1 W: "),o.qZA(),o.qZA(),o.qZA(),o.TgZ(2504,"value",425),o.TgZ(2505,"block",582),o._UZ(2506,"mutation",583),o.TgZ(2507,"field",456),o._uU(2508,"GET"),o.qZA(),o.TgZ(2509,"field",584),o._uU(2510,"FROM_START"),o.qZA(),o.TgZ(2511,"value",304),o.TgZ(2512,"block",312),o.TgZ(2513,"field",303),o._uU(2514,"data_detail"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(2515,"value",586),o.TgZ(2516,"block",16),o.TgZ(2517,"field",17),o._uU(2518,"4"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(2519,"next"),o.TgZ(2520,"block",279),o.TgZ(2521,"value",69),o.TgZ(2522,"block",422),o.TgZ(2523,"value",423),o.TgZ(2524,"shadow",68),o.TgZ(2525,"field",69),o._uU(2526,"Face1 H: "),o.qZA(),o.qZA(),o.qZA(),o.TgZ(2527,"value",425),o.TgZ(2528,"block",582),o._UZ(2529,"mutation",583),o.TgZ(2530,"field",456),o._uU(2531,"GET"),o.qZA(),o.TgZ(2532,"field",584),o._uU(2533,"FROM_START"),o.qZA(),o.TgZ(2534,"value",304),o.TgZ(2535,"block",312),o.TgZ(2536,"field",303),o._uU(2537,"data_detail"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(2538,"value",586),o.TgZ(2539,"block",16),o.TgZ(2540,"field",17),o._uU(2541,"5"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(2542,"button",191),o._UZ(2543,"block",612),o._UZ(2544,"block",608),o.TgZ(2545,"block",609),o.TgZ(2546,"value",575),o.TgZ(2547,"shadow",16),o.TgZ(2548,"field",17),o._uU(2549,"1"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(2550,"category",613),o._UZ(2551,"button",563),o._UZ(2552,"button",614),o.TgZ(2553,"block",615),o.TgZ(2554,"next"),o.TgZ(2555,"block",8),o.TgZ(2556,"statement",187),o.TgZ(2557,"block",279),o.TgZ(2558,"value",69),o.TgZ(2559,"block",422),o.TgZ(2560,"value",423),o.TgZ(2561,"shadow",68),o.TgZ(2562,"field",69),o._uU(2563,"QRcode version: "),o.qZA(),o.qZA(),o.qZA(),o.TgZ(2564,"value",425),o._UZ(2565,"block",616),o.qZA(),o.qZA(),o.qZA(),o.TgZ(2566,"next"),o.TgZ(2567,"block",279),o.TgZ(2568,"value",69),o.TgZ(2569,"block",422),o.TgZ(2570,"value",423),o.TgZ(2571,"shadow",68),o.TgZ(2572,"field",69),o._uU(2573,"Code text: "),o.qZA(),o.qZA(),o.qZA(),o.TgZ(2574,"value",425),o._UZ(2575,"block",617),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(2576,"button",191),o._UZ(2577,"block",618),o._UZ(2578,"block",617),o._UZ(2579,"block",616),o.qZA(),o.TgZ(2580,"category",619),o._UZ(2581,"button",563),o._UZ(2582,"button",620),o.TgZ(2583,"block",621),o.TgZ(2584,"next"),o.TgZ(2585,"block",8),o.TgZ(2586,"statement",187),o.TgZ(2587,"block",279),o.TgZ(2588,"value",69),o.TgZ(2589,"block",422),o.TgZ(2590,"value",423),o.TgZ(2591,"shadow",68),o.TgZ(2592,"field",69),o._uU(2593,"AprilTag location: "),o.qZA(),o.qZA(),o.qZA(),o.TgZ(2594,"value",425),o._UZ(2595,"block",622),o.qZA(),o.qZA(),o.qZA(),o.TgZ(2596,"next"),o.TgZ(2597,"block",279),o.TgZ(2598,"value",69),o.TgZ(2599,"block",422),o.TgZ(2600,"value",423),o.TgZ(2601,"shadow",68),o.TgZ(2602,"field",69),o._uU(2603,"AprilTag rotation: "),o.qZA(),o.qZA(),o.qZA(),o.TgZ(2604,"value",425),o._UZ(2605,"block",623),o.qZA(),o.qZA(),o.qZA(),o.TgZ(2606,"next"),o.TgZ(2607,"block",279),o.TgZ(2608,"value",69),o.TgZ(2609,"block",422),o.TgZ(2610,"value",423),o.TgZ(2611,"shadow",68),o.TgZ(2612,"field",69),o._uU(2613,"AprilTag translation: "),o.qZA(),o.qZA(),o.qZA(),o.TgZ(2614,"value",425),o._UZ(2615,"block",624),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(2616,"button",191),o._UZ(2617,"block",625),o._UZ(2618,"block",623),o._UZ(2619,"block",622),o._UZ(2620,"block",624),o.qZA(),o.TgZ(2621,"category",626),o._UZ(2622,"button",563),o._UZ(2623,"button",627),o.TgZ(2624,"block",628),o.TgZ(2625,"next"),o.TgZ(2626,"block",8),o.TgZ(2627,"statement",187),o.TgZ(2628,"block",279),o.TgZ(2629,"value",69),o.TgZ(2630,"block",422),o.TgZ(2631,"value",423),o.TgZ(2632,"shadow",68),o.TgZ(2633,"field",69),o._uU(2634,"Code text: "),o.qZA(),o.qZA(),o.qZA(),o.TgZ(2635,"value",425),o._UZ(2636,"block",629),o.qZA(),o.qZA(),o.qZA(),o.TgZ(2637,"next"),o.TgZ(2638,"block",279),o.TgZ(2639,"value",69),o.TgZ(2640,"block",422),o.TgZ(2641,"value",423),o.TgZ(2642,"shadow",68),o.TgZ(2643,"field",69),o._uU(2644,"Code type: "),o.qZA(),o.qZA(),o.qZA(),o.TgZ(2645,"value",425),o._UZ(2646,"block",630),o.qZA(),o.qZA(),o.qZA(),o.TgZ(2647,"next"),o.TgZ(2648,"block",279),o.TgZ(2649,"value",69),o.TgZ(2650,"block",422),o.TgZ(2651,"value",423),o.TgZ(2652,"shadow",68),o.TgZ(2653,"field",69),o._uU(2654,"Code rotation: "),o.qZA(),o.qZA(),o.qZA(),o.TgZ(2655,"value",425),o._UZ(2656,"block",631),o.qZA(),o.qZA(),o.qZA(),o.TgZ(2657,"next"),o.TgZ(2658,"block",279),o.TgZ(2659,"value",69),o.TgZ(2660,"block",422),o.TgZ(2661,"value",423),o.TgZ(2662,"shadow",68),o.TgZ(2663,"field",69),o._uU(2664,"Code location: "),o.qZA(),o.qZA(),o.qZA(),o.TgZ(2665,"value",425),o._UZ(2666,"block",632),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(2667,"button",191),o._UZ(2668,"block",633),o._UZ(2669,"block",629),o._UZ(2670,"block",630),o._UZ(2671,"block",631),o._UZ(2672,"block",632),o.qZA(),o.TgZ(2673,"category",634),o._UZ(2674,"button",563),o._UZ(2675,"button",635),o.TgZ(2676,"block",636),o.TgZ(2677,"next"),o.TgZ(2678,"block",8),o.TgZ(2679,"statement",187),o.TgZ(2680,"block",279),o.TgZ(2681,"value",69),o.TgZ(2682,"block",422),o.TgZ(2683,"value",423),o.TgZ(2684,"shadow",68),o.TgZ(2685,"field",69),o._uU(2686,"DM code rotation: "),o.qZA(),o.qZA(),o.qZA(),o.TgZ(2687,"value",425),o._UZ(2688,"block",637),o.qZA(),o.qZA(),o.qZA(),o.TgZ(2689,"next"),o.TgZ(2690,"block",279),o.TgZ(2691,"value",69),o.TgZ(2692,"block",422),o.TgZ(2693,"value",423),o.TgZ(2694,"shadow",68),o.TgZ(2695,"field",69),o._uU(2696,"DM code location: "),o.qZA(),o.qZA(),o.qZA(),o.TgZ(2697,"value",425),o._UZ(2698,"block",638),o.qZA(),o.qZA(),o.qZA(),o.TgZ(2699,"next"),o.TgZ(2700,"block",279),o.TgZ(2701,"value",69),o.TgZ(2702,"block",422),o.TgZ(2703,"value",423),o.TgZ(2704,"shadow",68),o.TgZ(2705,"field",69),o._uU(2706,"DM code text: "),o.qZA(),o.qZA(),o.qZA(),o.TgZ(2707,"value",425),o._UZ(2708,"block",639),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(2709,"button",191),o._UZ(2710,"block",640),o._UZ(2711,"block",639),o._UZ(2712,"block",637),o._UZ(2713,"block",638),o.qZA(),o.TgZ(2714,"category",641),o._UZ(2715,"button",563),o._UZ(2716,"button",642),o.TgZ(2717,"block",643),o.TgZ(2718,"next"),o.TgZ(2719,"block",8),o.TgZ(2720,"statement",187),o.TgZ(2721,"block",279),o.TgZ(2722,"value",69),o.TgZ(2723,"block",422),o.TgZ(2724,"value",423),o.TgZ(2725,"shadow",68),o.TgZ(2726,"field",69),o._uU(2727,"Line angle"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(2728,"value",425),o._UZ(2729,"block",644),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(2730,"button",191),o._UZ(2731,"block",645),o._UZ(2732,"block",644),o.TgZ(2733,"block",646),o.TgZ(2734,"value",595),o.TgZ(2735,"shadow",16),o.TgZ(2736,"field",17),o._uU(2737,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(2738,"value",596),o.TgZ(2739,"shadow",16),o.TgZ(2740,"field",17),o._uU(2741,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(2742,"value",597),o.TgZ(2743,"shadow",16),o.TgZ(2744,"field",17),o._uU(2745,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(2746,"value",598),o.TgZ(2747,"shadow",16),o.TgZ(2748,"field",17),o._uU(2749,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(2750,"value",599),o.TgZ(2751,"shadow",16),o.TgZ(2752,"field",17),o._uU(2753,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(2754,"value",600),o.TgZ(2755,"shadow",16),o.TgZ(2756,"field",17),o._uU(2757,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(2758,"block",647),o.TgZ(2759,"value",648),o.TgZ(2760,"shadow",16),o.TgZ(2761,"field",17),o._uU(2762,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(2763,"value",649),o.TgZ(2764,"shadow",16),o.TgZ(2765,"field",17),o._uU(2766,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(2767,"value",650),o.TgZ(2768,"shadow",16),o.TgZ(2769,"field",17),o._uU(2770,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(2771,"category",651),o._UZ(2772,"button",563),o._UZ(2773,"button",652),o.TgZ(2774,"block",653),o.TgZ(2775,"next"),o.TgZ(2776,"block",8),o.TgZ(2777,"statement",187),o.TgZ(2778,"block",279),o.TgZ(2779,"value",69),o.TgZ(2780,"block",422),o.TgZ(2781,"value",423),o.TgZ(2782,"shadow",68),o.TgZ(2783,"field",69),o._uU(2784,"Total number: "),o.qZA(),o.qZA(),o.qZA(),o.TgZ(2785,"value",425),o._UZ(2786,"block",654),o.qZA(),o.qZA(),o.qZA(),o.TgZ(2787,"next"),o.TgZ(2788,"block",279),o.TgZ(2789,"value",69),o.TgZ(2790,"block",422),o.TgZ(2791,"value",423),o.TgZ(2792,"shadow",68),o.TgZ(2793,"field",69),o._uU(2794,"Tag location: "),o.qZA(),o.qZA(),o.qZA(),o.TgZ(2795,"value",425),o.TgZ(2796,"block",655),o.TgZ(2797,"value",575),o.TgZ(2798,"shadow",16),o.TgZ(2799,"field",17),o._uU(2800,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(2801,"next"),o.TgZ(2802,"block",279),o.TgZ(2803,"value",69),o.TgZ(2804,"block",422),o.TgZ(2805,"value",423),o.TgZ(2806,"shadow",68),o.TgZ(2807,"field",69),o._uU(2808,"Code: "),o.qZA(),o.qZA(),o.qZA(),o.TgZ(2809,"value",425),o.TgZ(2810,"block",656),o.TgZ(2811,"value",575),o.TgZ(2812,"shadow",16),o.TgZ(2813,"field",17),o._uU(2814,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(2815,"next"),o.TgZ(2816,"block",279),o.TgZ(2817,"value",69),o.TgZ(2818,"block",422),o.TgZ(2819,"value",423),o.TgZ(2820,"shadow",68),o.TgZ(2821,"field",69),o._uU(2822,"Binstr: "),o.qZA(),o.qZA(),o.qZA(),o.TgZ(2823,"value",425),o.TgZ(2824,"block",657),o.TgZ(2825,"value",575),o.TgZ(2826,"shadow",16),o.TgZ(2827,"field",17),o._uU(2828,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(2829,"button",191),o._UZ(2830,"block",658),o._UZ(2831,"block",654),o.TgZ(2832,"block",657),o.TgZ(2833,"value",575),o.TgZ(2834,"shadow",16),o.TgZ(2835,"field",17),o._uU(2836,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(2837,"block",656),o.TgZ(2838,"value",575),o.TgZ(2839,"shadow",16),o.TgZ(2840,"field",17),o._uU(2841,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(2842,"block",655),o.TgZ(2843,"value",575),o.TgZ(2844,"shadow",16),o.TgZ(2845,"field",17),o._uU(2846,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(2847,"category",659),o._UZ(2848,"button",660),o._UZ(2849,"block",661),o._UZ(2850,"block",662),o._UZ(2851,"block",663),o._UZ(2852,"block",664),o._UZ(2853,"block",665),o._UZ(2854,"block",666),o.qZA(),o.TgZ(2855,"category",667),o._UZ(2856,"button",668),o._UZ(2857,"button",669),o.TgZ(2858,"block",278),o.TgZ(2859,"statement",187),o.TgZ(2860,"block",279),o.TgZ(2861,"value",69),o.TgZ(2862,"block",422),o.TgZ(2863,"value",423),o.TgZ(2864,"shadow",68),o.TgZ(2865,"field",69),o._uU(2866,"Pressure: "),o.qZA(),o.qZA(),o.qZA(),o.TgZ(2867,"value",425),o._UZ(2868,"block",670),o.qZA(),o.qZA(),o.qZA(),o.TgZ(2869,"next"),o.TgZ(2870,"block",279),o.TgZ(2871,"value",69),o.TgZ(2872,"block",422),o.TgZ(2873,"value",423),o.TgZ(2874,"shadow",68),o.TgZ(2875,"field",69),o._uU(2876,"Temperature: "),o.qZA(),o.qZA(),o.qZA(),o.TgZ(2877,"value",425),o._UZ(2878,"block",671),o.qZA(),o.qZA(),o.qZA(),o.TgZ(2879,"next"),o.TgZ(2880,"block",188),o.TgZ(2881,"value",189),o.TgZ(2882,"shadow",16),o.TgZ(2883,"field",17),o._uU(2884,"0.8"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(2885,"button",191),o._UZ(2886,"block",671),o._UZ(2887,"block",670),o.qZA(),o.TgZ(2888,"category",672),o._UZ(2889,"button",673),o._UZ(2890,"button",674),o.TgZ(2891,"block",278),o.TgZ(2892,"statement",187),o.TgZ(2893,"block",279),o.TgZ(2894,"value",69),o.TgZ(2895,"block",422),o.TgZ(2896,"value",423),o.TgZ(2897,"shadow",68),o.TgZ(2898,"field",69),o._uU(2899,"IAP baseline: "),o.qZA(),o.qZA(),o.qZA(),o.TgZ(2900,"value",425),o._UZ(2901,"block",675),o.qZA(),o.qZA(),o.qZA(),o.TgZ(2902,"next"),o.TgZ(2903,"block",279),o.TgZ(2904,"value",69),o.TgZ(2905,"block",422),o.TgZ(2906,"value",423),o.TgZ(2907,"shadow",68),o.TgZ(2908,"field",69),o._uU(2909,"TVOC now"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(2910,"value",425),o._UZ(2911,"block",676),o.qZA(),o.qZA(),o.qZA(),o.TgZ(2912,"next"),o.TgZ(2913,"block",279),o.TgZ(2914,"value",69),o.TgZ(2915,"block",422),o.TgZ(2916,"value",423),o.TgZ(2917,"shadow",68),o.TgZ(2918,"field",69),o._uU(2919,"eCO2 now"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(2920,"value",425),o._UZ(2921,"block",677),o.qZA(),o.qZA(),o.qZA(),o.TgZ(2922,"next"),o.TgZ(2923,"block",279),o.TgZ(2924,"value",69),o.TgZ(2925,"block",422),o.TgZ(2926,"value",423),o.TgZ(2927,"shadow",68),o.TgZ(2928,"field",69),o._uU(2929,"H2 now"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(2930,"value",425),o._UZ(2931,"block",678),o.qZA(),o.qZA(),o.qZA(),o.TgZ(2932,"next"),o.TgZ(2933,"block",279),o.TgZ(2934,"value",69),o.TgZ(2935,"block",422),o.TgZ(2936,"value",423),o.TgZ(2937,"shadow",68),o.TgZ(2938,"field",69),o._uU(2939,"Ethanol now"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(2940,"value",425),o._UZ(2941,"block",679),o.qZA(),o.qZA(),o.qZA(),o.TgZ(2942,"next"),o.TgZ(2943,"block",188),o.TgZ(2944,"value",189),o.TgZ(2945,"shadow",16),o.TgZ(2946,"field",17),o._uU(2947,"0.5"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(2948,"button",191),o._UZ(2949,"block",675),o._UZ(2950,"block",676),o._UZ(2951,"block",680),o._UZ(2952,"block",677),o._UZ(2953,"block",681),o._UZ(2954,"block",678),o._UZ(2955,"block",679),o.qZA(),o.TgZ(2956,"category",682),o._UZ(2957,"button",683),o._UZ(2958,"button",684),o.TgZ(2959,"block",278),o.TgZ(2960,"statement",187),o.TgZ(2961,"block",279),o.TgZ(2962,"value",69),o.TgZ(2963,"block",422),o.TgZ(2964,"value",423),o.TgZ(2965,"shadow",68),o.TgZ(2966,"field",69),o._uU(2967,"Voltage: "),o.qZA(),o.qZA(),o.qZA(),o.TgZ(2968,"value",425),o.TgZ(2969,"block",422),o.TgZ(2970,"value",423),o.TgZ(2971,"shadow",685),o._UZ(2972,"field",69),o.qZA(),o._UZ(2973,"block",686),o.qZA(),o.TgZ(2974,"value",425),o.TgZ(2975,"block",68),o.TgZ(2976,"field",69),o._uU(2977," mV"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(2978,"next"),o.TgZ(2979,"block",188),o.TgZ(2980,"value",189),o.TgZ(2981,"shadow",16),o.TgZ(2982,"field",17),o._uU(2983,"0.3"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(2984,"button",191),o._UZ(2985,"block",687),o._UZ(2986,"block",688),o._UZ(2987,"block",689),o._UZ(2988,"block",686),o._UZ(2989,"block",690),o.qZA(),o.TgZ(2990,"category",691),o._UZ(2991,"button",692),o._UZ(2992,"button",693),o.TgZ(2993,"block",278),o.TgZ(2994,"statement",187),o.TgZ(2995,"block",279),o.TgZ(2996,"value",69),o.TgZ(2997,"block",422),o.TgZ(2998,"value",423),o.TgZ(2999,"shadow",68),o.TgZ(3e3,"field",69),o._uU(3001,"Current: "),o.qZA(),o.qZA(),o.qZA(),o.TgZ(3002,"value",425),o.TgZ(3003,"block",422),o.TgZ(3004,"value",423),o.TgZ(3005,"shadow",685),o._UZ(3006,"field",69),o.qZA(),o._UZ(3007,"block",694),o.qZA(),o.TgZ(3008,"value",425),o.TgZ(3009,"block",68),o.TgZ(3010,"field",69),o._uU(3011," mA"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(3012,"next"),o.TgZ(3013,"block",188),o.TgZ(3014,"value",189),o.TgZ(3015,"shadow",16),o.TgZ(3016,"field",17),o._uU(3017,"0.3"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(3018,"button",191),o._UZ(3019,"block",695),o._UZ(3020,"block",696),o._UZ(3021,"block",697),o._UZ(3022,"block",694),o._UZ(3023,"block",698),o.qZA(),o.TgZ(3024,"category",699),o._UZ(3025,"button",700),o._UZ(3026,"button",701),o._UZ(3027,"button",702),o.TgZ(3028,"block",278),o.TgZ(3029,"statement",187),o.TgZ(3030,"block",279),o.TgZ(3031,"value",69),o._UZ(3032,"block",703),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(3033,"button",191),o._UZ(3034,"block",703),o.qZA(),o.TgZ(3035,"category",704),o._UZ(3036,"button",705),o._UZ(3037,"button",706),o.TgZ(3038,"block",278),o.TgZ(3039,"statement",187),o.TgZ(3040,"block",279),o.TgZ(3041,"value",69),o.TgZ(3042,"block",422),o.TgZ(3043,"value",423),o.TgZ(3044,"shadow",68),o.TgZ(3045,"field",69),o._uU(3046,"HALL Status: "),o.qZA(),o.qZA(),o.qZA(),o.TgZ(3047,"value",425),o._UZ(3048,"block",707),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(3049,"button",191),o._UZ(3050,"block",707),o.qZA(),o.TgZ(3051,"category",708),o._UZ(3052,"button",709),o._UZ(3053,"button",710),o.TgZ(3054,"block",278),o.TgZ(3055,"statement",187),o.TgZ(3056,"block",711),o.TgZ(3057,"value",101),o.TgZ(3058,"shadow",16),o.TgZ(3059,"field",17),o._uU(3060,"10"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(3061,"button",191),o.TgZ(3062,"block",711),o.TgZ(3063,"value",101),o.TgZ(3064,"shadow",16),o.TgZ(3065,"field",17),o._uU(3066,"10"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(3067,"block",712),o.qZA(),o.TgZ(3068,"category",713),o._UZ(3069,"button",714),o._UZ(3070,"button",715),o.TgZ(3071,"block",278),o.TgZ(3072,"statement",187),o.TgZ(3073,"block",716),o.TgZ(3074,"value",101),o.TgZ(3075,"shadow",16),o.TgZ(3076,"field",17),o._uU(3077,"10"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(3078,"button",191),o.TgZ(3079,"block",716),o.TgZ(3080,"value",101),o.TgZ(3081,"shadow",16),o.TgZ(3082,"field",17),o._uU(3083,"10"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(3084,"block",717),o.qZA(),o.TgZ(3085,"category",718),o._UZ(3086,"button",719),o._UZ(3087,"button",720),o.TgZ(3088,"block",278),o.TgZ(3089,"statement",187),o.TgZ(3090,"block",360),o._UZ(3091,"mutation",392),o.TgZ(3092,"value",292),o.TgZ(3093,"block",10),o.TgZ(3094,"field",361),o._uU(3095,"A"),o.qZA(),o.TgZ(3096,"field",362),o._uU(3097,"wasPressed"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(3098,"statement",297),o._UZ(3099,"block",721),o.qZA(),o.TgZ(3100,"value",396),o.TgZ(3101,"block",10),o.TgZ(3102,"field",361),o._uU(3103,"B"),o.qZA(),o.TgZ(3104,"field",362),o._uU(3105,"wasPressed"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(3106,"statement",397),o._UZ(3107,"block",722),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(3108,"button",191),o._UZ(3109,"block",721),o._UZ(3110,"block",722),o.qZA(),o.TgZ(3111,"category",723),o._UZ(3112,"button",724),o._UZ(3113,"button",725),o.TgZ(3114,"block",278),o.TgZ(3115,"statement",187),o.TgZ(3116,"block",279),o.TgZ(3117,"value",69),o._UZ(3118,"block",726),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(3119,"button",191),o._UZ(3120,"block",726),o.qZA(),o.TgZ(3121,"category",727),o._UZ(3122,"button",728),o._UZ(3123,"button",729),o.TgZ(3124,"block",278),o.TgZ(3125,"statement",187),o.TgZ(3126,"block",279),o.TgZ(3127,"value",69),o.TgZ(3128,"block",422),o.TgZ(3129,"value",423),o.TgZ(3130,"shadow",68),o.TgZ(3131,"field",69),o._uU(3132,"Distance: "),o.qZA(),o.qZA(),o.qZA(),o.TgZ(3133,"value",425),o.TgZ(3134,"block",422),o.TgZ(3135,"value",423),o.TgZ(3136,"shadow",685),o.TgZ(3137,"field",69),o._uU(3138,"Distance: "),o.qZA(),o.qZA(),o._UZ(3139,"block",730),o.qZA(),o.TgZ(3140,"value",425),o.TgZ(3141,"block",68),o.TgZ(3142,"field",69),o._uU(3143," mm"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(3144,"next"),o.TgZ(3145,"block",188),o.TgZ(3146,"value",189),o.TgZ(3147,"shadow",16),o.TgZ(3148,"field",17),o._uU(3149,"0.3"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(3150,"button",191),o._UZ(3151,"block",730),o.qZA(),o.TgZ(3152,"category",731),o._UZ(3153,"button",732),o._UZ(3154,"button",733),o.TgZ(3155,"block",278),o.TgZ(3156,"statement",187),o.TgZ(3157,"block",279),o.TgZ(3158,"value",69),o.TgZ(3159,"block",422),o.TgZ(3160,"value",423),o.TgZ(3161,"shadow",68),o.TgZ(3162,"field",69),o._uU(3163,"Water: "),o.qZA(),o.qZA(),o.qZA(),o.TgZ(3164,"value",425),o._UZ(3165,"block",734),o.qZA(),o.qZA(),o.qZA(),o.TgZ(3166,"next"),o.TgZ(3167,"block",291),o.TgZ(3168,"value",292),o.TgZ(3169,"block",293),o.TgZ(3170,"field",294),o._uU(3171,"LT"),o.qZA(),o.TgZ(3172,"value",295),o._UZ(3173,"block",734),o.qZA(),o.TgZ(3174,"value",36),o.TgZ(3175,"block",16),o.TgZ(3176,"field",17),o._uU(3177,"1000"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(3178,"statement",297),o.TgZ(3179,"block",735),o.TgZ(3180,"value",736),o.TgZ(3181,"shadow",64),o.TgZ(3182,"field",737),o._uU(3183,"1"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(3184,"statement",298),o.TgZ(3185,"block",735),o.TgZ(3186,"value",736),o.TgZ(3187,"shadow",64),o.TgZ(3188,"field",737),o._uU(3189,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(3190,"next"),o.TgZ(3191,"block",188),o.TgZ(3192,"value",189),o.TgZ(3193,"shadow",16),o.TgZ(3194,"field",17),o._uU(3195,"0.3"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(3196,"button",191),o._UZ(3197,"block",734),o.TgZ(3198,"block",735),o.TgZ(3199,"value",736),o.TgZ(3200,"shadow",64),o.TgZ(3201,"field",738),o._uU(3202,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(3203,"block",739),o.qZA(),o.TgZ(3204,"category",740),o._UZ(3205,"button",741),o._UZ(3206,"block",742),o.TgZ(3207,"block",743),o.TgZ(3208,"value",456),o.TgZ(3209,"shadow",64),o.TgZ(3210,"field",738),o._uU(3211,"1"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(3212,"block",744),o.TgZ(3213,"value",519),o.TgZ(3214,"shadow",64),o.TgZ(3215,"field",207),o._uU(3216,"1"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(3217,"block",745),o.TgZ(3218,"value",519),o.TgZ(3219,"shadow",64),o.TgZ(3220,"field",207),o._uU(3221,"1"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(3222,"value",746),o.TgZ(3223,"shadow",64),o.TgZ(3224,"field",738),o._uU(3225,"1"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(3226,"block",747),o.TgZ(3227,"value",519),o.TgZ(3228,"shadow",64),o.TgZ(3229,"field",207),o._uU(3230,"1"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(3231,"block",748),o.TgZ(3232,"value",746),o.TgZ(3233,"shadow",64),o.TgZ(3234,"field",738),o._uU(3235,"1"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(3236,"value",519),o.TgZ(3237,"shadow",64),o.TgZ(3238,"field",207),o._uU(3239,"1"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(3240,"category",749),o._UZ(3241,"button",750),o._UZ(3242,"button",751),o.TgZ(3243,"block",752),o.TgZ(3244,"field",753),o._uU(3245,"SINE"),o.qZA(),o.TgZ(3246,"next"),o.TgZ(3247,"block",754),o.TgZ(3248,"value",755),o.TgZ(3249,"shadow",16),o.TgZ(3250,"field",17),o._uU(3251,"100"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(3252,"value",756),o.TgZ(3253,"shadow",16),o.TgZ(3254,"field",17),o._uU(3255,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(3256,"button",757),o.TgZ(3257,"block",758),o.TgZ(3258,"field",753),o._uU(3259,"SINE"),o.qZA(),o.TgZ(3260,"value",759),o.TgZ(3261,"shadow",16),o.TgZ(3262,"field",17),o._uU(3263,"500"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(3264,"value",760),o.TgZ(3265,"shadow",16),o.TgZ(3266,"field",17),o._uU(3267,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(3268,"button",191),o._UZ(3269,"block",761),o.TgZ(3270,"block",762),o.TgZ(3271,"value",759),o.TgZ(3272,"shadow",16),o.TgZ(3273,"field",17),o._uU(3274,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(3275,"value",760),o.TgZ(3276,"shadow",16),o.TgZ(3277,"field",17),o._uU(3278,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(3279,"block",754),o.TgZ(3280,"value",755),o.TgZ(3281,"shadow",16),o.TgZ(3282,"field",17),o._uU(3283,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(3284,"value",756),o.TgZ(3285,"shadow",16),o.TgZ(3286,"field",17),o._uU(3287,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(3288,"block",763),o.qZA(),o.TgZ(3289,"category",764),o._UZ(3290,"button",765),o._UZ(3291,"button",766),o.TgZ(3292,"block",278),o.TgZ(3293,"statement",187),o.TgZ(3294,"block",302),o.TgZ(3295,"field",303),o._uU(3296,"rfid_card0"),o.qZA(),o.TgZ(3297,"value",304),o._UZ(3298,"block",767),o.qZA(),o.TgZ(3299,"next"),o.TgZ(3300,"block",360),o.TgZ(3301,"value",292),o.TgZ(3302,"block",293),o.TgZ(3303,"field",294),o._uU(3304,"NEQ"),o.qZA(),o.TgZ(3305,"value",295),o.TgZ(3306,"block",768),o.TgZ(3307,"value",304),o.TgZ(3308,"block",312),o.TgZ(3309,"field",303),o._uU(3310,"rfid_card0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(3311,"value",36),o.TgZ(3312,"block",16),o.TgZ(3313,"field",17),o._uU(3314,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(3315,"statement",297),o.TgZ(3316,"block",279),o.TgZ(3317,"value",69),o.TgZ(3318,"block",582),o._UZ(3319,"mutation",583),o.TgZ(3320,"field",456),o._uU(3321,"GET"),o.qZA(),o.TgZ(3322,"field",584),o._uU(3323,"FROM_START"),o.qZA(),o.TgZ(3324,"value",304),o.TgZ(3325,"block",582),o._UZ(3326,"mutation",583),o.TgZ(3327,"field",456),o._uU(3328,"GET"),o.qZA(),o.TgZ(3329,"field",584),o._uU(3330,"FROM_START"),o.qZA(),o.TgZ(3331,"value",304),o.TgZ(3332,"block",312),o.TgZ(3333,"field",303),o._uU(3334,"rfid_card0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(3335,"value",586),o.TgZ(3336,"block",16),o.TgZ(3337,"field",17),o._uU(3338,"1"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(3339,"value",586),o.TgZ(3340,"block",16),o.TgZ(3341,"field",17),o._uU(3342,"3"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(3343,"button",191),o._UZ(3344,"block",769),o._UZ(3345,"block",770),o._UZ(3346,"block",771),o._UZ(3347,"block",767),o.TgZ(3348,"block",772),o.TgZ(3349,"value",773),o.TgZ(3350,"shadow",64),o.TgZ(3351,"field",774),o._uU(3352,"100"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(3353,"block",775),o._UZ(3354,"block",776),o.TgZ(3355,"block",777),o.TgZ(3356,"value",778),o.TgZ(3357,"shadow",16),o.TgZ(3358,"field",17),o._uU(3359,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(3360,"value",779),o.TgZ(3361,"shadow",68),o._UZ(3362,"field",69),o.qZA(),o.qZA(),o.qZA(),o._UZ(3363,"block",780),o._UZ(3364,"block",781),o.TgZ(3365,"block",782),o.TgZ(3366,"value",783),o.TgZ(3367,"shadow",16),o.TgZ(3368,"field",17),o._uU(3369,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(3370,"value",784),o.TgZ(3371,"shadow",16),o.TgZ(3372,"field",17),o._uU(3373,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(3374,"value",785),o.TgZ(3375,"shadow",16),o.TgZ(3376,"field",17),o._uU(3377,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(3378,"value",786),o.TgZ(3379,"shadow",68),o._UZ(3380,"field",69),o.qZA(),o.qZA(),o.qZA(),o.TgZ(3381,"block",787),o.TgZ(3382,"value",447),o.TgZ(3383,"shadow",68),o._UZ(3384,"field",69),o.qZA(),o.qZA(),o.TgZ(3385,"value",783),o.TgZ(3386,"shadow",16),o.TgZ(3387,"field",17),o._uU(3388,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(3389,"value",785),o.TgZ(3390,"shadow",16),o.TgZ(3391,"field",17),o._uU(3392,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(3393,"value",786),o.TgZ(3394,"shadow",68),o._UZ(3395,"field",69),o.qZA(),o.qZA(),o.qZA(),o.TgZ(3396,"block",788),o.TgZ(3397,"value",789),o.TgZ(3398,"shadow",68),o._UZ(3399,"field",69),o.qZA(),o.qZA(),o.qZA(),o._UZ(3400,"block",790),o._UZ(3401,"block",791),o.TgZ(3402,"block",792),o.TgZ(3403,"value",793),o.TgZ(3404,"shadow",16),o.TgZ(3405,"field",17),o._uU(3406,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(3407,"block",794),o._UZ(3408,"block",795),o._UZ(3409,"block",796),o._UZ(3410,"block",797),o.TgZ(3411,"block",798),o.TgZ(3412,"value",799),o.TgZ(3413,"shadow",16),o.TgZ(3414,"field",17),o._uU(3415,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(3416,"block",800),o._UZ(3417,"block",801),o._UZ(3418,"block",802),o._UZ(3419,"block",803),o._UZ(3420,"block",804),o.qZA(),o.TgZ(3421,"category",805),o._UZ(3422,"button",806),o._UZ(3423,"button",807),o.TgZ(3424,"block",808),o.TgZ(3425,"field",361),o._uU(3426,"A"),o.qZA(),o.TgZ(3427,"field",362),o._uU(3428,"wasPressed"),o.qZA(),o.TgZ(3429,"statement",480),o.TgZ(3430,"block",809),o.TgZ(3431,"value",810),o.TgZ(3432,"shadow",68),o._UZ(3433,"field",69),o.qZA(),o.qZA(),o.TgZ(3434,"value",811),o.TgZ(3435,"shadow",68),o._UZ(3436,"field",69),o.qZA(),o.qZA(),o.TgZ(3437,"next"),o.TgZ(3438,"block",812),o.TgZ(3439,"value",813),o.TgZ(3440,"shadow",64),o.TgZ(3441,"field",814),o._uU(3442,"5"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(3443,"next"),o.TgZ(3444,"block",815),o.TgZ(3445,"field",753),o._uU(3446,"CLOUD_MODE"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(3447,"button",816),o.TgZ(3448,"block",808),o.TgZ(3449,"field",361),o._uU(3450,"B"),o.qZA(),o.TgZ(3451,"field",362),o._uU(3452,"wasPressed"),o.qZA(),o.TgZ(3453,"statement",480),o.TgZ(3454,"block",302),o.TgZ(3455,"field",303),o._uU(3456,"unitcam_token"),o.qZA(),o.TgZ(3457,"value",304),o._UZ(3458,"block",817),o.qZA(),o.TgZ(3459,"next"),o.TgZ(3460,"block",360),o.TgZ(3461,"value",292),o.TgZ(3462,"block",312),o.TgZ(3463,"field",303),o._uU(3464,"unitcam_token"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(3465,"statement",297),o.TgZ(3466,"block",818),o.TgZ(3467,"value",67),o.TgZ(3468,"shadow",68),o._UZ(3469,"field",69),o.qZA(),o._UZ(3470,"block",819),o.qZA(),o.TgZ(3471,"value",28),o.TgZ(3472,"shadow",16),o.TgZ(3473,"field",17),o._uU(3474,"72"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(3475,"value",29),o.TgZ(3476,"shadow",16),o.TgZ(3477,"field",17),o._uU(3478,"32"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(3479,"value",580),o.TgZ(3480,"shadow",16),o.TgZ(3481,"field",17),o._uU(3482,"176"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(3483,"value",820),o.TgZ(3484,"shadow",64),o.TgZ(3485,"field",821),o._uU(3486,"6"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(3487,"button",822),o.TgZ(3488,"block",808),o.TgZ(3489,"field",361),o._uU(3490,"C"),o.qZA(),o.TgZ(3491,"field",362),o._uU(3492,"wasPressed"),o.qZA(),o.TgZ(3493,"statement",480),o.TgZ(3494,"block",823),o.TgZ(3495,"field",753),o._uU(3496,"True"),o.qZA(),o.TgZ(3497,"next"),o.TgZ(3498,"block",824),o.TgZ(3499,"field",825),o._uU(3500,"SIZE_320_240"),o.qZA(),o.TgZ(3501,"next"),o.TgZ(3502,"block",815),o.TgZ(3503,"field",753),o._uU(3504,"UART_MODE"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(3505,"button",826),o._UZ(3506,"button",827),o.TgZ(3507,"block",809),o.TgZ(3508,"value",810),o.TgZ(3509,"shadow",68),o._UZ(3510,"field",69),o.qZA(),o.qZA(),o.TgZ(3511,"value",811),o.TgZ(3512,"shadow",68),o._UZ(3513,"field",69),o.qZA(),o.qZA(),o.qZA(),o.TgZ(3514,"block",812),o.TgZ(3515,"value",813),o.TgZ(3516,"shadow",64),o.TgZ(3517,"field",828),o._uU(3518,"5"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(3519,"block",817),o._UZ(3520,"block",819),o._UZ(3521,"button",829),o._UZ(3522,"block",823),o.TgZ(3523,"block",824),o.TgZ(3524,"field",825),o._uU(3525,"SIZE_320_240"),o.qZA(),o.qZA(),o.TgZ(3526,"block",830),o.TgZ(3527,"value",539),o.TgZ(3528,"shadow",16),o.TgZ(3529,"field",17),o._uU(3530,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(3531,"value",540),o.TgZ(3532,"shadow",16),o.TgZ(3533,"field",17),o._uU(3534,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(3535,"button",831),o._UZ(3536,"block",815),o.TgZ(3537,"block",832),o.TgZ(3538,"value",833),o.TgZ(3539,"shadow",64),o.TgZ(3540,"field",834),o._uU(3541,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(3542,"category",835),o.TgZ(3543,"category",836),o._UZ(3544,"button",837),o._UZ(3545,"block",838),o._UZ(3546,"block",839),o.TgZ(3547,"block",840),o.TgZ(3548,"value",575),o.TgZ(3549,"shadow",16),o.TgZ(3550,"field",17),o._uU(3551,"1"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(3552,"category",841),o._UZ(3553,"button",837),o._UZ(3554,"block",842),o._UZ(3555,"block",843),o.TgZ(3556,"block",844),o.TgZ(3557,"value",575),o.TgZ(3558,"shadow",16),o.TgZ(3559,"field",17),o._uU(3560,"1"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(3561,"category",845),o._UZ(3562,"button",837),o._UZ(3563,"block",846),o._UZ(3564,"block",847),o.TgZ(3565,"block",848),o.TgZ(3566,"value",575),o.TgZ(3567,"shadow",16),o.TgZ(3568,"field",17),o._uU(3569,"1"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(3570,"category",849),o.TgZ(3571,"category",850),o._UZ(3572,"button",851),o._UZ(3573,"button",852),o._UZ(3574,"block",853),o._UZ(3575,"button",854),o._UZ(3576,"block",855),o._UZ(3577,"button",856),o._UZ(3578,"block",857),o._UZ(3579,"button",858),o._UZ(3580,"block",859),o._UZ(3581,"button",860),o._UZ(3582,"block",861),o._UZ(3583,"button",191),o._UZ(3584,"block",862),o._UZ(3585,"block",863),o._UZ(3586,"block",864),o._UZ(3587,"block",865),o._UZ(3588,"block",866),o.qZA(),o.TgZ(3589,"category",867),o._UZ(3590,"button",868),o._UZ(3591,"button",869),o.TgZ(3592,"block",870),o.TgZ(3593,"value",519),o.TgZ(3594,"shadow",16),o.TgZ(3595,"field",17),o._uU(3596,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(3597,"button",871),o._UZ(3598,"block",872),o._UZ(3599,"button",873),o._UZ(3600,"block",874),o._UZ(3601,"button",875),o._UZ(3602,"block",876),o._UZ(3603,"button",877),o._UZ(3604,"block",878),o._UZ(3605,"button",191),o.TgZ(3606,"block",879),o.TgZ(3607,"value",519),o.TgZ(3608,"shadow",16),o.TgZ(3609,"field",17),o._uU(3610,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(3611,"block",880),o._UZ(3612,"block",881),o._UZ(3613,"block",882),o._UZ(3614,"block",883),o.qZA(),o.TgZ(3615,"category",884),o._UZ(3616,"button",885),o._UZ(3617,"button",886),o.TgZ(3618,"block",278),o.TgZ(3619,"statement",187),o.TgZ(3620,"block",279),o.TgZ(3621,"value",69),o.TgZ(3622,"block",422),o.TgZ(3623,"value",423),o.TgZ(3624,"shadow",68),o.TgZ(3625,"field",69),o._uU(3626,"State: "),o.qZA(),o.qZA(),o.qZA(),o.TgZ(3627,"value",425),o._UZ(3628,"block",887),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(3629,"button",191),o._UZ(3630,"block",887),o._UZ(3631,"block",888),o._UZ(3632,"block",889),o._UZ(3633,"block",890),o.TgZ(3634,"block",891),o.TgZ(3635,"value",477),o.TgZ(3636,"shadow",16),o.TgZ(3637,"field",17),o._uU(3638,"1"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(3639,"block",892),o.TgZ(3640,"value",477),o.TgZ(3641,"shadow",16),o.TgZ(3642,"field",17),o._uU(3643,"1"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(3644,"value",476),o.TgZ(3645,"shadow",16),o.TgZ(3646,"field",17),o._uU(3647,"1"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(3648,"block",893),o._UZ(3649,"block",894),o.qZA(),o.TgZ(3650,"category",895),o._UZ(3651,"button",896),o._UZ(3652,"button",897),o.TgZ(3653,"block",278),o.TgZ(3654,"statement",187),o.TgZ(3655,"block",360),o._UZ(3656,"mutation",392),o.TgZ(3657,"value",292),o.TgZ(3658,"block",898),o.TgZ(3659,"field",899),o._uU(3660,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(3661,"statement",297),o.TgZ(3662,"block",395),o.TgZ(3663,"field",314),o._uU(3664,"#ff0000"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(3665,"value",396),o.TgZ(3666,"block",898),o.TgZ(3667,"field",899),o._uU(3668,"1"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(3669,"statement",397),o.TgZ(3670,"block",395),o.TgZ(3671,"field",314),o._uU(3672,"#33ff33"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(3673,"button",191),o._UZ(3674,"block",898),o._UZ(3675,"block",900),o.qZA(),o.TgZ(3676,"category",901),o._UZ(3677,"button",902),o._UZ(3678,"button",903),o.TgZ(3679,"block",278),o.TgZ(3680,"statement",187),o.TgZ(3681,"block",279),o.TgZ(3682,"value",69),o.TgZ(3683,"block",422),o.TgZ(3684,"value",423),o.TgZ(3685,"shadow",68),o.TgZ(3686,"field",69),o._uU(3687,"X: "),o.qZA(),o.qZA(),o.qZA(),o.TgZ(3688,"value",425),o._UZ(3689,"block",904),o.qZA(),o.qZA(),o.qZA(),o.TgZ(3690,"next"),o.TgZ(3691,"block",279),o.TgZ(3692,"value",69),o.TgZ(3693,"block",422),o.TgZ(3694,"value",423),o.TgZ(3695,"shadow",68),o.TgZ(3696,"field",69),o._uU(3697,"Y: "),o.qZA(),o.qZA(),o.qZA(),o.TgZ(3698,"value",425),o._UZ(3699,"block",905),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(3700,"button",191),o._UZ(3701,"block",904),o._UZ(3702,"block",905),o._UZ(3703,"block",906),o._UZ(3704,"block",907),o._UZ(3705,"block",908),o.TgZ(3706,"block",909),o.TgZ(3707,"value",519),o.TgZ(3708,"shadow",64),o.TgZ(3709,"field",910),o._uU(3710,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(3711,"category",911),o._UZ(3712,"button",912),o._UZ(3713,"button",913),o.TgZ(3714,"block",278),o.TgZ(3715,"statement",187),o.TgZ(3716,"block",360),o.TgZ(3717,"value",292),o._UZ(3718,"block",914),o.qZA(),o.TgZ(3719,"statement",297),o.TgZ(3720,"block",279),o.TgZ(3721,"value",69),o._UZ(3722,"block",915),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(3723,"button",191),o._UZ(3724,"block",915),o._UZ(3725,"block",916),o._UZ(3726,"block",917),o._UZ(3727,"block",918),o._UZ(3728,"block",914),o.qZA(),o.TgZ(3729,"category",919),o._UZ(3730,"button",920),o._UZ(3731,"button",921),o.TgZ(3732,"block",278),o.TgZ(3733,"statement",187),o.TgZ(3734,"block",360),o.TgZ(3735,"value",292),o._UZ(3736,"block",922),o.qZA(),o.TgZ(3737,"statement",297),o.TgZ(3738,"block",279),o.TgZ(3739,"value",69),o.TgZ(3740,"block",422),o.TgZ(3741,"value",423),o.TgZ(3742,"shadow",68),o.TgZ(3743,"field",69),o._uU(3744,"CardID: "),o.qZA(),o.qZA(),o.qZA(),o.TgZ(3745,"value",425),o._UZ(3746,"block",923),o.qZA(),o.qZA(),o.qZA(),o.TgZ(3747,"next"),o.TgZ(3748,"block",308),o.TgZ(3749,"field",303),o._uU(3750,"i"),o.qZA(),o.TgZ(3751,"value",306),o.TgZ(3752,"block",16),o.TgZ(3753,"field",17),o._uU(3754,"1"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(3755,"value",307),o.TgZ(3756,"block",16),o.TgZ(3757,"field",17),o._uU(3758,"10"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(3759,"value",309),o.TgZ(3760,"block",16),o.TgZ(3761,"field",17),o._uU(3762,"1"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(3763,"statement",310),o.TgZ(3764,"block",279),o.TgZ(3765,"value",69),o.TgZ(3766,"block",422),o.TgZ(3767,"value",423),o.TgZ(3768,"shadow",68),o.TgZ(3769,"field",69),o._uU(3770,"String: "),o.qZA(),o.qZA(),o.qZA(),o.TgZ(3771,"value",425),o.TgZ(3772,"block",924),o.TgZ(3773,"value",304),o.TgZ(3774,"shadow",16),o.TgZ(3775,"field",17),o._uU(3776,"1"),o.qZA(),o.qZA(),o.TgZ(3777,"block",312),o.TgZ(3778,"field",303),o._uU(3779,"i"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(3780,"button",191),o.TgZ(3781,"block",924),o.TgZ(3782,"value",304),o.TgZ(3783,"shadow",16),o.TgZ(3784,"field",17),o._uU(3785,"1"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(3786,"block",925),o.TgZ(3787,"value",304),o.TgZ(3788,"shadow",68),o.TgZ(3789,"field",17),o._uU(3790,"1"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(3791,"value",498),o.TgZ(3792,"shadow",16),o.TgZ(3793,"field",17),o._uU(3794,"1"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(3795,"block",922),o._UZ(3796,"block",923),o.qZA(),o.TgZ(3797,"category",926),o._UZ(3798,"block",927),o.TgZ(3799,"block",928),o.TgZ(3800,"value",17),o.TgZ(3801,"shadow",16),o.TgZ(3802,"field",17),o._uU(3803,"1"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(3804,"block",929),o.TgZ(3805,"value",17),o.TgZ(3806,"shadow",16),o.TgZ(3807,"field",17),o._uU(3808,"1"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(3809,"block",930),o.TgZ(3810,"value",17),o.TgZ(3811,"shadow",16),o.TgZ(3812,"field",17),o._uU(3813,"1"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(3814,"value",383),o.TgZ(3815,"shadow",16),o.TgZ(3816,"field",17),o._uU(3817,"1"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(3818,"value",931),o.TgZ(3819,"shadow",16),o.TgZ(3820,"field",17),o._uU(3821,"1"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(3822,"value",932),o.TgZ(3823,"shadow",16),o.TgZ(3824,"field",17),o._uU(3825,"1"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(3826,"block",933),o.TgZ(3827,"value",17),o.TgZ(3828,"shadow",16),o.TgZ(3829,"field",17),o._uU(3830,"1"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(3831,"value",352),o.TgZ(3832,"shadow",16),o.TgZ(3833,"field",17),o._uU(3834,"1"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(3835,"block",934),o.TgZ(3836,"value",935),o.TgZ(3837,"shadow",16),o.TgZ(3838,"field",17),o._uU(3839,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(3840,"value",936),o.TgZ(3841,"shadow",16),o.TgZ(3842,"field",17),o._uU(3843,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(3844,"block",937),o.TgZ(3845,"block",938),o.TgZ(3846,"value",939),o.TgZ(3847,"shadow",16),o.TgZ(3848,"field",17),o._uU(3849,"1"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(3850,"category",940),o.TgZ(3851,"category",941),o._UZ(3852,"button",942),o._UZ(3853,"button",943),o.TgZ(3854,"block",944),o.TgZ(3855,"value",304),o.TgZ(3856,"shadow",16),o.TgZ(3857,"field",17),o._uU(3858,"433"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(3859,"button",945),o.TgZ(3860,"block",946),o.TgZ(3861,"value",304),o.TgZ(3862,"shadow",68),o.TgZ(3863,"field",69),o._uU(3864,"Hello World"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(3865,"button",947),o.TgZ(3866,"block",948),o.TgZ(3867,"statement",480),o.TgZ(3868,"block",279),o.TgZ(3869,"value",69),o._UZ(3870,"block",949),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(3871,"button",191),o._UZ(3872,"block",950),o.TgZ(3873,"block",951),o.TgZ(3874,"value",304),o.TgZ(3875,"shadow",16),o.TgZ(3876,"field",17),o._uU(3877,"1"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(3878,"block",952),o.TgZ(3879,"value",304),o.TgZ(3880,"shadow",68),o.TgZ(3881,"field",17),o._uU(3882,"1"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(3883,"block",949),o.qZA(),o.TgZ(3884,"category",953),o._UZ(3885,"block",954),o._UZ(3886,"block",955),o._UZ(3887,"block",956),o.TgZ(3888,"block",957),o.TgZ(3889,"value",958),o.TgZ(3890,"shadow",68),o._UZ(3891,"field",69),o.qZA(),o.qZA(),o.qZA(),o._UZ(3892,"block",959),o.TgZ(3893,"block",960),o.TgZ(3894,"value",961),o.TgZ(3895,"shadow",68),o._UZ(3896,"field",69),o.qZA(),o.qZA(),o.qZA(),o._UZ(3897,"block",962),o.TgZ(3898,"block",963),o.TgZ(3899,"value",964),o.TgZ(3900,"shadow",68),o._UZ(3901,"field",69),o.qZA(),o.qZA(),o.qZA(),o.TgZ(3902,"block",965),o.TgZ(3903,"value",966),o.TgZ(3904,"shadow",68),o._UZ(3905,"field",69),o.qZA(),o.qZA(),o.qZA(),o.TgZ(3906,"block",967),o.TgZ(3907,"value",968),o.TgZ(3908,"shadow",68),o._UZ(3909,"field",69),o.qZA(),o.qZA(),o.qZA(),o.TgZ(3910,"block",969),o.TgZ(3911,"value",970),o.TgZ(3912,"shadow",68),o._UZ(3913,"field",69),o.qZA(),o.qZA(),o.qZA(),o._UZ(3914,"block",971),o._UZ(3915,"block",972),o._UZ(3916,"block",973),o._UZ(3917,"block",974),o.TgZ(3918,"block",975),o.TgZ(3919,"value",976),o.TgZ(3920,"shadow",64),o.TgZ(3921,"field",977),o._uU(3922,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(3923,"block",978),o.TgZ(3924,"block",979),o.TgZ(3925,"value",980),o.TgZ(3926,"shadow",64),o.TgZ(3927,"field",981),o._uU(3928,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(3929,"block",982),o.TgZ(3930,"value",980),o.TgZ(3931,"shadow",64),o.TgZ(3932,"field",981),o._uU(3933,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(3934,"value",759),o.TgZ(3935,"shadow",16),o.TgZ(3936,"field",17),o._uU(3937,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(3938,"block",983),o.TgZ(3939,"value",980),o.TgZ(3940,"shadow",64),o.TgZ(3941,"field",981),o._uU(3942,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(3943,"block",984),o.TgZ(3944,"block",985),o.TgZ(3945,"value",980),o.TgZ(3946,"shadow",64),o.TgZ(3947,"field",981),o._uU(3948,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(3949,"block",986),o._UZ(3950,"block",987),o._UZ(3951,"block",988),o._UZ(3952,"block",989),o.TgZ(3953,"block",990),o.TgZ(3954,"value",991),o.TgZ(3955,"shadow",16),o.TgZ(3956,"field",17),o._uU(3957,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(3958,"block",992),o._UZ(3959,"block",993),o.TgZ(3960,"block",994),o.TgZ(3961,"value",995),o.TgZ(3962,"shadow",64),o.TgZ(3963,"field",996),o._uU(3964,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(3965,"block",997),o.TgZ(3966,"value",998),o.TgZ(3967,"shadow",68),o._UZ(3968,"field",69),o.qZA(),o.qZA(),o.qZA(),o.TgZ(3969,"block",999),o.TgZ(3970,"value",998),o.TgZ(3971,"shadow",68),o._UZ(3972,"field",69),o.qZA(),o.qZA(),o.qZA(),o.TgZ(3973,"block",1e3),o.TgZ(3974,"value",998),o.TgZ(3975,"shadow",68),o._UZ(3976,"field",69),o.qZA(),o.qZA(),o.qZA(),o.TgZ(3977,"block",1001),o.TgZ(3978,"value",998),o.TgZ(3979,"shadow",68),o._UZ(3980,"field",69),o.qZA(),o.qZA(),o.qZA(),o._UZ(3981,"block",1002),o._UZ(3982,"block",1003),o.TgZ(3983,"block",1004),o.TgZ(3984,"value",1005),o.TgZ(3985,"shadow",64),o.TgZ(3986,"field",977),o._uU(3987,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(3988,"block",1006),o.TgZ(3989,"value",1005),o.TgZ(3990,"shadow",64),o.TgZ(3991,"field",977),o._uU(3992,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(3993,"block",1007),o.TgZ(3994,"block",1008),o.TgZ(3995,"value",759),o.TgZ(3996,"shadow",16),o.TgZ(3997,"field",17),o._uU(3998,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(3999,"block",1009),o.TgZ(4e3,"value",759),o.TgZ(4001,"shadow",16),o.TgZ(4002,"field",17),o._uU(4003,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(4004,"value",1010),o.TgZ(4005,"shadow",16),o.TgZ(4006,"field",17),o._uU(4007,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(4008,"value",1011),o.TgZ(4009,"shadow",16),o.TgZ(4010,"field",17),o._uU(4011,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(4012,"block",1012),o.TgZ(4013,"block",1013),o.TgZ(4014,"value",206),o.TgZ(4015,"shadow",64),o.TgZ(4016,"field",981),o._uU(4017,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(4018,"value",759),o.TgZ(4019,"shadow",16),o.TgZ(4020,"field",17),o._uU(4021,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(4022,"block",1014),o._UZ(4023,"block",1015),o.qZA(),o.qZA(),o.TgZ(4024,"category",1016),o._UZ(4025,"button",1017),o._UZ(4026,"button",1018),o._UZ(4027,"block",1019),o._UZ(4028,"button",1020),o.TgZ(4029,"block",1021),o.TgZ(4030,"value",28),o.TgZ(4031,"shadow",16),o.TgZ(4032,"field",17),o._uU(4033,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(4034,"value",29),o.TgZ(4035,"shadow",16),o.TgZ(4036,"field",17),o._uU(4037,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(4038,"value",1022),o.TgZ(4039,"shadow",16),o.TgZ(4040,"field",17),o._uU(4041,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(4042,"value",1023),o.TgZ(4043,"shadow",16),o.TgZ(4044,"field",17),o._uU(4045,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(4046,"button",1024),o.TgZ(4047,"block",1025),o.TgZ(4048,"value",69),o.TgZ(4049,"shadow",68),o._UZ(4050,"field",17),o.qZA(),o.qZA(),o.qZA(),o._UZ(4051,"button",1026),o._UZ(4052,"block",1027),o._UZ(4053,"button",1028),o._UZ(4054,"block",1029),o._UZ(4055,"button",1030),o._UZ(4056,"block",1031),o._UZ(4057,"button",191),o._UZ(4058,"block",1032),o.TgZ(4059,"block",1033),o.TgZ(4060,"value",28),o.TgZ(4061,"shadow",16),o.TgZ(4062,"field",17),o._uU(4063,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(4064,"value",29),o.TgZ(4065,"shadow",16),o.TgZ(4066,"field",17),o._uU(4067,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(4068,"value",1022),o.TgZ(4069,"shadow",16),o.TgZ(4070,"field",17),o._uU(4071,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(4072,"value",1023),o.TgZ(4073,"shadow",16),o.TgZ(4074,"field",17),o._uU(4075,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(4076,"block",1034),o.TgZ(4077,"value",69),o.TgZ(4078,"shadow",68),o._UZ(4079,"field",17),o.qZA(),o.qZA(),o.qZA(),o._UZ(4080,"block",1035),o._UZ(4081,"block",1036),o._UZ(4082,"block",1037),o.qZA(),o.TgZ(4083,"category",348),o._UZ(4084,"button",1038),o._UZ(4085,"button",1039),o.TgZ(4086,"block",278),o.TgZ(4087,"statement",187),o.TgZ(4088,"block",302),o.TgZ(4089,"field",303),o._uU(4090,"i"),o.qZA(),o.TgZ(4091,"value",304),o.TgZ(4092,"block",305),o.TgZ(4093,"value",306),o.TgZ(4094,"block",16),o.TgZ(4095,"field",17),o._uU(4096,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(4097,"value",307),o.TgZ(4098,"block",16),o.TgZ(4099,"field",17),o._uU(4100,"180"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(4101,"next"),o.TgZ(4102,"block",1040),o.TgZ(4103,"field",316),o._uU(4104,"0"),o.qZA(),o.TgZ(4105,"value",352),o.TgZ(4106,"shadow",16),o.TgZ(4107,"field",17),o._uU(4108,"0"),o.qZA(),o.qZA(),o.TgZ(4109,"block",312),o.TgZ(4110,"field",303),o._uU(4111,"i"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(4112,"next"),o.TgZ(4113,"block",1040),o.TgZ(4114,"field",316),o._uU(4115,"1"),o.qZA(),o.TgZ(4116,"value",352),o.TgZ(4117,"shadow",16),o.TgZ(4118,"field",17),o._uU(4119,"0"),o.qZA(),o.qZA(),o.TgZ(4120,"block",312),o.TgZ(4121,"field",303),o._uU(4122,"i"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(4123,"next"),o.TgZ(4124,"block",1040),o.TgZ(4125,"field",316),o._uU(4126,"2"),o.qZA(),o.TgZ(4127,"value",352),o.TgZ(4128,"shadow",16),o.TgZ(4129,"field",17),o._uU(4130,"0"),o.qZA(),o.qZA(),o.TgZ(4131,"block",312),o.TgZ(4132,"field",303),o._uU(4133,"i"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(4134,"next"),o.TgZ(4135,"block",1040),o.TgZ(4136,"field",316),o._uU(4137,"3"),o.qZA(),o.TgZ(4138,"value",352),o.TgZ(4139,"shadow",16),o.TgZ(4140,"field",17),o._uU(4141,"0"),o.qZA(),o.qZA(),o.TgZ(4142,"block",312),o.TgZ(4143,"field",303),o._uU(4144,"i"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(4145,"next"),o.TgZ(4146,"block",1040),o.TgZ(4147,"field",316),o._uU(4148,"4"),o.qZA(),o.TgZ(4149,"value",352),o.TgZ(4150,"shadow",16),o.TgZ(4151,"field",17),o._uU(4152,"0"),o.qZA(),o.qZA(),o.TgZ(4153,"block",312),o.TgZ(4154,"field",303),o._uU(4155,"i"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(4156,"next"),o.TgZ(4157,"block",279),o.TgZ(4158,"value",69),o.TgZ(4159,"block",422),o.TgZ(4160,"value",423),o.TgZ(4161,"shadow",68),o.TgZ(4162,"field",69),o._uU(4163,"Servo's Status"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(4164,"value",425),o.TgZ(4165,"block",312),o.TgZ(4166,"field",303),o._uU(4167,"i"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(4168,"next"),o.TgZ(4169,"block",188),o.TgZ(4170,"value",189),o.TgZ(4171,"shadow",16),o.TgZ(4172,"field",17),o._uU(4173,"0.5"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(4174,"button",191),o.TgZ(4175,"block",1040),o.TgZ(4176,"value",352),o.TgZ(4177,"shadow",16),o.TgZ(4178,"field",17),o._uU(4179,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(4180,"block",1041),o.TgZ(4181,"value",355),o.TgZ(4182,"shadow",16),o.TgZ(4183,"field",17),o._uU(4184,"600"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(4185,"category",1042),o._UZ(4186,"button",1043),o._UZ(4187,"button",1044),o.TgZ(4188,"block",278),o.TgZ(4189,"statement",187),o.TgZ(4190,"block",1045),o.TgZ(4191,"value",316),o.TgZ(4192,"shadow",64),o.TgZ(4193,"field",1046),o._uU(4194,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(4195,"value",1047),o.TgZ(4196,"shadow",64),o.TgZ(4197,"field",1048),o._uU(4198,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(4199,"next"),o.TgZ(4200,"block",283),o.TgZ(4201,"value",189),o.TgZ(4202,"shadow",16),o.TgZ(4203,"field",17),o._uU(4204,"100"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(4205,"next"),o.TgZ(4206,"block",1045),o.TgZ(4207,"value",316),o.TgZ(4208,"shadow",64),o.TgZ(4209,"field",1046),o._uU(4210,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(4211,"value",1047),o.TgZ(4212,"shadow",64),o.TgZ(4213,"field",1048),o._uU(4214,"90"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(4215,"next"),o.TgZ(4216,"block",283),o.TgZ(4217,"value",189),o.TgZ(4218,"shadow",16),o.TgZ(4219,"field",17),o._uU(4220,"100"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(4221,"button",191),o.TgZ(4222,"block",1045),o.TgZ(4223,"value",316),o.TgZ(4224,"shadow",64),o.TgZ(4225,"field",977),o._uU(4226,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(4227,"value",1047),o.TgZ(4228,"shadow",64),o.TgZ(4229,"field",210),o._uU(4230,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(4231,"block",1049),o.TgZ(4232,"value",316),o.TgZ(4233,"shadow",64),o.TgZ(4234,"field",977),o._uU(4235,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(4236,"category",1050),o._UZ(4237,"button",1051),o._UZ(4238,"button",1052),o.TgZ(4239,"block",1053),o.TgZ(4240,"value",1023),o.TgZ(4241,"shadow",16),o.TgZ(4242,"field",17),o._uU(4243,"50"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(4244,"button",1054),o.TgZ(4245,"block",1055),o.TgZ(4246,"value",352),o.TgZ(4247,"shadow",16),o.TgZ(4248,"field",17),o._uU(4249,"45"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(4250,"button",1056),o.TgZ(4251,"block",1057),o.TgZ(4252,"value",352),o.TgZ(4253,"shadow",16),o.TgZ(4254,"field",17),o._uU(4255,"45"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(4256,"button",1058),o._UZ(4257,"block",1059),o._UZ(4258,"button",1060),o.TgZ(4259,"block",1061),o.TgZ(4260,"value",170),o.TgZ(4261,"shadow",16),o.TgZ(4262,"field",17),o._uU(4263,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(4264,"button",1062),o._UZ(4265,"block",1063),o._UZ(4266,"button",191),o.TgZ(4267,"block",1064),o.TgZ(4268,"value",1023),o.TgZ(4269,"shadow",16),o.TgZ(4270,"field",17),o._uU(4271,"50"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(4272,"block",1065),o.TgZ(4273,"value",352),o.TgZ(4274,"shadow",16),o.TgZ(4275,"field",17),o._uU(4276,"45"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(4277,"block",1066),o.TgZ(4278,"value",352),o.TgZ(4279,"shadow",16),o.TgZ(4280,"field",17),o._uU(4281,"45"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(4282,"block",1067),o.TgZ(4283,"block",1068),o.TgZ(4284,"value",170),o.TgZ(4285,"shadow",16),o.TgZ(4286,"field",17),o._uU(4287,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(4288,"block",1069),o.qZA(),o.TgZ(4289,"category",1070),o._UZ(4290,"button",1071),o._UZ(4291,"button",1072),o.TgZ(4292,"block",1073),o.TgZ(4293,"field",303),o._uU(4294,"M1"),o.qZA(),o.TgZ(4295,"field",1074),o._uU(4296,"forward"),o.qZA(),o.TgZ(4297,"value",1075),o.TgZ(4298,"shadow",16),o.TgZ(4299,"field",17),o._uU(4300,"500"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(4301,"value",1023),o.TgZ(4302,"shadow",16),o.TgZ(4303,"field",17),o._uU(4304,"255"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(4305,"button",191),o.TgZ(4306,"block",1076),o.TgZ(4307,"value",352),o.TgZ(4308,"shadow",16),o.TgZ(4309,"field",17),o._uU(4310,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(4311,"block",1077),o.TgZ(4312,"value",1075),o.TgZ(4313,"shadow",16),o.TgZ(4314,"field",17),o._uU(4315,"500"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(4316,"value",1023),o.TgZ(4317,"shadow",16),o.TgZ(4318,"field",17),o._uU(4319,"255"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(4320,"block",1078),o.TgZ(4321,"value",1075),o.TgZ(4322,"shadow",16),o.TgZ(4323,"field",17),o._uU(4324,"500"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(4325,"value",1023),o.TgZ(4326,"shadow",16),o.TgZ(4327,"field",17),o._uU(4328,"255"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(4329,"block",1079),o._UZ(4330,"block",1080),o.qZA(),o.TgZ(4331,"category",1081),o._UZ(4332,"button",1082),o.TgZ(4333,"block",1083),o.TgZ(4334,"value",1084),o.TgZ(4335,"shadow",16),o.TgZ(4336,"field",17),o._uU(4337,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(4338,"block",1085),o._UZ(4339,"block",1086),o._UZ(4340,"block",1087),o.qZA(),o.TgZ(4341,"category",1088),o._UZ(4342,"button",1089),o._UZ(4343,"button",1090),o.TgZ(4344,"block",278),o.TgZ(4345,"statement",187),o.TgZ(4346,"block",279),o.TgZ(4347,"value",69),o.TgZ(4348,"block",422),o.TgZ(4349,"value",423),o.TgZ(4350,"shadow",68),o.TgZ(4351,"field",69),o._uU(4352," Amount of PM2.5: "),o.qZA(),o.qZA(),o.qZA(),o.TgZ(4353,"value",425),o.TgZ(4354,"block",1091),o.TgZ(4355,"field",1092),o._uU(4356,"2_5"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(4357,"next"),o.TgZ(4358,"block",188),o.TgZ(4359,"value",189),o.TgZ(4360,"shadow",16),o.TgZ(4361,"field",17),o._uU(4362,"1"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(4363,"button",191),o._UZ(4364,"block",1093),o._UZ(4365,"block",1091),o.qZA(),o.TgZ(4366,"category",1094),o.TgZ(4367,"block",1095),o.TgZ(4368,"value",1096),o.TgZ(4369,"shadow",68),o._UZ(4370,"field",17),o.qZA(),o.qZA(),o.qZA(),o.TgZ(4371,"block",1097),o.TgZ(4372,"value",186),o.TgZ(4373,"shadow",16),o.TgZ(4374,"field",17),o._uU(4375,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(4376,"block",1098),o._UZ(4377,"block",1099),o._UZ(4378,"block",1100),o._UZ(4379,"block",1101),o._UZ(4380,"block",1102),o.TgZ(4381,"block",1103),o.TgZ(4382,"value",1104),o.TgZ(4383,"shadow",68),o._UZ(4384,"field",17),o.qZA(),o.qZA(),o.TgZ(4385,"value",1105),o.TgZ(4386,"shadow",68),o._UZ(4387,"field",17),o.qZA(),o.qZA(),o.TgZ(4388,"value",811),o.TgZ(4389,"shadow",68),o._UZ(4390,"field",17),o.qZA(),o.qZA(),o.qZA(),o.TgZ(4391,"block",1106),o.TgZ(4392,"value",1107),o.TgZ(4393,"shadow",68),o._UZ(4394,"field",17),o.qZA(),o.qZA(),o.TgZ(4395,"value",995),o.TgZ(4396,"shadow",16),o.TgZ(4397,"field",17),o._uU(4398,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(4399,"block",1108),o.TgZ(4400,"value",447),o.TgZ(4401,"shadow",68),o._UZ(4402,"field",17),o.qZA(),o.qZA(),o.qZA(),o.TgZ(4403,"block",1109),o.TgZ(4404,"value",447),o.TgZ(4405,"shadow",68),o._UZ(4406,"field",17),o.qZA(),o.qZA(),o.qZA(),o._UZ(4407,"block",1110),o._UZ(4408,"block",1111),o._UZ(4409,"block",1112),o._UZ(4410,"block",1113),o._UZ(4411,"block",1114),o._UZ(4412,"block",1115),o.qZA(),o.TgZ(4413,"category",1116),o._UZ(4414,"button",1117),o._UZ(4415,"button",1118),o.TgZ(4416,"block",278),o.TgZ(4417,"statement",187),o.TgZ(4418,"block",279),o.TgZ(4419,"value",69),o.TgZ(4420,"block",422),o.TgZ(4421,"value",423),o.TgZ(4422,"shadow",68),o.TgZ(4423,"field",69),o._uU(4424,"Encoder"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(4425,"value",425),o.TgZ(4426,"block",1119),o.TgZ(4427,"field",553),o._uU(4428,"1"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(4429,"next"),o.TgZ(4430,"block",1120),o.TgZ(4431,"field",553),o._uU(4432,"1"),o.qZA(),o.TgZ(4433,"value",304),o.TgZ(4434,"shadow",16),o.TgZ(4435,"field",17),o._uU(4436,"50"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(4437,"next"),o.TgZ(4438,"block",1121),o.TgZ(4439,"field",553),o._uU(4440,"1"),o.qZA(),o.TgZ(4441,"value",304),o.TgZ(4442,"shadow",16),o.TgZ(4443,"field",17),o._uU(4444,"1000"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(4445,"button",191),o._UZ(4446,"block",1122),o._UZ(4447,"block",1119),o.TgZ(4448,"block",1123),o.TgZ(4449,"value",304),o.TgZ(4450,"shadow",16),o._UZ(4451,"field",17),o.qZA(),o.qZA(),o.qZA(),o.TgZ(4452,"block",1124),o.TgZ(4453,"value",304),o.TgZ(4454,"shadow",16),o._UZ(4455,"field",17),o.qZA(),o.qZA(),o.qZA(),o._UZ(4456,"block",1125),o.TgZ(4457,"block",1126),o.TgZ(4458,"value",304),o.TgZ(4459,"shadow",16),o._UZ(4460,"field",17),o.qZA(),o.qZA(),o.qZA(),o.TgZ(4461,"block",1120),o.TgZ(4462,"value",304),o.TgZ(4463,"shadow",16),o._UZ(4464,"field",17),o.qZA(),o.qZA(),o.qZA(),o.TgZ(4465,"block",1121),o.TgZ(4466,"value",304),o.TgZ(4467,"shadow",16),o._UZ(4468,"field",17),o.qZA(),o.qZA(),o.qZA(),o.TgZ(4469,"block",1127),o.TgZ(4470,"value",304),o.TgZ(4471,"shadow",16),o._UZ(4472,"field",17),o.qZA(),o.qZA(),o.qZA(),o.TgZ(4473,"block",1128),o.TgZ(4474,"value",304),o.TgZ(4475,"shadow",16),o._UZ(4476,"field",17),o.qZA(),o.qZA(),o.qZA(),o.TgZ(4477,"block",1129),o.TgZ(4478,"value",304),o.TgZ(4479,"shadow",16),o._UZ(4480,"field",17),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(4481,"category",1130),o._UZ(4482,"button",1131),o._UZ(4483,"button",1132),o.TgZ(4484,"block",278),o.TgZ(4485,"statement",187),o.TgZ(4486,"block",279),o.TgZ(4487,"value",69),o.TgZ(4488,"block",422),o.TgZ(4489,"value",423),o.TgZ(4490,"shadow",68),o.TgZ(4491,"field",69),o._uU(4492,"Encoder"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(4493,"value",425),o._UZ(4494,"block",1133),o.qZA(),o.qZA(),o.qZA(),o.TgZ(4495,"next"),o.TgZ(4496,"block",279),o.TgZ(4497,"value",69),o.TgZ(4498,"block",422),o.TgZ(4499,"value",423),o.TgZ(4500,"shadow",68),o.TgZ(4501,"field",69),o._uU(4502,"Button"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(4503,"value",425),o._UZ(4504,"block",1134),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(4505,"button",191),o._UZ(4506,"block",1133),o._UZ(4507,"block",1135),o._UZ(4508,"block",1134),o.qZA(),o.TgZ(4509,"category",1136),o._UZ(4510,"button",1137),o._UZ(4511,"button",1138),o.TgZ(4512,"block",1139),o.TgZ(4513,"field",553),o._uU(4514,"1"),o.qZA(),o.TgZ(4515,"value",1023),o.TgZ(4516,"shadow",16),o.TgZ(4517,"field",17),o._uU(4518,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(4519,"next"),o.TgZ(4520,"block",8),o.TgZ(4521,"statement",187),o.TgZ(4522,"block",279),o.TgZ(4523,"value",69),o.TgZ(4524,"block",1140),o.TgZ(4525,"field",528),o._uU(4526,"go_plus.PB1"),o.qZA(),o.TgZ(4527,"field",553),o._uU(4528,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(4529,"next"),o.TgZ(4530,"block",279),o.TgZ(4531,"value",69),o.TgZ(4532,"block",1141),o.TgZ(4533,"field",528),o._uU(4534,"go_plus.PB1"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(4535,"button",191),o.TgZ(4536,"block",1142),o.TgZ(4537,"value",352),o.TgZ(4538,"shadow",16),o._UZ(4539,"field",17),o.qZA(),o.qZA(),o.qZA(),o.TgZ(4540,"block",1143),o.TgZ(4541,"value",1023),o.TgZ(4542,"shadow",16),o._UZ(4543,"field",17),o.qZA(),o.qZA(),o.qZA(),o._UZ(4544,"block",1140),o._UZ(4545,"block",1141),o.qZA(),o.TgZ(4546,"category",1144),o._UZ(4547,"button",1145),o.TgZ(4548,"block",1146),o.TgZ(4549,"value",209),o.TgZ(4550,"shadow",16),o._UZ(4551,"field",17),o.qZA(),o.qZA(),o.qZA(),o.TgZ(4552,"block",1147),o.TgZ(4553,"value",1148),o.TgZ(4554,"shadow",16),o._UZ(4555,"field",17),o.qZA(),o.qZA(),o.qZA(),o.TgZ(4556,"block",1149),o.TgZ(4557,"value",198),o.TgZ(4558,"shadow",16),o._UZ(4559,"field",17),o.qZA(),o.qZA(),o.qZA(),o._UZ(4560,"block",1150),o._UZ(4561,"block",1151),o._UZ(4562,"block",1152),o.qZA(),o.TgZ(4563,"category",1153),o._UZ(4564,"button",1154),o._UZ(4565,"button",1155),o.TgZ(4566,"block",278),o.TgZ(4567,"statement",187),o.TgZ(4568,"block",279),o.TgZ(4569,"value",69),o.TgZ(4570,"block",422),o.TgZ(4571,"value",423),o.TgZ(4572,"shadow",68),o.TgZ(4573,"field",69),o._uU(4574,"Latitude: "),o.qZA(),o.qZA(),o.qZA(),o.TgZ(4575,"value",425),o._UZ(4576,"block",1156),o.qZA(),o.qZA(),o.qZA(),o.TgZ(4577,"next"),o.TgZ(4578,"block",279),o.TgZ(4579,"value",69),o.TgZ(4580,"block",422),o.TgZ(4581,"value",423),o.TgZ(4582,"shadow",68),o.TgZ(4583,"field",69),o._uU(4584," Longitude: "),o.qZA(),o.qZA(),o.qZA(),o.TgZ(4585,"value",425),o._UZ(4586,"block",1157),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(4587,"button",191),o.TgZ(4588,"block",1158),o.TgZ(4589,"value",1159),o.TgZ(4590,"shadow",16),o.TgZ(4591,"field",17),o._uU(4592,"17"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(4593,"value",1160),o.TgZ(4594,"shadow",16),o.TgZ(4595,"field",17),o._uU(4596,"16"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(4597,"block",1161),o._UZ(4598,"block",1156),o._UZ(4599,"block",1157),o._UZ(4600,"block",1162),o._UZ(4601,"block",1163),o._UZ(4602,"block",1164),o._UZ(4603,"block",1165),o.TgZ(4604,"block",1166),o.TgZ(4605,"value",1167),o.TgZ(4606,"shadow",16),o.TgZ(4607,"field",17),o._uU(4608,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(4609,"category",1168),o._UZ(4610,"button",1169),o._UZ(4611,"button",1170),o.TgZ(4612,"block",1171),o.TgZ(4613,"field",753),o._uU(4614,"distance"),o.qZA(),o.TgZ(4615,"next"),o.TgZ(4616,"block",8),o.TgZ(4617,"statement",187),o.TgZ(4618,"block",1172),o.TgZ(4619,"value",539),o.TgZ(4620,"shadow",16),o.TgZ(4621,"field",17),o._uU(4622,"10"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(4623,"value",540),o.TgZ(4624,"shadow",16),o.TgZ(4625,"field",17),o._uU(4626,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(4627,"value",1173),o.TgZ(4628,"shadow",16),o.TgZ(4629,"field",17),o._uU(4630,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(4631,"value",198),o.TgZ(4632,"shadow",16),o.TgZ(4633,"field",17),o._uU(4634,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(4635,"next"),o.TgZ(4636,"block",188),o.TgZ(4637,"value",189),o.TgZ(4638,"shadow",16),o.TgZ(4639,"field",17),o._uU(4640,"5"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(4641,"next"),o.TgZ(4642,"block",1172),o.TgZ(4643,"value",539),o.TgZ(4644,"shadow",16),o.TgZ(4645,"field",17),o._uU(4646,"-10"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(4647,"value",540),o.TgZ(4648,"shadow",16),o.TgZ(4649,"field",17),o._uU(4650,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(4651,"value",1173),o.TgZ(4652,"shadow",16),o.TgZ(4653,"field",17),o._uU(4654,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(4655,"value",198),o.TgZ(4656,"shadow",16),o.TgZ(4657,"field",17),o._uU(4658,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(4659,"next"),o.TgZ(4660,"block",188),o.TgZ(4661,"value",189),o.TgZ(4662,"shadow",16),o.TgZ(4663,"field",17),o._uU(4664,"5"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(4665,"button",1174),o._UZ(4666,"button",1175),o._UZ(4667,"block",1176),o._UZ(4668,"button",1177),o.TgZ(4669,"block",1172),o.TgZ(4670,"value",539),o.TgZ(4671,"shadow",16),o.TgZ(4672,"field",17),o._uU(4673,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(4674,"value",540),o.TgZ(4675,"shadow",16),o.TgZ(4676,"field",17),o._uU(4677,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(4678,"value",1173),o.TgZ(4679,"shadow",16),o.TgZ(4680,"field",17),o._uU(4681,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(4682,"value",198),o.TgZ(4683,"shadow",16),o.TgZ(4684,"field",17),o._uU(4685,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(4686,"block",1178),o._UZ(4687,"block",1179),o._UZ(4688,"block",1180),o._UZ(4689,"block",1181),o._UZ(4690,"button",1182),o.TgZ(4691,"block",1183),o.TgZ(4692,"value",1184),o.TgZ(4693,"shadow",68),o._UZ(4694,"field",69),o.qZA(),o.qZA(),o.qZA(),o._UZ(4695,"block",1185),o._UZ(4696,"block",1186),o._UZ(4697,"button",1187),o._UZ(4698,"block",1188),o._UZ(4699,"block",1189),o.qZA(),o.qZA(),o.TgZ(4700,"category",1190),o.TgZ(4701,"category",1191),o._UZ(4702,"button",1192),o._UZ(4703,"button",184),o.TgZ(4704,"block",1193),o.TgZ(4705,"value",1194),o.TgZ(4706,"shadow",16),o.TgZ(4707,"field",17),o._uU(4708,"17"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(4709,"value",1195),o.TgZ(4710,"shadow",16),o.TgZ(4711,"field",17),o._uU(4712,"16"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(4713,"next"),o.TgZ(4714,"block",1196),o.TgZ(4715,"value",961),o.TgZ(4716,"shadow",68),o._UZ(4717,"field",69),o.qZA(),o.qZA(),o.TgZ(4718,"value",964),o.TgZ(4719,"shadow",68),o._UZ(4720,"field",69),o.qZA(),o.qZA(),o.TgZ(4721,"value",1197),o.TgZ(4722,"shadow",68),o._UZ(4723,"field",69),o.qZA(),o.qZA(),o.TgZ(4724,"next"),o.TgZ(4725,"block",1198),o.TgZ(4726,"field",1199),o._uU(4727,"0400"),o.qZA(),o.TgZ(4728,"next"),o.TgZ(4729,"block",1200),o.TgZ(4730,"field",1201),o._uU(4731,"0"),o.qZA(),o.TgZ(4732,"value",1202),o.TgZ(4733,"shadow",16),o.TgZ(4734,"field",17),o._uU(4735,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(4736,"value",1203),o.TgZ(4737,"shadow",16),o.TgZ(4738,"field",17),o._uU(4739,"505300000"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(4740,"next"),o.TgZ(4741,"block",1204),o.TgZ(4742,"field",1205),o._uU(4743,"2"),o.qZA(),o.TgZ(4744,"next"),o.TgZ(4745,"block",1206),o.TgZ(4746,"field",753),o._uU(4747,"2"),o.qZA(),o.TgZ(4748,"next"),o.TgZ(4749,"block",1207),o.TgZ(4750,"field",1208),o._uU(4751,"1"),o.qZA(),o.TgZ(4752,"field",1209),o._uU(4753,"0"),o.qZA(),o.TgZ(4754,"value",1210),o.TgZ(4755,"shadow",64),o.TgZ(4756,"field",1211),o._uU(4757,"8"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(4758,"value",1212),o.TgZ(4759,"shadow",64),o.TgZ(4760,"field",1213),o._uU(4761,"8"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(4762,"next"),o.TgZ(4763,"block",302),o.TgZ(4764,"field",303),o._uU(4765,"flag"),o.qZA(),o.TgZ(4766,"value",304),o.TgZ(4767,"block",1214),o.TgZ(4768,"field",1215),o._uU(4769,"FALSE"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(4770,"next"),o.TgZ(4771,"block",8),o.TgZ(4772,"statement",187),o.TgZ(4773,"block",360),o.TgZ(4774,"value",292),o.TgZ(4775,"block",481),o.TgZ(4776,"field",294),o._uU(4777,"AND"),o.qZA(),o.TgZ(4778,"value",295),o.TgZ(4779,"block",1216),o.TgZ(4780,"value",1215),o.TgZ(4781,"block",312),o.TgZ(4782,"field",303),o._uU(4783,"flag"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(4784,"value",36),o._UZ(4785,"block",1217),o.qZA(),o.qZA(),o.qZA(),o.TgZ(4786,"statement",297),o.TgZ(4787,"block",302),o.TgZ(4788,"field",303),o._uU(4789,"flag"),o.qZA(),o.TgZ(4790,"value",304),o.TgZ(4791,"block",1214),o.TgZ(4792,"field",1215),o._uU(4793,"TRUE"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(4794,"next"),o.TgZ(4795,"block",279),o.TgZ(4796,"value",69),o.TgZ(4797,"block",68),o.TgZ(4798,"field",69),o._uU(4799,"Joined"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(4800,"next"),o.TgZ(4801,"block",360),o.TgZ(4802,"value",292),o.TgZ(4803,"block",312),o.TgZ(4804,"field",303),o._uU(4805,"flag"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(4806,"statement",297),o.TgZ(4807,"block",1218),o._UZ(4808,"mutation",1219),o.TgZ(4809,"field",1220),o._uU(4810,"true"),o.qZA(),o.TgZ(4811,"value",1221),o.TgZ(4812,"shadow",68),o.TgZ(4813,"field",69),o._uU(4814,"M5STACK"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(4815,"value",1222),o.TgZ(4816,"shadow",64),o.TgZ(4817,"field",1223),o._uU(4818,"5"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(4819,"next"),o.TgZ(4820,"block",279),o.TgZ(4821,"value",69),o._UZ(4822,"block",1224),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(4823,"next"),o.TgZ(4824,"block",188),o.TgZ(4825,"value",189),o.TgZ(4826,"shadow",16),o.TgZ(4827,"field",17),o._uU(4828,"10"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(4829,"button",191),o.TgZ(4830,"block",1225),o.TgZ(4831,"value",1194),o.TgZ(4832,"shadow",16),o.TgZ(4833,"field",17),o._uU(4834,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(4835,"value",1195),o.TgZ(4836,"shadow",16),o.TgZ(4837,"field",17),o._uU(4838,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(4839,"block",1226),o.TgZ(4840,"value",958),o.TgZ(4841,"shadow",68),o._UZ(4842,"field",69),o.qZA(),o.qZA(),o.TgZ(4843,"value",1227),o.TgZ(4844,"shadow",68),o._UZ(4845,"field",69),o.qZA(),o.qZA(),o.TgZ(4846,"value",1228),o.TgZ(4847,"shadow",68),o._UZ(4848,"field",69),o.qZA(),o.qZA(),o.qZA(),o._UZ(4849,"block",1229),o.TgZ(4850,"block",1196),o.TgZ(4851,"value",961),o.TgZ(4852,"shadow",68),o._UZ(4853,"field",69),o.qZA(),o.qZA(),o.TgZ(4854,"value",964),o.TgZ(4855,"shadow",68),o._UZ(4856,"field",69),o.qZA(),o.qZA(),o.TgZ(4857,"value",1197),o.TgZ(4858,"shadow",68),o._UZ(4859,"field",69),o.qZA(),o.qZA(),o.qZA(),o._UZ(4860,"block",1230),o._UZ(4861,"block",1198),o.TgZ(4862,"block",1200),o.TgZ(4863,"value",1202),o.TgZ(4864,"shadow",16),o.TgZ(4865,"field",17),o._uU(4866,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(4867,"value",1203),o.TgZ(4868,"shadow",16),o.TgZ(4869,"field",17),o._uU(4870,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(4871,"block",1204),o._UZ(4872,"block",1206),o._UZ(4873,"block",1217),o.TgZ(4874,"block",1207),o.TgZ(4875,"value",1210),o.TgZ(4876,"shadow",64),o.TgZ(4877,"field",1231),o._uU(4878,"8"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(4879,"value",1212),o.TgZ(4880,"shadow",64),o.TgZ(4881,"field",1232),o._uU(4882,"1"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(4883,"block",1233),o.TgZ(4884,"value",995),o.TgZ(4885,"shadow",64),o.TgZ(4886,"field",1234),o._uU(4887,"1"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(4888,"block",1218),o.TgZ(4889,"value",1221),o.TgZ(4890,"shadow",68),o._UZ(4891,"field",69),o.qZA(),o.qZA(),o.qZA(),o._UZ(4892,"block",1235),o._UZ(4893,"block",1224),o.qZA(),o.TgZ(4894,"category",1236),o._UZ(4895,"button",1237),o._UZ(4896,"button",184),o.TgZ(4897,"block",1238),o.TgZ(4898,"value",1194),o.TgZ(4899,"shadow",16),o.TgZ(4900,"field",17),o._uU(4901,"17"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(4902,"value",1195),o.TgZ(4903,"shadow",16),o.TgZ(4904,"field",17),o._uU(4905,"16"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(4906,"next"),o.TgZ(4907,"block",1239),o.TgZ(4908,"value",961),o.TgZ(4909,"shadow",68),o._UZ(4910,"field",69),o.qZA(),o.qZA(),o.TgZ(4911,"value",964),o.TgZ(4912,"shadow",68),o._UZ(4913,"field",69),o.qZA(),o.qZA(),o.TgZ(4914,"value",1197),o.TgZ(4915,"shadow",68),o._UZ(4916,"field",69),o.qZA(),o.qZA(),o.TgZ(4917,"next"),o.TgZ(4918,"block",1240),o.TgZ(4919,"field",1199),o._uU(4920,"0002"),o.qZA(),o.TgZ(4921,"next"),o.TgZ(4922,"block",1241),o.TgZ(4923,"field",1201),o._uU(4924,"0"),o.qZA(),o.TgZ(4925,"value",1202),o.TgZ(4926,"shadow",16),o.TgZ(4927,"field",17),o._uU(4928,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(4929,"value",1203),o.TgZ(4930,"shadow",16),o.TgZ(4931,"field",17),o._uU(4932,"505300000"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(4933,"next"),o.TgZ(4934,"block",1242),o.TgZ(4935,"field",1205),o._uU(4936,"2"),o.qZA(),o.TgZ(4937,"next"),o.TgZ(4938,"block",1243),o.TgZ(4939,"field",753),o._uU(4940,"2"),o.qZA(),o.TgZ(4941,"next"),o.TgZ(4942,"block",1244),o.TgZ(4943,"field",1208),o._uU(4944,"1"),o.qZA(),o.TgZ(4945,"field",1209),o._uU(4946,"0"),o.qZA(),o.TgZ(4947,"value",1210),o.TgZ(4948,"shadow",64),o.TgZ(4949,"field",1211),o._uU(4950,"8"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(4951,"value",1212),o.TgZ(4952,"shadow",64),o.TgZ(4953,"field",1213),o._uU(4954,"8"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(4955,"next"),o.TgZ(4956,"block",302),o.TgZ(4957,"field",303),o._uU(4958,"flag"),o.qZA(),o.TgZ(4959,"value",304),o.TgZ(4960,"block",1214),o.TgZ(4961,"field",1215),o._uU(4962,"FALSE"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(4963,"next"),o.TgZ(4964,"block",8),o.TgZ(4965,"statement",187),o.TgZ(4966,"block",360),o.TgZ(4967,"value",292),o.TgZ(4968,"block",481),o.TgZ(4969,"field",294),o._uU(4970,"AND"),o.qZA(),o.TgZ(4971,"value",295),o.TgZ(4972,"block",1216),o.TgZ(4973,"value",1215),o.TgZ(4974,"block",312),o.TgZ(4975,"field",303),o._uU(4976,"flag"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(4977,"value",36),o._UZ(4978,"block",1245),o.qZA(),o.qZA(),o.qZA(),o.TgZ(4979,"statement",297),o.TgZ(4980,"block",302),o.TgZ(4981,"field",303),o._uU(4982,"flag"),o.qZA(),o.TgZ(4983,"value",304),o.TgZ(4984,"block",1214),o.TgZ(4985,"field",1215),o._uU(4986,"TRUE"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(4987,"next"),o.TgZ(4988,"block",279),o.TgZ(4989,"value",69),o.TgZ(4990,"block",68),o.TgZ(4991,"field",69),o._uU(4992,"Joined"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(4993,"next"),o.TgZ(4994,"block",360),o.TgZ(4995,"value",292),o.TgZ(4996,"block",312),o.TgZ(4997,"field",303),o._uU(4998,"flag"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(4999,"statement",297),o.TgZ(5e3,"block",1246),o._UZ(5001,"mutation",1219),o.TgZ(5002,"field",1220),o._uU(5003,"true"),o.qZA(),o.TgZ(5004,"value",1221),o.TgZ(5005,"shadow",68),o.TgZ(5006,"field",69),o._uU(5007,"M5STACK"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(5008,"value",1222),o.TgZ(5009,"shadow",64),o.TgZ(5010,"field",1223),o._uU(5011,"5"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(5012,"next"),o.TgZ(5013,"block",279),o.TgZ(5014,"value",69),o._UZ(5015,"block",1247),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(5016,"next"),o.TgZ(5017,"block",188),o.TgZ(5018,"value",189),o.TgZ(5019,"shadow",16),o.TgZ(5020,"field",17),o._uU(5021,"10"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(5022,"button",191),o.TgZ(5023,"block",1248),o.TgZ(5024,"value",1194),o.TgZ(5025,"shadow",16),o.TgZ(5026,"field",17),o._uU(5027,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(5028,"value",1195),o.TgZ(5029,"shadow",16),o.TgZ(5030,"field",17),o._uU(5031,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(5032,"block",1249),o.TgZ(5033,"value",958),o.TgZ(5034,"shadow",68),o._UZ(5035,"field",69),o.qZA(),o.qZA(),o.TgZ(5036,"value",1227),o.TgZ(5037,"shadow",68),o._UZ(5038,"field",69),o.qZA(),o.qZA(),o.TgZ(5039,"value",1228),o.TgZ(5040,"shadow",68),o._UZ(5041,"field",69),o.qZA(),o.qZA(),o.qZA(),o._UZ(5042,"block",1250),o.TgZ(5043,"block",1239),o.TgZ(5044,"value",961),o.TgZ(5045,"shadow",68),o._UZ(5046,"field",69),o.qZA(),o.qZA(),o.TgZ(5047,"value",964),o.TgZ(5048,"shadow",68),o._UZ(5049,"field",69),o.qZA(),o.qZA(),o.TgZ(5050,"value",1197),o.TgZ(5051,"shadow",68),o._UZ(5052,"field",69),o.qZA(),o.qZA(),o.qZA(),o._UZ(5053,"block",1251),o._UZ(5054,"block",1240),o.TgZ(5055,"block",1241),o.TgZ(5056,"value",1202),o.TgZ(5057,"shadow",16),o.TgZ(5058,"field",17),o._uU(5059,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(5060,"value",1203),o.TgZ(5061,"shadow",16),o.TgZ(5062,"field",17),o._uU(5063,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(5064,"block",1242),o._UZ(5065,"block",1243),o._UZ(5066,"block",1245),o.TgZ(5067,"block",1244),o.TgZ(5068,"value",1210),o.TgZ(5069,"shadow",64),o.TgZ(5070,"field",1231),o._uU(5071,"8"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(5072,"value",1212),o.TgZ(5073,"shadow",64),o.TgZ(5074,"field",1232),o._uU(5075,"1"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(5076,"block",1252),o.TgZ(5077,"value",995),o.TgZ(5078,"shadow",64),o.TgZ(5079,"field",1234),o._uU(5080,"1"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(5081,"block",1246),o.TgZ(5082,"value",1221),o.TgZ(5083,"shadow",68),o._UZ(5084,"field",69),o.qZA(),o.qZA(),o.qZA(),o._UZ(5085,"block",1253),o._UZ(5086,"block",1247),o.qZA(),o.TgZ(5087,"category",1254),o._UZ(5088,"button",1255),o._UZ(5089,"button",1256),o.TgZ(5090,"block",1257),o.TgZ(5091,"value",1194),o.TgZ(5092,"shadow",16),o.TgZ(5093,"field",17),o._uU(5094,"13"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(5095,"value",1195),o.TgZ(5096,"shadow",16),o.TgZ(5097,"field",17),o._uU(5098,"5"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(5099,"next"),o.TgZ(5100,"block",279),o.TgZ(5101,"value",69),o._UZ(5102,"block",1258),o.qZA(),o.TgZ(5103,"next"),o.TgZ(5104,"block",279),o.TgZ(5105,"value",69),o._UZ(5106,"block",1259),o.qZA(),o.TgZ(5107,"next"),o.TgZ(5108,"block",279),o.TgZ(5109,"value",69),o._UZ(5110,"block",1260),o.qZA(),o.TgZ(5111,"next"),o.TgZ(5112,"block",279),o.TgZ(5113,"value",69),o._UZ(5114,"block",1261),o.qZA(),o.TgZ(5115,"next"),o.TgZ(5116,"block",8),o.TgZ(5117,"statement",187),o.TgZ(5118,"block",360),o.TgZ(5119,"value",292),o.TgZ(5120,"block",293),o.TgZ(5121,"field",294),o._uU(5122,"EQ"),o.qZA(),o.TgZ(5123,"value",295),o.TgZ(5124,"block",424),o.TgZ(5125,"value",304),o._UZ(5126,"block",1261),o.qZA(),o.qZA(),o.qZA(),o.TgZ(5127,"value",36),o.TgZ(5128,"block",68),o.TgZ(5129,"field",69),o._uU(5130,"1"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(5131,"statement",297),o.TgZ(5132,"block",302),o.TgZ(5133,"field",303),o._uU(5134,"resp"),o.qZA(),o.TgZ(5135,"value",304),o.TgZ(5136,"block",1262),o.TgZ(5137,"comment",1263),o._uU(5138,'echo "test"'),o.qZA(),o.TgZ(5139,"value",1264),o.TgZ(5140,"shadow",68),o.TgZ(5141,"field",69),o._uU(5142,"http://www.m2msupport.net/m2msupport/test.php"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(5143,"next"),o.TgZ(5144,"block",360),o.TgZ(5145,"value",292),o.TgZ(5146,"block",312),o.TgZ(5147,"field",303),o._uU(5148,"resp"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(5149,"statement",297),o.TgZ(5150,"block",279),o.TgZ(5151,"value",69),o.TgZ(5152,"block",582),o._UZ(5153,"mutation",583),o.TgZ(5154,"field",456),o._uU(5155,"GET"),o.qZA(),o.TgZ(5156,"field",584),o._uU(5157,"FROM_START"),o.qZA(),o.TgZ(5158,"value",304),o.TgZ(5159,"block",312),o.TgZ(5160,"field",303),o._uU(5161,"resp"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(5162,"value",586),o.TgZ(5163,"block",16),o.TgZ(5164,"field",17),o._uU(5165,"2"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(5166,"button",1265),o.TgZ(5167,"block",1257),o.TgZ(5168,"value",1194),o.TgZ(5169,"shadow",16),o.TgZ(5170,"field",17),o._uU(5171,"13"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(5172,"value",1195),o.TgZ(5173,"shadow",16),o.TgZ(5174,"field",17),o._uU(5175,"5"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(5176,"next"),o.TgZ(5177,"block",279),o.TgZ(5178,"value",69),o._UZ(5179,"block",1258),o.qZA(),o.TgZ(5180,"next"),o.TgZ(5181,"block",279),o.TgZ(5182,"value",69),o._UZ(5183,"block",1259),o.qZA(),o.TgZ(5184,"next"),o.TgZ(5185,"block",279),o.TgZ(5186,"value",69),o._UZ(5187,"block",1260),o.qZA(),o.TgZ(5188,"next"),o.TgZ(5189,"block",279),o.TgZ(5190,"value",69),o._UZ(5191,"block",1261),o.qZA(),o.TgZ(5192,"next"),o.TgZ(5193,"block",8),o.TgZ(5194,"statement",187),o.TgZ(5195,"block",360),o.TgZ(5196,"value",292),o.TgZ(5197,"block",293),o.TgZ(5198,"field",294),o._uU(5199,"EQ"),o.qZA(),o.TgZ(5200,"value",295),o.TgZ(5201,"block",424),o.TgZ(5202,"value",304),o._UZ(5203,"block",1261),o.qZA(),o.qZA(),o.qZA(),o.TgZ(5204,"value",36),o.TgZ(5205,"block",68),o.TgZ(5206,"field",69),o._uU(5207,"1"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(5208,"statement",297),o.TgZ(5209,"block",302),o.TgZ(5210,"field",303),o._uU(5211,"post_data"),o.qZA(),o.TgZ(5212,"value",304),o.TgZ(5213,"block",1266),o.TgZ(5214,"statement",187),o.TgZ(5215,"block",1267),o.TgZ(5216,"value",899),o.TgZ(5217,"block",68),o.TgZ(5218,"field",69),o._uU(5219,"random1"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(5220,"value",101),o.TgZ(5221,"block",305),o.TgZ(5222,"value",306),o.TgZ(5223,"block",16),o.TgZ(5224,"field",17),o._uU(5225,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(5226,"value",307),o.TgZ(5227,"block",16),o.TgZ(5228,"field",17),o._uU(5229,"100"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(5230,"next"),o.TgZ(5231,"block",302),o.TgZ(5232,"field",303),o._uU(5233,"resp"),o.qZA(),o.TgZ(5234,"value",304),o.TgZ(5235,"block",1268),o.TgZ(5236,"field",1269),o._uU(5237,"application/json"),o.qZA(),o.TgZ(5238,"value",1264),o.TgZ(5239,"shadow",68),o.TgZ(5240,"field",69),o._uU(5241,"http://httpbin.org/post"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(5242,"value",447),o.TgZ(5243,"shadow",68),o._UZ(5244,"field",69),o.qZA(),o.TgZ(5245,"block",424),o.TgZ(5246,"value",304),o.TgZ(5247,"block",1270),o.TgZ(5248,"value",1271),o.TgZ(5249,"block",312),o.TgZ(5250,"field",303),o._uU(5251,"post_data"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(5252,"next"),o.TgZ(5253,"block",360),o.TgZ(5254,"value",292),o.TgZ(5255,"block",312),o.TgZ(5256,"field",303),o._uU(5257,"resp"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(5258,"statement",297),o.TgZ(5259,"block",279),o.TgZ(5260,"value",69),o.TgZ(5261,"block",1272),o.TgZ(5262,"value",899),o.TgZ(5263,"block",68),o.TgZ(5264,"field",69),o._uU(5265,"data"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(5266,"value",1273),o.TgZ(5267,"block",1274),o.TgZ(5268,"value",1271),o.TgZ(5269,"block",582),o._UZ(5270,"mutation",583),o.TgZ(5271,"field",456),o._uU(5272,"GET"),o.qZA(),o.TgZ(5273,"field",584),o._uU(5274,"FROM_START"),o.qZA(),o.TgZ(5275,"value",304),o.TgZ(5276,"block",312),o.TgZ(5277,"field",303),o._uU(5278,"resp "),o.qZA(),o.qZA(),o.qZA(),o.TgZ(5279,"value",586),o.TgZ(5280,"block",16),o.TgZ(5281,"field",17),o._uU(5282,"2"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(5283,"button",1275),o.TgZ(5284,"block",1276),o.TgZ(5285,"value",1194),o.TgZ(5286,"shadow",16),o.TgZ(5287,"field",17),o._uU(5288,"13"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(5289,"value",1195),o.TgZ(5290,"shadow",16),o.TgZ(5291,"field",17),o._uU(5292,"5"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(5293,"block",1277),o._UZ(5294,"block",1278),o._UZ(5295,"block",1258),o._UZ(5296,"block",1259),o._UZ(5297,"block",1260),o._UZ(5298,"block",1261),o._UZ(5299,"block",1279),o._UZ(5300,"button",1280),o.TgZ(5301,"block",1262),o.TgZ(5302,"value",1264),o.TgZ(5303,"shadow",68),o._UZ(5304,"field",69),o.qZA(),o.qZA(),o.qZA(),o.TgZ(5305,"block",1268),o.TgZ(5306,"value",1264),o.TgZ(5307,"shadow",68),o._UZ(5308,"field",69),o.qZA(),o.qZA(),o.TgZ(5309,"value",447),o.TgZ(5310,"shadow",68),o._UZ(5311,"field",69),o.qZA(),o.qZA(),o.qZA(),o._UZ(5312,"block",1281),o.qZA(),o.TgZ(5313,"category",1282),o._UZ(5314,"button",1283),o._UZ(5315,"button",1284),o.TgZ(5316,"block",1285),o.TgZ(5317,"value",1194),o.TgZ(5318,"shadow",16),o.TgZ(5319,"field",17),o._uU(5320,"13"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(5321,"value",1195),o.TgZ(5322,"shadow",16),o.TgZ(5323,"field",17),o._uU(5324,"5"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(5325,"next"),o.TgZ(5326,"block",1286),o.TgZ(5327,"value",1287),o.TgZ(5328,"shadow",68),o.TgZ(5329,"field",69),o._uU(5330,"120.77.157.90"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(5331,"value",995),o.TgZ(5332,"shadow",16),o.TgZ(5333,"field",17),o._uU(5334,"5683"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(5335,"next"),o.TgZ(5336,"block",279),o.TgZ(5337,"value",69),o.TgZ(5338,"block",1288),o._UZ(5339,"mutation",1289),o.TgZ(5340,"field",1290),o._uU(5341,"false"),o.qZA(),o.TgZ(5342,"value",1264),o.TgZ(5343,"shadow",68),o.TgZ(5344,"field",69),o._uU(5345,"/m5stack-get"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(5346,"next"),o.TgZ(5347,"block",279),o.TgZ(5348,"value",69),o.TgZ(5349,"block",1291),o._UZ(5350,"mutation",1289),o.TgZ(5351,"field",1292),o._uU(5352,"0"),o.qZA(),o.TgZ(5353,"field",1290),o._uU(5354,"false"),o.qZA(),o.TgZ(5355,"value",1264),o.TgZ(5356,"shadow",68),o.TgZ(5357,"field",69),o._uU(5358,"/m5stack-post"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(5359,"value",1221),o.TgZ(5360,"shadow",68),o.TgZ(5361,"field",69),o._uU(5362,"post-test"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(5363,"next"),o.TgZ(5364,"block",279),o.TgZ(5365,"value",69),o.TgZ(5366,"block",1293),o._UZ(5367,"mutation",1289),o.TgZ(5368,"field",1292),o._uU(5369,"0"),o.qZA(),o.TgZ(5370,"field",1290),o._uU(5371,"false"),o.qZA(),o.TgZ(5372,"value",1264),o.TgZ(5373,"shadow",68),o.TgZ(5374,"field",69),o._uU(5375,"/m5stack-put"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(5376,"value",1221),o.TgZ(5377,"shadow",68),o.TgZ(5378,"field",69),o._uU(5379,"put-test"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(5380,"button",1294),o.TgZ(5381,"block",1295),o.TgZ(5382,"value",1194),o.TgZ(5383,"shadow",16),o.TgZ(5384,"field",17),o._uU(5385,"13"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(5386,"value",1195),o.TgZ(5387,"shadow",16),o.TgZ(5388,"field",17),o._uU(5389,"5"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(5390,"block",1296),o._UZ(5391,"block",1297),o._UZ(5392,"block",1298),o._UZ(5393,"block",1299),o._UZ(5394,"block",1300),o._UZ(5395,"block",1301),o._UZ(5396,"block",1302),o._UZ(5397,"button",1303),o.TgZ(5398,"block",1286),o.TgZ(5399,"value",1287),o.TgZ(5400,"shadow",68),o._UZ(5401,"field",69),o.qZA(),o.qZA(),o.TgZ(5402,"value",995),o.TgZ(5403,"shadow",16),o.TgZ(5404,"field",17),o._uU(5405,"5683"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(5406,"block",1288),o.TgZ(5407,"value",1264),o.TgZ(5408,"shadow",68),o._UZ(5409,"field",69),o.qZA(),o.qZA(),o.qZA(),o.TgZ(5410,"block",1291),o.TgZ(5411,"value",1264),o.TgZ(5412,"shadow",68),o._UZ(5413,"field",69),o.qZA(),o.qZA(),o.TgZ(5414,"value",1221),o.TgZ(5415,"shadow",68),o._UZ(5416,"field",69),o.qZA(),o.qZA(),o.qZA(),o.TgZ(5417,"block",1293),o.TgZ(5418,"value",1264),o.TgZ(5419,"shadow",68),o._UZ(5420,"field",69),o.qZA(),o.qZA(),o.TgZ(5421,"value",1221),o.TgZ(5422,"shadow",68),o._UZ(5423,"field",69),o.qZA(),o.qZA(),o.qZA(),o._UZ(5424,"block",1304),o._UZ(5425,"button",1305),o.TgZ(5426,"block",1306),o.TgZ(5427,"value",1307),o.TgZ(5428,"shadow",68),o._UZ(5429,"field",69),o.qZA(),o.qZA(),o.TgZ(5430,"value",995),o.TgZ(5431,"shadow",16),o.TgZ(5432,"field",17),o._uU(5433,"1883"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(5434,"value",1308),o.TgZ(5435,"shadow",68),o._UZ(5436,"field",69),o.qZA(),o.qZA(),o.TgZ(5437,"value",1309),o.TgZ(5438,"shadow",68),o._UZ(5439,"field",69),o.qZA(),o.qZA(),o.TgZ(5440,"value",1310),o.TgZ(5441,"shadow",68),o._UZ(5442,"field",69),o.qZA(),o.qZA(),o.TgZ(5443,"value",1311),o.TgZ(5444,"shadow",68),o._UZ(5445,"field",69),o.qZA(),o.qZA(),o.qZA(),o._UZ(5446,"block",1312),o.TgZ(5447,"block",1313),o.TgZ(5448,"value",1314),o.TgZ(5449,"shadow",68),o._UZ(5450,"field",69),o.qZA(),o.qZA(),o.TgZ(5451,"value",1315),o.TgZ(5452,"shadow",16),o._UZ(5453,"field",17),o.qZA(),o.qZA(),o.qZA(),o._UZ(5454,"block",1316),o.TgZ(5455,"block",1317),o.TgZ(5456,"value",1314),o.TgZ(5457,"shadow",68),o._UZ(5458,"field",69),o.qZA(),o.qZA(),o.qZA(),o.TgZ(5459,"block",1318),o.TgZ(5460,"value",1314),o.TgZ(5461,"shadow",68),o._UZ(5462,"field",69),o.qZA(),o.qZA(),o.TgZ(5463,"value",1221),o.TgZ(5464,"shadow",68),o._UZ(5465,"field",69),o.qZA(),o.qZA(),o.TgZ(5466,"value",1315),o.TgZ(5467,"shadow",16),o._UZ(5468,"field",17),o.qZA(),o.qZA(),o.qZA(),o._UZ(5469,"block",1319),o.TgZ(5470,"block",1320),o.TgZ(5471,"value",1314),o.TgZ(5472,"shadow",68),o._UZ(5473,"field",69),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(5474,"category",1321),o.TgZ(5475,"category",1322),o._UZ(5476,"button",1323),o._UZ(5477,"button",1324),o.TgZ(5478,"block",278),o.TgZ(5479,"statement",187),o.TgZ(5480,"block",279),o.TgZ(5481,"value",69),o.TgZ(5482,"block",422),o.TgZ(5483,"value",423),o.TgZ(5484,"shadow",68),o.TgZ(5485,"field",69),o._uU(5486,"Temperature: "),o.qZA(),o.qZA(),o.qZA(),o.TgZ(5487,"value",425),o._UZ(5488,"block",1325),o.qZA(),o.qZA(),o.qZA(),o.TgZ(5489,"next"),o.TgZ(5490,"block",279),o.TgZ(5491,"value",69),o.TgZ(5492,"block",422),o.TgZ(5493,"value",423),o.TgZ(5494,"shadow",68),o.TgZ(5495,"field",69),o._uU(5496,"Humidity: "),o.qZA(),o.qZA(),o.qZA(),o.TgZ(5497,"value",425),o._UZ(5498,"block",1326),o.qZA(),o.qZA(),o.qZA(),o.TgZ(5499,"next"),o.TgZ(5500,"block",279),o.TgZ(5501,"value",69),o.TgZ(5502,"block",422),o.TgZ(5503,"value",423),o.TgZ(5504,"shadow",68),o.TgZ(5505,"field",69),o._uU(5506,"Pressure: "),o.qZA(),o.qZA(),o.qZA(),o.TgZ(5507,"value",425),o._UZ(5508,"block",1327),o.qZA(),o.qZA(),o.qZA(),o.TgZ(5509,"next"),o.TgZ(5510,"block",188),o.TgZ(5511,"value",189),o.TgZ(5512,"shadow",16),o.TgZ(5513,"field",17),o._uU(5514,"0.5"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(5515,"button",191),o._UZ(5516,"block",1327),o._UZ(5517,"block",1325),o._UZ(5518,"block",1326),o.qZA(),o.TgZ(5519,"category",1328),o._UZ(5520,"button",1329),o._UZ(5521,"button",1330),o.TgZ(5522,"block",278),o.TgZ(5523,"statement",187),o.TgZ(5524,"block",291),o.TgZ(5525,"value",292),o._UZ(5526,"block",1331),o.qZA(),o.TgZ(5527,"statement",297),o.TgZ(5528,"block",155),o.TgZ(5529,"next"),o.TgZ(5530,"block",279),o.TgZ(5531,"value",69),o.TgZ(5532,"block",68),o.TgZ(5533,"field",69),o._uU(5534,"ON"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(5535,"statement",298),o.TgZ(5536,"block",154),o.TgZ(5537,"next"),o.TgZ(5538,"block",279),o.TgZ(5539,"value",69),o.TgZ(5540,"block",68),o.TgZ(5541,"field",69),o._uU(5542,"OFF"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(5543,"button",191),o._UZ(5544,"block",1331),o.qZA(),o.TgZ(5545,"category",1332),o._UZ(5546,"button",1333),o._UZ(5547,"button",1334),o.TgZ(5548,"block",1335),o.TgZ(5549,"field",1336),o._uU(5550,"131"),o.qZA(),o.TgZ(5551,"field",1337),o._uU(5552,"1"),o.qZA(),o.TgZ(5553,"next"),o.TgZ(5554,"block",1338),o.TgZ(5555,"field",1336),o._uU(5556,"448"),o.qZA(),o.TgZ(5557,"field",1337),o._uU(5558,"1"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(5559,"button",191),o.TgZ(5560,"block",1339),o.TgZ(5561,"value",530),o.TgZ(5562,"shadow",16),o.TgZ(5563,"field",17),o._uU(5564,"1800"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(5565,"value",1340),o.TgZ(5566,"shadow",16),o.TgZ(5567,"field",17),o._uU(5568,"200"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(5569,"block",1341),o.TgZ(5570,"value",1342),o.TgZ(5571,"shadow",16),o.TgZ(5572,"field",17),o._uU(5573,"1"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(5574,"block",1338),o.qZA(),o.TgZ(5575,"category",1343),o._UZ(5576,"button",1344),o._UZ(5577,"button",1345),o.TgZ(5578,"block",278),o.TgZ(5579,"statement",187),o.TgZ(5580,"block",279),o.TgZ(5581,"value",69),o.TgZ(5582,"block",422),o.TgZ(5583,"value",423),o.TgZ(5584,"shadow",685),o._UZ(5585,"field",69),o.qZA(),o.TgZ(5586,"block",1346),o.TgZ(5587,"field",436),o._uU(5588,"hat_ncir0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(5589,"value",425),o.TgZ(5590,"block",68),o.TgZ(5591,"field",69),o._uU(5592,"\u2103"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(5593,"next"),o.TgZ(5594,"block",291),o.TgZ(5595,"value",292),o.TgZ(5596,"block",293),o.TgZ(5597,"field",294),o._uU(5598,"GT"),o.qZA(),o.TgZ(5599,"value",295),o.TgZ(5600,"block",1346),o.TgZ(5601,"field",436),o._uU(5602,"hat_ncir0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(5603,"value",36),o.TgZ(5604,"block",16),o.TgZ(5605,"field",17),o._uU(5606,"32"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(5607,"statement",297),o._UZ(5608,"block",155),o.qZA(),o.TgZ(5609,"statement",298),o._UZ(5610,"block",154),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(5611,"button",191),o._UZ(5612,"block",1346),o.qZA(),o.TgZ(5613,"category",1347),o._UZ(5614,"button",1348),o._UZ(5615,"button",1349),o.TgZ(5616,"block",278),o.TgZ(5617,"statement",187),o.TgZ(5618,"block",279),o.TgZ(5619,"value",69),o.TgZ(5620,"block",422),o.TgZ(5621,"value",423),o.TgZ(5622,"shadow",68),o.TgZ(5623,"field",69),o._uU(5624,"Voltage: "),o.qZA(),o.qZA(),o.qZA(),o.TgZ(5625,"value",425),o.TgZ(5626,"block",422),o.TgZ(5627,"value",423),o.TgZ(5628,"shadow",685),o._UZ(5629,"field",69),o.qZA(),o.TgZ(5630,"block",1350),o.TgZ(5631,"field",415),o._uU(5632,"hat_adc0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(5633,"value",425),o.TgZ(5634,"block",68),o.TgZ(5635,"field",69),o._uU(5636,"V"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(5637,"button",191),o._UZ(5638,"block",1350),o.qZA(),o.TgZ(5639,"category",1351),o._UZ(5640,"button",1352),o._UZ(5641,"button",1353),o.TgZ(5642,"block",1354),o.TgZ(5643,"field",420),o._uU(5644,"hat_dac0"),o.qZA(),o.TgZ(5645,"field",421),o._uU(5646,"True"),o.qZA(),o.TgZ(5647,"value",306),o.TgZ(5648,"shadow",16),o.TgZ(5649,"field",17),o._uU(5650,"1"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(5651,"button",191),o.TgZ(5652,"block",1355),o.TgZ(5653,"value",306),o.TgZ(5654,"shadow",16),o.TgZ(5655,"field",17),o._uU(5656,"1"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(5657,"block",1356),o.TgZ(5658,"value",306),o.TgZ(5659,"shadow",16),o.TgZ(5660,"field",17),o._uU(5661,"1"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(5662,"category",1357),o._UZ(5663,"button",1358),o._UZ(5664,"button",1359),o.TgZ(5665,"block",278),o.TgZ(5666,"statement",187),o.TgZ(5667,"block",279),o.TgZ(5668,"value",69),o.TgZ(5669,"block",422),o.TgZ(5670,"value",423),o.TgZ(5671,"shadow",68),o.TgZ(5672,"field",69),o._uU(5673," Temperature: "),o.qZA(),o.qZA(),o.qZA(),o.TgZ(5674,"value",425),o._UZ(5675,"block",1360),o.qZA(),o.qZA(),o.qZA(),o.TgZ(5676,"next"),o.TgZ(5677,"block",279),o.TgZ(5678,"value",69),o.TgZ(5679,"block",422),o.TgZ(5680,"value",423),o.TgZ(5681,"shadow",68),o.TgZ(5682,"field",69),o._uU(5683," Humidity: "),o.qZA(),o.qZA(),o.qZA(),o.TgZ(5684,"value",425),o._UZ(5685,"block",1361),o.qZA(),o.qZA(),o.qZA(),o.TgZ(5686,"next"),o.TgZ(5687,"block",279),o.TgZ(5688,"value",69),o.TgZ(5689,"block",422),o.TgZ(5690,"value",423),o.TgZ(5691,"shadow",68),o.TgZ(5692,"field",69),o._uU(5693," Pressure: "),o.qZA(),o.qZA(),o.qZA(),o.TgZ(5694,"value",425),o._UZ(5695,"block",1362),o.qZA(),o.qZA(),o.qZA(),o.TgZ(5696,"next"),o.TgZ(5697,"block",279),o.TgZ(5698,"value",69),o.TgZ(5699,"block",422),o.TgZ(5700,"value",423),o.TgZ(5701,"shadow",68),o.TgZ(5702,"field",69),o._uU(5703," Brightness: "),o.qZA(),o.qZA(),o.qZA(),o.TgZ(5704,"value",425),o._UZ(5705,"block",1363),o.qZA(),o.qZA(),o.qZA(),o.TgZ(5706,"next"),o.TgZ(5707,"block",188),o.TgZ(5708,"value",189),o.TgZ(5709,"shadow",16),o.TgZ(5710,"field",17),o._uU(5711,"1"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(5712,"button",191),o._UZ(5713,"block",1360),o._UZ(5714,"block",1361),o._UZ(5715,"block",1362),o._UZ(5716,"block",1363),o.TgZ(5717,"block",1364),o.TgZ(5718,"value",316),o.TgZ(5719,"shadow",16),o.TgZ(5720,"field",17),o._uU(5721,"1"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(5722,"block",1365),o.qZA(),o.TgZ(5723,"category",1366),o._UZ(5724,"button",1367),o._UZ(5725,"button",1368),o.TgZ(5726,"block",278),o.TgZ(5727,"statement",187),o.TgZ(5728,"block",1369),o.TgZ(5729,"value",355),o.TgZ(5730,"shadow",16),o.TgZ(5731,"field",17),o._uU(5732,"2500"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(5733,"next"),o.TgZ(5734,"block",1370),o.TgZ(5735,"value",352),o.TgZ(5736,"shadow",16),o.TgZ(5737,"field",17),o._uU(5738,"180"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(5739,"next"),o.TgZ(5740,"block",188),o.TgZ(5741,"value",189),o.TgZ(5742,"shadow",16),o.TgZ(5743,"field",17),o._uU(5744,"1"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(5745,"next"),o.TgZ(5746,"block",1369),o.TgZ(5747,"value",355),o.TgZ(5748,"shadow",16),o.TgZ(5749,"field",17),o._uU(5750,"500"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(5751,"next"),o.TgZ(5752,"block",1370),o.TgZ(5753,"value",352),o.TgZ(5754,"shadow",16),o.TgZ(5755,"field",17),o._uU(5756,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(5757,"next"),o.TgZ(5758,"block",188),o.TgZ(5759,"value",189),o.TgZ(5760,"shadow",16),o.TgZ(5761,"field",17),o._uU(5762,"1"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(5763,"button",191),o.TgZ(5764,"block",1370),o.TgZ(5765,"value",352),o.TgZ(5766,"shadow",16),o.TgZ(5767,"field",17),o._uU(5768,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(5769,"block",1369),o.TgZ(5770,"value",355),o.TgZ(5771,"shadow",16),o.TgZ(5772,"field",17),o._uU(5773,"600"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(5774,"category",1371),o._UZ(5775,"button",1372),o.TgZ(5776,"block",1373),o.TgZ(5777,"value",352),o.TgZ(5778,"shadow",16),o.TgZ(5779,"field",17),o._uU(5780,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(5781,"block",1374),o.TgZ(5782,"value",355),o.TgZ(5783,"shadow",16),o.TgZ(5784,"field",17),o._uU(5785,"600"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(5786,"block",1375),o.TgZ(5787,"block",1376),o.TgZ(5788,"value",34),o.TgZ(5789,"shadow",16),o.TgZ(5790,"field",17),o._uU(5791,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(5792,"value",35),o.TgZ(5793,"shadow",16),o.TgZ(5794,"field",17),o._uU(5795,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(5796,"value",36),o.TgZ(5797,"shadow",16),o.TgZ(5798,"field",17),o._uU(5799,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(5800,"category",1377),o._UZ(5801,"button",1378),o._UZ(5802,"button",1379),o.TgZ(5803,"block",278),o.TgZ(5804,"statement",187),o.TgZ(5805,"block",1380),o.TgZ(5806,"value",1381),o.TgZ(5807,"shadow",16),o.TgZ(5808,"field",17),o._uU(5809,"60"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(5810,"value",1382),o.TgZ(5811,"shadow",16),o.TgZ(5812,"field",17),o._uU(5813,"60"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(5814,"value",1383),o.TgZ(5815,"shadow",16),o.TgZ(5816,"field",17),o._uU(5817,"130"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(5818,"value",1384),o.TgZ(5819,"shadow",16),o.TgZ(5820,"field",17),o._uU(5821,"120"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(5822,"next"),o.TgZ(5823,"block",188),o.TgZ(5824,"value",189),o.TgZ(5825,"shadow",16),o.TgZ(5826,"field",17),o._uU(5827,"0.5"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(5828,"next"),o.TgZ(5829,"block",1380),o.TgZ(5830,"value",1381),o.TgZ(5831,"shadow",16),o.TgZ(5832,"field",17),o._uU(5833,"120"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(5834,"value",1382),o.TgZ(5835,"shadow",16),o.TgZ(5836,"field",17),o._uU(5837,"130"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(5838,"value",1383),o.TgZ(5839,"shadow",16),o.TgZ(5840,"field",17),o._uU(5841,"60"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(5842,"value",1384),o.TgZ(5843,"shadow",16),o.TgZ(5844,"field",17),o._uU(5845,"60"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(5846,"next"),o.TgZ(5847,"block",188),o.TgZ(5848,"value",189),o.TgZ(5849,"shadow",16),o.TgZ(5850,"field",17),o._uU(5851,"0.5"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(5852,"button",191),o.TgZ(5853,"block",1385),o.TgZ(5854,"value",352),o.TgZ(5855,"shadow",16),o.TgZ(5856,"field",17),o._uU(5857,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(5858,"block",1380),o.TgZ(5859,"value",1381),o.TgZ(5860,"shadow",16),o.TgZ(5861,"field",17),o._uU(5862,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(5863,"value",1382),o.TgZ(5864,"shadow",16),o.TgZ(5865,"field",17),o._uU(5866,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(5867,"value",1383),o.TgZ(5868,"shadow",16),o.TgZ(5869,"field",17),o._uU(5870,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(5871,"value",1384),o.TgZ(5872,"shadow",16),o.TgZ(5873,"field",17),o._uU(5874,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(5875,"category",1386),o._UZ(5876,"button",1387),o._UZ(5877,"button",1388),o.TgZ(5878,"block",278),o.TgZ(5879,"statement",187),o.TgZ(5880,"block",279),o.TgZ(5881,"value",69),o.TgZ(5882,"block",422),o.TgZ(5883,"value",423),o.TgZ(5884,"shadow",68),o.TgZ(5885,"field",69),o._uU(5886,"X: "),o.qZA(),o.qZA(),o.qZA(),o.TgZ(5887,"value",425),o._UZ(5888,"block",1389),o.qZA(),o.qZA(),o.qZA(),o.TgZ(5889,"next"),o.TgZ(5890,"block",279),o.TgZ(5891,"value",69),o.TgZ(5892,"block",422),o.TgZ(5893,"value",423),o.TgZ(5894,"shadow",68),o.TgZ(5895,"field",69),o._uU(5896,"Y: "),o.qZA(),o.qZA(),o.qZA(),o.TgZ(5897,"value",425),o._UZ(5898,"block",1390),o.qZA(),o.qZA(),o.qZA(),o.TgZ(5899,"next"),o.TgZ(5900,"block",279),o.TgZ(5901,"value",69),o.TgZ(5902,"block",422),o.TgZ(5903,"value",423),o.TgZ(5904,"shadow",68),o.TgZ(5905,"field",69),o._uU(5906,"P: "),o.qZA(),o.qZA(),o.qZA(),o.TgZ(5907,"value",425),o._UZ(5908,"block",1391),o.qZA(),o.qZA(),o.qZA(),o.TgZ(5909,"next"),o.TgZ(5910,"block",279),o.TgZ(5911,"value",69),o.TgZ(5912,"block",422),o.TgZ(5913,"value",423),o.TgZ(5914,"shadow",68),o.TgZ(5915,"field",69),o._uU(5916,"RX: "),o.qZA(),o.qZA(),o.qZA(),o.TgZ(5917,"value",425),o._UZ(5918,"block",1392),o.qZA(),o.qZA(),o.qZA(),o.TgZ(5919,"next"),o.TgZ(5920,"block",279),o.TgZ(5921,"value",69),o.TgZ(5922,"block",422),o.TgZ(5923,"value",423),o.TgZ(5924,"shadow",68),o.TgZ(5925,"field",69),o._uU(5926,"RY: "),o.qZA(),o.qZA(),o.qZA(),o.TgZ(5927,"value",425),o._UZ(5928,"block",1393),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(5929,"button",191),o._UZ(5930,"block",1389),o._UZ(5931,"block",1390),o._UZ(5932,"block",1391),o._UZ(5933,"block",1392),o._UZ(5934,"block",1393),o.qZA(),o.TgZ(5935,"category",1394),o._UZ(5936,"button",1395),o._UZ(5937,"button",1396),o.TgZ(5938,"block",278),o.TgZ(5939,"statement",187),o.TgZ(5940,"block",1397),o.TgZ(5941,"value",1398),o.TgZ(5942,"shadow",16),o.TgZ(5943,"field",17),o._uU(5944,"-100"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(5945,"value",1399),o.TgZ(5946,"shadow",16),o.TgZ(5947,"field",17),o._uU(5948,"100"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(5949,"value",1400),o.TgZ(5950,"shadow",16),o.TgZ(5951,"field",17),o._uU(5952,"-100"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(5953,"value",1401),o.TgZ(5954,"shadow",16),o.TgZ(5955,"field",17),o._uU(5956,"100"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(5957,"next"),o.TgZ(5958,"block",1402),o.TgZ(5959,"value",34),o.TgZ(5960,"shadow",16),o.TgZ(5961,"field",17),o._uU(5962,"4"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(5963,"value",35),o.TgZ(5964,"shadow",16),o.TgZ(5965,"field",17),o._uU(5966,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(5967,"value",36),o.TgZ(5968,"shadow",16),o.TgZ(5969,"field",17),o._uU(5970,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(5971,"next"),o.TgZ(5972,"block",188),o.TgZ(5973,"value",189),o.TgZ(5974,"shadow",16),o.TgZ(5975,"field",17),o._uU(5976,"1"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(5977,"next"),o.TgZ(5978,"block",1397),o.TgZ(5979,"value",1398),o.TgZ(5980,"shadow",16),o.TgZ(5981,"field",17),o._uU(5982,"100"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(5983,"value",1399),o.TgZ(5984,"shadow",16),o.TgZ(5985,"field",17),o._uU(5986,"-100"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(5987,"value",1400),o.TgZ(5988,"shadow",16),o.TgZ(5989,"field",17),o._uU(5990,"100"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(5991,"value",1401),o.TgZ(5992,"shadow",16),o.TgZ(5993,"field",17),o._uU(5994,"-100"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(5995,"next"),o.TgZ(5996,"block",1402),o.TgZ(5997,"value",34),o.TgZ(5998,"shadow",16),o.TgZ(5999,"field",17),o._uU(6e3,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(6001,"value",35),o.TgZ(6002,"shadow",16),o.TgZ(6003,"field",17),o._uU(6004,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(6005,"value",36),o.TgZ(6006,"shadow",16),o.TgZ(6007,"field",17),o._uU(6008,"4"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(6009,"next"),o.TgZ(6010,"block",188),o.TgZ(6011,"value",189),o.TgZ(6012,"shadow",16),o.TgZ(6013,"field",17),o._uU(6014,"1"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(6015,"button",191),o.TgZ(6016,"block",1403),o.TgZ(6017,"value",519),o.TgZ(6018,"shadow",16),o.TgZ(6019,"field",17),o._uU(6020,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(6021,"block",1397),o.TgZ(6022,"value",1398),o.TgZ(6023,"shadow",16),o.TgZ(6024,"field",17),o._uU(6025,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(6026,"value",1399),o.TgZ(6027,"shadow",16),o.TgZ(6028,"field",17),o._uU(6029,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(6030,"value",1400),o.TgZ(6031,"shadow",16),o.TgZ(6032,"field",17),o._uU(6033,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(6034,"value",1401),o.TgZ(6035,"shadow",16),o.TgZ(6036,"field",17),o._uU(6037,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(6038,"block",1404),o.TgZ(6039,"block",1405),o.TgZ(6040,"value",34),o.TgZ(6041,"shadow",16),o.TgZ(6042,"field",17),o._uU(6043,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(6044,"value",35),o.TgZ(6045,"shadow",16),o.TgZ(6046,"field",17),o._uU(6047,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(6048,"value",36),o.TgZ(6049,"shadow",16),o.TgZ(6050,"field",17),o._uU(6051,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(6052,"block",1402),o.TgZ(6053,"value",34),o.TgZ(6054,"shadow",16),o.TgZ(6055,"field",17),o._uU(6056,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(6057,"value",35),o.TgZ(6058,"shadow",16),o.TgZ(6059,"field",17),o._uU(6060,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(6061,"value",36),o.TgZ(6062,"shadow",16),o.TgZ(6063,"field",17),o._uU(6064,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(6065,"category",1406),o._UZ(6066,"button",1407),o._UZ(6067,"button",1408),o.TgZ(6068,"block",1409),o.TgZ(6069,"statement",480),o.TgZ(6070,"block",360),o.TgZ(6071,"value",292),o.TgZ(6072,"block",481),o.TgZ(6073,"field",294),o._uU(6074,"AND"),o.qZA(),o.TgZ(6075,"value",295),o.TgZ(6076,"block",293),o.TgZ(6077,"field",294),o._uU(6078,"EQ"),o.qZA(),o.TgZ(6079,"value",295),o._UZ(6080,"block",1410),o.qZA(),o.TgZ(6081,"value",36),o.TgZ(6082,"block",16),o.TgZ(6083,"field",17),o._uU(6084,"1"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(6085,"value",36),o.TgZ(6086,"block",293),o.TgZ(6087,"field",294),o._uU(6088,"EQ"),o.qZA(),o.TgZ(6089,"value",295),o._UZ(6090,"block",1411),o.qZA(),o.TgZ(6091,"value",36),o.TgZ(6092,"block",16),o.TgZ(6093,"field",17),o._uU(6094,"1"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(6095,"statement",297),o.TgZ(6096,"block",1412),o.TgZ(6097,"field",314),o._uU(6098,"#33ff33"),o.qZA(),o.TgZ(6099,"next"),o.TgZ(6100,"block",188),o.TgZ(6101,"value",189),o.TgZ(6102,"shadow",16),o.TgZ(6103,"field",17),o._uU(6104,"1"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(6105,"next"),o.TgZ(6106,"block",1412),o.TgZ(6107,"field",314),o._uU(6108,"#000000"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(6109,"button",191),o._UZ(6110,"block",1413),o._UZ(6111,"block",1410),o._UZ(6112,"block",1411),o._UZ(6113,"block",1414),o.TgZ(6114,"block",1415),o.TgZ(6115,"value",477),o.TgZ(6116,"shadow",16),o.TgZ(6117,"field",17),o._uU(6118,"1"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(6119,"block",1416),o.TgZ(6120,"value",477),o.TgZ(6121,"shadow",16),o.TgZ(6122,"field",17),o._uU(6123,"1"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(6124,"value",476),o.TgZ(6125,"shadow",16),o.TgZ(6126,"field",17),o._uU(6127,"1"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(6128,"block",1417),o._UZ(6129,"block",1418),o.qZA(),o.TgZ(6130,"category",1419),o._UZ(6131,"button",1420),o._UZ(6132,"button",1421),o.TgZ(6133,"block",278),o.TgZ(6134,"statement",187),o.TgZ(6135,"block",1422),o.TgZ(6136,"field",1423),o._uU(6137,"0"),o.qZA(),o.TgZ(6138,"value",198),o.TgZ(6139,"shadow",16),o.TgZ(6140,"field",17),o._uU(6141,"70"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(6142,"next"),o.TgZ(6143,"block",1422),o.TgZ(6144,"field",1423),o._uU(6145,"1"),o.qZA(),o.TgZ(6146,"value",198),o.TgZ(6147,"shadow",16),o.TgZ(6148,"field",17),o._uU(6149,"70"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(6150,"next"),o.TgZ(6151,"block",1424),o.TgZ(6152,"field",314),o._uU(6153,"#ff0000"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(6154,"button",191),o.TgZ(6155,"block",1422),o.TgZ(6156,"value",198),o.TgZ(6157,"shadow",16),o.TgZ(6158,"field",17),o._uU(6159,"1"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(6160,"block",1425),o.TgZ(6161,"value",316),o.TgZ(6162,"shadow",16),o.TgZ(6163,"field",17),o._uU(6164,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(6165,"block",1424),o.qZA(),o.TgZ(6166,"category",1426),o._UZ(6167,"button",1427),o._UZ(6168,"button",1428),o.TgZ(6169,"block",278),o.TgZ(6170,"statement",187),o.TgZ(6171,"block",279),o.TgZ(6172,"value",69),o.TgZ(6173,"block",422),o.TgZ(6174,"value",423),o.TgZ(6175,"shadow",68),o.TgZ(6176,"field",69),o._uU(6177,"L_Xv: "),o.qZA(),o.qZA(),o.qZA(),o.TgZ(6178,"value",425),o.TgZ(6179,"block",1429),o.TgZ(6180,"field",1430),o._uU(6181,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(6182,"next"),o.TgZ(6183,"block",279),o.TgZ(6184,"value",69),o.TgZ(6185,"block",422),o.TgZ(6186,"value",423),o.TgZ(6187,"shadow",68),o.TgZ(6188,"field",69),o._uU(6189,"L_Yv: "),o.qZA(),o.qZA(),o.qZA(),o.TgZ(6190,"value",425),o.TgZ(6191,"block",1431),o.TgZ(6192,"field",1430),o._uU(6193,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(6194,"next"),o.TgZ(6195,"block",279),o.TgZ(6196,"value",69),o.TgZ(6197,"block",422),o.TgZ(6198,"value",423),o.TgZ(6199,"shadow",68),o.TgZ(6200,"field",69),o._uU(6201,"L_Angle: "),o.qZA(),o.qZA(),o.qZA(),o.TgZ(6202,"value",425),o.TgZ(6203,"block",1432),o.TgZ(6204,"field",1430),o._uU(6205,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(6206,"next"),o.TgZ(6207,"block",279),o.TgZ(6208,"value",69),o.TgZ(6209,"block",422),o.TgZ(6210,"value",423),o.TgZ(6211,"shadow",68),o.TgZ(6212,"field",69),o._uU(6213,"L_Distance: "),o.qZA(),o.qZA(),o.qZA(),o.TgZ(6214,"value",425),o.TgZ(6215,"block",1433),o.TgZ(6216,"field",1430),o._uU(6217,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(6218,"next"),o.TgZ(6219,"block",279),o.TgZ(6220,"value",69),o.TgZ(6221,"block",422),o.TgZ(6222,"value",423),o.TgZ(6223,"shadow",68),o.TgZ(6224,"field",69),o._uU(6225,"L_PressState: "),o.qZA(),o.qZA(),o.qZA(),o.TgZ(6226,"value",425),o.TgZ(6227,"block",1434),o.TgZ(6228,"field",1430),o._uU(6229,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(6230,"next"),o.TgZ(6231,"block",188),o.TgZ(6232,"value",189),o.TgZ(6233,"shadow",16),o.TgZ(6234,"field",17),o._uU(6235,"0.5"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(6236,"button",191),o.TgZ(6237,"block",1435),o.TgZ(6238,"value",34),o.TgZ(6239,"shadow",16),o.TgZ(6240,"field",17),o._uU(6241,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(6242,"value",35),o.TgZ(6243,"shadow",16),o.TgZ(6244,"field",17),o._uU(6245,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(6246,"value",36),o.TgZ(6247,"shadow",16),o.TgZ(6248,"field",17),o._uU(6249,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(6250,"block",1429),o._UZ(6251,"block",1431),o._UZ(6252,"block",1432),o._UZ(6253,"block",1433),o._UZ(6254,"block",1434),o.qZA(),o.TgZ(6255,"category",1436),o._UZ(6256,"button",1437),o._UZ(6257,"button",1438),o.TgZ(6258,"block",278),o.TgZ(6259,"statement",187),o.TgZ(6260,"block",1439),o.TgZ(6261,"value",1440),o.TgZ(6262,"shadow",16),o.TgZ(6263,"field",17),o._uU(6264,"20"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(6265,"value",1441),o.TgZ(6266,"shadow",16),o.TgZ(6267,"field",17),o._uU(6268,"20"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(6269,"value",1442),o.TgZ(6270,"shadow",16),o.TgZ(6271,"field",17),o._uU(6272,"20"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(6273,"value",1443),o.TgZ(6274,"shadow",16),o.TgZ(6275,"field",17),o._uU(6276,"20"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(6277,"next"),o.TgZ(6278,"block",188),o.TgZ(6279,"value",189),o.TgZ(6280,"shadow",16),o.TgZ(6281,"field",17),o._uU(6282,"1"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(6283,"next"),o.TgZ(6284,"block",1444),o.TgZ(6285,"value",28),o.TgZ(6286,"shadow",16),o.TgZ(6287,"field",17),o._uU(6288,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(6289,"value",29),o.TgZ(6290,"shadow",16),o.TgZ(6291,"field",17),o._uU(6292,"-20"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(6293,"value",1022),o.TgZ(6294,"shadow",16),o.TgZ(6295,"field",17),o._uU(6296,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(6297,"next"),o.TgZ(6298,"block",188),o.TgZ(6299,"value",189),o.TgZ(6300,"shadow",16),o.TgZ(6301,"field",17),o._uU(6302,"1"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(6303,"next"),o.TgZ(6304,"block",1439),o.TgZ(6305,"value",1440),o.TgZ(6306,"shadow",16),o.TgZ(6307,"field",17),o._uU(6308,"20"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(6309,"value",1441),o.TgZ(6310,"shadow",16),o.TgZ(6311,"field",17),o._uU(6312,"-20"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(6313,"value",1442),o.TgZ(6314,"shadow",16),o.TgZ(6315,"field",17),o._uU(6316,"-20"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(6317,"value",1443),o.TgZ(6318,"shadow",16),o.TgZ(6319,"field",17),o._uU(6320,"20"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(6321,"next"),o.TgZ(6322,"block",188),o.TgZ(6323,"value",189),o.TgZ(6324,"shadow",16),o.TgZ(6325,"field",17),o._uU(6326,"1"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(6327,"next"),o.TgZ(6328,"block",1444),o.TgZ(6329,"value",28),o.TgZ(6330,"shadow",16),o.TgZ(6331,"field",17),o._uU(6332,"-20"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(6333,"value",29),o.TgZ(6334,"shadow",16),o.TgZ(6335,"field",17),o._uU(6336,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(6337,"value",1022),o.TgZ(6338,"shadow",16),o.TgZ(6339,"field",17),o._uU(6340,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(6341,"next"),o.TgZ(6342,"block",188),o.TgZ(6343,"value",189),o.TgZ(6344,"shadow",16),o.TgZ(6345,"field",17),o._uU(6346,"1"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(6347,"button",191),o.TgZ(6348,"block",1445),o.TgZ(6349,"value",1446),o.TgZ(6350,"shadow",16),o.TgZ(6351,"field",17),o._uU(6352,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(6353,"block",1439),o.TgZ(6354,"value",1440),o.TgZ(6355,"shadow",16),o.TgZ(6356,"field",17),o._uU(6357,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(6358,"value",1441),o.TgZ(6359,"shadow",16),o.TgZ(6360,"field",17),o._uU(6361,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(6362,"value",1442),o.TgZ(6363,"shadow",16),o.TgZ(6364,"field",17),o._uU(6365,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(6366,"value",1443),o.TgZ(6367,"shadow",16),o.TgZ(6368,"field",17),o._uU(6369,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(6370,"block",1444),o.TgZ(6371,"value",28),o.TgZ(6372,"shadow",16),o.TgZ(6373,"field",17),o._uU(6374,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(6375,"value",29),o.TgZ(6376,"shadow",16),o.TgZ(6377,"field",17),o._uU(6378,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(6379,"value",1022),o.TgZ(6380,"shadow",16),o.TgZ(6381,"field",17),o._uU(6382,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(6383,"block",1447),o.TgZ(6384,"value",532),o.TgZ(6385,"shadow",64),o.TgZ(6386,"field",738),o._uU(6387,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(6388,"value",209),o.TgZ(6389,"shadow",64),o.TgZ(6390,"field",210),o._uU(6391,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(6392,"block",1448),o.TgZ(6393,"value",532),o.TgZ(6394,"shadow",64),o.TgZ(6395,"field",738),o._uU(6396,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(6397,"value",213),o.TgZ(6398,"shadow",64),o.TgZ(6399,"field",214),o._uU(6400,"500"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(6401,"category",1449),o._UZ(6402,"button",1450),o._UZ(6403,"button",1451),o.TgZ(6404,"block",278),o.TgZ(6405,"statement",187),o.TgZ(6406,"block",279),o.TgZ(6407,"value",69),o.TgZ(6408,"block",422),o.TgZ(6409,"value",423),o.TgZ(6410,"shadow",68),o.TgZ(6411,"field",69),o._uU(6412,"Distance: "),o.qZA(),o.qZA(),o.qZA(),o.TgZ(6413,"value",425),o.TgZ(6414,"block",422),o.TgZ(6415,"value",423),o.TgZ(6416,"shadow",685),o._UZ(6417,"field",69),o.qZA(),o._UZ(6418,"block",1452),o.qZA(),o.TgZ(6419,"value",425),o.TgZ(6420,"block",68),o.TgZ(6421,"field",69),o._uU(6422," mm "),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(6423,"next"),o.TgZ(6424,"block",188),o.TgZ(6425,"value",189),o.TgZ(6426,"shadow",16),o.TgZ(6427,"field",17),o._uU(6428,"1"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(6429,"button",191),o._UZ(6430,"block",1452),o.qZA(),o.TgZ(6431,"category",1453),o._UZ(6432,"button",1454),o._UZ(6433,"button",1455),o.TgZ(6434,"block",278),o.TgZ(6435,"statement",187),o.TgZ(6436,"block",1456),o.TgZ(6437,"field",1457),o._uU(6438,"True"),o.qZA(),o.TgZ(6439,"field",1458),o._uU(6440,"True"),o.qZA(),o.TgZ(6441,"value",28),o.TgZ(6442,"shadow",16),o.TgZ(6443,"field",17),o._uU(6444,"45"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(6445,"value",29),o.TgZ(6446,"shadow",16),o.TgZ(6447,"field",17),o._uU(6448,"25"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(6449,"next"),o.TgZ(6450,"block",279),o.TgZ(6451,"value",69),o.TgZ(6452,"block",422),o.TgZ(6453,"value",423),o.TgZ(6454,"shadow",68),o.TgZ(6455,"field",69),o._uU(6456,"Center Temp: "),o.qZA(),o.qZA(),o.qZA(),o.TgZ(6457,"value",425),o._UZ(6458,"block",1459),o.qZA(),o.qZA(),o.qZA(),o.TgZ(6459,"next"),o.TgZ(6460,"block",279),o.TgZ(6461,"value",69),o.TgZ(6462,"block",422),o.TgZ(6463,"value",423),o.TgZ(6464,"shadow",68),o.TgZ(6465,"field",69),o._uU(6466," Max Temp: "),o.qZA(),o.qZA(),o.qZA(),o.TgZ(6467,"value",425),o._UZ(6468,"block",1460),o.qZA(),o.qZA(),o.qZA(),o.TgZ(6469,"next"),o.TgZ(6470,"block",279),o.TgZ(6471,"value",69),o.TgZ(6472,"block",422),o.TgZ(6473,"value",423),o.TgZ(6474,"shadow",68),o.TgZ(6475,"field",69),o._uU(6476," Min Temp: "),o.qZA(),o.qZA(),o.qZA(),o.TgZ(6477,"value",425),o._UZ(6478,"block",1461),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(6479,"button",191),o.TgZ(6480,"block",1462),o.TgZ(6481,"value",28),o.TgZ(6482,"shadow",16),o.TgZ(6483,"field",17),o._uU(6484,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(6485,"value",29),o.TgZ(6486,"shadow",16),o.TgZ(6487,"field",17),o._uU(6488,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(6489,"block",1459),o._UZ(6490,"block",1460),o._UZ(6491,"block",1461),o.TgZ(6492,"block",1463),o.TgZ(6493,"value",1464),o.TgZ(6494,"shadow",16),o.TgZ(6495,"field",17),o._uU(6496,"35"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(6497,"block",1465),o.TgZ(6498,"value",1464),o.TgZ(6499,"shadow",16),o.TgZ(6500,"field",17),o._uU(6501,"24"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(6502,"block",1456),o.TgZ(6503,"value",28),o.TgZ(6504,"shadow",16),o.TgZ(6505,"field",17),o._uU(6506,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(6507,"value",29),o.TgZ(6508,"shadow",16),o.TgZ(6509,"field",17),o._uU(6510,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(6511,"category",1466),o._UZ(6512,"button",1467),o._UZ(6513,"button",1468),o.TgZ(6514,"block",278),o.TgZ(6515,"statement",187),o.TgZ(6516,"block",279),o.TgZ(6517,"value",69),o.TgZ(6518,"block",422),o.TgZ(6519,"value",423),o.TgZ(6520,"shadow",68),o.TgZ(6521,"field",69),o._uU(6522,"Key: "),o.qZA(),o.qZA(),o.qZA(),o.TgZ(6523,"value",425),o._UZ(6524,"block",1469),o.qZA(),o.qZA(),o.qZA(),o.TgZ(6525,"next"),o.TgZ(6526,"block",279),o.TgZ(6527,"value",69),o.TgZ(6528,"block",422),o.TgZ(6529,"value",423),o.TgZ(6530,"shadow",68),o.TgZ(6531,"field",69),o._uU(6532,"String: "),o.qZA(),o.qZA(),o.qZA(),o.TgZ(6533,"value",425),o._UZ(6534,"block",1470),o.qZA(),o.qZA(),o.qZA(),o.TgZ(6535,"next"),o.TgZ(6536,"block",283),o.TgZ(6537,"value",189),o.TgZ(6538,"shadow",16),o.TgZ(6539,"field",17),o._uU(6540,"200"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(6541,"button",191),o._UZ(6542,"block",1469),o._UZ(6543,"block",1470),o._UZ(6544,"block",1471),o.qZA(),o.TgZ(6545,"category",1472),o._UZ(6546,"button",1473),o._UZ(6547,"button",1474),o.TgZ(6548,"block",278),o.TgZ(6549,"statement",187),o.TgZ(6550,"block",279),o.TgZ(6551,"value",69),o.TgZ(6552,"block",422),o.TgZ(6553,"value",423),o.TgZ(6554,"shadow",68),o.TgZ(6555,"field",69),o._uU(6556," Baro: "),o.qZA(),o.qZA(),o.qZA(),o.TgZ(6557,"value",425),o._UZ(6558,"block",1475),o.qZA(),o.qZA(),o.qZA(),o.TgZ(6559,"next"),o.TgZ(6560,"block",279),o.TgZ(6561,"value",69),o.TgZ(6562,"block",422),o.TgZ(6563,"value",423),o.TgZ(6564,"shadow",68),o.TgZ(6565,"field",69),o._uU(6566," Temp: "),o.qZA(),o.qZA(),o.qZA(),o.TgZ(6567,"value",425),o._UZ(6568,"block",1476),o.qZA(),o.qZA(),o.qZA(),o.TgZ(6569,"next"),o.TgZ(6570,"block",279),o.TgZ(6571,"value",69),o.TgZ(6572,"block",422),o.TgZ(6573,"value",423),o.TgZ(6574,"shadow",68),o.TgZ(6575,"field",69),o._uU(6576," Hum: "),o.qZA(),o.qZA(),o.qZA(),o.TgZ(6577,"value",425),o._UZ(6578,"block",1477),o.qZA(),o.qZA(),o.qZA(),o.TgZ(6579,"next"),o.TgZ(6580,"block",188),o.TgZ(6581,"value",189),o.TgZ(6582,"shadow",16),o.TgZ(6583,"field",17),o._uU(6584,"0.5"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(6585,"button",191),o._UZ(6586,"block",1475),o._UZ(6587,"block",1476),o._UZ(6588,"block",1477),o.qZA(),o.qZA(),o.TgZ(6589,"category",1478),o.TgZ(6590,"category",1479),o._UZ(6591,"button",1480),o._UZ(6592,"button",1481),o.TgZ(6593,"block",1482),o.TgZ(6594,"value",1483),o._UZ(6595,"block",68),o.qZA(),o.qZA(),o._UZ(6596,"button",1484),o.TgZ(6597,"block",1485),o.TgZ(6598,"value",1486),o.TgZ(6599,"shadow",68),o._UZ(6600,"field",69),o.qZA(),o.qZA(),o.TgZ(6601,"value",1487),o.TgZ(6602,"shadow",68),o._UZ(6603,"field",69),o.qZA(),o.qZA(),o.TgZ(6604,"value",1488),o.TgZ(6605,"shadow",68),o._UZ(6606,"field",69),o.qZA(),o.qZA(),o.qZA(),o._UZ(6607,"button",831),o._UZ(6608,"block",1489),o.TgZ(6609,"block",1490),o.TgZ(6610,"value",998),o.TgZ(6611,"block",312),o.TgZ(6612,"field",303),o._uU(6613,"c2dmsg"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(6614,"block",1491),o.TgZ(6615,"value",1492),o.TgZ(6616,"shadow",68),o._UZ(6617,"field",69),o.qZA(),o.qZA(),o.qZA(),o.TgZ(6618,"block",1493),o.TgZ(6619,"value",1221),o.TgZ(6620,"block",312),o.TgZ(6621,"field",303),o._uU(6622,"methodmsg"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(6623,"value",736),o.TgZ(6624,"shadow",16),o._UZ(6625,"field",17),o.qZA(),o.qZA(),o.TgZ(6626,"value",1494),o.TgZ(6627,"shadow",68),o._UZ(6628,"field",69),o.qZA(),o.qZA(),o.qZA(),o.TgZ(6629,"block",1495),o.TgZ(6630,"value",998),o.TgZ(6631,"block",312),o.TgZ(6632,"field",303),o._uU(6633,"twinmsg"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(6634,"block",1496),o._UZ(6635,"block",1497),o.qZA(),o.TgZ(6636,"category",1498),o.TgZ(6637,"block",1499),o.TgZ(6638,"value",1500),o.TgZ(6639,"shadow",68),o._UZ(6640,"field",69),o.qZA(),o.qZA(),o.TgZ(6641,"value",1107),o.TgZ(6642,"shadow",68),o._UZ(6643,"field",69),o.qZA(),o.qZA(),o.TgZ(6644,"value",995),o.TgZ(6645,"shadow",16),o._UZ(6646,"field",17),o.qZA(),o.qZA(),o.TgZ(6647,"value",1311),o.TgZ(6648,"shadow",16),o._UZ(6649,"field",17),o.qZA(),o.qZA(),o.qZA(),o._UZ(6650,"block",1501),o.TgZ(6651,"block",1502),o.TgZ(6652,"value",306),o.TgZ(6653,"shadow",68),o._UZ(6654,"field",17),o.qZA(),o.qZA(),o.qZA(),o.TgZ(6655,"block",1503),o.TgZ(6656,"value",306),o.TgZ(6657,"shadow",68),o._UZ(6658,"field",17),o.qZA(),o.qZA(),o.TgZ(6659,"value",1492),o.TgZ(6660,"shadow",68),o._UZ(6661,"field",17),o.qZA(),o.qZA(),o.qZA(),o._UZ(6662,"block",1504),o.qZA(),o.TgZ(6663,"category",1505),o._UZ(6664,"button",1506),o.TgZ(6665,"block",1507),o.TgZ(6666,"value",1508),o.TgZ(6667,"shadow",68),o._UZ(6668,"field",69),o.qZA(),o.qZA(),o.TgZ(6669,"value",1509),o.TgZ(6670,"shadow",68),o._UZ(6671,"field",69),o.qZA(),o.qZA(),o.TgZ(6672,"value",1510),o.TgZ(6673,"shadow",68),o._UZ(6674,"field",69),o.qZA(),o.qZA(),o.TgZ(6675,"value",1311),o.TgZ(6676,"shadow",16),o._UZ(6677,"field",17),o.qZA(),o.qZA(),o.qZA(),o._UZ(6678,"block",1511),o.TgZ(6679,"block",1512),o.TgZ(6680,"value",306),o.TgZ(6681,"shadow",68),o._UZ(6682,"field",17),o.qZA(),o.qZA(),o.qZA(),o._UZ(6683,"block",1513),o.TgZ(6684,"block",1514),o.TgZ(6685,"value",306),o.TgZ(6686,"shadow",68),o._UZ(6687,"field",17),o.qZA(),o.qZA(),o.TgZ(6688,"value",1492),o.TgZ(6689,"shadow",68),o._UZ(6690,"field",17),o.qZA(),o.qZA(),o.qZA(),o.TgZ(6691,"block",1515),o.TgZ(6692,"value",306),o.TgZ(6693,"shadow",68),o._UZ(6694,"field",17),o.qZA(),o.qZA(),o.qZA(),o._UZ(6695,"block",1516),o._UZ(6696,"block",1517),o.qZA(),o.TgZ(6697,"category",1518),o._UZ(6698,"button",1519),o.TgZ(6699,"block",1520),o.TgZ(6700,"value",1521),o.TgZ(6701,"shadow",68),o._UZ(6702,"field",69),o.qZA(),o.qZA(),o.qZA(),o.TgZ(6703,"block",1522),o.TgZ(6704,"value",1307),o.TgZ(6705,"shadow",68),o._UZ(6706,"field",69),o.qZA(),o.qZA(),o.TgZ(6707,"value",995),o.TgZ(6708,"shadow",16),o._UZ(6709,"field",17),o.qZA(),o.qZA(),o.TgZ(6710,"value",1521),o.TgZ(6711,"shadow",68),o._UZ(6712,"field",69),o.qZA(),o.qZA(),o.TgZ(6713,"value",1523),o.TgZ(6714,"shadow",16),o._UZ(6715,"field",17),o.qZA(),o.qZA(),o.qZA(),o._UZ(6716,"block",1524),o.TgZ(6717,"block",1525),o.TgZ(6718,"value",1526),o.TgZ(6719,"shadow",68),o._UZ(6720,"field",69),o.qZA(),o.qZA(),o.TgZ(6721,"value",1527),o.TgZ(6722,"shadow",68),o._UZ(6723,"field",69),o.qZA(),o.qZA(),o.TgZ(6724,"value",1528),o.TgZ(6725,"shadow",68),o._UZ(6726,"field",69),o.qZA(),o.qZA(),o.qZA(),o.TgZ(6727,"block",1529),o.TgZ(6728,"value",998),o.TgZ(6729,"shadow",68),o._UZ(6730,"field",69),o.qZA(),o.qZA(),o.qZA(),o.TgZ(6731,"block",1530),o.TgZ(6732,"value",998),o.TgZ(6733,"shadow",68),o._UZ(6734,"field",69),o.qZA(),o.qZA(),o.qZA(),o.TgZ(6735,"block",1531),o.TgZ(6736,"value",1532),o.TgZ(6737,"shadow",16),o._UZ(6738,"field",17),o.qZA(),o.qZA(),o.TgZ(6739,"value",1533),o.TgZ(6740,"shadow",68),o._UZ(6741,"field",69),o.qZA(),o.qZA(),o.TgZ(6742,"value",512),o.TgZ(6743,"shadow",68),o._UZ(6744,"field",69),o.qZA(),o.qZA(),o.qZA(),o.TgZ(6745,"block",1534),o.TgZ(6746,"value",1532),o.TgZ(6747,"shadow",16),o._UZ(6748,"field",17),o.qZA(),o.qZA(),o.TgZ(6749,"value",512),o.TgZ(6750,"shadow",68),o._UZ(6751,"field",69),o.qZA(),o.qZA(),o.qZA(),o.TgZ(6752,"block",1535),o.TgZ(6753,"value",1532),o.TgZ(6754,"shadow",16),o._UZ(6755,"field",17),o.qZA(),o.qZA(),o.qZA(),o._UZ(6756,"block",1536),o._UZ(6757,"block",1537),o._UZ(6758,"block",1538),o.qZA(),o.qZA(),o._UZ(6759,"sep",1539),o._UZ(6760,"category",1540),o.TgZ(6761,"category",1541),o._UZ(6762,"button",1542),o._UZ(6763,"block",16),o._UZ(6764,"block",611),o._UZ(6765,"block",1543),o._UZ(6766,"block",1544),o._UZ(6767,"block",1545),o._UZ(6768,"block",1546),o._UZ(6769,"block",1547),o._UZ(6770,"block",1548),o._UZ(6771,"block",1549),o._UZ(6772,"block",305),o._UZ(6773,"block",1550),o._UZ(6774,"block",1551),o._UZ(6775,"block",1552),o._UZ(6776,"block",1553),o._UZ(6777,"block",1554),o.TgZ(6778,"block",1555),o.TgZ(6779,"value",519),o.TgZ(6780,"shadow",16),o.TgZ(6781,"field",17),o._uU(6782,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(6783,"block",1556),o.TgZ(6784,"value",519),o.TgZ(6785,"shadow",16),o.TgZ(6786,"field",17),o._uU(6787,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(6788,"block",1557),o.TgZ(6789,"value",519),o.TgZ(6790,"shadow",16),o.TgZ(6791,"field",17),o._uU(6792,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(6793,"block",1558),o.TgZ(6794,"value",519),o.TgZ(6795,"shadow",16),o.TgZ(6796,"field",17),o._uU(6797,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(6798,"block",1559),o.qZA(),o.TgZ(6799,"category",1560),o._UZ(6800,"button",1561),o._UZ(6801,"block",1562),o._UZ(6802,"block",1563),o._UZ(6803,"block",1564),o._UZ(6804,"block",308),o._UZ(6805,"block",1565),o.qZA(),o.TgZ(6806,"category",1566),o._UZ(6807,"button",1567),o._UZ(6808,"block",360),o._UZ(6809,"block",291),o._UZ(6810,"block",1568),o._UZ(6811,"block",1214),o._UZ(6812,"block",293),o._UZ(6813,"block",1216),o._UZ(6814,"block",1569),o._UZ(6815,"block",481),o._UZ(6816,"block",1570),o._UZ(6817,"block",1571),o.qZA(),o._UZ(6818,"category",1572),o.TgZ(6819,"category",1573),o._UZ(6820,"button",1574),o._UZ(6821,"block",1575),o._UZ(6822,"block",1576),o._UZ(6823,"block",1577),o.qZA(),o.TgZ(6824,"category",1578),o.TgZ(6825,"block",188),o.TgZ(6826,"value",189),o.TgZ(6827,"shadow",16),o.TgZ(6828,"field",17),o._uU(6829,"1"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(6830,"block",283),o.TgZ(6831,"value",189),o.TgZ(6832,"shadow",16),o.TgZ(6833,"field",17),o._uU(6834,"1"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(6835,"block",1579),o.qZA(),o._UZ(6836,"category",1580),o.TgZ(6837,"category",1581),o._UZ(6838,"button",1582),o._UZ(6839,"block",68),o._UZ(6840,"block",1583),o._UZ(6841,"block",1584),o._UZ(6842,"block",1585),o._UZ(6843,"block",1586),o._UZ(6844,"block",768),o._UZ(6845,"block",279),o._UZ(6846,"block",1587),o._UZ(6847,"block",1588),o._UZ(6848,"block",1589),o._UZ(6849,"block",1590),o._UZ(6850,"block",424),o.TgZ(6851,"block",422),o.TgZ(6852,"value",423),o.TgZ(6853,"shadow",68),o._UZ(6854,"field",17),o.qZA(),o.qZA(),o.qZA(),o._UZ(6855,"block",1591),o._UZ(6856,"block",1592),o.TgZ(6857,"block",610),o.TgZ(6858,"value",425),o.TgZ(6859,"shadow",16),o.TgZ(6860,"field",17),o._uU(6861,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(6862,"category",1593),o._UZ(6863,"button",1594),o._UZ(6864,"block",1595),o._UZ(6865,"block",1596),o._UZ(6866,"block",1597),o._UZ(6867,"block",1598),o._UZ(6868,"block",1599),o._UZ(6869,"block",582),o._UZ(6870,"block",1600),o._UZ(6871,"block",1601),o._UZ(6872,"block",1602),o._UZ(6873,"block",1603),o._UZ(6874,"block",1604),o.qZA(),o.TgZ(6875,"category",1605),o._UZ(6876,"button",1606),o._UZ(6877,"block",1266),o._UZ(6878,"block",1607),o._UZ(6879,"block",1608),o._UZ(6880,"block",1272),o._UZ(6881,"block",1609),o._UZ(6882,"block",1610),o._UZ(6883,"block",1611),o.qZA(),o.TgZ(6884,"category",1612),o._UZ(6885,"button",1613),o._UZ(6886,"block",1270),o._UZ(6887,"block",1274),o.qZA(),o._UZ(6888,"sep",1539),o.TgZ(6889,"category",1614),o.TgZ(6890,"category",1615),o._UZ(6891,"button",1616),o._UZ(6892,"button",1617),o.TgZ(6893,"block",1618),o.TgZ(6894,"field",753),o._uU(6895,"r"),o.qZA(),o.TgZ(6896,"value",1619),o.TgZ(6897,"shadow",68),o.TgZ(6898,"field",69),o._uU(6899,"FileName.*"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(6900,"statement",1620),o.TgZ(6901,"block",1621),o.TgZ(6902,"field",314),o._uU(6903,"#ffffff"),o.qZA(),o.TgZ(6904,"value",69),o.TgZ(6905,"shadow",68),o._UZ(6906,"field",69),o.qZA(),o._UZ(6907,"block",1622),o.qZA(),o.TgZ(6908,"value",28),o.TgZ(6909,"shadow",16),o.TgZ(6910,"field",17),o._uU(6911,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(6912,"value",29),o.TgZ(6913,"shadow",16),o.TgZ(6914,"field",17),o._uU(6915,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(6916,"button",1623),o.TgZ(6917,"block",1618),o.TgZ(6918,"field",753),o._uU(6919,"w+"),o.qZA(),o.TgZ(6920,"value",1619),o.TgZ(6921,"shadow",68),o.TgZ(6922,"field",69),o._uU(6923,"test.txt"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(6924,"statement",1620),o.TgZ(6925,"block",1624),o.TgZ(6926,"value",1625),o.TgZ(6927,"shadow",68),o.TgZ(6928,"field",69),o._uU(6929,"Hello World"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(6930,"button",191),o.TgZ(6931,"block",1626),o.TgZ(6932,"value",1619),o.TgZ(6933,"shadow",68),o._UZ(6934,"field",69),o.qZA(),o.qZA(),o.qZA(),o._UZ(6935,"block",1622),o.TgZ(6936,"block",1627),o.TgZ(6937,"value",1628),o.TgZ(6938,"shadow",16),o._UZ(6939,"field",17),o.qZA(),o.qZA(),o.qZA(),o._UZ(6940,"block",1629),o.TgZ(6941,"block",1624),o.TgZ(6942,"value",1625),o.TgZ(6943,"shadow",68),o._UZ(6944,"field",69),o.qZA(),o.qZA(),o.qZA(),o.TgZ(6945,"block",1630),o.TgZ(6946,"value",1631),o.TgZ(6947,"shadow",16),o._UZ(6948,"field",17),o.qZA(),o.qZA(),o.qZA(),o._UZ(6949,"block",1632),o.TgZ(6950,"block",1633),o.TgZ(6951,"value",1634),o.TgZ(6952,"shadow",68),o._UZ(6953,"field",69),o.qZA(),o.qZA(),o.qZA(),o.TgZ(6954,"block",1635),o.TgZ(6955,"value",1636),o.TgZ(6956,"shadow",68),o._UZ(6957,"field",69),o.qZA(),o.qZA(),o.qZA(),o.TgZ(6958,"block",1637),o.TgZ(6959,"value",1638),o.TgZ(6960,"shadow",68),o._UZ(6961,"field",69),o.qZA(),o.qZA(),o.qZA(),o.TgZ(6962,"block",1639),o.TgZ(6963,"value",1640),o.TgZ(6964,"shadow",68),o._UZ(6965,"field",69),o.qZA(),o.qZA(),o.qZA(),o.TgZ(6966,"block",1641),o.TgZ(6967,"value",1642),o.TgZ(6968,"shadow",68),o._UZ(6969,"field",69),o.qZA(),o.qZA(),o.TgZ(6970,"value",1643),o.TgZ(6971,"shadow",68),o._UZ(6972,"field",69),o.qZA(),o.qZA(),o.qZA(),o.TgZ(6973,"block",1644),o.TgZ(6974,"value",1645),o.TgZ(6975,"shadow",68),o._UZ(6976,"field",69),o.qZA(),o.qZA(),o.qZA(),o.TgZ(6977,"block",1646),o.TgZ(6978,"value",1645),o.TgZ(6979,"shadow",68),o._UZ(6980,"field",69),o.qZA(),o.qZA(),o.qZA(),o.TgZ(6981,"block",1647),o.TgZ(6982,"value",1648),o.TgZ(6983,"shadow",68),o._UZ(6984,"field",69),o.qZA(),o.qZA(),o.TgZ(6985,"value",1645),o.TgZ(6986,"shadow",68),o._UZ(6987,"field",69),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(6988,"category",1649),o._UZ(6989,"button",1650),o._UZ(6990,"block",1651),o.TgZ(6991,"block",1652),o.TgZ(6992,"value",458),o.TgZ(6993,"shadow",16),o.TgZ(6994,"field",17),o._uU(6995,"39"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(6996,"block",1653),o.TgZ(6997,"value",458),o.TgZ(6998,"shadow",16),o.TgZ(6999,"field",17),o._uU(7e3,"26"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(7001,"value",1654),o.TgZ(7002,"shadow",16),o.TgZ(7003,"field",17),o._uU(7004,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(7005,"block",1655),o.TgZ(7006,"value",458),o.TgZ(7007,"shadow",16),o.TgZ(7008,"field",17),o._uU(7009,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(7010,"block",1656),o.TgZ(7011,"value",458),o.TgZ(7012,"shadow",16),o.TgZ(7013,"field",17),o._uU(7014,"26"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(7015,"value",304),o.TgZ(7016,"shadow",16),o.TgZ(7017,"field",17),o._uU(7018,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(7019,"block",1657),o.TgZ(7020,"value",458),o.TgZ(7021,"shadow",16),o.TgZ(7022,"field",17),o._uU(7023,"26"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(7024,"block",1658),o.TgZ(7025,"value",1659),o.TgZ(7026,"shadow",16),o.TgZ(7027,"field",17),o._uU(7028,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(7029,"value",1660),o.TgZ(7030,"shadow",16),o.TgZ(7031,"field",17),o._uU(7032,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(7033,"value",1661),o.TgZ(7034,"shadow",16),o.TgZ(7035,"field",17),o._uU(7036,"1023"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(7037,"value",1662),o.TgZ(7038,"shadow",16),o.TgZ(7039,"field",17),o._uU(7040,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(7041,"value",1663),o.TgZ(7042,"shadow",16),o.TgZ(7043,"field",17),o._uU(7044,"4"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(7045,"category",1664),o._UZ(7046,"button",1665),o.TgZ(7047,"block",1666),o.TgZ(7048,"value",458),o.TgZ(7049,"shadow",64),o.TgZ(7050,"field",1667),o._uU(7051,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(7052,"block",1668),o._UZ(7053,"block",1669),o._UZ(7054,"block",1670),o.TgZ(7055,"block",1671),o.TgZ(7056,"value",458),o.TgZ(7057,"shadow",64),o.TgZ(7058,"field",738),o._uU(7059,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(7060,"category",1672),o._UZ(7061,"button",1673),o._UZ(7062,"button",1674),o.TgZ(7063,"block",1675),o.TgZ(7064,"field",1084),o._uU(7065,"PWM0"),o.qZA(),o.TgZ(7066,"field",355),o._uU(7067,"0"),o.qZA(),o.TgZ(7068,"value",1676),o.TgZ(7069,"shadow",16),o.TgZ(7070,"field",17),o._uU(7071,"26"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(7072,"value",1677),o.TgZ(7073,"shadow",16),o.TgZ(7074,"field",17),o._uU(7075,"50"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(7076,"value",1678),o.TgZ(7077,"shadow",16),o.TgZ(7078,"field",17),o._uU(7079,"3"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(7080,"button",1679),o.TgZ(7081,"block",1680),o.TgZ(7082,"field",303),o._uU(7083,"i"),o.qZA(),o.TgZ(7084,"value",306),o.TgZ(7085,"block",16),o.TgZ(7086,"field",17),o._uU(7087,"3"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(7088,"value",307),o.TgZ(7089,"block",16),o.TgZ(7090,"field",17),o._uU(7091,"12"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(7092,"value",309),o.TgZ(7093,"block",16),o.TgZ(7094,"field",17),o._uU(7095,"1"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(7096,"statement",310),o.TgZ(7097,"block",1681),o.TgZ(7098,"field",1084),o._uU(7099,"PWM0"),o.qZA(),o.TgZ(7100,"value",1678),o.TgZ(7101,"shadow",16),o.TgZ(7102,"field",17),o._uU(7103,"0"),o.qZA(),o.qZA(),o.TgZ(7104,"block",312),o.TgZ(7105,"field",303),o._uU(7106,"i"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(7107,"next"),o.TgZ(7108,"block",283),o.TgZ(7109,"value",189),o.TgZ(7110,"shadow",16),o.TgZ(7111,"field",17),o._uU(7112,"50"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(7113,"button",1682),o.TgZ(7114,"block",1675),o.TgZ(7115,"field",1084),o._uU(7116,"PWM0"),o.qZA(),o.TgZ(7117,"field",355),o._uU(7118,"0"),o.qZA(),o.TgZ(7119,"value",1676),o.TgZ(7120,"shadow",16),o.TgZ(7121,"field",17),o._uU(7122,"26"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(7123,"value",1677),o.TgZ(7124,"shadow",16),o.TgZ(7125,"field",17),o._uU(7126,"50"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(7127,"value",1678),o.TgZ(7128,"shadow",16),o.TgZ(7129,"field",17),o._uU(7130,"2.5"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(7131,"button",1683),o.TgZ(7132,"block",1675),o.TgZ(7133,"field",1084),o._uU(7134,"PWM0"),o.qZA(),o.TgZ(7135,"field",355),o._uU(7136,"0"),o.qZA(),o.TgZ(7137,"value",1676),o.TgZ(7138,"shadow",16),o.TgZ(7139,"field",17),o._uU(7140,"26"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(7141,"value",1677),o.TgZ(7142,"shadow",16),o.TgZ(7143,"field",17),o._uU(7144,"50"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(7145,"value",1678),o.TgZ(7146,"shadow",16),o.TgZ(7147,"field",17),o._uU(7148,"12.5"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(7149,"button",191),o.TgZ(7150,"block",1684),o.TgZ(7151,"value",1676),o.TgZ(7152,"shadow",16),o.TgZ(7153,"field",17),o._uU(7154,"26"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(7155,"value",1677),o.TgZ(7156,"shadow",16),o.TgZ(7157,"field",17),o._uU(7158,"10000"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(7159,"value",1678),o.TgZ(7160,"shadow",16),o.TgZ(7161,"field",17),o._uU(7162,"50"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(7163,"block",1685),o.TgZ(7164,"value",1677),o.TgZ(7165,"shadow",16),o.TgZ(7166,"field",17),o._uU(7167,"1"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(7168,"block",1681),o.TgZ(7169,"value",1678),o.TgZ(7170,"shadow",16),o.TgZ(7171,"field",17),o._uU(7172,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(7173,"block",1686),o._UZ(7174,"block",1687),o.TgZ(7175,"block",1688),o.TgZ(7176,"value",355),o.TgZ(7177,"shadow",16),o.TgZ(7178,"field",17),o._uU(7179,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(7180,"category",1689),o._UZ(7181,"button",1690),o._UZ(7182,"button",1691),o.TgZ(7183,"block",1692),o.TgZ(7184,"value",1676),o.TgZ(7185,"shadow",64),o.TgZ(7186,"field",1693),o._uU(7187,"36"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(7188,"button",1694),o._UZ(7189,"block",1695),o._UZ(7190,"button",1696),o._UZ(7191,"block",1697),o._UZ(7192,"button",1698),o.TgZ(7193,"block",345),o.TgZ(7194,"value",69),o.TgZ(7195,"block",1699),o.TgZ(7196,"field",1700),o._uU(7197,"adc0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(7198,"button",191),o.TgZ(7199,"block",1701),o.TgZ(7200,"value",1676),o.TgZ(7201,"shadow",64),o.TgZ(7202,"field",1693),o._uU(7203,"36"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(7204,"block",1702),o._UZ(7205,"block",1703),o._UZ(7206,"block",1699),o.qZA(),o.TgZ(7207,"category",1704),o._UZ(7208,"button",1705),o._UZ(7209,"button",1706),o._UZ(7210,"block",1707),o._UZ(7211,"button",1708),o.TgZ(7212,"block",1709),o.TgZ(7213,"value",458),o.TgZ(7214,"shadow",64),o.TgZ(7215,"field",65),o._uU(7216,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(7217,"button",1710),o.TgZ(7218,"block",1711),o.TgZ(7219,"value",759),o.TgZ(7220,"shadow",64),o.TgZ(7221,"field",1712),o._uU(7222,"1800"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(7223,"value",1713),o.TgZ(7224,"shadow",16),o.TgZ(7225,"field",17),o._uU(7226,"200"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(7227,"value",1714),o.TgZ(7228,"shadow",64),o.TgZ(7229,"field",910),o._uU(7230,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(7231,"button",1715),o.TgZ(7232,"block",1716),o.TgZ(7233,"value",759),o.TgZ(7234,"shadow",16),o.TgZ(7235,"field",17),o._uU(7236,"1800"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(7237,"value",1713),o.TgZ(7238,"shadow",16),o.TgZ(7239,"field",17),o._uU(7240,"200"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(7241,"value",1714),o.TgZ(7242,"shadow",16),o.TgZ(7243,"field",17),o._uU(7244,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(7245,"value",1717),o.TgZ(7246,"shadow",64),o.TgZ(7247,"field",65),o._uU(7248,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(7249,"value",1718),o.TgZ(7250,"shadow",64),o.TgZ(7251,"field",910),o._uU(7252,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(7253,"button",1719),o._UZ(7254,"block",1720),o._UZ(7255,"button",1721),o.TgZ(7256,"block",1722),o.TgZ(7257,"value",759),o.TgZ(7258,"shadow",16),o.TgZ(7259,"field",17),o._uU(7260,"1800"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(7261,"button",191),o._UZ(7262,"block",1723),o.TgZ(7263,"block",1724),o.TgZ(7264,"value",458),o.TgZ(7265,"shadow",64),o.TgZ(7266,"field",65),o._uU(7267,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(7268,"block",1725),o.TgZ(7269,"value",759),o.TgZ(7270,"shadow",64),o.TgZ(7271,"field",1712),o._uU(7272,"1800"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(7273,"value",1713),o.TgZ(7274,"shadow",16),o.TgZ(7275,"field",17),o._uU(7276,"200"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(7277,"value",1714),o.TgZ(7278,"shadow",64),o.TgZ(7279,"field",910),o._uU(7280,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(7281,"block",1726),o.TgZ(7282,"value",759),o.TgZ(7283,"shadow",16),o.TgZ(7284,"field",17),o._uU(7285,"1800"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(7286,"value",1713),o.TgZ(7287,"shadow",16),o.TgZ(7288,"field",17),o._uU(7289,"200"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(7290,"value",1714),o.TgZ(7291,"shadow",16),o.TgZ(7292,"field",17),o._uU(7293,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(7294,"value",1717),o.TgZ(7295,"shadow",64),o.TgZ(7296,"field",65),o._uU(7297,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(7298,"value",1718),o.TgZ(7299,"shadow",64),o.TgZ(7300,"field",910),o._uU(7301,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(7302,"block",1727),o.TgZ(7303,"block",1728),o.TgZ(7304,"value",759),o.TgZ(7305,"shadow",16),o.TgZ(7306,"field",17),o._uU(7307,"1800"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(7308,"category",1729),o._UZ(7309,"button",1730),o._UZ(7310,"button",1731),o.TgZ(7311,"block",1732),o.TgZ(7312,"field",303),o._uU(7313,"uart1"),o.qZA(),o.TgZ(7314,"field",1733),o._uU(7315,"115200"),o.qZA(),o.TgZ(7316,"field",1734),o._uU(7317,"1"),o.qZA(),o.TgZ(7318,"value",1159),o.TgZ(7319,"shadow",64),o.TgZ(7320,"field",1735),o._uU(7321,"1"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(7322,"value",1160),o.TgZ(7323,"shadow",64),o.TgZ(7324,"field",1667),o._uU(7325,"3"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(7326,"next"),o.TgZ(7327,"block",8),o.TgZ(7328,"statement",187),o.TgZ(7329,"block",360),o.TgZ(7330,"value",292),o.TgZ(7331,"block",1736),o.TgZ(7332,"field",303),o._uU(7333,"uart1"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(7334,"statement",297),o.TgZ(7335,"block",1621),o.TgZ(7336,"field",314),o._uU(7337,"#ffffff"),o.qZA(),o.TgZ(7338,"value",69),o.TgZ(7339,"shadow",68),o._UZ(7340,"field",69),o.qZA(),o.TgZ(7341,"block",1591),o.TgZ(7342,"value",304),o.TgZ(7343,"block",1737),o.TgZ(7344,"field",303),o._uU(7345,"uart1"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(7346,"value",28),o.TgZ(7347,"shadow",16),o.TgZ(7348,"field",17),o._uU(7349,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(7350,"value",29),o.TgZ(7351,"shadow",16),o.TgZ(7352,"field",17),o._uU(7353,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(7354,"button",1738),o._UZ(7355,"button",1175),o.TgZ(7356,"block",1739),o.TgZ(7357,"value",1159),o.TgZ(7358,"shadow",64),o.TgZ(7359,"field",1735),o._uU(7360,"17"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(7361,"value",1160),o.TgZ(7362,"shadow",64),o.TgZ(7363,"field",1667),o._uU(7364,"16"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(7365,"button",1740),o.TgZ(7366,"block",1741),o.TgZ(7367,"value",304),o.TgZ(7368,"shadow",16),o._UZ(7369,"field",17),o.qZA(),o.qZA(),o.qZA(),o.TgZ(7370,"block",1742),o.TgZ(7371,"value",304),o.TgZ(7372,"shadow",68),o._UZ(7373,"field",17),o.qZA(),o.qZA(),o.qZA(),o.TgZ(7374,"block",1743),o.TgZ(7375,"value",304),o.TgZ(7376,"shadow",68),o._UZ(7377,"field",69),o.qZA(),o.qZA(),o.qZA(),o._UZ(7378,"block",1744),o._UZ(7379,"button",1745),o._UZ(7380,"block",1737),o.TgZ(7381,"block",1746),o.TgZ(7382,"value",17),o.TgZ(7383,"shadow",16),o.TgZ(7384,"field",17),o._uU(7385,"10"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(7386,"block",1747),o._UZ(7387,"block",1736),o.qZA(),o.TgZ(7388,"category",1748),o._UZ(7389,"block",1749),o.TgZ(7390,"block",1750),o.TgZ(7391,"value",1751),o.TgZ(7392,"shadow",16),o._UZ(7393,"field",17),o.qZA(),o.qZA(),o.TgZ(7394,"value",1752),o.TgZ(7395,"shadow",16),o._UZ(7396,"field",17),o.qZA(),o.qZA(),o.qZA(),o._UZ(7397,"block",1753),o._UZ(7398,"block",1754),o._UZ(7399,"block",1755),o._UZ(7400,"block",1756),o.TgZ(7401,"block",1757),o.TgZ(7402,"value",519),o.TgZ(7403,"shadow",16),o.TgZ(7404,"field",17),o._uU(7405,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(7406,"block",1758),o.TgZ(7407,"value",519),o.TgZ(7408,"shadow",16),o.TgZ(7409,"field",17),o._uU(7410,"1"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(7411,"block",1759),o._UZ(7412,"block",1760),o.TgZ(7413,"block",1761),o.TgZ(7414,"value",1762),o.TgZ(7415,"shadow",16),o.TgZ(7416,"field",17),o._uU(7417,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(7418,"value",1763),o.TgZ(7419,"shadow",16),o.TgZ(7420,"field",17),o._uU(7421,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(7422,"block",1764),o.TgZ(7423,"value",1763),o.TgZ(7424,"shadow",16),o.TgZ(7425,"field",17),o._uU(7426,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(7427,"block",1765),o.TgZ(7428,"value",1762),o.TgZ(7429,"shadow",16),o.TgZ(7430,"field",17),o._uU(7431,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(7432,"value",17),o.TgZ(7433,"shadow",16),o.TgZ(7434,"field",17),o._uU(7435,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(7436,"block",1766),o.TgZ(7437,"value",17),o.TgZ(7438,"shadow",16),o.TgZ(7439,"field",17),o._uU(7440,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(7441,"block",1767),o.TgZ(7442,"value",316),o.TgZ(7443,"shadow",16),o.TgZ(7444,"field",17),o._uU(7445,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(7446,"category",1768),o._UZ(7447,"button",1769),o._UZ(7448,"block",1770),o.qZA(),o._UZ(7449,"category",1771),o.TgZ(7450,"category",1772),o._UZ(7451,"button",1773),o._UZ(7452,"button",1774),o.TgZ(7453,"block",345),o.TgZ(7454,"value",69),o._UZ(7455,"block",1775),o.qZA(),o.TgZ(7456,"next"),o.TgZ(7457,"block",1776),o.TgZ(7458,"field",1777),o._uU(7459,"ff:ff:ff:ff:ff:ff"),o.qZA(),o.TgZ(7460,"field",477),o._uU(7461,"1"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(7462,"button",1778),o.TgZ(7463,"block",1779),o.TgZ(7464,"value",1780),o.TgZ(7465,"block",312),o.TgZ(7466,"field",303),o._uU(7467,"addr"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(7468,"value",1763),o.TgZ(7469,"block",312),o.TgZ(7470,"field",303),o._uU(7471,"data"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(7472,"statement",480),o.TgZ(7473,"block",279),o.TgZ(7474,"value",69),o.TgZ(7475,"block",312),o.TgZ(7476,"field",303),o._uU(7477,"addr"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(7478,"next"),o.TgZ(7479,"block",279),o.TgZ(7480,"value",69),o.TgZ(7481,"block",312),o.TgZ(7482,"field",303),o._uU(7483,"data"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(7484,"button",1781),o.TgZ(7485,"block",1782),o.TgZ(7486,"value",1783),o.TgZ(7487,"block",312),o.TgZ(7488,"field",303),o._uU(7489,"flags"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(7490,"statement",480),o.TgZ(7491,"block",291),o.TgZ(7492,"value",292),o.TgZ(7493,"block",312),o.TgZ(7494,"field",303),o._uU(7495,"flags"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(7496,"button",1784),o.TgZ(7497,"block",1785),o.TgZ(7498,"value",1763),o.TgZ(7499,"shadow",68),o.TgZ(7500,"field",69),o._uU(7501,"Hello"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(7502,"button",1786),o.TgZ(7503,"block",1787),o.TgZ(7504,"field",477),o._uU(7505,"1"),o.qZA(),o.TgZ(7506,"value",1763),o.TgZ(7507,"shadow",68),o.TgZ(7508,"field",69),o._uU(7509,"Hello"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(7510,"button",191),o._UZ(7511,"block",1775),o.TgZ(7512,"block",1788),o.TgZ(7513,"value",1199),o.TgZ(7514,"shadow",64),o.TgZ(7515,"field",1789),o._uU(7516,"6"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(7517,"block",1776),o._UZ(7518,"block",1790),o.TgZ(7519,"block",1791),o.TgZ(7520,"value",1763),o.TgZ(7521,"shadow",68),o._UZ(7522,"field",69),o.qZA(),o.qZA(),o.qZA(),o._UZ(7523,"block",1792),o._UZ(7524,"block",1793),o.TgZ(7525,"block",1794),o.TgZ(7526,"value",1763),o.TgZ(7527,"shadow",68),o._UZ(7528,"field",69),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(7529,"category",1795),o.TgZ(7530,"category",1796),o._UZ(7531,"button",1797),o._UZ(7532,"button",1798),o.TgZ(7533,"block",1799),o.TgZ(7534,"value",1271),o._UZ(7535,"block",1800),o.qZA(),o.qZA(),o._UZ(7536,"button",1801),o.TgZ(7537,"block",1802),o._UZ(7538,"mutation",1803),o.TgZ(7539,"value",292),o.TgZ(7540,"block",293),o.TgZ(7541,"field",294),o._uU(7542,"EQ"),o.qZA(),o.TgZ(7543,"value",295),o._UZ(7544,"block",1804),o.qZA(),o.TgZ(7545,"value",36),o.TgZ(7546,"block",16),o.TgZ(7547,"field",17),o._uU(7548,"200"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(7549,"value",396),o.TgZ(7550,"block",293),o.TgZ(7551,"field",294),o._uU(7552,"EQ"),o.qZA(),o.TgZ(7553,"value",295),o._UZ(7554,"block",1804),o.qZA(),o.TgZ(7555,"value",36),o.TgZ(7556,"block",16),o.TgZ(7557,"field",17),o._uU(7558,"400"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(7559,"value",1805),o.TgZ(7560,"block",293),o.TgZ(7561,"field",294),o._uU(7562,"EQ"),o.qZA(),o.TgZ(7563,"value",295),o._UZ(7564,"block",1804),o.qZA(),o.TgZ(7565,"value",36),o.TgZ(7566,"block",16),o.TgZ(7567,"field",17),o._uU(7568,"404"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(7569,"button",191),o.TgZ(7570,"block",1806),o.TgZ(7571,"value",1264),o.TgZ(7572,"shadow",68),o._UZ(7573,"field",69),o.qZA(),o.qZA(),o.TgZ(7574,"value",1807),o._UZ(7575,"block",1266),o.qZA(),o.TgZ(7576,"value",447),o._UZ(7577,"block",1266),o.qZA(),o.qZA(),o._UZ(7578,"block",1804),o._UZ(7579,"block",1800),o.qZA(),o.TgZ(7580,"category",1808),o.TgZ(7581,"category",1809),o._UZ(7582,"button",1810),o._UZ(7583,"button",1811),o.TgZ(7584,"block",1812),o.TgZ(7585,"value",1287),o.TgZ(7586,"shadow",68),o.TgZ(7587,"field",69),o._uU(7588,"0.0.0.0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(7589,"value",995),o.TgZ(7590,"shadow",16),o.TgZ(7591,"field",17),o._uU(7592,"5000"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(7593,"next"),o.TgZ(7594,"block",8),o.TgZ(7595,"statement",187),o.TgZ(7596,"block",279),o.TgZ(7597,"value",69),o.TgZ(7598,"block",1813),o.TgZ(7599,"value",1814),o.TgZ(7600,"shadow",16),o.TgZ(7601,"field",17),o._uU(7602,"1024"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(7603,"button",191),o.TgZ(7604,"block",1815),o.TgZ(7605,"value",1287),o.TgZ(7606,"shadow",68),o._UZ(7607,"field",69),o.qZA(),o.qZA(),o.TgZ(7608,"value",995),o.TgZ(7609,"shadow",16),o._UZ(7610,"field",17),o.qZA(),o.qZA(),o.qZA(),o.TgZ(7611,"block",1816),o.TgZ(7612,"value",998),o.TgZ(7613,"shadow",68),o._UZ(7614,"field",69),o.qZA(),o.qZA(),o.TgZ(7615,"value",1287),o.TgZ(7616,"shadow",68),o._UZ(7617,"field",69),o.qZA(),o.qZA(),o.TgZ(7618,"value",995),o.TgZ(7619,"shadow",16),o._UZ(7620,"field",17),o.qZA(),o.qZA(),o.qZA(),o.TgZ(7621,"block",1813),o.TgZ(7622,"value",1814),o.TgZ(7623,"shadow",16),o._UZ(7624,"field",17),o.qZA(),o.qZA(),o.qZA(),o._UZ(7625,"block",1817),o._UZ(7626,"block",1818),o.qZA(),o.TgZ(7627,"category",1819),o._UZ(7628,"button",1820),o._UZ(7629,"button",1811),o.TgZ(7630,"block",1821),o.TgZ(7631,"value",1287),o.TgZ(7632,"shadow",68),o._UZ(7633,"field",69),o.qZA(),o.qZA(),o.TgZ(7634,"value",995),o.TgZ(7635,"shadow",16),o._UZ(7636,"field",17),o.qZA(),o.qZA(),o.TgZ(7637,"next"),o.TgZ(7638,"block",1822),o.TgZ(7639,"value",998),o.TgZ(7640,"shadow",68),o._UZ(7641,"field",69),o.qZA(),o.qZA(),o.TgZ(7642,"next"),o.TgZ(7643,"block",8),o.TgZ(7644,"statement",187),o.TgZ(7645,"block",279),o.TgZ(7646,"value",69),o.TgZ(7647,"block",1823),o.TgZ(7648,"value",1814),o.TgZ(7649,"shadow",16),o.TgZ(7650,"field",17),o._uU(7651,"1024"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(7652,"button",191),o.TgZ(7653,"block",1824),o.TgZ(7654,"value",1287),o.TgZ(7655,"shadow",68),o._UZ(7656,"field",69),o.qZA(),o.qZA(),o.TgZ(7657,"value",995),o.TgZ(7658,"shadow",16),o._UZ(7659,"field",17),o.qZA(),o.qZA(),o.qZA(),o.TgZ(7660,"block",1822),o.TgZ(7661,"value",998),o.TgZ(7662,"shadow",68),o._UZ(7663,"field",69),o.qZA(),o.qZA(),o.qZA(),o.TgZ(7664,"block",1825),o.TgZ(7665,"value",998),o.TgZ(7666,"shadow",68),o._UZ(7667,"field",69),o.qZA(),o.qZA(),o.TgZ(7668,"value",1287),o.TgZ(7669,"shadow",68),o._UZ(7670,"field",69),o.qZA(),o.qZA(),o.TgZ(7671,"value",995),o.TgZ(7672,"shadow",16),o._UZ(7673,"field",17),o.qZA(),o.qZA(),o.qZA(),o.TgZ(7674,"block",1826),o.TgZ(7675,"value",998),o.TgZ(7676,"shadow",68),o._UZ(7677,"field",69),o.qZA(),o.qZA(),o.qZA(),o.TgZ(7678,"block",1823),o.TgZ(7679,"value",1814),o.TgZ(7680,"shadow",16),o._UZ(7681,"field",17),o.qZA(),o.qZA(),o.qZA(),o._UZ(7682,"block",1827),o._UZ(7683,"block",1828),o.qZA(),o.qZA(),o.TgZ(7684,"category",1829),o._UZ(7685,"button",1830),o._UZ(7686,"button",1831),o.TgZ(7687,"block",1832),o.TgZ(7688,"field",1833),o._uU(7689,"1"),o.qZA(),o.TgZ(7690,"field",1834),o._uU(7691,"Modbus.CRC_BIG"),o.qZA(),o.TgZ(7692,"value",1733),o.TgZ(7693,"shadow",16),o.TgZ(7694,"field",17),o._uU(7695,"9600"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(7696,"value",1159),o.TgZ(7697,"shadow",16),o.TgZ(7698,"field",17),o._uU(7699,"17"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(7700,"value",1160),o.TgZ(7701,"shadow",16),o.TgZ(7702,"field",17),o._uU(7703,"16"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(7704,"button",1835),o.TgZ(7705,"block",1836),o.TgZ(7706,"value",1837),o.TgZ(7707,"shadow",16),o.TgZ(7708,"field",17),o._uU(7709,"1"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(7710,"value",480),o.TgZ(7711,"shadow",16),o.TgZ(7712,"field",17),o._uU(7713,"1"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(7714,"value",1838),o.TgZ(7715,"shadow",16),o.TgZ(7716,"field",17),o._uU(7717,"1"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(7718,"value",304),o.TgZ(7719,"shadow",16),o.TgZ(7720,"field",17),o._uU(7721,"1"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(7722,"button",1839),o.TgZ(7723,"block",1802),o.TgZ(7724,"value",292),o._UZ(7725,"block",1840),o.qZA(),o.TgZ(7726,"statement",297),o.TgZ(7727,"block",279),o.TgZ(7728,"value",69),o._UZ(7729,"block",1841),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(7730,"button",1842),o.TgZ(7731,"block",1843),o.TgZ(7732,"value",1837),o.TgZ(7733,"block",312),o.TgZ(7734,"field",303),o._uU(7735,"addr"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(7736,"value",480),o.TgZ(7737,"block",312),o.TgZ(7738,"field",303),o._uU(7739,"func"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(7740,"value",1763),o.TgZ(7741,"block",312),o.TgZ(7742,"field",303),o._uU(7743,"data"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(7744,"statement",1844),o.TgZ(7745,"block",279),o.TgZ(7746,"value",69),o.TgZ(7747,"block",312),o.TgZ(7748,"field",303),o._uU(7749,"addr"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(7750,"next"),o.TgZ(7751,"block",279),o.TgZ(7752,"value",69),o.TgZ(7753,"block",312),o.TgZ(7754,"field",303),o._uU(7755,"func"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(7756,"next"),o.TgZ(7757,"block",279),o.TgZ(7758,"value",69),o.TgZ(7759,"block",312),o.TgZ(7760,"field",303),o._uU(7761,"data"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(7762,"button",191),o.TgZ(7763,"block",1845),o.TgZ(7764,"value",1733),o.TgZ(7765,"shadow",16),o.TgZ(7766,"field",17),o._uU(7767,"9600"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(7768,"value",1159),o.TgZ(7769,"shadow",16),o.TgZ(7770,"field",17),o._uU(7771,"17"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(7772,"value",1160),o.TgZ(7773,"shadow",16),o.TgZ(7774,"field",17),o._uU(7775,"16"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(7776,"block",1846),o.TgZ(7777,"value",1837),o.TgZ(7778,"shadow",16),o.TgZ(7779,"field",17),o._uU(7780,"1"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(7781,"value",480),o.TgZ(7782,"shadow",16),o.TgZ(7783,"field",17),o._uU(7784,"1"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(7785,"value",1838),o.TgZ(7786,"shadow",16),o.TgZ(7787,"field",17),o._uU(7788,"1"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(7789,"value",304),o.TgZ(7790,"shadow",16),o.TgZ(7791,"field",17),o._uU(7792,"1"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(7793,"block",1840),o._UZ(7794,"block",1841),o._UZ(7795,"block",1847),o.qZA(),o.TgZ(7796,"category",1848),o._UZ(7797,"button",1849),o._UZ(7798,"button",1850),o.TgZ(7799,"block",1851),o.TgZ(7800,"field",1833),o._uU(7801,"1"),o.qZA(),o.TgZ(7802,"value",1837),o.TgZ(7803,"shadow",16),o.TgZ(7804,"field",17),o._uU(7805,"1"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(7806,"value",1733),o.TgZ(7807,"shadow",16),o.TgZ(7808,"field",17),o._uU(7809,"9600"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(7810,"value",1159),o.TgZ(7811,"shadow",16),o.TgZ(7812,"field",17),o._uU(7813,"16"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(7814,"value",1160),o.TgZ(7815,"shadow",16),o.TgZ(7816,"field",17),o._uU(7817,"17"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(7818,"button",1852),o.TgZ(7819,"block",1853),o.TgZ(7820,"field",1854),o._uU(7821,"ModbusSlave.METHOD_WRITE"),o.qZA(),o.TgZ(7822,"value",480),o.TgZ(7823,"shadow",16),o.TgZ(7824,"field",17),o._uU(7825,"1"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(7826,"value",1838),o.TgZ(7827,"shadow",16),o.TgZ(7828,"field",17),o._uU(7829,"1"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(7830,"value",304),o.TgZ(7831,"shadow",16),o.TgZ(7832,"field",17),o._uU(7833,"100"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(7834,"button",1855),o.TgZ(7835,"block",1853),o.TgZ(7836,"field",1854),o._uU(7837,"ModbusSlave.METHOD_READ"),o.qZA(),o.TgZ(7838,"value",480),o.TgZ(7839,"shadow",16),o.TgZ(7840,"field",17),o._uU(7841,"2"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(7842,"value",1838),o.TgZ(7843,"shadow",16),o.TgZ(7844,"field",17),o._uU(7845,"1"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(7846,"value",304),o.TgZ(7847,"shadow",16),o.TgZ(7848,"field",17),o._uU(7849,"100"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(7850,"button",1856),o.TgZ(7851,"block",1857),o.TgZ(7852,"value",480),o.TgZ(7853,"block",312),o.TgZ(7854,"field",303),o._uU(7855,"func"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(7856,"value",1838),o.TgZ(7857,"block",312),o.TgZ(7858,"field",303),o._uU(7859,"addr"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(7860,"value",304),o.TgZ(7861,"block",312),o.TgZ(7862,"field",303),o._uU(7863,"val"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(7864,"statement",1844),o.TgZ(7865,"block",279),o.TgZ(7866,"value",69),o.TgZ(7867,"block",312),o.TgZ(7868,"field",303),o._uU(7869,"func"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(7870,"next"),o.TgZ(7871,"block",279),o.TgZ(7872,"value",69),o.TgZ(7873,"block",312),o.TgZ(7874,"field",303),o._uU(7875,"addr"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(7876,"next"),o.TgZ(7877,"block",279),o.TgZ(7878,"value",69),o.TgZ(7879,"block",312),o.TgZ(7880,"field",303),o._uU(7881,"val"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(7882,"next"),o.TgZ(7883,"block",1858),o.TgZ(7884,"value",1837),o.TgZ(7885,"shadow",16),o.TgZ(7886,"field",17),o._uU(7887,"1"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(7888,"value",480),o.TgZ(7889,"shadow",16),o.TgZ(7890,"field",17),o._uU(7891,"1"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(7892,"value",1838),o.TgZ(7893,"shadow",16),o.TgZ(7894,"field",17),o._uU(7895,"1"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(7896,"value",304),o.TgZ(7897,"shadow",16),o.TgZ(7898,"field",17),o._uU(7899,"1"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(7900,"button",191),o.TgZ(7901,"block",1859),o.TgZ(7902,"value",1837),o.TgZ(7903,"shadow",16),o.TgZ(7904,"field",17),o._uU(7905,"1"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(7906,"value",1733),o.TgZ(7907,"shadow",16),o.TgZ(7908,"field",17),o._uU(7909,"9600"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(7910,"value",1159),o.TgZ(7911,"shadow",16),o.TgZ(7912,"field",17),o._uU(7913,"16"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(7914,"value",1160),o.TgZ(7915,"shadow",16),o.TgZ(7916,"field",17),o._uU(7917,"17"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(7918,"block",1860),o.TgZ(7919,"value",480),o.TgZ(7920,"shadow",16),o.TgZ(7921,"field",17),o._uU(7922,"1"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(7923,"value",1838),o.TgZ(7924,"shadow",16),o.TgZ(7925,"field",17),o._uU(7926,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(7927,"value",304),o.TgZ(7928,"shadow",16),o.TgZ(7929,"field",17),o._uU(7930,"100"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(7931,"block",1861),o.TgZ(7932,"value",480),o.TgZ(7933,"shadow",16),o.TgZ(7934,"field",17),o._uU(7935,"1"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(7936,"value",1838),o.TgZ(7937,"shadow",16),o.TgZ(7938,"field",17),o._uU(7939,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(7940,"value",304),o.TgZ(7941,"shadow",16),o.TgZ(7942,"field",17),o._uU(7943,"100"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(7944,"block",1862),o._UZ(7945,"block",1863),o.TgZ(7946,"block",1864),o.TgZ(7947,"value",480),o.TgZ(7948,"shadow",16),o.TgZ(7949,"field",17),o._uU(7950,"1"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(7951,"value",1838),o.TgZ(7952,"shadow",16),o.TgZ(7953,"field",17),o._uU(7954,"1"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(7955,"block",1858),o.TgZ(7956,"value",1837),o.TgZ(7957,"shadow",16),o.TgZ(7958,"field",17),o._uU(7959,"1"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(7960,"value",480),o.TgZ(7961,"shadow",16),o.TgZ(7962,"field",17),o._uU(7963,"1"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(7964,"value",1838),o.TgZ(7965,"shadow",16),o.TgZ(7966,"field",17),o._uU(7967,"1"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(7968,"value",304),o.TgZ(7969,"shadow",16),o.TgZ(7970,"field",17),o._uU(7971,"1"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(7972,"category",1865),o.TgZ(7973,"block",1866),o.TgZ(7974,"value",1867),o.TgZ(7975,"shadow",16),o.TgZ(7976,"field",17),o._uU(7977,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(7978,"value",1194),o.TgZ(7979,"shadow",16),o.TgZ(7980,"field",17),o._uU(7981,"17"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(7982,"value",1195),o.TgZ(7983,"shadow",16),o.TgZ(7984,"field",17),o._uU(7985,"16"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(7986,"block",1868),o._UZ(7987,"block",1869),o.TgZ(7988,"block",1870),o.TgZ(7989,"value",1871),o.TgZ(7990,"shadow",16),o.TgZ(7991,"field",17),o._uU(7992,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(7993,"block",1872),o.TgZ(7994,"block",1873),o.TgZ(7995,"value",1874),o.TgZ(7996,"shadow",16),o.TgZ(7997,"field",17),o._uU(7998,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(7999,"block",1875),o._UZ(8e3,"block",1876),o._UZ(8001,"block",1877),o._UZ(8002,"block",1878),o._UZ(8003,"block",1879),o.qZA(),o.TgZ(8004,"category",1880),o._UZ(8005,"button",1881),o._UZ(8006,"button",1882),o.TgZ(8007,"block",1883),o.TgZ(8008,"value",503),o.TgZ(8009,"shadow",68),o._UZ(8010,"field",69),o.qZA(),o.qZA(),o.TgZ(8011,"value",304),o.TgZ(8012,"shadow",68),o._UZ(8013,"field",69),o.qZA(),o.qZA(),o.qZA(),o._UZ(8014,"button",1884),o.TgZ(8015,"block",1885),o.TgZ(8016,"value",503),o.TgZ(8017,"shadow",68),o._UZ(8018,"field",69),o.qZA(),o.qZA(),o.qZA(),o._UZ(8019,"button",1886),o.TgZ(8020,"block",1887),o.TgZ(8021,"value",503),o.TgZ(8022,"shadow",68),o._UZ(8023,"field",69),o.qZA(),o.qZA(),o.qZA(),o._UZ(8024,"button",191),o.TgZ(8025,"block",1888),o.TgZ(8026,"value",503),o.TgZ(8027,"shadow",68),o._UZ(8028,"field",69),o.qZA(),o.qZA(),o.TgZ(8029,"value",304),o.TgZ(8030,"shadow",68),o._UZ(8031,"field",69),o.qZA(),o.qZA(),o.qZA(),o.TgZ(8032,"block",1889),o.TgZ(8033,"value",503),o.TgZ(8034,"shadow",68),o._UZ(8035,"field",69),o.qZA(),o.qZA(),o.qZA(),o.TgZ(8036,"block",1890),o.TgZ(8037,"value",503),o.TgZ(8038,"shadow",68),o._UZ(8039,"field",69),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(8040,"category",1891),o._UZ(8041,"button",1892),o.TgZ(8042,"block",1893),o.TgZ(8043,"value",1894),o.TgZ(8044,"shadow",68),o._UZ(8045,"field",69),o.qZA(),o.qZA(),o.TgZ(8046,"value",1895),o.TgZ(8047,"shadow",68),o._UZ(8048,"field",69),o.qZA(),o.qZA(),o.qZA(),o.TgZ(8049,"block",1896),o.TgZ(8050,"value",1897),o.TgZ(8051,"shadow",16),o.TgZ(8052,"field",17),o._uU(8053,"1"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(8054,"value",1763),o.TgZ(8055,"shadow",68),o._UZ(8056,"field",69),o.qZA(),o.qZA(),o.qZA(),o.TgZ(8057,"block",1898),o.TgZ(8058,"value",1492),o.TgZ(8059,"shadow",68),o._UZ(8060,"field",69),o.qZA(),o.qZA(),o.qZA(),o.TgZ(8061,"block",1899),o.TgZ(8062,"value",1492),o.TgZ(8063,"shadow",68),o._UZ(8064,"field",69),o.qZA(),o.qZA(),o.qZA(),o._UZ(8065,"block",1900),o._UZ(8066,"block",1901),o._UZ(8067,"block",1902),o.qZA(),o.TgZ(8068,"category",1903),o._UZ(8069,"button",1904),o.TgZ(8070,"block",1905),o.TgZ(8071,"value",1894),o.TgZ(8072,"shadow",68),o._UZ(8073,"field",69),o.qZA(),o.qZA(),o.qZA(),o.TgZ(8074,"block",1906),o.TgZ(8075,"value",1763),o.TgZ(8076,"shadow",68),o._UZ(8077,"field",69),o.qZA(),o.qZA(),o.qZA(),o._UZ(8078,"block",1907),o._UZ(8079,"block",1908),o.TgZ(8080,"block",1909),o.TgZ(8081,"value",1897),o.TgZ(8082,"shadow",16),o.TgZ(8083,"field",17),o._uU(8084,"1"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(8085,"block",1910),o.qZA(),o.TgZ(8086,"category",1911),o._UZ(8087,"button",1912),o.TgZ(8088,"block",1913),o.TgZ(8089,"value",1895),o.TgZ(8090,"shadow",68),o._UZ(8091,"field",69),o.qZA(),o.qZA(),o.qZA(),o.TgZ(8092,"block",1914),o.TgZ(8093,"value",1763),o.TgZ(8094,"block",312),o.TgZ(8095,"field",303),o._uU(8096,"stt_data"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(8097,"block",1915),o.qZA(),o.TgZ(8098,"category",1916),o._UZ(8099,"button",1917),o._UZ(8100,"button",1918),o.TgZ(8101,"block",1919),o.TgZ(8102,"value",458),o.TgZ(8103,"shadow",16),o.TgZ(8104,"field",17),o._uU(8105,"26"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(8106,"value",530),o.TgZ(8107,"shadow",16),o.TgZ(8108,"field",17),o._uU(8109,"50"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(8110,"value",1920),o.TgZ(8111,"shadow",16),o.TgZ(8112,"field",17),o._uU(8113,"500"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(8114,"value",1921),o.TgZ(8115,"shadow",16),o.TgZ(8116,"field",17),o._uU(8117,"2500"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(8118,"value",352),o.TgZ(8119,"shadow",16),o.TgZ(8120,"field",17),o._uU(8121,"180"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(8122,"button",1922),o.TgZ(8123,"block",1923),o.TgZ(8124,"value",352),o.TgZ(8125,"shadow",16),o.TgZ(8126,"field",17),o._uU(8127,"90"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(8128,"button",1924),o.TgZ(8129,"block",1925),o.TgZ(8130,"value",355),o.TgZ(8131,"shadow",16),o.TgZ(8132,"field",17),o._uU(8133,"1500"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(8134,"button",191),o.TgZ(8135,"block",1926),o.TgZ(8136,"value",458),o.TgZ(8137,"shadow",16),o.TgZ(8138,"field",17),o._uU(8139,"26"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(8140,"value",530),o.TgZ(8141,"shadow",16),o.TgZ(8142,"field",17),o._uU(8143,"50"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(8144,"value",1920),o.TgZ(8145,"shadow",16),o.TgZ(8146,"field",17),o._uU(8147,"500"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(8148,"value",1921),o.TgZ(8149,"shadow",16),o.TgZ(8150,"field",17),o._uU(8151,"2500"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(8152,"value",352),o.TgZ(8153,"shadow",16),o.TgZ(8154,"field",17),o._uU(8155,"180"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(8156,"block",1927),o.TgZ(8157,"value",352),o.TgZ(8158,"shadow",16),o.TgZ(8159,"field",17),o._uU(8160,"90"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(8161,"block",1928),o.TgZ(8162,"value",355),o.TgZ(8163,"shadow",16),o.TgZ(8164,"field",17),o._uU(8165,"1500"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(8166,"category",1929),o._UZ(8167,"button",1930),o.TgZ(8168,"block",1931),o.TgZ(8169,"value",1107),o.TgZ(8170,"shadow",68),o.TgZ(8171,"field",69),o._uU(8172,"cn.pool.ntp.org"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(8173,"value",222),o.TgZ(8174,"shadow",16),o.TgZ(8175,"field",17),o._uU(8176,"8"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(8177,"block",1932),o.TgZ(8178,"value",222),o.TgZ(8179,"shadow",16),o.TgZ(8180,"field",17),o._uU(8181,"8"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(8182,"block",1933),o.TgZ(8183,"block",1934),o.TgZ(8184,"value",1292),o.TgZ(8185,"shadow",68),o.TgZ(8186,"field",69),o._uU(8187,"-"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(8188,"block",1935),o.TgZ(8189,"value",1292),o.TgZ(8190,"shadow",68),o.TgZ(8191,"field",69),o._uU(8192,"-"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(8193,"block",1936),o.TgZ(8194,"value",1937),o.TgZ(8195,"shadow",68),o.TgZ(8196,"field",69),o._uU(8197,"-"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(8198,"value",813),o.TgZ(8199,"shadow",68),o.TgZ(8200,"field",69),o._uU(8201,":"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(8202,"block",1938),o._UZ(8203,"block",1939),o._UZ(8204,"block",1940),o._UZ(8205,"block",1941),o._UZ(8206,"block",1942),o._UZ(8207,"block",1943),o._UZ(8208,"block",1944),o.qZA(),o.TgZ(8209,"category",1945),o.TgZ(8210,"category",1946),o._UZ(8211,"block",1947),o.TgZ(8212,"block",1948),o.TgZ(8213,"value",1949),o.TgZ(8214,"shadow",16),o._UZ(8215,"field",17),o.qZA(),o.qZA(),o.TgZ(8216,"value",1521),o.TgZ(8217,"shadow",68),o._UZ(8218,"field",69),o.qZA(),o.qZA(),o.qZA(),o.TgZ(8219,"block",1950),o.TgZ(8220,"value",1949),o.TgZ(8221,"shadow",16),o._UZ(8222,"field",17),o.qZA(),o.qZA(),o.TgZ(8223,"value",140),o.TgZ(8224,"shadow",68),o._UZ(8225,"field",69),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(8226,"category",1951),o.TgZ(8227,"category",1952),o.TgZ(8228,"block",1953),o.TgZ(8229,"value",1521),o.TgZ(8230,"shadow",68),o._UZ(8231,"field",69),o.qZA(),o.qZA(),o.qZA(),o._UZ(8232,"block",1954),o._UZ(8233,"block",1955),o._UZ(8234,"block",1956),o.qZA(),o.qZA(),o.qZA(),o._UZ(8235,"sep",1539),o.TgZ(8236,"category",1957),o.TgZ(8237,"category",1958),o._UZ(8238,"button",1959),o._UZ(8239,"block",1960),o._UZ(8240,"button",1961),o._UZ(8241,"block",1962),o._UZ(8242,"block",1963),o._UZ(8243,"block",1964),o._UZ(8244,"block",1965),o._UZ(8245,"button",1966),o._UZ(8246,"block",1967),o.TgZ(8247,"block",1968),o.TgZ(8248,"value",1871),o.TgZ(8249,"shadow",64),o.TgZ(8250,"field",1969),o._uU(8251,"1"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(8252,"value",1970),o.TgZ(8253,"shadow",64),o.TgZ(8254,"field",1971),o._uU(8255,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(8256,"value",198),o.TgZ(8257,"shadow",64),o.TgZ(8258,"field",1972),o._uU(8259,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(8260,"block",1973),o.TgZ(8261,"value",198),o.TgZ(8262,"shadow",64),o.TgZ(8263,"field",1972),o._uU(8264,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(8265,"block",1974),o.TgZ(8266,"value",1975),o.TgZ(8267,"shadow",64),o.TgZ(8268,"field",1971),o._uU(8269,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(8270,"value",1976),o.TgZ(8271,"shadow",64),o.TgZ(8272,"field",1971),o._uU(8273,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(8274,"value",1977),o.TgZ(8275,"shadow",64),o.TgZ(8276,"field",1971),o._uU(8277,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(8278,"value",1978),o.TgZ(8279,"shadow",64),o.TgZ(8280,"field",1971),o._uU(8281,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(8282,"value",1979),o.TgZ(8283,"shadow",64),o.TgZ(8284,"field",1971),o._uU(8285,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(8286,"value",1980),o.TgZ(8287,"shadow",64),o.TgZ(8288,"field",1971),o._uU(8289,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(8290,"value",198),o.TgZ(8291,"shadow",64),o.TgZ(8292,"field",1972),o._uU(8293,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(8294,"block",1981),o.TgZ(8295,"block",1982),o.TgZ(8296,"value",198),o.TgZ(8297,"shadow",64),o.TgZ(8298,"field",1972),o._uU(8299,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(8300,"block",1983),o.TgZ(8301,"value",1984),o.TgZ(8302,"shadow",16),o._UZ(8303,"field",17),o.qZA(),o.qZA(),o.TgZ(8304,"value",1985),o.TgZ(8305,"shadow",16),o._UZ(8306,"field",17),o.qZA(),o.qZA(),o.TgZ(8307,"value",1986),o.TgZ(8308,"shadow",16),o._UZ(8309,"field",17),o.qZA(),o.qZA(),o.TgZ(8310,"value",1987),o.TgZ(8311,"shadow",16),o._UZ(8312,"field",17),o.qZA(),o.qZA(),o.TgZ(8313,"value",1988),o.TgZ(8314,"shadow",16),o._UZ(8315,"field",17),o.qZA(),o.qZA(),o.TgZ(8316,"value",1989),o.TgZ(8317,"shadow",16),o._UZ(8318,"field",17),o.qZA(),o.qZA(),o.TgZ(8319,"value",198),o.TgZ(8320,"shadow",64),o.TgZ(8321,"field",1972),o._uU(8322,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(8323,"block",1990),o.TgZ(8324,"block",1991),o.TgZ(8325,"value",1871),o.TgZ(8326,"shadow",64),o.TgZ(8327,"field",1969),o._uU(8328,"1"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(8329,"value",1992),o.TgZ(8330,"shadow",16),o.TgZ(8331,"field",17),o._uU(8332,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(8333,"value",198),o.TgZ(8334,"shadow",64),o.TgZ(8335,"field",1972),o._uU(8336,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(8337,"block",1993),o.TgZ(8338,"value",198),o.TgZ(8339,"shadow",64),o.TgZ(8340,"field",1972),o._uU(8341,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(8342,"block",1994),o.TgZ(8343,"value",1995),o.TgZ(8344,"shadow",16),o.TgZ(8345,"field",17),o._uU(8346,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(8347,"value",1996),o.TgZ(8348,"shadow",16),o.TgZ(8349,"field",17),o._uU(8350,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(8351,"value",1997),o.TgZ(8352,"shadow",16),o.TgZ(8353,"field",17),o._uU(8354,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(8355,"value",1998),o.TgZ(8356,"shadow",16),o.TgZ(8357,"field",17),o._uU(8358,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(8359,"value",1999),o.TgZ(8360,"shadow",16),o.TgZ(8361,"field",17),o._uU(8362,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(8363,"value",2e3),o.TgZ(8364,"shadow",16),o.TgZ(8365,"field",17),o._uU(8366,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(8367,"value",198),o.TgZ(8368,"shadow",64),o.TgZ(8369,"field",1972),o._uU(8370,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(8371,"value",753),o.TgZ(8372,"shadow",64),o.TgZ(8373,"field",738),o._uU(8374,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(8375,"block",2001),o._UZ(8376,"block",2002),o._UZ(8377,"block",2003),o._UZ(8378,"block",2004),o.TgZ(8379,"block",2005),o.TgZ(8380,"value",1871),o.TgZ(8381,"shadow",64),o.TgZ(8382,"field",738),o._uU(8383,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(8384,"block",2006),o._UZ(8385,"button",2007),o.TgZ(8386,"block",2008),o.TgZ(8387,"value",2009),o.TgZ(8388,"shadow",64),o.TgZ(8389,"field",1969),o._uU(8390,"1"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(8391,"value",1423),o.TgZ(8392,"shadow",64),o.TgZ(8393,"field",738),o._uU(8394,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(8395,"value",198),o.TgZ(8396,"shadow",64),o.TgZ(8397,"field",1972),o._uU(8398,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(8399,"block",2010),o.TgZ(8400,"value",2011),o.TgZ(8401,"shadow",64),o.TgZ(8402,"field",1969),o._uU(8403,"1"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(8404,"value",1423),o.TgZ(8405,"shadow",64),o.TgZ(8406,"field",738),o._uU(8407,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(8408,"value",198),o.TgZ(8409,"shadow",64),o.TgZ(8410,"field",1972),o._uU(8411,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(8412,"block",2012),o._UZ(8413,"button",2013),o._UZ(8414,"block",2014),o.TgZ(8415,"block",2015),o.TgZ(8416,"value",198),o.TgZ(8417,"shadow",64),o.TgZ(8418,"field",1972),o._uU(8419,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(8420,"block",2016),o.TgZ(8421,"value",2009),o.TgZ(8422,"shadow",64),o.TgZ(8423,"field",1969),o._uU(8424,"1"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(8425,"block",2017),o.TgZ(8426,"value",2009),o.TgZ(8427,"shadow",64),o.TgZ(8428,"field",1969),o._uU(8429,"1"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(8430,"button",2018),o.TgZ(8431,"block",2019),o.TgZ(8432,"value",2020),o.TgZ(8433,"shadow",64),o.TgZ(8434,"field",1969),o._uU(8435,"1"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(8436,"block",2021),o.TgZ(8437,"block",2022),o.TgZ(8438,"value",2020),o.TgZ(8439,"shadow",64),o.TgZ(8440,"field",1969),o._uU(8441,"1"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(8442,"block",2023),o.TgZ(8443,"value",2020),o.TgZ(8444,"shadow",64),o.TgZ(8445,"field",1969),o._uU(8446,"1"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(8447,"button",2024),o.TgZ(8448,"block",2025),o.TgZ(8449,"value",34),o.TgZ(8450,"shadow",64),o.TgZ(8451,"field",65),o._uU(8452,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(8453,"value",35),o.TgZ(8454,"shadow",64),o.TgZ(8455,"field",65),o._uU(8456,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(8457,"value",36),o.TgZ(8458,"shadow",64),o.TgZ(8459,"field",65),o._uU(8460,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(8461,"block",2026),o.TgZ(8462,"value",2027),o.TgZ(8463,"shadow",16),o.TgZ(8464,"field",17),o._uU(8465,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(8466,"block",2028),o.TgZ(8467,"value",2027),o.TgZ(8468,"shadow",16),o.TgZ(8469,"field",17),o._uU(8470,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(8471,"value",2029),o.TgZ(8472,"shadow",64),o.TgZ(8473,"field",738),o._uU(8474,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(8475,"block",2030),o.TgZ(8476,"value",2027),o.TgZ(8477,"shadow",16),o.TgZ(8478,"field",17),o._uU(8479,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(8480,"block",2031),o.TgZ(8481,"value",2027),o.TgZ(8482,"shadow",16),o.TgZ(8483,"field",17),o._uU(8484,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(8485,"value",1199),o.TgZ(8486,"shadow",16),o.TgZ(8487,"field",17),o._uU(8488,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(8489,"block",2032),o.TgZ(8490,"value",1199),o.TgZ(8491,"shadow",16),o.TgZ(8492,"field",17),o._uU(8493,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(8494,"value",2033),o.TgZ(8495,"shadow",16),o.TgZ(8496,"field",17),o._uU(8497,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(8498,"block",2034),o.TgZ(8499,"block",2035),o.TgZ(8500,"value",101),o.TgZ(8501,"shadow",64),o.TgZ(8502,"field",2036),o._uU(8503,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(8504,"value",198),o.TgZ(8505,"shadow",64),o.TgZ(8506,"field",1972),o._uU(8507,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(8508,"block",2037),o.TgZ(8509,"value",198),o.TgZ(8510,"shadow",64),o.TgZ(8511,"field",1972),o._uU(8512,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(8513,"block",2038),o._UZ(8514,"block",2039),o.qZA(),o.TgZ(8515,"category",2040),o._UZ(8516,"button",2041),o._UZ(8517,"block",2042),o._UZ(8518,"button",1961),o._UZ(8519,"block",2043),o._UZ(8520,"block",2044),o._UZ(8521,"block",2045),o._UZ(8522,"block",2046),o._UZ(8523,"button",1966),o._UZ(8524,"block",2047),o.TgZ(8525,"block",2048),o.TgZ(8526,"value",1871),o.TgZ(8527,"shadow",64),o.TgZ(8528,"field",1969),o._uU(8529,"1"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(8530,"value",1970),o.TgZ(8531,"shadow",64),o.TgZ(8532,"field",1971),o._uU(8533,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(8534,"value",198),o.TgZ(8535,"shadow",64),o.TgZ(8536,"field",1972),o._uU(8537,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(8538,"block",2049),o.TgZ(8539,"value",198),o.TgZ(8540,"shadow",64),o.TgZ(8541,"field",1972),o._uU(8542,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(8543,"block",2050),o.TgZ(8544,"value",1975),o.TgZ(8545,"shadow",64),o.TgZ(8546,"field",1971),o._uU(8547,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(8548,"value",1976),o.TgZ(8549,"shadow",64),o.TgZ(8550,"field",1971),o._uU(8551,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(8552,"value",1977),o.TgZ(8553,"shadow",64),o.TgZ(8554,"field",1971),o._uU(8555,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(8556,"value",1978),o.TgZ(8557,"shadow",64),o.TgZ(8558,"field",1971),o._uU(8559,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(8560,"value",1979),o.TgZ(8561,"shadow",64),o.TgZ(8562,"field",1971),o._uU(8563,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(8564,"value",1980),o.TgZ(8565,"shadow",64),o.TgZ(8566,"field",1971),o._uU(8567,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(8568,"value",198),o.TgZ(8569,"shadow",64),o.TgZ(8570,"field",1972),o._uU(8571,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(8572,"block",2051),o.TgZ(8573,"block",2052),o.TgZ(8574,"value",198),o.TgZ(8575,"shadow",64),o.TgZ(8576,"field",1972),o._uU(8577,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(8578,"block",2053),o.TgZ(8579,"value",1984),o.TgZ(8580,"shadow",16),o._UZ(8581,"field",17),o.qZA(),o.qZA(),o.TgZ(8582,"value",1985),o.TgZ(8583,"shadow",16),o._UZ(8584,"field",17),o.qZA(),o.qZA(),o.TgZ(8585,"value",1986),o.TgZ(8586,"shadow",16),o._UZ(8587,"field",17),o.qZA(),o.qZA(),o.TgZ(8588,"value",1987),o.TgZ(8589,"shadow",16),o._UZ(8590,"field",17),o.qZA(),o.qZA(),o.TgZ(8591,"value",1988),o.TgZ(8592,"shadow",16),o._UZ(8593,"field",17),o.qZA(),o.qZA(),o.TgZ(8594,"value",1989),o.TgZ(8595,"shadow",16),o._UZ(8596,"field",17),o.qZA(),o.qZA(),o.TgZ(8597,"value",198),o.TgZ(8598,"shadow",64),o.TgZ(8599,"field",1972),o._uU(8600,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(8601,"block",2054),o.TgZ(8602,"block",2055),o.TgZ(8603,"value",1871),o.TgZ(8604,"shadow",64),o.TgZ(8605,"field",1969),o._uU(8606,"1"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(8607,"value",1992),o.TgZ(8608,"shadow",16),o.TgZ(8609,"field",17),o._uU(8610,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(8611,"value",198),o.TgZ(8612,"shadow",64),o.TgZ(8613,"field",1972),o._uU(8614,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(8615,"block",2056),o.TgZ(8616,"value",198),o.TgZ(8617,"shadow",64),o.TgZ(8618,"field",1972),o._uU(8619,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(8620,"block",2057),o.TgZ(8621,"value",1995),o.TgZ(8622,"shadow",16),o.TgZ(8623,"field",17),o._uU(8624,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(8625,"value",1996),o.TgZ(8626,"shadow",16),o.TgZ(8627,"field",17),o._uU(8628,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(8629,"value",1997),o.TgZ(8630,"shadow",16),o.TgZ(8631,"field",17),o._uU(8632,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(8633,"value",1998),o.TgZ(8634,"shadow",16),o.TgZ(8635,"field",17),o._uU(8636,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(8637,"value",1999),o.TgZ(8638,"shadow",16),o.TgZ(8639,"field",17),o._uU(8640,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(8641,"value",2e3),o.TgZ(8642,"shadow",16),o.TgZ(8643,"field",17),o._uU(8644,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(8645,"value",198),o.TgZ(8646,"shadow",64),o.TgZ(8647,"field",1972),o._uU(8648,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(8649,"value",753),o.TgZ(8650,"shadow",64),o.TgZ(8651,"field",738),o._uU(8652,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(8653,"block",2058),o._UZ(8654,"block",2059),o._UZ(8655,"block",2060),o._UZ(8656,"block",2061),o.TgZ(8657,"block",2062),o.TgZ(8658,"value",1871),o.TgZ(8659,"shadow",64),o.TgZ(8660,"field",738),o._uU(8661,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(8662,"block",2063),o._UZ(8663,"button",2007),o.TgZ(8664,"block",2064),o.TgZ(8665,"value",2009),o.TgZ(8666,"shadow",64),o.TgZ(8667,"field",1969),o._uU(8668,"1"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(8669,"value",1423),o.TgZ(8670,"shadow",64),o.TgZ(8671,"field",738),o._uU(8672,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(8673,"value",198),o.TgZ(8674,"shadow",64),o.TgZ(8675,"field",1972),o._uU(8676,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(8677,"block",2065),o.TgZ(8678,"value",2011),o.TgZ(8679,"shadow",64),o.TgZ(8680,"field",1969),o._uU(8681,"1"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(8682,"value",1423),o.TgZ(8683,"shadow",64),o.TgZ(8684,"field",738),o._uU(8685,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(8686,"value",198),o.TgZ(8687,"shadow",64),o.TgZ(8688,"field",1972),o._uU(8689,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(8690,"block",2066),o._UZ(8691,"button",2013),o._UZ(8692,"block",2067),o.TgZ(8693,"block",2068),o.TgZ(8694,"value",198),o.TgZ(8695,"shadow",64),o.TgZ(8696,"field",1972),o._uU(8697,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(8698,"block",2069),o.TgZ(8699,"value",2009),o.TgZ(8700,"shadow",64),o.TgZ(8701,"field",1969),o._uU(8702,"1"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(8703,"block",2070),o.TgZ(8704,"value",2009),o.TgZ(8705,"shadow",64),o.TgZ(8706,"field",1969),o._uU(8707,"1"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(8708,"button",2018),o.TgZ(8709,"block",2071),o.TgZ(8710,"value",2020),o.TgZ(8711,"shadow",64),o.TgZ(8712,"field",1969),o._uU(8713,"1"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(8714,"block",2072),o.TgZ(8715,"block",2073),o.TgZ(8716,"value",2020),o.TgZ(8717,"shadow",64),o.TgZ(8718,"field",1969),o._uU(8719,"1"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(8720,"block",2074),o.TgZ(8721,"value",2020),o.TgZ(8722,"shadow",64),o.TgZ(8723,"field",1969),o._uU(8724,"1"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(8725,"button",2024),o.TgZ(8726,"block",2075),o.TgZ(8727,"value",34),o.TgZ(8728,"shadow",64),o.TgZ(8729,"field",65),o._uU(8730,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(8731,"value",35),o.TgZ(8732,"shadow",64),o.TgZ(8733,"field",65),o._uU(8734,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(8735,"value",36),o.TgZ(8736,"shadow",64),o.TgZ(8737,"field",65),o._uU(8738,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(8739,"block",2076),o.TgZ(8740,"value",2027),o.TgZ(8741,"shadow",16),o.TgZ(8742,"field",17),o._uU(8743,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(8744,"block",2077),o.TgZ(8745,"value",2027),o.TgZ(8746,"shadow",16),o.TgZ(8747,"field",17),o._uU(8748,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(8749,"value",2029),o.TgZ(8750,"shadow",64),o.TgZ(8751,"field",738),o._uU(8752,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(8753,"block",2078),o.TgZ(8754,"value",2027),o.TgZ(8755,"shadow",16),o.TgZ(8756,"field",17),o._uU(8757,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(8758,"block",2079),o.TgZ(8759,"value",2027),o.TgZ(8760,"shadow",16),o.TgZ(8761,"field",17),o._uU(8762,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(8763,"value",1199),o.TgZ(8764,"shadow",16),o.TgZ(8765,"field",17),o._uU(8766,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(8767,"block",2080),o.TgZ(8768,"value",1199),o.TgZ(8769,"shadow",16),o.TgZ(8770,"field",17),o._uU(8771,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(8772,"value",2033),o.TgZ(8773,"shadow",16),o.TgZ(8774,"field",17),o._uU(8775,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(8776,"block",2081),o.TgZ(8777,"block",2082),o.TgZ(8778,"value",101),o.TgZ(8779,"shadow",64),o.TgZ(8780,"field",2036),o._uU(8781,"0"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(8782,"value",198),o.TgZ(8783,"shadow",64),o.TgZ(8784,"field",1972),o._uU(8785,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(8786,"block",2083),o.TgZ(8787,"value",198),o.TgZ(8788,"shadow",64),o.TgZ(8789,"field",1972),o._uU(8790,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(8791,"block",2084),o._UZ(8792,"block",2085),o._UZ(8793,"button",2086),o.TgZ(8794,"block",2087),o.TgZ(8795,"value",2009),o.TgZ(8796,"shadow",64),o.TgZ(8797,"field",1969),o._uU(8798,"1"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(8799,"block",2088),o.TgZ(8800,"value",2009),o.TgZ(8801,"shadow",64),o.TgZ(8802,"field",1969),o._uU(8803,"1"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(8804,"value",101),o.TgZ(8805,"shadow",16),o.TgZ(8806,"field",17),o._uU(8807,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(8808,"block",2089),o.qZA(),o.TgZ(8809,"category",2090),o._UZ(8810,"button",2091),o._UZ(8811,"button",2092),o._UZ(8812,"block",2093),o._UZ(8813,"block",2094),o._UZ(8814,"block",2095),o._UZ(8815,"block",2096),o.TgZ(8816,"block",2097),o.TgZ(8817,"value",1970),o.TgZ(8818,"shadow",16),o.TgZ(8819,"field",17),o._uU(8820,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(8821,"block",2098),o.TgZ(8822,"value",1970),o.TgZ(8823,"shadow",16),o.TgZ(8824,"field",17),o._uU(8825,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(8826,"block",2099),o._UZ(8827,"block",2100),o.TgZ(8828,"block",2101),o.TgZ(8829,"value",2102),o.TgZ(8830,"shadow",16),o.TgZ(8831,"field",17),o._uU(8832,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(8833,"block",2103),o.TgZ(8834,"value",2102),o.TgZ(8835,"shadow",16),o.TgZ(8836,"field",17),o._uU(8837,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(8838,"block",2104),o.TgZ(8839,"value",2102),o.TgZ(8840,"shadow",16),o.TgZ(8841,"field",17),o._uU(8842,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(8843,"block",2105),o.TgZ(8844,"value",2102),o.TgZ(8845,"shadow",16),o.TgZ(8846,"field",17),o._uU(8847,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(8848,"block",2106),o.TgZ(8849,"value",2102),o.TgZ(8850,"shadow",16),o.TgZ(8851,"field",17),o._uU(8852,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(8853,"block",2107),o.TgZ(8854,"value",2102),o.TgZ(8855,"shadow",16),o.TgZ(8856,"field",17),o._uU(8857,"0"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(8858,"sep",1539),o.TgZ(8859,"category",2108),o._UZ(8860,"button",2109),o.TgZ(8861,"block",2110),o.TgZ(8862,"value",2111),o.TgZ(8863,"shadow",68),o._UZ(8864,"field",69),o.qZA(),o.qZA(),o.qZA(),o.TgZ(8865,"block",2112),o.TgZ(8866,"value",28),o.TgZ(8867,"shadow",16),o.TgZ(8868,"field",17),o._uU(8869,"72"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(8870,"value",29),o.TgZ(8871,"shadow",16),o.TgZ(8872,"field",17),o._uU(8873,"32"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(8874,"value",2113),o.TgZ(8875,"shadow",16),o.TgZ(8876,"field",17),o._uU(8877,"176"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(8878,"block",2114),o._UZ(8879,"block",2115),o._UZ(8880,"block",2116),o._UZ(8881,"block",2117),o._UZ(8882,"block",2118),o.qZA(),o._UZ(8883,"sep",1539),o.TgZ(8884,"category",2119),o._UZ(8885,"button",2120),o._UZ(8886,"button",2121),o._UZ(8887,"button",2122),o._UZ(8888,"button",2123),o.qZA(),o.qZA(),o._UZ(8889,"app-pnp-control"),o.qZA(),o._UZ(8890,"input",2124))},directives:[Xr],styles:[".wrapper--blockly[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;background-color:#303131}.wrapper--blockly-editor[_ngcontent-%COMP%]{width:100%;height:100%}.collapse[_ngcontent-%COMP%], .expand[_ngcontent-%COMP%]{position:absolute;width:30px;height:120px;background-color:#fff;top:0;bottom:0;left:160px;margin:auto 0;border-top-right-radius:12px;border-bottom-right-radius:12px;background-color:#323232;cursor:pointer}.collapse.expand[_ngcontent-%COMP%], .expand.expand[_ngcontent-%COMP%]{left:0}.collapse[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .expand[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:120px;text-align:center;margin:0;font-size:24px;font-weight:bolder;color:#fff}"]}),e})();const ts=["wrapperCodeEditor"];let is=(()=>{class e{constructor(e){this.codeEditorSrv=e,this.loddingMode=!1}ngOnInit(){this.codeEditorSrv.init({id:this.wrapperCodeEditor.nativeElement.id})}}return e.\u0275fac=function(t){return new(t||e)(o.Y36(Li.hN))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-code-editor"]],viewQuery:function(e,t){if(1&e&&o.Gf(ts,7),2&e){let e;o.iGM(e=o.CRH())&&(t.wrapperCodeEditor=e.first)}},decls:2,vars:0,consts:[["id","wrapper_code_editor",1,"wrapper--code-editor"],["wrapperCodeEditor",""]],template:function(e,t){1&e&&o._UZ(0,"div",0,1)},styles:[".wrapper--code-editor[_ngcontent-%COMP%]{width:100%;height:100%}"]}),e})();function ns(e,t){if(1&e&&o._UZ(0,"img",3),2&e){const e=o.oxw();o.Q6J("src",e.imgSrc,o.LSH)}}let os=(()=>{class e{constructor(e,t,i,n,o){this.globalOperatorSrv=e,this.uploadSrv=t,this.sanitizer=i,this.storeSrv=n,this.translate=o}ngOnInit(){this.globalOperatorSrv.getMode().subscribe(e=>{if(e===Ei.IK.IMG){let e=this.globalOperatorSrv.getCacheImgName().source._value.file,t=this.globalOperatorSrv.getCacheImgName().source._value.dir,i=this.storeSrv.getCacheFileData().source._value;if(i){let n=i.findIndex(i=>i.file===e&&i.dir===t);-1!==n?(this.storeSrv.setSelectedFileData({dir:t,file:e,data:""}),this.storeSrv.fileLoading.next(!1),this.imgSrc=this.sanitizer.bypassSecurityTrustResourceUrl(i[n].data)):this.reloadImg(t,e)}else this.reloadImg(t,e)}})}reloadImg(e,t){let i=this.storeSrv.getCacheFileData().source._value;this.uploadSrv.reloadDirImg(e,t).subscribe(n=>{if(0===n.code&&""!==n.data&&"base64"===n.type){let o=`data:image/jpg;base64,${n.data.replace("/\n/g","")}`;this.imgSrc=this.sanitizer.bypassSecurityTrustResourceUrl(o),this.storeSrv.setSelectedFileData({dir:e,file:t,data:""}),i.push({dir:e,file:t,data:o}),this.storeSrv.setCacheFileData(i)}this.storeSrv.fileLoading.next(!1)},e=>{this.storeSrv.fileLoading.next(!1),this.globalOperatorSrv.setMode(Ei.IK.CODE),this.translate.get("REQUEST_ERROR").subscribe(e=>{this.globalOperatorSrv.createMessageBox().instance.error(e)}),this.storeSrv.connectStatus=Ei.hj.DISCONNECTED})}}return e.\u0275fac=function(t){return new(t||e)(o.Y36(Li.t0),o.Y36(Li.C7),o.Y36(L),o.Y36(Li.d6),o.Y36(bi.sK))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-file-img"]],decls:3,vars:1,consts:[[1,"wrapper--file-img"],[1,"file-img"],["alt","",3,"src",4,"ngIf"],["alt","",3,"src"]],template:function(e,t){1&e&&(o.TgZ(0,"div",0),o.TgZ(1,"div",1),o.YNc(2,ns,1,1,"img",2),o.qZA(),o.qZA()),2&e&&(o.xp6(2),o.Q6J("ngIf",null!=t.imgSrc))},directives:[n.O5],styles:[".wrapper--file-img[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;background-color:#1e1e1e;display:flex;justify-content:center;align-items:center;overflow:hidden}.file-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:auto;height:auto}"]}),e})();const rs=["alert_img"];function ss(e,t){if(1&e&&(o.TgZ(0,"span"),o._uU(1),o.qZA()),2&e){const e=t.$implicit;o.xp6(1),o.Oqu(e)}}function as(e,t){1&e&&o._UZ(0,"app-loading")}let ls=(()=>{class e{constructor(e,t,i){this.global=e,this.el=t,this.renderer2=i,this.Alert_Blockly={rs:[]},this.Alert_Blockly_Img=null,this.isImgLoading=!0,this.exampleVisibility=!1,this.languageList=Ei.bn}onMouseEnter(){(this.t||this.t1)&&(clearTimeout(this.t),clearTimeout(this.t1)),this.exampleVisibility=!0}onMouseLeave(){(this.t||this.t1)&&(clearTimeout(this.t),clearTimeout(this.t1)),this.t=setTimeout(()=>{this.exampleVisibility=!1,this.Alert_Blockly={rs:[]},this.Alert_Blockly_Img=null},2e3)}ngOnInit(){var e=this;this.global.getAlert().subscribe(t=>{let i;try{if(i=JSON.parse(t),i.rs.length<1||"underfund"==i.rs)return!1;if(!i||JSON.stringify(e.Alert_Blockly)===t)return!1;e.Alert_Blockly=i,e.Alert_Blockly_Img=null,this.exampleVisibility?(this.exampleVisibility=!1,this.t1&&clearTimeout(this.t),this.t1=setTimeout(()=>{this.exampleVisibility=!0},300)):this.exampleVisibility=!0,this.t&&clearTimeout(this.t),this.t=setTimeout(()=>{this.exampleVisibility=!1,e.Alert_Blockly={rs:[]},e.Alert_Blockly_Img=null},4e3)}catch(n){}},e=>{console.log(e)}),this.global.getAlertImg().subscribe(e=>{if(e){this.Alert_Blockly_Img=e,this.isImgLoading=!0;let t=this;this.alert_img&&(this.alert_img.nativeElement.onload=()=>{t.isImgLoading=!1},this.alert_img.nativeElement.complete&&(this.isImgLoading=!1))}})}hide_alert(){this.exampleVisibility=!1,this.Alert_Blockly={rs:[]},this.Alert_Blockly_Img=null}}return e.\u0275fac=function(t){return new(t||e)(o.Y36(Oi.t),o.Y36(o.SBq),o.Y36(o.Qsj))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-alert_blockly"]],viewQuery:function(e,t){if(1&e&&o.Gf(rs,5),2&e){let e;o.iGM(e=o.CRH())&&(t.alert_img=e.first)}},hostBindings:function(e,t){1&e&&o.NdJ("mouseenter",function(){return t.onMouseEnter()})("mouseleave",function(){return t.onMouseLeave()})},decls:10,vars:8,consts:[["component","toaster/tray",1,"alert-window"],["id","alert_button_1556100206650","component","toaster/toast","timeoutid","581",1,"alert","alert-dismissable","alert-writer","clearfix"],["type","button","data-dismiss","alert","aria-hidden","true",1,"close",3,"click"],[4,"ngFor","ngForOf"],[1,"alert_img"],[4,"ngIf"],["alt","",3,"src"],["alert_img",""]],template:function(e,t){1&e&&(o.TgZ(0,"div",0),o.TgZ(1,"div",1),o.TgZ(2,"button",2),o.NdJ("click",function(){return t.hide_alert()}),o._uU(3,"\xd7"),o.qZA(),o.TgZ(4,"p"),o.YNc(5,ss,2,1,"span",3),o.qZA(),o.TgZ(6,"div",4),o.YNc(7,as,1,0,"app-loading",5),o._UZ(8,"img",6,7),o.qZA(),o.qZA(),o.qZA()),2&e&&(o.Q6J("@alertAnim",t.exampleVisibility?"show":"hide"),o.xp6(5),o.Q6J("ngForOf",null==t.Alert_Blockly?null:t.Alert_Blockly.rs),o.xp6(1),o.ekj("show",t.Alert_Blockly_Img),o.xp6(1),o.Q6J("ngIf",t.isImgLoading),o.xp6(1),o.ekj("show",t.Alert_Blockly_Img&&!t.isImgLoading),o.s9C("src",t.Alert_Blockly_Img?"../../../assets/images/"+t.Alert_Blockly_Img:"",o.LSH))},directives:[n.sg,n.O5],styles:['@charset "UTF-8";.panel[_ngcontent-%COMP%]{position:relative;z-index:10000000000000002000000;box-shadow:10px;background-color:var(--bg-color);background-size:100% 100%}.alert_p[_ngcontent-%COMP%]{font-size:18px!important;display:flex;justify-content:center}.panel_div[_ngcontent-%COMP%], .alert_p[_ngcontent-%COMP%]{opacity:1}.alert_p[_ngcontent-%COMP%]{font-size:22px;color:red;padding:8px;border-radius:10px}*[_ngcontent-%COMP%]{margin:0;padding:0}.main[_ngcontent-%COMP%]{max-width:300px;min-width:150px;max-height:300px;min-height:100px;display:inline-block;color:#fff;line-height:28px;position:relative;padding:10px;-webkit-border-radius:5px;-moz-border-radius:5px;overflow:hidden}.main[_ngcontent-%COMP%]:before{content:" ";border-top:8px solid transparent;border-bottom:8px solid transparent;border-right:12px solid var(--bg-color);position:absolute;top:15px;left:-12px}.main[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{min-width:100%;max-width:100%;min-height:100%;max-height:100%;color:#fff;font-weight:10}.hide[_ngcontent-%COMP%]{position:relative;font-size:20px;right:-95%;top:-14px;cursor:pointer;color:#fff}.panel_div[_ngcontent-%COMP%]{position:relative}.div_p[_ngcontent-%COMP%]{position:relative;top:-10px;overflow:hidden;max-height:112px}.div_p[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{padding:0 6px;overflow:hidden;word-break:keep-all;word-break:break-all;word-wrap:break-word;font-size:14px}.alert[_ngcontent-%COMP%]{padding:15px;border:1px solid transparent;border-radius:0}.alert[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-top:0;color:inherit}.alert[_ngcontent-%COMP%] > p[_ngcontent-%COMP%], .alert[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%]{margin-bottom:0}.alert[_ngcontent-%COMP%] > p[_ngcontent-%COMP%] + p[_ngcontent-%COMP%]{margin-top:5px}.alert-dismissable[_ngcontent-%COMP%], .alert-dismissible[_ngcontent-%COMP%]{padding-right:35px}.alert-dismissable[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%], .alert-dismissible[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{position:relative;top:-2px;right:-21px;color:inherit}.modal[_ngcontent-%COMP%], .modal-backdrop[_ngcontent-%COMP%]{top:0;right:0;bottom:0;left:0}.alert-success[_ngcontent-%COMP%]{background-color:#dff0d8;border-color:#d6e9c6;color:#3c763d}.alert-success[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{border-top-color:#c9e2b3}.alert-success[_ngcontent-%COMP%]   .alert-link[_ngcontent-%COMP%]{color:#2b542c}.alert-info[_ngcontent-%COMP%]{background-color:#d9edf7;border-color:#bce8f1;color:#31708f}.alert-info[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{border-top-color:#a6e1ec}.alert-info[_ngcontent-%COMP%]   .alert-link[_ngcontent-%COMP%]{color:#245269}.alert-writer[_ngcontent-%COMP%]{background-color:#333;border-color:#4d4a4a;color:#e7e5e0}.alert-warning[_ngcontent-%COMP%]{background-color:#fcf8e3;border-color:#faebcc;color:#8a6d3b}.alert-warning[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{border-top-color:#f7e1b5}.alert-warning[_ngcontent-%COMP%]   .alert-link[_ngcontent-%COMP%]{color:#66512c}.alert-danger[_ngcontent-%COMP%]{background-color:#f2dede;border-color:#ebccd1;color:#a94442}.alert-danger[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{border-top-color:#e4b9c0}.alert-danger[_ngcontent-%COMP%]   .alert-link[_ngcontent-%COMP%]{color:#843534}.alert-window[_ngcontent-%COMP%]{position:fixed;min-width:300px;z-index:10002;right:20px;bottom:350px;cursor:pointer;overflow:hidden;font-family:Arial}.alert-window[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]{border:0;border-left:5px solid!important;box-shadow:-3px 5px 8px #b4b0b040,-5px 5px 8px #b4b0b040}.alert-window[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{text-transform:uppercase}.alert-window[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{display:table-cell}.alert-window[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;width:100%;line-height:24px;min-height:24px}.alert-window[_ngcontent-%COMP%]   .alert.alert-info[_ngcontent-%COMP%]{color:#fff;border-color:#fff}.alert-window[_ngcontent-%COMP%]   .alert.alert-warning[_ngcontent-%COMP%]{color:#ff6d00;border-color:#ff6d00}.alert-window[_ngcontent-%COMP%]   .alert.alert-success[_ngcontent-%COMP%]{color:#4caf50;border-color:#4caf50}.alert-window[_ngcontent-%COMP%]   .alert.alert-danger[_ngcontent-%COMP%]{color:#f44336;border-color:#f44336}.close[_ngcontent-%COMP%]{float:right;font-size:21px;line-height:1;color:#e8e8e8!important;background-color:#333;border:none;-moz-opacity:.5;opacity:.5;-ms-filter:progid:DXImageTransform.Microsoft.Alpha(opacity=(20));filter:alpha(opacity=20)}.alert-dismissible[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{position:relative;top:-2px;right:-21px;color:inherit}.close[_ngcontent-%COMP%]:focus, .close[_ngcontent-%COMP%]:hover{background-color:#333;color:#fff!important;text-decoration:none;cursor:pointer;-moz-opacity:.9;opacity:.9;-ms-filter:progid:DXImageTransform.Microsoft.Alpha(opacity=(50));filter:alpha(opacity=50)}.ng-tns-c9-1[_ngcontent-%COMP%]{min-height:75px;overflow:hidden;word-break:keep-all;word-break:break-all;word-wrap:break-word}.alert_img[_ngcontent-%COMP%]{visibility:hidden;height:0}.alert_img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{visibility:hidden;width:auto;height:300px}.alert_img[_ngcontent-%COMP%]   img.show[_ngcontent-%COMP%]{visibility:visible}.alert_img.show[_ngcontent-%COMP%]{visibility:visible;margin-top:10px;height:auto}app-loading[_ngcontent-%COMP%]{opacity:.5}'],data:{animation:[kr.y1]}}),e})();function cs(e,t){if(1&e&&(o.TgZ(0,"div",11),o.TgZ(1,"span",8),o._uU(2),o.qZA(),o.TgZ(3,"span",9),o._uU(4),o.qZA(),o.qZA()),2&e){const e=t.$implicit;o.xp6(2),o.hij(" ",e.key," "),o.xp6(2),o.Oqu(e.desc)}}function hs(e,t){if(1&e&&(o.O4$(),o.kcU(),o.TgZ(0,"div",6),o.TgZ(1,"div",7),o.TgZ(2,"span",8),o._uU(3,"Press this key"),o.qZA(),o.TgZ(4,"span",9),o._uU(5,"To do this"),o.qZA(),o.qZA(),o.YNc(6,cs,5,2,"div",10),o.qZA()),2&e){const e=o.oxw(2);o.xp6(6),o.Q6J("ngForOf",e.shortcutTipList)}}function us(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"div",1),o.TgZ(1,"span",2),o.NdJ("click",function(){return o.CHM(e),o.oxw().UIHELP.toggleShortcutTipShow()}),o.O4$(),o.TgZ(2,"svg",3),o._UZ(3,"path",4),o.qZA(),o.qZA(),o.YNc(4,hs,7,1,"div",5),o.qZA()}if(2&e){const e=o.oxw();o.xp6(4),o.Q6J("ngIf",e.UIHELP.shortcutTipShow)}}let ds=(()=>{class e{constructor(e){this.zrenderWorkspace=e,this.shortcutTipList=[{key:"Delete",desc:"remove UI component"},{key:"Arrow keys",desc:"move UI component"},{key:"Ctrl + Arrow keys",desc:"UI component move to edge"},{key:"Shift + Arrow keys (left, right)",desc:"change UI component width"},{key:"Shift + Arrow keys (up, down)",desc:"change UI component height (font)"}]}ngOnInit(){this.UIHELP=this.zrenderWorkspace}}return e.\u0275fac=function(t){return new(t||e)(o.Y36(Li._5))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-ui-shortcut-tip"]],decls:1,vars:1,consts:[["class","shortcut-tip",4,"ngIf"],[1,"shortcut-tip"],[1,"shortcut-icon",3,"click"],["t","1662100457741","viewBox","0 0 1097 1024","version","1.1","xmlns","http://www.w3.org/2000/svg","p-id","6253","width","200","height","200",1,"icon"],["d","M219.428571 667.428571v54.857143q0 9.142857-9.142857 9.142857h-54.857143q-9.142857 0-9.142857-9.142857v-54.857143q0-9.142857 9.142857-9.142857h54.857143q9.142857 0 9.142857 9.142857z m73.142858-146.285714v54.857143q0 9.142857-9.142858 9.142857H155.428571q-9.142857 0-9.142857-9.142857v-54.857143q0-9.142857 9.142857-9.142857h128q9.142857 0 9.142858 9.142857zM219.428571 374.857143v54.857143q0 9.142857-9.142857 9.142857h-54.857143q-9.142857 0-9.142857-9.142857v-54.857143q0-9.142857 9.142857-9.142857h54.857143q9.142857 0 9.142857 9.142857z m585.142858 292.571428v54.857143q0 9.142857-9.142858 9.142857H301.714286q-9.142857 0-9.142857-9.142857v-54.857143q0-9.142857 9.142857-9.142857h493.714285q9.142857 0 9.142858 9.142857zM438.857143 521.142857v54.857143q0 9.142857-9.142857 9.142857h-54.857143q-9.142857 0-9.142857-9.142857v-54.857143q0-9.142857 9.142857-9.142857h54.857143q9.142857 0 9.142857 9.142857zM365.714286 374.857143v54.857143q0 9.142857-9.142857 9.142857h-54.857143q-9.142857 0-9.142857-9.142857v-54.857143q0-9.142857 9.142857-9.142857h54.857143q9.142857 0 9.142857 9.142857z m219.428571 146.285714v54.857143q0 9.142857-9.142857 9.142857h-54.857143q-9.142857 0-9.142857-9.142857v-54.857143q0-9.142857 9.142857-9.142857h54.857143q9.142857 0 9.142857 9.142857zM512 374.857143v54.857143q0 9.142857-9.142857 9.142857h-54.857143q-9.142857 0-9.142857-9.142857v-54.857143q0-9.142857 9.142857-9.142857h54.857143q9.142857 0 9.142857 9.142857z m219.428571 146.285714v54.857143q0 9.142857-9.142857 9.142857h-54.857143q-9.142857 0-9.142857-9.142857v-54.857143q0-9.142857 9.142857-9.142857h54.857143q9.142857 0 9.142857 9.142857z m219.428572 146.285714v54.857143q0 9.142857-9.142857 9.142857h-54.857143q-9.142857 0-9.142857-9.142857v-54.857143q0-9.142857 9.142857-9.142857h54.857143q9.142857 0 9.142857 9.142857z m-292.571429-292.571428v54.857143q0 9.142857-9.142857 9.142857h-54.857143q-9.142857 0-9.142857-9.142857v-54.857143q0-9.142857 9.142857-9.142857h54.857143q9.142857 0 9.142857 9.142857z m146.285715 0v54.857143q0 9.142857-9.142858 9.142857h-54.857142q-9.142857 0-9.142858-9.142857v-54.857143q0-9.142857 9.142858-9.142857h54.857142q9.142857 0 9.142858 9.142857z m146.285714 0v201.142857q0 9.142857-9.142857 9.142857h-128q-9.142857 0-9.142857-9.142857v-54.857143q0-9.142857 9.142857-9.142857h64V374.857143q0-9.142857 9.142857-9.142857h54.857143q9.142857 0 9.142857 9.142857z m73.142857 429.714286V292.571429H73.142857v512h950.857143z m73.142857-512v512q0 30.285714-21.428571 51.714285T1024 877.714286H73.142857q-30.285714 0-51.714286-21.428572T0 804.571429V292.571429q0-30.285714 21.428571-51.714286T73.142857 219.428571h950.857143q30.285714 0 51.714286 21.428572T1097.142857 292.571429z","p-id","6254","fill","#ffffff"],["class","shortcut-tip-text",4,"ngIf"],[1,"shortcut-tip-text"],[1,"shortcut-tip-title"],[1,"shortcut-key"],[1,"shortcut-desc"],["class","shortcut-tip-list",4,"ngFor","ngForOf"],[1,"shortcut-tip-list"]],template:function(e,t){1&e&&o.YNc(0,us,5,1,"div",0),2&e&&o.Q6J("ngIf",t.UIHELP.shortcutShow)},directives:[n.O5,n.sg],styles:['.shortcut-tip[_ngcontent-%COMP%]{position:absolute;left:0px;bottom:80px}.shortcut-tip[_ngcontent-%COMP%]   .shortcut-icon[_ngcontent-%COMP%]{box-sizing:border-box;cursor:pointer}.shortcut-tip[_ngcontent-%COMP%]   .shortcut-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:38px;height:38px;padding:4px}.shortcut-tip[_ngcontent-%COMP%]   .shortcut-tip-text[_ngcontent-%COMP%]{position:absolute;top:-175px;left:50px;padding:12px;width:510px;line-height:2em;border-radius:10px;background-color:#505050;color:#fff;z-index:999999;-webkit-animation:fadeIn .4s linear;animation:fadeIn .4s linear}.shortcut-tip[_ngcontent-%COMP%]   .shortcut-tip-text[_ngcontent-%COMP%]:before{content:"";position:absolute;left:-21px;top:183px;width:0;height:0;border:11px solid;border-color:transparent #505050 transparent transparent}.shortcut-tip[_ngcontent-%COMP%]   .shortcut-tip-text[_ngcontent-%COMP%]   .shortcut-tip-title[_ngcontent-%COMP%]{display:flex;border-radius:5px;background-color:#404040}.shortcut-tip[_ngcontent-%COMP%]   .shortcut-tip-text[_ngcontent-%COMP%]   .shortcut-tip-list[_ngcontent-%COMP%]{display:flex;border-bottom:1px #707070 solid}.shortcut-tip[_ngcontent-%COMP%]   .shortcut-tip-text[_ngcontent-%COMP%]   .shortcut-key[_ngcontent-%COMP%]{width:230px;padding:0 8px}.shortcut-tip[_ngcontent-%COMP%]   .shortcut-tip-text[_ngcontent-%COMP%]   .shortcut-desc[_ngcontent-%COMP%]{flex:1}@-webkit-keyframes fadeIn{0%{opacity:0}to{opacity:1}}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}']}),e})();function ps(e,t){1&e&&(o.TgZ(0,"div",5),o.TgZ(1,"span"),o._uU(2,"Firmware Tips"),o.qZA(),o.qZA())}function gs(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"div",1),o.NdJ("mouseover",function(){return o.CHM(e),o.oxw().handleTipTextShow()})("mouseleave",function(){return o.CHM(e),o.oxw().handleTipTextHide()}),o.TgZ(1,"span",2),o.NdJ("click",function(){return o.CHM(e),o.oxw().handleTipShow()}),o._UZ(2,"img",3),o.qZA(),o.YNc(3,ps,3,0,"div",4),o.qZA()}if(2&e){const e=o.oxw();o.xp6(3),o.Q6J("ngIf",e.UIHELP.firmwareTipTextShow)}}let fs=(()=>{class e{constructor(e){this.zrenderWorkspace=e}ngOnInit(){this.UIHELP=this.zrenderWorkspace}handleTipShow(){Er().fire({title:"Firmware Tips",html:'\n        <p style="font-size: 1.3em">Please use the following firmware for atom display device.</p>\n        <div style="margin-top: 10px">\n          <img src="../../assets/images/atom_display_tip.png" width="800" height="300"></img>\n        </div>\n      ',customClass:{popup:"swal2-popup-width"},showConfirmButton:!0,confirmButtonText:"OK",confirmButtonColor:window.Blockly.Msg.SWAL_PRIMARY_HUE})}handleTipTextShow(){this.UIHELP.firmwareTipTextShow=!0}handleTipTextHide(){this.UIHELP.firmwareTipTextShow=!1}}return e.\u0275fac=function(t){return new(t||e)(o.Y36(Li._5))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-firmware-tip"]],decls:1,vars:1,consts:[["class","firmware-tip",3,"mouseover","mouseleave",4,"ngIf"],[1,"firmware-tip",3,"mouseover","mouseleave"],[1,"firmware-tip-icon",3,"click"],["src","../../../assets/images/icon-tips.png","alt","tips"],["class","firmware-tip-text",4,"ngIf"],[1,"firmware-tip-text"]],template:function(e,t){1&e&&o.YNc(0,gs,4,1,"div",0),2&e&&o.Q6J("ngIf",t.UIHELP.firmwareTipShow)},directives:[n.O5],styles:['.firmware-tip[_ngcontent-%COMP%]{position:absolute;left:360px;top:55px;cursor:pointer}.firmware-tip[_ngcontent-%COMP%]   .firmware-tip-text[_ngcontent-%COMP%]{position:absolute;top:45px;left:-44px;padding:8px;width:130px;line-height:1em;font-size:1.1em;text-align:center;border-radius:10px;background-color:hsl(calc(var(--main-hue) + 167),100%,62%);color:#fff;z-index:999999;-webkit-animation:fadeIn .4s linear;animation:fadeIn .4s linear}.firmware-tip[_ngcontent-%COMP%]   .firmware-tip-text[_ngcontent-%COMP%]:before{content:"";position:absolute;left:50px;top:-20px;width:0;height:0;border:11px solid;border-color:transparent transparent hsl(calc(var(--main-hue) + 167),100%,62%) transparent}@-webkit-keyframes fadeIn{0%{opacity:0}to{opacity:1}}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}']}),e})();var ms=i(22e3),_s=i(13479);const vs=["wrapperPropertyPanel"];function ys(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"tr",8),o.TgZ(1,"app-property-item",9),o.NdJ("changePropertyEmitter",function(t){return o.CHM(e),o.oxw().changePropertyHandler(t)})("updateImgEmitter",function(t){return o.CHM(e),o.oxw().updateImgHandler(t)})("changeToDefaultImgEmitter",function(){return o.CHM(e),o.oxw().changeToDefaultImgHandler()}),o.qZA(),o.qZA()}if(2&e){const e=t.$implicit,i=o.oxw();o.xp6(1),o.Q6J("propertyItem",e)("selectedComponent",i.selectedComponent)}}let bs=(()=>{class e{constructor(e,t,i,n,o){this.globalOperatorSrv=e,this.zrenderHelpsrv=t,this.zrenderHelperSrvmb=i,this.rd2=n,this.storeSrv=o,this.offsetX=20,this.headerHeight=48,this.selectedComponent=null,this.selectedComponentProperty=[],this.selectedComponent$=this.globalOperatorSrv.getSelectedComponent(),this.UIHELP=this.globalOperatorSrv.ismb?this.zrenderHelperSrvmb:this.zrenderHelpsrv}ngOnInit(){this.globalOperatorSrv.getSelectedComponent().subscribe(e=>{if(null===e)return;if(this.selectedComponent=e,this.selectedComponent.type===Ei.Eq.SCREEN||this.selectedComponent.type===Ei.Eq.BUTTON?this.selectedComponentProperty=e.getAllProps():(sessionStorage.getItem("_type"),this.selectedComponentProperty=e.getAllProps().slice(3)),"stick"==this.storeSrv.getType().source._value)for(var t=0;t<this.selectedComponentProperty.length;t++)"rotation"in this.selectedComponentProperty[t]&&this.selectedComponentProperty.splice(t,1);let i=this.UIHELP.screenOffsetX,n=this.UIHELP.screenOffsetY;if(this.globalOperatorSrv.ismb)this.wrapperPropertyPanel.nativeElement.style.left="calc(50% - 30px)",this.wrapperPropertyPanel.nativeElement.style.top="90px";else switch(e.type){case Ei.Eq.TITLE:case Ei.Eq.LABEL:case Ei.Eq.CIRCLE:case Ei.Eq.RECTANGLE:case Ei.Eq.TRIANGLE:case Ei.Eq.LINE:case Ei.Eq.IMAGE:case Ei.Eq.BUTTON2:case Ei.Eq.SWITCH:case Ei.Eq.SLIDER:case Ei.Eq.BAR:case Ei.Eq.CHECKBOX:case Ei.Eq.LABELPLUS:case Ei.Eq.IMAGEPLUS:case Ei.Eq.GRAPH:case Ei.Eq.BARGRAPH:this.wrapperPropertyPanel.nativeElement.style.left=(this.offsetX+i+(0,no.tE)(sessionStorage.getItem("_type")).W*this.UIHELP.eRatio)*this.UIHELP.scaleRatio+"px",this.wrapperPropertyPanel.nativeElement.style.top=(e.y*this.UIHELP.eRatio+n+this.headerHeight)*this.UIHELP.scaleRatio+"px";break;case Ei.Eq.SCREEN:this.wrapperPropertyPanel.nativeElement.style.left=(e.x+this.offsetX+i+(0,no.tE)(sessionStorage.getItem("_type")).W*this.UIHELP.eRatio)*this.UIHELP.scaleRatio+"px",this.wrapperPropertyPanel.nativeElement.style.top=(e.y+n+this.headerHeight)*this.UIHELP.scaleRatio+"px";break;case Ei.Eq.BUTTON:this.wrapperPropertyPanel.nativeElement.style.left=-(e.x+i)*this.UIHELP.scaleRatio+"px",this.wrapperPropertyPanel.nativeElement.style.top=-(e.y+n+this.headerHeight+90)*this.UIHELP.scaleRatio+"px";break;default:this.wrapperPropertyPanel.nativeElement.style.display="none"}})}stopPropagation(e){e.stopPropagation()}changePropertyHandler(e){null!==this.selectedComponent&&(this.selectedComponent.setProp(e.key,"x"===e.key||"y"===e.key||"x1"===e.key||"y1"===e.key||"x2"===e.key||"y2"===e.key||"x3"===e.key||"y3"===e.key||"width"==e.key||"height"===e.key||"rotation"===e.key||"layer"===e.key||e.key===Ei.pA.IMAGE_THRESHOLD?1*e.value:e.value),e.key!==Ei.pA.IMAGE_PATH&&this.UIHELP.updateSvg(this.selectedComponent,e.key,e.value))}updateImgHandler(e){let t=sessionStorage.getItem("_type"),i=document.createElement("img");i.onload=()=>{document.body.appendChild(i);let n=i.width-0,o=i.height-0;i.style.display="none",t!=Ei.__.ATOM_DISPLAY&&((0,no.Ax)(e,this.selectedComponent,e=>{this.UIHELP.updateSvg(this.selectedComponent,Ei.pA.IMAGE_PATH,e),this.UIHELP.updateSvg(this.selectedComponent,Ei.pA.IMAGE_WIDTH,n),this.UIHELP.updateSvg(this.selectedComponent,Ei.pA.IMAGE_HEIGHT,o),this.selectedComponent.componentSvg.dirty(),this.selectedComponent.componentSvg._image.onload=()=>{this.selectedComponent.componentSvg.dirty()},this.selectedComponent.componentSvg._image.src=this.selectedComponent.componentSvg.style.image}),document.body.removeChild(i))},i.src=`${e}`}changeToDefaultImgHandler(){let e=sessionStorage.getItem("_type")===Ei.__.CORETWO||sessionStorage.getItem("_type")==Ei.__.TOUGH?"default.png":"default.jpg",t=(0,no.qU)(sessionStorage.getItem("_type")).img;this.selectedComponent.setProp(Ei.pA.IMAGE_PATH,e),(0,no.Ax)(t,this.selectedComponent,e=>{this.UIHELP.updateSvg(this.selectedComponent,Ei.pA.IMAGE_PATH,e),this.selectedComponent.componentSvg.dirty(),this.selectedComponent.componentSvg._image.onload=()=>{this.selectedComponent.componentSvg.dirty()},this.selectedComponent.componentSvg._image.src=this.selectedComponent.componentSvg.style.image})}close(){this.rd2.removeClass(this.wrapperPropertyPanel.nativeElement,"show")}}return e.\u0275fac=function(t){return new(t||e)(o.Y36(Li.t0),o.Y36(Bi._),o.Y36(Li.j),o.Y36(o.Qsj),o.Y36(ms.d))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-property-panel"]],viewQuery:function(e,t){if(1&e&&o.Gf(vs,5),2&e){let e;o.iGM(e=o.CRH())&&(t.wrapperPropertyPanel=e.first)}},decls:12,vars:8,consts:[[1,"wrapper--property--panel",3,"mousedown"],["wrapperPropertyPanel",""],[1,"header"],[1,"property","name"],[1,"close",3,"click"],["width","16px","height","16.00px","viewBox","0 0 1024 1024","version","1.1","xmlns","http://www.w3.org/2000/svg",1,"icon"],["fill","#515151","d","M958.356218 161.6398l-97.56565-97.563052L511.17061 413.691709 161.550453 64.076748 63.989399 161.6398 413.60456 511.260357 63.989399 860.880515l97.561054 97.557656 349.620158-349.606167 349.620158 349.606167 97.56565-97.557656L608.741257 511.260357 958.356218 161.6398z"],["class","wrapper-property",4,"ngFor","ngForOf"],[1,"wrapper-property"],[3,"propertyItem","selectedComponent","changePropertyEmitter","updateImgEmitter","changeToDefaultImgEmitter"]],template:function(e,t){if(1&e&&(o.TgZ(0,"div",0,1),o.NdJ("mousedown",function(e){return t.stopPropagation(e)}),o.ALo(2,"async"),o.TgZ(3,"div",2),o.TgZ(4,"p",3),o._uU(5),o.ALo(6,"async"),o.qZA(),o.TgZ(7,"span",4),o.NdJ("click",function(){return t.close()}),o.O4$(),o.TgZ(8,"svg",5),o._UZ(9,"path",6),o.qZA(),o.qZA(),o.qZA(),o.kcU(),o.TgZ(10,"table"),o.YNc(11,ys,2,2,"tr",7),o.qZA(),o.qZA()),2&e){let e;o.ekj("show",null!==o.lcZ(2,4,t.selectedComponent$)),o.xp6(5),o.Oqu(null==(e=o.lcZ(6,6,t.selectedComponent$))?null:e.name),o.xp6(6),o.Q6J("ngForOf",t.selectedComponentProperty)}},directives:[n.sg,_s.g],pipes:[n.Ov],styles:[".wrapper--property--panel[_ngcontent-%COMP%]{display:none;position:absolute;top:0;left:0;background-color:#ffffffe0;border:1px solid #666;z-index:1000001;padding:8px;border-radius:5px}.wrapper--property--panel.show[_ngcontent-%COMP%]{display:block}.header[_ngcontent-%COMP%]{display:flex}.header[_ngcontent-%COMP%]   .property.name[_ngcontent-%COMP%]{flex:1;font-size:22px;font-family:Arial}.header[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{padding-left:20px}.copy[_ngcontent-%COMP%]{color:#36f;font-size:21px}"]}),e})();const ws=["wrapperPropertyPanel"];function As(e,t){if(1&e&&(o.TgZ(0,"option",9),o._uU(1),o.qZA()),2&e){const e=t.$implicit,i=o.oxw(2);o.s9C("value",e),o.xp6(1),o.AsE("",e," ",i.pinMap[e],"")}}function xs(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"tr"),o.TgZ(1,"td"),o.TgZ(2,"span"),o._uU(3,"SDA/TX"),o.qZA(),o.qZA(),o.TgZ(4,"td"),o.TgZ(5,"input",10),o.NdJ("input",function(t){return o.CHM(e),o.oxw(2).setPort(0,t)}),o.ALo(6,"async"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(7,"tr"),o.TgZ(8,"td"),o.TgZ(9,"span"),o._uU(10,"SCL/RX"),o.qZA(),o.qZA(),o.TgZ(11,"td"),o.TgZ(12,"input",11),o.NdJ("input",function(t){return o.CHM(e),o.oxw(2).setPort(1,t)}),o.ALo(13,"async"),o.qZA(),o.qZA(),o.qZA()}if(2&e){const e=o.oxw(2);let t,i;o.xp6(5),o.Q6J("value",null==(t=o.lcZ(6,2,e.selectedUnit$))?null:t.user_port[0]),o.xp6(7),o.Q6J("value",null==(i=o.lcZ(13,4,e.selectedUnit$))?null:i.user_port[1])}}function Ts(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"tr"),o.TgZ(1,"td"),o.TgZ(2,"span"),o._uU(3),o.ALo(4,"translate"),o.qZA(),o.qZA(),o.TgZ(5,"td"),o.TgZ(6,"input",11),o.NdJ("input",function(t){return o.CHM(e),o.oxw(2).setUnitCount(t)}),o.ALo(7,"async"),o.qZA(),o.qZA(),o.qZA()}if(2&e){const e=o.oxw(2);let t;o.xp6(3),o.Oqu(o.lcZ(4,2,"COUNT")),o.xp6(3),o.Q6J("value",null==(t=o.lcZ(7,4,e.selectedUnit$))?null:t.count)}}function Cs(e,t){if(1&e&&(o.TgZ(0,"option",9),o._uU(1),o.qZA()),2&e){const e=t.$implicit;o.s9C("value",e),o.xp6(1),o.Oqu(e)}}function Zs(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"tr"),o.TgZ(1,"td"),o.TgZ(2,"span"),o._uU(3),o.ALo(4,"translate"),o.qZA(),o.qZA(),o.TgZ(5,"td"),o.TgZ(6,"select",5),o.NdJ("change",function(t){return o.CHM(e),o.oxw(2).setUnitMode(t)}),o.YNc(7,Cs,2,2,"option",6),o.qZA(),o.qZA(),o.qZA()}if(2&e){const e=o.oxw(2);o.xp6(3),o.Oqu(o.lcZ(4,3,"MODE")),o.xp6(3),o.Q6J("formControlName","mode"),o.xp6(1),o.Q6J("ngForOf",null==e.unit?null:e.unit.modeOption)}}function ks(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"tr"),o.TgZ(1,"td"),o.TgZ(2,"span"),o._uU(3,"Address"),o.qZA(),o.qZA(),o.TgZ(4,"td"),o.TgZ(5,"input",12),o.NdJ("input",function(t){return o.CHM(e),o.oxw(2).setUnitAddress(t)}),o.ALo(6,"async"),o.qZA(),o.qZA(),o.qZA()}if(2&e){const e=o.oxw(2);let t;o.xp6(5),o.Q6J("value",null==(t=o.lcZ(6,1,e.selectedUnit$))?null:t.address)}}function Ss(e,t){if(1&e&&(o.TgZ(0,"option",9),o._uU(1),o.qZA()),2&e){const e=t.$implicit;o.s9C("value",e),o.xp6(1),o.hij("PAHUB",e,"")}}function Es(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"tr"),o.TgZ(1,"td"),o.TgZ(2,"span"),o._uU(3,"PAHUB"),o.qZA(),o.qZA(),o.TgZ(4,"td"),o.TgZ(5,"select",5),o.NdJ("change",function(t){return o.CHM(e),o.oxw(3).setUnitPb_Port(t)}),o.YNc(6,Ss,2,2,"option",6),o.qZA(),o.qZA(),o.qZA()}if(2&e){const e=o.oxw(3);o.xp6(5),o.Q6J("formControlName","new_pb_port"),o.xp6(1),o.Q6J("ngForOf",null==e.unit?null:e.unit.pb_port)}}function Ms(e,t){if(1&e&&(o.YNc(0,Es,7,2,"tr",4),o.ALo(1,"async")),2&e){const e=o.oxw(2);let t;o.Q6J("ngIf","PAHUB"==(null==(t=o.lcZ(1,1,e.selectedUnit$))?null:t.port))}}function Os(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"table"),o.TgZ(1,"tr"),o.TgZ(2,"td"),o.TgZ(3,"span"),o._uU(4),o.ALo(5,"translate"),o.qZA(),o.qZA(),o.TgZ(6,"td"),o.TgZ(7,"select",5),o.NdJ("change",function(t){return o.CHM(e),o.oxw().setUnitPort(t)}),o.YNc(8,As,2,3,"option",6),o.qZA(),o.qZA(),o.qZA(),o.YNc(9,xs,14,6,"ng-template",7),o.ALo(10,"async"),o.YNc(11,Ts,8,6,"tr",4),o.ALo(12,"async"),o.ALo(13,"async"),o.YNc(14,Zs,8,5,"tr",4),o.ALo(15,"async"),o.YNc(16,ks,7,3,"tr",4),o.ALo(17,"async"),o.YNc(18,Ms,2,3,"ng-template",null,8,o.W1O),o.qZA()}if(2&e){const e=o.MAs(19),t=o.oxw();let i,n,r,s;o.xp6(4),o.Oqu(o.lcZ(5,8,"PORT")),o.xp6(3),o.Q6J("formControlName","port"),o.xp6(1),o.Q6J("ngForOf",t.iscore?null==t.unit?null:t.unit.default:null==t.unit?null:t.unit.new_default),o.xp6(1),o.Q6J("ngIf","Custom"===(null==(i=o.lcZ(10,10,t.selectedUnit$))?null:i.port))("ngIfElse",e),o.xp6(2),o.Q6J("ngIf","neopixel"===(null==(n=o.lcZ(12,12,t.selectedUnit$))?null:n.type)||"neco"===(null==(n=o.lcZ(13,14,t.selectedUnit$))?null:n.type)),o.xp6(3),o.Q6J("ngIf","ir"===(null==(r=o.lcZ(15,16,t.selectedUnit$))?null:r.type)),o.xp6(2),o.Q6J("ngIf","pahub"===(null==(s=o.lcZ(17,18,t.selectedUnit$))?null:s.type))}}let Is=(()=>{class e{constructor(e,t,i,n){this.globalOperatorSrv=e,this.zrenderHelperSrv=t,this.codeEditorSrv=i,this.storeSrv=n,this.offsetX=88,this.offsetY=482,this.unit={port:"A",default:["A","B","C"]},this.show=0,this.isunit=!0,this.isStamp=!1,this.form=new Ai.cw({port:new Ai.NI(""),mode:new Ai.NI(""),new_pb_port:new Ai.NI("")}),this.selectedUnit$=this.globalOperatorSrv.getSelectedUnit()}ngOnInit(){this.storeSrv.getIsUnit().subscribe(e=>{this.isunit=e}),this.storeSrv.getIsStamp().subscribe(e=>{this.isStamp=e}),this.storeSrv.getType().subscribe(e=>{this.pinMap=(0,no.EH)(e||"core"),this.iscore="core"==e||"fire"===e;let t=1===this.zrenderHelperSrv.scaleRatio?10:20;this.offsetY=e===Ei.__.M5STATION?730:482,this.globalOperatorSrv.getSelectedUnit().subscribe(i=>{this.isStamp||null!==i&&(this.setUnit(i,e),this.selectedUnit$=this.globalOperatorSrv.getSelectedUnit(),this.storeSrv.getIsUnit().source._value?(this.wrapperPropertyPanel.nativeElement.style.left=(i.unitSvg.position[0]+this.offsetX+10-0)*this.zrenderHelperSrv.scaleRatio+"px",this.wrapperPropertyPanel.nativeElement.style.top=(i.unitSvg.position[1]+this.offsetY+128-30)*this.zrenderHelperSrv.scaleRatio+t+"px"):(this.wrapperPropertyPanel.nativeElement.style.left=(i.hatSvg.position[0]+this.offsetX+10-0)*this.zrenderHelperSrv.scaleRatio+"px",this.wrapperPropertyPanel.nativeElement.style.top=(i.hatSvg.position[1]+this.offsetY+128-30)*this.zrenderHelperSrv.scaleRatio+t+"px"))}),this.globalOperatorSrv.getSelectedStamp().subscribe(i=>{this.isunit||null!==i&&(this.setUnit(i,e),this.selectedUnit$=this.globalOperatorSrv.getSelectedStamp(),this.wrapperPropertyPanel.nativeElement.style.left=(i.stampSvg.position[0]+this.offsetX+10-0)*this.zrenderHelperSrv.scaleRatio+"px",this.wrapperPropertyPanel.nativeElement.style.top=(i.stampSvg.position[1]+this.offsetY+128-30)*this.zrenderHelperSrv.scaleRatio+t+"px")})})}setUnit(e,t){e.new_port=e.port,t===Ei.__.CORETWO||t===Ei.__.TOUGH?(e.new_default=e.default,-1===e.new_default.findIndex(e=>"A"===e)&&e.new_default.unshift("A")):e.new_default=t===Ei.__.PAPER?e.default.filter(e=>"D"!==e&&"E"!==e):t===Ei.__.M5STATION||this.iscore?e.default:e.default.filter(e=>"A"==e||e===Ei.Kt||"PAHUB"==e),this.unit=e,this.setForm(e)}setForm(e){let t={};e.hasOwnProperty("port")&&(t.port=new Ai.NI(this.iscore?null==e?void 0:e.port:null==e?void 0:e.new_port)),e.hasOwnProperty("mode")&&(t.mode=new Ai.NI(e.mode)),e.hasOwnProperty("pb_port")&&(t.new_pb_port=new Ai.NI(null==e?void 0:e.new_pb_port)),this.form=new Ai.cw(t)}stopPropagation(e){e.stopPropagation()}setUnitPort(e){this.unit?(this.isunit?(this.globalOperatorSrv.selectedUnit.value.port=e.target.value,this.globalOperatorSrv.selectedUnit.value.new_port=e.target.value):(this.globalOperatorSrv.selectedStamp.value.port=e.target.value,this.globalOperatorSrv.selectedStamp.value.new_port=e.target.value),e.target.value===Ei.Kt&&(this.isunit?this.globalOperatorSrv.selectedUnit.value.user_port=Ei.E$:this.globalOperatorSrv.selectedStamp.value.user_port=Ei.E$)):this.globalOperatorSrv.selectedHat.value.port=e.target.value,this.globalOperatorSrv.codeLock.value||this.codeEditorSrv.updateWorkspaceValue()}setUnitCount(e){let t=e.target.value;"0"!==t&&(t=t.replace(/^0+/g,""));let i=/^\d*$/g.test(t);""!==t&&t>=0&&i?(this.checkPatten(e.target,!1),this.storeSrv.getIsUnit().source._value?this.globalOperatorSrv.selectedUnit.value.count=+t:this.globalOperatorSrv.selectedHat.value.count=+t,this.globalOperatorSrv.codeLock.value||this.codeEditorSrv.updateWorkspaceValue()):this.checkPatten(e.target,!0)}setUnitMode(e){this.globalOperatorSrv.selectedUnit.value.mode=e.target.value,this.globalOperatorSrv.codeLock.value||this.codeEditorSrv.updateWorkspaceValue()}setUnitAddress(e){this.globalOperatorSrv.selectedUnit.value.address=e.target.value,this.globalOperatorSrv.codeLock.value||this.codeEditorSrv.updateWorkspaceValue()}setUnitPb_Port(e){this.isunit?this.globalOperatorSrv.selectedUnit.value.new_pb_port=e.target.value:this.globalOperatorSrv.selectedStamp.value.new_pb_port=e.target.value,this.globalOperatorSrv.codeLock.value||this.codeEditorSrv.updateWorkspaceValue()}delete(e){}setPort(e,t){let i=t.target.value;"0"!==i&&(i=i.replace(/^0+/g,""));let n=/^\d*$/g.test(i);if(""===i||!(i<0)&&n)if(""===i){if(e&&""===this.unit.user_port[0]||!e&&""===this.unit.user_port[1])return void this.checkPatten(t.target,!0);this.updatePort(e,i),this.checkPatten(t.target,!1)}else this.updatePort(e,i),this.checkPatten(t.target,!1);else this.checkPatten(t.target,!0)}updatePort(e,t){let i=e?[this.unit.user_port[0],t]:[t,this.unit.user_port[1]];this.isunit?this.globalOperatorSrv.selectedUnit.value.user_port=i:this.globalOperatorSrv.selectedStamp.value.user_port=i,this.globalOperatorSrv.codeLock.value||this.codeEditorSrv.updateWorkspaceValue()}checkPatten(e,t){t?e.classList.add("patten"):e.classList.remove("patten")}}return e.\u0275fac=function(t){return new(t||e)(o.Y36(Li.t0),o.Y36(Bi._),o.Y36(Li.hN),o.Y36(ms.d))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-unit-property-panel"]],viewQuery:function(e,t){if(1&e&&o.Gf(ws,5),2&e){let e;o.iGM(e=o.CRH())&&(t.wrapperPropertyPanel=e.first)}},decls:8,vars:9,consts:[[1,"wrapper--property--panel",3,"mousedown"],["wrapperPropertyPanel",""],[1,"property","name"],[3,"formGroup"],[4,"ngIf"],[3,"formControlName","change"],[3,"value",4,"ngFor","ngForOf"],[3,"ngIf","ngIfElse"],["noUser",""],[3,"value"],["type","number","spellcheck","false",1,"userInput",3,"value","input"],["type","number","spellcheck","false",3,"value","input"],["type","string","spellcheck","false",3,"value","input"]],template:function(e,t){if(1&e&&(o.TgZ(0,"div",0,1),o.NdJ("mousedown",function(e){return t.stopPropagation(e)}),o.ALo(2,"async"),o.TgZ(3,"p",2),o._uU(4),o.ALo(5,"async"),o.qZA(),o.TgZ(6,"form",3),o.YNc(7,Os,20,20,"table",4),o.qZA(),o.qZA()),2&e){let e;o.ekj("show",null!==o.lcZ(2,5,t.selectedUnit$)),o.xp6(4),o.Oqu(null==(e=o.lcZ(5,7,t.selectedUnit$))?null:e.name),o.xp6(2),o.Q6J("formGroup",t.form),o.xp6(1),o.Q6J("ngIf",0==t.show)}},directives:[Ai._Y,Ai.JL,Ai.sg,n.O5,Ai.EJ,Ai.JJ,Ai.u,n.sg,Ai.YN,Ai.Kr],pipes:[n.Ov,bi.X$],styles:[".wrapper--property--panel[_ngcontent-%COMP%]{display:none;position:absolute;top:0;left:0;background-color:#ffffffe0;border:1px solid #666;z-index:1000001;padding:8px}.wrapper--property--panel.show[_ngcontent-%COMP%]{display:block}.property.name[_ngcontent-%COMP%]{font-size:22px;font-family:Arial}table[_ngcontent-%COMP%]{width:140px;margin-top:8px;font-family:Arial}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{width:100px;text-align:right}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:80px}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   input.patten[_ngcontent-%COMP%]{border:1px solid red;outline:1px solid red}.delete[_ngcontent-%COMP%]{width:100px;text-align:center;cursor:pointer}.userInput[_ngcontent-%COMP%]{margin-bottom:1px}"]}),e})();const Ps=["fileManager"],Rs=["headerBtn"],qs=["managerList"];function Ls(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"li",17),o.TgZ(1,"div",18),o.NdJ("click",function(){const t=o.CHM(e).$implicit;return o.oxw(2).openFile("null",t)}),o.ALo(2,"async"),o.ALo(3,"async"),o.TgZ(4,"span"),o.ALo(5,"async"),o.ALo(6,"async"),o.ALo(7,"async"),o._uU(8),o.qZA(),o.TgZ(9,"span",19),o.NdJ("click",function(t){const i=o.CHM(e).$implicit;return o.oxw(2).deleteFile("null",i,t)}),o.qZA(),o.qZA(),o.qZA()}if(2&e){const e=t.$implicit,i=o.oxw(2);let n,r;o.xp6(1),o.ekj("active","null"===(null==(n=o.lcZ(2,5,i.selectedFile$))?null:n.dir)&&(null==(n=o.lcZ(3,7,i.selectedFile$))?null:n.file)===e),o.xp6(3),o.ekj("isEdit","null"===(null==(r=o.lcZ(5,9,i.selectedFile$))?null:r.dir)&&(null==(r=o.lcZ(6,11,i.selectedFile$))?null:r.file)===e&&o.lcZ(7,13,i.isEditing$)),o.xp6(4),o.Oqu(e)}}function Us(e,t){1&e&&(o.TgZ(0,"p",27),o._uU(1,"No File "),o.qZA())}function Bs(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"li",29),o.TgZ(1,"div",30),o.NdJ("click",function(){const t=o.CHM(e).$implicit,i=o.oxw(2).$implicit;return o.oxw(2).openFile(i,t)}),o.ALo(2,"async"),o.ALo(3,"async"),o.TgZ(4,"span"),o.ALo(5,"async"),o.ALo(6,"async"),o.ALo(7,"async"),o._uU(8),o.qZA(),o.TgZ(9,"span",19),o.NdJ("click",function(t){const i=o.CHM(e).$implicit,n=o.oxw(2).$implicit;return o.oxw(2).deleteFile(n,i,t)}),o.qZA(),o.qZA(),o.qZA()}if(2&e){const e=t.$implicit,i=o.oxw(2).$implicit,n=o.oxw(2);let r,s;o.xp6(1),o.ekj("active",(null==(r=o.lcZ(2,5,n.selectedFile$))?null:r.dir)===i&&(null==(r=o.lcZ(3,7,n.selectedFile$))?null:r.file)===e),o.xp6(3),o.ekj("isEdit",(null==(s=o.lcZ(5,9,n.selectedFile$))?null:s.dir)===i&&(null==(s=o.lcZ(6,11,n.selectedFile$))?null:s.file)===e&&o.lcZ(7,13,n.isEditing$)),o.xp6(4),o.Oqu(e)}}function Ds(e,t){if(1&e&&(o.YNc(0,Bs,10,15,"li",28),o.ALo(1,"async")),2&e){const e=o.oxw().$implicit,t=o.oxw(2);o.Q6J("ngForOf",o.lcZ(1,1,t.secDirInfo$)[e])}}function Ns(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"li",20),o.TgZ(1,"div",18),o.NdJ("click",function(){const t=o.CHM(e).$implicit;return o.oxw(2).openSecList(t)}),o.TgZ(2,"span"),o._uU(3),o.qZA(),o.TgZ(4,"span",21),o.NdJ("click",function(t){const i=o.CHM(e).$implicit;return o.oxw(2).refresh(i,t)}),o._UZ(5,"img",5),o.qZA(),o._UZ(6,"span",22),o.qZA(),o.TgZ(7,"ul",23),o._UZ(8,"p",24),o.YNc(9,Us,2,0,"p",25),o.ALo(10,"async"),o.YNc(11,Ds,2,3,"ng-template",null,26,o.W1O),o.qZA(),o.qZA()}if(2&e){const e=t.$implicit,i=o.MAs(12),n=o.oxw(2);o.xp6(3),o.Oqu(e),o.xp6(3),o.s9C("id",e),o.xp6(3),o.Q6J("ngIf",0===(null==o.lcZ(10,4,n.secDirInfo$)[e]?null:o.lcZ(10,4,n.secDirInfo$)[e].length))("ngIfElse",i)}}function Fs(e,t){if(1&e&&(o.TgZ(0,"ul"),o.YNc(1,Ls,10,15,"li",15),o.ALo(2,"async"),o.YNc(3,Ns,13,6,"li",16),o.ALo(4,"async"),o.qZA()),2&e){const e=o.oxw();let t,i;o.xp6(1),o.Q6J("ngForOf",null==(t=o.lcZ(2,2,e.priDirInfo$))?null:t.files),o.xp6(2),o.Q6J("ngForOf",null==(i=o.lcZ(4,4,e.priDirInfo$))?null:i.dirs)}}function Hs(e,t){1&e&&(o.TgZ(0,"div",31),o._uU(1),o.ALo(2,"translate"),o.qZA()),2&e&&(o.xp6(1),o.hij(" ",o.lcZ(2,1,"EXECUTECODE_ERROR")," "))}let $s=(()=>{class e{constructor(e,t,i,n,o,r){this.globalOperatorSrv=e,this.storeSrv=t,this.loadFileSrv=i,this.uploadSrv=n,this.codeEditorSrv=o,this.translate=r,this.mode$=this.globalOperatorSrv.getMode(),this.workspaceVisibility$=this.globalOperatorSrv.getUIVisibility(),this.selectedFile$=this.storeSrv.getSelectedFileData(),this.isEditing$=this.globalOperatorSrv.getIsEditing(),this.priDirInfo$=this.storeSrv.getPrimaryFileInfo(),this.secDirInfo$=this.storeSrv.getSecondaryFileInfo()}ngOnInit(){let e=document.getElementById("wrapper-file");this.storeSrv.getType().subscribe(t=>{e.setAttribute("style",t===Ei.__.PAPER?"transform: translateY(54px)":t===Ei.__.M5STATION?"transform: translateY(140px)":"transform: translateY(0px)")}),this.managerList.nativeElement.style.display="block",this.headerBtn.nativeElement.style.transform="rotate(0deg)",this.globalOperatorSrv.getMode().subscribe(e=>{null!==e&&(e===Ei.IK.CODE||e===Ei.IK.FILE)&&"CONNECTED"===this.storeSrv.connectStatus&&null===this.priDirInfo$.source._value&&this.getPriList()});let t=this;this.codeEditorSrv.workspace.commands.addCommand({name:"saveFile",bindKey:{win:"Ctrl-S",mac:"Command-S"},exec:function(e){t.globalOperatorSrv.getMode().source._value==Ei.IK.FILE&&t.isEditing$.source._value&&t.loadFileSrv.saveFile(t.selectedFile$.source._value).subscribe()}})}getPriList(){this.loadFileSrv.getPrimaryDir().subscribe(e=>{this.priDirInfo$=this.storeSrv.getPrimaryFileInfo()})}getSecList(e){let t=document.getElementById(e).parentNode.nextElementSibling.firstElementChild;t.style.display="block",t.textContent="Loading...",this.loadFileSrv.getSecondaryDir(e).subscribe(e=>{this.secDirInfo$=this.storeSrv.getSecondaryFileInfo(),t.textContent="",t.style.display="none"},e=>{t.textContent="Loading failed."})}openPriList(){let e="block"!==this.managerList.nativeElement.style.display;this.managerList.nativeElement.style.display=e?"block":"none",this.headerBtn.nativeElement.style.transform=`rotate(${e?"0":"180"}deg)`}openSecList(e){let t=document.getElementById(e),i=t.parentNode.nextElementSibling;"block"!==i.style.display?(i.style.display="block",t.style.transform="rotate(0deg)",0===this.secDirInfo$.source._value[e].length&&this.getSecList(e)):(i.style.display="none",t.style.transform="rotate(180deg)")}getFileData(e,t){if(/\.(pbm|PBM|jpg|JPG|jpeg|JPEG|bmp|BMP|png|PNG)$/.test(t))return this.storeSrv.fileLoading.next(!0),this.globalOperatorSrv.cacheImgName.next({dir:e,file:t}),void this.globalOperatorSrv.setMode(Ei.IK.IMG);this.globalOperatorSrv.setMode(Ei.IK.FILE),this.storeSrv.fileLoading.next(!0);let i=this.storeSrv.getCacheFileData().source._value;if(i){let n=i.findIndex(i=>i.file===t&&i.dir===e);-1!==n?(this.storeSrv.setSelectedFileData({dir:e,file:t,data:i[n].data}),this.storeSrv.fileLoading.next(!1),this.codeEditorSrv.updateWorkspaceValue(1)):this.loadFileSrv.getFileData(e,t).subscribe()}else this.loadFileSrv.getFileData(e,t).subscribe()}openFile(e,t){let i=this.globalOperatorSrv.getMode().source._value,n=()=>{this.getFileData(e,t)};if(i===Ei.IK.CODE)this.codeEditorSrv.getWorkspaceValue()!==this.codeEditorSrv.workspace.getValue()?this.globalOperatorSrv.saveWarnSwal(0,n):n();else if(i===Ei.IK.FILE){let i=this.storeSrv.getSelectedFileData().source._value;if(i.dir!==e||i.file!==t){let e=this.codeEditorSrv.workspace.getValue();i.data!==e?this.globalOperatorSrv.saveWarnSwal(1,n):n()}}else i===Ei.IK.IMG&&(this.storeSrv.setSelectedFileData(null),n())}refresh(e,t){t.stopPropagation(),t.preventDefault();const i=()=>{"null"===e?this.uploadSrv.getDeviceInfo().subscribe(e=>{0===e.code&&this.getPriList()},e=>{this.loadFileSrv.errorWarn(e),this.storeSrv.setPrimaryFileInfo(null)}):this.getSecList(e)};if(this.isEditing$.source._value){let e=this;this.globalOperatorSrv.saveWarnSwal(1,function(){e.storeSrv.setSelectedFileData(null),e.globalOperatorSrv.setMode(Ei.IK.CODE),e.codeEditorSrv.updateWorkspaceValue(),i()})}else i()}createNewFile(){if(null===this.priDirInfo$.source._value)return void this.errorWarn();let e=this.priDirInfo$.source._value.files,t=this;Er().fire({title:"Do you want to create new file?",inputPlaceholder:"New file name:",input:"text",showCancelButton:!0,confirmButtonColor:window.Blockly.Msg.SWAL_PRIMARY_HUE,cancelButtonColor:window.Blockly.Msg.SWAL_GRAY_HUE,allowOutsideClick:!1,preConfirm:function(t){let i=String(t).trim();if(i)if(i.replace(/(.py)/,"").length>30)Er().showValidationMessage(window.Blockly.Msg.FILE_NAME_EROR);else if(/[^A-Za-z0-9_.@\$\^&\-\+\~()!\s]+/.test(i))Er().showValidationMessage("Filename must be English or number or special characters (.@$^&()!_-+~).");else{if(/(.py)/.test(i)||(i=`${i}.py`),"boot.py"!==i&&"main.py"!==i&&"test.py"!==i&&"temp.py"!==i){for(var n=0;n<e.length;n++)if(i===e[n])return void Er().showValidationMessage("Filename already exists!");return i}Er().showValidationMessage("Filename mustn't be 'boot' or 'main' or 'test' or 'temp'  !")}else Er().showValidationMessage("Invalid name")}}).then(function(e){e.isConfirmed&&t.loadFileSrv.createNewFile(e.value).subscribe()})}saveFile(){null!==this.priDirInfo$.source._value?this.isEditing$.source._value&&this.loadFileSrv.saveFile(this.selectedFile$.source._value).subscribe():this.errorWarn()}deleteFile(e,t,i){i.stopPropagation(),i.preventDefault();let n=this;this.globalOperatorSrv.warnSwal(`Are you sure you want to delete ${t}?`,function(){n.loadFileSrv.deleteFile(e,t).subscribe(i=>{n.selectedFile$.source._value&&n.selectedFile$.source._value.dir===e&&n.selectedFile$.source._value.file===t&&(n.globalOperatorSrv.setMode(Ei.IK.CODE),n.codeEditorSrv.updateWorkspaceValue())})},"Delete")}errorWarn(){this.translate.get("REQUEST_ERROR").subscribe(e=>{this.globalOperatorSrv.createMessageBox().instance.error(e)})}}return e.\u0275fac=function(t){return new(t||e)(o.Y36(Oi.t),o.Y36(ms.d),o.Y36(Li.op),o.Y36(Li.C7),o.Y36(Li.hN),o.Y36(bi.sK))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-file-manager"]],viewQuery:function(e,t){if(1&e&&(o.Gf(Ps,5),o.Gf(Rs,7),o.Gf(qs,7)),2&e){let e;o.iGM(e=o.CRH())&&(t.fileManager=e.first),o.iGM(e=o.CRH())&&(t.headerBtn=e.first),o.iGM(e=o.CRH())&&(t.managerList=e.first)}},decls:25,vars:14,consts:[["id","wrapper-file",1,"wrapper--file-manager"],["fileManager",""],[1,"file-manager"],[1,"file-list-btn"],[1,"file-item-btn",3,"click"],["src","../../../assets/images/refresh.png","alt","refresh","title","Refresh file list"],["src","../../../assets/images/new_file.png","alt","new file","title","New file"],["src","../../../assets/images/save.png","alt","save file","title","Save files"],[1,"header",3,"click"],[1,"openBtn"],["headerBtn",""],[1,"main"],["managerList",""],[4,"ngIf","ngIfElse"],["warn",""],["class","pri-file-li",4,"ngFor","ngForOf"],["class","dirs-li",4,"ngFor","ngForOf"],[1,"pri-file-li"],[1,"li-title",3,"click"],[1,"file-del-btn",3,"click"],[1,"dirs-li"],[1,"dirs-li-btn",3,"click"],[1,"openBtn",3,"id"],[1,"dirs-extend"],[1,"dirs-tips"],["class","dirs-nolist",4,"ngIf","ngIfElse"],["secFileList",""],[1,"dirs-nolist"],["class","sec-file-li",4,"ngFor","ngForOf"],[1,"sec-file-li"],[1,"sec-li-title",3,"click"],[1,"warn-wrap"]],template:function(e,t){if(1&e&&(o.TgZ(0,"div",0,1),o.ALo(2,"async"),o.ALo(3,"async"),o.ALo(4,"async"),o.ALo(5,"async"),o.TgZ(6,"div",2),o.TgZ(7,"div",3),o.TgZ(8,"span",4),o.NdJ("click",function(e){return t.refresh("null",e)}),o._UZ(9,"img",5),o.qZA(),o.TgZ(10,"span",4),o.NdJ("click",function(){return t.createNewFile()}),o._UZ(11,"img",6),o.qZA(),o.TgZ(12,"span",4),o.NdJ("click",function(){return t.saveFile()}),o._UZ(13,"img",7),o.qZA(),o.qZA(),o.TgZ(14,"div",8),o.NdJ("click",function(){return t.openPriList()}),o.TgZ(15,"p"),o._uU(16,"File Manager"),o.qZA(),o._UZ(17,"span",9,10),o.qZA(),o.TgZ(19,"div",11,12),o.YNc(21,Fs,5,6,"ul",13),o.ALo(22,"async"),o.YNc(23,Hs,3,3,"ng-template",null,14,o.W1O),o.qZA(),o.qZA(),o.qZA()),2&e){const e=o.MAs(24);o.ekj("show",o.lcZ(2,4,t.workspaceVisibility$)&&("code"===o.lcZ(3,6,t.mode$)||"file"===o.lcZ(4,8,t.mode$)||"img"===o.lcZ(5,10,t.mode$))),o.xp6(21),o.Q6J("ngIf",null!==o.lcZ(22,12,t.priDirInfo$))("ngIfElse",e)}},directives:[n.O5,n.sg],pipes:[n.Ov,bi.X$],styles:['.wrapper--file-manager[_ngcontent-%COMP%]{display:none;width:304px;min-height:200px;position:absolute;top:480px;left:65px;background-color:#303131;z-index:999;-webkit-user-select:none;-moz-user-select:none;user-select:none;border-radius:8px;overflow:hidden;font-family:Arial}.wrapper--file-manager.show[_ngcontent-%COMP%]{display:block}.file-manager[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.file-list-btn[_ngcontent-%COMP%]{width:100%;display:flex;padding:0 0 0 4px;margin-bottom:4px}.file-item-btn[_ngcontent-%COMP%]{padding:3px 3px 1px;margin-right:20px;border-radius:4px}.file-item-btn[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px;height:20px}.file-item-btn[_ngcontent-%COMP%]:hover{background-color:#646464}.header[_ngcontent-%COMP%]{position:relative;width:100%;height:30px;border-radius:8px;padding:4px 10px;background-color:#525252;z-index:5;cursor:pointer}.header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{display:inline-block;color:#0f9;font-weight:bold}.header[_ngcontent-%COMP%]:hover{background-color:#646464}.openBtn[_ngcontent-%COMP%]{position:absolute;top:7px;right:10px;width:16px;height:16px;background-image:url(up.6ee3a793e1f45b6d7d91.png);background-repeat:no-repeat;transform:rotate(180deg)}.main[_ngcontent-%COMP%]{display:block;width:100%;min-height:100px;max-height:300px;margin-top:-20px;padding-top:20px;background-color:#3f3f3f;z-index:2;border-radius:0 0 8px 8px;overflow-y:auto}.sec-file-li[_ngcontent-%COMP%], .dirs-li[_ngcontent-%COMP%], .pri-file-li[_ngcontent-%COMP%]{list-style:none;color:#d4d4d4;cursor:pointer;box-sizing:border-box}.sec-file-li[_ngcontent-%COMP%]:hover, .dirs-li[_ngcontent-%COMP%]:hover, .pri-file-li[_ngcontent-%COMP%]:hover{background-color:#1a1a1a}.dirs-nolist[_ngcontent-%COMP%], .dirs-tips[_ngcontent-%COMP%], .sec-li-title[_ngcontent-%COMP%]{font-size:14px;height:30px}.sec-li-title.active[_ngcontent-%COMP%], .pri-file-li[_ngcontent-%COMP%]   .li-title.active[_ngcontent-%COMP%]{color:#0f9}.dirs-li[_ngcontent-%COMP%]{position:relative}.dirs-li[_ngcontent-%COMP%]   .li-title[_ngcontent-%COMP%]{font-weight:bold}.li-title[_ngcontent-%COMP%]{position:relative;font-size:16px;padding:3px 10px;height:30px;border-bottom:1px solid #575757}.dirs-extend[_ngcontent-%COMP%]{display:none;background-color:#252525}.sec-li-title[_ngcontent-%COMP%]{position:relative;padding:3px 10px 3px 26px}.dirs-tips[_ngcontent-%COMP%]{display:none;color:#7a7a7a;text-align:center;line-height:30px}.dirs-nolist[_ngcontent-%COMP%]{display:block;color:#7a7a7a;text-align:center;line-height:30px}.file-del-btn[_ngcontent-%COMP%]{position:absolute;top:5px;right:16px;width:20px;height:20px;border-radius:4px;background-repeat:no-repeat;background-image:url(delete.5122d637e225ae858e81.png);background-position:center center}.file-del-btn[_ngcontent-%COMP%]:hover{background-color:#646464}.warn-wrap[_ngcontent-%COMP%]{padding:16px 12px 10px;color:#f84444;font-weight:bold}.isEdit[_ngcontent-%COMP%]:after{margin-left:4px;color:#0f9;content:"*"}.dirs-li-btn[_ngcontent-%COMP%]{position:absolute;top:4px;right:18px;width:20px;height:20px;padding:1px 0;text-align:center;margin-right:20px;border-radius:4px}.dirs-li-btn[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:16px;height:16px}.dirs-li-btn[_ngcontent-%COMP%]:hover{background-color:#646464}']}),e})();const zs=["wrapperUIEditor"];let Vs=(()=>{class e{constructor(e,t,i,n){this.uiEditorSrv=e,this.globalOperatorSrv=t,this.storeSrv=i,this.ZrenderHelperSrv=n,this.workspaceVisibility$=this.globalOperatorSrv.getUIVisibility()}ngOnInit(){this.wrapperUIEditor.nativeElement.addEventListener("touchmove",e=>e.preventDefault()),this.storeSrv.getType().subscribe(e=>{this.uiEditorSrv.init(this.wrapperUIEditor.nativeElement.id,e)})}toggleVisibility(){this.globalOperatorSrv.setSelectedUnit(null),this.globalOperatorSrv.setSelectedStamp(null),this.globalOperatorSrv.setSelectedComponent(null),this.globalOperatorSrv.setSelectedRemotePlus(null),this.globalOperatorSrv.setUIVisibility(!this.globalOperatorSrv.UIVisibility.value),this.ZrenderHelperSrv.handleShortcutTipShow(!1)}}return e.\u0275fac=function(t){return new(t||e)(o.Y36(Li.xs),o.Y36(Li.t0),o.Y36(Li.d6),o.Y36(Li._5))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-ui-editor"]],viewQuery:function(e,t){if(1&e&&o.Gf(zs,7),2&e){let e;o.iGM(e=o.CRH())&&(t.wrapperUIEditor=e.first)}},decls:12,vars:9,consts:[["id","wrapper_ui_editor",1,"wrapper--ui-editor"],["wrapperUIEditor",""],[1,"btn--collapse",3,"click"]],template:function(e,t){1&e&&(o._UZ(0,"div",0,1),o.ALo(2,"async"),o.TgZ(3,"button",2),o.NdJ("click",function(){return t.toggleVisibility()}),o._uU(4),o.ALo(5,"translate"),o.ALo(6,"async"),o.qZA(),o._UZ(7,"app-ui-shortcut-tip"),o._UZ(8,"app-firmware-tip"),o._UZ(9,"app-property-panel"),o._UZ(10,"app-unit-property-panel"),o._UZ(11,"app-file-manager")),2&e&&(o.ekj("hide",!o.lcZ(2,3,t.workspaceVisibility$)),o.xp6(4),o.Oqu(o.lcZ(5,5,o.lcZ(6,7,t.workspaceVisibility$)?"HIDEUI":"SHOWUI")))},directives:[ds,fs,bs,Is,$s],pipes:[n.Ov,bi.X$],styles:["[_nghost-%COMP%]{width:100%;height:100%}.wrapper--ui-editor[_ngcontent-%COMP%]{width:508px;background-color:#303131;position:relative;height:calc(100vh - 68px)}.wrapper--ui-editor.hide[_ngcontent-%COMP%]{display:none}@media screen and (max-width: 1400px){.wrapper--ui-editor[_ngcontent-%COMP%]{width:400px}}.btn--collapse[_ngcontent-%COMP%]{position:absolute;left:0;bottom:30px;padding:8px 16px;font-size:18px;outline:none;border:none;background-color:#444f59;color:#fff;font-weight:bolder;cursor:pointer;border-top-right-radius:6px;border-bottom-right-radius:6px;z-index:999999}@media only screen and (min-width: 320px) and (max-height: 767px){.btn--collapse[_ngcontent-%COMP%]{display:none}}@media only screen and (min-width: 1024px){.wrapper--ui-editor[_ngcontent-%COMP%]{width:400px}.btn--collapse[_ngcontent-%COMP%]{display:block}}"]}),e})();const Ks=["wrapperUIEditorMb"];let Ws=(()=>{class e{constructor(e,t,i){this.uiEditorSrv=e,this.globalOperatorSrv=t,this.storeSrv=i,this.workspaceVisibility$=this.globalOperatorSrv.getUIVisibility()}ngOnInit(){this.wrapperUIEditorMb.nativeElement.addEventListener("touchmove",e=>e.preventDefault()),this.storeSrv.getType().subscribe(e=>{this.uiEditorSrv.init(this.wrapperUIEditorMb.nativeElement.id,e)})}}return e.\u0275fac=function(t){return new(t||e)(o.Y36(Li.xs),o.Y36(Li.t0),o.Y36(Li.d6))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-ui-editor-mb"]],viewQuery:function(e,t){if(1&e&&o.Gf(Ks,5),2&e){let e;o.iGM(e=o.CRH())&&(t.wrapperUIEditorMb=e.first)}},decls:5,vars:4,consts:[["id","wrapper_ui_editor_mb",1,"wrapper--ui-editor"],["wrapperUIEditorMb",""]],template:function(e,t){1&e&&(o._UZ(0,"div",0,1),o.ALo(2,"async"),o._UZ(3,"app-property-panel"),o._UZ(4,"app-unit-property-panel")),2&e&&o.ekj("hide",!o.lcZ(2,2,t.workspaceVisibility$))},directives:[bs,Is],pipes:[n.Ov],styles:[".wrapper--ui-editor[_ngcontent-%COMP%]{width:100vw;height:100%;background-color:#303131;position:relative}"]}),e})();function Gs(e,t){1&e&&(o.ynx(0),o.TgZ(1,"div",7),o._UZ(2,"app-ui-editor"),o.qZA(),o.BQk())}function Ys(e,t){if(1&e&&(o.TgZ(0,"div",8),o._UZ(1,"app-ui-editor-mb"),o.qZA()),2&e){const e=o.oxw();o.ekj("ui-editor-hide",e.ismb)("ui-editor-show",!e.ismb)}}function js(e,t){1&e&&o._UZ(0,"app-loading")}function Xs(e,t){1&e&&o._UZ(0,"app-loading")}let Js=(()=>{class e{constructor(e,t){this.globalOperatorSrv=e,this.storeSrv=t,this.loddingMode=!0,this.fileLoading=!1,this.ismb=!0,this.stack=!1}ngOnInit(){/Android|webOS|iPhone|BlackBerry/i.test(navigator.userAgent)&&(this.stack=!0),this.mode$=this.globalOperatorSrv.getMode(),this.setlodding(),this.storeSrv.getuiMode().subscribe(e=>{this.ismb=e,/iPad|iPod/i.test(navigator.userAgent)&&(this.ismb=!1)}),this.storeSrv.getFileLoading().subscribe(e=>{this.fileLoading=e})}setlodding(){this.storeSrv.getLoadingMode().subscribe(e=>{this.loddingMode=e})}}return e.\u0275fac=function(t){return new(t||e)(o.Y36(Li.t0),o.Y36(Li.d6))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-workspace"]],decls:17,vars:18,consts:[[1,"wrapper","workspace"],[4,"ngIf","ngIfElse"],["elseTemplate",""],[1,"wrapper--logic-editor"],[4,"ngIf"],[1,"alert_position"],["alert",""],[1,"wrapper--ui-editor"],[1,"wrapper--ui-editor-mb"]],template:function(e,t){if(1&e&&(o.TgZ(0,"div",0),o.YNc(1,Gs,3,0,"ng-container",1),o.YNc(2,Ys,2,4,"ng-template",null,2,o.W1O),o.TgZ(4,"div",3),o._UZ(5,"app-blockly-editor"),o.ALo(6,"async"),o._UZ(7,"app-code-editor"),o.ALo(8,"async"),o.ALo(9,"async"),o._UZ(10,"app-file-img"),o.ALo(11,"async"),o.YNc(12,js,1,0,"app-loading",4),o.qZA(),o.qZA(),o.YNc(13,Xs,1,0,"app-loading",4),o.TgZ(14,"div",5),o._UZ(15,"app-alert_blockly",null,6),o.qZA()),2&e){const e=o.MAs(3);o.xp6(1),o.Q6J("ngIf",!t.stack)("ngIfElse",e),o.xp6(4),o.ekj("active","blockly"==o.lcZ(6,10,t.mode$)),o.xp6(2),o.ekj("active","code"===o.lcZ(8,12,t.mode$)||"file"===o.lcZ(9,14,t.mode$)),o.xp6(3),o.ekj("active","img"===o.lcZ(11,16,t.mode$)),o.xp6(2),o.Q6J("ngIf",t.fileLoading),o.xp6(1),o.Q6J("ngIf",t.loddingMode)}},directives:[n.O5,es,is,os,ls,Vs,Ws],pipes:[n.Ov],styles:[".wrapper.workspace[_ngcontent-%COMP%]{display:flex;flex-direction:row;height:100%;overflow:hidden}.wrapper--logic-editor[_ngcontent-%COMP%]{display:flex;width:100%;position:relative}.wrapper--ui-editor-mb[_ngcontent-%COMP%]{display:flex}.ui-editor-show[_ngcontent-%COMP%]{min-width:100%;display:block}.ui-editor-hide[_ngcontent-%COMP%]{max-width:0;display:none}app-ui-editor-mb[_ngcontent-%COMP%]{width:100%}app-code-editor[_ngcontent-%COMP%], app-blockly-editor[_ngcontent-%COMP%], app-file-img[_ngcontent-%COMP%]{width:0;height:100%}app-code-editor[_ngcontent-%COMP%], app-file-img[_ngcontent-%COMP%]{display:none}app-code-editor.active[_ngcontent-%COMP%], app-blockly-editor.active[_ngcontent-%COMP%], app-file-img.active[_ngcontent-%COMP%]{flex:1}app-code-editor.active[_ngcontent-%COMP%], app-file-img.active[_ngcontent-%COMP%]{display:block}.alert_position[_ngcontent-%COMP%]{position:fixed;z-index:100;top:38%;right:0;max-width:300px;max-height:300px;background-color:var(--bg-color);border-radius:10px;box-shadow:20px;opacity:.85;overflow:hidden}"]}),e})();var Qs=i(71320),ea=i(99742);function ta(e,t){1&e&&(o.TgZ(0,"span",4),o._uU(1),o.ALo(2,"translate"),o.qZA()),2&e&&(o.xp6(1),o.Oqu(o.lcZ(2,1,"API_KEY")))}function ia(e,t){1&e&&(o.TgZ(0,"span",4),o._uU(1),o.ALo(2,"translate"),o.qZA()),2&e&&(o.xp6(1),o.Oqu(o.lcZ(2,1,"MAC_ADDR")))}function na(e,t){if(1&e&&(o.TgZ(0,"span"),o.TgZ(1,"span",16),o._uU(2,"[ "),o.TgZ(3,"span",17),o._uU(4),o.ALo(5,"translate"),o.qZA(),o._uU(6," ]"),o.qZA(),o.qZA()),2&e){const e=o.oxw();o.xp6(4),o.Oqu(o.lcZ(5,1,e.storeSrv.connectStatus))}}function oa(e,t){if(1&e&&(o.TgZ(0,"span"),o.TgZ(1,"span",16),o._uU(2,"[ "),o.TgZ(3,"span",18),o._uU(4),o.ALo(5,"translate"),o.qZA(),o._uU(6," ]"),o.qZA(),o.TgZ(7,"span",19),o._uU(8),o.ALo(9,"translate"),o.ALo(10,"async"),o.qZA(),o.qZA()),2&e){const e=o.oxw();let t;o.xp6(4),o.Oqu(o.lcZ(5,3,e.storeSrv.connectStatus)),o.xp6(4),o.AsE("",o.lcZ(9,5,"VERSION")," ",null==(t=o.lcZ(10,7,e.storeSrv.deviceInfo))?null:t.version,"")}}function ra(e,t){if(1&e&&(o.TgZ(0,"span"),o.TgZ(1,"span",16),o._uU(2,"[ "),o.TgZ(3,"span",20),o._uU(4),o.ALo(5,"translate"),o.qZA(),o._uU(6," ]"),o.qZA(),o.qZA()),2&e){const e=o.oxw();o.xp6(4),o.Oqu(o.lcZ(5,1,e.storeSrv.connectStatus))}}function sa(e,t){1&e&&o._UZ(0,"img",25)}function aa(e,t){1&e&&o._UZ(0,"img",26)}function la(e,t){if(1&e){const e=o.EpF();o.TgZ(0,"span",21),o.NdJ("click",function(){return o.CHM(e),o.oxw().toggleCodeLock()}),o.YNc(1,sa,1,0,"img",22),o.ALo(2,"async"),o.YNc(3,aa,1,0,"img",23),o.ALo(4,"async"),o.TgZ(5,"span",24),o._uU(6),o.qZA(),o.TgZ(7,"span",24),o._uU(8),o.ALo(9,"async"),o.qZA(),o.qZA()}if(2&e){const e=o.oxw();o.xp6(1),o.Q6J("ngIf",o.lcZ(2,4,e.codeLock$)),o.xp6(2),o.Q6J("ngIf",!o.lcZ(4,6,e.codeLock$)),o.xp6(3),o.Oqu("CodeLock :"),o.xp6(2),o.Oqu(o.lcZ(9,8,e.codeLock$)?"ON":"OFF")}}let ca=(()=>{class e{constructor(e,t,i,n,o,r,s,a,l,c,h,u,d){this.uploadSrv=e,this.globalOperatorSrv=t,this.codeEditorSrv=i,this.storeSrv=n,this.codeMakerSrv=o,this.loadFileSrv=r,this.translate=s,this.seniorOperatorSrv=a,this.pnpSrv=l,this.screenSimulatorSrv=c,this.zenaderHelp=h,this.zrenderHelperMb=u,this.editLocalFileSrv=d,this.isMacAddr=!1,this.currentYear=(new Date).getFullYear(),this.saveM5F=xr.G.prototype.saveM5F,this.openM5F=xr.G.prototype.openM5F,this.M5F_create=xr.G.prototype.M5F_create,this.downloadCode=xr.G.prototype.downloadCode,this.beforeExecCode=xr.G.prototype.beforeExecCode,this.espnowCheckCode=xr.G.prototype.espnowCheckCode,this.loadImg=xr.G.prototype.loadImg,this.updateImgHandler=xr.G.prototype.updateImgHandler,this.changeToDefaultImgHandler=xr.G.prototype.changeToDefaultImgHandler,this.UIHELP=this.globalOperatorSrv.ismb?this.zrenderHelperMb:this.zenaderHelp}ngOnInit(){this.codeLock$=this.globalOperatorSrv.getCodeLock(),this.mode$=this.globalOperatorSrv.getMode(),this.apikey$=this.storeSrv.getApikey(),this.storeSrv.getType().subscribe(e=>{this.isMacAddr=e===Ei.__.PICO})}refreshStatus(){this.uploadSrv.getDeviceInfo().subscribe(e=>{},e=>{this.seniorOperatorSrv.requestError(0,e)})}toggleCodeLock(){this.globalOperatorSrv.setCodeLock(!this.globalOperatorSrv.codeLock.value),this.globalOperatorSrv.codeLock.value||this.codeEditorSrv.updateWorkspaceValue()}openSettingPanel(){this.globalOperatorSrv.createMaskModal(Qs.g).instance.createDynamicComponent(Ei.eA.SETTING_PANEL)}}return e.\u0275fac=function(t){return new(t||e)(o.Y36(Li.C7),o.Y36(Li.t0),o.Y36(Li.hN),o.Y36(Li.d6),o.Y36(Li.Ax),o.Y36(Li.op),o.Y36(bi.sK),o.Y36(Li.VY),o.Y36(Li.rR),o.Y36(ea.s),o.Y36(Li._5),o.Y36(Li.j),o.Y36(Li.iu))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-footer"]],decls:24,vars:12,consts:[[1,"wrapper"],[1,"txt--info",3,"click"],["class","txt--key",4,"ngIf"],["src","../../../assets/images/key.png","alt","Key"],[1,"txt--key"],[1,"tips--info"],[4,"ngIf"],[1,"btn--refresh",3,"click"],["src","../../../assets/images/loop.png","alt","Refresh","title","Refresh device status"],[1,"btn--refresh","ipone_h",3,"mousedown"],["src","../../../assets/images/save.png","alt","Save","title","Save the m5"],["src","../../../assets/images/open.png","alt","open","title","Load the m5"],[1,"btn--refresh",3,"mousedown"],["src","../../../assets/images/download.png","alt","Download","title","Download the m5 to the device"],[1,"copyright"],["class","btn--codelock",3,"click",4,"ngIf"],[1,"txt--bracket"],[1,"status","status--disconnected"],[1,"status","status--connected"],[1,"txt--version"],[1,"status","status--connecting"],[1,"btn--codelock",3,"click"],["src","../../../assets/images/lock.png","alt","lock",4,"ngIf"],["src","../../../assets/images/unlock.png","alt","lock",4,"ngIf"],[1,"txt--lock"],["src","../../../assets/images/lock.png","alt","lock"],["src","../../../assets/images/unlock.png","alt","lock"]],template:function(e,t){1&e&&(o.TgZ(0,"div",0),o.TgZ(1,"span",1),o.NdJ("click",function(){return t.openSettingPanel()}),o.YNc(2,ta,3,3,"span",2),o.YNc(3,ia,3,3,"span",2),o._UZ(4,"img",3),o.TgZ(5,"span",4),o._uU(6),o.ALo(7,"async"),o.qZA(),o.qZA(),o.TgZ(8,"span",5),o.YNc(9,na,7,3,"span",6),o.YNc(10,oa,11,9,"span",6),o.YNc(11,ra,7,3,"span",6),o.qZA(),o.TgZ(12,"span",7),o.NdJ("click",function(){return t.refreshStatus()}),o._UZ(13,"img",8),o.qZA(),o.TgZ(14,"span",9),o.NdJ("mousedown",function(){return t.saveM5F()}),o._UZ(15,"img",10),o.qZA(),o.TgZ(16,"span",9),o.NdJ("mousedown",function(){return t.openM5F()}),o._UZ(17,"img",11),o.qZA(),o.TgZ(18,"span",12),o.NdJ("mousedown",function(){return t.beforeExecCode(1)}),o._UZ(19,"img",13),o.qZA(),o.TgZ(20,"span",14),o._uU(21),o.qZA(),o.YNc(22,la,10,10,"span",15),o.ALo(23,"async"),o.qZA()),2&e&&(o.xp6(2),o.Q6J("ngIf",!t.isMacAddr),o.xp6(1),o.Q6J("ngIf",t.isMacAddr),o.xp6(3),o.Oqu(o.lcZ(7,8,t.apikey$)||"Unknow"),o.xp6(3),o.Q6J("ngIf","DISCONNECTED"===t.storeSrv.connectStatus),o.xp6(1),o.Q6J("ngIf","CONNECTED"===t.storeSrv.connectStatus),o.xp6(1),o.Q6J("ngIf","CONNECTING"===t.storeSrv.connectStatus),o.xp6(10),o.hij("Copyright \xa92018-",t.currentYear," M5Stack"),o.xp6(1),o.Q6J("ngIf","code"===o.lcZ(23,10,t.mode$)))},directives:[n.O5],pipes:[n.Ov,bi.X$],styles:[".wrapper[_ngcontent-%COMP%]{height:20px;background-color:var(--bg-color);padding-left:10px;overflow:hidden}.txt--info[_ngcontent-%COMP%]{display:block;float:left;height:20px;transition:all .25s ease;text-align:center;cursor:pointer;padding:0 10px}.txt--info[_ngcontent-%COMP%]:hover{background-color:#e9e9e94d}.txt--info[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:16px;margin:2px 0}.txt--info[_ngcontent-%COMP%]   .txt--key[_ngcontent-%COMP%]{font-size:12px;color:#fff;vertical-align:35%;margin-left:6px;-webkit-user-select:none;-moz-user-select:none;user-select:none;font-family:Arial}.tips--info[_ngcontent-%COMP%]{display:block;float:left;padding:0 4px;-webkit-user-select:none;-moz-user-select:none;user-select:none;line-height:20px}.tips--info[_ngcontent-%COMP%]   .txt--bracket[_ngcontent-%COMP%]{color:#fff}.tips--info[_ngcontent-%COMP%]   .txt--version[_ngcontent-%COMP%]{font-size:14px;font-family:Arial;color:#fff;padding-left:6px}.tips--info[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]{font-family:Arial;font-size:12px;font-weight:bolder}.tips--info[_ngcontent-%COMP%]   .status.status--disconnected[_ngcontent-%COMP%]{color:#fe4365}.tips--info[_ngcontent-%COMP%]   .status.status--connected[_ngcontent-%COMP%]{color:#75d701}.tips--info[_ngcontent-%COMP%]   .status.status--connecting[_ngcontent-%COMP%]{color:#f9c00c}.btn--refresh[_ngcontent-%COMP%]{display:block;float:left;transition:all .25s ease;text-align:center;cursor:pointer;padding:0 4px}.btn--refresh[_ngcontent-%COMP%]:hover{background-color:#e9e9e94d}.btn--refresh[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:16px;margin:2px 0}.btn--codelock[_ngcontent-%COMP%]{position:absolute;bottom:0;right:0;height:20px;padding:0 12px;margin-right:40px;cursor:pointer;text-align:left;transition:all .25s ease}.btn--codelock[_ngcontent-%COMP%]:hover{background-color:#e9e9e94d}.btn--codelock[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:16px;margin:2px 0}.btn--codelock[_ngcontent-%COMP%]   .txt--lock[_ngcontent-%COMP%]{font-size:12px;color:#fff;vertical-align:35%;margin-left:6px;-webkit-user-select:none;-moz-user-select:none;user-select:none;font-family:Arial}.ipone_hide[_ngcontent-%COMP%]{display:none}.copyright[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translate(-50%);width:220px;height:20px;color:#fff;font-size:12px;text-align:center;font-family:Arial;display:flex;justify-content:center;align-items:center}@media only screen and (max-width: 1024px){.copyright[_ngcontent-%COMP%]{left:60%}}"]}),e})();const ha=[{path:"",component:(()=>{class e{constructor(e,t,i,n,o){this.route=e,this.Router=t,this.globalOperatorSrv=i,this.storeSrv=n,this.uploadSrv=o}ngOnInit(){this.route.queryParams.subscribe(e=>{if(0===Object.keys(e).length)return!1;let t=e.device,i=e.toolbox,n=e.examples;this.storeSrv.loddingMODE.next(!0),window.Blockly.utils.runAfterPageLoad(()=>{if(n)this.runExamples(n),this.globalOperatorSrv.maskModal&&this.globalOperatorSrv.maskModal.instance.removeMask();else if(t&&t!==sessionStorage.getItem("_type")&&this.storeSrv.setType(t),i){let e=i.split(";");this.globalOperatorSrv.setUIVisibility(!1),this.openToolbox(e)}})})}openToolbox(e){let t=e[0].toLowerCase();this.timer=setTimeout(()=>{try{let e=window.BlocklyEditor.toolbox_.getToolboxItemById(t);window.BlocklyEditor.toolbox_.setSelectedItem(e),e.onClick()}catch(i){console.error("Invalid toolbox"),clearTimeout(this.timer)}e.shift(),e.length>0?this.openToolbox(e):clearTimeout(this.timer)},300)}runExamples(e){this.uploadSrv.loadExamplesFile(e)}}return e.\u0275fac=function(t){return new(t||e)(o.Y36(Ni.gz),o.Y36(Ni.F0),o.Y36(Li.t0),o.Y36(Li.d6),o.Y36(Li.C7))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-main"]],decls:7,vars:0,template:function(e,t){1&e&&(o.TgZ(0,"header"),o._UZ(1,"app-header"),o.qZA(),o.TgZ(2,"main"),o._UZ(3,"app-workspace"),o.qZA(),o.TgZ(4,"footer"),o._UZ(5,"app-footer"),o.qZA(),o._UZ(6,"app-remote-preview"))},directives:[xr.G,Js,ca,Ar],styles:["app-workspace[_ngcontent-%COMP%]{height:100%}main[_ngcontent-%COMP%]{height:calc(100vh - 68px);overflow:hidden}footer[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;width:100%;z-index:999}"]}),e})()},{path:"remote",component:Ar}];let ua=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[[Ni.Bz.forRoot(ha,{relativeLinkResolution:"legacy"})],Ni.Bz]}),e})(),da=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[[Zi,xi.e4,ki.NY,io.forRoot(),Bo,Ai.u5,Ai.UX]]}),e})(),pa=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[[Zi,xi.e4,Ri,qi,da]]}),e})();function ga(e){return new wi(e,"./assets/blockly/language/",`.json?v=${Ui.N.version}.${Ui.N.versionChunk}`)}let fa=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.oAB({type:e,bootstrap:[vn]}),e.\u0275inj=o.cJS({providers:[],imports:[[N,Zi,Li.fF.forRoot(),Ri,qi,pa,da,ua,bi.aw.forRoot({loader:{provide:bi.Zw,useFactory:ga,deps:[F.eN]}})]]}),e})();Ui.N.production&&(0,o.G48)(),B().bootstrapModule(fa).catch(e=>console.error(e))},64762:function(e,t,i){"use strict";function n(e,t,i,n){return new(i||(i=Promise))(function(o,r){function s(e){try{l(n.next(e))}catch(t){r(t)}}function a(e){try{l(n.throw(e))}catch(t){r(t)}}function l(e){e.done?o(e.value):function(e){return e instanceof i?e:new i(function(t){t(e)})}(e.value).then(s,a)}l((n=n.apply(e,t||[])).next())})}i.d(t,{mG:function(){return n}})},36853:function(e,t,i){"use strict";i.d(t,{Kk:function(){return j},e4:function(){return X}});var n=i(37716),o=i(38583);const r=["dialogPopup"],s=["hueSlider"],a=["alphaSlider"];function l(e,t){if(1&e&&n._UZ(0,"div"),2&e){const e=n.oxw();n.Gre("arrow arrow-",e.cpUsePosition,""),n.Udp("top",e.arrowTop,"px")}}function c(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"div",28),n.NdJ("newValue",function(t){return n.CHM(e),n.oxw().onColorChange(t)})("dragStart",function(){return n.CHM(e),n.oxw().onDragStart("saturation-lightness")})("dragEnd",function(){return n.CHM(e),n.oxw().onDragEnd("saturation-lightness")}),n._UZ(1,"div",14),n.qZA()}if(2&e){const e=n.oxw();n.Udp("background-color",e.hueSliderColor),n.Q6J("rgX",1)("rgY",1),n.xp6(1),n.Udp("top",null==e.slider?null:e.slider.v,"px")("left",null==e.slider?null:e.slider.s,"px")}}function h(e,t){1&e&&(n.O4$(),n.TgZ(0,"svg",29),n._UZ(1,"path",30),n._UZ(2,"path",31),n.qZA())}function u(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"button",32),n.NdJ("click",function(t){n.CHM(e);const i=n.oxw();return i.onAddPresetColor(t,i.selectedColor)}),n._uU(1),n.qZA()}if(2&e){const e=n.oxw();n.Tol(e.cpAddColorButtonClass),n.Q6J("disabled",e.cpPresetColors&&e.cpPresetColors.length>=e.cpMaxPresetColorsLength),n.xp6(1),n.hij(" ",e.cpAddColorButtonText," ")}}function d(e,t){1&e&&n._UZ(0,"div",33)}function p(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"input",39),n.NdJ("keyup.enter",function(t){return n.CHM(e),n.oxw(2).onAcceptColor(t)})("newValue",function(t){return n.CHM(e),n.oxw(2).onAlphaInput(t)}),n.qZA()}if(2&e){const e=n.oxw(2);n.Q6J("rg",1)("value",null==e.cmykText?null:e.cmykText.a)}}function g(e,t){1&e&&(n.TgZ(0,"div"),n._uU(1,"A"),n.qZA())}function f(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"div",34),n.TgZ(1,"div",35),n.TgZ(2,"input",36),n.NdJ("keyup.enter",function(t){return n.CHM(e),n.oxw().onAcceptColor(t)})("newValue",function(t){return n.CHM(e),n.oxw().onCyanInput(t)}),n.qZA(),n.TgZ(3,"input",36),n.NdJ("keyup.enter",function(t){return n.CHM(e),n.oxw().onAcceptColor(t)})("newValue",function(t){return n.CHM(e),n.oxw().onMagentaInput(t)}),n.qZA(),n.TgZ(4,"input",36),n.NdJ("keyup.enter",function(t){return n.CHM(e),n.oxw().onAcceptColor(t)})("newValue",function(t){return n.CHM(e),n.oxw().onYellowInput(t)}),n.qZA(),n.TgZ(5,"input",36),n.NdJ("keyup.enter",function(t){return n.CHM(e),n.oxw().onAcceptColor(t)})("newValue",function(t){return n.CHM(e),n.oxw().onBlackInput(t)}),n.qZA(),n.YNc(6,p,1,2,"input",37),n.qZA(),n.TgZ(7,"div",35),n.TgZ(8,"div"),n._uU(9,"C"),n.qZA(),n.TgZ(10,"div"),n._uU(11,"M"),n.qZA(),n.TgZ(12,"div"),n._uU(13,"Y"),n.qZA(),n.TgZ(14,"div"),n._uU(15,"K"),n.qZA(),n.YNc(16,g,2,0,"div",38),n.qZA(),n.qZA()}if(2&e){const e=n.oxw();n.Udp("display",3!==e.format?"none":"block"),n.xp6(2),n.Q6J("rg",100)("value",null==e.cmykText?null:e.cmykText.c),n.xp6(1),n.Q6J("rg",100)("value",null==e.cmykText?null:e.cmykText.m),n.xp6(1),n.Q6J("rg",100)("value",null==e.cmykText?null:e.cmykText.y),n.xp6(1),n.Q6J("rg",100)("value",null==e.cmykText?null:e.cmykText.k),n.xp6(1),n.Q6J("ngIf","disabled"!==e.cpAlphaChannel),n.xp6(10),n.Q6J("ngIf","disabled"!==e.cpAlphaChannel)}}function m(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"input",39),n.NdJ("keyup.enter",function(t){return n.CHM(e),n.oxw(2).onAcceptColor(t)})("newValue",function(t){return n.CHM(e),n.oxw(2).onAlphaInput(t)}),n.qZA()}if(2&e){const e=n.oxw(2);n.Q6J("rg",1)("value",null==e.hslaText?null:e.hslaText.a)}}function _(e,t){1&e&&(n.TgZ(0,"div"),n._uU(1,"A"),n.qZA())}function v(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"div",40),n.TgZ(1,"div",35),n.TgZ(2,"input",41),n.NdJ("keyup.enter",function(t){return n.CHM(e),n.oxw().onAcceptColor(t)})("newValue",function(t){return n.CHM(e),n.oxw().onHueInput(t)}),n.qZA(),n.TgZ(3,"input",36),n.NdJ("keyup.enter",function(t){return n.CHM(e),n.oxw().onAcceptColor(t)})("newValue",function(t){return n.CHM(e),n.oxw().onSaturationInput(t)}),n.qZA(),n.TgZ(4,"input",36),n.NdJ("keyup.enter",function(t){return n.CHM(e),n.oxw().onAcceptColor(t)})("newValue",function(t){return n.CHM(e),n.oxw().onLightnessInput(t)}),n.qZA(),n.YNc(5,m,1,2,"input",37),n.qZA(),n.TgZ(6,"div",35),n.TgZ(7,"div"),n._uU(8,"H"),n.qZA(),n.TgZ(9,"div"),n._uU(10,"S"),n.qZA(),n.TgZ(11,"div"),n._uU(12,"L"),n.qZA(),n.YNc(13,_,2,0,"div",38),n.qZA(),n.qZA()}if(2&e){const e=n.oxw();n.Udp("display",2!==e.format?"none":"block"),n.xp6(2),n.Q6J("rg",360)("value",null==e.hslaText?null:e.hslaText.h),n.xp6(1),n.Q6J("rg",100)("value",null==e.hslaText?null:e.hslaText.s),n.xp6(1),n.Q6J("rg",100)("value",null==e.hslaText?null:e.hslaText.l),n.xp6(1),n.Q6J("ngIf","disabled"!==e.cpAlphaChannel),n.xp6(8),n.Q6J("ngIf","disabled"!==e.cpAlphaChannel)}}function y(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"input",39),n.NdJ("keyup.enter",function(t){return n.CHM(e),n.oxw(2).onAcceptColor(t)})("newValue",function(t){return n.CHM(e),n.oxw(2).onAlphaInput(t)}),n.qZA()}if(2&e){const e=n.oxw(2);n.Q6J("rg",1)("value",null==e.rgbaText?null:e.rgbaText.a)}}function b(e,t){1&e&&(n.TgZ(0,"div"),n._uU(1,"A"),n.qZA())}function w(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"div",42),n.TgZ(1,"div",35),n.TgZ(2,"input",43),n.NdJ("keyup.enter",function(t){return n.CHM(e),n.oxw().onAcceptColor(t)})("newValue",function(t){return n.CHM(e),n.oxw().onRedInput(t)}),n.qZA(),n.TgZ(3,"input",43),n.NdJ("keyup.enter",function(t){return n.CHM(e),n.oxw().onAcceptColor(t)})("newValue",function(t){return n.CHM(e),n.oxw().onGreenInput(t)}),n.qZA(),n.TgZ(4,"input",43),n.NdJ("keyup.enter",function(t){return n.CHM(e),n.oxw().onAcceptColor(t)})("newValue",function(t){return n.CHM(e),n.oxw().onBlueInput(t)}),n.qZA(),n.YNc(5,y,1,2,"input",37),n.qZA(),n.TgZ(6,"div",35),n.TgZ(7,"div"),n._uU(8,"R"),n.qZA(),n.TgZ(9,"div"),n._uU(10,"G"),n.qZA(),n.TgZ(11,"div"),n._uU(12,"B"),n.qZA(),n.YNc(13,b,2,0,"div",38),n.qZA(),n.qZA()}if(2&e){const e=n.oxw();n.Udp("display",1!==e.format?"none":"block"),n.xp6(2),n.Q6J("rg",255)("value",null==e.rgbaText?null:e.rgbaText.r),n.xp6(1),n.Q6J("rg",255)("value",null==e.rgbaText?null:e.rgbaText.g),n.xp6(1),n.Q6J("rg",255)("value",null==e.rgbaText?null:e.rgbaText.b),n.xp6(1),n.Q6J("ngIf","disabled"!==e.cpAlphaChannel),n.xp6(8),n.Q6J("ngIf","disabled"!==e.cpAlphaChannel)}}function A(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"input",39),n.NdJ("keyup.enter",function(t){return n.CHM(e),n.oxw(2).onAcceptColor(t)})("newValue",function(t){return n.CHM(e),n.oxw(2).onAlphaInput(t)}),n.qZA()}if(2&e){const e=n.oxw(2);n.Q6J("rg",1)("value",e.hexAlpha)}}function x(e,t){1&e&&(n.TgZ(0,"div"),n._uU(1,"A"),n.qZA())}function T(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"div",44),n.TgZ(1,"div",35),n.TgZ(2,"input",45),n.NdJ("blur",function(){return n.CHM(e),n.oxw().onHexInput(null)})("keyup.enter",function(t){return n.CHM(e),n.oxw().onAcceptColor(t)})("newValue",function(t){return n.CHM(e),n.oxw().onHexInput(t)}),n.qZA(),n.YNc(3,A,1,2,"input",37),n.qZA(),n.TgZ(4,"div",35),n.TgZ(5,"div"),n._uU(6,"Hex"),n.qZA(),n.YNc(7,x,2,0,"div",38),n.qZA(),n.qZA()}if(2&e){const e=n.oxw();n.Udp("display",0!==e.format?"none":"block"),n.ekj("hex-alpha","forced"===e.cpAlphaChannel),n.xp6(2),n.Q6J("value",e.hexText),n.xp6(1),n.Q6J("ngIf","forced"===e.cpAlphaChannel),n.xp6(4),n.Q6J("ngIf","forced"===e.cpAlphaChannel)}}function C(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"input",39),n.NdJ("keyup.enter",function(t){return n.CHM(e),n.oxw(2).onAcceptColor(t)})("newValue",function(t){return n.CHM(e),n.oxw(2).onAlphaInput(t)}),n.qZA()}if(2&e){const e=n.oxw(2);n.Q6J("rg",1)("value",null==e.hslaText?null:e.hslaText.a)}}function Z(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"div",46),n.TgZ(1,"div",35),n.TgZ(2,"input",36),n.NdJ("keyup.enter",function(t){return n.CHM(e),n.oxw().onAcceptColor(t)})("newValue",function(t){return n.CHM(e),n.oxw().onValueInput(t)}),n.qZA(),n.YNc(3,C,1,2,"input",37),n.qZA(),n.TgZ(4,"div",35),n.TgZ(5,"div"),n._uU(6,"V"),n.qZA(),n.TgZ(7,"div"),n._uU(8,"A"),n.qZA(),n.qZA(),n.qZA()}if(2&e){const e=n.oxw();n.xp6(2),n.Q6J("rg",100)("value",null==e.hslaText?null:e.hslaText.l),n.xp6(1),n.Q6J("ngIf","disabled"!==e.cpAlphaChannel)}}function k(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"div",47),n.TgZ(1,"span",48),n.NdJ("click",function(){return n.CHM(e),n.oxw().onFormatToggle(-1)}),n.qZA(),n.TgZ(2,"span",48),n.NdJ("click",function(){return n.CHM(e),n.oxw().onFormatToggle(1)}),n.qZA(),n.qZA()}}function S(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"span",55),n.NdJ("click",function(t){n.CHM(e);const i=n.oxw().$implicit;return n.oxw(3).onRemovePresetColor(t,i)}),n.qZA()}if(2&e){const e=n.oxw(4);n.Tol(e.cpRemoveColorButtonClass)}}function E(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"div",53),n.NdJ("click",function(){const t=n.CHM(e).$implicit;return n.oxw(3).setColorFromString(t)}),n.YNc(1,S,1,3,"span",54),n.qZA()}if(2&e){const e=t.$implicit,i=n.oxw(3);n.Udp("background-color",e),n.xp6(1),n.Q6J("ngIf",i.cpAddColorButton)}}function M(e,t){if(1&e&&(n.TgZ(0,"div"),n.YNc(1,E,2,3,"div",52),n.qZA()),2&e){const e=n.oxw(2);n.Tol(e.cpPresetColorsClass),n.xp6(1),n.Q6J("ngForOf",e.cpPresetColors)}}function O(e,t){if(1&e&&(n.TgZ(0,"div"),n._uU(1),n.qZA()),2&e){const e=n.oxw(2);n.Tol(e.cpPresetEmptyMessageClass),n.xp6(1),n.Oqu(e.cpPresetEmptyMessage)}}function I(e,t){if(1&e&&(n.TgZ(0,"div",49),n._UZ(1,"hr"),n.TgZ(2,"div",50),n._uU(3),n.qZA(),n.YNc(4,M,2,4,"div",51),n.YNc(5,O,2,4,"div",51),n.qZA()),2&e){const e=n.oxw();n.xp6(3),n.Oqu(e.cpPresetLabel),n.xp6(1),n.Q6J("ngIf",null==e.cpPresetColors?null:e.cpPresetColors.length),n.xp6(1),n.Q6J("ngIf",!(null!=e.cpPresetColors&&e.cpPresetColors.length)&&e.cpAddColorButton)}}function P(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"button",58),n.NdJ("click",function(t){return n.CHM(e),n.oxw(2).onCancelColor(t)}),n._uU(1),n.qZA()}if(2&e){const e=n.oxw(2);n.Tol(e.cpCancelButtonClass),n.xp6(1),n.Oqu(e.cpCancelButtonText)}}function R(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"button",58),n.NdJ("click",function(t){return n.CHM(e),n.oxw(2).onAcceptColor(t)}),n._uU(1),n.qZA()}if(2&e){const e=n.oxw(2);n.Tol(e.cpOKButtonClass),n.xp6(1),n.Oqu(e.cpOKButtonText)}}function q(e,t){if(1&e&&(n.TgZ(0,"div",56),n.YNc(1,P,2,4,"button",57),n.YNc(2,R,2,4,"button",57),n.qZA()),2&e){const e=n.oxw();n.xp6(1),n.Q6J("ngIf",e.cpCancelButton),n.xp6(1),n.Q6J("ngIf",e.cpOKButton)}}function L(e,t){1&e&&n.GkF(0)}function U(e,t){if(1&e&&(n.TgZ(0,"div",59),n.YNc(1,L,1,0,"ng-container",60),n.qZA()),2&e){const e=n.oxw();n.xp6(1),n.Q6J("ngTemplateOutlet",e.cpExtraTemplate)}}var B=(()=>{return(e=B||(B={}))[e.HEX=0]="HEX",e[e.RGBA=1]="RGBA",e[e.HSLA=2]="HSLA",e[e.CMYK=3]="CMYK",B;var e})();class D{constructor(e,t,i,n){this.r=e,this.g=t,this.b=i,this.a=n}}class N{constructor(e,t,i,n){this.h=e,this.s=t,this.v=i,this.a=n}}class F{constructor(e,t,i,n){this.h=e,this.s=t,this.l=i,this.a=n}}class H{constructor(e,t,i,n,o=1){this.c=e,this.m=t,this.y=i,this.k=n,this.a=o}}let $=(()=>{class e{constructor(){this.newValue=new n.vpe}inputChange(e){const t=e.target.value;if(void 0===this.rg)this.newValue.emit(t);else{const e=parseFloat(t);this.newValue.emit({v:e,rg:this.rg})}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=n.lG2({type:e,selectors:[["","text",""]],hostBindings:function(e,t){1&e&&n.NdJ("input",function(e){return t.inputChange(e)})},inputs:{rg:"rg",text:"text"},outputs:{newValue:"newValue"}}),e})(),z=(()=>{class e{constructor(e){this.elRef=e,this.dragEnd=new n.vpe,this.dragStart=new n.vpe,this.newValue=new n.vpe,this.listenerMove=e=>this.move(e),this.listenerStop=()=>this.stop()}mouseDown(e){this.start(e)}touchStart(e){this.start(e)}move(e){e.preventDefault(),this.setCursor(e)}start(e){this.setCursor(e),e.stopPropagation(),document.addEventListener("mouseup",this.listenerStop),document.addEventListener("touchend",this.listenerStop),document.addEventListener("mousemove",this.listenerMove),document.addEventListener("touchmove",this.listenerMove),this.dragStart.emit()}stop(){document.removeEventListener("mouseup",this.listenerStop),document.removeEventListener("touchend",this.listenerStop),document.removeEventListener("mousemove",this.listenerMove),document.removeEventListener("touchmove",this.listenerMove),this.dragEnd.emit()}getX(e){const t=this.elRef.nativeElement.getBoundingClientRect();return(void 0!==e.pageX?e.pageX:e.touches[0].pageX)-t.left-window.pageXOffset}getY(e){const t=this.elRef.nativeElement.getBoundingClientRect();return(void 0!==e.pageY?e.pageY:e.touches[0].pageY)-t.top-window.pageYOffset}setCursor(e){const t=this.elRef.nativeElement.offsetWidth,i=this.elRef.nativeElement.offsetHeight,n=Math.max(0,Math.min(this.getX(e),t)),o=Math.max(0,Math.min(this.getY(e),i));void 0!==this.rgX&&void 0!==this.rgY?this.newValue.emit({s:n/t,v:1-o/i,rgX:this.rgX,rgY:this.rgY}):void 0===this.rgX&&void 0!==this.rgY?this.newValue.emit({v:o/i,rgY:this.rgY}):void 0!==this.rgX&&void 0===this.rgY&&this.newValue.emit({v:n/t,rgX:this.rgX})}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(n.SBq))},e.\u0275dir=n.lG2({type:e,selectors:[["","slider",""]],hostBindings:function(e,t){1&e&&n.NdJ("mousedown",function(e){return t.mouseDown(e)})("touchstart",function(e){return t.touchStart(e)})},inputs:{rgX:"rgX",rgY:"rgY",slider:"slider"},outputs:{dragEnd:"dragEnd",dragStart:"dragStart",newValue:"newValue"}}),e})();class V{constructor(e,t,i,n){this.h=e,this.s=t,this.v=i,this.a=n}}class K{constructor(e,t,i,n){this.h=e,this.s=t,this.v=i,this.a=n}}let W=(()=>{class e{constructor(){this.active=null}setActive(e){this.active&&this.active!==e&&"inline"!==this.active.cpDialogDisplay&&this.active.closeDialog(),this.active=e}hsva2hsla(e){const t=e.h,i=e.s,n=e.v,o=e.a;if(0===n)return new F(t,0,0,o);if(0===i&&1===n)return new F(t,1,1,o);{const e=n*(2-i)/2;return new F(t,n*i/(1-Math.abs(2*e-1)),e,o)}}hsla2hsva(e){const t=Math.min(e.h,1),i=Math.min(e.s,1),n=Math.min(e.l,1),o=Math.min(e.a,1);if(0===n)return new N(t,0,0,o);{const e=n+i*(1-Math.abs(2*n-1))/2;return new N(t,2*(e-n)/e,e,o)}}hsvaToRgba(e){let t,i,n;const o=e.h,r=e.s,s=e.v,a=e.a,l=Math.floor(6*o),c=6*o-l,h=s*(1-r),u=s*(1-c*r),d=s*(1-(1-c)*r);switch(l%6){case 0:t=s,i=d,n=h;break;case 1:t=u,i=s,n=h;break;case 2:t=h,i=s,n=d;break;case 3:t=h,i=u,n=s;break;case 4:t=d,i=h,n=s;break;case 5:t=s,i=h,n=u;break;default:t=0,i=0,n=0}return new D(t,i,n,a)}cmykToRgb(e){return new D((1-e.c)*(1-e.k),(1-e.m)*(1-e.k),(1-e.y)*(1-e.k),e.a)}rgbaToCmyk(e){const t=1-Math.max(e.r,e.g,e.b);return 1===t?new H(0,0,0,1,e.a):new H((1-e.r-t)/(1-t),(1-e.g-t)/(1-t),(1-e.b-t)/(1-t),t,e.a)}rgbaToHsva(e){let t,i;const n=Math.min(e.r,1),o=Math.min(e.g,1),r=Math.min(e.b,1),s=Math.min(e.a,1),a=Math.max(n,o,r),l=Math.min(n,o,r),c=a,h=a-l;if(i=0===a?0:h/a,a===l)t=0;else{switch(a){case n:t=(o-r)/h+(o<r?6:0);break;case o:t=(r-n)/h+2;break;case r:t=(n-o)/h+4;break;default:t=0}t/=6}return new N(t,i,c,s)}rgbaToHex(e,t){let i="#"+(1<<24|e.r<<16|e.g<<8|e.b).toString(16).substr(1);return t&&(i+=(256|Math.round(255*e.a)).toString(16).substr(1)),i}normalizeCMYK(e){return new H(e.c/100,e.m/100,e.y/100,e.k/100,e.a)}denormalizeCMYK(e){return new H(Math.floor(100*e.c),Math.floor(100*e.m),Math.floor(100*e.y),Math.floor(100*e.k),e.a)}denormalizeRGBA(e){return new D(Math.round(255*e.r),Math.round(255*e.g),Math.round(255*e.b),e.a)}stringToHsva(e="",t=!1){let i=null;e=(e||"").toLowerCase();const n=[{re:/(rgb)a?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*%?,\s*(\d{1,3})\s*%?(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(e){return new D(parseInt(e[2],10)/255,parseInt(e[3],10)/255,parseInt(e[4],10)/255,isNaN(parseFloat(e[5]))?1:parseFloat(e[5]))}},{re:/(hsl)a?\(\s*(\d{1,3})\s*,\s*(\d{1,3})%\s*,\s*(\d{1,3})%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(e){return new F(parseInt(e[2],10)/360,parseInt(e[3],10)/100,parseInt(e[4],10)/100,isNaN(parseFloat(e[5]))?1:parseFloat(e[5]))}}];n.push(t?{re:/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})?$/,parse:function(e){return new D(parseInt(e[1],16)/255,parseInt(e[2],16)/255,parseInt(e[3],16)/255,parseInt(e[4]||"FF",16)/255)}}:{re:/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})$/,parse:function(e){return new D(parseInt(e[1],16)/255,parseInt(e[2],16)/255,parseInt(e[3],16)/255,1)}}),n.push({re:/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])$/,parse:function(e){return new D(parseInt(e[1]+e[1],16)/255,parseInt(e[2]+e[2],16)/255,parseInt(e[3]+e[3],16)/255,1)}});for(const o in n)if(n.hasOwnProperty(o)){const t=n[o],r=t.re.exec(e),s=r&&t.parse(r);if(s)return s instanceof D?i=this.rgbaToHsva(s):s instanceof F&&(i=this.hsla2hsva(s)),i}return i}outputFormat(e,t,i){switch("auto"===t&&(t=e.a<1?"rgba":"hex"),t){case"hsla":const t=this.hsva2hsla(e),n=new F(Math.round(360*t.h),Math.round(100*t.s),Math.round(100*t.l),Math.round(100*t.a)/100);return e.a<1||"always"===i?"hsla("+n.h+","+n.s+"%,"+n.l+"%,"+n.a+")":"hsl("+n.h+","+n.s+"%,"+n.l+"%)";case"rgba":const o=this.denormalizeRGBA(this.hsvaToRgba(e));return e.a<1||"always"===i?"rgba("+o.r+","+o.g+","+o.b+","+Math.round(100*o.a)/100+")":"rgb("+o.r+","+o.g+","+o.b+")";default:const r="always"===i||"forced"===i;return this.rgbaToHex(this.denormalizeRGBA(this.hsvaToRgba(e)),r)}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac}),e})();const G="undefined"!=typeof window&&"ontouchstart"in window;let Y=(()=>{class e{constructor(e,t,i,n,r,s){this.ngZone=e,this.elRef=t,this.cdRef=i,this.document=n,this.platformId=r,this.service=s,this.isIE10=!1,this.dialogArrowSize=10,this.dialogArrowOffset=15,this.dialogInputFields=[B.HEX,B.RGBA,B.HSLA,B.CMYK],this.useRootViewContainer=!1,this.eyeDropperSupported=(0,o.NF)(this.platformId)&&"EyeDropper"in this.document.defaultView}handleEsc(e){this.show&&"popup"===this.cpDialogDisplay&&this.onCancelColor(e)}handleEnter(e){this.show&&"popup"===this.cpDialogDisplay&&this.onAcceptColor(e)}ngOnInit(){this.slider=new V(0,0,0,0),this.sliderDimMax=new K(this.hueSlider.nativeElement.offsetWidth||140,this.cpWidth,130,this.alphaSlider.nativeElement.offsetWidth||140),this.format=this.cpCmykEnabled?B.CMYK:"rgba"===this.cpOutputFormat?B.RGBA:"hsla"===this.cpOutputFormat?B.HSLA:B.HEX,this.listenerMouseDown=e=>{this.onMouseDown(e)},this.listenerResize=()=>{this.onResize()},this.openDialog(this.initialColor,!1)}ngOnDestroy(){this.closeDialog()}ngAfterViewInit(){230===this.cpWidth&&"inline"!==this.cpDialogDisplay||(this.sliderDimMax=new K(this.hueSlider.nativeElement.offsetWidth||140,this.cpWidth,130,this.alphaSlider.nativeElement.offsetWidth||140),this.updateColorPicker(!1),this.cdRef.detectChanges())}openDialog(e,t=!0){this.service.setActive(this),this.width||(this.cpWidth=this.directiveElementRef.nativeElement.offsetWidth),this.height||(this.height=320),this.setInitialColor(e),this.setColorFromString(e,t),this.openColorPicker()}closeDialog(){this.closeColorPicker()}setupDialog(e,t,i,n,o,r,s,a,l,c,h,u,d,p,g,f,m,_,v,y,b,w,A,x,T,C,Z,k,S,E,M,O,I,P,R,q,L,U){this.setInitialColor(i),this.setColorMode(a),this.isIE10=10===function(){let e="";"undefined"!=typeof navigator&&(e=navigator.userAgent.toLowerCase());const t=e.indexOf("msie ");return t>0&&parseInt(e.substring(t+5,e.indexOf(".",t)),10)}(),this.directiveInstance=e,this.directiveElementRef=t,this.cpDisableInput=u,this.cpCmykEnabled=l,this.cpAlphaChannel=c,this.cpOutputFormat=h,this.cpDialogDisplay=r,this.cpIgnoredElements=d,this.cpSaveClickOutside=p,this.cpCloseClickOutside=g,this.useRootViewContainer=f,this.width=this.cpWidth=parseInt(n,10),this.height=this.cpHeight=parseInt(o,10),this.cpPosition=m,this.cpPositionOffset=parseInt(_,10),this.cpOKButton=C,this.cpOKButtonText=k,this.cpOKButtonClass=Z,this.cpCancelButton=S,this.cpCancelButtonText=M,this.cpCancelButtonClass=E,this.cpEyeDropper=q,this.fallbackColor=s||"#fff",this.setPresetConfig(y,b),this.cpPresetColorsClass=w,this.cpMaxPresetColorsLength=A,this.cpPresetEmptyMessage=x,this.cpPresetEmptyMessageClass=T,this.cpAddColorButton=O,this.cpAddColorButtonText=P,this.cpAddColorButtonClass=I,this.cpRemoveColorButtonClass=R,this.cpTriggerElement=L,this.cpExtraTemplate=U,v||(this.dialogArrowOffset=0),"inline"===r&&(this.dialogArrowSize=0,this.dialogArrowOffset=0),"hex"===h&&"always"!==c&&"forced"!==c&&(this.cpAlphaChannel="disabled")}setColorMode(e){switch(e.toString().toUpperCase()){case"1":case"C":case"COLOR":this.cpColorMode=1;break;case"2":case"G":case"GRAYSCALE":this.cpColorMode=2;break;case"3":case"P":case"PRESETS":this.cpColorMode=3;break;default:this.cpColorMode=1}}setInitialColor(e){this.initialColor=e}setPresetConfig(e,t){this.cpPresetLabel=e,this.cpPresetColors=t}setColorFromString(e,t=!0,i=!0){let n;"always"===this.cpAlphaChannel||"forced"===this.cpAlphaChannel?(n=this.service.stringToHsva(e,!0),!n&&!this.hsva&&(n=this.service.stringToHsva(e,!1))):n=this.service.stringToHsva(e,!1),!n&&!this.hsva&&(n=this.service.stringToHsva(this.fallbackColor,!1)),n&&(this.hsva=n,this.sliderH=this.hsva.h,"hex"===this.cpOutputFormat&&"disabled"===this.cpAlphaChannel&&(this.hsva.a=1),this.updateColorPicker(t,i))}onResize(){"fixed"===this.position?this.setDialogPosition():"inline"!==this.cpDialogDisplay&&this.closeColorPicker()}onDragEnd(e){this.directiveInstance.sliderDragEnd({slider:e,color:this.outputColor})}onDragStart(e){this.directiveInstance.sliderDragStart({slider:e,color:this.outputColor})}onMouseDown(e){this.show&&!this.isIE10&&"popup"===this.cpDialogDisplay&&e.target!==this.directiveElementRef.nativeElement&&!this.isDescendant(this.elRef.nativeElement,e.target)&&!this.isDescendant(this.directiveElementRef.nativeElement,e.target)&&0===this.cpIgnoredElements.filter(t=>t===e.target).length&&this.ngZone.run(()=>{this.cpSaveClickOutside?this.directiveInstance.colorSelected(this.outputColor):(this.hsva=null,this.setColorFromString(this.initialColor,!1),this.cpCmykEnabled&&this.directiveInstance.cmykChanged(this.cmykColor),this.directiveInstance.colorChanged(this.initialColor),this.directiveInstance.colorCanceled()),this.cpCloseClickOutside&&this.closeColorPicker()})}onAcceptColor(e){e.stopPropagation(),this.outputColor&&this.directiveInstance.colorSelected(this.outputColor),"popup"===this.cpDialogDisplay&&this.closeColorPicker()}onCancelColor(e){this.hsva=null,e.stopPropagation(),this.directiveInstance.colorCanceled(),this.setColorFromString(this.initialColor,!0),"popup"===this.cpDialogDisplay&&(this.cpCmykEnabled&&this.directiveInstance.cmykChanged(this.cmykColor),this.directiveInstance.colorChanged(this.initialColor,!0),this.closeColorPicker())}onEyeDropper(){this.eyeDropperSupported&&(new window.EyeDropper).open().then(e=>{this.setColorFromString(e.sRGBHex,!0)})}onFormatToggle(e){const t=this.dialogInputFields.length-(this.cpCmykEnabled?0:1),i=((this.dialogInputFields.indexOf(this.format)+e)%t+t)%t;this.format=this.dialogInputFields[i]}onColorChange(e){this.hsva.s=e.s/e.rgX,this.hsva.v=e.v/e.rgY,this.updateColorPicker(),this.directiveInstance.sliderChanged({slider:"lightness",value:this.hsva.v,color:this.outputColor}),this.directiveInstance.sliderChanged({slider:"saturation",value:this.hsva.s,color:this.outputColor})}onHueChange(e){this.hsva.h=e.v/e.rgX,this.sliderH=this.hsva.h,this.updateColorPicker(),this.directiveInstance.sliderChanged({slider:"hue",value:this.hsva.h,color:this.outputColor})}onValueChange(e){this.hsva.v=e.v/e.rgX,this.updateColorPicker(),this.directiveInstance.sliderChanged({slider:"value",value:this.hsva.v,color:this.outputColor})}onAlphaChange(e){this.hsva.a=e.v/e.rgX,this.updateColorPicker(),this.directiveInstance.sliderChanged({slider:"alpha",value:this.hsva.a,color:this.outputColor})}onHexInput(e){if(null===e)this.updateColorPicker();else{e&&"#"!==e[0]&&(e="#"+e);let t=/^#([a-f0-9]{3}|[a-f0-9]{6})$/gi;"always"===this.cpAlphaChannel&&(t=/^#([a-f0-9]{3}|[a-f0-9]{6}|[a-f0-9]{8})$/gi);const i=t.test(e);i&&(e.length<5&&(e="#"+e.substring(1).split("").map(e=>e+e).join("")),"forced"===this.cpAlphaChannel&&(e+=Math.round(255*this.hsva.a).toString(16)),this.setColorFromString(e,!0,!1)),this.directiveInstance.inputChanged({input:"hex",valid:i,value:e,color:this.outputColor})}}onRedInput(e){const t=this.service.hsvaToRgba(this.hsva),i=!isNaN(e.v)&&e.v>=0&&e.v<=e.rg;i&&(t.r=e.v/e.rg,this.hsva=this.service.rgbaToHsva(t),this.sliderH=this.hsva.h,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"red",valid:i,value:t.r,color:this.outputColor})}onBlueInput(e){const t=this.service.hsvaToRgba(this.hsva),i=!isNaN(e.v)&&e.v>=0&&e.v<=e.rg;i&&(t.b=e.v/e.rg,this.hsva=this.service.rgbaToHsva(t),this.sliderH=this.hsva.h,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"blue",valid:i,value:t.b,color:this.outputColor})}onGreenInput(e){const t=this.service.hsvaToRgba(this.hsva),i=!isNaN(e.v)&&e.v>=0&&e.v<=e.rg;i&&(t.g=e.v/e.rg,this.hsva=this.service.rgbaToHsva(t),this.sliderH=this.hsva.h,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"green",valid:i,value:t.g,color:this.outputColor})}onHueInput(e){const t=!isNaN(e.v)&&e.v>=0&&e.v<=e.rg;t&&(this.hsva.h=e.v/e.rg,this.sliderH=this.hsva.h,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"hue",valid:t,value:this.hsva.h,color:this.outputColor})}onValueInput(e){const t=!isNaN(e.v)&&e.v>=0&&e.v<=e.rg;t&&(this.hsva.v=e.v/e.rg,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"value",valid:t,value:this.hsva.v,color:this.outputColor})}onAlphaInput(e){const t=!isNaN(e.v)&&e.v>=0&&e.v<=e.rg;t&&(this.hsva.a=e.v/e.rg,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"alpha",valid:t,value:this.hsva.a,color:this.outputColor})}onLightnessInput(e){const t=this.service.hsva2hsla(this.hsva),i=!isNaN(e.v)&&e.v>=0&&e.v<=e.rg;i&&(t.l=e.v/e.rg,this.hsva=this.service.hsla2hsva(t),this.sliderH=this.hsva.h,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"lightness",valid:i,value:t.l,color:this.outputColor})}onSaturationInput(e){const t=this.service.hsva2hsla(this.hsva),i=!isNaN(e.v)&&e.v>=0&&e.v<=e.rg;i&&(t.s=e.v/e.rg,this.hsva=this.service.hsla2hsva(t),this.sliderH=this.hsva.h,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"saturation",valid:i,value:t.s,color:this.outputColor})}onCyanInput(e){!isNaN(e.v)&&e.v>=0&&e.v<=e.rg&&(this.cmyk.c=e.v,this.updateColorPicker(!1,!0,!0)),this.directiveInstance.inputChanged({input:"cyan",valid:!0,value:this.cmyk.c,color:this.outputColor})}onMagentaInput(e){!isNaN(e.v)&&e.v>=0&&e.v<=e.rg&&(this.cmyk.m=e.v,this.updateColorPicker(!1,!0,!0)),this.directiveInstance.inputChanged({input:"magenta",valid:!0,value:this.cmyk.m,color:this.outputColor})}onYellowInput(e){!isNaN(e.v)&&e.v>=0&&e.v<=e.rg&&(this.cmyk.y=e.v,this.updateColorPicker(!1,!0,!0)),this.directiveInstance.inputChanged({input:"yellow",valid:!0,value:this.cmyk.y,color:this.outputColor})}onBlackInput(e){!isNaN(e.v)&&e.v>=0&&e.v<=e.rg&&(this.cmyk.k=e.v,this.updateColorPicker(!1,!0,!0)),this.directiveInstance.inputChanged({input:"black",valid:!0,value:this.cmyk.k,color:this.outputColor})}onAddPresetColor(e,t){e.stopPropagation(),this.cpPresetColors.filter(e=>e===t).length||(this.cpPresetColors=this.cpPresetColors.concat(t),this.directiveInstance.presetColorsChanged(this.cpPresetColors))}onRemovePresetColor(e,t){e.stopPropagation(),this.cpPresetColors=this.cpPresetColors.filter(e=>e!==t),this.directiveInstance.presetColorsChanged(this.cpPresetColors)}openColorPicker(){this.show||(this.show=!0,this.hidden=!0,setTimeout(()=>{this.hidden=!1,this.setDialogPosition(),this.cdRef.detectChanges()},0),this.directiveInstance.stateChanged(!0),this.isIE10||this.ngZone.runOutsideAngular(()=>{G?document.addEventListener("touchstart",this.listenerMouseDown):document.addEventListener("mousedown",this.listenerMouseDown)}),window.addEventListener("resize",this.listenerResize))}closeColorPicker(){this.show&&(this.show=!1,this.directiveInstance.stateChanged(!1),this.isIE10||(G?document.removeEventListener("touchstart",this.listenerMouseDown):document.removeEventListener("mousedown",this.listenerMouseDown)),window.removeEventListener("resize",this.listenerResize),this.cdRef.destroyed||this.cdRef.detectChanges())}updateColorPicker(e=!0,t=!0,i=!1){if(this.sliderDimMax){let n,o,r;2===this.cpColorMode&&(this.hsva.s=0);const s=this.outputColor;if(o=this.service.hsva2hsla(this.hsva),this.cpCmykEnabled?(i?(r=this.service.cmykToRgb(this.service.normalizeCMYK(this.cmyk)),this.hsva=this.service.rgbaToHsva(r)):(r=this.service.hsvaToRgba(this.hsva),this.cmyk=this.service.denormalizeCMYK(this.service.rgbaToCmyk(r))),r=this.service.denormalizeRGBA(r),this.sliderH=this.hsva.h):r=this.service.denormalizeRGBA(this.service.hsvaToRgba(this.hsva)),n=this.service.denormalizeRGBA(this.service.hsvaToRgba(new N(this.sliderH||this.hsva.h,1,1,1))),t&&(this.hslaText=new F(Math.round(360*o.h),Math.round(100*o.s),Math.round(100*o.l),Math.round(100*o.a)/100),this.rgbaText=new D(r.r,r.g,r.b,Math.round(100*r.a)/100),this.cpCmykEnabled&&(this.cmykText=new H(this.cmyk.c,this.cmyk.m,this.cmyk.y,this.cmyk.k,Math.round(100*this.cmyk.a)/100)),this.hexText=this.service.rgbaToHex(r,"always"===this.cpAlphaChannel),this.hexAlpha=this.rgbaText.a),"auto"===this.cpOutputFormat&&this.format!==B.RGBA&&this.format!==B.CMYK&&this.format!==B.HSLA&&this.hsva.a<1&&(this.format=this.hsva.a<1?B.RGBA:B.HEX),this.hueSliderColor="rgb("+n.r+","+n.g+","+n.b+")",this.alphaSliderColor="rgb("+r.r+","+r.g+","+r.b+")",this.outputColor=this.service.outputFormat(this.hsva,this.cpOutputFormat,this.cpAlphaChannel),this.selectedColor=this.service.outputFormat(this.hsva,"rgba",null),this.format!==B.CMYK)this.cmykColor="";else if("always"===this.cpAlphaChannel||"enabled"===this.cpAlphaChannel||"forced"===this.cpAlphaChannel){const e=Math.round(100*this.cmyk.a)/100;this.cmykColor=`cmyka(${this.cmyk.c},${this.cmyk.m},${this.cmyk.y},${this.cmyk.k},${e})`}else this.cmykColor=`cmyk(${this.cmyk.c},${this.cmyk.m},${this.cmyk.y},${this.cmyk.k})`;this.slider=new V((this.sliderH||this.hsva.h)*this.sliderDimMax.h-8,this.hsva.s*this.sliderDimMax.s-8,(1-this.hsva.v)*this.sliderDimMax.v-8,this.hsva.a*this.sliderDimMax.a-8),e&&s!==this.outputColor&&(this.cpCmykEnabled&&this.directiveInstance.cmykChanged(this.cmykColor),this.directiveInstance.colorChanged(this.outputColor))}}setDialogPosition(){if("inline"===this.cpDialogDisplay)this.position="relative";else{let e,t="static",i="",n=null,o=null,r=this.directiveElementRef.nativeElement.parentNode;const s=this.dialogElement.nativeElement.offsetHeight;for(;null!==r&&"HTML"!==r.tagName;){if(e=window.getComputedStyle(r),t=e.getPropertyValue("position"),i=e.getPropertyValue("transform"),"static"!==t&&null===n&&(n=r),i&&"none"!==i&&null===o&&(o=r),"fixed"===t){n=o;break}r=r.parentNode}const a=this.createDialogBox(this.directiveElementRef.nativeElement,"fixed"!==t);if(this.useRootViewContainer||"fixed"===t&&(!n||n instanceof HTMLUnknownElement))this.top=a.top,this.left=a.left;else{null===n&&(n=r);const e=this.createDialogBox(n,"fixed"!==t);this.top=a.top-e.top,this.left=a.left-e.left}"fixed"===t&&(this.position="fixed");let l=this.cpPosition;"auto"===this.cpPosition&&(l=function(e,t){let i="right",n="bottom";const{height:o,width:r}=e,{top:s,left:a}=t,l=s+t.height,c=a+t.width,h=s-o<0,u=l+o>(window.innerHeight||document.documentElement.clientHeight),d=a-r<0,p=c+r>(window.innerWidth||document.documentElement.clientWidth);return u&&(n="top"),h&&(n="bottom"),d&&(i="right"),p&&(i="left"),h&&u&&d&&p?["left","right","top","bottom"].reduce((t,i)=>e[t]>e[i]?t:i):d&&p?h?"bottom":u||s>l?"top":"bottom":h&&u?d?"right":p||a>c?"left":"right":`${n}-${i}`}(this.dialogElement.nativeElement.getBoundingClientRect(),this.cpTriggerElement.nativeElement.getBoundingClientRect())),"top"===l?(this.arrowTop=s-1,this.top-=s+this.dialogArrowSize,this.left+=this.cpPositionOffset/100*a.width-this.dialogArrowOffset):"bottom"===l?(this.top+=a.height+this.dialogArrowSize,this.left+=this.cpPositionOffset/100*a.width-this.dialogArrowOffset):"top-left"===l||"left-top"===l?(this.top-=s-a.height+a.height*this.cpPositionOffset/100,this.left-=this.cpWidth+this.dialogArrowSize-2-this.dialogArrowOffset):"top-right"===l||"right-top"===l?(this.top-=s-a.height+a.height*this.cpPositionOffset/100,this.left+=a.width+this.dialogArrowSize-2-this.dialogArrowOffset):"left"===l||"bottom-left"===l||"left-bottom"===l?(this.top+=a.height*this.cpPositionOffset/100-this.dialogArrowOffset,this.left-=this.cpWidth+this.dialogArrowSize-2):(this.top+=a.height*this.cpPositionOffset/100-this.dialogArrowOffset,this.left+=a.width+this.dialogArrowSize-2),this.cpUsePosition=l}}isDescendant(e,t){let i=t.parentNode;for(;null!==i;){if(i===e)return!0;i=i.parentNode}return!1}createDialogBox(e,t){const{top:i,left:n}=e.getBoundingClientRect();return{top:i+(t?window.pageYOffset:0),left:n+(t?window.pageXOffset:0),width:e.offsetWidth,height:e.offsetHeight}}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(n.R0b),n.Y36(n.SBq),n.Y36(n.sBO),n.Y36(o.K0),n.Y36(n.Lbi),n.Y36(W))},e.\u0275cmp=n.Xpm({type:e,selectors:[["color-picker"]],viewQuery:function(e,t){if(1&e&&(n.Gf(r,7),n.Gf(s,7),n.Gf(a,7)),2&e){let e;n.iGM(e=n.CRH())&&(t.dialogElement=e.first),n.iGM(e=n.CRH())&&(t.hueSlider=e.first),n.iGM(e=n.CRH())&&(t.alphaSlider=e.first)}},hostBindings:function(e,t){1&e&&n.NdJ("keyup.esc",function(e){return t.handleEsc(e)},!1,n.evT)("keyup.enter",function(e){return t.handleEnter(e)},!1,n.evT)},decls:30,vars:51,consts:[[1,"color-picker",3,"click"],["dialogPopup",""],[3,"class","top",4,"ngIf"],["class","saturation-lightness",3,"slider","rgX","rgY","background-color","newValue","dragStart","dragEnd",4,"ngIf"],[1,"hue-alpha","box"],[1,"left"],[1,"selected-color-background"],[1,"selected-color",3,"click"],["class","eyedropper-icon","xmlns","http://www.w3.org/2000/svg","height","24px","viewBox","0 0 24 24","width","24px","fill","#000000",4,"ngIf"],["type","button",3,"class","disabled","click",4,"ngIf"],[1,"right"],["style","height: 16px;",4,"ngIf"],[1,"hue",3,"slider","rgX","newValue","dragStart","dragEnd"],["hueSlider",""],[1,"cursor"],[1,"value",3,"slider","rgX","newValue","dragStart","dragEnd"],["valueSlider",""],[1,"alpha",3,"slider","rgX","newValue","dragStart","dragEnd"],["alphaSlider",""],["class","cmyk-text",3,"display",4,"ngIf"],["class","hsla-text",3,"display",4,"ngIf"],["class","rgba-text",3,"display",4,"ngIf"],["class","hex-text",3,"hex-alpha","display",4,"ngIf"],["class","value-text",4,"ngIf"],["class","type-policy",4,"ngIf"],["class","preset-area",4,"ngIf"],["class","button-area",4,"ngIf"],["class","extra-template",4,"ngIf"],[1,"saturation-lightness",3,"slider","rgX","rgY","newValue","dragStart","dragEnd"],["xmlns","http://www.w3.org/2000/svg","height","24px","viewBox","0 0 24 24","width","24px","fill","#000000",1,"eyedropper-icon"],["d","M0 0h24v24H0V0z","fill","none"],["d","M17.66 5.41l.92.92-2.69 2.69-.92-.92 2.69-2.69M17.67 3c-.26 0-.51.1-.71.29l-3.12 3.12-1.93-1.91-1.41 1.41 1.42 1.42L3 16.25V21h4.75l8.92-8.92 1.42 1.42 1.41-1.41-1.92-1.92 3.12-3.12c.4-.4.4-1.03.01-1.42l-2.34-2.34c-.2-.19-.45-.29-.7-.29zM6.92 19L5 17.08l8.06-8.06 1.92 1.92L6.92 19z"],["type","button",3,"disabled","click"],[2,"height","16px"],[1,"cmyk-text"],[1,"box"],["type","number","pattern","[0-9]*","min","0","max","100",3,"text","rg","value","keyup.enter","newValue"],["type","number","pattern","[0-9]+([\\.,][0-9]{1,2})?","min","0","max","1","step","0.1",3,"text","rg","value","keyup.enter","newValue",4,"ngIf"],[4,"ngIf"],["type","number","pattern","[0-9]+([\\.,][0-9]{1,2})?","min","0","max","1","step","0.1",3,"text","rg","value","keyup.enter","newValue"],[1,"hsla-text"],["type","number","pattern","[0-9]*","min","0","max","360",3,"text","rg","value","keyup.enter","newValue"],[1,"rgba-text"],["type","number","pattern","[0-9]*","min","0","max","255",3,"text","rg","value","keyup.enter","newValue"],[1,"hex-text"],[3,"text","value","blur","keyup.enter","newValue"],[1,"value-text"],[1,"type-policy"],[1,"type-policy-arrow",3,"click"],[1,"preset-area"],[1,"preset-label"],[3,"class",4,"ngIf"],["class","preset-color",3,"backgroundColor","click",4,"ngFor","ngForOf"],[1,"preset-color",3,"click"],[3,"class","click",4,"ngIf"],[3,"click"],[1,"button-area"],["type","button",3,"class","click",4,"ngIf"],["type","button",3,"click"],[1,"extra-template"],[4,"ngTemplateOutlet"]],template:function(e,t){1&e&&(n.TgZ(0,"div",0,1),n.NdJ("click",function(e){return e.stopPropagation()}),n.YNc(2,l,1,5,"div",2),n.YNc(3,c,2,8,"div",3),n.TgZ(4,"div",4),n.TgZ(5,"div",5),n._UZ(6,"div",6),n.TgZ(7,"div",7),n.NdJ("click",function(){return t.eyeDropperSupported&&t.cpEyeDropper&&t.onEyeDropper()}),n.YNc(8,h,3,0,"svg",8),n.qZA(),n.YNc(9,u,2,5,"button",9),n.qZA(),n.TgZ(10,"div",10),n.YNc(11,d,1,0,"div",11),n.TgZ(12,"div",12,13),n.NdJ("newValue",function(e){return t.onHueChange(e)})("dragStart",function(){return t.onDragStart("hue")})("dragEnd",function(){return t.onDragEnd("hue")}),n._UZ(14,"div",14),n.qZA(),n.TgZ(15,"div",15,16),n.NdJ("newValue",function(e){return t.onValueChange(e)})("dragStart",function(){return t.onDragStart("value")})("dragEnd",function(){return t.onDragEnd("value")}),n._UZ(17,"div",14),n.qZA(),n.TgZ(18,"div",17,18),n.NdJ("newValue",function(e){return t.onAlphaChange(e)})("dragStart",function(){return t.onDragStart("alpha")})("dragEnd",function(){return t.onDragEnd("alpha")}),n._UZ(20,"div",14),n.qZA(),n.qZA(),n.qZA(),n.YNc(21,f,17,12,"div",19),n.YNc(22,v,14,10,"div",20),n.YNc(23,w,14,10,"div",21),n.YNc(24,T,8,7,"div",22),n.YNc(25,Z,9,3,"div",23),n.YNc(26,k,3,0,"div",24),n.YNc(27,I,6,3,"div",25),n.YNc(28,q,3,2,"div",26),n.YNc(29,U,2,1,"div",27),n.qZA()),2&e&&(n.Udp("display",t.show?"block":"none")("visibility",t.hidden?"hidden":"visible")("top",t.top,"px")("left",t.left,"px")("position",t.position)("height",t.cpHeight,"px")("width",t.cpWidth,"px"),n.ekj("open",t.show),n.xp6(2),n.Q6J("ngIf","popup"===t.cpDialogDisplay),n.xp6(1),n.Q6J("ngIf",1===(t.cpColorMode||1)),n.xp6(4),n.Udp("background-color",t.selectedColor)("cursor",t.eyeDropperSupported&&t.cpEyeDropper?"pointer":null),n.xp6(1),n.Q6J("ngIf",t.eyeDropperSupported&&t.cpEyeDropper),n.xp6(1),n.Q6J("ngIf",t.cpAddColorButton),n.xp6(2),n.Q6J("ngIf","disabled"===t.cpAlphaChannel),n.xp6(1),n.Udp("display",1===(t.cpColorMode||1)?"block":"none"),n.Q6J("rgX",1),n.xp6(2),n.Udp("left",null==t.slider?null:t.slider.h,"px"),n.xp6(1),n.Udp("display",2===(t.cpColorMode||1)?"block":"none"),n.Q6J("rgX",1),n.xp6(2),n.Udp("right",null==t.slider?null:t.slider.v,"px"),n.xp6(1),n.Udp("display","disabled"===t.cpAlphaChannel?"none":"block")("background-color",t.alphaSliderColor),n.Q6J("rgX",1),n.xp6(2),n.Udp("left",null==t.slider?null:t.slider.a,"px"),n.xp6(1),n.Q6J("ngIf",!t.cpDisableInput&&1===(t.cpColorMode||1)),n.xp6(1),n.Q6J("ngIf",!t.cpDisableInput&&1===(t.cpColorMode||1)),n.xp6(1),n.Q6J("ngIf",!t.cpDisableInput&&1===(t.cpColorMode||1)),n.xp6(1),n.Q6J("ngIf",!t.cpDisableInput&&1===(t.cpColorMode||1)),n.xp6(1),n.Q6J("ngIf",!t.cpDisableInput&&2===(t.cpColorMode||1)),n.xp6(1),n.Q6J("ngIf",!t.cpDisableInput&&1===(t.cpColorMode||1)),n.xp6(1),n.Q6J("ngIf",(null==t.cpPresetColors?null:t.cpPresetColors.length)||t.cpAddColorButton),n.xp6(1),n.Q6J("ngIf",t.cpOKButton||t.cpCancelButton),n.xp6(1),n.Q6J("ngIf",t.cpExtraTemplate))},directives:[o.O5,z,$,o.sg,o.tP],styles:['.color-picker{position:absolute;z-index:1000;width:230px;height:auto;border:#777 solid 1px;cursor:default;-webkit-user-select:none;user-select:none;background-color:#fff}.color-picker *{box-sizing:border-box;margin:0;font-size:11px}.color-picker input{width:0;height:26px;min-width:0;font-size:13px;text-align:center;color:#000}.color-picker input:invalid,.color-picker input:-moz-ui-invalid,.color-picker input:-moz-submit-invalid{box-shadow:none}.color-picker input::-webkit-inner-spin-button,.color-picker input::-webkit-outer-spin-button{margin:0;-webkit-appearance:none}.color-picker .arrow{position:absolute;z-index:999999;width:0;height:0;border-style:solid}.color-picker .arrow.arrow-top{left:8px;border-width:10px 5px;border-color:#777 rgba(0,0,0,0) rgba(0,0,0,0) rgba(0,0,0,0)}.color-picker .arrow.arrow-bottom{top:-20px;left:8px;border-width:10px 5px;border-color:rgba(0,0,0,0) rgba(0,0,0,0) #777 rgba(0,0,0,0)}.color-picker .arrow.arrow-top-left,.color-picker .arrow.arrow-left-top{right:-21px;bottom:8px;border-width:5px 10px;border-color:rgba(0,0,0,0) rgba(0,0,0,0) rgba(0,0,0,0) #777}.color-picker .arrow.arrow-top-right,.color-picker .arrow.arrow-right-top{bottom:8px;left:-20px;border-width:5px 10px;border-color:rgba(0,0,0,0) #777 rgba(0,0,0,0) rgba(0,0,0,0)}.color-picker .arrow.arrow-left,.color-picker .arrow.arrow-left-bottom,.color-picker .arrow.arrow-bottom-left{top:8px;right:-21px;border-width:5px 10px;border-color:rgba(0,0,0,0) rgba(0,0,0,0) rgba(0,0,0,0) #777}.color-picker .arrow.arrow-right,.color-picker .arrow.arrow-right-bottom,.color-picker .arrow.arrow-bottom-right{top:8px;left:-20px;border-width:5px 10px;border-color:rgba(0,0,0,0) #777 rgba(0,0,0,0) rgba(0,0,0,0)}.color-picker .cursor{position:relative;width:16px;height:16px;border:#222 solid 2px;border-radius:50%;cursor:default}.color-picker .box{display:flex;padding:4px 8px}.color-picker .left{position:relative;padding:16px 8px}.color-picker .right{flex:1 1 auto;padding:12px 8px}.color-picker .button-area{padding:0 16px 16px;text-align:right}.color-picker .button-area button{margin-left:8px}.color-picker .preset-area{padding:4px 15px}.color-picker .preset-area .preset-label{overflow:hidden;width:100%;padding:4px;font-size:11px;white-space:nowrap;text-align:left;text-overflow:ellipsis;color:#555}.color-picker .preset-area .preset-color{position:relative;display:inline-block;width:18px;height:18px;margin:4px 6px 8px;border:#a9a9a9 solid 1px;border-radius:25%;cursor:pointer}.color-picker .preset-area .preset-empty-message{min-height:18px;margin-top:4px;margin-bottom:8px;font-style:italic;text-align:center}.color-picker .hex-text{width:100%;padding:4px 8px;font-size:11px}.color-picker .hex-text .box{padding:0 24px 8px 8px}.color-picker .hex-text .box div{float:left;flex:1 1 auto;text-align:center;color:#555;clear:left}.color-picker .hex-text .box input{flex:1 1 auto;padding:1px;border:#a9a9a9 solid 1px}.color-picker .hex-alpha .box div:first-child,.color-picker .hex-alpha .box input:first-child{flex-grow:3;margin-right:8px}.color-picker .cmyk-text,.color-picker .hsla-text,.color-picker .rgba-text,.color-picker .value-text{width:100%;padding:4px 8px;font-size:11px}.color-picker .cmyk-text .box,.color-picker .hsla-text .box,.color-picker .rgba-text .box{padding:0 24px 8px 8px}.color-picker .value-text .box{padding:0 8px 8px}.color-picker .cmyk-text .box div,.color-picker .hsla-text .box div,.color-picker .rgba-text .box div,.color-picker .value-text .box div{flex:1 1 auto;margin-right:8px;text-align:center;color:#555}.color-picker .cmyk-text .box div:last-child,.color-picker .hsla-text .box div:last-child,.color-picker .rgba-text .box div:last-child,.color-picker .value-text .box div:last-child{margin-right:0}.color-picker .cmyk-text .box input,.color-picker .hsla-text .box input,.color-picker .rgba-text .box input,.color-picker .value-text .box input{float:left;flex:1;padding:1px;margin:0 8px 0 0;border:#a9a9a9 solid 1px}.color-picker .cmyk-text .box input:last-child,.color-picker .hsla-text .box input:last-child,.color-picker .rgba-text .box input:last-child,.color-picker .value-text .box input:last-child{margin-right:0}.color-picker .hue-alpha{align-items:center;margin-bottom:3px}.color-picker .hue{direction:ltr;width:100%;height:16px;margin-bottom:16px;border:none;cursor:pointer;background-size:100% 100%;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAAAQCAYAAAD06IYnAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4AIWDwkUFWbCCAAAAFxJREFUaN7t0kEKg0AQAME2x83/n2qu5qCgD1iDhCoYdpnbQC9bbY1qVO/jvc6k3ad91s7/7F1/csgPrujuQ17BDYSFsBAWwgJhISyEBcJCWAgLhIWwEBYIi2f7Ar/1TCgFH2X9AAAAAElFTkSuQmCC)}.color-picker .value{direction:rtl;width:100%;height:16px;margin-bottom:16px;border:none;cursor:pointer;background-size:100% 100%;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAAAQCAYAAAD06IYnAAACTklEQVR42u3SYUcrABhA4U2SkmRJMmWSJklKJiWZZpKUJJskKUmaTFImKZOUzMySpGRmliRNJilJSpKSJEtmSpIpmWmSdO736/6D+x7OP3gUCoWCv1cqlSQlJZGcnExKSgqpqamkpaWRnp5ORkYGmZmZqFQqsrKyyM7OJicnh9zcXNRqNXl5eeTn56PRaCgoKKCwsJCioiK0Wi3FxcWUlJRQWlpKWVkZ5eXlVFRUUFlZiU6no6qqiurqampqaqitraWurg69Xk99fT0GgwGj0UhDQwONjY00NTXR3NxMS0sLra2ttLW10d7ejslkwmw209HRQWdnJ11dXXR3d9PT00Nvby99fX309/czMDDA4OAgFouFoaEhrFYrw8PDjIyMMDo6ytjYGDabjfHxcSYmJpicnGRqagq73c709DQzMzPMzs4yNzfH/Pw8DocDp9OJy+XC7XazsLDA4uIiS0tLLC8vs7KywurqKmtra3g8HrxeLz6fD7/fz/r6OhsbG2xubrK1tcX29jaBQICdnR2CwSC7u7vs7e2xv7/PwcEBh4eHHB0dcXx8zMnJCaenp5ydnXF+fs7FxQWXl5dcXV1xfX3Nzc0Nt7e33N3dEQqFuL+/5+HhgXA4TCQS4fHxkaenJ56fn3l5eeH19ZVoNMrb2xvv7+98fHwQi8WIx+N8fn6SSCT4+vri+/ubn58ffn9/+VcKgSWwBJbAElgCS2AJLIElsASWwBJYAktgCSyBJbAElsASWAJLYAksgSWwBJbAElgCS2AJLIElsP4/WH8AmJ5Z6jHS4h8AAAAASUVORK5CYII=)}.color-picker .alpha{direction:ltr;width:100%;height:16px;border:none;cursor:pointer;background-size:100% 100%;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAAAQCAYAAAD06IYnAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4AIWDwYQlZMa3gAAAWVJREFUaN7tmEGO6jAQRCsOArHgBpyAJYGjcGocxAm4A2IHpmoWE0eBH+ezmFlNvU06shJ3W6VEelWMUQAIIF9f6qZpimsA1LYtS2uF51/u27YVAFZVRUkEoGHdPV/sIcbIEIIkUdI/9Xa7neyv61+SWFUVAVCSct00TWn2fv6u3+Ecfd3tXzy/0+nEUu+SPjo/kqzrmiQpScN6v98XewfA8/lMkiLJ2WxGSUopcT6fM6U0NX9/frfbjev1WtfrlZfLhYfDQQHG/AIOlnGwjINlHCxjHCzjYJm/TJWdCwquJXseFFzGwDNNeiKMOJTO8xQdDQaeB29+K9efeLaBo9J7vdvtJj1RjFFjfiv7qv95tjx/7leSQgh93e1ffMeIp6O+YQjho/N791t1XVOSSI7N//K+4/GoxWLBx+PB5/Op5XLJ+/3OlJJWqxU3m83ovv5iGf8KjYNlHCxjHCzjYBkHy5gf5gusvQU7U37jTAAAAABJRU5ErkJggg==)}.color-picker .type-policy{position:absolute;top:218px;right:12px;width:16px;height:24px;background-size:8px 16px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAAgCAYAAAAffCjxAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAACewAAAnsB01CO3AAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAIASURBVEiJ7ZY9axRRFIafsxMStrLQJpAgpBFhi+C9w1YSo00I6RZ/g9vZpBf/QOr4GyRgkSKNSrAadsZqQGwCkuAWyRZJsySwvhZ7N/vhzrgbLH3Ld8597jlzz50zJokyxXH8DqDVar0qi6v8BbItqSGpEcfxdlmsFWXkvX8AfAVWg3UKPEnT9GKujMzsAFgZsVaCN1VTQd77XUnrgE1kv+6935268WRpzrnHZvYRWC7YvC3pRZZl3wozqtVqiyH9IgjAspkd1Gq1xUJQtVrdB9ZKIAOthdg/Qc65LUk7wNIMoCVJO865rYFhkqjX6/d7vV4GPJwBMqofURS5JEk6FYBer/eeYb/Mo9WwFnPOvQbeAvfuAAK4BN4sAJtAG/gJIElmNuiJyba3EGNmZiPeZuEVmVell/Y/6N+CzDn3AXhEOOo7Hv/3BeAz8IzQkMPnJbuPx1wC+yYJ7/0nYIP5S/0FHKdp+rwCEEXRS/rf5Hl1Gtb2M0iSpCOpCZzPATmX1EySpHMLAsiy7MjMDoHrGSDXZnaYZdnRwBh7J91utwmczAA6CbG3GgPleX4jqUH/a1CktqRGnuc3hSCAMB32gKspkCtgb3KCQMmkjeP4WNJThrNNZval1WptTIsv7JtQ4tmIdRa8qSoEpWl6YWZNoAN0zKxZNPehpLSBZv2t+Q0CJ9lLnARQLAAAAABJRU5ErkJggg==);background-repeat:no-repeat;background-position:center}.color-picker .type-policy .type-policy-arrow{display:block;width:100%;height:50%}.color-picker .selected-color{position:absolute;top:16px;left:8px;width:40px;height:40px;border:1px solid #a9a9a9;border-radius:50%}.color-picker .selected-color-background{width:40px;height:40px;border-radius:50%;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAh0lEQVRYR+2W0QlAMQgD60zdfwOdqa8TmI/wQMr5K0I5bZLIzLOa2nt37VVVbd+dDx5obgCC3KBLwJ2ff4PnVidkf+ucIhw80HQaCLo3DMH3CRK3iFsmAWVl6hPNDwt8EvNE5q+YuEXcMgkonVM6SdyCoEvAnZ8v1Hjx817MilmxSUB5rdLJDycZgUAZUch/AAAAAElFTkSuQmCC)}.color-picker .saturation-lightness{direction:ltr;width:100%;height:130px;border:none;cursor:pointer;touch-action:manipulation;background-size:100% 100%;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOYAAACCCAYAAABSD7T3AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4AIWDwksPWR6lgAAIABJREFUeNrtnVuT47gRrAHN+P//Or/61Y5wONZ7mZ1u3XAeLMjJZGZVgdKsfc5xR3S0RIIUW+CHzCpc2McYo7XGv3ex7UiZd57rjyzzv+v+33X/R/+3r/f7vR386Y+TvKNcf/wdhTLPcv9qU2wZd74uth0t1821jkIZLPcsI/6nWa4XvutquU0Z85mnx80S/ZzgpnLnOtHNt7/ofx1TKXcSNzN/7qbMQ3ju7rNQmMYYd/4s2j9aa+P+gGaMcZrb1M/tdrvf7/d2v99P9/t93O/3cbvdxu12G9frdVwul3E+n8c///nP+2+//Xb66aefxl//+tfx5z//2YK5Al2rgvf4UsbpdGrB52bAvArXpuzjmiqAVSGz5eDmGYXzhbAZmCrnmzddpUU+8Y1dAOYeXCtDUwVwV7YCGH6uAmyMcZ9l5vkUaBPGMUZ7/J5w/792/fvv9Xq93263dr/fTxPECeME8nK5jM/Pz/HTTz/dv337dvrll1/GP/7xj/G3v/1t/OUvfwkVswongjdOp9PzH3U3D3zmWGnZVXn4jCqs7wC2BKP4/8tAzkZsoWx6XrqeHZymvp4ABCBJhTQwKfDT8gzrZCIqi5AhiACjBfEB2rP8/X63MM7f6/V6v9/v7Xa7bYC83W7jcrlsVHIq5ffv30+//fbb+OWXX8ZPP/00/v73v4+ff/75JSvbeu+bL2WMMaFbAlpBNM85QX+ct6qoSqkPAwuQlBVKqGNFSUOAA3Bmu7gC5hNOd15nSwvAOUW7C4giUCV8Sgn5L9hNFIqTsp0GxI0ysioyjAjkY/tGJVEpz+fz+OWXX+7fv38//f777+Pbt2/j119/HT///PP49ddfx8fHRwrmTjV779EXu2px2xhjwtdJZQcAWQIPLPISsMJaSwiD8gzIKrwSyATE5j5nAbR5c1dBUwBlsEWW0h6LqiYsqFPAQxCyRZ3wOSARxmlXMX5k64pQfvv27f75+dk+Pj5OHx8f4/v37+Pbt2/jt99+G9++fRsfHx/jcrmUFLO31gYDWblxRIs/TqfT7ousxJsAxXA2Gc7TA9XdgfdoHbFsj76X2+1WArgI1ageGwA3qupqoHsmcbI6Fu93quggFa9d7LeDtgKfAFHBJ+NEByIkcJ5KervdTmhhGcgJJSZ5vn//fj+fz+18Pp8+Pz/H5+fnmGD+/vvv4/v37+Pj42N8fn6O2+1Ws7JjjP6wraMI5E4RZ8x2vV5TSwkquotV7/d7Tz6HFWsD/qNcdw0CQ3q/321c686TwDVIdbuy73zNldhSHb8I2klZznm+InBS4U6n0302aBFsLhHDAKJVJVglfI9jhvu53W53sLANYNxAiDA6MCeUHx8f9+v12i6XS7tcLqcZW57P5yeY8/fz83Ocz+fnsSmYUyknWEG85WBst9stzSLyMdfr9Qi08iY15UZ0LlDGLhR3o5zK2j7OPUTD0E+nU3tk7Xb/16NFbhloAMuY1zjLUOO3BKeIDe+Z8s3/J4gFo4TM5jPmuRg28foUKKVSwo16TgA5npywcWLHgYl/Pz8/73/605/ab7/91m63W7tcLie0sZj4mao5gTyfz88E0f1+j8EcYzwTPEG2cqjyfHNF0M8fuqEiaOVnRzZZQNh5fwQyHg/HDGfJo89Q1zb/quu5XC6773I2XKfTqd/v9+d3wuqWva/YTdUdEV3fhIv/Viyps6YE3x3r43K5bJQS66zaxVGFsvd+//j4aF+/fm3fv39vt9utff36tf3+++/tdrudvn37ZuNLBaaCMgUzC+rZRiFowxUuJI8YMqcCp9Opq5vagaYU6lGJA1XQqejchw6Cj0Gw5nYBrGw01A2O206n04BGouNNyTfp/FwElhUey6nXrIKw7QQWddxuN2ldL5fL839gSPF8ahu/JvBO48CPSuqMf8Vp9/P53L58+dLu93s7n8/tfr8/39/v9/b5+TkhPJ3P56mQ436/j+/fv+/iSgbzer0+AZx/5+88bv6OMda6S5z6kd21fYC9dxv7cIJJ2d9AOS30fPMzyHiTM8B4DF6XUlYHp4KQW3W+1t77MNB1vGHxWq7Xa7vf78+y5/N5A+H1et29xuP5dbYtyaRu4AksbPq6936fjRzXRxBbPr/b+b18+fKljTHaBBBfn8/n0/1+H1++fBnn8zm0sB8fH5u4cr5GuBhMVk0EEn9RsctgVhM+ixlJtMA23R8B6yysAstBOgFXIKKCMIgToMqNEu2fYMH7ztc732dQKkCj1ytAZtY0Kx8pIr8GGJ+AT3V+2Hirhl++fBmXy2Wz73w+b17P8p+fn8/tUwGVleVkTyUb68DkfayWY4zxNRihU4EpLJPZVrK+u7J4/mgfKqeLW9X2REWlItL1diynbDDb3+jXgYjQqn0rrxWc+NkILP7F7xIbMvx7vV53x40xnlbWJF12ZSag/N0pW6t+ZzmOMzHjajKwDfond78zYTdfq18up97zr2q8v3IioBprRtBl0EZ9og5WBRGOdOHjIjXF7UotFbgOWnXzIJyzYvjG5IYgsmMOxHkz8OsMSrVNWeq5T8DaOcbEv1Od5rbs9aO7YvMet63EkF++fMExq+MRl4/L5bLZN/+ez+fnZ6KazuMqXSQVO5spJXflHAIzes/xJseckRJiDMog9d6VfRrqXMr6KpVV27jRwJacGovOAM1zMdQMnwK1AubK63kdCChvI1C7g0z9nf/D+Xze2Vj8H7Gx4P9duQlsYCrqyN8XqG3Hm/10Oj3jw/n+crlstuM+jPmmxT2dTuPz83Pzt2pn1XsEHX/bnPaVqVmh0xwOt0o6XLLAHePUU203wHfcrspCwmV3TryB5s0Mseeg97x/BwzCjBlbB+pRAPla0BVQuT6V6QHdBlj3d0KG147b+DqxQeUymDO43W4dQar+TIjwmAd0z8/h65vf0/yLv3Pb5XLpru/ydDo9s7ET0I+Pj6dKK9VUEIeKWQWPAOrJ8LKd4vE+t91Y3e7UFlWatg2VwJnb+HPmtvm/sfK59/OaWF3x/eP1UPHvA5DDYDpYXfb0drv1V2DkBkxtw/tEWVVlXWdC9pFYs5/jfh9dS/16vW7s6lTG+TfqsxSJHxkXXq/Xdr1eu4LsfD6P3vsT3N77DkL+zPm5jSdKL4zR3AxQd6rHkLkYlSowsrq7znzu6wSwdsMJOXmA5fBcjxtgMGBYHlr5zokhtsMCTgXLQOW4XC6dEyEMprL8mAQzXRgduix2yZzorxkYsDn3hB1VeMLGsXsVtgl2pW8S3svk0vw7R4hNaHvv4cACl5HFzwIH0Kc6zu4XjDPR/jpAVxWzO1Xk2DDb3vTcxeGU1iWZHkmIDWziWKvirCJ4Dravs6IJ/GG6cTqWdXDy+fArQDVVkLqkVjAoZIITdmmIqXwqa95N3+MGYoZQdRVNO53Y1xRkhO16vY7eu507Ca9lJnbGpxOemQhSw/AQsmmp5zU9BiU8G6wvX76M6/U6Pj4+do0Bz4CpgiknTUeDqwlKBmg3u4OVjrZ1A+rAcgaejWq6eJCvCYFDONSwOgHX4EQRw8lxbzDOdEK6gZ3Hk1b+8g2o1JFtKXyv/fEdTXuWjWXdAZiBp6ADeDrCFiim7B6ZFneeI7Gvm/PMkUDX67W7xI8b0D7/v8dA9qfN5oaCf74WZjH0mf1cmfY1Y0JUFmVrTWu8uzkNcLtEj7u5FXBTkfC6GOA5q8YMxO8KVvF6sAVGdcrUbsKODcQKkLMOMdmlxum642YrPm26AlhZW1YB1R+rrGswE8TaYAWeUMxdf+WjwSvZ2Ef3ytOyfn5+PpVPAaqOn43MtNBqvmjjxbjM4lZjZY4gqNMI5ktaW/sYKNwS+9lFQzGihmMCKPa7+Z0V6Eb0GRmobtpX8JljWu5FMLN5ja6hG9kwQgZqf5+1NH5UxzkFReCdWhJ8XdlGUkxO7HRlYRm4mVO43W7ter12TPJEw/rmEN3L5SKHIWZg9mz+pUoKOYq5bJTJdX2gme1UcxMZQFaEQIlHct32M+Y1BzGkGuzfiyAN9z+ugplZ1symCrDCYYkGxDTpI9RzBy0rHyeDUC1nWaeUaD9n4xkNyYMBDZtzZ3B++fJlY21XFDOcARJlabOyiS3uCpLI9jrZjCDkaVvcCCjwognKShWdzXZWlZMvVTgD8LpqlCLrqgbcB+qYwrgKYpT0ccCqbKyCValkEabn/FynogCrPKfqf51xJ7sGB2ZXcZmxoSOztjx300DZi7a0/2AIR0UlBag9SuDw6KcAzlaB7vHZvWpjK90dyrq6bKyDUZQbR0B05biLQkHIcSUmgIK+SwuqgHCnoio2RQU1yj+BnBy9pphVKLGyC7ZzFK1pxWK+E8IhVCWLN/uLtnUU4ayoYLoaANz8FdtaSvY4pV0BEW2ls61czqllBKpTyKgMAhrZ1cdc1RROtPmvWNkdcKZ7ZKxaWjiPLJMpp7OZKxA+rqG/oJLjxf0pnJlqLoDZo3gyU0mKGys2taKecj/d1C+rJSplBqlTyAqgR+D8KjKlmRL2gtUcAdCtsL+ijCNT1oqqqkH2OHEbG5sDFnUg5Aa+yLou2VU1ptj1S2ZQqv1ORZN9IWzRfgaRBxKoBE8UWyqlJFtrIc0AxNjSjed99CTY/XDfSzCz5M0IZoVEsWnPFNTsl8ooVC1TzbGgqFZNDSgVwKK+1sGDMKqxZCWGVMDysiEr1jVSQJUYwj5iHOlThdHt44SQg9CN+nl8D90NMIgAdgr46JqRiR9I8vRdFvbr17m/yxUMKjNLMiVUADwu2CWGhhi+F55TWM9M9cogzms1dnM4uOF/LAEYWdcqnM7yFmyq3IfwmOROd7Y1iFWtOjoY8To41mTV5IysgFFuRzsbWFGbNIIJCDv1dOo4lZG7jWBwRFtVTKuWyeCByJKOan8oZ3ep9XddNl0tDuaywLz9cXPYeDAA0SpkBO9sbVcTOVWldPv4uyzEkzxHtjvonHoSkFEWNoo1d8DhcQputd2ppNon4BzoAiJ1hBFQg0dVtdbGHHDQWushmNEQukLM2QO1G2Y8bgTXqFhcBJj7EjPgcPts8US8qPpPB/dXznOh5Z438tzH5ec6QgrOKrRRfKmysBmUDB+PhYabMlVPER+GCSITTzr7am2tArH3bgcEzPJm+cr5jJ4NnHNFDVrFXcI5Le9k5Jnw+bedbV+FfRzZIHaOOaOsLY0/7UGs58DjrGwKMIMFIGzOEW1/jGsdAtCN6hEAI4hBe9YXeRROBSVPAVPAqvIM5bx5hVKWAMP6zBRy3iescridVdFBinBxXDnG2GRY2XbCvp1lhvGtO9Bxu5h908XQu42lnSArMFdizMim8uwRCxPGnnOS8lwpnbOiDqTAjsrRN/PcoAScCbaACqVM40ylnjjTBs+bwWlAG23/UKbdkiwKWIQPGzWaczpoSlxPEj822cNWkpS7FyzsDrqpfgpG3jahw2vgbaSQAxuLWZYt7JzyNe8JoZpNAcvDFOdw0wqYT9AK1rZz/DdbSlLPp0ryIxgQJlK9AZlEq7IOXpohg9PIhrCng88JsOxiV4ZWAYfg4sikx/8ky2Z9l862uqwrfscIH8+ugTmVGyiddeVYUgEMn4GZzg14EwIsh9sx2cKKiWXReuOE5gzGOQgdlRKVVdlevqb279Xq0Qnsts2VDaBO0coezsruWtHApu6sKG4IBhN0aGU2kLrMKGRTN3HmbCDwKV14zvkMEDG4QfZVspVlaNU2mhc5TEZ3N1h/zqTheuLpW05ZWTGVjb3dbnNmxKZBnN8JqidaVLKAOyARNLS+MB54Z2+VaqoMLKroVBlngefnTPAcoHNWCSvlfA8CI0HEmBNBnBlXyMrzU7A7WVm94PPqQ2gmqKx+WDGsnvilmcSOBJqOK1nYyAIzuAyesq3UdSK3KfWcYKD95HmfYOU3qser2CtYEUA+FpfqdNvgPBZUBhDrGONRVlQsh8rLcaUCykHG0OOUwTlLBrsh5soEMGezi1E4HRVt1icp5wZEFXdibCkG8Y8vX75sbO4E0iom9z+hjSiOfy3DhpXItpVhE+UGQdvoWjtChmrGHf4YAzKgBNnGtuJxFCeGdhUAfQLLK8kBYAP6gvFJZajMG3Xkycy8KuC0q4Eyymwtwdxdv2M0mIBtK0LKnf640j00Auq4gUkdWGlhs22qJc6dZCsL19oxnlTJG4SYVRIGpD8TPFBuM6OElbS1pldid4mGAyN6ZIupbC5bXJN9fdpbThSxLUaI8IG1XIYBxW3Tjs6KQosKcxfxcQmdnwRGM10GnFcCy2XYunLMyAkdgk4mePiczsLygthcBut6goOqS7YVFXADLjaosB6s6ofcZWAZSIRYqSUkizYwttYab3vUOQ9w2HRxIIg8WwRVeE68xi4UtL3zRphxplzwuZrcqYCq1I3jPI5dnJIygEohMbPqVJSzrwzxBJTs5zN+ReUSgxikPQVF3JVBeNQxbHENrEMNvEdFZVV9lH9+ORGEsNZQpyTNc4C3AG7XF4ngzq+DrO2zbuaaOXgdaFcdkEotoSFBVX2qJ0C8OWZeG4KGlpghA0XfTOPCqV2qqwQ26QWfF2PMLhI2w1lVAa2aPsYd0za25MQRwgcZN6uQDCi+ZxiD4XEM2kZxOT41FnZnaRlcpZouzlRqqdbQVWopQoSB58RV50lBNrHi/AwXS5LrwDVlpY3Fc3ByiYGc52Trist6kOXdwInAQtJpp5QchyaquYOV7Su+fxVMaV3dc0RE2S6mUY0gLt2pMcYqrKIQ9w2l1gpQUMtQYcmmbt5DTNxdhnUCjQqtbK9SUSzvrC0mmhhE1e2FS2+oxypy/ZASutkmtjx3vcBC24PX65nbqkBCRhfjS9kIYPnee8cMagVOhI/3T1fAmdtAWZsCswTJCkQVNa0qWKSKPOpHAUhD9DrbVcyoYkwqhvh17vYAayXLQyKGYdxlUDFp494rBXRjYgO17DDYetNIUj/ezp6S0lnlpEwsWmJMkOwsKXeZKEAjIHn0EQJISaRBcO6UMINz7p/bEjjnw4ft+xmDvksxX4G2rIris7qaeKwAFMP2Oi7n4criuZwtpSUwpfLxSnORSrIqusc5ZFaXysqRWjiZ2DyAWEIL35tVSoQElFACjOeGGSE7AHEQgdo/LSvCOgGBvkxsmDbvlS3Fp5vhaB2TAGqRKrKKMrhLVpaGzEVjZ0OQxDhaCTA+QyRR1d15aQzrJntL3RibsipjG6jlgL4yqbS0sNYg1e84vhbBVrElK64CUcWYXDfKxhpIuxiVJZUxsbMy/uRBKTNRQ4kQ3LdRYLS0rJjRPlTPqY6gdJsEDc+aQXAn+HgsNUCbRuF0Oj0zwnA7bWDkbhO5Ens00qeQhS1laBMl5M/cAaxsLF8rKyql+Tf7ELLEGu/ixiimdCvo0TjfpjKwaggen4eh5v7LokLKbLuyvHhcZG8dhGrEDx7Hg93ZppJF7qBqO3iVveXEDQNInzeoe8Yq6ePaZBZ2JviM3W2UAGotekRCAGq4EkF1X3DOnR11yRsBL1tRa0PVcZiNFXZ2c34FskvomInQQ6lzpJoZbJxk43NwKJFBquJSsrByHydxKOnTxQASBmS3j+JMnsHSla3Ec6K9VWoJVn9zfjwOM7hqYAAqJQwE2a3nA48J2QGegRkpZNivSY+ys3EkKd4oJIwsvIHl3cWgLt5k4NH6OmtLWdpurOkwEMupYc7eMtDRhOcI2ui5JhVIzXzLyto/GAPuZoyo8wkoduVgJglCt7OhGbgID4Mq4si+63zUS1FuFFXFlqyaj2emHlLMcBqYu0FMuR28BbB7lOxRMSiCQXFhCKuwkhZ+pYDiGSgbsKKV8MiSRsuHSIWM9rklRiIlZZuqXjsQK8ooYJMgq3JKWVkhHbhsVxFUzthOWPkYijcbx54IKsSdT+uLr3crGKyoYgFiGR9iBk4kfloUX+JIlQRQqabmpgnhqtpQpb6RVQ1WH5DnrS4hEoGZqaerQ2dhFbz8XePxShmDbo70eISjoorO2vK8SJXI4SUmEU4zWKDzUDtWTYw7xXlbSTEj4FRg7zKnKoGRALv0Gs9Tgc1BpCywGZRQAtqVz2xrBcAMzEpfZwFSa2G5W0QBFjSMapWAEFa3HcGN7CxDzECyIkJ97qwrqWNTWVo876PPsjPkj2wvgroM5lLZKMETKVql/CvnWVFiFa/SzJUQwkoZsr67Y6vlSRV3/2tmNTOY3vnaxYwMuoPKqdzR1w7IqHymlPxaAThfU7Ko2ZXYj4AYJHL+kNdKwRQYESTRa5fsUZ/rVC1TMTyWVyYoqNtuzaHsMyv2tvoarxdfqwYgU1axFo/cnql1FGsqK+uAROV8BX4GU8WcZTATi2q7Qcyi0O0V+GhWBMNRUkn8H1SsWVE5By3Gi0ECqUeJoBfAtDa4amkdXG37AGP5Ggeb84p7UazpoKRzdFzeQ8HkoHGxprKy/Hpm5t12p47J6xTYDEz7uINEXSuxYXvFskYAc+ySxH9sf5ftKzU6IbwVBcUGg5e5FMCEXSErZR0wGayV19woM9guPjTqJdVTqR4uE4nJnLldWVkECCZLd2VLF+xtamex7IpiriSDUpvrpn9lrwGMCHyppMH+ps6LILsuFGUj1XEOXiqbqSHPUKnClpWV68kqtURVNDY4TNaocykoYeTU5ngGEQa/S1DnnE4AeXMcKjHPAmFVjCBENaeyLVNHfr3px8xUstJ94hIpfH4HKE/eDaArK6lSyVVFbdt1gxTIVk3pppVlFXi4pEhVBTObquohU85MLXn1iahvUkHJjSCMc01tLFveVVBx0DodM6jftCu7DOtIzYxrc0qp1JGP2ayYFz2Gb6HvMrO8cnGtV6Gjm3uImSfD2GpWK6uowbZGMxFKQCo1pOMtcMXFpRst+hXGoAomF3sSTBGgTglbBKWwsQ3tZqaYSp0Z1CimRDWFcCJUPYJ00BI5FkKYNoifuQxmN88SWVXWLMaUqqqgC0BmQJR6sk3u9NCf6jYLXxAfqsYEgVLAhRY2AtgtflZNFmFyhxdrLkAdWlk4D88M2ixHyepIdhMHrG/iR1ZGtq0MGpbDbRPYOXeSY1M6Ny4ZstvGSktK+XbFPATj2D371saPEsAMXhXrsZ0km/XStkhhMyBfsa6uXFZe2VCe+YMr1+GKgwrQyNYq1VRrB+EizAow6NsdNKcyVEkYeM73ys6q4kAHp6BiFklTkIrVC5oYV7uzwOGCz4UJ0Stq2lWMJy4wtb+RetL6tZFicnJmBw5UjCvXXMZVJX2MQkbf+XN5EWd78Vz8/JEsMZTBiKNzsm1inLRUQ74H4NidaqI68j5sAFgxcRveC7ieLJXfQYxjZZ2CsiWFewZXJmBIlZ1tdtrX4hSuateKso/RZOtOKW2nmq1oTzeK6dRWAWu2NRVb4hq0SXm1GvtugHrbr5IXqmSktg5CuDE2MSlPwsY5kNE2Wp3AqiZbWVLAxiBF+2iBZbuNj6MB6rsMLC7FyasaYDyo7KkoPyEtw3pEMXfPvxAJi2jAQQgjrz0rLIZSWZlIoNhwd5xK4AR9mYNjWAaLrnuImJeBVN9zBORObVvbr+mTTfFSEJLSRnHo7hEJoIi8MFqjxmvgmF5URZz4zLFgZZ8Ctu2X7ggVccKm9gVxIsOHqxXgNMKnFWZYnf1dBnOhayXq17QwFlWW09eNKyVJFmXqaONGA5aCegMbJ3UUkGY1ic3nKWgjq8qfVYGQG1gRt6rs62a6HiqqUOqdesK5NmX4nGofJoiE1d0dF9lVVkvT1/kEEaaCoYOwFpcVcoLM+7669PxC9rWqktH0sWUYld0VCpuBZ/stVRcGgy9WX2+U1Qthi9SzAqSxzZsy+OiFzBYnySGV6Gku44rD8BCOZBV3BvD5+AKRHNwMEsB6EzHnJpkTAeiUlEGkcECeB6GDZTp5YEJTlvdrknxYjTllMkfNtXwDjM7uVjK5JXUUn43rrqpK2jytaxHW0M5G8DC8rtHMYs7KSgduVQMGTYFqFvVS6rkD3sDJ46afdYFwoq11AOKCBLhvwoUgc8IGANycR6knZrdJPdsuxnyjfd3FovTlRMdEdtOl5CMV5EHsXQBis7TOwvIDZaGj2Vnpbh7cpK63VwYEMLwqbjzyl699sawFFkF1yqjUU31HfC6sW1ZFVFuXVXVgz9keEaw0ys1lWfm+azQAQSWA+hKYVfsZjPncAcUB9oIayy/UZXRNckDGji77GsWbvBo6tPrWPqOyVkBUq+INeqpzNdYs/u0ifh5qmpqIW+33JVSUcwY70KL4U9lYdU6ljtSls7lmfi9g3YzeQfVkaGFaV3ODCnaD2N8wsEDFklE3RzM3ZghdYkWHsszq70FIecnKkVkt8ezMzRq9bkGuKojRLBVSod3Y1yPqKgYW7JRQTPVyy5xIYLjOgxgT52RKJUY1dOrIiRd4futQx/A5AcSmEjz0vFWrkLzvbWAu9HOWbGgxFk1VNTpnBKk6TgwisI/HcxYXP1uAWO72ULFlBTq+aSu2VTUs6hrxM2CF+hEor1VIA9ZmFUaab1lSSgZsVs4sxzHlVLoJHr9H4DhONTkI1XC0/wiY2NoWAG5RlnHFnq6oLccpQddMuJ/O17JVA5OHLi0BqCztq7Y1++ucCd98qLI8MIHBV/cKjxQTme3hFBS3MyCqnDsuym2o80HjvFFTtrURmNaGJsmVahImjTsUXKtQZTAVs7Mvv8/+fzUrZAXcLJ6M4koe6XP0b6SmWWNDzyUpQ8bl+LtWx4tuqZ36cRYV3yuVxPNwvIiqiQCSmu7srgTzR6nkyhpCarXwFy1vGd5iP2cY06lFr5Njhhg1Y6+NB28ftbK83s8rf7kLJbKwDFPbLg25a0AdZJEiqr5phixKMDlRUtcssq1hriLqGoH+zeNgVm9OemjsETV8JdF0NHnkIFxWY1OB4Yrp7rtWJ7NgAAAPXklEQVQ3oNs5nplyVf8u2FoLu1JrHveaZWQjqAkshtFa2gzsSG3Zpkbvg3HafF9slPPlldjFlK80Gysm8Mr4MPhneNWENPGjAIpmilTPATdTRTXlCBYHYAQuPwA36xIpWtGN4q3Y2MhiGsUpuSSnlEJRD8PorC7CFYVw+F51qThgabxsTxWzCGY0ZSsb3lfqAy0OPNjNy8xiQQKsHYFQ2HBZVvVbBuq3m1oWKajqaonsM6uZUr6CjXWNZ0l5E3h3jURma6kP3MJIiy1Lm+kahQq41N2iZja5sjtlLYNZHZrH6qUGm4vMbDp6Rw2CFmvuyFkrBcCyMtFqBaECmsHoK9BZ2LA/lJcRqSaDqnaWbrZdGaz3DLgIvBln4woGztbyJGqslwxkhhHrTjTYFXCtOoKS8uLdofVdAbOylGU6nlYpXWZts4nXBq6WxJitMNokHUJnbnJplQm+aGpY2a5GMV2QD1hRubBPFKdumf5OHkLHz0F9luE5kjBjRa0nFE5CUGqHw32MmjZ6xkgINVnSnZ1VZStK2qKlRaLlQgK7uTq7JFXJwM+3SOEKyhZNI+tJ0I5qMYy9k2qJD7dVWdqKXa0CKNR0Ccjg+B2IYu2fcBZJZkMFgM11r0X92wilghFGgzVnexlqB7xL9mS29SiYUVY2nXOZjNBRsyDsQPRWW5hrZ4XcdC4HVWRbjgJr4sFofK5SzjQ7rhI1UebdPdEbj6sqIvTZQZ5va08rABsAW0UxeWytAk7A2KJ9ZpxzCioB24XFtYAeXYxr6anSqhLgppEqWbGwLunTgrV+IjWlL29ljaAl4EQMGsErp4apeZiquwRXLXAqOCeru32mmydc6oWTSWpFAGdzeTB8RTHVMEtlM90CbbQCYhPjq3egYr1FGdYIQjiuDGZ5zZ/AzobKGOyLxti6c4Rwtv2anyWlLICnlLhxJRXt6A5ebDBWFNONbxWZ2d02mnu4S9YECpeppV1zSWRBWxHYzVIv1CXSouwqqX3jBBBDZdYQbpTQW4ZQlS8r5kH4suSRmg2++3JN10x1PaAmEkmtYlEdeGpJEM6kOuCqCR22oSujj5IV2HdT0zj5prLKTjXFAPjdQlyq7xIBxAQP5yMczG4VxAKw0n6ilZ2QBce2pLulkuxxqnoIzFfgqyqjil9S1VNwBrFmeyeops8yOjZUybZdfS8CuaTIJumzs5tODaNtLpFDQ/PcJGweLhmeL1nB0KqiUDScsiUVD89Di3HtrKtSULw3RLiygZD+7sF8JTObgYsrGvDNUFRGl1iy0Ll1YkUc2aJYMog920I8qW6YDCg1Mqk0JHJFKXkbgbRreI+qpYNOZHrVcDUba7pjsphSJNtK6upgRNAVoOS0mugBeN4bIZgHhuPZ/s1ENaX6KsVr+YNrh1Nb7ipR0PE5zbNRegCbrHRUw6Yf07dLBJl1f8KB9as2V1nNqAsl62LBBhehwalerkHmB1JFIEZKSEusdl5JQj1nJlHXSCF342gJ9CYGrXelknJIXqVP8sD+qtplCR3XH2qfKq0ygMp+KnVkKxNlZ8m2YkIlVMiCnXUwl7qznBKSvQz3m3Pt6oQbXO5b5FixCh/fHxUQW/AEcK6zCNqKQnL9sywqmKuwvqSYzT/aPVNNpVyhvRW21aqciCsjdWvBwILUvh5VyCzbWoC1pJjJ680CWsl+udKB6T5RwG1mlohnlpbg47iz5U9ha0FGtmRLFYBtO99y97Ap0z+ZDTAog6kSLZsMHg/IFkkgp6CpvU2U0cYVSdnmkjwBdOmXbxTWNWzuIbipMioVxEckZEoahSOiy2M3K0jcC1LhVDwaqG0ZvkcWqCnrG4GIxykrqlbWdw6LQyBaZR8HmLRIhQWsHswD42ZXVLNkf9l+FlW0HVQ2lwFsC/Z1FdzlQR0KaPfo+Fdfu+/dwVRICu1CGR7AEIiAhc+AZUF0kOBaPxmUqg4i64vQnU4nFDYJ9Nz+1fVXveH9qmr+kPILx8oKcRV/BFbxbE0JMT0kSD4w6L/lNY8ocsqagVdU3A3MjxhxcGuqzsPH4irpaow1q6OyrVjvp9Npc59E91LldboYVzJWdimWfAW2SNEKcDaX2FmBLLA/uKxlmhh613Is1URQApbKfttwxL02q6Onx5pQxSbPojAg+v5hAnN6LHVRDXIsvKtRjiS0qJUyZTAXVbAK82ElFJWaQdVoqUC1Unt7BVaTQudM6SuqexjQJN4+0icaxv/utbKv83ETbT8H8gjcOKxOJmbUa6OOVXht3dFY6rHv9XoNzFLceEA1o8+pKm0LAHPHZ2rYKjFq0hfZFixsqHJgD3eD5n+U0kb1mFjXkn2lvMSSOsNE/CdIAKF0Sytq6urOHUN5gwg4GZosgbmggM5ucra2qrS2Ig1cbiBBcxYzgzUDNLCvL8GbZXNp6ORy3LmS+Kk83zRIAK6A1ioKa2I9NapIuiUFdfC9766PFZUtqUr6KbWk+zZU1a/ZrIXEztrjTOfz7hwKziCeXIaraHtbZIMz+2pGgazCmw4qWAFvEdhodYp0Xq0pV7G1YWYWbO4qhGq42+Z8BYtrLWvluNPpZAeaFFS1vubPgbgxsqcpnAaszBovKaFoDQ8BGtjfUOl4NAG2nmQV04feJgumvX2fsrQEWZghL0JnVdYkn3DOZIeRN86RqPWCmsvGVqEMRnwxQAxwS8EMYo3IzmY2+BCcLp4MKiuyuhImamlbZFcNoNl7tp+RHd18ZjQIRKyXdFRhN98/hyKqwXWNo7O1wiaXoHN108REZZWEq6grnIfjzeg8jdRf1XEL4kkXa5bBjKxoKaljBjeHlVxQ4GaycpW4lDOAKtnTxHAtOfzOtZwHAM7sqVXkV6yu6kap1nHkXKqWF/4XHqjenNKqBjpR3l1ch3Ejg1+EsgdQhsdG0B4FM9sWAVWpuAyiwTPleZxt9VyZVS2qXfReWqTAilpr9ApoWTjxymit7NwV4JTriZyOA9B0k7HFfULourmKYHVnRQvqGL5HMHdqFcR2qWpmcK6eTwx2dipWrviDilr+fKWq3OWRWdHKwA4eu8wjchbeRzFilqjjZN3ufCpfkJ0/scVpnYk6L0PI77lxdWCZ87WiWm7B/AGquQSnujGKsB8CJmiJq8q1pKIVWyqOiTK66r18BN8r74/AE71fdC3yPS2MxdOpnE1tlVxD9JmVOoggN+r4PjAXVFPa3Eg5jVJGFVUGNolH20GVrUB7BOySWq6WqYQdWR92pcFMYMwckbSgCKCqD67DiiWu1g8MQC9ByfcFqW1L+jL714qNCuznoSxt0da2gtWN1G8F0BK0NN0nuimelUF9dIdAfjO44UT3CjQLoUeLHJFTO3gmpRuIIOvwBQCbqNeo3qtZ9iF6xVK13GRlo4zqimq+CGdTiR1uRY8oqgE02hZBa79kZXPMquxRHKla2saZWN4mRqZUj0vLCKhkjKnqOQHNuSZVJoKvAqS1wpEquvWDC1B2ypwrCPsRMEPVTODMLJMDv6qeKXwi2JYV5Sq4qKyvgGsHCLiuj2jR59V8gMqSJ2FJZRXEHVRHj3sFPrct6OpqlW1GpatQdt0GvwfM6n63InsGVFhJGaBqgqqIV6IsXllZgySPq4R3bnt3wi5cv+cN2yqQLW1T95KYVsWWtKk4cB9W53WQQflQYR6Wl4HaJZjvVE0D5yvq+RKgZCs5qdBEP5sD94cAvQLlSgNaSMAtHx88BuNQ41zdFsX30zKbcs0MLD/ihkpQzl0wiTqKLTfbKmCmyYICnK0IbaieC4CG9iSyLQ7cIMGQwau6TKoq60Apl3WN40LZpca1CKKK9VQyyIEn8w0F8F6CL2h8o3ixGwC7s7EWzCOqmcApYxYD4jsAzVS0sl2t98pA7vrKophCVSonbYpgH6mvSn24pTBV4sdtV3BtMq5k82y+IADvUJ0uAlkCVTxIaPm+UNu/qkV4F1TzHXCGrXIAqItBKypqK99VtAOVs64O4ObX7pHLVCpYHcRmwvLR7TvYAKBBN58LGVzDuFz+hQbWgncQyCZAk+VbsPSouf93261iZgmfCpwRbAvqmSqriU2PwhjaoOyYqtIegVXViTsmyta6bGySpY3gyRrpIyAeaWDDxtpsXwKyalMDKNP7YBXMqEskUsi2uC8FNAPxAKTVfT1o6VzM0E0jF+1rWcUuHvdyg7vgoFplX8HpvHpMCOMRUPHzZkInsqlFKNX/EIO52E0SxSzOwob2VmRLW5D1XIU0rbgM1AzWgyC7fe8G7xUAK/taEBat7luqtyP7EmsaJQOj5F+mrnZfCuYCfBUAWwShyd6pMY/vAHG1UqOYpbI/gy5T0CMKm+UO3gFuC85dgfDVeguPDfITrIBLsLrcgdh3CFgFZjaKJ4Iv3F8ANEqvuxR1tVKOgLoCa1jxboBAkj6v7j/icFbA7f4rfRnQDLRViG13i0vqBQrYVqBbADZT0ZpiHoSzvQpopKIFS3sE1HfBWlHXd0H7LnArqvougMtljHBgZnh3Eoz/BKjLML4Z2Aq0+hEJr9jaVUBbvNzCIUiroC7AWmmFw4o5AK3MtB5VypZMSFgs05JyGVwlwBqsEGAAa2ZU1CjUexXGsE4rKriilBvFzOKKo3AuAroE6QFQU3u8YpNXwS5k+1TZt5UrwouN4KiUEw+k3ZWDp1RXHNRqXb21Ts39945yZSg3VnZFNQ9CF3XeZyr5DgBXKiwCMa2MxeTDYXgP1Fsf9QNKZc0k81RJk3r6EQ3rCmBVyLL75EjZ1pIVDHoFtiOAHoB0BdTVylqBsKKKS+AeBXJVLY+CXASuGvO/Auq7GuEjDfGKg1oKa1z/dmmi9I9SUGNhl0AtfulHAawoYrnSkmNXAVuGEhrEVXvUF+A5Ct2PqNOjDetyna4CmeUolmeXLN4Aq7C5Sj10Q7yjgl+t6CNxSRHmI5X+CpwreYB3Qfdqna4q21KdBuc4GoZsn49ZOOiVinwHqK9WzjvgeweEh2AU5+vtxZ9Cd9Wqkh49V18E5oj6vVyn0RStAyGIO5edXRKd5B0VGVXq2yr3xYp+5Ut+C4QJ4P1N339pQMjRejj4vb/Dcr6rQc3O/0rjmtZpeYCBiCHfCemRbNhbK/pNUPc3wfKy5f2D7OlL3/uPhve/oU4T0F8f+VNM2vyoiv0jK+KHQfdHq+0bncz4oz73/+Y6LbKw1o/5B7eOf1Rl/0du9B9tn/9bvrf/j+v0h6ttn2tp/r/4819y4/zv5391uvzzfwDifz6phT1MPgAAAABJRU5ErkJggg==)}.color-picker .cp-add-color-button-class{position:absolute;display:inline;padding:0;margin:3px -3px;border:0;cursor:pointer;background:transparent}.color-picker .cp-add-color-button-class:hover{text-decoration:underline}.color-picker .cp-add-color-button-class:disabled{cursor:not-allowed;color:#999}.color-picker .cp-add-color-button-class:disabled:hover{text-decoration:none}.color-picker .cp-remove-color-button-class{position:absolute;top:-5px;right:-5px;display:block;width:10px;height:10px;border-radius:50%;cursor:pointer;text-align:center;background:#fff;box-shadow:1px 1px 5px #333}.color-picker .cp-remove-color-button-class:before{content:"x";position:relative;bottom:3.5px;display:inline-block;font-size:10px}.color-picker .eyedropper-icon{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);fill:#fff;mix-blend-mode:exclusion}\n'],encapsulation:2}),e})(),j=(()=>{class e{constructor(e,t,i,o,r,s){this.injector=e,this.cfr=t,this.appRef=i,this.vcRef=o,this.elRef=r,this._service=s,this.dialogCreated=!1,this.ignoreChanges=!1,this.viewAttachedToAppRef=!1,this.cpWidth="230px",this.cpHeight="auto",this.cpToggle=!1,this.cpDisabled=!1,this.cpIgnoredElements=[],this.cpFallbackColor="",this.cpColorMode="color",this.cpCmykEnabled=!1,this.cpOutputFormat="auto",this.cpAlphaChannel="enabled",this.cpDisableInput=!1,this.cpDialogDisplay="popup",this.cpSaveClickOutside=!0,this.cpCloseClickOutside=!0,this.cpUseRootViewContainer=!1,this.cpPosition="auto",this.cpPositionOffset="0%",this.cpPositionRelativeToArrow=!1,this.cpOKButton=!1,this.cpOKButtonText="OK",this.cpOKButtonClass="cp-ok-button-class",this.cpCancelButton=!1,this.cpCancelButtonText="Cancel",this.cpCancelButtonClass="cp-cancel-button-class",this.cpEyeDropper=!1,this.cpPresetLabel="Preset colors",this.cpPresetColorsClass="cp-preset-colors-class",this.cpMaxPresetColorsLength=6,this.cpPresetEmptyMessage="No colors added",this.cpPresetEmptyMessageClass="preset-empty-message",this.cpAddColorButton=!1,this.cpAddColorButtonText="Add color",this.cpAddColorButtonClass="cp-add-color-button-class",this.cpRemoveColorButtonClass="cp-remove-color-button-class",this.cpInputChange=new n.vpe(!0),this.cpToggleChange=new n.vpe(!0),this.cpSliderChange=new n.vpe(!0),this.cpSliderDragEnd=new n.vpe(!0),this.cpSliderDragStart=new n.vpe(!0),this.colorPickerOpen=new n.vpe(!0),this.colorPickerClose=new n.vpe(!0),this.colorPickerCancel=new n.vpe(!0),this.colorPickerSelect=new n.vpe(!0),this.colorPickerChange=new n.vpe(!1),this.cpCmykColorChange=new n.vpe(!0),this.cpPresetColorsChange=new n.vpe(!0)}handleClick(){this.inputFocus()}handleFocus(){this.inputFocus()}handleInput(e){this.inputChange(e)}ngOnDestroy(){null!=this.cmpRef&&(this.viewAttachedToAppRef&&this.appRef.detachView(this.cmpRef.hostView),this.cmpRef.destroy(),this.cmpRef=null,this.dialog=null)}ngOnChanges(e){e.cpToggle&&!this.cpDisabled&&(e.cpToggle.currentValue?this.openDialog():e.cpToggle.currentValue||this.closeDialog()),e.colorPicker&&(this.dialog&&!this.ignoreChanges&&("inline"===this.cpDialogDisplay&&this.dialog.setInitialColor(e.colorPicker.currentValue),this.dialog.setColorFromString(e.colorPicker.currentValue,!1),this.cpUseRootViewContainer&&"inline"!==this.cpDialogDisplay&&this.cmpRef.changeDetectorRef.detectChanges()),this.ignoreChanges=!1),(e.cpPresetLabel||e.cpPresetColors)&&this.dialog&&this.dialog.setPresetConfig(this.cpPresetLabel,this.cpPresetColors)}openDialog(){if(this.dialogCreated)this.dialog&&this.dialog.openDialog(this.colorPicker);else{let e=this.vcRef;if(this.dialogCreated=!0,this.viewAttachedToAppRef=!1,this.cpUseRootViewContainer&&"inline"!==this.cpDialogDisplay){const t=this.injector.get(this.appRef.componentTypes[0],n.zs3.NULL);t!==n.zs3.NULL?e=t.vcRef||t.viewContainerRef||this.vcRef:this.viewAttachedToAppRef=!0}const t=this.cfr.resolveComponentFactory(Y);if(this.viewAttachedToAppRef)this.cmpRef=t.create(this.injector),this.appRef.attachView(this.cmpRef.hostView),document.body.appendChild(this.cmpRef.hostView.rootNodes[0]);else{const i=n.zs3.create({providers:[],parent:e.injector});this.cmpRef=e.createComponent(t,0,i,[])}this.cmpRef.instance.setupDialog(this,this.elRef,this.colorPicker,this.cpWidth,this.cpHeight,this.cpDialogDisplay,this.cpFallbackColor,this.cpColorMode,this.cpCmykEnabled,this.cpAlphaChannel,this.cpOutputFormat,this.cpDisableInput,this.cpIgnoredElements,this.cpSaveClickOutside,this.cpCloseClickOutside,this.cpUseRootViewContainer,this.cpPosition,this.cpPositionOffset,this.cpPositionRelativeToArrow,this.cpPresetLabel,this.cpPresetColors,this.cpPresetColorsClass,this.cpMaxPresetColorsLength,this.cpPresetEmptyMessage,this.cpPresetEmptyMessageClass,this.cpOKButton,this.cpOKButtonClass,this.cpOKButtonText,this.cpCancelButton,this.cpCancelButtonClass,this.cpCancelButtonText,this.cpAddColorButton,this.cpAddColorButtonClass,this.cpAddColorButtonText,this.cpRemoveColorButtonClass,this.cpEyeDropper,this.elRef,this.cpExtraTemplate),this.dialog=this.cmpRef.instance,this.vcRef!==e&&this.cmpRef.changeDetectorRef.detectChanges()}}closeDialog(){this.dialog&&"popup"===this.cpDialogDisplay&&this.dialog.closeDialog()}cmykChanged(e){this.cpCmykColorChange.emit(e)}stateChanged(e){this.cpToggleChange.emit(e),e?this.colorPickerOpen.emit(this.colorPicker):this.colorPickerClose.emit(this.colorPicker)}colorChanged(e,t=!0){this.ignoreChanges=t,this.colorPickerChange.emit(e)}colorSelected(e){this.colorPickerSelect.emit(e)}colorCanceled(){this.colorPickerCancel.emit()}inputFocus(){const e=this.elRef.nativeElement,t=this.cpIgnoredElements.filter(t=>t===e);!this.cpDisabled&&!t.length&&("undefined"!=typeof document&&e===document.activeElement?this.openDialog():this.dialog&&this.dialog.show?this.closeDialog():this.openDialog())}inputChange(e){this.dialog?this.dialog.setColorFromString(e.target.value,!0):(this.colorPicker=e.target.value,this.colorPickerChange.emit(this.colorPicker))}inputChanged(e){this.cpInputChange.emit(e)}sliderChanged(e){this.cpSliderChange.emit(e)}sliderDragEnd(e){this.cpSliderDragEnd.emit(e)}sliderDragStart(e){this.cpSliderDragStart.emit(e)}presetColorsChanged(e){this.cpPresetColorsChange.emit(e)}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(n.zs3),n.Y36(n._Vd),n.Y36(n.z2F),n.Y36(n.s_b),n.Y36(n.SBq),n.Y36(W))},e.\u0275dir=n.lG2({type:e,selectors:[["","colorPicker",""]],hostBindings:function(e,t){1&e&&n.NdJ("click",function(){return t.handleClick()})("focus",function(){return t.handleFocus()})("input",function(e){return t.handleInput(e)})},inputs:{colorPicker:"colorPicker",cpWidth:"cpWidth",cpHeight:"cpHeight",cpToggle:"cpToggle",cpDisabled:"cpDisabled",cpIgnoredElements:"cpIgnoredElements",cpFallbackColor:"cpFallbackColor",cpColorMode:"cpColorMode",cpCmykEnabled:"cpCmykEnabled",cpOutputFormat:"cpOutputFormat",cpAlphaChannel:"cpAlphaChannel",cpDisableInput:"cpDisableInput",cpDialogDisplay:"cpDialogDisplay",cpSaveClickOutside:"cpSaveClickOutside",cpCloseClickOutside:"cpCloseClickOutside",cpUseRootViewContainer:"cpUseRootViewContainer",cpPosition:"cpPosition",cpPositionOffset:"cpPositionOffset",cpPositionRelativeToArrow:"cpPositionRelativeToArrow",cpOKButton:"cpOKButton",cpOKButtonText:"cpOKButtonText",cpOKButtonClass:"cpOKButtonClass",cpCancelButton:"cpCancelButton",cpCancelButtonText:"cpCancelButtonText",cpCancelButtonClass:"cpCancelButtonClass",cpEyeDropper:"cpEyeDropper",cpPresetLabel:"cpPresetLabel",cpPresetColors:"cpPresetColors",cpPresetColorsClass:"cpPresetColorsClass",cpMaxPresetColorsLength:"cpMaxPresetColorsLength",cpPresetEmptyMessage:"cpPresetEmptyMessage",cpPresetEmptyMessageClass:"cpPresetEmptyMessageClass",cpAddColorButton:"cpAddColorButton",cpAddColorButtonText:"cpAddColorButtonText",cpAddColorButtonClass:"cpAddColorButtonClass",cpRemoveColorButtonClass:"cpRemoveColorButtonClass",cpExtraTemplate:"cpExtraTemplate"},outputs:{cpInputChange:"cpInputChange",cpToggleChange:"cpToggleChange",cpSliderChange:"cpSliderChange",cpSliderDragEnd:"cpSliderDragEnd",cpSliderDragStart:"cpSliderDragStart",colorPickerOpen:"colorPickerOpen",colorPickerClose:"colorPickerClose",colorPickerCancel:"colorPickerCancel",colorPickerSelect:"colorPickerSelect",colorPickerChange:"colorPickerChange",cpCmykColorChange:"cpCmykColorChange",cpPresetColorsChange:"cpPresetColorsChange"},exportAs:["ngxColorPicker"],features:[n.TTD]}),e})(),X=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({providers:[W],imports:[[o.ez]]}),e})()}},function(e){e(e.s=4632)}]);